(()=>{var e={59804:(e,t,s)=>{"use strict";s.r(t);var n={};s.r(n),s.d(n,{BackButton:()=>dl,Content:()=>ll,MenuButton:()=>ul,Outer:()=>il,Slot:()=>cl,SubtitleText:()=>hl,TitleText:()=>ml});var o={};s.r(o),s.d(o,{BUTTON_VISUAL_ALIGNMENT_OFFSET:()=>xa,CENTER_COLUMN_OFFSET:()=>ya,Center:()=>wl,Content:()=>bl,HEADER_SLOT_SIZE:()=>_a,Header:()=>n,KeyboardAwareContent:()=>vl,SCROLLBAR_OFFSET:()=>fa,SCROLLBAR_OFFSET_POSITIVE:()=>ga,Screen:()=>_l});s(54993),s(5809);window.setImmediate=e=>setTimeout(e,0);var r=s(37895),i=s(15991),a=s(9362);const l=JSON.parse('{"name":"bsky.app","version":"1.103.0","private":true,"engines":{"node":">=20"},"packageManager":"yarn@1.22.22","expo":{"autolinking":{"android":{"buildFromSource":["expo-notifications","expo-haptics","expo-media-library"]}}},"scripts":{"prepare":"is-ci || husky install","postinstall":"patch-package && yarn intl:compile","prebuild":"expo prebuild --clean","android":"expo run:android","android:prod":"expo run:android --variant release","android:profile":"BSKY_PROFILE=1 expo run:android --variant release","ios":"expo run:ios","web":"expo start --web","use-build-number":"./scripts/useBuildNumberEnv.sh","use-build-number-with-bump":"./scripts/useBuildNumberEnvWithBump.sh","build-web":"expo export:web && node ./scripts/post-web-build.js","build-all":"yarn intl:build && yarn use-build-number-with-bump eas build --platform all","build-ios":"yarn use-build-number-with-bump eas build -p ios","build-android":"yarn use-build-number-with-bump eas build -p android","build":"yarn use-build-number-with-bump eas build","build-embed":"cd bskyembed && yarn build && yarn build-snippet && cd .. && node ./scripts/post-embed-build.js","start":"expo start --dev-client","start:prod":"expo start --dev-client --no-dev --minify","test":"NODE_ENV=test jest --forceExit --testTimeout=20000 --bail","test-watch":"NODE_ENV=test jest --watchAll","test-ci":"NODE_ENV=test jest --ci --forceExit --reporters=default --reporters=jest-junit","test-coverage":"NODE_ENV=test jest --coverage","lint":"eslint --cache --ext .js,.jsx,.ts,.tsx src","lint-native":"swiftlint ./modules && ktlint ./modules","lint-native:fix":"swiftlint --fix ./modules && ktlint --format ./modules","typecheck":"tsc --project ./tsconfig.check.json","e2e:mock-server":"NODE_ENV=development ./jest/dev-infra/with-test-redis-and-db.sh ts-node --project tsconfig.e2e.json __e2e__/mock-server.ts","e2e:metro":"EXPO_PUBLIC_ENV=e2e NODE_ENV=test RN_SRC_EXT=e2e.ts,e2e.tsx expo run:ios","e2e:metro-android":"EXPO_PUBLIC_ENV=e2e NODE_ENV=test RN_SRC_EXT=e2e.ts,e2e.tsx expo run:android","e2e:run":"maestro test __e2e__","perf:test":"NODE_ENV=test maestro test","perf:test:run":"NODE_ENV=test maestro test __e2e__/perf-test.yml","perf:test:measure":"NODE_ENV=test flashlight test --bundleId xyz.blueskyweb.app --testCommand \\"yarn perf:test\\" --duration 150000 --resultsFilePath .perf/results.json","perf:test:results":"NODE_ENV=test flashlight report .perf/results.json","perf:measure":"NODE_ENV=test flashlight measure","intl:build":"yarn intl:extract:all && yarn intl:compile","intl:extract":"lingui extract --clean --locale en","intl:extract:all":"lingui extract --clean","intl:compile":"lingui compile","intl:pull":"crowdin download translations --verbose -b main","intl:push":"crowdin push translations --verbose -b main","nuke":"rm -rf ./node_modules && rm -rf ./ios && rm -rf ./android","update-extensions":"bash scripts/updateExtensions.sh","export":"npx expo export --dump-sourcemap && yarn upload-native-sourcemaps","upload-native-sourcemaps":"npx sentry-expo-upload-sourcemaps dist","make-deploy-bundle":"bash scripts/bundleUpdate.sh","generate-webpack-stats-file":"EXPO_PUBLIC_GENERATE_STATS=1 yarn build-web","open-analyzer":"EXPO_PUBLIC_OPEN_ANALYZER=1 yarn build-web","icons:optimize":"svgo -f ./assets/icons"},"dependencies":{"@atproto/api":"^0.15.9","@bitdrift/react-native":"^0.6.8","@braintree/sanitize-url":"^6.0.2","@discord/bottom-sheet":"bluesky-social/react-native-bottom-sheet","@emoji-mart/react":"^1.1.1","@expo/html-elements":"^0.12.4","@expo/webpack-config":"^19.0.1","@floating-ui/dom":"^1.6.3","@floating-ui/react-dom":"^2.0.8","@formatjs/intl-locale":"^4.2.8","@formatjs/intl-numberformat":"^8.15.1","@formatjs/intl-pluralrules":"^5.4.1","@fortawesome/fontawesome-svg-core":"^6.1.1","@fortawesome/free-regular-svg-icons":"^6.1.1","@fortawesome/free-solid-svg-icons":"^6.1.1","@fortawesome/react-native-fontawesome":"^0.3.2","@haileyok/bluesky-video":"0.2.6","@ipld/dag-cbor":"^9.2.0","@lingui/react":"^4.14.1","@mattermost/react-native-paste-input":"^0.7.1","@miblanchard/react-native-slider":"^2.3.1","@mozzius/expo-dynamic-app-icon":"^1.5.0","@react-native-async-storage/async-storage":"2.1.2","@react-native-menu/menu":"^1.2.3","@react-native-picker/picker":"2.11.0","@react-navigation/bottom-tabs":"^6.5.20","@react-navigation/drawer":"^6.6.15","@react-navigation/native":"^6.1.17","@react-navigation/native-stack":"^6.9.26","@sentry/react-native":"~6.10.0","@tanstack/query-async-storage-persister":"^5.25.0","@tanstack/react-query":"^5.8.1","@tanstack/react-query-persist-client":"^5.25.0","@tiptap/core":"^2.9.1","@tiptap/extension-document":"^2.9.1","@tiptap/extension-hard-break":"^2.9.1","@tiptap/extension-history":"^2.9.1","@tiptap/extension-mention":"^2.9.1","@tiptap/extension-paragraph":"^2.9.1","@tiptap/extension-placeholder":"^2.9.1","@tiptap/extension-text":"^2.9.1","@tiptap/html":"^2.9.1","@tiptap/pm":"^2.9.1","@tiptap/react":"^2.9.1","@tiptap/suggestion":"^2.9.1","@types/invariant":"^2.2.37","@types/lodash.throttle":"^4.1.9","@types/node":"^20.14.3","@zxing/text-encoding":"^0.9.0","array.prototype.findlast":"^1.2.3","await-lock":"^2.2.2","babel-plugin-transform-remove-console":"^6.9.4","base64-js":"^1.5.1","bcp-47":"^2.1.0","bcp-47-match":"^2.0.3","date-fns":"^2.30.0","deprecated-react-native-prop-types":"^5.0.0","email-validator":"^2.0.4","emoji-mart":"^5.5.2","emoji-regex":"^10.4.0","eventemitter3":"^5.0.1","expo":"^53.0.5","expo-application":"~6.1.4","expo-blur":"~14.1.4","expo-build-properties":"~0.14.6","expo-camera":"~16.1.6","expo-clipboard":"~7.1.4","expo-dev-client":"~5.1.7","expo-device":"~7.1.4","expo-file-system":"~18.1.8","expo-font":"~13.3.0","expo-haptics":"~14.1.4","expo-image":"~2.1.6","expo-image-crop-tool":"^0.1.8","expo-image-manipulator":"~13.1.5","expo-image-picker":"~16.1.4","expo-linear-gradient":"~14.1.4","expo-linking":"~7.1.4","expo-localization":"~16.1.5","expo-media-library":"~17.1.6","expo-notifications":"~0.31.1","expo-screen-orientation":"~8.1.5","expo-sharing":"~13.1.5","expo-splash-screen":"~0.30.8","expo-system-ui":"~5.0.7","expo-task-manager":"~13.1.5","expo-updates":"~0.28.12","expo-video":"~2.1.8","expo-web-browser":"~14.1.6","fast-text-encoding":"^1.0.6","history":"^5.3.0","hls.js":"^1.6.2","js-sha256":"^0.9.0","jwt-decode":"^4.0.0","lande":"^1.0.10","lodash.chunk":"^4.2.0","lodash.debounce":"^4.0.8","lodash.isequal":"^4.5.0","lodash.shuffle":"^4.2.0","lodash.throttle":"^4.1.1","multiformats":"9.9.0","nanoid":"^5.0.5","normalize-url":"^8.0.0","patch-package":"^6.5.1","postinstall-postinstall":"^2.1.0","psl":"^1.9.0","radix-ui":"^1.2.0","react":"19.0.0","react-compiler-runtime":"^19.1.0-rc.1","react-dom":"19.0.0","react-image-crop":"^11.0.7","react-is":"19","react-keyed-flatten-children":"^5.0.0","react-native":"0.79.2","react-native-compressor":"1.11.0","react-native-date-picker":"^5.0.12","react-native-drawer-layout":"^4.1.6","react-native-edge-to-edge":"^1.6.0","react-native-gesture-handler":"2.25.0","react-native-get-random-values":"~1.11.0","react-native-ios-context-menu":"^1.15.3","react-native-keyboard-controller":"^1.17.1","react-native-mmkv":"^2.12.2","react-native-pager-view":"6.7.1","react-native-progress":"bluesky-social/react-native-progress","react-native-qrcode-styled":"^0.3.3","react-native-reanimated":"~3.17.5","react-native-root-siblings":"^4.1.1","react-native-safe-area-context":"5.4.0","react-native-screens":"~4.10.0","react-native-svg":"15.11.2","react-native-uitextview":"^1.4.0","react-native-url-polyfill":"^1.3.0","react-native-uuid":"^2.0.3","react-native-view-shot":"^4.0.3","react-native-web":"~0.20.0","react-native-web-webview":"^1.0.2","react-native-webview":"13.13.5","react-remove-scroll-bar":"^2.3.8","react-responsive":"^9.0.2","react-textarea-autosize":"^8.5.3","rn-fetch-blob":"^0.12.0","statsig-react-native-expo":"^4.6.1","tippy.js":"^6.3.7","tlds":"^1.234.0","tldts":"^6.1.46","zeego":"^1.6.2","zod":"^3.20.2"},"devDependencies":{"@atproto/dev-env":"^0.3.133","@babel/core":"^7.26.0","@babel/preset-env":"^7.26.0","@babel/runtime":"^7.26.0","@expo/config-plugins":"~10.0.2","@lingui/cli":"^4.14.1","@lingui/macro":"^4.14.1","@pmmmwh/react-refresh-webpack-plugin":"^0.5.15","@react-native/eslint-config":"^0.79.2","@react-native/typescript-config":"^0.79.2","@sentry/webpack-plugin":"^3.2.2","@testing-library/jest-native":"^5.4.3","@testing-library/react-native":"^13.2.0","@types/jest":"^29.4.0","@types/lodash.chunk":"^4.2.7","@types/lodash.debounce":"^4.0.7","@types/lodash.isequal":"^4.5.6","@types/lodash.shuffle":"^4.2.7","@types/psl":"^1.1.1","@types/react-dom":"^19.1.2","@types/react-responsive":"^8.0.5","@typescript-eslint/eslint-plugin":"^7.18.0","@typescript-eslint/parser":"^7.18.0","babel-jest":"^29.7.0","babel-plugin-macros":"^3.1.0","babel-plugin-module-resolver":"^5.0.2","babel-plugin-react-compiler":"^19.1.0-rc.1","babel-preset-expo":"~13.1.11","eslint":"^8.19.0","eslint-plugin-bsky-internal":"link:./eslint","eslint-plugin-ft-flow":"^2.0.3","eslint-plugin-import":"^2.31.0","eslint-plugin-lingui":"^0.2.0","eslint-plugin-react":"^7.33.2","eslint-plugin-react-compiler":"^19.1.0-rc.1","eslint-plugin-react-native-a11y":"^3.3.0","eslint-plugin-simple-import-sort":"^12.0.0","file-loader":"6.2.0","husky":"^8.0.3","is-ci":"^3.0.1","jest":"^29.7.0","jest-expo":"~53.0.3","jest-junit":"^16.0.0","lint-staged":"^13.2.3","lockfile-lint":"^4.14.0","metro-react-native-babel-preset":"^0.77.0","prettier":"^2.8.3","react-native-dotenv":"^3.4.11","react-refresh":"^0.14.0","svgo":"^3.3.2","ts-node":"^10.9.1","typescript":"~5.8.3","webpack-bundle-analyzer":"^4.10.1"},"resolutions":{"@expo/image-utils":"0.6.3","@react-native/babel-preset":"0.79.2","@react-native/normalize-colors":"0.79.2","@types/react":"^18","**/expo-constants":"17.0.3","**/expo-device":"7.0.1","**/zod":"3.23.8","**/multiformats":"9.9.0"},"jest":{"preset":"jest-expo/ios","setupFilesAfterEnv":["./jest/jestSetup.js"],"moduleFileExtensions":["ts","tsx","js","jsx","json","node"],"transform":{"\\\\.[jt]sx?$":"babel-jest"},"transformIgnorePatterns":["node_modules/(?!((jest-)?react-native|@react-native(-community)?)|@discord|expo(nent)?|@expo(nent)?/.*|@expo-google-fonts/.*|react-navigation|nanoid|@react-navigation/.*|@unimodules/.*|unimodules|sentry-expo|native-base|normalize-url|react-native-svg|@sentry/.*|sentry-expo|bcp-47-match)"],"modulePathIgnorePatterns":["__tests__/.*/__mocks__","__e2e__/.*"],"coveragePathIgnorePatterns":["<rootDir>/node_modules/","<rootDir>/src/platform","<rootDir>/src/third-party","<rootDir>/src/view/com/util","<rootDir>/src/state/lib","<rootDir>/__tests__/test-utils.js"],"reporters":["default","jest-junit"]},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"lint-staged":{"*{.js,.jsx,.ts,.tsx}":["eslint --cache --fix"],"*{.js,.jsx,.ts,.tsx,.css}":["prettier --cache --write --ignore-unknown"],"assets/icons/*.svg":["svgo"]},"lockfile-lint":{"path":"yarn.lock","allowedHosts":["npm","yarn"],"allowedSchemes":["https:"],"allowedPackageNameAliases":["@babel/traverse--for-generate-function-map:@babel/traverse","string-width-cjs:string-width","strip-ansi-cjs:strip-ansi","wrap-ansi-cjs:wrap-ansi"],"allowedUrls":["https://codeload.github.com/bluesky-social/react-native-bottom-sheet/tar.gz/28a87d1bb55e10fc355fa1455545a30734995908","https://codeload.github.com/bluesky-social/react-native-progress/tar.gz/5a372f4f2ce5feb26f4f47b6a4d187ab9b923ab4"],"emptyHostname":false,"validatePackageNames":true,"validateIntegrity":true}}'),c={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.SENTRY_RELEASE||l.version,d={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.SENTRY_DIST||"dev";(0,a.init)({enabled:!!{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.SENTRY_DSN,autoSessionTracking:!1,dsn:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.SENTRY_DSN,debug:!1,environment:"production",dist:d,release:c,ignoreErrors:["t is not defined","Can't find variable: t","Network request failed"]});var u=s(41770),m=s(3563),h=s(91035),p=s(84322),f=s(74708),g=s(26633),x=s(21705),_=s(69601),y=s(70513),b=s(94045),j=s(45420),v=s(62220),w=s(23226),S=s(59372),k=s(41668),C=s(32840),P=s(85692),T=s(85804),L=s(97315),A=s(31254),I=s(9107),R=s(29628),D=s(56610),F=s(2724),E=s(48327),M=s(94319),B=s(26586),O=s(49817),z=s(9978),H=s(2895),N=s(73653),V=s(98933),q=s(32177),U=s(2481),W=s(63971),Z=s(4423),Q=s(40242),K=s(60990),$=s(56962),G=s(73344),Y=s(71541),J=s(56382),X=s(39838),ee=s(79423),te=s(63128),se=s(67058),ne=s(12592),oe=s(42670),re=s(43611),ie=s(12606),ae=s(23910),le=s(45067),ce=s(39028),de=s(48919),ue=s(86251),me=s(58765),he=s(57578),pe=s(42445),fe=s(61385),ge=s(80466),xe=s(36037),_e=s(68911),ye=s(37905),be=s(62479),je=s(96328),ve=s(56904),we=s(99313),Se=s(17096),ke=s(27771),Ce=s(90680),Pe=s(26155),Te=s(66386),Le=s(8252),Ae=s(67458),Ie=s(73862),Re=s(29068),De=s(89240),Fe=s(46030),Ee=s(5765),Me=s(18917),Be=s(4717),Oe=s(71079),ze=s(83012),He=s(44062),Ne=s(64070),Ve=s(40547),qe=s(19075),Ue=s(70333),We=s(22788),Ze=s(71927),Qe=s(26712),Ke=s(42254),$e=s(10934),Ge=s(20479),Ye=s(64676),Je=s(23719),Xe=s(82299),et=s(11892),tt=s(82612),st=s(46887),nt=s(61382),ot=s(73343),rt=s(3535),it=s(97474),at=s(8187),lt=s(6206),ct=s(51428),dt=s(1833),ut=s(36861);u.library.add(m.faAddressCard,O.faAngleDown,z.faAngleLeft,H.faAngleRight,N.faAngleUp,q.faArrowLeft,U.faArrowRight,$.faArrowUp,V.faArrowDown,W.faArrowRightFromBracket,G.faArrowUpFromBracket,Y.faArrowUpRightFromSquare,Z.faArrowRotateLeft,K.faArrowTrendUp,Q.faArrowsRotate,J.faAt,X.faBan,ee.faBars,te.faBell,h.faBell,se.faBookmark,p.faBookmark,f.faCalendar,ne.faCamera,oe.faCheck,ie.faChevronRight,g.faCircle,ae.faCircleCheck,x.faCircleCheck,le.faCircleDot,ce.faCircleExclamation,_.faCirclePlay,y.faCircleUser,de.faClipboardCheck,ue.faClone,b.faClone,j.faComment,v.faCommentDots,me.faCommentSlash,w.faComments,S.faCompass,he.faDownload,pe.faEllipsis,fe.faEnvelope,xe.faEye,ge.faExclamation,k.faEyeSlash,C.faFaceSmile,ye.faFire,be.faFlask,P.faFloppyDisk,je.faGear,ve.faGlobe,we.faHand,T.faHand,Se.faHashtag,L.faHeart,ke.faHeart,Ce.faHouse,Pe.faImage,A.faImage,Te.faInfo,Le.faLanguage,Ae.faLink,Ie.faList,Re.faListUl,De.faLock,Fe.faMagnifyingGlass,I.faMessage,Ee.faNoteSticky,Me.faPaintRoller,R.faPaste,Be.faPause,Oe.faPen,ze.faPenNib,He.faPenToSquare,Ne.faPhone,Ve.faPlay,qe.faPlus,Ue.faQuoteLeft,We.faReply,Ze.faRetweet,Qe.faRss,Ke.faSatelliteDish,$e.faServer,Ge.faShare,Ye.faShareFromSquare,Je.faShield,Xe.faSignal,et.faSliders,D.faSquare,F.faSquareCheck,E.faSquarePlus,nt.faUniversalAccess,B.faUser,it.faUsers,ot.faUserCheck,at.faUserSlash,rt.faUserPlus,ct.faUserXmark,lt.faUsersSlash,tt.faThumbtack,st.faTicket,M.faTrashCan,dt.faX,ut.faXmark,re.faChevronDown,_e.faFilter);var mt=s(95004),ht=s(26334),pt=s(69052),ft=s(96963),gt=s(43549),xt=s(73481),_t=s(25705),yt=s(51010),bt=s(88745),jt=s(17908),vt=s(34667);const wt=!1,St=!1,kt=wt||St,Ct=wt?"ios":St?"android":"web",Pt=!kt,Tt=Pt&&s.g.window.matchMedia("only screen and (max-width: 1300px)")?.matches,Lt=Pt&&/iPhone/.test(navigator.userAgent);var At=s(58895);const It=new At.default;function Rt(){It.emit("soft-reset")}function Dt(e){return It.on("soft-reset",e),()=>It.off("soft-reset",e)}var Ft=s(2629);const Et="labelers-detailed-info",Mt=[Et];let Bt=!1,Ot=!1,zt=!1;var Ht;let Nt;function Vt(){Nt||(Bt=!1,Ot=!1,Nt=async function(){try{const e=new AbortController;setTimeout((()=>{e.abort()}),15e3);const t=await fetch("https://public.api.bsky.app/xrpc/_health",{cache:"no-store",signal:e.signal});return!!(await t.json()).version}catch(e){return!1}}().then((e=>{Nt=void 0,e&&Bt&&(zt=!0),!e&&Ot&&(zt=!0),zt||yt.onlineManager.setOnline(e)})))}Ht=()=>{Bt=!0,yt.onlineManager.setOnline(!1)},It.on("network-lost",Ht),function(e){It.on("network-confirmed",e)}((()=>{Ot=!0,yt.onlineManager.setOnline(!0)})),setInterval((()=>{"active"===gt.default.currentState&&(yt.onlineManager.isOnline()&&!zt||Vt())}),2e3),bt.focusManager.setEventListener((e=>{if(kt){const e=gt.default.addEventListener("change",(e=>{bt.focusManager.setFocused("active"===e)}));return()=>e.remove()}if(window.addEventListener){const t=()=>e();return window.addEventListener("focus",t,!1),window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t),window.removeEventListener("focus",t)}}}));const qt=()=>new jt.QueryClient({defaultOptions:{queries:{refetchOnWindowFocus:!1,structuralSharing:!1,retry:!1}}}),Ut={shouldDehydrateMutation:e=>!1,shouldDehydrateQuery:e=>Mt.includes(String(e.queryKey[0]))};function Wt(e){const t=(0,i.c)(3),{children:s,currentDid:n}=e;let o;return t[0]!==s||t[1]!==n?(o=(0,Ft.jsx)(Zt,{currentDid:n,children:s},n),t[0]=s,t[1]=n,t[2]=o):o=t[2],o}function Zt({children:e,currentDid:t}){const s=(0,mt.useRef)(t);if(t!==s.current)throw Error("Something is very wrong. Expected did to be stable due to key above.");const[n,o]=(0,mt.useState)((()=>qt())),[r,i]=(0,mt.useState)((()=>({persister:(0,_t.createAsyncStoragePersister)({storage:xt.default,key:"queryClient-"+(t??"logged-out")}),dehydrateOptions:Ut})));return(0,Ft.jsx)(vt.PersistQueryClientProvider,{client:n,persistOptions:r,children:e})}var Qt=s(71979);const Kt=!1,$t={NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BUNDLE_IDENTIFIER??"dev",Gt=Number({NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_BUNDLE_DATE),Yt=l.version,Jt=`${$t} (prod)`;var Xt=s(62421);let es=[];function ts(){}let ss=function(e){return e.Default="logger",e.Session="session",e.Notifications="notifications",e.ConversationAgent="conversation-agent",e.DMsAgent="dms-agent",e.ReportDialog="report-dialog",e.Metric="metric",e}({}),ns=function(e){return e.Debug="debug",e.Info="info",e.Log="log",e.Warn="warn",e.Error="error",e}({});const os={[ns.Debug]:[ns.Debug,ns.Info,ns.Log,ns.Warn,ns.Error],[ns.Info]:[ns.Info,ns.Log,ns.Warn,ns.Error],[ns.Log]:[ns.Log,ns.Warn,ns.Error],[ns.Warn]:[ns.Warn,ns.Error],[ns.Error]:[ns.Error]};function rs(e){return Object.keys(e).reduce(((t,s)=>{let n=e[s];return n instanceof Error&&(n=n.toString()),Object.assign({},t,{[s]:n})}),{})}const is={[ns.Debug]:function(){},[ns.Info]:ts,[ns.Log]:ts,[ns.Warn]:function(){},[ns.Error]:function(){}},as=(e,t,s,n)=>{(0,is[e])(s.toString(),Object.assign({__context__:t},rs(n)))};s(84624);var ls=s(63366),cs=s(17789);function ds(e){return e?("string"!==typeof e&&(e=e.toString()),ms(e)?cs.i18n._({id:"ItUNqU"}):e.includes("Upstream Failure")||e.includes("NotEnoughResources")||e.includes("pipethrough network error")?cs.i18n._({id:"ZdWWqK"}):e.includes("Bad token scope")?cs.i18n._({id:"rSmG+g"}):e.startsWith("Error: ")?e.slice(7):e):""}const us=["Abort","Network request failed","Failed to fetch","Load failed"];function ms(e){const t=String(e);for(const s of us)if(t.includes(s))return!0;return!1}const hs=["type","tags"],ps=(e,t,s,n,o)=>{let{type:r,tags:i}=n,l=(0,ls.default)(n,hs);const c=Object.assign({__context__:t},rs(l));let d=i||{};if(d=Object.assign({category:t},i),"string"===typeof s){const n={[ns.Debug]:"debug",[ns.Info]:"info",[ns.Log]:"log",[ns.Warn]:"warning",[ns.Error]:"error"}[e];if(a.addBreadcrumb({category:t,message:s,data:c,type:r||"default",level:n,timestamp:o/1e3}),ms(s))return;"error"!==e&&"warn"!==e&&"log"!==e||function(e,t){fs.push([e,t]),gs||(gs=setTimeout((()=>{gs=null,function(){for(;fs.length>0;){const e=fs.shift();e&&a.captureMessage(e[0],e[1])}}()}),7e3))}(s,{level:n,tags:d,extra:c})}else a.captureException(s,{tags:d,extra:c})},fs=[];let gs=null;const xs=[ps,kt&&as].filter(Boolean);class _s{static Level=ns;static Context=ss;context=void 0;contextFilter="";debugContextRegexes=[];transports=[];static create(e){const t=new _s({level:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_LEVEL,context:e,contextFilter:{NODE_ENV:"production",PUBLIC_URL:"",APP_MANIFEST:{version:"1.103.0",name:"Bluesky",slug:"bluesky",scheme:"bluesky",owner:"blueskysocial",runtimeVersion:{policy:"appVersion"},icon:"./assets/app-icons/ios_icon_default_light.png",userInterfaceStyle:"automatic",primaryColor:"#1083fe",androidStatusBar:{barStyle:"light-content",backgroundColor:"#0c7cff"},androidNavigationBar:{barStyle:"light-content"},web:{},updates:{url:"https://updates.bsky.app/manifest",enabled:!1,fallbackToCacheTimeout:3e4,checkAutomatically:"NEVER"},extra:{eas:{build:{experimental:{ios:{appExtensions:[{targetName:"Share-with-Bluesky",bundleIdentifier:"xyz.blueskyweb.app.Share-with-Bluesky",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyNSE",bundleIdentifier:"xyz.blueskyweb.app.BlueskyNSE",entitlements:{"com.apple.security.application-groups":["group.app.bsky"]}},{targetName:"BlueskyClip",bundleIdentifier:"xyz.blueskyweb.app.AppClip"}]}}},projectId:"55bd077a-d905-4184-9c7f-94789ba0f302"}},sdkVersion:"53.0.0",platforms:["ios","android","web"]},EXPO_DEBUG:!1,PLATFORM:"web",WDS_SOCKET_PATH:"/_expo/ws",CI:"true"}.EXPO_PUBLIC_LOG_DEBUG||""});for(const s of xs)t.addTransport(s);return t}constructor({level:e,context:t,contextFilter:s}={}){this.context=t,this.level=e||ns.Info,this.contextFilter=s||"",this.contextFilter&&(this.level=ns.Debug),this.debugContextRegexes=(this.contextFilter||"").split(",").map((e=>new RegExp(e.replace(/[^\w:*-]/,"").replace(/\*/g,".*"))))}debug(e,t={}){this.transport({level:ns.Debug,message:e,metadata:t})}info(e,t={}){this.transport({level:ns.Info,message:e,metadata:t})}log(e,t={}){this.transport({level:ns.Log,message:e,metadata:t})}warn(e,t={}){this.transport({level:ns.Warn,message:e,metadata:t})}error(e,t={}){this.transport({level:ns.Error,message:e,metadata:t})}metric(e,t,s={statsig:!1}){En(e,t,{lake:!s.statsig});for(const n of this.transports)n(ns.Info,ss.Metric,e,t,Date.now())}addTransport(e){return this.transports.push(e),()=>{this.transports.splice(this.transports.indexOf(e),1)}}transport({level:e,message:t,metadata:s={}}){if(e===ns.Debug&&this.contextFilter&&this.context&&!this.debugContextRegexes.find((e=>e.test(this.context))))return;const n=Date.now(),o=s||{};var r;if(r={id:(0,Xt.nanoid)(),timestamp:n,level:e,context:this.context,message:t,metadata:o},es.unshift(r),es=es.slice(0,500),os[this.level].includes(e))for(const i of this.transports)i(e,this.context,t,o,n)}}const ys=_s.create(_s.Context.Default);const bs="BroadcastChannel"in window?window.BroadcastChannel:class{constructor(e){this.name=e}postMessage(e){}close(){}onmessage=()=>{};addEventListener(e,t){}removeEventListener(e,t){}};var js=s(94833),vs=s(2854);function ws(e,t){return t[e]}function Ss(e){return[...new Set(e)]}function ks(e,t){if(e===t)return e;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime()?e:t;const s=Cs(e)&&Cs(t);if(s||Ps(e)&&Ps(t)){const n=s?e:Object.keys(e),o=n.length,r=s?t:Object.keys(t),i=r.length,a=s?[]:{};let l=0;for(let c=0;c<i;c++){const o=s?c:r[c];!s&&void 0===e[o]&&void 0===t[o]&&n.includes(o)?(a[o]=void 0,l++):(a[o]=ks(e[o],t[o]),a[o]===e[o]&&void 0!==e[o]&&l++)}return o===i&&l===o?e:a}return t}function Cs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Ps(e){if(!Ts(e))return!1;const t=e.constructor;if(void 0===t)return!0;const s=t.prototype;return!!Ts(s)&&!!s.hasOwnProperty("isPrototypeOf")}function Ts(e){return"[object Object]"===Object.prototype.toString.call(e)}const Ls=function(){const e=(0,vs.getLocales)?.()??[],t=[];for(const s of e)"string"===typeof s.languageCode&&("in"===s.languageCode&&(s.languageCode="id"),"iw"===s.languageCode&&(s.languageCode="he"),"ji"===s.languageCode&&(s.languageCode="yi")),"string"===typeof s.languageTag&&((s.languageTag.startsWith("zh-Hans")||"zh-CN"===s.languageTag)&&(s.languageTag="zh-Hans-CN"),(s.languageTag.startsWith("zh-Hant")||"zh-TW"===s.languageTag)&&(s.languageTag="zh-Hant-TW")),t.push(s);return t}(),As=Ss(Ls.map((e=>e.languageCode)));var Is=s(66949),Rs=s(78168),Ds=s(64154);function Fs(e,t){return t in e}let Es=function(e){return e.en="en",e.an="an",e.ast="ast",e.ca="ca",e.cy="cy",e.da="da",e.de="de",e.el="el",e.en_GB="en-GB",e.eo="eo",e.es="es",e.eu="eu",e.fi="fi",e.fr="fr",e.fy="fy",e.ga="ga",e.gd="gd",e.gl="gl",e.hi="hi",e.hu="hu",e.ia="ia",e.id="id",e.it="it",e.ja="ja",e.km="km",e.ko="ko",e.ne="ne",e.nl="nl",e.pl="pl",e.pt_BR="pt-BR",e.ro="ro",e.ru="ru",e.sv="sv",e.th="th",e.tr="tr",e.uk="uk",e.vi="vi",e.zh_CN="zh-Hans-CN",e.zh_HK="zh-Hant-HK",e.zh_TW="zh-Hant-TW",e}({});const Ms=[{code2:Es.en,name:"English"},{code2:Es.an,name:"Aragon\xe9s \u2013 Aragonese"},{code2:Es.ast,name:"Asturianu \u2013 Asturian"},{code2:Es.ca,name:"Catal\xe0 \u2013 Catalan"},{code2:Es.cy,name:"Cymraeg \u2013 Welsh"},{code2:Es.da,name:"Dansk \u2013 Danish"},{code2:Es.de,name:"Deutsch \u2013 German"},{code2:Es.el,name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac \u2013 Greek"},{code2:Es.en_GB,name:"English (UK)"},{code2:Es.eo,name:"Esperanto"},{code2:Es.es,name:"Espa\xf1ol \u2013 Spanish"},{code2:Es.eu,name:"Euskera \u2013 Basque"},{code2:Es.fi,name:"Suomi \u2013 Finnish"},{code2:Es.fr,name:"Fran\xe7ais \u2013 French"},{code2:Es.fy,name:"Frysk \u2013 Frisian"},{code2:Es.ga,name:"Gaeilge \u2013 Irish"},{code2:Es.gd,name:"G\xe0idhlig \u2013 Scottish Gaelic"},{code2:Es.gl,name:"Galego \u2013 Galician"},{code2:Es.hi,name:"\u0939\u093f\u0902\u0926\u0940 \u2013 Hindi"},{code2:Es.hu,name:"magyar \u2013 Hungarian"},{code2:Es.ia,name:"Interlingua"},{code2:Es.id,name:"Bahasa Indonesia \u2013 Indonesian"},{code2:Es.it,name:"Italiano \u2013 Italian"},{code2:Es.ja,name:"\u65e5\u672c\u8a9e \u2013 Japanese"},{code2:Es.km,name:"\u1797\u17b6\u179f\u17b6\u1781\u17d2\u1798\u17c2\u179a \u2013 Khmer"},{code2:Es.ko,name:"\ud55c\uad6d\uc5b4 \u2013 Korean"},{code2:Es.ne,name:"\u0928\u0947\u092a\u093e\u0932\u0940 \u2013 Nepali"},{code2:Es.nl,name:"Nederlands \u2013 Dutch"},{code2:Es.pl,name:"Polski \u2013 Polish"},{code2:Es.pt_BR,name:"Portugu\xeas (BR) \u2013 Portuguese (BR)"},{code2:Es.ro,name:"Rom\xe2n\u0103 \u2013 Romanian"},{code2:Es.ru,name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439 \u2013 Russian"},{code2:Es.sv,name:"Svenska \u2013 Swedish"},{code2:Es.th,name:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22 \u2013 Thai"},{code2:Es.tr,name:"T\xfcrk\xe7e \u2013 Turkish"},{code2:Es.uk,name:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430 \u2013 Ukrainian"},{code2:Es.vi,name:"Ti\u1ebfng Vi\u1ec7t \u2013 Vietnamese"},{code2:Es.zh_CN,name:"\u7b80\u4f53\u4e2d\u6587 \u2013 Simplified Chinese"},{code2:Es.zh_TW,name:"\u7e41\u9ad4\u4e2d\u6587 \u2013 Traditional Chinese"},{code2:Es.zh_HK,name:"\u7cb5\u6587 \u2013 Cantonese"}],Bs=[{code3:"aar",code2:"aa",name:"Afar"},{code3:"abk",code2:"ab",name:"Abkhazian"},{code3:"ace",code2:"",name:"Achinese"},{code3:"ach",code2:"",name:"Acoli"},{code3:"ada",code2:"",name:"Adangme"},{code3:"ady",code2:"",name:"Adyghe; Adygei"},{code3:"afa",code2:"",name:"Afro-Asiatic languages"},{code3:"afh",code2:"",name:"Afrihili"},{code3:"afr",code2:"af",name:"Afrikaans"},{code3:"ain",code2:"",name:"Ainu"},{code3:"aka",code2:"ak",name:"Akan"},{code3:"akk",code2:"",name:"Akkadian"},{code3:"alb",code2:"sq",name:"Albanian"},{code3:"ale",code2:"",name:"Aleut"},{code3:"alg",code2:"",name:"Algonquian languages"},{code3:"alt",code2:"",name:"Southern Altai"},{code3:"amh",code2:"am",name:"Amharic"},{code3:"ang",code2:"",name:"English, Old (ca.450-1100)"},{code3:"anp",code2:"",name:"Angika"},{code3:"apa",code2:"",name:"Apache languages"},{code3:"ara",code2:"ar",name:"Arabic"},{code3:"arc",code2:"",name:"Official Aramaic (700-300 BCE); Imperial Aramaic (700-300 BCE)"},{code3:"arg",code2:"an",name:"Aragonese"},{code3:"arm",code2:"hy",name:"Armenian"},{code3:"arn",code2:"",name:"Mapudungun; Mapuche"},{code3:"arp",code2:"",name:"Arapaho"},{code3:"art",code2:"",name:"Artificial languages"},{code3:"arw",code2:"",name:"Arawak"},{code3:"asm",code2:"as",name:"Assamese"},{code3:"ast",code2:"",name:"Asturian; Bable; Leonese; Asturleonese"},{code3:"ath",code2:"",name:"Athapascan languages"},{code3:"aus",code2:"",name:"Australian languages"},{code3:"ava",code2:"av",name:"Avaric"},{code3:"ave",code2:"ae",name:"Avestan"},{code3:"awa",code2:"",name:"Awadhi"},{code3:"aym",code2:"ay",name:"Aymara"},{code3:"aze",code2:"az",name:"Azerbaijani"},{code3:"bad",code2:"",name:"Banda languages"},{code3:"bai",code2:"",name:"Bamileke languages"},{code3:"bak",code2:"ba",name:"Bashkir"},{code3:"bal",code2:"",name:"Baluchi"},{code3:"bam",code2:"bm",name:"Bambara"},{code3:"ban",code2:"",name:"Balinese"},{code3:"baq",code2:"eu",name:"Basque"},{code3:"bas",code2:"",name:"Basa"},{code3:"bat",code2:"",name:"Baltic languages"},{code3:"bej",code2:"",name:"Beja; Bedawiyet"},{code3:"bel",code2:"be",name:"Belarusian"},{code3:"bem",code2:"",name:"Bemba"},{code3:"ben",code2:"bn",name:"Bengali"},{code3:"ber",code2:"",name:"Berber languages"},{code3:"bho",code2:"",name:"Bhojpuri"},{code3:"bih",code2:"bh",name:"Bihari languages"},{code3:"bik",code2:"",name:"Bikol"},{code3:"bin",code2:"",name:"Bini; Edo"},{code3:"bis",code2:"bi",name:"Bislama"},{code3:"bla",code2:"",name:"Siksika"},{code3:"bnt",code2:"",name:"Bantu languages"},{code3:"bod",code2:"bo",name:"Tibetan"},{code3:"bos",code2:"bs",name:"Bosnian"},{code3:"bra",code2:"",name:"Braj"},{code3:"bre",code2:"br",name:"Breton"},{code3:"btk",code2:"",name:"Batak languages"},{code3:"bua",code2:"",name:"Buriat"},{code3:"bug",code2:"",name:"Buginese"},{code3:"bul",code2:"bg",name:"Bulgarian"},{code3:"bur",code2:"my",name:"Burmese"},{code3:"byn",code2:"",name:"Blin; Bilin"},{code3:"cad",code2:"",name:"Caddo"},{code3:"cai",code2:"",name:"Central American Indian languages"},{code3:"car",code2:"",name:"Galibi Carib"},{code3:"cat",code2:"ca",name:"Catalan-Valencian"},{code3:"cau",code2:"",name:"Caucasian languages"},{code3:"ceb",code2:"",name:"Cebuano"},{code3:"cel",code2:"",name:"Celtic languages"},{code3:"ces",code2:"cs",name:"Czech"},{code3:"cha",code2:"ch",name:"Chamorro"},{code3:"chb",code2:"",name:"Chibcha"},{code3:"che",code2:"ce",name:"Chechen"},{code3:"chg",code2:"",name:"Chagatai"},{code3:"chi",code2:"zh",name:"Chinese"},{code3:"chk",code2:"",name:"Chuukese"},{code3:"chm",code2:"",name:"Mari"},{code3:"chn",code2:"",name:"Chinook jargon"},{code3:"cho",code2:"",name:"Choctaw"},{code3:"chp",code2:"",name:"Chipewyan; Dene Suline"},{code3:"chr",code2:"",name:"Cherokee"},{code3:"chu",code2:"cu",name:"Church Slavic"},{code3:"chv",code2:"cv",name:"Chuvash"},{code3:"chy",code2:"",name:"Cheyenne"},{code3:"cmc",code2:"",name:"Chamic languages"},{code3:"cnr",code2:"",name:"Montenegrin"},{code3:"cop",code2:"",name:"Coptic"},{code3:"cor",code2:"kw",name:"Cornish"},{code3:"cos",code2:"co",name:"Corsican"},{code3:"cpe",code2:"",name:"Creoles and pidgins, English based"},{code3:"cpf",code2:"",name:"Creoles and pidgins, French-based"},{code3:"cpp",code2:"",name:"Creoles and pidgins, Portuguese-based"},{code3:"cre",code2:"cr",name:"Cree"},{code3:"crh",code2:"",name:"Crimean Tatar; Crimean Turkish"},{code3:"crp",code2:"",name:"Creoles and pidgins"},{code3:"csb",code2:"",name:"Kashubian"},{code3:"cus",code2:"",name:"Cushitic languages"},{code3:"cym",code2:"cy",name:"Welsh"},{code3:"cze",code2:"cs",name:"Czech"},{code3:"dak",code2:"",name:"Dakota"},{code3:"dan",code2:"da",name:"Danish"},{code3:"dar",code2:"",name:"Dargwa"},{code3:"day",code2:"",name:"Land Dayak languages"},{code3:"del",code2:"",name:"Delaware"},{code3:"den",code2:"",name:"Slave (Athapascan)"},{code3:"deu",code2:"de",name:"German"},{code3:"dgr",code2:"",name:"Dogrib"},{code3:"din",code2:"",name:"Dinka"},{code3:"div",code2:"dv",name:"Divehi; Dhivehi; Maldivian"},{code3:"doi",code2:"",name:"Dogri"},{code3:"dra",code2:"",name:"Dravidian languages"},{code3:"dsb",code2:"",name:"Lower Sorbian"},{code3:"dua",code2:"",name:"Duala"},{code3:"dum",code2:"",name:"Dutch, Middle (ca.1050-1350)"},{code3:"dut",code2:"nl",name:"Dutch; Flemish"},{code3:"dyu",code2:"",name:"Dyula"},{code3:"dzo",code2:"dz",name:"Dzongkha"},{code3:"efi",code2:"",name:"Efik"},{code3:"egy",code2:"",name:"Egyptian (Ancient)"},{code3:"eka",code2:"",name:"Ekajuk"},{code3:"ell",code2:"el",name:"Greek"},{code3:"elx",code2:"",name:"Elamite"},{code3:"eng",code2:"en",name:"English"},{code3:"enm",code2:"",name:"English, Middle (1100-1500)"},{code3:"epo",code2:"eo",name:"Esperanto"},{code3:"est",code2:"et",name:"Estonian"},{code3:"eus",code2:"eu",name:"Basque"},{code3:"ewe",code2:"ee",name:"Ewe"},{code3:"ewo",code2:"",name:"Ewondo"},{code3:"fan",code2:"",name:"Fang"},{code3:"fao",code2:"fo",name:"Faroese"},{code3:"fas",code2:"fa",name:"Persian"},{code3:"fat",code2:"",name:"Fanti"},{code3:"fij",code2:"fj",name:"Fijian"},{code3:"fil",code2:"",name:"Filipino; Pilipino"},{code3:"fin",code2:"fi",name:"Finnish"},{code3:"fiu",code2:"",name:"Finno-Ugrian languages"},{code3:"fon",code2:"",name:"Fon"},{code3:"fra",code2:"fr",name:"French"},{code3:"fre",code2:"fr",name:"French"},{code3:"frm",code2:"",name:"French, Middle (ca.1400-1600)"},{code3:"fro",code2:"",name:"French, Old (842-ca.1400)"},{code3:"frr",code2:"",name:"Northern Frisian"},{code3:"frs",code2:"",name:"Eastern Frisian"},{code3:"fry",code2:"fy",name:"Western Frisian"},{code3:"ful",code2:"ff",name:"Fulah"},{code3:"fur",code2:"",name:"Friulian"},{code3:"gaa",code2:"",name:"Ga"},{code3:"gay",code2:"",name:"Gayo"},{code3:"gba",code2:"",name:"Gbaya"},{code3:"gem",code2:"",name:"Germanic languages"},{code3:"geo",code2:"ka",name:"Georgian"},{code3:"ger",code2:"de",name:"German"},{code3:"gez",code2:"",name:"Geez"},{code3:"gil",code2:"",name:"Gilbertese"},{code3:"gla",code2:"gd",name:"Gaelic; Scottish Gaelic"},{code3:"gle",code2:"ga",name:"Irish"},{code3:"glg",code2:"gl",name:"Galician"},{code3:"glv",code2:"gv",name:"Manx"},{code3:"gmh",code2:"",name:"German, Middle High (ca.1050-1500)"},{code3:"goh",code2:"",name:"German, Old High (ca.750-1050)"},{code3:"gon",code2:"",name:"Gondi"},{code3:"gor",code2:"",name:"Gorontalo"},{code3:"got",code2:"",name:"Gothic"},{code3:"grb",code2:"",name:"Grebo"},{code3:"grc",code2:"",name:"Ancient Greek"},{code3:"gre",code2:"el",name:"Greek"},{code3:"grn",code2:"gn",name:"Guarani"},{code3:"gsw",code2:"",name:"Swiss German; Alemannic; Alsatian"},{code3:"guj",code2:"gu",name:"Gujarati"},{code3:"gwi",code2:"",name:"Gwich'in"},{code3:"hai",code2:"",name:"Haida"},{code3:"hat",code2:"ht",name:"Haitian; Haitian Creole"},{code3:"hau",code2:"ha",name:"Hausa"},{code3:"haw",code2:"",name:"Hawaiian"},{code3:"heb",code2:"he",name:"Hebrew"},{code3:"her",code2:"hz",name:"Herero"},{code3:"hil",code2:"",name:"Hiligaynon"},{code3:"him",code2:"",name:"Himachali languages; Western Pahari languages"},{code3:"hin",code2:"hi",name:"Hindi"},{code3:"hit",code2:"",name:"Hittite"},{code3:"hmn",code2:"",name:"Hmong; Mong"},{code3:"hmo",code2:"ho",name:"Hiri Motu"},{code3:"hrv",code2:"hr",name:"Croatian"},{code3:"hsb",code2:"",name:"Upper Sorbian"},{code3:"hun",code2:"hu",name:"Hungarian"},{code3:"hup",code2:"",name:"Hupa"},{code3:"hye",code2:"hy",name:"Armenian"},{code3:"iba",code2:"",name:"Iban"},{code3:"ibo",code2:"ig",name:"Igbo"},{code3:"ice",code2:"is",name:"Icelandic"},{code3:"ido",code2:"io",name:"Ido"},{code3:"iii",code2:"ii",name:"Sichuan Yi; Nuosu"},{code3:"ijo",code2:"",name:"Ijo languages"},{code3:"iku",code2:"iu",name:"Inuktitut"},{code3:"ile",code2:"ie",name:"Interlingue"},{code3:"ilo",code2:"",name:"Iloko"},{code3:"ina",code2:"ia",name:"Interlingua"},{code3:"inc",code2:"",name:"Indic languages"},{code3:"ind",code2:"id",name:"Indonesian"},{code3:"ine",code2:"",name:"Indo-European languages"},{code3:"inh",code2:"",name:"Ingush"},{code3:"ipk",code2:"ik",name:"Inupiaq"},{code3:"ira",code2:"",name:"Iranian languages"},{code3:"iro",code2:"",name:"Iroquoian languages"},{code3:"isl",code2:"is",name:"Icelandic"},{code3:"ita",code2:"it",name:"Italian"},{code3:"jav",code2:"jv",name:"Javanese"},{code3:"jbo",code2:"",name:"Lojban"},{code3:"jpn",code2:"ja",name:"Japanese"},{code3:"jpr",code2:"",name:"Judeo-Persian"},{code3:"jrb",code2:"",name:"Judeo-Arabic"},{code3:"kaa",code2:"",name:"Kara-Kalpak"},{code3:"kab",code2:"",name:"Kabyle"},{code3:"kac",code2:"",name:"Kachin; Jingpho"},{code3:"kal",code2:"kl",name:"Kalaallisut"},{code3:"kam",code2:"",name:"Kamba"},{code3:"kan",code2:"kn",name:"Kannada"},{code3:"kar",code2:"",name:"Karen languages"},{code3:"kas",code2:"ks",name:"Kashmiri"},{code3:"kat",code2:"ka",name:"Georgian"},{code3:"kau",code2:"kr",name:"Kanuri"},{code3:"kaw",code2:"",name:"Kawi"},{code3:"kaz",code2:"kk",name:"Kazakh"},{code3:"kbd",code2:"",name:"Kabardian"},{code3:"kha",code2:"",name:"Khasi"},{code3:"khi",code2:"",name:"Khoisan languages"},{code3:"khm",code2:"km",name:"Central Khmer"},{code3:"kho",code2:"",name:"Khotanese; Sakan"},{code3:"kik",code2:"ki",name:"Kikuyu; Gikuyu"},{code3:"kin",code2:"rw",name:"Kinyarwanda"},{code3:"kir",code2:"ky",name:"Kirghiz; Kyrgyz"},{code3:"kmb",code2:"",name:"Kimbundu"},{code3:"kok",code2:"",name:"Konkani"},{code3:"kom",code2:"kv",name:"Komi"},{code3:"kon",code2:"kg",name:"Kongo"},{code3:"kor",code2:"ko",name:"Korean"},{code3:"kos",code2:"",name:"Kosraean"},{code3:"kpe",code2:"",name:"Kpelle"},{code3:"krc",code2:"",name:"Karachay-Balkar"},{code3:"krl",code2:"",name:"Karelian"},{code3:"kro",code2:"",name:"Kru languages"},{code3:"kru",code2:"",name:"Kurukh"},{code3:"kua",code2:"kj",name:"Kuanyama; Kwanyama"},{code3:"kum",code2:"",name:"Kumyk"},{code3:"kur",code2:"ku",name:"Kurdish"},{code3:"kut",code2:"",name:"Kutenai"},{code3:"lad",code2:"",name:"Ladino"},{code3:"lah",code2:"",name:"Lahnda"},{code3:"lam",code2:"",name:"Lamba"},{code3:"lao",code2:"lo",name:"Lao"},{code3:"lat",code2:"la",name:"Latin"},{code3:"lav",code2:"lv",name:"Latvian"},{code3:"lez",code2:"",name:"Lezghian"},{code3:"lim",code2:"li",name:"Limburgish"},{code3:"lin",code2:"ln",name:"Lingala"},{code3:"lit",code2:"lt",name:"Lithuanian"},{code3:"lol",code2:"",name:"Mongo"},{code3:"loz",code2:"",name:"Lozi"},{code3:"ltz",code2:"lb",name:"Luxembourgish"},{code3:"lua",code2:"",name:"Luba-Lulua"},{code3:"lub",code2:"lu",name:"Luba-Katanga"},{code3:"lug",code2:"lg",name:"Ganda"},{code3:"lui",code2:"",name:"Luiseno"},{code3:"lun",code2:"",name:"Lunda"},{code3:"luo",code2:"",name:"Luo (Kenya and Tanzania)"},{code3:"lus",code2:"",name:"Lushai"},{code3:"mac",code2:"mk",name:"Macedonian"},{code3:"mad",code2:"",name:"Madurese"},{code3:"mag",code2:"",name:"Magahi"},{code3:"mah",code2:"mh",name:"Marshallese"},{code3:"mai",code2:"",name:"Maithili"},{code3:"mak",code2:"",name:"Makasar"},{code3:"mal",code2:"ml",name:"Malayalam"},{code3:"man",code2:"",name:"Mandingo"},{code3:"mao",code2:"mi",name:"Maori"},{code3:"map",code2:"",name:"Austronesian languages"},{code3:"mar",code2:"mr",name:"Marathi"},{code3:"mas",code2:"",name:"Masai"},{code3:"may",code2:"ms",name:"Malay"},{code3:"mdf",code2:"",name:"Moksha"},{code3:"mdr",code2:"",name:"Mandar"},{code3:"men",code2:"",name:"Mende"},{code3:"mga",code2:"",name:"Irish, Middle (900-1200)"},{code3:"mic",code2:"",name:"Mi'kmaq; Micmac"},{code3:"min",code2:"",name:"Minangkabau"},{code3:"mis",code2:"",name:"Uncoded languages"},{code3:"mkd",code2:"mk",name:"Macedonian"},{code3:"mkh",code2:"",name:"Mon-Khmer languages"},{code3:"mlg",code2:"mg",name:"Malagasy"},{code3:"mlt",code2:"mt",name:"Maltese"},{code3:"mnc",code2:"",name:"Manchu"},{code3:"mni",code2:"",name:"Manipuri"},{code3:"mno",code2:"",name:"Manobo languages"},{code3:"moh",code2:"",name:"Mohawk"},{code3:"mon",code2:"mn",name:"Mongolian"},{code3:"mos",code2:"",name:"Mossi"},{code3:"mri",code2:"mi",name:"Maori"},{code3:"msa",code2:"ms",name:"Malay"},{code3:"mul",code2:"",name:"Multiple languages"},{code3:"mun",code2:"",name:"Munda languages"},{code3:"mus",code2:"",name:"Creek"},{code3:"mwl",code2:"",name:"Mirandese"},{code3:"mwr",code2:"",name:"Marwari"},{code3:"mya",code2:"my",name:"Burmese"},{code3:"myn",code2:"",name:"Mayan languages"},{code3:"myv",code2:"",name:"Erzya"},{code3:"nah",code2:"",name:"Nahuatl languages"},{code3:"nai",code2:"",name:"North American Indian languages"},{code3:"nap",code2:"",name:"Neapolitan"},{code3:"nau",code2:"na",name:"Nauru"},{code3:"nav",code2:"nv",name:"Navajo"},{code3:"nbl",code2:"nr",name:"South Ndebele"},{code3:"nde",code2:"nd",name:"North Ndebele"},{code3:"ndo",code2:"ng",name:"Ndonga"},{code3:"nds",code2:"",name:"Low German; Low Saxon; German, Low; Saxon, Low"},{code3:"nep",code2:"ne",name:"Nepali"},{code3:"new",code2:"",name:"Nepal Bhasa; Newari"},{code3:"nia",code2:"",name:"Nias"},{code3:"nic",code2:"",name:"Niger-Kordofanian languages"},{code3:"niu",code2:"",name:"Niuean"},{code3:"nld",code2:"nl",name:"Dutch; Flemish"},{code3:"nno",code2:"nn",name:"Norwegian Nynorsk"},{code3:"nob",code2:"nb",name:"Norwegian Bokm\xe5l"},{code3:"nog",code2:"",name:"Nogai"},{code3:"non",code2:"",name:"Norse, Old"},{code3:"nor",code2:"no",name:"Norwegian"},{code3:"nqo",code2:"",name:"N'Ko"},{code3:"nso",code2:"",name:"Pedi; Sepedi; Northern Sotho"},{code3:"nub",code2:"",name:"Nubian languages"},{code3:"nwc",code2:"",name:"Classical Newari; Old Newari; Classical Nepal Bhasa"},{code3:"nya",code2:"ny",name:"Chichewa; Chewa; Nyanja"},{code3:"nym",code2:"",name:"Nyamwezi"},{code3:"nyn",code2:"",name:"Nyankole"},{code3:"nyo",code2:"",name:"Nyoro"},{code3:"nzi",code2:"",name:"Nzima"},{code3:"oci",code2:"oc",name:"Occitan (post 1500)"},{code3:"oji",code2:"oj",name:"Ojibwa"},{code3:"ori",code2:"or",name:"Oriya"},{code3:"orm",code2:"om",name:"Oromo"},{code3:"osa",code2:"",name:"Osage"},{code3:"oss",code2:"os",name:"Ossetic"},{code3:"ota",code2:"",name:"Turkish, Ottoman (1500-1928)"},{code3:"oto",code2:"",name:"Otomian languages"},{code3:"paa",code2:"",name:"Papuan languages"},{code3:"pag",code2:"",name:"Pangasinan"},{code3:"pal",code2:"",name:"Pahlavi"},{code3:"pam",code2:"",name:"Pampanga; Kapampangan"},{code3:"pan",code2:"pa",name:"Panjabi; Punjabi"},{code3:"pap",code2:"",name:"Papiamento"},{code3:"pau",code2:"",name:"Palauan"},{code3:"peo",code2:"",name:"Persian, Old (ca.600-400 B.C.)"},{code3:"per",code2:"fa",name:"Persian"},{code3:"phi",code2:"",name:"Philippine languages"},{code3:"phn",code2:"",name:"Phoenician"},{code3:"pli",code2:"pi",name:"Pali"},{code3:"pol",code2:"pl",name:"Polish"},{code3:"pon",code2:"",name:"Pohnpeian"},{code3:"por",code2:"pt",name:"Portuguese"},{code3:"pra",code2:"",name:"Prakrit languages"},{code3:"pro",code2:"",name:"Proven\xe7al, Old (to 1500);Occitan, Old (to 1500)"},{code3:"pus",code2:"ps",name:"Pushto; Pashto"},{code3:"que",code2:"qu",name:"Quechua"},{code3:"raj",code2:"",name:"Rajasthani"},{code3:"rap",code2:"",name:"Rapanui"},{code3:"rar",code2:"",name:"Rarotongan; Cook Islands Maori"},{code3:"roa",code2:"",name:"Romance languages"},{code3:"roh",code2:"rm",name:"Romansh"},{code3:"rom",code2:"",name:"Romany"},{code3:"rum",code2:"ro",name:"Romanian"},{code3:"ron",code2:"ro",name:"Romanian"},{code3:"run",code2:"rn",name:"Rundi"},{code3:"rup",code2:"",name:"Aromanian; Arumanian; Macedo-Romanian"},{code3:"rus",code2:"ru",name:"Russian"},{code3:"sad",code2:"",name:"Sandawe"},{code3:"sag",code2:"sg",name:"Sango"},{code3:"sah",code2:"",name:"Yakut"},{code3:"sai",code2:"",name:"South American Indian languages"},{code3:"sal",code2:"",name:"Salishan languages"},{code3:"sam",code2:"",name:"Samaritan Aramaic"},{code3:"san",code2:"sa",name:"Sanskrit"},{code3:"sas",code2:"",name:"Sasak"},{code3:"sat",code2:"",name:"Santali"},{code3:"scn",code2:"",name:"Sicilian"},{code3:"sco",code2:"",name:"Scots"},{code3:"sel",code2:"",name:"Selkup"},{code3:"sem",code2:"",name:"Semitic languages"},{code3:"sga",code2:"",name:"Irish, Old (to 900)"},{code3:"sgn",code2:"",name:"Sign Languages"},{code3:"shn",code2:"",name:"Shan"},{code3:"sid",code2:"",name:"Sidamo"},{code3:"sin",code2:"si",name:"Sinhala; Sinhalese"},{code3:"sio",code2:"",name:"Siouan languages"},{code3:"sit",code2:"",name:"Sino-Tibetan languages"},{code3:"sla",code2:"",name:"Slavic languages"},{code3:"slo",code2:"sk",name:"Slovak"},{code3:"slk",code2:"sk",name:"Slovak"},{code3:"slv",code2:"sl",name:"Slovenian"},{code3:"sma",code2:"",name:"Southern Sami"},{code3:"sme",code2:"se",name:"Northern Sami"},{code3:"smi",code2:"",name:"Sami languages"},{code3:"smj",code2:"",name:"Lule Sami"},{code3:"smn",code2:"",name:"Inari Sami"},{code3:"smo",code2:"sm",name:"Samoan"},{code3:"sms",code2:"",name:"Skolt Sami"},{code3:"sna",code2:"sn",name:"Shona"},{code3:"snd",code2:"sd",name:"Sindhi"},{code3:"snk",code2:"",name:"Soninke"},{code3:"sog",code2:"",name:"Sogdian"},{code3:"som",code2:"so",name:"Somali"},{code3:"son",code2:"",name:"Songhai languages"},{code3:"sot",code2:"st",name:"Sotho, Southern"},{code3:"spa",code2:"es",name:"Spanish"},{code3:"sqi",code2:"sq",name:"Albanian"},{code3:"srd",code2:"sc",name:"Sardinian"},{code3:"srn",code2:"",name:"Sranan Tongo"},{code3:"srp",code2:"sr",name:"Serbian"},{code3:"srr",code2:"",name:"Serer"},{code3:"ssa",code2:"",name:"Nilo-Saharan languages"},{code3:"ssw",code2:"ss",name:"Swati"},{code3:"suk",code2:"",name:"Sukuma"},{code3:"sun",code2:"su",name:"Sundanese"},{code3:"sus",code2:"",name:"Susu"},{code3:"sux",code2:"",name:"Sumerian"},{code3:"swa",code2:"sw",name:"Swahili"},{code3:"swe",code2:"sv",name:"Swedish"},{code3:"syc",code2:"",name:"Classical Syriac"},{code3:"syr",code2:"",name:"Syriac"},{code3:"tah",code2:"ty",name:"Tahitian"},{code3:"tai",code2:"",name:"Tai languages"},{code3:"tam",code2:"ta",name:"Tamil"},{code3:"tat",code2:"tt",name:"Tatar"},{code3:"tel",code2:"te",name:"Telugu"},{code3:"tem",code2:"",name:"Timne"},{code3:"ter",code2:"",name:"Tereno"},{code3:"tet",code2:"",name:"Tetum"},{code3:"tgk",code2:"tg",name:"Tajik"},{code3:"tgl",code2:"tl",name:"Tagalog"},{code3:"tha",code2:"th",name:"Thai"},{code3:"tib",code2:"bo",name:"Tibetan"},{code3:"tig",code2:"",name:"Tigre"},{code3:"tir",code2:"ti",name:"Tigrinya"},{code3:"tiv",code2:"",name:"Tiv"},{code3:"tkl",code2:"",name:"Tokelau"},{code3:"tlh",code2:"",name:"Klingon; tlhIngan-Hol"},{code3:"tli",code2:"",name:"Tlingit"},{code3:"tmh",code2:"",name:"Tamashek"},{code3:"tog",code2:"",name:"Tonga (Nyasa)"},{code3:"ton",code2:"to",name:"Tonga (Tonga Islands)"},{code3:"tpi",code2:"",name:"Tok Pisin"},{code3:"tsi",code2:"",name:"Tsimshian"},{code3:"tsn",code2:"tn",name:"Tswana"},{code3:"tso",code2:"ts",name:"Tsonga"},{code3:"tuk",code2:"tk",name:"Turkmen"},{code3:"tum",code2:"",name:"Tumbuka"},{code3:"tup",code2:"",name:"Tupi languages"},{code3:"tur",code2:"tr",name:"Turkish"},{code3:"tut",code2:"",name:"Altaic languages"},{code3:"tvl",code2:"",name:"Tuvalu"},{code3:"twi",code2:"tw",name:"Twi"},{code3:"tyv",code2:"",name:"Tuvinian"},{code3:"udm",code2:"",name:"Udmurt"},{code3:"uga",code2:"",name:"Ugaritic"},{code3:"uig",code2:"ug",name:"Uighur; Uyghur"},{code3:"ukr",code2:"uk",name:"Ukrainian"},{code3:"umb",code2:"",name:"Umbundu"},{code3:"und",code2:"",name:"Undetermined"},{code3:"urd",code2:"ur",name:"Urdu"},{code3:"uzb",code2:"uz",name:"Uzbek"},{code3:"vai",code2:"",name:"Vai"},{code3:"ven",code2:"ve",name:"Venda"},{code3:"vie",code2:"vi",name:"Vietnamese"},{code3:"vol",code2:"vo",name:"Volap\xfck"},{code3:"vot",code2:"",name:"Votic"},{code3:"wak",code2:"",name:"Wakashan languages"},{code3:"wal",code2:"",name:"Wolaitta; Wolaytta"},{code3:"war",code2:"",name:"Waray"},{code3:"was",code2:"",name:"Washo"},{code3:"wel",code2:"cy",name:"Welsh"},{code3:"wen",code2:"",name:"Sorbian languages"},{code3:"wln",code2:"wa",name:"Walloon"},{code3:"wol",code2:"wo",name:"Wolof"},{code3:"xal",code2:"",name:"Kalmyk; Oirat"},{code3:"xho",code2:"xh",name:"Xhosa"},{code3:"yao",code2:"",name:"Yao"},{code3:"yap",code2:"",name:"Yapese"},{code3:"yid",code2:"yi",name:"Yiddish"},{code3:"yor",code2:"yo",name:"Yoruba"},{code3:"ypk",code2:"",name:"Yupik languages"},{code3:"zap",code2:"",name:"Zapotec"},{code3:"zbl",code2:"",name:"Blissymbols; Blissymbolics; Bliss"},{code3:"zen",code2:"",name:"Zenaga"},{code3:"zgh",code2:"",name:"Standard Moroccan Tamazight"},{code3:"zha",code2:"za",name:"Zhuang; Chuang"},{code3:"zho",code2:"zh",name:"Chinese"},{code3:"znd",code2:"",name:"Zande languages"},{code3:"zul",code2:"zu",name:"Zulu"},{code3:"zun",code2:"",name:"Zuni"},{code3:"zza",code2:"",name:"Zaza; Dimili; Dimli; Kirdki; Kirmanjki; Zazaki"}],Os=Object.fromEntries(Bs.map((e=>[e.code2,e]))),zs=Object.fromEntries(Bs.map((e=>[e.code3,e])));function Hs(e){return 3===e.length&&zs[e]?.code2||e}function Ns(e,t){return Intl.DisplayNames&&function(e,t){try{const s=new Intl.DisplayNames([t],{type:"language",fallback:"none",languageDisplay:"standard"}).of(e);if(s)return s[0].toLocaleUpperCase()+s.slice(1)}catch(s){if(!(s instanceof RangeError))throw s}}(e.code2,t)||e.name}function Vs(e,t){const s=Hs(e),n=Os[s];return n?Ns(n,t):s}function qs(e,t){const s=function(e){let t=[],s="";if(Fs(e.record,"text")&&"string"===typeof e.record.text&&(s=e.record.text),Is.AppBskyFeedPost.isRecord(e.record)&&Fs(e.record,"langs")&&Array.isArray(e.record.langs)&&(t=e.record.langs),1===t?.length)return t[0];if(0===s.trim().length)return;let n=(0,Ds.default)(s);return t?.length&&(n=n.filter((([e,s])=>t.includes(Hs(e))))),n[0]?Hs(n[0][0]):void 0}(e);return!s||Rs.basicFilter(s,t).length>0}function Us(e,t){return`https://translate.google.com/?sl=auto&tl=${t}&text=${encodeURIComponent(e)}`}function Ws(e){const t=e.split(",").filter(Boolean);for(const s of t)switch(Zs(s)){case"en":return Es.en;case"an":return Es.an;case"ast":return Es.ast;case"ca":return Es.ca;case"cy":return Es.cy;case"da":return Es.da;case"de":return Es.de;case"el":return Es.el;case"en-GB":return Es.en_GB;case"eo":return Es.eo;case"es":return Es.es;case"eu":return Es.eu;case"fi":return Es.fi;case"fr":return Es.fr;case"fy":return Es.fy;case"ga":return Es.ga;case"gd":return Es.gd;case"gl":return Es.gl;case"hi":return Es.hi;case"hu":return Es.hu;case"ia":return Es.ia;case"id":return Es.id;case"it":return Es.it;case"ja":return Es.ja;case"km":return Es.km;case"ko":return Es.ko;case"ne":return Es.ne;case"nl":return Es.nl;case"pl":return Es.pl;case"pt-BR":return Es.pt_BR;case"ro":return Es.ro;case"ru":return Es.ru;case"sv":return Es.sv;case"th":return Es.th;case"tr":return Es.tr;case"uk":return Es.uk;case"vi":return Es.vi;case"zh-Hans-CN":return Es.zh_CN;case"zh-Hant-HK":return Es.zh_HK;case"zh-Hant-TW":return Es.zh_TW;default:continue}return Es.en}function Zs(e){return"in"===e?"id":"iw"===e?"he":"ji"===e?"yi":e}Os.fa&&(zs.pes=Os.fa);class Qs extends Error{constructor(e={}){super("Not implemented")}}function Ks(){return window.matchMedia("(prefers-reduced-motion: reduce)").matches}!function(e){e.Ambient="AVAudioSessionCategoryAmbient",e.Playback="AVAudioSessionCategoryPlayback",e._SoloAmbient="AVAudioSessionCategorySoloAmbient",e._Record="AVAudioSessionCategoryRecord",e._PlayAndRecord="AVAudioSessionCategoryPlayAndRecord",e._MultiRoute="AVAudioSessionCategoryMultiRoute"}({});function $s(){if("undefined"!==typeof document&&null!=document&&document.referrer)try{const e=new URL(document.referrer);if("bsky.app"!==e.hostname)return{referrer:e.href,hostname:e.hostname}}catch{}return null}function Gs(e,t){throw new Qs({key:e,value:t})}function Ys(e){throw new Qs({key:e})}function Js(e){throw new Qs({key:e})}function Xs(e,t){throw new Qs({key:e,value:t})}function en(e,t){throw new Qs({key:e,value:t})}const tn=["show","hide"],sn=js.z.object({service:js.z.string(),did:js.z.string(),handle:js.z.string(),email:js.z.string().optional(),emailConfirmed:js.z.boolean().optional(),emailAuthFactor:js.z.boolean().optional(),refreshJwt:js.z.string().optional(),accessJwt:js.z.string().optional(),signupQueued:js.z.boolean().optional(),active:js.z.boolean().optional(),status:js.z.string().optional(),pdsUrl:js.z.string().optional(),isSelfHosted:js.z.boolean().optional()}),nn=sn.extend({service:js.z.string().optional(),handle:js.z.string().optional()}),on=js.z.object({colorMode:js.z.enum(["system","light","dark"]),darkTheme:js.z.enum(["dim","dark"]).optional(),session:js.z.object({accounts:js.z.array(sn),currentAccount:nn.optional()}),reminders:js.z.object({lastEmailConfirm:js.z.string().optional()}),languagePrefs:js.z.object({primaryLanguage:js.z.string(),contentLanguages:js.z.array(js.z.string()),postLanguage:js.z.string(),postLanguageHistory:js.z.array(js.z.string()),appLanguage:js.z.string()}),requireAltTextEnabled:js.z.boolean(),largeAltBadgeEnabled:js.z.boolean().optional(),externalEmbeds:js.z.object({giphy:js.z.enum(tn).optional(),tenor:js.z.enum(tn).optional(),youtube:js.z.enum(tn).optional(),youtubeShorts:js.z.enum(tn).optional(),twitch:js.z.enum(tn).optional(),vimeo:js.z.enum(tn).optional(),spotify:js.z.enum(tn).optional(),appleMusic:js.z.enum(tn).optional(),soundcloud:js.z.enum(tn).optional(),flickr:js.z.enum(tn).optional()}).optional(),invites:js.z.object({copiedInvites:js.z.array(js.z.string())}),onboarding:js.z.object({step:js.z.string()}),hiddenPosts:js.z.array(js.z.string()).optional(),useInAppBrowser:js.z.boolean().optional(),lastSelectedHomeFeed:js.z.string().optional(),pdsAddressHistory:js.z.array(js.z.string()).optional(),disableHaptics:js.z.boolean().optional(),disableAutoplay:js.z.boolean().optional(),kawaii:js.z.boolean().optional(),hasCheckedForStarterPack:js.z.boolean().optional(),subtitlesEnabled:js.z.boolean().optional(),goLinksEnabled:js.z.boolean().optional(),mutedThreads:js.z.array(js.z.string()),trendingDisabled:js.z.boolean().optional(),trendingVideoDisabled:js.z.boolean().optional()}),rn={colorMode:"system",darkTheme:"dim",session:{accounts:[],currentAccount:void 0},reminders:{lastEmailConfirm:void 0},languagePrefs:{primaryLanguage:As[0]||"en",contentLanguages:As||[],postLanguage:As[0]||"en",postLanguageHistory:(As||[]).concat(["en","ja","pt","de"]).slice(0,6),appLanguage:function(e){const t=new Set(Object.values(Es));for(const s of e)if(s&&t.has(s))return s;return Es.en}([Ls.at(0)?.languageTag,As[0]])},requireAltTextEnabled:!1,largeAltBadgeEnabled:!1,externalEmbeds:{},mutedThreads:[],invites:{copiedInvites:[]},onboarding:{step:"Home"},hiddenPosts:[],useInAppBrowser:void 0,lastSelectedHomeFeed:void 0,pdsAddressHistory:[],disableHaptics:!1,disableAutoplay:Ks(),kawaii:!1,hasCheckedForStarterPack:!1,subtitlesEnabled:!0,trendingDisabled:!1,trendingVideoDisabled:!1,goLinksEnabled:!0};var an=s(73037);function ln(e){const t=Object.assign({},e);try{const e=Object.assign({},t.languagePrefs);e.primaryLanguage=cn(e.primaryLanguage),e.contentLanguages=Ss(e.contentLanguages.map((e=>cn(e)))),e.postLanguage=e.postLanguage.split(",").map((e=>cn(e))).filter(Boolean).join(","),e.postLanguageHistory=Ss(e.postLanguageHistory.map((e=>e.split(",").map((e=>cn(e))).filter(Boolean).join(",")))),t.languagePrefs=e}catch(s){ys.error("persisted state: failed to normalize language prefs",{safeMessage:s.message})}return t}function cn(e){return(0,an.parse)(e).language??e}const dn="BSKY_STORAGE",un=new bs("BSKY_BROADCAST_CHANNEL"),mn="BSKY_UPDATE";let hn=rn;const pn=new At.default;async function fn(){un.onmessage=jn,window.onstorage=bn;const e=Sn();e&&(hn=e)}function gn(e){return hn[e]}async function xn(e,t){const s=Sn();s&&(hn=s);try{if(JSON.stringify({v:hn[e]})===JSON.stringify({v:t}))return}catch(n){}hn=ln(Object.assign({},hn,{[e]:t})),function(e){const t=function(e){try{return on.parse(e),JSON.stringify(e)}catch(n){return void ys.error("persisted state: failed stringifying root state",{message:n})}}(e);if(t)try{localStorage.setItem(dn,t)}catch(n){}}(hn),un.postMessage({event:{type:mn,key:e}}),un.postMessage({event:mn})}function _n(e,t){const s=()=>t(gn(e));return pn.addListener("update",s),pn.addListener("update:"+e,s),()=>{pn.removeListener("update",s),pn.removeListener("update:"+e,s)}}async function yn(){try{localStorage.removeItem(dn)}catch(e){}}function bn(){const e=Sn();e!==hn&&e&&(hn=e,pn.emit("update"))}async function jn({data:e}){if("object"===typeof e&&(e.event===mn||e.event?.type===mn)){const t=Sn();if(t===hn)return;t?(hn=t,"string"===typeof e.event.key?pn.emit("update:"+e.event.key):pn.emit("update")):ys.error("persisted state: handled update update from broadcast channel, but found no data")}}let vn,wn;function Sn(){let e=null;try{e=localStorage.getItem(dn)}catch(t){}if(e){if(e===vn)return wn;{const s=function(e){let s;try{s=JSON.parse(e)}catch(t){ys.error("persisted state: failed to parse root state from storage",{message:t})}if(!s)return;const n=on.safeParse(s);if(n.success)return s;{const e=n.error?.errors?.map((e=>({code:e.code,expected:e?.expected,path:e.path?.join(".")})))||[];return void ys.error("persisted store: data failed validation on read",{errors:e})}}(e);if(s)return vn=e,wn=ln(s),wn}}}var kn=s(61265);s(57761);class Cn{sep=":";constructor({id:e}){this.store=new kn.MMKV({id:e})}set(e,t){this.store.set(e.join(this.sep),JSON.stringify({data:t}))}get(e){const t=this.store.getString(e.join(this.sep));if(t)return JSON.parse(t).data}remove(e){this.store.delete(e.join(this.sep))}removeMany(e,t){t.forEach((t=>this.remove([...e,t])))}addOnValueChangedListener(e,t){return this.store.addOnValueChangedListener((s=>{s===e.join(this.sep)&&t()}))}}function Pn(e,t){const s=(0,i.c)(13);let n;s[0]!==t||s[1]!==e?(n=()=>e.get(t),s[0]=t,s[1]=e,s[2]=n):n=s[2];const[o,r]=(0,mt.useState)(n);let a,l,c;s[3]!==t||s[4]!==e?(a=()=>{const s=e.addOnValueChangedListener(t,(()=>{r(e.get(t))}));return()=>s.remove()},l=[e,t],s[3]=t,s[4]=e,s[5]=a,s[6]=l):(a=s[5],l=s[6]),(0,mt.useEffect)(a,l),s[7]!==t||s[8]!==e?(c=s=>{r(s),e.set(t,s)},s[7]=t,s[8]=e,s[9]=c):c=s[9];const d=c;let u;return s[10]!==d||s[11]!==o?(u=[o,d],s[10]=d,s[11]=o,s[12]=u):u=s[12],u}const Tn=new Cn({id:"bsky_device"}),Ln=new Cn({id:"bsky_account"});function An(e){return new Promise((t=>setTimeout(t,e)))}new Promise((()=>{}));let In="",Rn="";if(Pt){const e=new URLSearchParams(window.location.search);In=e.get("ref_src")??"",Rn=decodeURIComponent(e.get("ref_url")??"")}let Dn=()=>null;function Fn(e){return null==e?void 0:Math.max(0,Math.round(Math.log(e)))}function En(e,t,s={lake:!1}){try{const n=function(e){const t={};for(let s in e)e.hasOwnProperty(s)&&("string"===typeof e[s]?t[s]=e[s]:t[s]=JSON.stringify(e[s]));return t}(t);if(n.routeName=Dn()??"(Uninitialized)",Qt.Statsig.initializeCalled()){let t=e;s.lake&&(t=`lake:${t}`),Qt.Statsig.logEvent(t,null,n)}s.lake||ys.info(e,n)}catch(n){ys.error("Failed to log an event",{message:n})}}const Mn=mt.createContext(null);function Bn(e){Tn.set(["tenXGateCache"],JSON.stringify(Object.fromEntries(e)))}function On(){const e=(0,i.c)(2),t=mt.useContext(Mn);if(!t)throw Error("useGate() cannot be called outside StatsigProvider.");let s;e[0]!==t?(s=(e,s)=>{const n=void 0===s?{}:s,o=t.get(e);if(void 0!==o)return o;let r=!1;return Qt.Statsig.initializeCalled()&&(r=n.dangerouslyDisableExposureLogging?Qt.Statsig.checkGateWithExposureLoggingDisabled(e):Qt.Statsig.checkGate(e)),t.set(e,r),Bn(t),r},e[0]=t,e[1]=s):s=e[1];return s}function zn(e){const t=gn("languagePrefs");return{userID:e,platform:"web",custom:{refSrc:In,refUrl:Rn,platform:"web",bundleIdentifier:$t,bundleDate:Gt,appLanguage:t.appLanguage,contentLanguages:t.contentLanguages}}}let Hn=gt.default.currentState,Nn="active"===Hn?performance.now():null;async function Vn(e,t){try{let s=250;"prefer-fresh-gates"===t&&(s=1500),Qt.Statsig.initializeCalled()&&await Promise.race([An(s),Qt.Statsig.prefetchUsers([zn(e)])])}catch(s){}}function qn(e){const t=(0,i.c)(3),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Map(Object.entries(JSON.parse(Tn.get(["tenXGateCache"])??"{}"))),t[0]=n):n=t[0];const o=n;let r;return t[1]!==s?(r=(0,Ft.jsx)(Mn.Provider,{value:o,children:s}),t[1]=s,t[2]=r):r=t[2],r}gt.default.addEventListener("change",(e=>{if(e!==Hn)if(Hn=e,"active"===e)Nn=performance.now(),En("state:foreground",{});else{let e=0;null!=Nn&&(e=Math.round((performance.now()-Nn)/1e3),Nn=null,En("state:background",{secondsActive:e}))}}));s(12634);const Un='system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji"',Wn={"-2":.8125,"-1":.875,0:.9375,1:1,2:1.0625};function Zn(e){return Wn[e]}function Qn(){return Tn.get(["fontScale"])??"0"}function Kn(){return Tn.get(["fontFamily"])||"theme"}function $n(e,t){"theme"===t?(St?(e.fontFamily={400:"Inter-Regular",500:"Inter-Regular",600:"Inter-SemiBold",700:"Inter-SemiBold",800:"Inter-ExtraBold",900:"Inter-ExtraBold"}[String(e.fontWeight||"400")]||"Inter-Regular","italic"===e.fontStyle&&("Inter-Regular"===e.fontFamily?e.fontFamily="Inter-Italic":e.fontFamily+="Italic"),delete e.fontWeight,delete e.fontStyle):(e.fontFamily="InterVariable","italic"===e.fontStyle&&(e.fontFamily+="Italic")),Pt&&(e.fontFamily+=`, ${Un}`),e.fontVariant=(e.fontVariant||[]).concat("no-contextual")):(Pt&&(e.fontFamily=e.fontFamily||Un),e.letterSpacing=.25)}var Gn=s(59550);const Yn=St?.1:0,Jn="rgb(105 0 255)",Xn="rgb(83 0 202)",eo={_2xs:2,xs:4,sm:8,md:12,lg:16,xl:20,_2xl:24,_3xl:28,_4xl:32,_5xl:40},to=10,so=12,no=14,oo=16,ro=18,io=20,ao=22,lo=26,co=32,uo=40,mo={_2xs:2,xs:4,sm:8,md:12,lg:16,full:999},ho="400",po="600",fo="800",go={primary:{values:[[0,"#054CFF"],[.4,"#1085FE"],[.6,"#1085FE"],[1,"#59B9FF"]],hover_value:"#1085FE"},sky:{values:[[0,"#0A7AFF"],[1,"#59B9FF"]],hover_value:"#0A7AFF"},midnight:{values:[[0,"#022C5E"],[1,"#4079BC"]],hover_value:"#022C5E"},sunrise:{values:[[0,"#4E90AE"],[.4,"#AEA3AB"],[.8,"#E6A98F"],[1,"#F3A84C"]],hover_value:"#AEA3AB"},sunset:{values:[[0,"#6772AF"],[.6,"#B88BB6"],[1,"#FFA6AC"]],hover_value:"#B88BB6"},summer:{values:[[0,"#FF6A56"],[.3,"#FF9156"],[1,"#FFDD87"]],hover_value:"#FF9156"},nordic:{values:[[0,"#083367"],[1,"#9EE8C1"]],hover_value:"#3A7085"},bonfire:{values:[[0,"#203E4E"],[.4,"#755B62"],[.8,"#CD7765"],[1,"#EF956E"]],hover_value:"#755B62"}};var xo=s(96106);function _o(e){if(Pt)return e}function yo(e){if(wt)return e}function bo(e){if(St)return e}function jo(e){if(kt)return e}const vo=xo.default.select;var wo=s(67842),So=s(5366),ko=s(61551);const Co=mt.createContext({headerHeight:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}},footerHeight:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}}});function Po(e){const t=(0,i.c)(6),{children:s}=e,n=(0,ko.useSharedValue)(0),o=(0,ko.useSharedValue)(0);let r,a;t[0]!==o||t[1]!==n?(a={headerHeight:n,footerHeight:o},t[0]=o,t[1]=n,t[2]=a):a=t[2],r=a;const l=r;let c;return t[3]!==s||t[4]!==l?(c=(0,Ft.jsx)(Co.Provider,{value:l,children:s}),t[3]=s,t[4]=l,t[5]=c):c=t[5],c}function To(){return mt.useContext(Co)}var Lo=s(33057),Ao=s(88528),Io=s(14542),Ro=s(12268),Do=s(37597),Fo=s(48782),Eo=s(45945);const Mo=mt.createContext({reduceMotionEnabled:!1,screenReaderEnabled:!1});function Bo(){return mt.useContext(Mo)}function Oo(e){const t=(0,i.c)(8),{children:s}=e,[n,o]=mt.useState(zo),[r,a]=mt.useState(!1);let l,c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{const e=Eo.default.addEventListener("reduceMotionChanged",(e=>{o(e)})),t=Eo.default.addEventListener("screenReaderChanged",(e=>{a(e)}));return(async()=>{const[e,t]=await Promise.all([Eo.default.isReduceMotionEnabled(),Eo.default.isScreenReaderEnabled()]);o(e),a(t)})(),()=>{e.remove(),t.remove()}},c=[],t[0]=l,t[1]=c):(l=t[0],c=t[1]),mt.useEffect(l,c);const u=!Pt&&r;let m;t[2]!==n||t[3]!==u?(m={reduceMotionEnabled:n,screenReaderEnabled:u},t[2]=n,t[3]=u,t[4]=m):m=t[4],d=m;const h=d;let p;return t[5]!==s||t[6]!==h?(p=(0,Ft.jsx)(Mo.Provider,{value:h,children:s}),t[5]=s,t[6]=h,t[7]=p):p=t[7],p}function zo(){return Ks()}const Ho=(0,mt.createContext)(null);function No(){const e=(0,mt.useContext)(Ho);if(!e)throw new Error("useGlobalDialogsControlContext must be used within a Provider");return e}function Vo(e){const t=(0,i.c)(8),{children:s}=e,n=Ar(),o=Ar(),r=qo(),a=qo();let l,c;t[0]!==a||t[1]!==r||t[2]!==n||t[3]!==o?(c={mutedWordsDialogControl:n,signinDialogControl:o,inAppBrowserConsentControl:r,emailDialogControl:a},t[0]=a,t[1]=r,t[2]=n,t[3]=o,t[4]=c):c=t[4],l=c;const d=l;let u;return t[5]!==s||t[6]!==d?(u=(0,Ft.jsx)(Ho.Provider,{value:d,children:s}),t[5]=s,t[6]=d,t[7]=u):u=t[7],u}function qo(e){const t=(0,i.c)(9),[s,n]=(0,mt.useState)(e),o=Ar();let r,a,l,c;return t[0]!==o?(a=e=>{n(e),o.open()},t[0]=o,t[1]=a):a=t[1],t[2]!==e?(l=()=>n(e),t[2]=e,t[3]=l):l=t[3],t[4]!==o||t[5]!==a||t[6]!==l||t[7]!==s?(c={control:o,open:a,clear:l,value:s},t[4]=o,t[5]=a,t[6]=l,t[7]=s,t[8]=c):c=t[8],r=c,r}let Uo=function(e){return e[e.Hidden=0]="Hidden",e[e.Partial=1]="Partial",e[e.Full=2]="Full",e}({});function Wo(e){throw new Error("BottomSheetNativeComponent is not available on web")}function Zo(){const e=mt.createContext({outlet:null,append:()=>{},remove:()=>{}});return{Provider:function(t){const s=(0,i.c)(8);let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n={},s[0]=n):n=s[0];const o=mt.useRef(n),[r,a]=mt.useState(null);let l;s[1]===Symbol.for("react.memo_cache_sentinel")?(l=(e,t)=>{o.current[e]||(o.current[e]=(0,Ft.jsx)(mt.Fragment,{children:t},e),a((0,Ft.jsx)(Ft.Fragment,{children:Object.values(o.current)})))},s[1]=l):l=s[1];const c=l;let d;s[2]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{delete o.current[e],a((0,Ft.jsx)(Ft.Fragment,{children:Object.values(o.current)}))},s[2]=d):d=s[2];const u=d;let m,h;s[3]!==r?(h={outlet:r,append:c,remove:u},s[3]=r,s[4]=h):h=s[4],m=h;const p=m;let f;return s[5]!==p||s[6]!==t.children?(f=(0,Ft.jsx)(e.Provider,{value:p,children:t.children}),s[5]=p,s[6]=t.children,s[7]=f):f=s[7],f},Outlet:function(){return mt.useContext(e).outlet},Portal:function(t){const s=(0,i.c)(6),{children:n}=t,{append:o,remove:r}=mt.useContext(e),a=mt.useId();let l,c;return s[0]!==o||s[1]!==n||s[2]!==a||s[3]!==r?(l=()=>(o(a,n),()=>r(a)),c=[a,n,o,r],s[0]=o,s[1]=n,s[2]=a,s[3]=r,s[4]=l,s[5]=c):(l=s[4],c=s[5]),mt.useEffect(l,c),null}}}const Qo=mt.createContext({});function Ko(e){const t=(0,i.c)(4),{children:s}=e;let n,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=Zo(),t[0]=o):o=t[0],n=o;const r=n;let a,l;return t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(r.Outlet,{}),t[1]=a):a=t[1],t[2]!==s?(l=(0,Ft.jsx)(Qo.Provider,{value:r.Portal,children:(0,Ft.jsxs)(r.Provider,{children:[s,a]})}),t[2]=s,t[3]=l):l=t[3],l}const $o=Zo();$o.Outlet;const Go=mt.createContext({}),Yo=mt.createContext({});function Jo(){return mt.useContext(Go)}function Xo(){return mt.useContext(Yo)}function er(e){const t=(0,i.c)(12),{children:s}=e,[n,o]=mt.useState(0);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=new Map,t[0]=r):r=t[0];const a=mt.useRef(r);let l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l=new Set,t[1]=l):l=t[1];const c=mt.useRef(l);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>Pt?(c.current.forEach((e=>{const t=a.current.get(e);t&&t.current.close()})),c.current.size>0):(Wo.dismissAll(),!1),t[2]=d):d=t[2];const u=d;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=(e,t)=>{t?c.current.add(e):c.current.delete(e)},t[3]=m):m=t[3];const h=m;let p,f;t[4]===Symbol.for("react.memo_cache_sentinel")?(f={activeDialogs:a,openDialogs:c},t[4]=f):f=t[4],p=f;const g=p;let x,_;t[5]!==n?(_={closeAllDialogs:u,setDialogIsOpen:h,fullyExpandedCount:n,setFullyExpandedCount:o},t[5]=n,t[6]=_):_=t[6],x=_;const y=x;let b,j;return t[7]!==s?(b=(0,Ft.jsx)(Vo,{children:s}),t[7]=s,t[8]=b):b=t[8],t[9]!==y||t[10]!==b?(j=(0,Ft.jsx)(Go.Provider,{value:g,children:(0,Ft.jsx)(Yo.Provider,{value:y,children:b})}),t[9]=y,t[10]=b,t[11]=j):j=t[11],j}var tr=s(41711),sr=s(44922),nr=s(77157),or=s(87533);function rr(e,t){const s=e?.fontSize||kl.text_md.fontSize,n=t?.lineHeight||kl.leading_normal.lineHeight;return Math.round(s*n)}function ir(e,{fontScale:t,fontFamily:s}){const n=Wl(e);return n.fontSize=(n.fontSize||kl.text_md.fontSize)*t,n?.lineHeight?0!==n.lineHeight&&n.lineHeight<=2&&(n.lineHeight=Math.round(n.fontSize*n.lineHeight)):kt||(n.lineHeight=n.fontSize),$n(n,s),n}const ar=(0,or.default)();function lr(e,t={},s){return wt&&s?mt.Children.map(e,(e=>{if("string"!==typeof e)return e;const s=e.match(ar);return null===s?e:e.split(ar).map(((e,n)=>[e,s[n]?(0,mt.createElement)(nr.UITextView,Object.assign({},t,{style:[t?.style,{fontFamily:"System"}],key:n}),s[n]):null]))})):e}const cr=/^[\p{Emoji_Presentation}\p{Extended_Pictographic}]+$/u;function dr(e){return e.length<=15&&cr.test(e)}var ur=s(33387);const mr=["children","emoji","style","selectable","title","dataSet"],hr=["style"],pr=["style"];function fr(e){const t=(0,i.c)(22);let s,n,o,r,a,l,c;if(t[0]!==e){var d=e;({children:s,emoji:o,style:l,selectable:a,title:c,dataSet:n}=d),r=(0,ls.default)(d,mr),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7];const{fonts:u,flags:m}=Xl(),h=ec();let p;if(t[8]!==s||t[9]!==n||t[10]!==o||t[11]!==m||t[12]!==u.family||t[13]!==u.scaleMultiplier||t[14]!==r||t[15]!==a||t[16]!==l||t[17]!==h.atoms.text||t[18]!==c){const e=ir([kl.text_sm,h.atoms.text,Wl(l)],{fontScale:u.scaleMultiplier,fontFamily:u.family,flags:m});let i;0,t[20]!==n?(i=n||{},t[20]=n,t[21]=i):i=t[21];const d=Object.assign({uiTextView:!0,selectable:a,style:e,dataSet:Object.assign({tooltip:c},i)},r);p=(0,Ft.jsx)(nr.UITextView,Object.assign({},d,{children:lr(s,d,o??!1)})),t[8]=s,t[9]=n,t[10]=o,t[11]=m,t[12]=u.family,t[13]=u.scaleMultiplier,t[14]=r,t[15]=a,t[16]=l,t[17]=h.atoms.text,t[18]=c,t[19]=p}else p=t[19];return p}function gr({level:e}){return function(t){let{style:s}=t,n=(0,ls.default)(t,hr);const o=_o({role:"heading","aria-level":e})||{};return(0,Ft.jsx)(fr,Object.assign({},o,n,{style:s}))}}const xr=gr({level:1}),_r=(gr({level:2}),gr({level:3}));gr({level:4}),gr({level:5}),gr({level:6});function yr(e){const t=(0,i.c)(11);let s,n,o;if(t[0]!==e){var r=e;({style:n}=r),s=(0,ls.default)(r,pr),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];t[3]===Symbol.for("react.memo_cache_sentinel")?(o=_o({role:"paragraph"})||{},t[3]=o):o=t[3];const a=o;let l,c,d;return t[4]!==n?(l=Wl(n),t[4]=n,t[5]=l):l=t[5],t[6]!==l?(c=[kl.text_md,kl.leading_normal,l],t[6]=l,t[7]=c):c=t[7],t[8]!==s||t[9]!==c?(d=(0,Ft.jsx)(fr,Object.assign({},a,s,{style:c})),t[8]=s,t[9]=c,t[10]=d):d=t[10],d}const br=["children","variant","color","size","shape","label","disabled","style","hoverStyle","PressableComponent","onPressIn","onPressOut","onHoverIn","onHoverOut","onFocus","onBlur"],jr=["children","style"],vr=mt.createContext({hovered:!1,focused:!1,pressed:!1,disabled:!1});function wr(){return mt.useContext(vr)}const Sr=mt.forwardRef(((e,t)=>{let{children:s,variant:n,color:o,size:r,shape:i="default",label:a,disabled:l=!1,style:c,hoverStyle:d,PressableComponent:u=tr.default,onPressIn:m,onPressOut:h,onHoverIn:p,onHoverOut:f,onFocus:g,onBlur:x}=e,_=(0,ls.default)(e,br);const y=ec(),[b,j]=mt.useState({pressed:!1,hovered:!1,focused:!1}),v=mt.useCallback((e=>{j((e=>Object.assign({},e,{pressed:!0}))),m?.(e)}),[j,m]),w=mt.useCallback((e=>{j((e=>Object.assign({},e,{pressed:!1}))),h?.(e)}),[j,h]),S=mt.useCallback((e=>{j((e=>Object.assign({},e,{hovered:!0}))),p?.(e)}),[j,p]),k=mt.useCallback((e=>{j((e=>Object.assign({},e,{hovered:!1}))),f?.(e)}),[j,f]),C=mt.useCallback((e=>{j((e=>Object.assign({},e,{focused:!0}))),g?.(e)}),[j,g]),P=mt.useCallback((e=>{j((e=>Object.assign({},e,{focused:!1}))),x?.(e)}),[j,x]),{baseStyles:T,hoverStyles:L}=mt.useMemo((()=>{const e=[],t=[];return"primary"===o?"solid"===n?l?e.push({backgroundColor:Zl(y.name,{light:y.palette.primary_700,dim:y.palette.primary_300,dark:y.palette.primary_300})}):(e.push({backgroundColor:y.palette.primary_500}),t.push({backgroundColor:y.palette.primary_600})):"outline"===n?(e.push(kl.border,y.atoms.bg,{borderWidth:1}),l?e.push(kl.border,{borderColor:y.palette.primary_200}):(e.push(kl.border,{borderColor:y.palette.primary_500}),t.push(kl.border,{backgroundColor:y.palette.primary_50}))):"ghost"===n&&(l||(e.push(y.atoms.bg),t.push({backgroundColor:y.palette.primary_100}))):"secondary"===o?"solid"===n?l?e.push(y.atoms.bg_contrast_100):(e.push(y.atoms.bg_contrast_25),t.push(y.atoms.bg_contrast_50)):"outline"===n?(e.push(kl.border,y.atoms.bg,{borderWidth:1}),l?e.push(kl.border,{borderColor:y.palette.contrast_200}):(e.push(kl.border,{borderColor:y.palette.contrast_300}),t.push(y.atoms.bg_contrast_50))):"ghost"===n&&(l||(e.push(y.atoms.bg),t.push({backgroundColor:y.palette.contrast_25}))):"secondary_inverted"===o?"solid"===n?l?e.push({backgroundColor:y.palette.contrast_600}):(e.push({backgroundColor:y.palette.contrast_900}),t.push({backgroundColor:y.palette.contrast_950})):"outline"===n?(e.push(kl.border,y.atoms.bg,{borderWidth:1}),l?e.push(kl.border,{borderColor:y.palette.contrast_200}):(e.push(kl.border,{borderColor:y.palette.contrast_300}),t.push(y.atoms.bg_contrast_50))):"ghost"===n&&(l||(e.push(y.atoms.bg),t.push({backgroundColor:y.palette.contrast_25}))):"negative"===o?"solid"===n?l?e.push({backgroundColor:Zl(y.name,{light:y.palette.negative_700,dim:y.palette.negative_300,dark:y.palette.negative_300})}):(e.push({backgroundColor:y.palette.negative_500}),t.push({backgroundColor:y.palette.negative_600})):"outline"===n?(e.push(kl.border,y.atoms.bg,{borderWidth:1}),l?e.push(kl.border,{borderColor:y.palette.negative_200}):(e.push(kl.border,{borderColor:y.palette.negative_500}),t.push(kl.border,{backgroundColor:y.palette.negative_50}))):"ghost"===n&&(l||(e.push(y.atoms.bg),t.push({backgroundColor:y.palette.negative_100}))):"negative_secondary"===o&&("solid"===n?l?e.push({backgroundColor:Zl(y.name,{light:y.palette.negative_100,dim:y.palette.negative_50,dark:y.palette.negative_50})}):(e.push({backgroundColor:Zl(y.name,{light:y.palette.negative_50,dim:y.palette.negative_100,dark:y.palette.negative_100})}),t.push({backgroundColor:Zl(y.name,{light:y.palette.negative_100,dim:y.palette.negative_200,dark:y.palette.negative_200})})):"outline"===n?(e.push(kl.border,y.atoms.bg,{borderWidth:1}),l?e.push(kl.border,{borderColor:y.palette.negative_200}):(e.push(kl.border,{borderColor:y.palette.negative_500}),t.push(kl.border,{backgroundColor:y.palette.negative_50}))):"ghost"===n&&(l||(e.push(y.atoms.bg),t.push({backgroundColor:y.palette.negative_100})))),"default"===i?"large"===r?e.push({paddingVertical:13,paddingHorizontal:20,borderRadius:8,gap:8}):"small"===r?e.push({paddingVertical:9,paddingHorizontal:12,borderRadius:6,gap:6}):"tiny"===r&&e.push({paddingVertical:4,paddingHorizontal:8,borderRadius:4,gap:4}):"round"!==i&&"square"!==i||("large"===r?"round"===i?e.push({height:46,width:46}):e.push({height:44,width:44}):"small"===r?e.push({height:34,width:34}):"tiny"===r&&("round"===i?e.push({height:22,width:22}):e.push({height:21,width:21})),"round"===i?e.push(kl.rounded_full):"square"===i&&("tiny"===r?e.push(kl.rounded_xs):e.push(kl.rounded_sm))),{baseStyles:e,hoverStyles:t}}),[y,n,o,r,i,l]),A=mt.useMemo((()=>{const e={primary:go.sky,secondary:go.sky,secondary_inverted:go.sky,negative:go.sky,negative_secondary:go.sky,gradient_primary:go.primary,gradient_sky:go.sky,gradient_midnight:go.midnight,gradient_sunrise:go.sunrise,gradient_sunset:go.sunset,gradient_nordic:go.nordic,gradient_bonfire:go.bonfire}[o||"primary"];if("gradient"===n){if(e.values.length<2)throw new Error("Gradient buttons must have at least two colors in the gradient");return{colors:e.values.map((([e,t])=>t)),hoverColors:e.values.map((t=>e.hover_value)),locations:e.values.map((([e,t])=>e))}}}),[n,o]),I=mt.useMemo((()=>Object.assign({},b,{variant:n,color:o,size:r,disabled:l||!1})),[b,n,o,r,l]),R=Wl([T,c]);return(0,Ft.jsxs)(u,Object.assign({role:"button",accessibilityHint:void 0},_,{ref:t,"aria-label":a,"aria-pressed":b.pressed,accessibilityLabel:a,disabled:l||!1,accessibilityState:{disabled:l||!1},style:[kl.flex_row,kl.align_center,kl.justify_center,R,...b.hovered||b.pressed?[L,Wl(d)]:[]],onPressIn:v,onPressOut:w,onHoverIn:S,onHoverOut:k,onFocus:C,onBlur:P,children:["gradient"===n&&A&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.overflow_hidden,{borderRadius:R.borderRadius}],children:(0,Ft.jsx)(sr.LinearGradient,{colors:b.hovered||b.pressed?A.hoverColors:A.colors,locations:A.locations,start:{x:0,y:0},end:{x:1,y:1},style:[kl.absolute,kl.inset_0]})}),(0,Ft.jsx)(vr.Provider,{value:I,children:"function"===typeof s?s(I):s})]}))}));function kr(){const e=(0,i.c)(6),t=ec(),{color:s,variant:n,disabled:o,size:r}=wr();let a,l;if(e[0]!==s||e[1]!==o||e[2]!==r||e[3]!==t||e[4]!==n){const i=[];"primary"===s?"solid"===n?o?i.push({color:t.palette.white,opacity:.5}):i.push({color:t.palette.white}):("outline"===n||"ghost"===n)&&(o?i.push({color:t.palette.primary_600,opacity:.5}):i.push({color:t.palette.primary_600})):"secondary"===s?"solid"===n||"gradient"===n?o?i.push({color:t.palette.contrast_400}):i.push({color:t.palette.contrast_700}):("outline"===n||"ghost"===n)&&(o?i.push({color:t.palette.contrast_300}):i.push({color:t.palette.contrast_600})):"secondary_inverted"===s?"solid"===n||"gradient"===n?o?i.push({color:t.palette.contrast_400}):i.push({color:t.palette.contrast_50}):("outline"===n||"ghost"===n)&&(o?i.push({color:t.palette.contrast_300}):i.push({color:t.palette.contrast_600})):"negative"===s?"solid"===n||"gradient"===n?o?i.push({color:t.palette.white,opacity:.5}):i.push({color:t.palette.white}):("outline"===n||"ghost"===n)&&(o?i.push({color:t.palette.negative_400,opacity:.5}):i.push({color:t.palette.negative_400})):"negative_secondary"===s?"solid"===n||"gradient"===n?o?i.push({color:Zl(t.name,{light:t.palette.negative_500,dim:t.palette.negative_700,dark:t.palette.negative_700}),opacity:.5}):i.push({color:Zl(t.name,{light:t.palette.negative_500,dim:t.palette.negative_950,dark:t.palette.negative_900})}):("outline"===n||"ghost"===n)&&(o?i.push({color:t.palette.negative_400,opacity:.5}):i.push({color:t.palette.negative_400})):o?i.push({color:t.palette.white,opacity:.5}):i.push({color:t.palette.white}),"large"===r?i.push(kl.text_md,kl.leading_tight):"small"===r?i.push(kl.text_sm,kl.leading_tight):"tiny"===r&&i.push(kl.text_xs,kl.leading_tight),l=Gn.default.flatten(i),e[0]=s,e[1]=o,e[2]=r,e[3]=t,e[4]=n,e[5]=l}else l=e[5];return a=l,a}function Cr(e){const t=(0,i.c)(11);let s,n,o;if(t[0]!==e){var r=e;({children:s,style:o}=r),n=(0,ls.default)(r,jr),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const a=kr();let l,c;return t[4]!==o||t[5]!==a?(l=[kl.font_bold,kl.text_center,a,o],t[4]=o,t[5]=a,t[6]=l):l=t[6],t[7]!==s||t[8]!==n||t[9]!==l?(c=(0,Ft.jsx)(fr,Object.assign({},n,{style:l,children:s})),t[7]=s,t[8]=n,t[9]=l,t[10]=c):c=t[10],c}function Pr(e){const t=(0,i.c)(32),{icon:s,position:n,size:o}=e,{size:r,disabled:a}=wr(),l=kr();let c;const d=o??({large:"sm",small:"sm",tiny:"xs"}[r||"small"]||"sm");let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u={xs:12,sm:16,md:20,lg:24,xl:28,"2xl":32},t[0]=u):u=t[0];const m=u[d];let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h={large:18,small:16,tiny:13},t[1]=h):h=t[1];const p=h[r||"small"];let f;t[2]!==p||t[3]!==m?(f={iconSize:m,iconContainerSize:p},t[2]=p,t[3]=m,t[4]=f):f=t[4],c=f;const{iconSize:g,iconContainerSize:x}=c,_=a?.7:1,y="left"===n?-2:0,b="right"===n?-2:0;let j;t[5]!==x||t[6]!==_||t[7]!==y||t[8]!==b?(j=[kl.z_20,{width:x,height:x,opacity:_,marginLeft:y,marginRight:b}],t[5]=x,t[6]=_,t[7]=y,t[8]=b,t[9]=j):j=t[9];const v=g/2*-1;let w;t[10]!==v?(w={translateX:v},t[10]=v,t[11]=w):w=t[11];const S=g/2*-1;let k,C,P,T,L,A,I;return t[12]!==S?(k={translateY:S},t[12]=S,t[13]=k):k=t[13],t[14]!==w||t[15]!==k?(C=[w,k],t[14]=w,t[15]=k,t[16]=C):C=t[16],t[17]!==g||t[18]!==C?(P=[kl.absolute,{width:g,height:g,top:"50%",left:"50%",transform:C}],t[17]=g,t[18]=C,t[19]=P):P=t[19],t[20]!==l.color?(T=[{color:l.color,pointerEvents:"none"}],t[20]=l.color,t[21]=T):T=t[21],t[22]!==s||t[23]!==g||t[24]!==T?(L=(0,Ft.jsx)(s,{width:g,style:T}),t[22]=s,t[23]=g,t[24]=T,t[25]=L):L=t[25],t[26]!==P||t[27]!==L?(A=(0,Ft.jsx)(wo.default,{style:P,children:L}),t[26]=P,t[27]=L,t[28]=A):A=t[28],t[29]!==A||t[30]!==j?(I=(0,Ft.jsx)(wo.default,{style:j,children:A}),t[29]=A,t[30]=j,t[31]=I):I=t[31],I}Sr.displayName="Button";const Tr=(0,mt.createContext)({close:()=>{},isNativeDialog:!1,nativeSnapPoint:Uo.Hidden,disableDrag:!1,setDisableDrag:()=>{},isWithinDialog:!1});function Lr(){return(0,mt.useContext)(Tr)}function Ar(){const e=(0,mt.useId)(),t=(0,mt.useRef)({open:()=>{},close:()=>{}}),{activeDialogs:s}=Jo();return(0,mt.useEffect)((()=>(s.current.set(e,t),()=>{s.current.delete(e)})),[e,s]),(0,mt.useMemo)((()=>({id:e,ref:t,open:()=>{t.current.open()},close:e=>{t.current.close(e)}})),[e,t])}var Ir=s(77669);const Rr=["fill","size","gradient"],Dr={xs:12,sm:16,md:20,lg:24,xl:28,"2xl":32};function Fr(e){const t=(0,i.c)(18),s=ec();let n,o,r,a,l;if(t[0]!==e){var c=e;({fill:n,size:a,gradient:o}=c),r=(0,ls.default)(c,Rr),t[0]=e,t[1]=n,t[2]=o,t[3]=r,t[4]=a}else n=t[1],o=t[2],r=t[3],a=t[4];t[5]!==r.style?(l=Gn.default.flatten(r.style),t[5]=r.style,t[6]=l):l=t[6];const d=l,u=Number(a?Dr[a]:r.width||Dr.md);let m,h=n||d?.color||s.palette.primary_500,p=null;if(o&&go[o]){const e=o+"_"+(0,Xt.nanoid)(),s=go[o];let n,r;h=`url(#${e})`,t[7]!==s.values?(n=s.values.map(Er),t[7]=s.values,t[8]=n):n=t[8],t[9]!==e||t[10]!==n?(r=(0,Ft.jsx)(Ir.Defs,{children:(0,Ft.jsx)(Ir.LinearGradient,{id:e,x1:"0",y1:"0",x2:"100%",y2:"0",gradientTransform:"rotate(45)",children:n})}),t[9]=e,t[10]=n,t[11]=r):r=t[11],p=r}return t[12]!==h||t[13]!==u||t[14]!==p||t[15]!==r||t[16]!==d?(m=Object.assign({fill:h,size:u,style:d,gradient:p},r),t[12]=h,t[13]=u,t[14]=p,t[15]=r,t[16]=d,t[17]=m):m=t[17],m}function Er(e){const[t,s]=e;return(0,Ft.jsx)(Ir.Stop,{offset:t,stopColor:s},t)}const Mr=["fill","size","style"],Br=["fill","size","style","gradient"],Or=["fill","size","style","gradient"];mt.forwardRef((function(e,t){const s=(0,i.c)(15),n=Fr(e);let o,r,a,l,c,d,u;if(s[0]!==n){var m=n;({fill:o,size:a,style:l}=m),r=(0,ls.default)(m,Mr),s[0]=n,s[1]=o,s[2]=r,s[3]=a,s[4]=l}else o=s[1],r=s[2],a=s[3],l=s[4];return s[5]!==l?(c=[l],s[5]=l,s[6]=c):c=s[6],s[7]!==o?(d=(0,Ft.jsx)(Ir.Path,{fill:o,fillRule:"evenodd",clipRule:"evenodd",d:"M4.062 11h2.961c.103-2.204.545-4.218 1.235-5.77.06-.136.123-.269.188-.399A8.007 8.007 0 0 0 4.062 11ZM12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 2c-.227 0-.518.1-.868.432-.354.337-.719.872-1.047 1.61-.561 1.263-.958 2.991-1.06 4.958h5.95c-.102-1.967-.499-3.695-1.06-4.958-.328-.738-.693-1.273-1.047-1.61C12.518 4.099 12.227 4 12 4Zm4.977 7c-.103-2.204-.545-4.218-1.235-5.77a9.78 9.78 0 0 0-.188-.399A8.006 8.006 0 0 1 19.938 11h-2.961Zm-2.003 2H9.026c.101 1.966.498 3.695 1.06 4.958.327.738.692 1.273 1.046 1.61.35.333.641.432.868.432.227 0 .518-.1.868-.432.354-.337.719-.872 1.047-1.61.561-1.263.958-2.991 1.06-4.958Zm.58 6.169c.065-.13.128-.263.188-.399.69-1.552 1.132-3.566 1.235-5.77h2.961a8.006 8.006 0 0 1-4.384 6.169Zm-7.108 0a9.877 9.877 0 0 1-.188-.399c-.69-1.552-1.132-3.566-1.235-5.77H4.062a8.006 8.006 0 0 0 4.384 6.169Z"}),s[7]=o,s[8]=d):d=s[8],s[9]!==t||s[10]!==r||s[11]!==a||s[12]!==c||s[13]!==d?(u=(0,Ft.jsx)(Ir.default,Object.assign({fill:"none"},r,{ref:t,viewBox:"0 0 24 24",width:a,height:a,style:c,children:d})),s[9]=t,s[10]=r,s[11]=a,s[12]=c,s[13]=d,s[14]=u):u=s[14],u}));function zr({path:e}){return mt.forwardRef((function(t,s){const n=(0,i.c)(17),o=Fr(t);let r,a,l,c,d,u,m,h;if(n[0]!==o){var p=o;({fill:r,size:c,style:d,gradient:a}=p),l=(0,ls.default)(p,Br),n[0]=o,n[1]=r,n[2]=a,n[3]=l,n[4]=c,n[5]=d}else r=n[1],a=n[2],l=n[3],c=n[4],d=n[5];return n[6]!==d?(u=[d],n[6]=d,n[7]=u):u=n[7],n[8]!==r?(m=(0,Ft.jsx)(Ir.Path,{fill:r,fillRule:"evenodd",clipRule:"evenodd",d:e}),n[8]=r,n[9]=m):m=n[9],n[10]!==a||n[11]!==s||n[12]!==l||n[13]!==c||n[14]!==u||n[15]!==m?(h=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none"},l,{ref:s,viewBox:"0 0 24 24",width:c,height:c,style:u,children:[a,m]})),n[10]=a,n[11]=s,n[12]=l,n[13]=c,n[14]=u,n[15]=m,n[16]=h):h=n[16],h}))}const Hr=zr({path:"M4.293 4.293a1 1 0 0 1 1.414 0L12 10.586l6.293-6.293a1 1 0 1 1 1.414 1.414L13.414 12l6.293 6.293a1 1 0 0 1-1.414 1.414L12 13.414l-6.293 6.293a1 1 0 0 1-1.414-1.414L10.586 12 4.293 5.707a1 1 0 0 1 0-1.414Z"});function Nr(){const e=(0,mt.createContext)({outlet:null,append:()=>{},remove:()=>{}});return{Provider:function(t){const s=(0,i.c)(8);let n;s[0]===Symbol.for("react.memo_cache_sentinel")?(n={},s[0]=n):n=s[0];const o=(0,mt.useRef)(n),[r,a]=(0,mt.useState)(null);let l;s[1]===Symbol.for("react.memo_cache_sentinel")?(l=(e,t)=>{o.current[e]||(o.current[e]=(0,Ft.jsx)(mt.Fragment,{children:t},e),a((0,Ft.jsx)(Ft.Fragment,{children:Object.values(o.current)})))},s[1]=l):l=s[1];const c=l;let d;s[2]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{o.current[e]=null,a((0,Ft.jsx)(Ft.Fragment,{children:Object.values(o.current)}))},s[2]=d):d=s[2];const u=d;let m,h;s[3]!==r?(h={outlet:r,append:c,remove:u},s[3]=r,s[4]=h):h=s[4],m=h;const p=m;let f;return s[5]!==p||s[6]!==t.children?(f=(0,Ft.jsx)(e.Provider,{value:p,children:t.children}),s[5]=p,s[6]=t.children,s[7]=f):f=s[7],f},Outlet:function(){return(0,mt.useContext)(e).outlet},Portal:function(t){const s=(0,i.c)(6),{children:n}=t,{append:o,remove:r}=(0,mt.useContext)(e),a=(0,mt.useId)();let l,c;return s[0]!==o||s[1]!==n||s[2]!==a||s[3]!==r?(l=()=>(o(a,n),()=>r(a)),c=[a,n,o,r],s[0]=o,s[1]=n,s[2]=a,s[3]=r,s[4]=l,s[5]=c):(l=s[4],c=s[5]),(0,mt.useEffect)(l,c),null}}}const Vr=Nr(),qr=Vr.Provider,Ur=Vr.Outlet,Wr=Vr.Portal;function Zr(e){const t=(0,i.c)(17),{renderLeft:s,renderRight:n,children:o,style:r,onLayout:a}=e,l=ec();let c,d,u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c={minHeight:50},t[0]=c):c=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(d={borderTopLeftRadius:kl.rounded_md.borderRadius},u={borderTopRightRadius:kl.rounded_md.borderRadius},t[1]=d,t[2]=u):(d=t[1],u=t[2]),t[3]!==r||t[4]!==l.atoms.bg||t[5]!==l.atoms.border_contrast_medium?(m=[kl.relative,kl.w_full,kl.py_sm,kl.flex_row,kl.justify_center,kl.align_center,c,kl.border_b,l.atoms.border_contrast_medium,l.atoms.bg,d,u,r],t[3]=r,t[4]=l.atoms.bg,t[5]=l.atoms.border_contrast_medium,t[6]=m):m=t[6],t[7]!==s?(h=s&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,{left:6}],children:s()}),t[7]=s,t[8]=h):h=t[8],t[9]!==n?(p=n&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,{right:6}],children:n()}),t[9]=n,t[10]=p):p=t[10],t[11]!==o||t[12]!==a||t[13]!==m||t[14]!==h||t[15]!==p?(f=(0,Ft.jsxs)(wo.default,{onLayout:a,style:m,children:[h,o,p]}),t[11]=o,t[12]=a,t[13]=m,t[14]=h,t[15]=p,t[16]=f):f=t[16],f}function Qr(e){const t=(0,i.c)(5),{children:s,style:n}=e;let o,r;return t[0]!==n?(o=[kl.text_lg,kl.text_center,kl.font_bold,n],t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(r=(0,Ft.jsx)(fr,{style:o,children:s}),t[2]=s,t[3]=o,t[4]=r):r=t[4],r}var Kr=s(8299);const $r="http://localhost:2583",Gr="https://staging.bsky.dev",Yr="https://bsky.social",Jr="https://public.api.bsky.app",Xr=Yr,ei="https://blueskyweb.zendesk.com/hc/en-us",ti="https://bsky.app/download",si=150,ni=56e4,oi={"did:plc:oisofpd7lj26yvgiivf3lxsi":!0,"did:plc:p2cp5gopk7mgjegy6wadk3ep":!0,"did:plc:ragtjsm2j2vknwkz3zp4oxrd":!0,"did:plc:vpkhqolt662uhesyj6nxm7ys":!0,"did:plc:3jpt2mvvsumj2r7eqk4gzzjz":!0,"did:plc:vjug55kidv6sye7ykr5faxxn":!0,"did:plc:tgqseeot47ymot4zro244fj3":!0,"did:plc:2dzyut5lxna5ljiaasgeuffz":!0},ri=`${ei}/requests/new`;function ii({email:e,handle:t}){let s=ri;return e&&(s+=`?tf_anonymous_requester_email=${encodeURIComponent(e)}`,t&&(s+=`&tf_17205412673421=${encodeURIComponent(t)}`)),s}const ai=300,li=1e3,ci=2e3,di=2e3;function ui(e){return e&&e!==Gr&&!e.startsWith($r)}const mi=e=>`at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/${e}`,hi=e=>`at://did:plc:yofh3kx63drvfljkibw5zuxo/app.bsky.feed.generator/${e}`,pi=[`feedgen|${mi("whats-hot")}`,`feedgen|${mi("thevids")}`],fi=[`feedgen|${hi("whats-hot")}`,`feedgen|${hi("thevids")}`],gi=[...pi,...fi],xi={width:2e3,height:2e3,size:1e6},_i="https://cardyb.staging.bsky.dev/v1/extract?url=",yi="https://cardyb.bsky.app/v1/extract?url=";const bi="https://status.bsky.app/",ji=e=>({top:e,left:e,bottom:e,right:e}),vi=ji(10),wi=ji(20),Si=ji(30),ki={top:5,bottom:10,left:10,right:10},Ci={top:10,bottom:10,left:4,right:4},Pi=Si,Ti=25,Li="did:plc:z72i7hdynmk6r22z27h6tvur",Ai=[Li,"did:plc:vpkhqolt662uhesyj6nxm7ys","did:plc:q6gjnaw2blty4crticxkmujt"],Ii="at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/whats-hot",Ri="at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/thevids",Di=[Ri,"at://did:plc:yofh3kx63drvfljkibw5zuxo/app.bsky.feed.generator/thevids"],Fi={type:"feed",value:Ii,pinned:!0},Ei={type:"timeline",value:"following",pinned:!0},Mi={type:"feed",value:Ri,pinned:!0},Bi=[Fi,Ei],Oi=["at://did:plc:wqowuobffl66jv3kpsvo7ak4/app.bsky.feed.generator/the-algorithm"],zi="https://gifs.bsky.app",Hi="https://video.bsky.app",Ni="did:web:video.bsky.app",Vi=18e4,qi=1e8,Ui=["video/mp4","video/mpeg","video/webm","video/quicktime","image/gif"],Wi=5,Zi={website:{blog:{initialVerificationAnnouncement:"https://bsky.social/about/blog/04-21-2025-verification"}}};function Qi(e){return t=>{e.forEach((e=>{"function"===typeof e?e(t):null!=e&&(e.current=t)}))}}function Ki(){const e=(0,i.c)(4),[t,s]=mt.useState(!1);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{s(!0)},e[0]=n):n=e[0];const o=n;let r;e[1]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{s(!1)},e[1]=r):r=e[1];const a=r;let l,c;return e[2]!==t?(c={state:t,onIn:o,onOut:a},e[2]=t,e[3]=c):c=e[3],l=c,l}const $i=["label","placeholder","value","onChangeText","onFocus","onBlur","isInvalid","inputRef","style"],Gi=mt.createContext({inputRef:null,isInvalid:!1,hovered:!1,onHoverIn:()=>{},onHoverOut:()=>{},focused:!1,onFocus:()=>{},onBlur:()=>{}});function Yi({children:e,isInvalid:t=!1}){const s=mt.useRef(null),{state:n,onIn:o,onOut:r}=Ki(),{state:i,onIn:a,onOut:l}=Ki(),c=mt.useMemo((()=>({inputRef:s,hovered:n,onHoverIn:o,onHoverOut:r,focused:i,onFocus:a,onBlur:l,isInvalid:t})),[s,n,o,r,i,a,l,t]);return(0,Ft.jsx)(Gi.Provider,{value:c,children:(0,Ft.jsx)(wo.default,Object.assign({style:[kl.flex_row,kl.align_center,kl.relative,kl.w_full,kl.px_md]},_o({onClick:()=>s.current?.focus(),onMouseOver:o,onMouseOut:r}),{children:e}))})}function Ji(){const e=(0,i.c)(15),t=ec();let s,n,o,r,a,l;if(e[0]!==t.palette.contrast_100||e[1]!==t.palette.contrast_50||e[2]!==t.palette.negative_25||e[3]!==t.palette.negative_300||e[4]!==t.palette.negative_500||e[5]!==t.palette.primary_500){const s=[{borderColor:t.palette.contrast_100}],i=[{backgroundColor:t.palette.contrast_50,borderColor:t.palette.primary_500}],l=[{backgroundColor:t.palette.negative_25,borderColor:t.palette.negative_300}],c=[{backgroundColor:t.palette.negative_25,borderColor:t.palette.negative_500}];n=Gn.default.flatten(s),o=Gn.default.flatten(i),r=Gn.default.flatten(l),a=Gn.default.flatten(c),e[0]=t.palette.contrast_100,e[1]=t.palette.contrast_50,e[2]=t.palette.negative_25,e[3]=t.palette.negative_300,e[4]=t.palette.negative_500,e[5]=t.palette.primary_500,e[6]=n,e[7]=o,e[8]=r,e[9]=a}else n=e[6],o=e[7],r=e[8],a=e[9];return e[10]!==n||e[11]!==o||e[12]!==r||e[13]!==a?(l={chromeHover:n,chromeFocus:o,chromeError:r,chromeErrorHover:a},e[10]=n,e[11]=o,e[12]=r,e[13]=a,e[14]=l):l=e[14],s=l,s}function Xi(e){return function t(s){let{label:n,placeholder:o,value:r,onChangeText:i,onFocus:a,onBlur:l,isInvalid:c,inputRef:d,style:u}=s,m=(0,ls.default)(s,$i);const h=ec(),{fonts:p}=Xl(),f=mt.useContext(Gi),g=Boolean(f.inputRef),{chromeHover:x,chromeFocus:_,chromeError:y,chromeErrorHover:b}=Ji();if(!g)return(0,Ft.jsx)(Yi,{isInvalid:c,children:(0,Ft.jsx)(t,Object.assign({label:n,placeholder:o,value:r,onChangeText:i,isInvalid:c},m))});const j=Qi([f.inputRef,d].filter(Boolean)),v=Gn.default.flatten([kl.relative,kl.z_20,kl.flex_1,kl.text_md,h.atoms.text,kl.px_xs,{lineHeight:1.1875*kl.text_md.fontSize,textAlignVertical:m.multiline?"top":void 0,minHeight:m.multiline?80:void 0,minWidth:0},yo({paddingTop:12,paddingBottom:13}),bo(kl.py_sm),_o({paddingTop:10,paddingBottom:11,marginTop:2,marginBottom:2}),u]);return $n(v,p.family),v.fontSize&&(v.fontSize=Math.round(v.fontSize*p.scaleMultiplier)),(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(e,Object.assign({accessibilityHint:void 0,hitSlop:wi},m,{accessibilityLabel:n,ref:j,value:r,onChangeText:i,onFocus:e=>{f.onFocus(),a?.(e)},onBlur:e=>{f.onBlur(),l?.(e)},placeholder:o||n,placeholderTextColor:h.palette.contrast_500,keyboardAppearance:"light"===h.name?"light":"dark",style:v})),(0,Ft.jsx)(wo.default,{style:[kl.z_10,kl.absolute,kl.inset_0,kl.rounded_sm,h.atoms.bg_contrast_25,{borderColor:"transparent",borderWidth:2},f.hovered?x:{},f.focused?_:{},f.isInvalid||c?y:{},(f.isInvalid||c)&&(f.hovered||f.focused)?b:{}]})]})}}const ea=Xi(Kr.default);function ta(e){const t=(0,i.c)(6),{nativeID:s,children:n}=e,o=ec();let r,a;return t[0]!==o.atoms.text_contrast_medium?(r=[kl.text_sm,kl.font_bold,o.atoms.text_contrast_medium,kl.mb_sm],t[0]=o.atoms.text_contrast_medium,t[1]=r):r=t[1],t[2]!==n||t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{nativeID:s,style:r,children:n}),t[2]=n,t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function sa(e){const t=(0,i.c)(39),{icon:s}=e,n=ec(),o=mt.useContext(Gi);let r,a;t[0]!==n.palette.contrast_800?(a=[{color:n.palette.contrast_800}],t[0]=n.palette.contrast_800,t[1]=a):a=t[1];const l=a;let c;t[2]!==n.palette.primary_500?(c=[{color:n.palette.primary_500}],t[2]=n.palette.primary_500,t[3]=c):c=t[3];const d=c;let u;t[4]!==n.palette.negative_500?(u=[{color:n.palette.negative_500}],t[4]=n.palette.negative_500,t[5]=u):u=t[5];const m=u;let h;t[6]!==n.palette.negative_500?(h=[{color:n.palette.negative_500}],t[6]=n.palette.negative_500,t[7]=h):h=t[7];const p=h;let f;t[8]!==p||t[9]!==m||t[10]!==d||t[11]!==l?(f={hover:l,focus:d,errorHover:m,errorFocus:p},t[8]=p,t[9]=m,t[10]=d,t[11]=l,t[12]=f):f=t[12],r=f;const{hover:g,focus:x,errorHover:_,errorFocus:y}=r;let b,j,v,w,S,k,C,P;return t[13]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.z_20,kl.pr_xs],t[13]=b):b=t[13],t[14]!==n.palette.contrast_500?(j={color:n.palette.contrast_500,pointerEvents:"none",flexShrink:0},t[14]=n.palette.contrast_500,t[15]=j):j=t[15],t[16]!==o.hovered||t[17]!==g?(v=o.hovered?g:{},t[16]=o.hovered,t[17]=g,t[18]=v):v=t[18],t[19]!==o.focused||t[20]!==x?(w=o.focused?x:{},t[19]=o.focused,t[20]=x,t[21]=w):w=t[21],t[22]!==o.hovered||t[23]!==o.isInvalid||t[24]!==_?(S=o.isInvalid&&o.hovered?_:{},t[22]=o.hovered,t[23]=o.isInvalid,t[24]=_,t[25]=S):S=t[25],t[26]!==o.focused||t[27]!==o.isInvalid||t[28]!==y?(k=o.isInvalid&&o.focused?y:{},t[26]=o.focused,t[27]=o.isInvalid,t[28]=y,t[29]=k):k=t[29],t[30]!==w||t[31]!==S||t[32]!==k||t[33]!==j||t[34]!==v?(C=[j,v,w,S,k],t[30]=w,t[31]=S,t[32]=k,t[33]=j,t[34]=v,t[35]=C):C=t[35],t[36]!==s||t[37]!==C?(P=(0,Ft.jsx)(wo.default,{style:b,children:(0,Ft.jsx)(s,{size:"md",style:C})}),t[36]=s,t[37]=C,t[38]=P):P=t[38],P}function na(e){const t=(0,i.c)(14),{children:s,label:n,accessibilityHint:o,style:r}=e,a=ec(),l=mt.useContext(Gi),c=a.atoms.text_contrast_medium;let d,u,m,h;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=_o([{marginTop:-2},kl.leading_snug]),t[0]=d):d=t[0],t[1]!==l.focused||t[2]!==l.hovered||t[3]!==a.palette?(u=(l.hovered||l.focused)&&{color:a.palette.contrast_800},t[1]=l.focused,t[2]=l.hovered,t[3]=a.palette,t[4]=u):u=t[4],t[5]!==r||t[6]!==a.atoms.text_contrast_medium||t[7]!==u?(m=[kl.z_20,kl.pr_sm,kl.text_md,c,kl.pointer_events_none,d,u,r],t[5]=r,t[6]=a.atoms.text_contrast_medium,t[7]=u,t[8]=m):m=t[8],t[9]!==o||t[10]!==s||t[11]!==n||t[12]!==m?(h=(0,Ft.jsx)(fr,{accessibilityLabel:n,accessibilityHint:o,numberOfLines:1,style:m,children:s}),t[9]=o,t[10]=s,t[11]=n,t[12]=m,t[13]=h):h=t[13],h}const oa=["label","style","webInnerStyle","webInnerContentContainerStyle"],ra=e=>e.stopPropagation(),ia=e=>e.preventDefault();function aa({children:e,control:t,onClose:s,webOptions:n}){const{_:o}=(0,ft.useLingui)(),{gtMobile:r}=ql(),[i,a]=mt.useState(!1),{setDialogIsOpen:l}=Xo(),c=mt.useCallback((()=>{l(t.id,!0),a(!0)}),[a,l,t.id]),d=mt.useCallback((e=>{l(t.id,!1),a(!1);try{e&&"function"===typeof e&&setTimeout(e)}catch(n){ys.error("Dialog closeCallback failed",{message:n.message})}s?.()}),[t.id,s,l]),u=mt.useCallback((async()=>{d()}),[d]);(0,mt.useImperativeHandle)(t.ref,(()=>({open:c,close:d})),[d,c]);const m=mt.useMemo((()=>({close:d,isNativeDialog:!1,nativeSnapPoint:0,disableDrag:!1,setDisableDrag:()=>{},isWithinDialog:!0})),[d]);return(0,Ft.jsx)(Ft.Fragment,{children:i&&(0,Ft.jsx)(Wr,{children:(0,Ft.jsxs)(Tr.Provider,{value:m,children:[(0,Ft.jsx)(Fo.RemoveScrollBar,{}),(0,Ft.jsx)(Ao.default,{accessibilityHint:void 0,accessibilityLabel:o({id:"vxrRSA"}),onPress:u,children:(0,Ft.jsxs)(wo.default,{style:[_o(kl.fixed),kl.inset_0,kl.z_10,kl.px_xl,n?.alignCenter?kl.justify_center:void 0,kl.align_center,{overflowY:"auto",paddingVertical:r?"10vh":kl.pt_xl.paddingTop}],children:[(0,Ft.jsx)(pa,{}),(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.z_20,kl.align_center,_o({minHeight:"60vh",position:"static"})],children:e})]})})]})})})}function la(e){const t=(0,i.c)(24),{children:s,style:n,label:o,accessibilityLabelledBy:r,accessibilityDescribedBy:a,header:l,contentContainerStyle:c}=e,d=ec(),{close:u}=mt.useContext(Tr),{gtMobile:m}=ql(),{reduceMotionEnabled:h}=Bo();Io.useFocusGuards();const p="light"===d.name?.1:.4;let f,g;t[0]!==h||t[1]!==n||t[2]!==d.atoms.bg||t[3]!==d.palette.black||t[4]!==d.palette.contrast_200||t[5]!==p?(f=Wl([kl.relative,kl.rounded_md,kl.w_full,kl.border,d.atoms.bg,{maxWidth:600,borderColor:d.palette.contrast_200,shadowColor:d.palette.black,shadowOpacity:p,shadowRadius:30},!h&&kl.zoom_fade_in,n]),t[0]=h,t[1]=n,t[2]=d.atoms.bg,t[3]=d.palette.black,t[4]=d.palette.contrast_200,t[5]=p,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g={display:"flex",flexDirection:"column"},t[7]=g):g=t[7];const x=m?kl.p_2xl:kl.p_xl;let _,y,b,j;return t[8]!==c||t[9]!==x?(_=[x,c],t[8]=c,t[9]=x,t[10]=_):_=t[10],t[11]!==s||t[12]!==_?(y=(0,Ft.jsx)(wo.default,{style:_,children:s}),t[11]=s,t[12]=_,t[13]=y):y=t[13],t[14]!==u||t[15]!==l||t[16]!==y?(b=(0,Ft.jsxs)(Ro.DismissableLayer,{onInteractOutside:ia,onFocusOutside:ia,onDismiss:u,style:g,children:[l,y]}),t[14]=u,t[15]=l,t[16]=y,t[17]=b):b=t[17],t[18]!==a||t[19]!==r||t[20]!==o||t[21]!==f||t[22]!==b?(j=(0,Ft.jsx)(Do.FocusScope,{loop:!0,asChild:!0,trapped:!0,children:(0,Ft.jsx)(wo.default,{role:"dialog","aria-role":"dialog","aria-label":o,"aria-labelledby":r,"aria-describedby":a,onClick:ra,onStartShouldSetResponder:ca,onTouchEnd:ra,style:f,children:b})}),t[18]=a,t[19]=r,t[20]=o,t[21]=f,t[22]=b,t[23]=j):j=t[23],j}function ca(e){return!0}const da=la,ua=mt.forwardRef((function(e,t){const s=(0,i.c)(25);let n,o,r,a,l;if(s[0]!==e){var c=e;({label:n,style:r,webInnerStyle:l,webInnerContentContainerStyle:a}=c),o=(0,ls.default)(c,oa),s[0]=e,s[1]=n,s[2]=o,s[3]=r,s[4]=a,s[5]=l}else n=s[1],o=s[2],r=s[3],a=s[4],l=s[5];const{gtMobile:d}=ql();let u,m,h;s[6]===Symbol.for("react.memo_cache_sentinel")?(u=_o({maxHeight:"80vh"}),s[6]=u):u=s[6],s[7]!==l?(m=[kl.overflow_hidden,kl.px_0,u,l],s[7]=l,s[8]=m):m=s[8],s[9]!==a?(h=[kl.px_0,a],s[9]=a,s[10]=h):h=s[10];const p=d?kl.px_2xl:kl.px_xl;let f,g,x,_;return s[11]!==r?(f=Wl(r),s[11]=r,s[12]=f):f=s[12],s[13]!==p||s[14]!==f?(g=[p,f],s[13]=p,s[14]=f,s[15]=g):g=s[15],s[16]!==o||s[17]!==t||s[18]!==g?(x=(0,Ft.jsx)(Lo.default,Object.assign({ref:t,style:g},o)),s[16]=o,s[17]=t,s[18]=g,s[19]=x):x=s[19],s[20]!==n||s[21]!==m||s[22]!==h||s[23]!==x?(_=(0,Ft.jsx)(la,{label:n,style:m,contentContainerStyle:h,children:x}),s[20]=n,s[21]=m,s[22]=h,s[23]=x,s[24]=_):_=s[24],_}));function ma(){const e=(0,i.c)(9),{_:t}=(0,ft.useLingui)(),{close:s}=mt.useContext(Tr);let n,o,r,a,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.absolute,kl.z_10,{top:kl.pt_md.paddingTop,right:kl.pr_md.paddingRight}],e[0]=n):n=e[0],e[1]!==s?(o=()=>s(),e[1]=s,e[2]=o):o=e[2],e[3]!==t?(r=t({id:"vxrRSA"}),e[3]=t,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Pr,{icon:Hr,size:"md"}),e[5]=a):a=e[5],e[6]!==o||e[7]!==r?(l=(0,Ft.jsx)(wo.default,{style:n,children:(0,Ft.jsx)(Sr,{size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:o,label:r,children:a})}),e[6]=o,e[7]=r,e[8]=l):l=e[8],l}function ha(){return null}function pa(){const e=(0,i.c)(6),t=ec(),{reduceMotionEnabled:s}=Bo();let n,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={opacity:.8},e[0]=n):n=e[0],e[1]!==t.palette.black?(o={backgroundColor:t.palette.black},e[1]=t.palette.black,e[2]=o):o=e[2];const r=!s&&kl.fade_in;let a;return e[3]!==o||e[4]!==r?(a=(0,Ft.jsx)(wo.default,{style:n,children:(0,Ft.jsx)(wo.default,{style:[kl.fixed,kl.inset_0,o,r]})}),e[3]=o,e[4]=r,e[5]=a):a=e[5],a}const fa="calc(-1 * var(--removed-body-scroll-bar-size, 0px) / 2)",ga="calc(var(--removed-body-scroll-bar-size, 0px) / 2)",xa=3,_a=34,ya=-105,ba=mt.createContext({isWithinOffsetView:!1});var ja=s(13308),va=s(95189);const wa=mt.createContext({colorMode:"system",darkTheme:"dark"}),Sa=mt.createContext({});function ka(e){const t=(0,i.c)(13),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("colorMode"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=gn("darkTheme"),t[1]=a):a=t[1];const[l,c]=mt.useState(a);let d,u;t[2]!==o||t[3]!==l?(u={colorMode:o,darkTheme:l},t[2]=o,t[3]=l,t[4]=u):u=t[4],d=u;const m=d;let h,p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p={setColorMode:e=>{r(e),xn("colorMode",e)},setDarkTheme:e=>{c(e),xn("darkTheme",e)}},t[5]=p):p=t[5],h=p;const f=h;let g,x,_,y;return t[6]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{const e=_n("darkTheme",(e=>{c(e)})),t=_n("colorMode",(e=>{r(e)}));return()=>{e(),t()}},x=[],t[6]=g,t[7]=x):(g=t[6],x=t[7]),mt.useEffect(g,x),t[8]!==s?(_=(0,Ft.jsx)(Sa.Provider,{value:f,children:s}),t[8]=s,t[9]=_):_=t[9],t[10]!==m||t[11]!==_?(y=(0,Ft.jsx)(wa.Provider,{value:m,children:_}),t[10]=m,t[11]=_,t[12]=y):y=t[12],y}function Ca(){return mt.useContext(wa)}function Pa(){return mt.useContext(Sa)}const Ta=mt.createContext(!1),La=mt.createContext((e=>{}));function Aa(e){const t=(0,i.c)(5),{children:s}=e,[n,o]=mt.useState(!1);let r,a;return t[0]!==s?(r=(0,Ft.jsx)(La.Provider,{value:o,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==n||t[3]!==r?(a=(0,Ft.jsx)(Ta.Provider,{value:n,children:r}),t[2]=n,t[3]=r,t[4]=a):a=t[4],a}function Ia(){return mt.useContext(Ta)}function Ra(){return mt.useContext(La)}const Da=mt.createContext(!1),Fa=mt.createContext((e=>{}));function Ea(e){const t=(0,i.c)(5),{children:s}=e,[n,o]=mt.useState(!1);let r,a;return t[0]!==s?(r=(0,Ft.jsx)(Fa.Provider,{value:o,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==n||t[3]!==r?(a=(0,Ft.jsx)(Da.Provider,{value:n,children:r}),t[2]=n,t[3]=r,t[4]=a):a=t[4],a}const Ma=mt.createContext({headerMode:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}},footerMode:{value:0,addListener(){},removeListener(){},modify(){},get:()=>0,set(){}}}),Ba=mt.createContext((e=>{})),Oa={code:"function minimalModeTsx1(v){const{headerMode,withSpring,footerMode}=this.__closure;headerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});footerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});}"};function za(e){const t=(0,i.c)(12),{children:s}=e,n=(0,ko.useSharedValue)(0),o=(0,ko.useSharedValue)(0);let r;t[0]!==o||t[1]!==n?(r=function(){const e=function(e){n.set((()=>(0,ko.withSpring)(e?1:0,{overshootClamping:!0}))),o.set((()=>(0,ko.withSpring)(e?1:0,{overshootClamping:!0})))};return e.__closure={headerMode:n,withSpring:ko.withSpring,footerMode:o},e.__workletHash=0xbdeff88d575,e.__initData=Oa,e}(),t[0]=o,t[1]=n,t[2]=r):r=t[2];const a=r;let l,c;t[3]!==o||t[4]!==n?(c={headerMode:n,footerMode:o},t[3]=o,t[4]=n,t[5]=c):c=t[5],l=c;const d=l;let u,m;return t[6]!==s||t[7]!==a?(u=(0,Ft.jsx)(Ba.Provider,{value:a,children:s}),t[6]=s,t[7]=a,t[8]=u):u=t[8],t[9]!==u||t[10]!==d?(m=(0,Ft.jsx)(Ma.Provider,{value:d,children:u}),t[9]=u,t[10]=d,t[11]=m):m=t[11],m}function Ha(){return mt.useContext(Ma)}function Na(){return mt.useContext(Ba)}const Va=Object.values({Welcome:"Welcome",RecommendedFeeds:"RecommendedFeeds",RecommendedFollows:"RecommendedFollows",Home:"Home"}),qa=mt.createContext($a(rn.onboarding)),Ua=mt.createContext((e=>{}));function Wa(e,t){switch(t.type){case"set":return Va.includes(t.step)?(xn("onboarding",{step:t.step}),$a(Object.assign({},e,{step:t.step}))):e;case"next":{const s=t.currentStep||e.step;let n="Home";return"Welcome"===s?n="RecommendedFeeds":"RecommendedFeeds"===s?n="RecommendedFollows":"RecommendedFollows"===s&&(n="Home"),xn("onboarding",{step:n}),$a(Object.assign({},e,{step:n}))}case"start":return xn("onboarding",{step:"Welcome"}),$a(Object.assign({},e,{step:"Welcome"}));case"finish":case"skip":return xn("onboarding",{step:"Home"}),$a(Object.assign({},e,{step:"Home"}));default:throw new Error("Invalid action")}}function Za(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=$a(gn("onboarding")),t[0]=n):n=t[0];const[o,r]=mt.useReducer(Wa,n);let a,l,c,d;return t[1]!==o?(a=()=>_n("onboarding",(e=>{const t=e.step;o.step!==t&&r({type:"set",step:e.step})})),l=[o,r],t[1]=o,t[2]=a,t[3]=l):(a=t[2],l=t[3]),mt.useEffect(a,l),t[4]!==s?(c=(0,Ft.jsx)(Ua.Provider,{value:r,children:s}),t[4]=s,t[5]=c):c=t[5],t[6]!==o||t[7]!==c?(d=(0,Ft.jsx)(qa.Provider,{value:o,children:c}),t[6]=o,t[7]=c,t[8]=d):d=t[8],d}function Qa(){return mt.useContext(qa)}function Ka(){return mt.useContext(Ua)}function $a(e){return Object.assign({},e,{isActive:"Home"!==e.step,isComplete:"Home"===e.step})}const Ga=mt.createContext(0);function Ya(e){const t=(0,i.c)(6),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=Date.now(),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a,l,c;return t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{const e=setInterval((()=>{r(Date.now())}),6e4);return()=>clearInterval(e)},l=[],t[1]=a,t[2]=l):(a=t[1],l=t[2]),mt.useEffect(a,l),t[3]!==s||t[4]!==o?(c=(0,Ft.jsx)(Ga.Provider,{value:o,children:s}),t[3]=s,t[4]=o,t[5]=c):c=t[5],c}function Ja(){return mt.useContext(Ga)}function Xa(e){const t=(0,i.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)(Po,{children:(0,Ft.jsx)(Aa,{children:(0,Ft.jsx)(Ea,{children:(0,Ft.jsx)(za,{children:(0,Ft.jsx)(ka,{children:(0,Ft.jsx)(Za,{children:(0,Ft.jsx)(Ya,{children:s})})})})})})}),t[0]=s,t[1]=n):n=t[1],n}const el=zr({path:"M8 6a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v9a1 1 0 1 1-2 0V8.414l-9.793 9.793a1 1 0 0 1-1.414-1.414L15.586 7H9a1 1 0 0 1-1-1Z"}),tl=zr({path:"M11 20V6.164l-4.293 4.293a1 1 0 1 1-1.414-1.414l5.293-5.293.151-.138a2 2 0 0 1 2.677.138l5.293 5.293.068.076a1 1 0 0 1-1.406 1.406l-.076-.068L13 6.164V20a1 1 0 0 1-2 0Z"}),sl=zr({path:"M3 12a1 1 0 0 1 .293-.707l6-6a1 1 0 0 1 1.414 1.414L6.414 11H20a1 1 0 1 1 0 2H6.414l4.293 4.293a1 1 0 0 1-1.414 1.414l-6-6A1 1 0 0 1 3 12Z"}),nl=zr({path:"M21 12a1 1 0 0 1-.293.707l-6 6a1 1 0 0 1-1.414-1.414L17.586 13H4a1 1 0 1 1 0-2h13.586l-4.293-4.293a1 1 0 0 1 1.414-1.414l6 6A1 1 0 0 1 21 12Z"}),ol=(zr({path:"M12 21a1 1 0 0 1-.707-.293l-6-6a1 1 0 1 1 1.414-1.414L11 17.586V4a1 1 0 1 1 2 0v13.586l4.293-4.293a1 1 0 0 1 1.414 1.414l-6 6A1 1 0 0 1 12 21Z"}),zr({path:"M2 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm0 6a1 1 0 0 1 1-1h18a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Z"})),rl=["onPress","style"];function il(e){const t=(0,i.c)(21),{children:s,noBottomBorder:n,headerRef:o,sticky:r}=e,a=void 0===r||r,l=ec();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[0,"base"],t[0]=c):c=t[0];const d=Kl(c),{gtMobile:u}=ql(),{isWithinOffsetView:m}=(0,mt.useContext)(ba),{centerColumnOffset:h}=Ul(),p=!n&&kl.border_b;let f,g,x,_,y,b;return t[1]!==a||t[2]!==l.atoms.bg?(f=a&&_o([kl.sticky,{top:0},kl.z_10,l.atoms.bg]),t[1]=a,t[2]=l.atoms.bg,t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=vo({native:[kl.pb_xs,{minHeight:48}],web:[kl.py_xs,{minHeight:52}]}),t[4]=g):g=t[4],t[5]!==u?(x=u&&[kl.mx_auto,{maxWidth:600}],t[5]=u,t[6]=x):x=t[6],t[7]!==h||t[8]!==m?(_=!m&&{transform:[{translateX:h?ya:0},{translateX:_o(fa)??0}]},t[7]=h,t[8]=m,t[9]=_):_=t[9],t[10]!==d||t[11]!==l.atoms.border_contrast_low||t[12]!==p||t[13]!==f||t[14]!==x||t[15]!==_?(y=[kl.w_full,p,kl.flex_row,kl.align_center,kl.gap_sm,f,d,g,l.atoms.border_contrast_low,x,_],t[10]=d,t[11]=l.atoms.border_contrast_low,t[12]=p,t[13]=f,t[14]=x,t[15]=_,t[16]=y):y=t[16],t[17]!==s||t[18]!==o||t[19]!==y?(b=(0,Ft.jsx)(wo.default,{ref:o,style:y,children:s}),t[17]=s,t[18]=o,t[19]=y,t[20]=b):b=t[20],b}const al=(0,mt.createContext)("platform");function ll(e){const t=(0,i.c)(9),{children:s,align:n}=e,o=void 0===n?"platform":n,r=wt&&"platform"===o&&kl.align_center;let a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={minHeight:_a},t[0]=a):a=t[0],t[1]!==r?(l=[kl.flex_1,kl.justify_center,r,a],t[1]=r,t[2]=l):l=t[2],t[3]!==o||t[4]!==s?(c=(0,Ft.jsx)(al.Provider,{value:o,children:s}),t[3]=o,t[4]=s,t[5]=c):c=t[5],t[6]!==l||t[7]!==c?(d=(0,Ft.jsx)(wo.default,{style:l,children:c}),t[6]=l,t[7]=c,t[8]=d):d=t[8],d}function cl(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.z_50,{width:_a}],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function dl(e){const t=(0,i.c)(18);let s,n,o;if(t[0]!==e){var r=e;({onPress:s,style:o}=r),n=(0,ls.default)(r,rl),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const{_:a}=(0,ft.useLingui)(),l=(0,va.useNavigation)();let c;t[4]!==l||t[5]!==s?(c=e=>{s?.(e),e.defaultPrevented||(l.canGoBack()?l.goBack():l.navigate("Home"))},t[4]=l,t[5]=s,t[6]=c):c=t[6];const d=c;let u,m,h,p,f;return t[7]!==a?(u=a({id:"CKyk7Q"}),t[7]=a,t[8]=u):u=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(m={marginLeft:-xa},t[9]=m):m=t[9],t[10]!==o?(h=[m,kl.bg_transparent,o],t[10]=o,t[11]=h):h=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Pr,{icon:sl,size:"lg"}),t[12]=p):p=t[12],t[13]!==d||t[14]!==n||t[15]!==u||t[16]!==h?(f=(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(Sr,Object.assign({label:u,size:"small",variant:"ghost",color:"secondary",shape:"square",onPress:d,hitSlop:Si,style:h},n,{children:p}))}),t[13]=d,t[14]=n,t[15]=u,t[16]=h,t[17]=f):f=t[17],f}function ul(){const e=(0,i.c)(6),{_:t}=(0,ft.useLingui)(),s=Ra(),{gtMobile:n}=ql();let o;e[0]!==s?(o=()=>{ja.default.dismiss(),s(!0)},e[0]=s,e[1]=o):o=e[1];const r=o;let a;return e[2]!==t||e[3]!==n||e[4]!==r?(a=n?null:(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(Sr,{label:t({id:"o+Pyj3"}),size:"small",variant:"ghost",color:"secondary",shape:"square",onPress:r,hitSlop:Si,style:[{marginLeft:-xa}],children:(0,Ft.jsx)(Pr,{icon:ol,size:"lg"})})}),e[2]=t,e[3]=n,e[4]=r,e[5]=a):a=e[5],a}function ml(e){const t=(0,i.c)(7),{children:s,style:n}=e,{gtMobile:o}=ql(),r=(0,mt.useContext)(al),a=wt&&"platform"===r&&kl.text_center,l=o&&kl.text_xl;let c,d;return t[0]!==n||t[1]!==a||t[2]!==l?(c=[kl.text_lg,kl.font_heavy,kl.leading_tight,a,l,n],t[0]=n,t[1]=a,t[2]=l,t[3]=c):c=t[3],t[4]!==s||t[5]!==c?(d=(0,Ft.jsx)(fr,{style:c,numberOfLines:2,emoji:!0,children:s}),t[4]=s,t[5]=c,t[6]=d):d=t[6],d}function hl(e){const t=(0,i.c)(6),{children:s}=e,n=ec(),o=(0,mt.useContext)(al),r=wt&&"platform"===o&&kl.text_center;let a,l;return t[0]!==n.atoms.text_contrast_medium||t[1]!==r?(a=[kl.text_sm,kl.leading_snug,r,n.atoms.text_contrast_medium],t[0]=n.atoms.text_contrast_medium,t[1]=r,t[2]=a):a=t[2],t[3]!==s||t[4]!==a?(l=(0,Ft.jsx)(fr,{style:a,numberOfLines:2,children:s}),t[3]=s,t[4]=a,t[5]=l):l=t[5],l}const pl=["style","noInsetTop"],fl=["children","style","contentContainerStyle","ignoreTabletLayoutOffset"],gl=["children","style","contentContainerStyle"],xl=["children","style","ignoreTabletLayoutOffset"],_l=(0,mt.memo)((function(e){const t=(0,i.c)(13);let s,n,o;if(t[0]!==e){var r=e;({style:o,noInsetTop:s}=r),n=(0,ls.default)(r,pl),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const{top:a}=(0,pt.useSafeAreaInsets)();let l;t[4]===Symbol.for("react.memo_cache_sentinel")?(l=Pt&&(0,Ft.jsx)(Sl,{}),t[4]=l):l=t[4];const c=s?0:a;let d,u,m;return t[5]!==c?(d={paddingTop:c},t[5]=c,t[6]=d):d=t[6],t[7]!==o||t[8]!==d?(u=[kl.util_screen_outer,d,o],t[7]=o,t[8]=d,t[9]=u):u=t[9],t[10]!==n||t[11]!==u?(m=(0,Ft.jsxs)(Ft.Fragment,{children:[l,(0,Ft.jsx)(wo.default,Object.assign({style:u},n))]}),t[10]=n,t[11]=u,t[12]=m):m=t[12],m})),yl={code:"function indexTsx1(){const{footerHeight}=this.__closure;return{scrollIndicatorInsets:{bottom:footerHeight.get(),top:0,right:1}};}"},bl=(0,mt.memo)((0,mt.forwardRef)((function(e,t){const s=(0,i.c)(21);let n,o,r,a,l;if(s[0]!==e){var c=e;({children:n,style:l,contentContainerStyle:o,ignoreTabletLayoutOffset:r}=c),a=(0,ls.default)(c,fl),s[0]=e,s[1]=n,s[2]=o,s[3]=r,s[4]=a,s[5]=l}else n=s[1],o=s[2],r=s[3],a=s[4],l=s[5];const d=ec(),{footerHeight:u}=To(),m=(0,ko.useAnimatedProps)(function(){const e=()=>({scrollIndicatorInsets:{bottom:u.get(),top:0,right:1}});return e.__closure={footerHeight:u},e.__workletHash=9453092017561,e.__initData=yl,e}()),h="dark"===d.scheme?"white":"black";let p,f,g,x;return s[6]!==l?(p=[jl.common,l],s[6]=l,s[7]=p):p=s[7],s[8]!==o?(f=[jl.contentContainer,o],s[8]=o,s[9]=f):f=s[9],s[10]!==n||s[11]!==r?(g=Pt?(0,Ft.jsx)(wl,{ignoreTabletLayoutOffset:r,children:n}):n,s[10]=n,s[11]=r,s[12]=g):g=s[12],s[13]!==m||s[14]!==a||s[15]!==t||s[16]!==h||s[17]!==p||s[18]!==f||s[19]!==g?(x=(0,Ft.jsx)(ko.default.ScrollView,Object.assign({ref:t,id:"content",automaticallyAdjustsScrollIndicatorInsets:!1,indicatorStyle:h,animatedProps:m,style:p,contentContainerStyle:f},a,{children:g})),s[13]=m,s[14]=a,s[15]=t,s[16]=h,s[17]=p,s[18]=f,s[19]=g,s[20]=x):x=s[20],x}))),jl=Gn.default.create({common:{width:"100%"},contentContainer:{paddingBottom:100}}),vl=(0,mt.memo)((function(e){const t=(0,i.c)(16);let s,n,o,r,a,l,c,d;if(t[0]!==e){var u=e;({children:s,style:r,contentContainerStyle:n}=u),o=(0,ls.default)(u,gl),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];return t[5]!==r?(a=[jl.common,r],t[5]=r,t[6]=a):a=t[6],t[7]!==n?(l=[jl.contentContainer,n],t[7]=n,t[8]=l):l=t[8],t[9]!==s?(c=Pt?(0,Ft.jsx)(wl,{children:s}):s,t[9]=s,t[10]=c):c=t[10],t[11]!==o||t[12]!==a||t[13]!==l||t[14]!==c?(d=(0,Ft.jsx)(So.KeyboardAwareScrollView,Object.assign({style:a,contentContainerStyle:l,keyboardShouldPersistTaps:"handled"},o,{children:c})),t[11]=o,t[12]=a,t[13]=l,t[14]=c,t[15]=d):d=t[15],d})),wl=(0,mt.memo)((function(e){const t=(0,i.c)(23);let s,n,o,r;if(t[0]!==e){var a=e;({children:s,style:r,ignoreTabletLayoutOffset:n}=a),o=(0,ls.default)(a,xl),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];const{isWithinOffsetView:l}=(0,mt.useContext)(ba),{gtMobile:c}=ql(),{centerColumnOffset:d}=Ul(),{isWithinDialog:u}=Lr();let m,h;t[5]===Symbol.for("react.memo_cache_sentinel")?(h={isWithinOffsetView:!0},t[5]=h):h=t[5],m=h;const p=m;let f,g,x,_,y;return t[6]!==c?(f=c&&{maxWidth:600},t[6]=c,t[7]=f):f=t[7],t[8]!==d||t[9]!==n||t[10]!==u||t[11]!==l?(g=!l&&{transform:[{translateX:!d||n||u?0:ya},{translateX:_o(fa)??0}]},t[8]=d,t[9]=n,t[10]=u,t[11]=l,t[12]=g):g=t[12],t[13]!==r||t[14]!==f||t[15]!==g?(x=[kl.w_full,kl.mx_auto,f,g,r],t[13]=r,t[14]=f,t[15]=g,t[16]=x):x=t[16],t[17]!==s?(_=(0,Ft.jsx)(ba.Provider,{value:p,children:s}),t[17]=s,t[18]=_):_=t[18],t[19]!==o||t[20]!==x||t[21]!==_?(y=(0,Ft.jsx)(wo.default,Object.assign({style:x},o,{children:_})),t[19]=o,t[20]=x,t[21]=_,t[22]=y):y=t[22],y})),Sl=(0,mt.memo)((function(){const e=(0,i.c)(4),t=ec(),{gtMobile:s}=ql(),{centerColumnOffset:n}=Ul();let o;return e[0]!==n||e[1]!==s||e[2]!==t?(o=s?(0,Ft.jsx)(wo.default,{style:[kl.fixed,kl.inset_0,kl.border_l,kl.border_r,t.atoms.border_contrast_low,_o({width:602,left:"50%",transform:[{translateX:"-50%"},{translateX:n?ya:0},...kl.scrollbar_offset.transform]})]}):null,e[0]=n,e[1]=s,e[2]=t,e[3]=o):o=e[3],o})),kl={debug:{borderColor:"red",borderWidth:1},fixed:{position:"fixed"},absolute:{position:"absolute"},relative:{position:"relative"},static:{position:"static"},sticky:_o({position:"sticky"}),inset_0:{top:0,left:0,right:0,bottom:0},top_0:{top:0},right_0:{right:0},bottom_0:{bottom:0},left_0:{left:0},z_10:{zIndex:10},z_20:{zIndex:20},z_30:{zIndex:30},z_40:{zIndex:40},z_50:{zIndex:50},overflow_hidden:{overflow:"hidden"},overflow_auto:_o({overflow:"auto"}),w_full:{width:"100%"},h_full:{height:"100%"},h_full_vh:_o({height:"100vh"}),max_w_full:{maxWidth:"100%"},max_h_full:{maxHeight:"100%"},util_screen_outer:[_o({minHeight:"100vh"}),jo({height:"100%"})],bg_transparent:{backgroundColor:"transparent"},rounded_0:{borderRadius:0},rounded_2xs:{borderRadius:mo._2xs},rounded_xs:{borderRadius:mo.xs},rounded_sm:{borderRadius:mo.sm},rounded_md:{borderRadius:mo.md},rounded_lg:{borderRadius:mo.lg},rounded_full:{borderRadius:mo.full},gap_0:{gap:0},gap_2xs:{gap:eo._2xs},gap_xs:{gap:eo.xs},gap_sm:{gap:eo.sm},gap_md:{gap:eo.md},gap_lg:{gap:eo.lg},gap_xl:{gap:eo.xl},gap_2xl:{gap:eo._2xl},gap_3xl:{gap:eo._3xl},gap_4xl:{gap:eo._4xl},gap_5xl:{gap:eo._5xl},flex:{display:"flex"},flex_col:{flexDirection:"column"},flex_row:{flexDirection:"row"},flex_col_reverse:{flexDirection:"column-reverse"},flex_row_reverse:{flexDirection:"row-reverse"},flex_wrap:{flexWrap:"wrap"},flex_nowrap:{flexWrap:"nowrap"},flex_0:{flex:_o("0 0 auto")||jo(0)},flex_1:{flex:1},flex_grow:{flexGrow:1},flex_grow_0:{flexGrow:0},flex_shrink:{flexShrink:1},flex_shrink_0:{flexShrink:0},justify_start:{justifyContent:"flex-start"},justify_center:{justifyContent:"center"},justify_between:{justifyContent:"space-between"},justify_end:{justifyContent:"flex-end"},align_center:{alignItems:"center"},align_start:{alignItems:"flex-start"},align_end:{alignItems:"flex-end"},align_baseline:{alignItems:"baseline"},align_stretch:{alignItems:"stretch"},self_auto:{alignSelf:"auto"},self_start:{alignSelf:"flex-start"},self_end:{alignSelf:"flex-end"},self_center:{alignSelf:"center"},self_stretch:{alignSelf:"stretch"},self_baseline:{alignSelf:"baseline"},text_left:{textAlign:"left"},text_center:{textAlign:"center"},text_right:{textAlign:"right"},text_2xs:{fontSize:to,letterSpacing:Yn},text_xs:{fontSize:so,letterSpacing:Yn},text_sm:{fontSize:no,letterSpacing:Yn},text_md:{fontSize:oo,letterSpacing:Yn},text_lg:{fontSize:ro,letterSpacing:Yn},text_xl:{fontSize:io,letterSpacing:Yn},text_2xl:{fontSize:ao,letterSpacing:Yn},text_3xl:{fontSize:lo,letterSpacing:Yn},text_4xl:{fontSize:co,letterSpacing:Yn},text_5xl:{fontSize:uo,letterSpacing:Yn},leading_tight:{lineHeight:1.15},leading_snug:{lineHeight:1.3},leading_normal:{lineHeight:1.5},tracking_normal:{letterSpacing:Yn},font_normal:{fontWeight:ho},font_bold:{fontWeight:po},font_heavy:{fontWeight:fo},italic:{fontStyle:"italic"},border_0:{borderWidth:0},border_t_0:{borderTopWidth:0},border_b_0:{borderBottomWidth:0},border_l_0:{borderLeftWidth:0},border_r_0:{borderRightWidth:0},border:{borderWidth:Gn.default.hairlineWidth},border_t:{borderTopWidth:Gn.default.hairlineWidth},border_b:{borderBottomWidth:Gn.default.hairlineWidth},border_l:{borderLeftWidth:Gn.default.hairlineWidth},border_r:{borderRightWidth:Gn.default.hairlineWidth},border_transparent:{borderColor:"transparent"},curve_circular:yo({borderCurve:"circular"}),curve_continuous:yo({borderCurve:"continuous"}),shadow_sm:{shadowRadius:8,shadowOpacity:.1,elevation:8},shadow_md:{shadowRadius:16,shadowOpacity:.1,elevation:16},shadow_lg:{shadowRadius:32,shadowOpacity:.1,elevation:24},p_0:{padding:0},p_2xs:{padding:eo._2xs},p_xs:{padding:eo.xs},p_sm:{padding:eo.sm},p_md:{padding:eo.md},p_lg:{padding:eo.lg},p_xl:{padding:eo.xl},p_2xl:{padding:eo._2xl},p_3xl:{padding:eo._3xl},p_4xl:{padding:eo._4xl},p_5xl:{padding:eo._5xl},px_0:{paddingLeft:0,paddingRight:0},px_2xs:{paddingLeft:eo._2xs,paddingRight:eo._2xs},px_xs:{paddingLeft:eo.xs,paddingRight:eo.xs},px_sm:{paddingLeft:eo.sm,paddingRight:eo.sm},px_md:{paddingLeft:eo.md,paddingRight:eo.md},px_lg:{paddingLeft:eo.lg,paddingRight:eo.lg},px_xl:{paddingLeft:eo.xl,paddingRight:eo.xl},px_2xl:{paddingLeft:eo._2xl,paddingRight:eo._2xl},px_3xl:{paddingLeft:eo._3xl,paddingRight:eo._3xl},px_4xl:{paddingLeft:eo._4xl,paddingRight:eo._4xl},px_5xl:{paddingLeft:eo._5xl,paddingRight:eo._5xl},py_0:{paddingTop:0,paddingBottom:0},py_2xs:{paddingTop:eo._2xs,paddingBottom:eo._2xs},py_xs:{paddingTop:eo.xs,paddingBottom:eo.xs},py_sm:{paddingTop:eo.sm,paddingBottom:eo.sm},py_md:{paddingTop:eo.md,paddingBottom:eo.md},py_lg:{paddingTop:eo.lg,paddingBottom:eo.lg},py_xl:{paddingTop:eo.xl,paddingBottom:eo.xl},py_2xl:{paddingTop:eo._2xl,paddingBottom:eo._2xl},py_3xl:{paddingTop:eo._3xl,paddingBottom:eo._3xl},py_4xl:{paddingTop:eo._4xl,paddingBottom:eo._4xl},py_5xl:{paddingTop:eo._5xl,paddingBottom:eo._5xl},pt_0:{paddingTop:0},pt_2xs:{paddingTop:eo._2xs},pt_xs:{paddingTop:eo.xs},pt_sm:{paddingTop:eo.sm},pt_md:{paddingTop:eo.md},pt_lg:{paddingTop:eo.lg},pt_xl:{paddingTop:eo.xl},pt_2xl:{paddingTop:eo._2xl},pt_3xl:{paddingTop:eo._3xl},pt_4xl:{paddingTop:eo._4xl},pt_5xl:{paddingTop:eo._5xl},pb_0:{paddingBottom:0},pb_2xs:{paddingBottom:eo._2xs},pb_xs:{paddingBottom:eo.xs},pb_sm:{paddingBottom:eo.sm},pb_md:{paddingBottom:eo.md},pb_lg:{paddingBottom:eo.lg},pb_xl:{paddingBottom:eo.xl},pb_2xl:{paddingBottom:eo._2xl},pb_3xl:{paddingBottom:eo._3xl},pb_4xl:{paddingBottom:eo._4xl},pb_5xl:{paddingBottom:eo._5xl},pl_0:{paddingLeft:0},pl_2xs:{paddingLeft:eo._2xs},pl_xs:{paddingLeft:eo.xs},pl_sm:{paddingLeft:eo.sm},pl_md:{paddingLeft:eo.md},pl_lg:{paddingLeft:eo.lg},pl_xl:{paddingLeft:eo.xl},pl_2xl:{paddingLeft:eo._2xl},pl_3xl:{paddingLeft:eo._3xl},pl_4xl:{paddingLeft:eo._4xl},pl_5xl:{paddingLeft:eo._5xl},pr_0:{paddingRight:0},pr_2xs:{paddingRight:eo._2xs},pr_xs:{paddingRight:eo.xs},pr_sm:{paddingRight:eo.sm},pr_md:{paddingRight:eo.md},pr_lg:{paddingRight:eo.lg},pr_xl:{paddingRight:eo.xl},pr_2xl:{paddingRight:eo._2xl},pr_3xl:{paddingRight:eo._3xl},pr_4xl:{paddingRight:eo._4xl},pr_5xl:{paddingRight:eo._5xl},m_0:{margin:0},m_2xs:{margin:eo._2xs},m_xs:{margin:eo.xs},m_sm:{margin:eo.sm},m_md:{margin:eo.md},m_lg:{margin:eo.lg},m_xl:{margin:eo.xl},m_2xl:{margin:eo._2xl},m_3xl:{margin:eo._3xl},m_4xl:{margin:eo._4xl},m_5xl:{margin:eo._5xl},m_auto:{margin:"auto"},mx_0:{marginLeft:0,marginRight:0},mx_2xs:{marginLeft:eo._2xs,marginRight:eo._2xs},mx_xs:{marginLeft:eo.xs,marginRight:eo.xs},mx_sm:{marginLeft:eo.sm,marginRight:eo.sm},mx_md:{marginLeft:eo.md,marginRight:eo.md},mx_lg:{marginLeft:eo.lg,marginRight:eo.lg},mx_xl:{marginLeft:eo.xl,marginRight:eo.xl},mx_2xl:{marginLeft:eo._2xl,marginRight:eo._2xl},mx_3xl:{marginLeft:eo._3xl,marginRight:eo._3xl},mx_4xl:{marginLeft:eo._4xl,marginRight:eo._4xl},mx_5xl:{marginLeft:eo._5xl,marginRight:eo._5xl},mx_auto:{marginLeft:"auto",marginRight:"auto"},my_0:{marginTop:0,marginBottom:0},my_2xs:{marginTop:eo._2xs,marginBottom:eo._2xs},my_xs:{marginTop:eo.xs,marginBottom:eo.xs},my_sm:{marginTop:eo.sm,marginBottom:eo.sm},my_md:{marginTop:eo.md,marginBottom:eo.md},my_lg:{marginTop:eo.lg,marginBottom:eo.lg},my_xl:{marginTop:eo.xl,marginBottom:eo.xl},my_2xl:{marginTop:eo._2xl,marginBottom:eo._2xl},my_3xl:{marginTop:eo._3xl,marginBottom:eo._3xl},my_4xl:{marginTop:eo._4xl,marginBottom:eo._4xl},my_5xl:{marginTop:eo._5xl,marginBottom:eo._5xl},my_auto:{marginTop:"auto",marginBottom:"auto"},mt_0:{marginTop:0},mt_2xs:{marginTop:eo._2xs},mt_xs:{marginTop:eo.xs},mt_sm:{marginTop:eo.sm},mt_md:{marginTop:eo.md},mt_lg:{marginTop:eo.lg},mt_xl:{marginTop:eo.xl},mt_2xl:{marginTop:eo._2xl},mt_3xl:{marginTop:eo._3xl},mt_4xl:{marginTop:eo._4xl},mt_5xl:{marginTop:eo._5xl},mt_auto:{marginTop:"auto"},mb_0:{marginBottom:0},mb_2xs:{marginBottom:eo._2xs},mb_xs:{marginBottom:eo.xs},mb_sm:{marginBottom:eo.sm},mb_md:{marginBottom:eo.md},mb_lg:{marginBottom:eo.lg},mb_xl:{marginBottom:eo.xl},mb_2xl:{marginBottom:eo._2xl},mb_3xl:{marginBottom:eo._3xl},mb_4xl:{marginBottom:eo._4xl},mb_5xl:{marginBottom:eo._5xl},mb_auto:{marginBottom:"auto"},ml_0:{marginLeft:0},ml_2xs:{marginLeft:eo._2xs},ml_xs:{marginLeft:eo.xs},ml_sm:{marginLeft:eo.sm},ml_md:{marginLeft:eo.md},ml_lg:{marginLeft:eo.lg},ml_xl:{marginLeft:eo.xl},ml_2xl:{marginLeft:eo._2xl},ml_3xl:{marginLeft:eo._3xl},ml_4xl:{marginLeft:eo._4xl},ml_5xl:{marginLeft:eo._5xl},ml_auto:{marginLeft:"auto"},mr_0:{marginRight:0},mr_2xs:{marginRight:eo._2xs},mr_xs:{marginRight:eo.xs},mr_sm:{marginRight:eo.sm},mr_md:{marginRight:eo.md},mr_lg:{marginRight:eo.lg},mr_xl:{marginRight:eo.xl},mr_2xl:{marginRight:eo._2xl},mr_3xl:{marginRight:eo._3xl},mr_4xl:{marginRight:eo._4xl},mr_5xl:{marginRight:eo._5xl},mr_auto:{marginRight:"auto"},pointer_events_none:{pointerEvents:"none"},pointer_events_auto:{pointerEvents:"auto"},user_select_none:{userSelect:"none"},user_select_text:{userSelect:"text"},user_select_all:{userSelect:"all"},outline_inset_1:{outlineOffset:-1},underline:{textDecorationLine:"underline"},strike_through:{textDecorationLine:"line-through"},hidden:{display:"none"},transition_none:_o({transitionProperty:"none"}),transition_all:_o({transitionProperty:"all",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_color:_o({transitionProperty:"color, background-color, border-color, text-decoration-color, fill, stroke",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_opacity:_o({transitionProperty:"opacity",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_transform:_o({transitionProperty:"transform",transitionTimingFunction:"cubic-bezier(0.17, 0.73, 0.14, 1)",transitionDuration:"100ms"}),transition_delay_50ms:_o({transitionDelay:"50ms"}),fade_in:_o({animation:"fadeIn ease-out 0.15s"}),fade_out:_o({animation:"fadeOut ease-out 0.15s"}),zoom_in:_o({animation:"zoomIn ease-out 0.1s"}),zoom_out:_o({animation:"zoomOut ease-out 0.1s"}),slide_in_left:_o({animation:"slideInLeft cubic-bezier(0.16, 1, 0.3, 1) 0.5s"}),slide_out_left:_o({animation:"slideOutLeft ease-in 0.15s",animationFillMode:"forwards"}),zoom_fade_in:_o({animation:"zoomIn ease-out 0.1s, fadeIn ease-out 0.1s"}),scrollbar_offset:vo({web:{transform:[{translateX:fa}]},native:{transform:[]}})},Cl=211,Pl=346,Tl=152,Ll=[0,.05,.1,.15,.2,.3,.4,.5,.6,.7,.8,.85,.9,.95,1];function Al(e,t){const s=t-e;return Ll.map((t=>e+s*t))}const Il=Al(6,100),Rl=Al(12,100),Dl=Nl({hues:{primary:Cl,negative:Pl,positive:Tl}}),Fl=Dl.lightPalette,El=Dl.darkPalette,Ml=Dl.dimPalette,Bl=Dl.light,Ol=Dl.dark,zl=Dl.dim,Hl=Dl.light;function Nl({hues:e}){const t={like:"#ec4899",trueBlack:"#000000",gray_0:`hsl(${e.primary}, 20%, ${Il[14]}%)`,gray_25:`hsl(${e.primary}, 20%, ${Il[13]}%)`,gray_50:`hsl(${e.primary}, 20%, ${Il[12]}%)`,gray_100:`hsl(${e.primary}, 20%, ${Il[11]}%)`,gray_200:`hsl(${e.primary}, 20%, ${Il[10]}%)`,gray_300:`hsl(${e.primary}, 20%, ${Il[9]}%)`,gray_400:`hsl(${e.primary}, 20%, ${Il[8]}%)`,gray_500:`hsl(${e.primary}, 20%, ${Il[7]}%)`,gray_600:`hsl(${e.primary}, 24%, ${Il[6]}%)`,gray_700:`hsl(${e.primary}, 24%, ${Il[5]}%)`,gray_800:`hsl(${e.primary}, 28%, ${Il[4]}%)`,gray_900:`hsl(${e.primary}, 28%, ${Il[3]}%)`,gray_950:`hsl(${e.primary}, 28%, ${Il[2]}%)`,gray_975:`hsl(${e.primary}, 28%, ${Il[1]}%)`,gray_1000:`hsl(${e.primary}, 28%, ${Il[0]}%)`,primary_25:`hsl(${e.primary}, 99%, 97%)`,primary_50:`hsl(${e.primary}, 99%, 95%)`,primary_100:`hsl(${e.primary}, 99%, 90%)`,primary_200:`hsl(${e.primary}, 99%, 80%)`,primary_300:`hsl(${e.primary}, 99%, 70%)`,primary_400:`hsl(${e.primary}, 99%, 60%)`,primary_500:`hsl(${e.primary}, 99%, 53%)`,primary_600:`hsl(${e.primary}, 99%, 42%)`,primary_700:`hsl(${e.primary}, 99%, 34%)`,primary_800:`hsl(${e.primary}, 99%, 26%)`,primary_900:`hsl(${e.primary}, 99%, 18%)`,primary_950:`hsl(${e.primary}, 99%, 10%)`,primary_975:`hsl(${e.primary}, 99%, 7%)`,green_25:`hsl(${e.positive}, 82%, 97%)`,green_50:`hsl(${e.positive}, 82%, 95%)`,green_100:`hsl(${e.positive}, 82%, 90%)`,green_200:`hsl(${e.positive}, 82%, 80%)`,green_300:`hsl(${e.positive}, 82%, 70%)`,green_400:`hsl(${e.positive}, 82%, 60%)`,green_500:`hsl(${e.positive}, 82%, 50%)`,green_600:`hsl(${e.positive}, 82%, 42%)`,green_700:`hsl(${e.positive}, 82%, 34%)`,green_800:`hsl(${e.positive}, 82%, 26%)`,green_900:`hsl(${e.positive}, 82%, 18%)`,green_950:`hsl(${e.positive}, 82%, 10%)`,green_975:`hsl(${e.positive}, 82%, 7%)`,red_25:`hsl(${e.negative}, 91%, 97%)`,red_50:`hsl(${e.negative}, 91%, 95%)`,red_100:`hsl(${e.negative}, 91%, 90%)`,red_200:`hsl(${e.negative}, 91%, 80%)`,red_300:`hsl(${e.negative}, 91%, 70%)`,red_400:`hsl(${e.negative}, 91%, 60%)`,red_500:`hsl(${e.negative}, 91%, 50%)`,red_600:`hsl(${e.negative}, 91%, 42%)`,red_700:`hsl(${e.negative}, 91%, 34%)`,red_800:`hsl(${e.negative}, 91%, 26%)`,red_900:`hsl(${e.negative}, 91%, 18%)`,red_950:`hsl(${e.negative}, 91%, 10%)`,red_975:`hsl(${e.negative}, 91%, 7%)`},s={white:t.gray_0,black:t.gray_1000,like:t.like,contrast_25:t.gray_25,contrast_50:t.gray_50,contrast_100:t.gray_100,contrast_200:t.gray_200,contrast_300:t.gray_300,contrast_400:t.gray_400,contrast_500:t.gray_500,contrast_600:t.gray_600,contrast_700:t.gray_700,contrast_800:t.gray_800,contrast_900:t.gray_900,contrast_950:t.gray_950,contrast_975:t.gray_975,primary_25:t.primary_25,primary_50:t.primary_50,primary_100:t.primary_100,primary_200:t.primary_200,primary_300:t.primary_300,primary_400:t.primary_400,primary_500:t.primary_500,primary_600:t.primary_600,primary_700:t.primary_700,primary_800:t.primary_800,primary_900:t.primary_900,primary_950:t.primary_950,primary_975:t.primary_975,positive_25:t.green_25,positive_50:t.green_50,positive_100:t.green_100,positive_200:t.green_200,positive_300:t.green_300,positive_400:t.green_400,positive_500:t.green_500,positive_600:t.green_600,positive_700:t.green_700,positive_800:t.green_800,positive_900:t.green_900,positive_950:t.green_950,positive_975:t.green_975,negative_25:t.red_25,negative_50:t.red_50,negative_100:t.red_100,negative_200:t.red_200,negative_300:t.red_300,negative_400:t.red_400,negative_500:t.red_500,negative_600:t.red_600,negative_700:t.red_700,negative_800:t.red_800,negative_900:t.red_900,negative_950:t.red_950,negative_975:t.red_975},n={white:t.gray_25,black:t.trueBlack,like:t.like,contrast_25:t.gray_975,contrast_50:t.gray_950,contrast_100:t.gray_900,contrast_200:t.gray_800,contrast_300:t.gray_700,contrast_400:t.gray_600,contrast_500:t.gray_500,contrast_600:t.gray_400,contrast_700:t.gray_300,contrast_800:t.gray_200,contrast_900:t.gray_100,contrast_950:t.gray_50,contrast_975:t.gray_25,primary_25:t.primary_975,primary_50:t.primary_950,primary_100:t.primary_900,primary_200:t.primary_800,primary_300:t.primary_700,primary_400:t.primary_600,primary_500:t.primary_500,primary_600:t.primary_400,primary_700:t.primary_300,primary_800:t.primary_200,primary_900:t.primary_100,primary_950:t.primary_50,primary_975:t.primary_25,positive_25:t.green_975,positive_50:t.green_950,positive_100:t.green_900,positive_200:t.green_800,positive_300:t.green_700,positive_400:t.green_600,positive_500:t.green_500,positive_600:t.green_400,positive_700:t.green_300,positive_800:t.green_200,positive_900:t.green_100,positive_950:t.green_50,positive_975:t.green_25,negative_25:t.red_975,negative_50:t.red_950,negative_100:t.red_900,negative_200:t.red_800,negative_300:t.red_700,negative_400:t.red_600,negative_500:t.red_500,negative_600:t.red_400,negative_700:t.red_300,negative_800:t.red_200,negative_900:t.red_100,negative_950:t.red_50,negative_975:t.red_25},o=Object.assign({},n,{black:`hsl(${e.primary}, 28%, ${Rl[0]}%)`,like:t.like,contrast_25:`hsl(${e.primary}, 28%, ${Rl[1]}%)`,contrast_50:`hsl(${e.primary}, 28%, ${Rl[2]}%)`,contrast_100:`hsl(${e.primary}, 28%, ${Rl[3]}%)`,contrast_200:`hsl(${e.primary}, 28%, ${Rl[4]}%)`,contrast_300:`hsl(${e.primary}, 24%, ${Rl[5]}%)`,contrast_400:`hsl(${e.primary}, 24%, ${Rl[6]}%)`,contrast_500:`hsl(${e.primary}, 20%, ${Rl[7]}%)`,contrast_600:`hsl(${e.primary}, 20%, ${Rl[8]}%)`,contrast_700:`hsl(${e.primary}, 20%, ${Rl[9]}%)`,contrast_800:`hsl(${e.primary}, 20%, ${Rl[10]}%)`,contrast_900:`hsl(${e.primary}, 20%, ${Rl[11]}%)`,contrast_950:`hsl(${e.primary}, 20%, ${Rl[12]}%)`,contrast_975:`hsl(${e.primary}, 20%, ${Rl[13]}%)`,primary_25:`hsl(${e.primary}, 50%, ${Rl[1]}%)`,primary_50:`hsl(${e.primary}, 60%, ${Rl[2]}%)`,primary_100:`hsl(${e.primary}, 70%, ${Rl[3]}%)`,primary_200:`hsl(${e.primary}, 82%, ${Rl[4]}%)`,primary_300:`hsl(${e.primary}, 90%, ${Rl[5]}%)`,primary_400:`hsl(${e.primary}, 95%, ${Rl[6]}%)`,primary_500:`hsl(${e.primary}, 99%, ${Rl[7]}%)`,primary_600:`hsl(${e.primary}, 99%, ${Rl[8]}%)`,primary_700:`hsl(${e.primary}, 99%, ${Rl[9]}%)`,primary_800:`hsl(${e.primary}, 99%, ${Rl[10]}%)`,primary_900:`hsl(${e.primary}, 99%, ${Rl[11]}%)`,primary_950:`hsl(${e.primary}, 99%, ${Rl[12]}%)`,primary_975:`hsl(${e.primary}, 99%, ${Rl[13]}%)`,positive_25:`hsl(${e.positive}, 50%, ${Rl[1]}%)`,positive_50:`hsl(${e.positive}, 60%, ${Rl[2]}%)`,positive_100:`hsl(${e.positive}, 70%, ${Rl[3]}%)`,positive_200:`hsl(${e.positive}, 82%, ${Rl[4]}%)`,positive_300:`hsl(${e.positive}, 82%, ${Rl[5]}%)`,positive_400:`hsl(${e.positive}, 82%, ${Rl[6]}%)`,positive_500:`hsl(${e.positive}, 82%, ${Rl[7]}%)`,positive_600:`hsl(${e.positive}, 82%, ${Rl[8]}%)`,positive_700:`hsl(${e.positive}, 82%, ${Rl[9]}%)`,positive_800:`hsl(${e.positive}, 82%, ${Rl[10]}%)`,positive_900:`hsl(${e.positive}, 82%, ${Rl[11]}%)`,positive_950:`hsl(${e.positive}, 82%, ${Rl[12]}%)`,positive_975:`hsl(${e.positive}, 82%, ${Rl[13]}%)`,negative_25:`hsl(${e.negative}, 70%, ${Rl[1]}%)`,negative_50:`hsl(${e.negative}, 80%, ${Rl[2]}%)`,negative_100:`hsl(${e.negative}, 84%, ${Rl[3]}%)`,negative_200:`hsl(${e.negative}, 88%, ${Rl[4]}%)`,negative_300:`hsl(${e.negative}, 91%, ${Rl[5]}%)`,negative_400:`hsl(${e.negative}, 91%, ${Rl[6]}%)`,negative_500:`hsl(${e.negative}, 91%, ${Rl[7]}%)`,negative_600:`hsl(${e.negative}, 91%, ${Rl[8]}%)`,negative_700:`hsl(${e.negative}, 91%, ${Rl[9]}%)`,negative_800:`hsl(${e.negative}, 91%, ${Rl[10]}%)`,negative_900:`hsl(${e.negative}, 91%, ${Rl[11]}%)`,negative_950:`hsl(${e.negative}, 91%, ${Rl[12]}%)`,negative_975:`hsl(${e.negative}, 91%, ${Rl[13]}%)`}),r={scheme:"light",name:"light",palette:s,atoms:{text:{color:s.black},text_contrast_low:{color:s.contrast_400},text_contrast_medium:{color:s.contrast_700},text_contrast_high:{color:s.contrast_900},text_inverted:{color:s.white},bg:{backgroundColor:s.white},bg_contrast_25:{backgroundColor:s.contrast_25},bg_contrast_50:{backgroundColor:s.contrast_50},bg_contrast_100:{backgroundColor:s.contrast_100},bg_contrast_200:{backgroundColor:s.contrast_200},bg_contrast_300:{backgroundColor:s.contrast_300},bg_contrast_400:{backgroundColor:s.contrast_400},bg_contrast_500:{backgroundColor:s.contrast_500},bg_contrast_600:{backgroundColor:s.contrast_600},bg_contrast_700:{backgroundColor:s.contrast_700},bg_contrast_800:{backgroundColor:s.contrast_800},bg_contrast_900:{backgroundColor:s.contrast_900},bg_contrast_950:{backgroundColor:s.contrast_950},bg_contrast_975:{backgroundColor:s.contrast_975},border_contrast_low:{borderColor:s.contrast_100},border_contrast_medium:{borderColor:s.contrast_200},border_contrast_high:{borderColor:s.contrast_300},shadow_sm:Object.assign({},kl.shadow_sm,{shadowColor:s.black}),shadow_md:Object.assign({},kl.shadow_md,{shadowColor:s.black}),shadow_lg:Object.assign({},kl.shadow_lg,{shadowColor:s.black})}},i={scheme:"dark",name:"dark",palette:n,atoms:{text:{color:n.white},text_contrast_low:{color:n.contrast_400},text_contrast_medium:{color:n.contrast_600},text_contrast_high:{color:n.contrast_900},text_inverted:{color:n.black},bg:{backgroundColor:n.black},bg_contrast_25:{backgroundColor:n.contrast_25},bg_contrast_50:{backgroundColor:n.contrast_50},bg_contrast_100:{backgroundColor:n.contrast_100},bg_contrast_200:{backgroundColor:n.contrast_200},bg_contrast_300:{backgroundColor:n.contrast_300},bg_contrast_400:{backgroundColor:n.contrast_400},bg_contrast_500:{backgroundColor:n.contrast_500},bg_contrast_600:{backgroundColor:n.contrast_600},bg_contrast_700:{backgroundColor:n.contrast_700},bg_contrast_800:{backgroundColor:n.contrast_800},bg_contrast_900:{backgroundColor:n.contrast_900},bg_contrast_950:{backgroundColor:n.contrast_950},bg_contrast_975:{backgroundColor:n.contrast_975},border_contrast_low:{borderColor:n.contrast_100},border_contrast_medium:{borderColor:n.contrast_200},border_contrast_high:{borderColor:n.contrast_300},shadow_sm:Object.assign({},kl.shadow_sm,{shadowOpacity:.7,shadowColor:t.trueBlack}),shadow_md:Object.assign({},kl.shadow_md,{shadowOpacity:.7,shadowColor:t.trueBlack}),shadow_lg:Object.assign({},kl.shadow_lg,{shadowOpacity:.7,shadowColor:t.trueBlack})}};return{lightPalette:s,darkPalette:n,dimPalette:o,light:r,dark:i,dim:Object.assign({},i,{scheme:"dark",name:"dim",palette:o,atoms:Object.assign({},i.atoms,{text:{color:o.white},text_contrast_low:{color:o.contrast_400},text_contrast_medium:{color:o.contrast_600},text_contrast_high:{color:o.contrast_900},text_inverted:{color:o.black},bg:{backgroundColor:o.black},bg_contrast_25:{backgroundColor:o.contrast_25},bg_contrast_50:{backgroundColor:o.contrast_50},bg_contrast_100:{backgroundColor:o.contrast_100},bg_contrast_200:{backgroundColor:o.contrast_200},bg_contrast_300:{backgroundColor:o.contrast_300},bg_contrast_400:{backgroundColor:o.contrast_400},bg_contrast_500:{backgroundColor:o.contrast_500},bg_contrast_600:{backgroundColor:o.contrast_600},bg_contrast_700:{backgroundColor:o.contrast_700},bg_contrast_800:{backgroundColor:o.contrast_800},bg_contrast_900:{backgroundColor:o.contrast_900},bg_contrast_950:{backgroundColor:o.contrast_950},bg_contrast_975:{backgroundColor:o.contrast_975},border_contrast_low:{borderColor:o.contrast_100},border_contrast_medium:{borderColor:o.contrast_200},border_contrast_high:{borderColor:o.contrast_300},shadow_sm:Object.assign({},kl.shadow_sm,{shadowOpacity:.7,shadowColor:`hsl(${e.primary}, 28%, 6%)`}),shadow_md:Object.assign({},kl.shadow_md,{shadowOpacity:.7,shadowColor:`hsl(${e.primary}, 28%, 6%)`}),shadow_lg:Object.assign({},kl.shadow_lg,{shadowOpacity:.7,shadowColor:`hsl(${e.primary}, 28%, 6%)`})})})}}var Vl=s(88070);function ql(){const e=(0,i.c)(8);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:500},e[0]=t):t=e[0];const s=(0,Vl.useMediaQuery)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:800},e[1]=n):n=e[1];const o=(0,Vl.useMediaQuery)(n);let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={minWidth:1300},e[2]=r):r=e[2];const a=(0,Vl.useMediaQuery)(r);let l,c,d;return a?c="gtTablet":o?c="gtMobile":s&&(c="gtPhone"),e[3]!==c||e[4]!==o||e[5]!==s||e[6]!==a?(d={activeBreakpoint:c,gtPhone:s,gtMobile:o,gtTablet:a},e[3]=c,e[4]=o,e[5]=s,e[6]=a,e[7]=d):d=e[7],l=d,l}function Ul(){const e=(0,i.c)(7);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:1100},e[0]=t):t=e[0];const s=(0,Vl.useMediaQuery)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:1100,maxWidth:1300},e[1]=n):n=e[1];const o=(0,Vl.useMediaQuery)(n);let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={maxWidth:1300},e[2]=r):r=e[2];const a=(0,Vl.useMediaQuery)(r);let l;return e[3]!==o||e[4]!==a||e[5]!==s?(l={rightNavVisible:s,centerColumnOffset:o,leftNavMinimal:a},e[3]=o,e[4]=a,e[5]=s,e[6]=l):l=e[6],l}const Wl=Gn.default.flatten;function Zl(e,t){switch(e){case"light":return t.light;case"dark":return t.dark||t.dim;case"dim":return t.dim||t.dark;default:throw new Error(`select(theme, options) received unknown theme ${e}`)}}const Ql={compact:{default:eo.sm,gtPhone:eo.sm,gtMobile:eo.md,gtTablet:eo.md},base:{default:eo.lg,gtPhone:eo.lg,gtMobile:eo.xl,gtTablet:eo.xl},wide:{default:eo.xl,gtPhone:eo.xl,gtMobile:eo._3xl,gtTablet:eo._3xl}};function Kl([e,t,s,n]){const{activeBreakpoint:o}=ql();return void 0===t?t=s=n=e:void 0===s&&(s=e,n=t),mt.useMemo((()=>({paddingTop:0===e?0:Ql[e][o||"default"],paddingRight:0===t?0:Ql[t][o||"default"],paddingBottom:0===s?0:Ql[s][o||"default"],paddingLeft:0===n?0:Ql[n][o||"default"]})),[o,e,t,s,n])}const $l=mt.createContext({themeName:"light",theme:Hl,themes:Nl({hues:{primary:Cl,negative:Pl,positive:Tl}}),fonts:{scale:Qn(),scaleMultiplier:Zn(Qn()),family:Kn(),setFontScale:()=>{},setFontFamily:()=>{}},flags:{}});function Gl(e){const t=(0,i.c)(17),{children:s,theme:n}=e,[o,r]=mt.useState(Jl);let a;t[0]!==o?(a=()=>Zn(o),t[0]=o,t[1]=a):a=t[1];const[l,c]=mt.useState(a);let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=e=>{r(e),function(e){Tn.set(["fontScale"],e)}(e),c(Zn(e))},t[2]=d):d=t[2];const u=d,[m,h]=mt.useState(Yl);let p;t[3]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{h(e),function(e){Tn.set(["fontFamily"],e)}(e)},t[3]=p):p=t[3];const f=p;let g,x;t[4]===Symbol.for("react.memo_cache_sentinel")?(x=Nl({hues:{primary:Cl,negative:Pl,positive:Tl}}),t[4]=x):x=t[4],g=x;const _=g;let y;const b=_[n];let j,v,w;t[5]!==m||t[6]!==o||t[7]!==l?(j={scale:o,scaleMultiplier:l,family:m,setFontScale:u,setFontFamily:f},t[5]=m,t[6]=o,t[7]=l,t[8]=j):j=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(v={},t[9]=v):v=t[9],t[10]!==b||t[11]!==j||t[12]!==n?(w={themes:_,themeName:n,theme:b,fonts:j,flags:v},t[10]=b,t[11]=j,t[12]=n,t[13]=w):w=t[13],y=w;const S=y;let k;return t[14]!==s||t[15]!==S?(k=(0,Ft.jsx)($l.Provider,{value:S,children:s}),t[14]=s,t[15]=S,t[16]=k):k=t[16],k}function Yl(){return Kn()}function Jl(){return Qn()}function Xl(){return mt.useContext($l)}function ec(e){const t=Xl();let s;return s=e?t.themes[e]:t.theme,s}var tc=s(45458);const sc={white:"#ffffff",black:"#000000",gray1:"#F3F3F8",gray2:"#E2E2E4",gray3:"#B9B9C1",gray4:"#8D8E96",gray5:"#545664",gray6:"#373942",gray7:"#26272D",gray8:"#141417",blue0:"#bfe1ff",blue1:"#8bc7fd",blue2:"#52acfe",blue3:"#0085ff",blue4:"#0062bd",blue5:"#034581",blue6:"#012561",blue7:"#001040",red1:"#ffe6eb",red2:"#fba2b2",red3:"#ec4868",red4:"#d11043",red5:"#970721",red6:"#690419",red7:"#4F0314",pink1:"#f8ccff",pink2:"#e966ff",pink3:"#db00ff",pink4:"#a601c1",pink5:"#570066",purple1:"#ebdbff",purple2:"#ba85ff",purple3:"#9747ff",purple4:"#6d00fa",purple5:"#380080",green1:"#c1ffb8",green2:"#27f406",green3:"#20bc07",green4:"#148203",green5:"#082b03",unreadNotifBg:"#ebf6ff",brandBlue:"#0066FF",like:"#ec4899"},nc={blueLight:{start:"#5A71FA",end:sc.blue3},blue:{start:"#5E55FB",end:sc.blue3},blueDark:{start:"#5F45E0",end:sc.blue3}},oc=Gn.default.create({footerSpacer:{height:100},contentContainer:{paddingBottom:200},contentContainerExtra:{paddingBottom:300},border0:{borderWidth:0},border1:{borderWidth:1},borderTop1:{borderTopWidth:1},borderRight1:{borderRightWidth:1},borderBottom1:{borderBottomWidth:1},borderLeft1:{borderLeftWidth:1},hidden:{display:"none"},dimmed:{opacity:.5},fw600:{fontWeight:"600"},bold:{fontWeight:"600"},fw500:{fontWeight:"600"},semiBold:{fontWeight:"600"},fw400:{fontWeight:"400"},normal:{fontWeight:"400"},fw300:{fontWeight:"400"},light:{fontWeight:"400"},underline:{textDecorationLine:"underline"},tabularNum:{fontVariant:["tabular-nums"]},f9:{fontSize:9},f10:{fontSize:10},f11:{fontSize:11},f12:{fontSize:12},f13:{fontSize:13},f14:{fontSize:14},f15:{fontSize:15},f16:{fontSize:16},f17:{fontSize:17},f18:{fontSize:18},"lh13-1":{lineHeight:13},"lh13-1.3":{lineHeight:16.9},"lh14-1":{lineHeight:14},"lh14-1.3":{lineHeight:18.2},"lh15-1":{lineHeight:15},"lh15-1.3":{lineHeight:19.5},"lh16-1":{lineHeight:16},"lh16-1.3":{lineHeight:20.8},"lh17-1":{lineHeight:17},"lh17-1.3":{lineHeight:22.1},"lh18-1":{lineHeight:18},"lh18-1.3":{lineHeight:23.4},mr2:{marginRight:2},mr5:{marginRight:5},mr10:{marginRight:10},mr20:{marginRight:20},ml2:{marginLeft:2},ml5:{marginLeft:5},ml10:{marginLeft:10},ml20:{marginLeft:20},mt2:{marginTop:2},mt5:{marginTop:5},mt10:{marginTop:10},mt20:{marginTop:20},mb2:{marginBottom:2},mb5:{marginBottom:5},mb10:{marginBottom:10},mb20:{marginBottom:20},p2:{padding:2},p5:{padding:5},p10:{padding:10},p20:{padding:20},pr2:{paddingRight:2},pr5:{paddingRight:5},pr10:{paddingRight:10},pr20:{paddingRight:20},pl2:{paddingLeft:2},pl5:{paddingLeft:5},pl10:{paddingLeft:10},pl20:{paddingLeft:20},pt2:{paddingTop:2},pt5:{paddingTop:5},pt10:{paddingTop:10},pt20:{paddingTop:20},pb2:{paddingBottom:2},pb5:{paddingBottom:5},pb10:{paddingBottom:10},pb20:{paddingBottom:20},px5:{paddingHorizontal:5},flexRow:{flexDirection:"row"},flexCol:{flexDirection:"column"},flex1:{flex:1},flexGrow1:{flexGrow:1},alignCenter:{alignItems:"center"},alignBaseline:{alignItems:"baseline"},justifyCenter:{justifyContent:"center"},absolute:{position:"absolute"},w100pct:{width:"100%"},h100pct:{height:"100%"},hContentRegion:Pt?{minHeight:"100%"}:{height:"100%"},window:{width:tc.default.get("window").width,height:tc.default.get("window").height},textLeft:{textAlign:"left"},textCenter:{textAlign:"center"},textRight:{textAlign:"right"},white:{color:sc.white},black:{color:sc.black},gray1:{color:sc.gray1},gray2:{color:sc.gray2},gray3:{color:sc.gray3},gray4:{color:sc.gray4},gray5:{color:sc.gray5},blue1:{color:sc.blue1},blue2:{color:sc.blue2},blue3:{color:sc.blue3},blue4:{color:sc.blue4},blue5:{color:sc.blue5},red1:{color:sc.red1},red2:{color:sc.red2},red3:{color:sc.red3},red4:{color:sc.red4},red5:{color:sc.red5},pink1:{color:sc.pink1},pink2:{color:sc.pink2},pink3:{color:sc.pink3},pink4:{color:sc.pink4},pink5:{color:sc.pink5},purple1:{color:sc.purple1},purple2:{color:sc.purple2},purple3:{color:sc.purple3},purple4:{color:sc.purple4},purple5:{color:sc.purple5},green1:{color:sc.green1},green2:{color:sc.green2},green3:{color:sc.green3},green4:{color:sc.green4},green5:{color:sc.green5},brandBlue:{color:sc.brandBlue},likeColor:{color:sc.like}});function rc(e,t){return Array.isArray(e)?e.concat([t]):[e,t]}const ic={colorScheme:"light",palette:{default:{background:Fl.white,backgroundLight:Fl.contrast_25,text:Fl.black,textLight:Fl.contrast_700,textInverted:Fl.white,link:Fl.primary_500,border:Fl.contrast_100,borderDark:Fl.contrast_200,icon:Fl.contrast_500,textVeryLight:Fl.contrast_400,replyLine:Fl.contrast_100,replyLineDot:Fl.contrast_200,unreadNotifBg:Fl.primary_25,unreadNotifBorder:Fl.primary_100,postCtrl:Fl.contrast_500,brandText:Fl.primary_500,emptyStateIcon:Fl.contrast_300,borderLinkHover:Fl.contrast_300},primary:{background:sc.blue3,backgroundLight:sc.blue2,text:sc.white,textLight:sc.blue0,textInverted:sc.blue3,link:sc.blue0,border:sc.blue4,borderDark:sc.blue5,icon:sc.blue4},secondary:{background:sc.green3,backgroundLight:sc.green2,text:sc.white,textLight:sc.green1,textInverted:sc.green4,link:sc.green1,border:sc.green4,borderDark:sc.green5,icon:sc.green4},inverted:{background:El.black,backgroundLight:El.contrast_50,text:El.white,textLight:El.contrast_700,textInverted:El.black,link:El.primary_500,border:El.contrast_100,borderDark:El.contrast_200,icon:El.contrast_500},error:{background:sc.red3,backgroundLight:sc.red2,text:sc.white,textLight:sc.red1,textInverted:sc.red3,link:sc.red1,border:sc.red4,borderDark:sc.red5,icon:sc.red4}},shapes:{button:{},bigButton:{},smallButton:{}},typography:{"2xl-thin":{fontSize:18,letterSpacing:Yn,fontWeight:ho},"2xl":{fontSize:18,letterSpacing:Yn,fontWeight:ho},"2xl-medium":{fontSize:18,letterSpacing:Yn,fontWeight:po},"2xl-bold":{fontSize:18,letterSpacing:Yn,fontWeight:po},"2xl-heavy":{fontSize:18,letterSpacing:Yn,fontWeight:fo},"xl-thin":{fontSize:17,letterSpacing:Yn,fontWeight:ho},xl:{fontSize:17,letterSpacing:Yn,fontWeight:ho},"xl-medium":{fontSize:17,letterSpacing:Yn,fontWeight:po},"xl-bold":{fontSize:17,letterSpacing:Yn,fontWeight:po},"xl-heavy":{fontSize:17,letterSpacing:Yn,fontWeight:fo},"lg-thin":{fontSize:16,letterSpacing:Yn,fontWeight:ho},lg:{fontSize:16,letterSpacing:Yn,fontWeight:ho},"lg-medium":{fontSize:16,letterSpacing:Yn,fontWeight:po},"lg-bold":{fontSize:16,letterSpacing:Yn,fontWeight:po},"lg-heavy":{fontSize:16,letterSpacing:Yn,fontWeight:fo},"md-thin":{fontSize:15,letterSpacing:Yn,fontWeight:ho},md:{fontSize:15,letterSpacing:Yn,fontWeight:ho},"md-medium":{fontSize:15,letterSpacing:Yn,fontWeight:po},"md-bold":{fontSize:15,letterSpacing:Yn,fontWeight:po},"md-heavy":{fontSize:15,letterSpacing:Yn,fontWeight:fo},"sm-thin":{fontSize:14,letterSpacing:Yn,fontWeight:ho},sm:{fontSize:14,letterSpacing:Yn,fontWeight:ho},"sm-medium":{fontSize:14,letterSpacing:Yn,fontWeight:po},"sm-bold":{fontSize:14,letterSpacing:Yn,fontWeight:po},"sm-heavy":{fontSize:14,letterSpacing:Yn,fontWeight:fo},"xs-thin":{fontSize:13,letterSpacing:Yn,fontWeight:ho},xs:{fontSize:13,letterSpacing:Yn,fontWeight:ho},"xs-medium":{fontSize:13,letterSpacing:Yn,fontWeight:po},"xs-bold":{fontSize:13,letterSpacing:Yn,fontWeight:po},"xs-heavy":{fontSize:13,letterSpacing:Yn,fontWeight:fo},"title-2xl":{fontSize:34,letterSpacing:Yn,fontWeight:po},"title-xl":{fontSize:28,letterSpacing:Yn,fontWeight:po},"title-lg":{fontSize:22,fontWeight:po},title:{fontWeight:po,fontSize:20,letterSpacing:Yn},"title-sm":{fontWeight:po,fontSize:17,letterSpacing:Yn},"post-text":{fontSize:16,letterSpacing:Yn,fontWeight:ho},"post-text-lg":{fontSize:20,letterSpacing:Yn,fontWeight:ho},"button-lg":{fontWeight:po,fontSize:18,letterSpacing:Yn},button:{fontWeight:po,fontSize:14,letterSpacing:Yn},mono:{fontSize:14,fontFamily:"Courier New"}}},ac=Object.assign({},ic,{colorScheme:"dark",palette:Object.assign({},ic.palette,{default:{background:El.black,backgroundLight:El.contrast_25,text:El.white,textLight:El.contrast_600,textInverted:El.black,link:El.primary_500,border:El.contrast_100,borderDark:El.contrast_200,icon:El.contrast_500,textVeryLight:El.contrast_400,replyLine:El.contrast_200,replyLineDot:El.contrast_200,unreadNotifBg:El.primary_25,unreadNotifBorder:El.primary_100,postCtrl:El.contrast_500,brandText:El.primary_500,emptyStateIcon:El.contrast_300,borderLinkHover:El.contrast_300},primary:Object.assign({},ic.palette.primary,{textInverted:sc.blue2}),secondary:Object.assign({},ic.palette.secondary,{textInverted:sc.green2}),inverted:{background:El.white,backgroundLight:Fl.contrast_50,text:Fl.black,textLight:Fl.contrast_700,textInverted:El.white,link:Fl.primary_500,border:Fl.contrast_100,borderDark:Fl.contrast_200,icon:Fl.contrast_500}})}),lc=Object.assign({},ac,{palette:Object.assign({},ac.palette,{default:Object.assign({},ac.palette.default,{background:Ml.black,backgroundLight:Ml.contrast_25,text:Ml.white,textLight:Ml.contrast_700,textInverted:Ml.black,link:Ml.primary_500,border:Ml.contrast_100,borderDark:Ml.contrast_200,icon:Ml.contrast_500,textVeryLight:Ml.contrast_400,replyLine:Ml.contrast_200,replyLineDot:Ml.contrast_200,unreadNotifBg:Ml.primary_25,unreadNotifBorder:Ml.primary_100,postCtrl:Ml.contrast_500,brandText:Ml.primary_500,emptyStateIcon:Ml.contrast_300,borderLinkHover:Ml.contrast_300})})}),cc=(0,mt.createContext)(ic),dc=()=>(0,mt.useContext)(cc);const uc=e=>{const t=(0,i.c)(5),{theme:s,children:n}=e;let o;t[0]!==s?(o=function(e){switch(e){case"light":default:return ic;case"dim":return lc;case"dark":return ac}}(s),t[0]=s,t[1]=o):o=t[1];const r=o;let a;return t[2]!==n||t[3]!==r?(a=(0,Ft.jsx)(cc.Provider,{value:r,children:n}),t[2]=n,t[3]=r,t[4]=a):a=t[4],a},mc=mt.createContext(rn.requireAltTextEnabled),hc=mt.createContext((e=>{}));function pc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("requireAltTextEnabled"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(e),xn("requireAltTextEnabled",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("requireAltTextEnabled",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(hc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(mc.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function fc(){return mt.useContext(mc)}const gc=mt.createContext(Boolean(rn.disableAutoplay)),xc=mt.createContext((e=>{}));function _c(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("disableAutoplay"),t[0]=n):n=t[0];const[o,r]=mt.useState(Boolean(n));let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(Boolean(e)),xn("disableAutoplay",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("disableAutoplay",(e=>{r(Boolean(e))})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(xc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(gc.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}const yc=()=>mt.useContext(gc),bc=()=>mt.useContext(xc),jc=mt.createContext(Boolean(rn.disableHaptics)),vc=mt.createContext((e=>{}));function wc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("disableHaptics"),t[0]=n):n=t[0];const[o,r]=mt.useState(Boolean(n));let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(Boolean(e)),xn("disableHaptics",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("disableHaptics",(e=>{r(Boolean(e))})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(vc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(jc.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}const Sc=()=>mt.useContext(jc),kc=()=>mt.useContext(vc),Cc=mt.createContext(rn.externalEmbeds),Pc=mt.createContext({});function Tc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("externalEmbeds"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=(e,t)=>{r((s=>(xn("externalEmbeds",Object.assign({},s,{[e]:t})),Object.assign({},s,{[e]:t}))))},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("externalEmbeds",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(Pc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(Cc.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function Lc(){return mt.useContext(Cc)}function Ac(){return mt.useContext(Pc)}const Ic=mt.createContext(rn.goLinksEnabled),Rc=mt.createContext((e=>{}));function Dc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("goLinksEnabled"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(e),xn("goLinksEnabled",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("goLinksEnabled",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(Rc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(Ic.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function Fc(){return mt.useContext(Ic)}const Ec=mt.createContext(rn.hiddenPosts),Mc=mt.createContext({hidePost:()=>{},unhidePost:()=>{}});function Bc(e){const t=(0,i.c)(10),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("hiddenPosts"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{const t=e(gn("hiddenPosts"));r(t),xn("hiddenPosts",t)},t[1]=a):a=t[1];const l=a;let c,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d={hidePost:e=>{const{uri:t}=e;l((e=>[...e||[],t]))},unhidePost:e=>{const{uri:t}=e;l((e=>(e||[]).filter((e=>e!==t))))}},t[2]=d):d=t[2],c=d;const u=c;let m,h,p,f;return t[3]===Symbol.for("react.memo_cache_sentinel")?(m=()=>_n("hiddenPosts",(e=>{r(e)})),h=[l],t[3]=m,t[4]=h):(m=t[3],h=t[4]),mt.useEffect(m,h),t[5]!==s?(p=(0,Ft.jsx)(Mc.Provider,{value:u,children:s}),t[5]=s,t[6]=p):p=t[6],t[7]!==o||t[8]!==p?(f=(0,Ft.jsx)(Ec.Provider,{value:o,children:p}),t[7]=o,t[8]=p,t[9]=f):f=t[9],f}function Oc(){return mt.useContext(Ec)}const zc=mt.createContext(rn.useInAppBrowser),Hc=mt.createContext((e=>{}));function Nc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("useInAppBrowser"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(e),xn("useInAppBrowser",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("useInAppBrowser",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(Hc.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(zc.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function Vc(){return mt.useContext(zc)}const qc=mt.createContext(rn.kawaii);function Uc(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("kawaii"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(e),xn("kawaii",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m,h;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("kawaii",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{if(Pt){e:switch(new URLSearchParams(window.location.search).get("kawaii")){case"true":l(!0);break e;case"false":l(!1)}}},m=[l],t[4]=u,t[5]=m):(u=t[4],m=t[5]),mt.useEffect(u,m),t[6]!==s||t[7]!==o?(h=(0,Ft.jsx)(qc.Provider,{value:o,children:s}),t[6]=s,t[7]=o,t[8]=h):h=t[8],h}function Wc(){return mt.useContext(qc)}const Zc=mt.createContext(rn.languagePrefs),Qc=mt.createContext({setPrimaryLanguage:e=>{},setPostLanguage:e=>{},setContentLanguage:e=>{},toggleContentLanguage:e=>{},togglePostLanguage:e=>{},savePostLanguageToHistory:()=>{},setAppLanguage:e=>{}});function Kc(e){const t=(0,i.c)(12),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("languagePrefs"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{const t=e(gn("languagePrefs"));r(t),xn("languagePrefs",t)},t[1]=a):a=t[1];const l=a;let c,d,u,m;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("languagePrefs",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==o?(m={setPrimaryLanguage(e){l((t=>Object.assign({},t,{primaryLanguage:e})))},setPostLanguage(e){l((t=>Object.assign({},t,{postLanguage:e})))},setContentLanguage(e){l((t=>Object.assign({},t,{contentLanguages:[e]})))},toggleContentLanguage(e){l((t=>{const s=t.contentLanguages.includes(e)?t.contentLanguages.filter((t=>t!==e)):t.contentLanguages.concat(e);return Object.assign({},t,{contentLanguages:s})}))},togglePostLanguage(e){l((t=>{let s;return s=td(o.postLanguage,e)?ed(t.postLanguage).filter((t=>t!==e)).join(","):ed(t.postLanguage).concat([e]).sort(Gc).join(","),Object.assign({},t,{postLanguage:s})}))},savePostLanguageToHistory(){l($c)},setAppLanguage(e){l((t=>Object.assign({},t,{appLanguage:e})))}},t[4]=o,t[5]=m):m=t[5],u=m;const h=u;let p,f;return t[6]!==h||t[7]!==s?(p=(0,Ft.jsx)(Qc.Provider,{value:h,children:s}),t[6]=h,t[7]=s,t[8]=p):p=t[8],t[9]!==o||t[10]!==p?(f=(0,Ft.jsx)(Zc.Provider,{value:o,children:p}),t[9]=o,t[10]=p,t[11]=f):f=t[11],f}function $c(e){return Object.assign({},e,{postLanguageHistory:[e.postLanguage].concat(e.postLanguageHistory.filter((t=>t!==e.postLanguage))).slice(0,6)})}function Gc(e,t){return e.localeCompare(t)}function Yc(){return mt.useContext(Zc)}function Jc(){return mt.useContext(Qc)}function Xc(){return gn("languagePrefs").contentLanguages}function ed(e){return e.split(",").filter(Boolean)}function td(e,t){return ed(e).includes(t)}const sd=mt.createContext(rn.largeAltBadgeEnabled),nd=mt.createContext((e=>{}));function od(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("largeAltBadgeEnabled"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(e),xn("largeAltBadgeEnabled",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("largeAltBadgeEnabled",(e=>{r(e)})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(nd.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(sd.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function rd(){return mt.useContext(sd)}const id=mt.createContext(Boolean(rn.subtitlesEnabled)),ad=mt.createContext((e=>{}));function ld(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("subtitlesEnabled"),t[0]=n):n=t[0];const[o,r]=mt.useState(Boolean(n));let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r(Boolean(e)),xn("subtitlesEnabled",e)},t[1]=a):a=t[1];const l=a;let c,d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=()=>_n("subtitlesEnabled",(e=>{r(Boolean(e))})),d=[l],t[2]=c,t[3]=d):(c=t[2],d=t[3]),mt.useEffect(c,d),t[4]!==s?(u=(0,Ft.jsx)(ad.Provider,{value:l,children:s}),t[4]=s,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(id.Provider,{value:o,children:u}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}const cd=()=>mt.useContext(id),dd=()=>mt.useContext(ad),ud=mt.createContext({trendingDisabled:Boolean(rn.trendingDisabled),trendingVideoDisabled:Boolean(rn.trendingVideoDisabled)}),md=mt.createContext({setTrendingDisabled(){},setTrendingVideoDisabled(){}});function hd(e){const t=(0,i.c)(10);let s;t[0]!==e?(s=()=>Boolean(gn(e)),t[0]=e,t[1]=s):s=t[1];const[n,o]=mt.useState(s);let r;t[2]!==e?(r=t=>{o(Boolean(t)),xn(e,t)},t[2]=e,t[3]=r):r=t[3];const a=r;let l,c,d;return t[4]!==e?(l=()=>_n(e,(e=>{o(Boolean(e))})),c=[e,o],t[4]=e,t[5]=l,t[6]=c):(l=t[5],c=t[6]),mt.useEffect(l,c),t[7]!==a||t[8]!==n?(d=[n,a],t[7]=a,t[8]=n,t[9]=d):d=t[9],d}function pd(e){const t=(0,i.c)(12),{children:s}=e,[n,o]=hd("trendingDisabled"),[r,a]=hd("trendingVideoDisabled");let l,c;t[0]!==n||t[1]!==r?(c={trendingDisabled:n,trendingVideoDisabled:r},t[0]=n,t[1]=r,t[2]=c):c=t[2],l=c;const d=l;let u,m;t[3]!==o||t[4]!==a?(m={setTrendingDisabled:o,setTrendingVideoDisabled:a},t[3]=o,t[4]=a,t[5]=m):m=t[5],u=m;const h=u;let p,f;return t[6]!==h||t[7]!==s?(p=(0,Ft.jsx)(md.Provider,{value:h,children:s}),t[6]=h,t[7]=s,t[8]=p):p=t[8],t[9]!==d||t[10]!==p?(f=(0,Ft.jsx)(ud.Provider,{value:d,children:p}),t[9]=d,t[10]=p,t[11]=f):f=t[11],f}function fd(){return mt.useContext(ud)}function gd(){return mt.useContext(md)}const xd=mt.createContext(!1),_d=mt.createContext((e=>{}));function yd(e){const t=(0,i.c)(8),{children:s}=e,[n,o]=mt.useState(bd);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{o(e),xn("hasCheckedForStarterPack",e)},t[0]=r):r=t[0];const a=r;let l,c,d,u;return t[1]===Symbol.for("react.memo_cache_sentinel")?(l=()=>_n("hasCheckedForStarterPack",(e=>{o(e)})),c=[],t[1]=l,t[2]=c):(l=t[1],c=t[2]),mt.useEffect(l,c),t[3]!==s?(d=(0,Ft.jsx)(_d.Provider,{value:a,children:s}),t[3]=s,t[4]=d):d=t[4],t[5]!==n||t[6]!==d?(u=(0,Ft.jsx)(xd.Provider,{value:n,children:d}),t[5]=n,t[6]=d,t[7]=u):u=t[7],u}function bd(){return gn("hasCheckedForStarterPack")}const jd=()=>mt.useContext(_d);var vd=s(5448),wd=s(18102),Sd=s(37729);function kd(e,t){const s=new Date(t);return e.date(s,{dateStyle:"long",timeStyle:"short"})}function Cd(e){var t=new Date,s=t.getFullYear()-e.getFullYear(),n=t.getMonth()-e.getMonth();return(n<0||0===n&&t.getDate()<e.getDate())&&s--,s}function Pd(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()}const Td=6e4,Ld={SECONDS:{FIFTEEN:15e3,THIRTY:3e4},MINUTES:{ONE:Td,THREE:18e4,FIVE:3e5,THIRTY:18e5},HOURS:{ONE:36e5},INFINITY:1/0},Ad="did:plc:z57lz5dhgz2dkjogoysm3vut",Id={BR:["did:plc:ekitcvx7uwnauoqy5oest3hm"],RU:["did:plc:crm2agcxvvlj6hilnjdc4hox"],GB:["did:plc:gvkp7euswjjrctjmqwhhfzif"],AU:["did:plc:dsynw7isrf2eqlhcjx3ffnmt"],TR:["did:plc:cquoj7aozvmkud2gifeinkda"],JP:["did:plc:vhgppeyjwgrr37vm4v6ggd5a"],PK:["did:plc:zrp6a3tvprrsgawsbswbxu7m"],IN:["did:plc:srr4rdvgzkbx6t7fxqtt6j5t"],AT:[Ad],BE:[Ad],BG:[Ad],HR:[Ad],CY:[Ad],CZ:[Ad],DK:[Ad],EE:[Ad],FI:[Ad],FR:[Ad],DE:[Ad,"did:plc:r55ow3tocux5kafs5dq445fy"],GR:[Ad],HU:[Ad],IE:[Ad],IT:[Ad],LV:[Ad],LT:[Ad],LU:[Ad],MT:[Ad],NL:[Ad],PL:[Ad],PT:[Ad],RO:[Ad],SK:[Ad],SI:[Ad],ES:[Ad,"did:plc:zlbbuj5nov4ixhvgl3bj47em"],SE:[Ad]},Rd=Array.from(new Set(Object.values(Id).flat()));function Dd(e){return Rd.includes(e)}function Fd(){const e=Tn.get(["geolocation"]);let t=Rd;e?.countryCode?t=Id[e.countryCode]??[]:ys.info("no geolocation, cannot apply mod authorities");const s=Array.from(new Set([...Is.BskyAgent.appLabelers,...t]));ys.info("applying mod authorities",{additionalLabelers:t,appLabelers:s}),Is.BskyAgent.configure({appLabelers:s})}function Ed(e){const t=(0,i.c)(4),s=(0,mt.useRef)(e);let n,o,r;return t[0]!==e?(n=()=>{s.current=e},o=[e],t[0]=e,t[1]=n,t[2]=o):(n=t[1],o=t[2]),(0,mt.useInsertionEffect)(n,o),t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(...e)=>{const t=e;return(0,s.current)(...t)},t[3]=r):r=t[3],r}const Md=mt.createContext({activeLightbox:null}),Bd=mt.createContext({openLightbox:()=>{},closeLightbox:()=>!1});function Od(e){const t=(0,i.c)(14),{children:s}=e,[n,o]=mt.useState(null);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{o((t=>t||Object.assign({},e,{id:(0,Xt.nanoid)()})))},t[0]=r):r=t[0];const a=Ed(r);let l;t[1]!==n?(l=()=>{const e=!!n;return o(null),e},t[1]=n,t[2]=l):l=t[2];const c=Ed(l);let d,u;t[3]!==n?(u={activeLightbox:n},t[3]=n,t[4]=u):u=t[4],d=u;const m=d;let h,p;t[5]!==c||t[6]!==a?(p={openLightbox:a,closeLightbox:c},t[5]=c,t[6]=a,t[7]=p):p=t[7],h=p;const f=h;let g,x;return t[8]!==s||t[9]!==f?(g=(0,Ft.jsx)(Bd.Provider,{value:f,children:s}),t[8]=s,t[9]=f,t[10]=g):g=t[10],t[11]!==m||t[12]!==g?(x=(0,Ft.jsx)(Md.Provider,{value:m,children:g}),t[11]=m,t[12]=g,t[13]=x):x=t[13],x}function zd(){return mt.useContext(Md)}function Hd(){return mt.useContext(Bd)}const Nd=mt.createContext({isModalActive:!1,activeModals:[]}),Vd=mt.createContext({openModal:()=>{},closeModal:()=>!1,closeAllModals:()=>!1});function qd(e){const t=(0,i.c)(19),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[],t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=e=>{r((t=>[...t,e]))},t[1]=a):a=t[1];const l=Ed(a);let c;t[2]!==o.length?(c=()=>{const e=o.length>0;return r(Ud),e},t[2]=o.length,t[3]=c):c=t[3];const d=Ed(c);let u;t[4]!==o.length?(u=()=>{const e=o.length>0;return r([]),e},t[4]=o.length,t[5]=u):u=t[5];const m=Ed(u);let h;const p=o.length>0;let f;t[6]!==o||t[7]!==p?(f={isModalActive:p,activeModals:o},t[6]=o,t[7]=p,t[8]=f):f=t[8],h=f;const g=h;let x,_;t[9]!==m||t[10]!==d||t[11]!==l?(_={openModal:l,closeModal:d,closeAllModals:m},t[9]=m,t[10]=d,t[11]=l,t[12]=_):_=t[12],x=_;const y=x;let b,j;return t[13]!==s||t[14]!==y?(b=(0,Ft.jsx)(Vd.Provider,{value:y,children:s}),t[13]=s,t[14]=y,t[15]=b):b=t[15],t[16]!==g||t[17]!==b?(j=(0,Ft.jsx)(Nd.Provider,{value:g,children:b}),t[16]=g,t[17]=b,t[18]=j):j=t[18],j}function Ud(e){return e.slice(0,-1)}function Wd(){return mt.useContext(Nd)}function Zd(){return mt.useContext(Vd)}var Qd=s(93158),Kd=s(10248);const $d="\u202a",Gd="\u202c";function Yd(e){return $d+e+Gd}const Jd=/^([a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?\.)+[a-zA-Z]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?$/,Xd=18;function eu(e,t){return`${e=(e||"").replace(/[.]+$/,"")}.${t=(t||"").replace(/^[.]+/,"")}`}function tu(e){return"handle.invalid"===e}function su(e,t=""){return tu(e)?"\u26a0Invalid Handle":Yd(`${t}${e.toLocaleLowerCase()}`)}function nu(e,t){const s=eu(e,t),n={handleChars:!e||Jd.test(s)&&!e.includes("."),hyphenStartOrEnd:!e.startsWith("-")&&!e.endsWith("-"),frontLength:e.length>=3&&e.length<=Xd,totalLength:s.length<=253};return Object.assign({},n,{overall:!Object.values(n).includes(!1)})}function ou(e){if(!e)return null;try{if(e.startsWith("at://")){const t=new Is.AtUri(e);return"app.bsky.graph.starterpack"!==t.collection?null:t.rkey?{name:t.hostname,rkey:t.rkey}:null}{const t=new URL(e).pathname.split("/"),[s,n,o,r]=t;return 4!==t.length||"starter-pack"!==n&&"start"!==n?null:o&&r?{name:o,rkey:r}:null}}catch(t){return null}}function ru(e){if(!e)return null;const t=ou(e);return t?e.startsWith("at://")?e:`at://${t.name}/app.bsky.graph.starterpack/${t.rkey}`:null}function iu(e,t){if("string"===typeof e)return`https://ogcard.cdn.bsky.app/start/${e}/${t}`;{const t=new Is.AtUri(e.uri).rkey;return`https://ogcard.cdn.bsky.app/start/${e.creator.did}/${t}`}}function au({did:e,rkey:t}){return new Is.AtUri(`at://${e}/app.bsky.graph.starterpack/${t}`).toString()}const lu="https://bsky.app",cu=new RegExp(`^(http(s)?://(([\\w-]+\\.)?${["bsky\\.app","bsky\\.social","blueskyweb\\.xyz","blueskyweb\\.zendesk\\.com"].join("|([\\w-]+\\.)?")})|/|#)`);function du(e){return!!Kd.find((t=>{let s=e.lastIndexOf(t);return-1!==s&&("."===e.charAt(s-1)&&s===e.length-t.length)}))}function uu(e,t,s){const n=new Is.AtUri("at://host/");return n.host=e,n.collection=t,n.rkey=s,n.toString()}function mu(e){try{const t=new URL(e);return`https://${t.host}`===Yr?"Bluesky Social":t.host?t.host:e}catch(t){return e}}function hu(e){try{const t=new URL(e);if("http:"!==t.protocol&&"https:"!==t.protocol)return e;const s=("/"===t.pathname?"":t.pathname)+t.search+t.hash;return s.length>15?t.host+s.slice(0,13)+"...":t.host+s}catch(t){return e}}function pu(e){if(!e.startsWith("https")){const t=new URL("https://bsky.app");t.pathname=e,e=t.toString()}return e}function fu(e){return new URL(e,lu).toString()}function gu(e){return e.startsWith("https://bsky.app/")}function xu(e){return/^\/[^/]/.test(e)}function _u(e){return(e.startsWith("https://bsky.app/")||xu(e))&&/\/rss\/?$/.test(e)}function yu(e){const t=!gu(e)&&e.startsWith("http"),s=_u(e);return t||s}function bu(e){if(gu(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/post\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function ju(e){if(gu(e))try{const t=new URL(e);return/start\/(?<name>[^/]+)\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}function vu(e){if(gu(e))try{const t=new URL(e);return ju(e)?t.pathname.replace("/start/","/starter-pack/"):t.pathname}catch(t){}else if(Tu(e))return function(e){try{const t=new URL(e).pathname.split("/").filter(Boolean);return 1===t.length?`/starter-pack-short/${t[0]}`:e}catch(t){return ys.error("Failed to parse possible short link",{safeMessage:t}),e}}(e);return e}function wu(e){try{const{hostname:t,rkey:s}=new Is.AtUri(e);return`/profile/${t}/lists/${s}`}catch{return""}}function Su(e){try{const{hostname:t,rkey:s}=new Is.AtUri(e);return`/profile/${t}/feed/${s}`}catch{return""}}function ku(e,t){try{const{hostname:s,rkey:n}=new Is.AtUri(e);return`/profile/${t?.handle&&!tu(t.handle)?t.handle:s}/post/${n}`}catch{return}}function Cu(e,t){const s=function(e){if(/\s/.test(e))return;try{return new URL(e).hostname.toLowerCase()}catch{}try{return new URL("https://"+e).hostname.toLowerCase()}catch{}return}(t);if(xu(e)||"#"===e)return!1;let n;try{n=new URL(e)}catch{return!0}const o=n.hostname.toLowerCase();return r=e,cu.test(r)?!!s&&s!==o&&Pu(s):!s||s!==o;var r}function Pu(e){if((e=e.trim()).startsWith("http://"))return!0;if(e.startsWith("https://"))return!0;const[t]=e.split(/[\s\/]/);return du(t)}function Tu(e){return e.startsWith("https://go.bsky.app/")}function Lu(e){let t;try{t=new URL(e)}catch(s){return null}return t.hostname}function Au(e){try{if(e.endsWith("."))return null;e.startsWith("https://")||e.startsWith("http://")||(e="https://"+e);const t=new URL(e),s=t.hostname.split(".");if(s.length<2)return null;const n=s[s.length-1];return/^[a-z]{2,}$/i.test(n)?t.toString():null}catch{return null}}var Iu=s(13058),Ru=s(26777),Du=s(36657);function Fu(e){return Math.round(3*e.length/4)}function Eu(e){return new Promise(((t,s)=>{const n=new FileReader;n.onloadend=()=>{"string"===typeof n.result?t(n.result):s(new Error("Failed to read blob"))},n.onerror=s,n.readAsDataURL(e)}))}async function Mu(e,t){return e.size<t?e:await Bu(e.path,{width:e.width,height:e.height,mode:"stretch",maxSize:t})}async function Bu(e,t){let s,n=0,o=101;for(;o-n>1;){const r=Math.round((o+n)/2),i=await Ou(e,{width:t.width,height:t.height,quality:r/100,mode:t.mode});Fu(i)<t.maxSize?(n=r,s=i):o=r}if(!s)throw new Error("Failed to compress image");return{path:s,mime:"image/jpeg",size:Fu(s),width:t.width,height:t.height}}function Ou(e,{width:t,height:s,quality:n,mode:o}){return new Promise(((r,i)=>{const a=document.createElement("img");a.addEventListener("load",(()=>{const e=document.createElement("canvas"),l=e.getContext("2d");if(!l)return i(new Error("Failed to resize image"));let c=1;"cover"===o?c=a.width<a.height?t/a.width:s/a.height:"contain"===o&&(c=a.width>a.height?t/a.width:s/a.height);let d=a.width*c,u=a.height*c;e.width=d,e.height=u,l.drawImage(a,0,0,d,u),r(e.toDataURL("image/jpeg",n))})),a.addEventListener("error",(e=>{i(e.error)})),a.src=e}))}async function zu(e,t,s){const n=new Blob([t],{type:s}),o=URL.createObjectURL(n);return await async function(e,t){const s=document.createElement("a");s.href=e,s.download=t,s.click()}(o,e),setTimeout((()=>URL.revokeObjectURL(o)),100),!0}var Hu=s(63911),Nu=s(64486);const Vu=3500;let qu,Uu;const Wu=e=>{const t=(0,i.c)(5),[s,n]=(0,mt.useState)();let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=()=>{qu=e=>{n(e)}},t[0]=o):o=t[0],(0,mt.useEffect)(o),t[1]!==s?(r=s&&(0,Ft.jsxs)(wo.default,{style:Qu.container,children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:s.icon,size:20,style:Qu.icon}),(0,Ft.jsx)(ur.default,{style:Qu.text,children:s.text}),(0,Ft.jsx)(tr.default,{style:Qu.dismissBackdrop,accessibilityLabel:"Dismiss",accessibilityHint:"",onPress:()=>{n(void 0)}})]}),t[1]=s,t[2]=r):r=t[2],t[3]!==r?(a=(0,Ft.jsx)(Ft.Fragment,{children:r}),t[3]=r,t[4]=a):a=t[4],a};function Zu(e,t="check"){Uu&&clearTimeout(Uu),qu?.({text:e,icon:t}),Uu=setTimeout((()=>{qu?.(void 0)}),Vu)}const Qu=Gn.default.create({container:{position:"fixed",left:20,bottom:20,width:"calc(100% - 40px)",maxWidth:350,padding:20,flexDirection:"row",alignItems:"center",backgroundColor:"#000c",borderRadius:10},dismissBackdrop:{position:"absolute",top:0,left:0,bottom:0,right:0},icon:{color:"#fff",flexShrink:0},text:{color:"#fff",fontSize:18,marginLeft:10}});async function Ku(e){const t=await(0,Hu.launchImageLibraryAsync)(Object.assign({exif:!1,mediaTypes:["images"],quality:1},e,{legacy:!0}));return t.assets&&t.assets.length>4&&Zu(cs.i18n._({id:"/iGSF/"}),"exclamation-circle"),(t.assets??[]).slice(0,4).filter((e=>!!e.mimeType?.startsWith("image/")||(Zu(cs.i18n._({id:"bY3uS9"}),"exclamation-circle"),!1))).map((e=>({mime:e.mimeType||"image/jpeg",height:e.height,width:e.width,path:e.uri,size:Fu(e.uri)})))}async function $u(e){throw new Error("openCamera is not supported on web")}async function Gu(e){throw new Error("openCropper is not supported on web. Use EditImageDialog instead.")}let Yu;function Ju(){return kt?Yu??=om(Iu.cacheDirectory,"bsky-composer"):null}async function Xu(e){return{alt:"",source:{id:(0,Xt.nanoid)(),path:await nm(e.path),width:e.width,height:e.height,mime:e.mime}}}function em(e=[]){return e.map((({uri:e,width:t,height:s,altText:n=""})=>({alt:n,source:{id:(0,Xt.nanoid)(),path:e,width:t,height:s,mime:"image/jpeg"}})))}async function tm(e){const{width:t,height:s}=await async function(e){var t=document.createElement("img");const s=new Promise(((e,s)=>{t.onload=e,t.onerror=s}));return t.src=e,await s,{width:t.width,height:t.height}}(e),n=/^data:(.+?);/.exec(e);return{alt:"",source:{id:(0,Xt.nanoid)(),path:e,width:t,height:s,mime:n?n[1]:"image/jpeg"}}}async function sm(e){const t=e.transformed||e.source,[s,n]=function(e,t,{width:s,height:n}){let o=1;(e>s||t>n)&&(o=e>t?s/e:n/t,e=Math.floor(e*o),t=Math.floor(t*o));return[e,t]}(t.width,t.height,xi);let o,r=0,i=101;for(;i-r>1;){const e=Math.round((i+r)/2),a=await(0,Ru.manipulateAsync)(t.path,[{resize:{width:s,height:n}}],{compress:e/100,format:Du.SaveFormat.JPEG,base64:!0}),l=a.base64,c=l?Fu(l):0;l&&c<=xi.size?(r=e,o={path:await nm(a.uri),width:a.width,height:a.height,mime:"image/jpeg",size:c}):i=e}if(o)return o;throw new Error("Unable to compress image")}async function nm(e){const t=kt&&Ju();if(t&&e.startsWith(t)){const s=om(t,(0,Xt.nanoid)(36));return await(0,Iu.makeDirectoryAsync)(t,{intermediates:!0}),await(0,Iu.moveAsync)({from:e,to:s}),s}return e}function om(e,t){return e.endsWith("/")?t.startsWith("/")?e.slice(0,-1)+t:e+t:t.startsWith("/")?e+t:e+"/"+t}const rm=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),im=/firefox|fxios/i.test(navigator.userAgent),am=window.matchMedia("(pointer: coarse)").matches,lm=/android/i.test(navigator.userAgent)&&am,{height:cm}=tc.default.get("window"),dm=Pt&&"localhost:8100"===window.location.host?"http://localhost:8100":"https://bsky.app",um=["youtube","youtubeShorts","twitch","spotify","soundcloud","appleMusic","vimeo","giphy","tenor","flickr"],mm={youtube:"YouTube",youtubeShorts:"YouTube Shorts",vimeo:"Vimeo",twitch:"Twitch",giphy:"GIPHY",tenor:"Tenor",spotify:"Spotify",appleMusic:"Apple Music",soundcloud:"SoundCloud",flickr:"Flickr"},hm=/media(?:[0-4]\.giphy\.com|\.giphy\.com)/i,pm=/^(\S+)\.(webp|gif|mp4)$/i;function fm(e){let t;try{t=new URL(e)}catch(n){return}if("youtu.be"===t.hostname){const e=t.pathname.split("/")[1],s=t.searchParams.get("t")??"0",n=encodeURIComponent(s.replace(/s$/,""));if(e)return{type:"youtube_video",source:"youtube",playerUri:`${dm}/iframe/youtube.html?videoId=${e}&start=${n}`}}if("www.youtube.com"===t.hostname||"youtube.com"===t.hostname||"m.youtube.com"===t.hostname||"music.youtube.com"===t.hostname){const[e,s,n]=t.pathname.split("/"),o="shorts"===s,r=o||"live"===s?n:t.searchParams.get("v"),i=t.searchParams.get("t")??"0",a=encodeURIComponent(i.replace(/s$/,""));if(r)return{type:o?"youtube_short":"youtube_video",source:o?"youtubeShorts":"youtube",hideDetails:!!o||void 0,playerUri:`${dm}/iframe/youtube.html?videoId=${r}&start=${a}`}}if("twitch.tv"===t.hostname||"www.twitch.tv"===t.hostname||"m.twitch.tv"===t.hostname){const e=Pt?window.location.hostname:"localhost",[s,n,o,r]=t.pathname.split("/");if("videos"===n)return{type:"twitch_video",source:"twitch",playerUri:`https://player.twitch.tv/?volume=0.5&!muted&autoplay&video=${o}&parent=${e}`};if("clip"===o)return{type:"twitch_video",source:"twitch",playerUri:`https://clips.twitch.tv/embed?volume=0.5&autoplay=true&clip=${r}&parent=${e}`};if(n)return{type:"twitch_video",source:"twitch",playerUri:`https://player.twitch.tv/?volume=0.5&!muted&autoplay&channel=${n}&parent=${e}`}}if("open.spotify.com"===t.hostname){const[e,s,n,o]=t.pathname.split("/");if(n){if("playlist"===s||"playlist"===n)return{type:"spotify_playlist",source:"spotify",playerUri:`https://open.spotify.com/embed/playlist/${o??n}`};if("album"===s||"album"===n)return{type:"spotify_album",source:"spotify",playerUri:`https://open.spotify.com/embed/album/${o??n}`};if("track"===s||"track"===n)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/track/${o??n}`};if("episode"===s||"episode"===n)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/episode/${o??n}`};if("show"===s||"show"===n)return{type:"spotify_song",source:"spotify",playerUri:`https://open.spotify.com/embed/show/${o??n}`}}}if("soundcloud.com"===t.hostname||"www.soundcloud.com"===t.hostname){const[s,n,o,r]=t.pathname.split("/");if(n&&o)return"sets"===o&&r?{type:"soundcloud_set",source:"soundcloud",playerUri:`https://w.soundcloud.com/player/?url=${e}&auto_play=true&visual=false&hide_related=true`}:{type:"soundcloud_track",source:"soundcloud",playerUri:`https://w.soundcloud.com/player/?url=${e}&auto_play=true&visual=false&hide_related=true`}}if("music.apple.com"===t.hostname||"music.apple.com"===t.hostname){const e=t.pathname.split("/"),s=e[2],n=t.searchParams.get("i");if(5===e.length&&("playlist"===s||"album"===s)){const e=`https://embed.music.apple.com${t.pathname}${t.search?"?i="+n:""}`;if("playlist"===s)return{type:"apple_music_playlist",source:"appleMusic",playerUri:e};if("album"===s)return n?{type:"apple_music_song",source:"appleMusic",playerUri:e}:{type:"apple_music_album",source:"appleMusic",playerUri:e}}}if("vimeo.com"===t.hostname||"www.vimeo.com"===t.hostname){const[e,s]=t.pathname.split("/");if(s)return{type:"vimeo_video",source:"vimeo",playerUri:`https://player.vimeo.com/video/${s}?autoplay=1`}}if("giphy.com"===t.hostname||"www.giphy.com"===t.hostname){const[e,s,n]=t.pathname.split("/");if("gifs"===s&&n){const e=n.split("-").pop();if(e)return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${e}`,playerUri:`https://i.giphy.com/media/${e}/200.webp`}}}if(hm.test(t.hostname)){const[e,s,n,o,r]=t.pathname.split("/");if("media"===s){if(o&&pm.test(o))return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${n}`,playerUri:`https://i.giphy.com/media/${n}/200.webp`};if(r&&pm.test(r))return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${o}`,playerUri:`https://i.giphy.com/media/${o}/200.webp`}}}if("i.giphy.com"===t.hostname||"www.i.giphy.com"===t.hostname){const[e,s,n]=t.pathname.split("/");if("media"===s&&n){const e=n.split(".")[0];return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${e}`,playerUri:`https://i.giphy.com/media/${e}/200.webp`}}if(s){return{type:"giphy_gif",source:"giphy",isGif:!0,hideDetails:!0,metaUri:`https://giphy.com/gifs/${s.split(".")[0]}`,playerUri:`https://i.giphy.com/media/${s.split(".")[0]}/200.webp`}}}const s=gm(t);if(s.success){const{playerUri:e,dimensions:t}=s;return{type:"tenor_gif",source:"tenor",isGif:!0,hideDetails:!0,playerUri:e,dimensions:t}}if("www.flickr.com"!==t.hostname&&"flickr.com"!==t.hostname){if("flic.kr"===t.hostname){const e="123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";let[s,n,o]=t.pathname.split("/"),r=0n;for(const t of o){const s=e.indexOf(t);if(!(s>=0))return;r=58n*r+BigInt(s)}switch(n){case"go":const e=`${r}`;return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/groups/${e.slice(0,-2)}@N${e.slice(-2)}`};case"s":return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/photosets/${r}`};default:return}}}else{let e=t.pathname.length-1;for(;e>0&&"/"===t.pathname.charAt(e);)--e;const s=t.pathname.slice(1,e+1).split("/");if(4===s.length){const[e,t,n,o]=s;if("photos"===e&&"albums"===n)return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/photosets/${o}`}}if(3===s.length){const[e,t,n]=s;if("groups"===e&&"pool"===n)return{type:"flickr_album",source:"flickr",playerUri:`https://embedr.flickr.com/groups/${t}`}}}}function gm(e){if("media.tenor.com"!==e.hostname)return{success:!1};let[t,s,n]=e.pathname.split("/");if(!s||!n)return{success:!1};if(!s.includes("AAAAC"))return{success:!1};const o=e.searchParams.get("hh"),r=e.searchParams.get("ww");if(!o||!r)return{success:!1};const i={height:Number(o),width:Number(r)};return Pt?rm?(s=s.replace("AAAAC","AAAP1"),n=n.replace(".gif",".mp4")):(s=s.replace("AAAAC","AAAP3"),n=n.replace(".gif",".webm")):s=s.replace("AAAAC","AAAAM"),{success:!0,playerUri:`https://t.gifs.bsky.app/${s}/${n}`,dimensions:i}}let xm=function(e){return e[e.HTML=0]="HTML",e[e.Text=1]="Text",e[e.Image=2]="Image",e[e.Video=3]="Video",e[e.Audio=4]="Audio",e[e.AtpData=5]="AtpData",e[e.Other=6]="Other",e}({});async function _m(e,t,s=15e3){if(gu(t)&&!ou(t))return{likelyType:xm.AtpData,url:t};let n;try{n=new URL(t);const e=function(e){if(hm.test(e.hostname)||"i.giphy.com"===e.hostname){const t=fm(e.toString());if(t&&"giphy_gif"===t.type)return t.metaUri}}(n);e&&(t=e,n=new URL(t))}catch(a){return{error:"Invalid URL",likelyType:xm.Other,url:t}}const o=function(e){if("string"===typeof e)try{e=new URL(e)}catch(a){return xm.Other}const t=e.pathname.split(".").pop()||"";if("html"===t||"htm"===t||"php"===t)return xm.HTML;const s=ym[t];if(!s)return xm.HTML;if(s.startsWith("text/"))return xm.Text;if(s.startsWith("image/"))return xm.Image;if(s.startsWith("video/"))return xm.Video;if(s.startsWith("audio/"))return xm.Audio;return xm.Other}(n),r={likelyType:o,url:t};if(o!==xm.HTML)return r;try{const n=new AbortController,o=setTimeout((()=>n.abort()),s||5e3),a=await fetch(`${i=e.service.toString()||"",ui(i)?yi:_i}${encodeURIComponent(t)}`,{signal:n.signal}),l=await a.json();clearTimeout(o);const{description:c,error:d,image:u,title:m}=l;if(""!==d)throw new Error(d);r.description=c,r.image=u,r.title=m}catch(a){r.error=a instanceof Error?a.toString():"Failed to fetch link"}var i;return r}const ym={123:"application/vnd.lotus-1-2-3","1km":"application/vnd.1000minds.decision-model+xml","3dml":"text/vnd.in3d.3dml","3ds":"image/x-3ds","3g2":"video/3gpp2","3gp":"video/3gpp","3gpp":"video/3gpp","3mf":"model/3mf","7z":"application/x-7z-compressed",aab:"application/x-authorware-bin",aac:"audio/x-aac",aam:"application/x-authorware-map",aas:"application/x-authorware-seg",abw:"application/x-abiword",ac:"application/vnd.nokia.n-gage.ac+xml",acc:"application/vnd.americandynamics.acc",ace:"application/x-ace-compressed",acu:"application/vnd.acucobol",acutc:"application/vnd.acucorp",adp:"audio/adpcm",aep:"application/vnd.audiograph",afm:"application/x-font-type1",afp:"application/vnd.ibm.modcap",age:"application/vnd.age",ahead:"application/vnd.ahead.space",ai:"application/postscript",aif:"audio/x-aiff",aifc:"audio/x-aiff",aiff:"audio/x-aiff",air:"application/vnd.adobe.air-application-installer-package+zip",ait:"application/vnd.dvb.ait",ami:"application/vnd.amiga.ami",amr:"audio/amr",apk:"application/vnd.android.package-archive",apng:"image/apng",appcache:"text/cache-manifest",application:"application/x-ms-application",apr:"application/vnd.lotus-approach",arc:"application/x-freearc",arj:"application/x-arj",asc:"application/pgp-signature",asf:"video/x-ms-asf",asm:"text/x-asm",aso:"application/vnd.accpac.simply.aso",asx:"video/x-ms-asf",atc:"application/vnd.acucorp",atom:"application/atom+xml",atomcat:"application/atomcat+xml",atomdeleted:"application/atomdeleted+xml",atomsvc:"application/atomsvc+xml",atx:"application/vnd.antix.game-component",au:"audio/basic",avi:"video/x-msvideo",avif:"image/avif",aw:"application/applixware",azf:"application/vnd.airzip.filesecure.azf",azs:"application/vnd.airzip.filesecure.azs",azv:"image/vnd.airzip.accelerator.azv",azw:"application/vnd.amazon.ebook",b16:"image/vnd.pco.b16",bat:"application/x-msdownload",bcpio:"application/x-bcpio",bdf:"application/x-font-bdf",bdm:"application/vnd.syncml.dm+wbxml",bdoc:"application/x-bdoc",bed:"application/vnd.realvnc.bed",bh2:"application/vnd.fujitsu.oasysprs",bin:"application/octet-stream",blb:"application/x-blorb",blorb:"application/x-blorb",bmi:"application/vnd.bmi",bmml:"application/vnd.balsamiq.bmml+xml",bmp:"image/x-ms-bmp",book:"application/vnd.framemaker",box:"application/vnd.previewsystems.box",boz:"application/x-bzip2",bpk:"application/octet-stream",bsp:"model/vnd.valve.source.compiled-map",btif:"image/prs.btif",buffer:"application/octet-stream",bz:"application/x-bzip",bz2:"application/x-bzip2",c:"text/x-c",c11amc:"application/vnd.cluetrust.cartomobile-config",c11amz:"application/vnd.cluetrust.cartomobile-config-pkg",c4d:"application/vnd.clonk.c4group",c4f:"application/vnd.clonk.c4group",c4g:"application/vnd.clonk.c4group",c4p:"application/vnd.clonk.c4group",c4u:"application/vnd.clonk.c4group",cab:"application/vnd.ms-cab-compressed",caf:"audio/x-caf",cap:"application/vnd.tcpdump.pcap",car:"application/vnd.curl.car",cat:"application/vnd.ms-pki.seccat",cb7:"application/x-cbr",cba:"application/x-cbr",cbr:"application/x-cbr",cbt:"application/x-cbr",cbz:"application/x-cbr",cc:"text/x-c",cco:"application/x-cocoa",cct:"application/x-director",ccxml:"application/ccxml+xml",cdbcmsg:"application/vnd.contact.cmsg",cdf:"application/x-netcdf",cdfx:"application/cdfx+xml",cdkey:"application/vnd.mediastation.cdkey",cdmia:"application/cdmi-capability",cdmic:"application/cdmi-container",cdmid:"application/cdmi-domain",cdmio:"application/cdmi-object",cdmiq:"application/cdmi-queue",cdx:"chemical/x-cdx",cdxml:"application/vnd.chemdraw+xml",cdy:"application/vnd.cinderella",cer:"application/pkix-cert",cfs:"application/x-cfs-compressed",cgm:"image/cgm",chat:"application/x-chat",chm:"application/vnd.ms-htmlhelp",chrt:"application/vnd.kde.kchart",cif:"chemical/x-cif",cii:"application/vnd.anser-web-certificate-issue-initiation",cil:"application/vnd.ms-artgalry",cjs:"application/node",cla:"application/vnd.claymore",class:"application/java-vm",clkk:"application/vnd.crick.clicker.keyboard",clkp:"application/vnd.crick.clicker.palette",clkt:"application/vnd.crick.clicker.template",clkw:"application/vnd.crick.clicker.wordbank",clkx:"application/vnd.crick.clicker",clp:"application/x-msclip",cmc:"application/vnd.cosmocaller",cmdf:"chemical/x-cmdf",cml:"chemical/x-cml",cmp:"application/vnd.yellowriver-custom-menu",cmx:"image/x-cmx",cod:"application/vnd.rim.cod",coffee:"text/coffeescript",com:"application/x-msdownload",conf:"text/plain",cpio:"application/x-cpio",cpp:"text/x-c",cpt:"application/mac-compactpro",crd:"application/x-mscardfile",crl:"application/pkix-crl",crt:"application/x-x509-ca-cert",crx:"application/x-chrome-extension",cryptonote:"application/vnd.rig.cryptonote",csh:"application/x-csh",csl:"application/vnd.citationstyles.style+xml",csml:"chemical/x-csml",csp:"application/vnd.commonspace",css:"text/css",cst:"application/x-director",csv:"text/csv",cu:"application/cu-seeme",curl:"text/vnd.curl",cww:"application/prs.cww",cxt:"application/x-director",cxx:"text/x-c",dae:"model/vnd.collada+xml",daf:"application/vnd.mobius.daf",dart:"application/vnd.dart",dataless:"application/vnd.fdsn.seed",davmount:"application/davmount+xml",dbf:"application/vnd.dbf",dbk:"application/docbook+xml",dcr:"application/x-director",dcurl:"text/vnd.curl.dcurl",dd2:"application/vnd.oma.dd2+xml",ddd:"application/vnd.fujixerox.ddd",ddf:"application/vnd.syncml.dmddf+xml",dds:"image/vnd.ms-dds",deb:"application/x-debian-package",def:"text/plain",deploy:"application/octet-stream",der:"application/x-x509-ca-cert",dfac:"application/vnd.dreamfactory",dgc:"application/x-dgc-compressed",dic:"text/x-c",dir:"application/x-director",dis:"application/vnd.mobius.dis","disposition-notification":"message/disposition-notification",dist:"application/octet-stream",distz:"application/octet-stream",djv:"image/vnd.djvu",djvu:"image/vnd.djvu",dll:"application/x-msdownload",dmg:"application/x-apple-diskimage",dmp:"application/vnd.tcpdump.pcap",dms:"application/octet-stream",dna:"application/vnd.dna",doc:"application/msword",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",dp:"application/vnd.osgi.dp",dpg:"application/vnd.dpgraph",dra:"audio/vnd.dra",drle:"image/dicom-rle",dsc:"text/prs.lines.tag",dssc:"application/dssc+der",dtb:"application/x-dtbook+xml",dtd:"application/xml-dtd",dts:"audio/vnd.dts",dtshd:"audio/vnd.dts.hd",dump:"application/octet-stream",dvb:"video/vnd.dvb.file",dvi:"application/x-dvi",dwd:"application/atsc-dwd+xml",dwf:"model/vnd.dwf",dwg:"image/vnd.dwg",dxf:"image/vnd.dxf",dxp:"application/vnd.spotfire.dxp",dxr:"application/x-director",ear:"application/java-archive",ecelp4800:"audio/vnd.nuera.ecelp4800",ecelp7470:"audio/vnd.nuera.ecelp7470",ecelp9600:"audio/vnd.nuera.ecelp9600",ecma:"application/ecmascript",edm:"application/vnd.novadigm.edm",edx:"application/vnd.novadigm.edx",efif:"application/vnd.picsel",ei6:"application/vnd.pg.osasli",elc:"application/octet-stream",emf:"image/emf",eml:"message/rfc822",emma:"application/emma+xml",emotionml:"application/emotionml+xml",emz:"application/x-msmetafile",eol:"audio/vnd.digital-winds",eot:"application/vnd.ms-fontobject",eps:"application/postscript",epub:"application/epub+zip",es:"application/ecmascript",es3:"application/vnd.eszigno3+xml",esa:"application/vnd.osgi.subsystem",esf:"application/vnd.epson.esf",et3:"application/vnd.eszigno3+xml",etx:"text/x-setext",eva:"application/x-eva",evy:"application/x-envoy",exe:"application/x-msdownload",exi:"application/exi",exp:"application/express",exr:"image/aces",ext:"application/vnd.novadigm.ext",ez:"application/andrew-inset",ez2:"application/vnd.ezpix-album",ez3:"application/vnd.ezpix-package",f:"text/x-fortran",f4v:"video/x-f4v",f77:"text/x-fortran",f90:"text/x-fortran",fbs:"image/vnd.fastbidsheet",fcdt:"application/vnd.adobe.formscentral.fcdt",fcs:"application/vnd.isac.fcs",fdf:"application/vnd.fdf",fdt:"application/fdt+xml",fe_launch:"application/vnd.denovo.fcselayout-link",fg5:"application/vnd.fujitsu.oasysgp",fgd:"application/x-director",fh:"image/x-freehand",fh4:"image/x-freehand",fh5:"image/x-freehand",fh7:"image/x-freehand",fhc:"image/x-freehand",fig:"application/x-xfig",fits:"image/fits",flac:"audio/x-flac",fli:"video/x-fli",flo:"application/vnd.micrografx.flo",flv:"video/x-flv",flw:"application/vnd.kde.kivio",flx:"text/vnd.fmi.flexstor",fly:"text/vnd.fly",fm:"application/vnd.framemaker",fnc:"application/vnd.frogans.fnc",fo:"application/vnd.software602.filler.form+xml",for:"text/x-fortran",fpx:"image/vnd.fpx",frame:"application/vnd.framemaker",fsc:"application/vnd.fsc.weblaunch",fst:"image/vnd.fst",ftc:"application/vnd.fluxtime.clip",fti:"application/vnd.anser-web-funds-transfer-initiation",fvt:"video/vnd.fvt",fxp:"application/vnd.adobe.fxp",fxpl:"application/vnd.adobe.fxp",fzs:"application/vnd.fuzzysheet",g2w:"application/vnd.geoplan",g3:"image/g3fax",g3w:"application/vnd.geospace",gac:"application/vnd.groove-account",gam:"application/x-tads",gbr:"application/rpki-ghostbusters",gca:"application/x-gca-compressed",gdl:"model/vnd.gdl",gdoc:"application/vnd.google-apps.document",ged:"text/vnd.familysearch.gedcom",geo:"application/vnd.dynageo",geojson:"application/geo+json",gex:"application/vnd.geometry-explorer",ggb:"application/vnd.geogebra.file",ggt:"application/vnd.geogebra.tool",ghf:"application/vnd.groove-help",gif:"image/gif",gim:"application/vnd.groove-identity-message",glb:"model/gltf-binary",gltf:"model/gltf+json",gml:"application/gml+xml",gmx:"application/vnd.gmx",gnumeric:"application/x-gnumeric",gph:"application/vnd.flographit",gpx:"application/gpx+xml",gqf:"application/vnd.grafeq",gqs:"application/vnd.grafeq",gram:"application/srgs",gramps:"application/x-gramps-xml",gre:"application/vnd.geometry-explorer",grv:"application/vnd.groove-injector",grxml:"application/srgs+xml",gsf:"application/x-font-ghostscript",gsheet:"application/vnd.google-apps.spreadsheet",gslides:"application/vnd.google-apps.presentation",gtar:"application/x-gtar",gtm:"application/vnd.groove-tool-message",gtw:"model/vnd.gtw",gv:"text/vnd.graphviz",gxf:"application/gxf",gxt:"application/vnd.geonext",gz:"application/gzip",h:"text/x-c",h261:"video/h261",h263:"video/h263",h264:"video/h264",hal:"application/vnd.hal+xml",hbci:"application/vnd.hbci",hbs:"text/x-handlebars-template",hdd:"application/x-virtualbox-hdd",hdf:"application/x-hdf",heic:"image/heic",heics:"image/heic-sequence",heif:"image/heif",heifs:"image/heif-sequence",hej2:"image/hej2k",held:"application/atsc-held+xml",hh:"text/x-c",hjson:"application/hjson",hlp:"application/winhlp",hpgl:"application/vnd.hp-hpgl",hpid:"application/vnd.hp-hpid",hps:"application/vnd.hp-hps",hqx:"application/mac-binhex40",hsj2:"image/hsj2",htc:"text/x-component",htke:"application/vnd.kenameaapp",htm:"text/html",html:"text/html",hvd:"application/vnd.yamaha.hv-dic",hvp:"application/vnd.yamaha.hv-voice",hvs:"application/vnd.yamaha.hv-script",i2g:"application/vnd.intergeo",icc:"application/vnd.iccprofile",ice:"x-conference/x-cooltalk",icm:"application/vnd.iccprofile",ico:"image/x-icon",ics:"text/calendar",ief:"image/ief",ifb:"text/calendar",ifm:"application/vnd.shana.informed.formdata",iges:"model/iges",igl:"application/vnd.igloader",igm:"application/vnd.insors.igm",igs:"model/iges",igx:"application/vnd.micrografx.igx",iif:"application/vnd.shana.informed.interchange",img:"application/octet-stream",imp:"application/vnd.accpac.simply.imp",ims:"application/vnd.ms-ims",in:"text/plain",ini:"text/plain",ink:"application/inkml+xml",inkml:"application/inkml+xml",install:"application/x-install-instructions",iota:"application/vnd.astraea-software.iota",ipfix:"application/ipfix",ipk:"application/vnd.shana.informed.package",irm:"application/vnd.ibm.rights-management",irp:"application/vnd.irepository.package+xml",iso:"application/x-iso9660-image",itp:"application/vnd.shana.informed.formtemplate",its:"application/its+xml",ivp:"application/vnd.immervision-ivp",ivu:"application/vnd.immervision-ivu",jad:"text/vnd.sun.j2me.app-descriptor",jade:"text/jade",jam:"application/vnd.jam",jar:"application/java-archive",jardiff:"application/x-java-archive-diff",java:"text/x-java-source",jhc:"image/jphc",jisp:"application/vnd.jisp",jls:"image/jls",jlt:"application/vnd.hp-jlyt",jng:"image/x-jng",jnlp:"application/x-java-jnlp-file",joda:"application/vnd.joost.joda-archive",jp2:"image/jp2",jpe:"image/jpeg",jpeg:"image/jpeg",jpf:"image/jpx",jpg:"image/jpeg",jpg2:"image/jp2",jpgm:"video/jpm",jpgv:"video/jpeg",jph:"image/jph",jpm:"video/jpm",jpx:"image/jpx",js:"application/javascript",json:"application/json",json5:"application/json5",jsonld:"application/ld+json",jsonml:"application/jsonml+json",jsx:"text/jsx",jxr:"image/jxr",jxra:"image/jxra",jxrs:"image/jxrs",jxs:"image/jxs",jxsc:"image/jxsc",jxsi:"image/jxsi",jxss:"image/jxss",kar:"audio/midi",karbon:"application/vnd.kde.karbon",kdbx:"application/x-keepass2",key:"application/x-iwork-keynote-sffkey",kfo:"application/vnd.kde.kformula",kia:"application/vnd.kidspiration",kml:"application/vnd.google-earth.kml+xml",kmz:"application/vnd.google-earth.kmz",kne:"application/vnd.kinar",knp:"application/vnd.kinar",kon:"application/vnd.kde.kontour",kpr:"application/vnd.kde.kpresenter",kpt:"application/vnd.kde.kpresenter",kpxx:"application/vnd.ds-keypoint",ksp:"application/vnd.kde.kspread",ktr:"application/vnd.kahootz",ktx:"image/ktx",ktx2:"image/ktx2",ktz:"application/vnd.kahootz",kwd:"application/vnd.kde.kword",kwt:"application/vnd.kde.kword",lasxml:"application/vnd.las.las+xml",latex:"application/x-latex",lbd:"application/vnd.llamagraphics.life-balance.desktop",lbe:"application/vnd.llamagraphics.life-balance.exchange+xml",les:"application/vnd.hhe.lesson-player",less:"text/less",lgr:"application/lgr+xml",lha:"application/x-lzh-compressed",link66:"application/vnd.route66.link66+xml",list:"text/plain",list3820:"application/vnd.ibm.modcap",listafp:"application/vnd.ibm.modcap",litcoffee:"text/coffeescript",lnk:"application/x-ms-shortcut",log:"text/plain",lostxml:"application/lost+xml",lrf:"application/octet-stream",lrm:"application/vnd.ms-lrm",ltf:"application/vnd.frogans.ltf",lua:"text/x-lua",luac:"application/x-lua-bytecode",lvp:"audio/vnd.lucent.voice",lwp:"application/vnd.lotus-wordpro",lzh:"application/x-lzh-compressed",m13:"application/x-msmediaview",m14:"application/x-msmediaview",m1v:"video/mpeg",m21:"application/mp21",m2a:"audio/mpeg",m2v:"video/mpeg",m3a:"audio/mpeg",m3u:"audio/x-mpegurl",m3u8:"application/vnd.apple.mpegurl",m4a:"audio/x-m4a",m4p:"application/mp4",m4s:"video/iso.segment",m4u:"video/vnd.mpegurl",m4v:"video/x-m4v",ma:"application/mathematica",mads:"application/mads+xml",maei:"application/mmt-aei+xml",mag:"application/vnd.ecowin.chart",maker:"application/vnd.framemaker",man:"text/troff",manifest:"text/cache-manifest",map:"application/json",mar:"application/octet-stream",markdown:"text/markdown",mathml:"application/mathml+xml",mb:"application/mathematica",mbk:"application/vnd.mobius.mbk",mbox:"application/mbox",mc1:"application/vnd.medcalcdata",mcd:"application/vnd.mcd",mcurl:"text/vnd.curl.mcurl",md:"text/markdown",mdb:"application/x-msaccess",mdi:"image/vnd.ms-modi",mdx:"text/mdx",me:"text/troff",mesh:"model/mesh",meta4:"application/metalink4+xml",metalink:"application/metalink+xml",mets:"application/mets+xml",mfm:"application/vnd.mfmp",mft:"application/rpki-manifest",mgp:"application/vnd.osgeo.mapguide.package",mgz:"application/vnd.proteus.magazine",mid:"audio/midi",midi:"audio/midi",mie:"application/x-mie",mif:"application/vnd.mif",mime:"message/rfc822",mj2:"video/mj2",mjp2:"video/mj2",mjs:"application/javascript",mk3d:"video/x-matroska",mka:"audio/x-matroska",mkd:"text/x-markdown",mks:"video/x-matroska",mkv:"video/x-matroska",mlp:"application/vnd.dolby.mlp",mmd:"application/vnd.chipnuts.karaoke-mmd",mmf:"application/vnd.smaf",mml:"text/mathml",mmr:"image/vnd.fujixerox.edmics-mmr",mng:"video/x-mng",mny:"application/x-msmoney",mobi:"application/x-mobipocket-ebook",mods:"application/mods+xml",mov:"video/quicktime",movie:"video/x-sgi-movie",mp2:"audio/mpeg",mp21:"application/mp21",mp2a:"audio/mpeg",mp3:"audio/mpeg",mp4:"video/mp4",mp4a:"audio/mp4",mp4s:"application/mp4",mp4v:"video/mp4",mpc:"application/vnd.mophun.certificate",mpd:"application/dash+xml",mpe:"video/mpeg",mpeg:"video/mpeg",mpg:"video/mpeg",mpg4:"video/mp4",mpga:"audio/mpeg",mpkg:"application/vnd.apple.installer+xml",mpm:"application/vnd.blueice.multipass",mpn:"application/vnd.mophun.application",mpp:"application/vnd.ms-project",mpt:"application/vnd.ms-project",mpy:"application/vnd.ibm.minipay",mqy:"application/vnd.mobius.mqy",mrc:"application/marc",mrcx:"application/marcxml+xml",ms:"text/troff",mscml:"application/mediaservercontrol+xml",mseed:"application/vnd.fdsn.mseed",mseq:"application/vnd.mseq",msf:"application/vnd.epson.msf",msg:"application/vnd.ms-outlook",msh:"model/mesh",msi:"application/x-msdownload",msl:"application/vnd.mobius.msl",msm:"application/octet-stream",msp:"application/octet-stream",msty:"application/vnd.muvee.style",mtl:"model/mtl",mts:"model/vnd.mts",mus:"application/vnd.musician",musd:"application/mmt-usd+xml",musicxml:"application/vnd.recordare.musicxml+xml",mvb:"application/x-msmediaview",mvt:"application/vnd.mapbox-vector-tile",mwf:"application/vnd.mfer",mxf:"application/mxf",mxl:"application/vnd.recordare.musicxml",mxmf:"audio/mobile-xmf",mxml:"application/xv+xml",mxs:"application/vnd.triscape.mxs",mxu:"video/vnd.mpegurl","n-gage":"application/vnd.nokia.n-gage.symbian.install",n3:"text/n3",nb:"application/mathematica",nbp:"application/vnd.wolfram.player",nc:"application/x-netcdf",ncx:"application/x-dtbncx+xml",nfo:"text/x-nfo",ngdat:"application/vnd.nokia.n-gage.data",nitf:"application/vnd.nitf",nlu:"application/vnd.neurolanguage.nlu",nml:"application/vnd.enliven",nnd:"application/vnd.noblenet-directory",nns:"application/vnd.noblenet-sealer",nnw:"application/vnd.noblenet-web",npx:"image/vnd.net-fpx",nq:"application/n-quads",nsc:"application/x-conference",nsf:"application/vnd.lotus-notes",nt:"application/n-triples",ntf:"application/vnd.nitf",numbers:"application/x-iwork-numbers-sffnumbers",nzb:"application/x-nzb",oa2:"application/vnd.fujitsu.oasys2",oa3:"application/vnd.fujitsu.oasys3",oas:"application/vnd.fujitsu.oasys",obd:"application/x-msbinder",obgx:"application/vnd.openblox.game+xml",obj:"model/obj",oda:"application/oda",odb:"application/vnd.oasis.opendocument.database",odc:"application/vnd.oasis.opendocument.chart",odf:"application/vnd.oasis.opendocument.formula",odft:"application/vnd.oasis.opendocument.formula-template",odg:"application/vnd.oasis.opendocument.graphics",odi:"application/vnd.oasis.opendocument.image",odm:"application/vnd.oasis.opendocument.text-master",odp:"application/vnd.oasis.opendocument.presentation",ods:"application/vnd.oasis.opendocument.spreadsheet",odt:"application/vnd.oasis.opendocument.text",oga:"audio/ogg",ogex:"model/vnd.opengex",ogg:"audio/ogg",ogv:"video/ogg",ogx:"application/ogg",omdoc:"application/omdoc+xml",onepkg:"application/onenote",onetmp:"application/onenote",onetoc:"application/onenote",onetoc2:"application/onenote",opf:"application/oebps-package+xml",opml:"text/x-opml",oprc:"application/vnd.palm",opus:"audio/ogg",org:"text/x-org",osf:"application/vnd.yamaha.openscoreformat",osfpvg:"application/vnd.yamaha.openscoreformat.osfpvg+xml",osm:"application/vnd.openstreetmap.data+xml",otc:"application/vnd.oasis.opendocument.chart-template",otf:"font/otf",otg:"application/vnd.oasis.opendocument.graphics-template",oth:"application/vnd.oasis.opendocument.text-web",oti:"application/vnd.oasis.opendocument.image-template",otp:"application/vnd.oasis.opendocument.presentation-template",ots:"application/vnd.oasis.opendocument.spreadsheet-template",ott:"application/vnd.oasis.opendocument.text-template",ova:"application/x-virtualbox-ova",ovf:"application/x-virtualbox-ovf",owl:"application/rdf+xml",oxps:"application/oxps",oxt:"application/vnd.openofficeorg.extension",p:"text/x-pascal",p10:"application/pkcs10",p12:"application/x-pkcs12",p7b:"application/x-pkcs7-certificates",p7c:"application/pkcs7-mime",p7m:"application/pkcs7-mime",p7r:"application/x-pkcs7-certreqresp",p7s:"application/pkcs7-signature",p8:"application/pkcs8",pac:"application/x-ns-proxy-autoconfig",pages:"application/x-iwork-pages-sffpages",pas:"text/x-pascal",paw:"application/vnd.pawaafile",pbd:"application/vnd.powerbuilder6",pbm:"image/x-portable-bitmap",pcap:"application/vnd.tcpdump.pcap",pcf:"application/x-font-pcf",pcl:"application/vnd.hp-pcl",pclxl:"application/vnd.hp-pclxl",pct:"image/x-pict",pcurl:"application/vnd.curl.pcurl",pcx:"image/x-pcx",pdb:"application/x-pilot",pde:"text/x-processing",pdf:"application/pdf",pem:"application/x-x509-ca-cert",pfa:"application/x-font-type1",pfb:"application/x-font-type1",pfm:"application/x-font-type1",pfr:"application/font-tdpfr",pfx:"application/x-pkcs12",pgm:"image/x-portable-graymap",pgn:"application/x-chess-pgn",pgp:"application/pgp-encrypted",php:"application/x-httpd-php",pic:"image/x-pict",pkg:"application/octet-stream",pki:"application/pkixcmp",pkipath:"application/pkix-pkipath",pkpass:"application/vnd.apple.pkpass",pl:"application/x-perl",plb:"application/vnd.3gpp.pic-bw-large",plc:"application/vnd.mobius.plc",plf:"application/vnd.pocketlearn",pls:"application/pls+xml",pm:"application/x-perl",pml:"application/vnd.ctc-posml",png:"image/png",pnm:"image/x-portable-anymap",portpkg:"application/vnd.macports.portpkg",pot:"application/vnd.ms-powerpoint",potm:"application/vnd.ms-powerpoint.template.macroenabled.12",potx:"application/vnd.openxmlformats-officedocument.presentationml.template",ppam:"application/vnd.ms-powerpoint.addin.macroenabled.12",ppd:"application/vnd.cups-ppd",ppm:"image/x-portable-pixmap",pps:"application/vnd.ms-powerpoint",ppsm:"application/vnd.ms-powerpoint.slideshow.macroenabled.12",ppsx:"application/vnd.openxmlformats-officedocument.presentationml.slideshow",ppt:"application/vnd.ms-powerpoint",pptm:"application/vnd.ms-powerpoint.presentation.macroenabled.12",pptx:"application/vnd.openxmlformats-officedocument.presentationml.presentation",pqa:"application/vnd.palm",prc:"application/x-pilot",pre:"application/vnd.lotus-freelance",prf:"application/pics-rules",provx:"application/provenance+xml",ps:"application/postscript",psb:"application/vnd.3gpp.pic-bw-small",psd:"image/vnd.adobe.photoshop",psf:"application/x-font-linux-psf",pskcxml:"application/pskc+xml",pti:"image/prs.pti",ptid:"application/vnd.pvi.ptid1",pub:"application/x-mspublisher",pvb:"application/vnd.3gpp.pic-bw-var",pwn:"application/vnd.3m.post-it-notes",pya:"audio/vnd.ms-playready.media.pya",pyv:"video/vnd.ms-playready.media.pyv",qam:"application/vnd.epson.quickanime",qbo:"application/vnd.intu.qbo",qfx:"application/vnd.intu.qfx",qps:"application/vnd.publishare-delta-tree",qt:"video/quicktime",qwd:"application/vnd.quark.quarkxpress",qwt:"application/vnd.quark.quarkxpress",qxb:"application/vnd.quark.quarkxpress",qxd:"application/vnd.quark.quarkxpress",qxl:"application/vnd.quark.quarkxpress",qxt:"application/vnd.quark.quarkxpress",ra:"audio/x-realaudio",ram:"audio/x-pn-realaudio",raml:"application/raml+yaml",rapd:"application/route-apd+xml",rar:"application/x-rar-compressed",ras:"image/x-cmu-raster",rcprofile:"application/vnd.ipunplugged.rcprofile",rdf:"application/rdf+xml",rdz:"application/vnd.data-vision.rdz",relo:"application/p2p-overlay+xml",rep:"application/vnd.businessobjects",res:"application/x-dtbresource+xml",rgb:"image/x-rgb",rif:"application/reginfo+xml",rip:"audio/vnd.rip",ris:"application/x-research-info-systems",rl:"application/resource-lists+xml",rlc:"image/vnd.fujixerox.edmics-rlc",rld:"application/resource-lists-diff+xml",rm:"application/vnd.rn-realmedia",rmi:"audio/midi",rmp:"audio/x-pn-realaudio-plugin",rms:"application/vnd.jcp.javame.midlet-rms",rmvb:"application/vnd.rn-realmedia-vbr",rnc:"application/relax-ng-compact-syntax",rng:"application/xml",roa:"application/rpki-roa",roff:"text/troff",rp9:"application/vnd.cloanto.rp9",rpm:"application/x-redhat-package-manager",rpss:"application/vnd.nokia.radio-presets",rpst:"application/vnd.nokia.radio-preset",rq:"application/sparql-query",rs:"application/rls-services+xml",rsat:"application/atsc-rsat+xml",rsd:"application/rsd+xml",rsheet:"application/urc-ressheet+xml",rss:"application/rss+xml",rtf:"text/rtf",rtx:"text/richtext",run:"application/x-makeself",rusd:"application/route-usd+xml",s:"text/x-asm",s3m:"audio/s3m",saf:"application/vnd.yamaha.smaf-audio",sass:"text/x-sass",sbml:"application/sbml+xml",sc:"application/vnd.ibm.secure-container",scd:"application/x-msschedule",scm:"application/vnd.lotus-screencam",scq:"application/scvp-cv-request",scs:"application/scvp-cv-response",scss:"text/x-scss",scurl:"text/vnd.curl.scurl",sda:"application/vnd.stardivision.draw",sdc:"application/vnd.stardivision.calc",sdd:"application/vnd.stardivision.impress",sdkd:"application/vnd.solent.sdkm+xml",sdkm:"application/vnd.solent.sdkm+xml",sdp:"application/sdp",sdw:"application/vnd.stardivision.writer",sea:"application/x-sea",see:"application/vnd.seemail",seed:"application/vnd.fdsn.seed",sema:"application/vnd.sema",semd:"application/vnd.semd",semf:"application/vnd.semf",senmlx:"application/senml+xml",sensmlx:"application/sensml+xml",ser:"application/java-serialized-object",setpay:"application/set-payment-initiation",setreg:"application/set-registration-initiation","sfd-hdstx":"application/vnd.hydrostatix.sof-data",sfs:"application/vnd.spotfire.sfs",sfv:"text/x-sfv",sgi:"image/sgi",sgl:"application/vnd.stardivision.writer-global",sgm:"text/sgml",sgml:"text/sgml",sh:"application/x-sh",shar:"application/x-shar",shex:"text/shex",shf:"application/shf+xml",shtml:"text/html",sid:"image/x-mrsid-image",sieve:"application/sieve",sig:"application/pgp-signature",sil:"audio/silk",silo:"model/mesh",sis:"application/vnd.symbian.install",sisx:"application/vnd.symbian.install",sit:"application/x-stuffit",sitx:"application/x-stuffitx",siv:"application/sieve",skd:"application/vnd.koan",skm:"application/vnd.koan",skp:"application/vnd.koan",skt:"application/vnd.koan",sldm:"application/vnd.ms-powerpoint.slide.macroenabled.12",sldx:"application/vnd.openxmlformats-officedocument.presentationml.slide",slim:"text/slim",slm:"text/slim",sls:"application/route-s-tsid+xml",slt:"application/vnd.epson.salt",sm:"application/vnd.stepmania.stepchart",smf:"application/vnd.stardivision.math",smi:"application/smil+xml",smil:"application/smil+xml",smv:"video/x-smv",smzip:"application/vnd.stepmania.package",snd:"audio/basic",snf:"application/x-font-snf",so:"application/octet-stream",spc:"application/x-pkcs7-certificates",spdx:"text/spdx",spf:"application/vnd.yamaha.smaf-phrase",spl:"application/x-futuresplash",spot:"text/vnd.in3d.spot",spp:"application/scvp-vp-response",spq:"application/scvp-vp-request",spx:"audio/ogg",sql:"application/x-sql",src:"application/x-wais-source",srt:"application/x-subrip",sru:"application/sru+xml",srx:"application/sparql-results+xml",ssdl:"application/ssdl+xml",sse:"application/vnd.kodak-descriptor",ssf:"application/vnd.epson.ssf",ssml:"application/ssml+xml",st:"application/vnd.sailingtracker.track",stc:"application/vnd.sun.xml.calc.template",std:"application/vnd.sun.xml.draw.template",stf:"application/vnd.wt.stf",sti:"application/vnd.sun.xml.impress.template",stk:"application/hyperstudio",stl:"model/stl",stpx:"model/step+xml",stpxz:"model/step-xml+zip",stpz:"model/step+zip",str:"application/vnd.pg.format",stw:"application/vnd.sun.xml.writer.template",styl:"text/stylus",stylus:"text/stylus",sub:"text/vnd.dvb.subtitle",sus:"application/vnd.sus-calendar",susp:"application/vnd.sus-calendar",sv4cpio:"application/x-sv4cpio",sv4crc:"application/x-sv4crc",svc:"application/vnd.dvb.service",svd:"application/vnd.svd",svg:"image/svg+xml",svgz:"image/svg+xml",swa:"application/x-director",swf:"application/x-shockwave-flash",swi:"application/vnd.aristanetworks.swi",swidtag:"application/swid+xml",sxc:"application/vnd.sun.xml.calc",sxd:"application/vnd.sun.xml.draw",sxg:"application/vnd.sun.xml.writer.global",sxi:"application/vnd.sun.xml.impress",sxm:"application/vnd.sun.xml.math",sxw:"application/vnd.sun.xml.writer",t:"text/troff",t3:"application/x-t3vm-image",t38:"image/t38",taglet:"application/vnd.mynfc",tao:"application/vnd.tao.intent-module-archive",tap:"image/vnd.tencent.tap",tar:"application/x-tar",tcap:"application/vnd.3gpp2.tcap",tcl:"application/x-tcl",td:"application/urc-targetdesc+xml",teacher:"application/vnd.smart.teacher",tei:"application/tei+xml",teicorpus:"application/tei+xml",tex:"application/x-tex",texi:"application/x-texinfo",texinfo:"application/x-texinfo",text:"text/plain",tfi:"application/thraud+xml",tfm:"application/x-tex-tfm",tfx:"image/tiff-fx",tga:"image/x-tga",thmx:"application/vnd.ms-officetheme",tif:"image/tiff",tiff:"image/tiff",tk:"application/x-tcl",tmo:"application/vnd.tmobile-livetv",toml:"application/toml",torrent:"application/x-bittorrent",tpl:"application/vnd.groove-tool-template",tpt:"application/vnd.trid.tpt",tr:"text/troff",tra:"application/vnd.trueapp",trig:"application/trig",trm:"application/x-msterminal",ts:"video/mp2t",tsd:"application/timestamped-data",tsv:"text/tab-separated-values",ttc:"font/collection",ttf:"font/ttf",ttl:"text/turtle",ttml:"application/ttml+xml",twd:"application/vnd.simtech-mindmapper",twds:"application/vnd.simtech-mindmapper",txd:"application/vnd.genomatix.tuxedo",txf:"application/vnd.mobius.txf",txt:"text/plain",u32:"application/x-authorware-bin",u8dsn:"message/global-delivery-status",u8hdr:"message/global-headers",u8mdn:"message/global-disposition-notification",u8msg:"message/global",ubj:"application/ubjson",udeb:"application/x-debian-package",ufd:"application/vnd.ufdl",ufdl:"application/vnd.ufdl",ulx:"application/x-glulx",umj:"application/vnd.umajin",unityweb:"application/vnd.unity",uoml:"application/vnd.uoml+xml",uri:"text/uri-list",uris:"text/uri-list",urls:"text/uri-list",usdz:"model/vnd.usdz+zip",ustar:"application/x-ustar",utz:"application/vnd.uiq.theme",uu:"text/x-uuencode",uva:"audio/vnd.dece.audio",uvd:"application/vnd.dece.data",uvf:"application/vnd.dece.data",uvg:"image/vnd.dece.graphic",uvh:"video/vnd.dece.hd",uvi:"image/vnd.dece.graphic",uvm:"video/vnd.dece.mobile",uvp:"video/vnd.dece.pd",uvs:"video/vnd.dece.sd",uvt:"application/vnd.dece.ttml+xml",uvu:"video/vnd.uvvu.mp4",uvv:"video/vnd.dece.video",uvva:"audio/vnd.dece.audio",uvvd:"application/vnd.dece.data",uvvf:"application/vnd.dece.data",uvvg:"image/vnd.dece.graphic",uvvh:"video/vnd.dece.hd",uvvi:"image/vnd.dece.graphic",uvvm:"video/vnd.dece.mobile",uvvp:"video/vnd.dece.pd",uvvs:"video/vnd.dece.sd",uvvt:"application/vnd.dece.ttml+xml",uvvu:"video/vnd.uvvu.mp4",uvvv:"video/vnd.dece.video",uvvx:"application/vnd.dece.unspecified",uvvz:"application/vnd.dece.zip",uvx:"application/vnd.dece.unspecified",uvz:"application/vnd.dece.zip",vbox:"application/x-virtualbox-vbox","vbox-extpack":"application/x-virtualbox-vbox-extpack",vcard:"text/vcard",vcd:"application/x-cdlink",vcf:"text/x-vcard",vcg:"application/vnd.groove-vcard",vcs:"text/x-vcalendar",vcx:"application/vnd.vcx",vdi:"application/x-virtualbox-vdi",vds:"model/vnd.sap.vds",vhd:"application/x-virtualbox-vhd",vis:"application/vnd.visionary",viv:"video/vnd.vivo",vmdk:"application/x-virtualbox-vmdk",vob:"video/x-ms-vob",vor:"application/vnd.stardivision.writer",vox:"application/x-authorware-bin",vrml:"model/vrml",vsd:"application/vnd.visio",vsf:"application/vnd.vsf",vss:"application/vnd.visio",vst:"application/vnd.visio",vsw:"application/vnd.visio",vtf:"image/vnd.valve.source.texture",vtt:"text/vtt",vtu:"model/vnd.vtu",vxml:"application/voicexml+xml",w3d:"application/x-director",wad:"application/x-doom",wadl:"application/vnd.sun.wadl+xml",war:"application/java-archive",wasm:"application/wasm",wav:"audio/x-wav",wax:"audio/x-ms-wax",wbmp:"image/vnd.wap.wbmp",wbs:"application/vnd.criticaltools.wbs+xml",wbxml:"application/vnd.wap.wbxml",wcm:"application/vnd.ms-works",wdb:"application/vnd.ms-works",wdp:"image/vnd.ms-photo",weba:"audio/webm",webapp:"application/x-web-app-manifest+json",webm:"video/webm",webmanifest:"application/manifest+json",webp:"image/webp",wg:"application/vnd.pmi.widget",wgt:"application/widget",wks:"application/vnd.ms-works",wm:"video/x-ms-wm",wma:"audio/x-ms-wma",wmd:"application/x-ms-wmd",wmf:"image/wmf",wml:"text/vnd.wap.wml",wmlc:"application/vnd.wap.wmlc",wmls:"text/vnd.wap.wmlscript",wmlsc:"application/vnd.wap.wmlscriptc",wmv:"video/x-ms-wmv",wmx:"video/x-ms-wmx",wmz:"application/x-msmetafile",woff:"font/woff",woff2:"font/woff2",wpd:"application/vnd.wordperfect",wpl:"application/vnd.ms-wpl",wps:"application/vnd.ms-works",wqd:"application/vnd.wqd",wri:"application/x-mswrite",wrl:"model/vrml",wsc:"message/vnd.wfa.wsc",wsdl:"application/wsdl+xml",wspolicy:"application/wspolicy+xml",wtb:"application/vnd.webturbo",wvx:"video/x-ms-wvx",x32:"application/x-authorware-bin",x3d:"model/x3d+xml",x3db:"model/x3d+fastinfoset",x3dbz:"model/x3d+binary",x3dv:"model/x3d-vrml",x3dvz:"model/x3d+vrml",x3dz:"model/x3d+xml",x_b:"model/vnd.parasolid.transmit.binary",x_t:"model/vnd.parasolid.transmit.text",xaml:"application/xaml+xml",xap:"application/x-silverlight-app",xar:"application/vnd.xara",xav:"application/xcap-att+xml",xbap:"application/x-ms-xbap",xbd:"application/vnd.fujixerox.docuworks.binder",xbm:"image/x-xbitmap",xca:"application/xcap-caps+xml",xcs:"application/calendar+xml",xdf:"application/xcap-diff+xml",xdm:"application/vnd.syncml.dm+xml",xdp:"application/vnd.adobe.xdp+xml",xdssc:"application/dssc+xml",xdw:"application/vnd.fujixerox.docuworks",xel:"application/xcap-el+xml",xenc:"application/xenc+xml",xer:"application/patch-ops-error+xml",xfdf:"application/vnd.adobe.xfdf",xfdl:"application/vnd.xfdl",xht:"application/xhtml+xml",xhtml:"application/xhtml+xml",xhvml:"application/xv+xml",xif:"image/vnd.xiff",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",xm:"audio/xm",xml:"text/xml",xns:"application/xcap-ns+xml",xo:"application/vnd.olpc-sugar",xop:"application/xop+xml",xpi:"application/x-xpinstall",xpl:"application/xproc+xml",xpm:"image/x-xpixmap",xpr:"application/vnd.is-xpr",xps:"application/vnd.ms-xpsdocument",xpw:"application/vnd.intercon.formnet",xpx:"application/vnd.intercon.formnet",xsd:"application/xml",xsl:"application/xslt+xml",xslt:"application/xslt+xml",xsm:"application/vnd.syncml+xml",xspf:"application/xspf+xml",xul:"application/vnd.mozilla.xul+xml",xvm:"application/xv+xml",xvml:"application/xv+xml",xwd:"image/x-xwindowdump",xyz:"chemical/x-xyz",xz:"application/x-xz",yaml:"text/yaml",yang:"application/yang",yin:"application/yin+xml",yml:"text/yaml",ymp:"text/x-suse-ymp",z1:"application/x-zmachine",z2:"application/x-zmachine",z3:"application/x-zmachine",z4:"application/x-zmachine",z5:"application/x-zmachine",z6:"application/x-zmachine",z7:"application/x-zmachine",z8:"application/x-zmachine",zaz:"application/vnd.zzazz.deck+xml",zip:"application/zip",zir:"application/vnd.zul",zirz:"application/vnd.zul",zmm:"application/vnd.handheld-entertainment+xml"};async function bm(e){const t=new AbortController,s=setTimeout((()=>t.abort()),2e3);try{const s=await fetch(e,{method:"GET",headers:{Accept:"application/json"},signal:t.signal});if(200!==s.status)return ys.error("Failed to resolve short link",{status:s.status}),e;return(await s.json()).url}catch(n){return ys.error("Failed to resolve short link",{safeMessage:n}),e}finally{clearTimeout(s)}}const jm="Alt: ",vm="ALT: ";function wm(e,t=""){return""!==(t=t.trim())?jm+t:vm+e}function Sm(e){return e.startsWith(jm)?{isPreferred:!0,alt:e.replace(jm,"")}:e.startsWith(vm)?{isPreferred:!1,alt:e.replace(vm,"")}:{isPreferred:!1,alt:e}}class km extends Error{constructor(){super("Embedding is disabled for this record")}}async function Cm(e,t){if(Tu(t)&&(t=await bm(t)),bu(t)){t=vu(t);const[s,n,o,r]=t.split("/").filter(Boolean),i=uu(n,"app.bsky.feed.post",r),a=await async function({uri:t}){const s=new Is.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}const n=await e.getPosts({uris:[s.toString()]});if(n.success&&n.data.posts[0])return n.data.posts[0];throw new Error("getPost: post not found")}({uri:i});if(a.viewer?.embeddingDisabled)throw new km;return{type:"record",record:{cid:a.cid,uri:a.uri},kind:"post",view:a}}if(function(e){if(gu(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/feed\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}(t)){t=vu(t);const[n,o,r,i]=t.split("/").filter(Boolean),a=uu(await s(o),"app.bsky.feed.generator",i),l=await e.app.bsky.feed.getFeedGenerator({feed:a});return{type:"record",record:{uri:l.data.view.uri,cid:l.data.view.cid},kind:"feed",view:l.data.view}}if(function(e){if(gu(e))try{const t=new URL(e);return/profile\/(?<name>[^/]+)\/lists\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}(t)){t=vu(t);const[n,o,r,i]=t.split("/").filter(Boolean),a=uu(await s(o),"app.bsky.graph.list",i),l=await e.app.bsky.graph.getList({list:a});return{type:"record",record:{uri:l.data.list.uri,cid:l.data.list.cid},kind:"list",view:l.data.list}}if(ju(t)||function(e){if(gu(e))try{const t=new URL(e);return/starter-pack\/(?<name>[^/]+)\/(?<rkey>[^/]+)/i.test(t.pathname)}catch{}return!1}(t)){const n=ou(t);if(!n)throw new Error("Unexpectedly called getStarterPackAsEmbed with a non-starterpack url");const o=au({did:await s(n.name),rkey:n.rkey}),r=await e.app.bsky.graph.getStarterPack({starterPack:o});return{type:"record",record:{uri:r.data.starterPack.uri,cid:r.data.starterPack.cid},kind:"starter-pack",view:r.data.starterPack}}return async function(e,t){const s=await _m(e,t);return{type:"external",uri:s.url,title:s.title??"",description:s.description??"",thumb:s.image?await Tm(s.image):void 0}}(e,t);async function s(t){let s=t;if(!s.startsWith("did:")){s=(await e.resolveHandle({handle:s})).data.did}return s}}async function Pm(e,t){return{type:"external",uri:`${t.media_formats.gif.url}?hh=${t.media_formats.gif.dims[1]}&ww=${t.media_formats.gif.dims[0]}`,title:t.content_description,description:wm(t.content_description),thumb:await Tm(t.media_formats.preview.url)}}async function Tm(e){try{const t=await async function(e){const t=new AbortController,s=setTimeout((()=>t.abort()),e.timeout||5e3),n=await fetch(e.uri),o=await n.blob();clearTimeout(s);const r=await Eu(o);return await Bu(r,e)}({uri:e,width:xi.width,height:xi.height,mode:"contain",maxSize:xi.size,timeout:15e3});if(t)return await Xu(t)}catch{}}const Lm=e=>["resolve-link",e],Am=e=>["resolve-gif",e];function Im(e){const t=(0,i.c)(8),s=bh();let n,o,r;return t[0]!==e?(n=Lm(e),t[0]=e,t[1]=n):n=t[1],t[2]!==s||t[3]!==e?(o=async()=>await Cm(s,e),t[2]=s,t[3]=e,t[4]=o):o=t[4],t[5]!==n||t[6]!==o?(r={staleTime:Ld.HOURS.ONE,queryKey:n,queryFn:o},t[5]=n,t[6]=o,t[7]=r):r=t[7],(0,vd.useQuery)(r)}function Rm(e,t,s){return e.fetchQuery({staleTime:Ld.HOURS.ONE,queryKey:Lm(s),queryFn:async()=>await Cm(t,s)})}function Dm(e){const t=(0,i.c)(8),s=bh();let n,o,r;return t[0]!==e.url?(n=Am(e.url),t[0]=e.url,t[1]=n):n=t[1],t[2]!==s||t[3]!==e?(o=async()=>await Pm(0,e),t[2]=s,t[3]=e,t[4]=o):o=t[4],t[5]!==n||t[6]!==o?(r={staleTime:Ld.HOURS.ONE,queryKey:n,queryFn:o},t[5]=n,t[6]=o,t[7]=r):r=t[7],(0,vd.useQuery)(r)}const Fm=mt.createContext(void 0),Em=mt.createContext({openComposer(e){},closeComposer:()=>!1});function Mm(e){const t=(0,i.c)(14),{children:s}=e,{_:n}=(0,ft.useLingui)(),[o,r]=mt.useState(),a=(0,wd.useQueryClient)();let l;t[0]!==n||t[1]!==a?(l=e=>{if(e.quote){const t=ku(e.quote.uri);if(t){const s=fu(t);!function(e,t,s){e.setQueryData(Lm(t),s)}(a,s,{type:"record",kind:"post",record:{cid:e.quote.cid,uri:e.quote.uri},view:e.quote})}}const t=e.replyTo?.author||e.quote?.author;Boolean(t&&(t.viewer?.blocking||t.viewer?.blockedBy||t.viewer?.blockingByList))?Zu(n({id:"v1v7Ny"}),"exclamation-circle"):r((t=>t||e))},t[0]=n,t[1]=a,t[2]=l):l=t[2];const c=Ed(l);let d;t[3]!==o?(d=()=>{const e=!!o;return e&&(r(void 0),async function(){const e=kt&&Ju();e&&(await(0,Iu.deleteAsync)(e,{idempotent:!0}),await(0,Iu.makeDirectoryAsync)(e))}()),e},t[3]=o,t[4]=d):d=t[4];const u=Ed(d);let m,h;t[5]!==u||t[6]!==c?(h={openComposer:c,closeComposer:u},t[5]=u,t[6]=c,t[7]=h):h=t[7],m=h;const p=m;let f,g;return t[8]!==p||t[9]!==s?(f=(0,Ft.jsx)(Em.Provider,{value:p,children:s}),t[8]=p,t[9]=s,t[10]=f):f=t[10],t[11]!==o||t[12]!==f?(g=(0,Ft.jsx)(Fm.Provider,{value:o,children:f}),t[11]=o,t[12]=f,t[13]=g):g=t[13],g}function Bm(){const e=(0,i.c)(2),{closeComposer:t}=mt.useContext(Em);let s,n;return e[0]!==t?(n={closeComposer:t},e[0]=t,e[1]=n):n=e[1],s=n,s}function Om(){const e=(0,i.c)(6),{closeLightbox:t}=Hd(),{closeAllModals:s}=Zd(),{closeComposer:n}=Bm(),{closeAllDialogs:o}=Xo(),r=Ra();let a;return e[0]!==o||e[1]!==s||e[2]!==n||e[3]!==t||e[4]!==r?(a=()=>{t(),s(),n(),o(),r(!1)},e[0]=o,e[1]=s,e[2]=n,e[3]=t,e[4]=r,e[5]=a):a=e[5],a}var zm=s(22198);async function Hm(e,t,s){let n;for(;e>0;)try{return await s()}catch(o){if(n=o,t(o)){e--;continue}throw o}throw n}async function Nm(e,t){return Hm(e,ms,t)}function Vm(e){if(!e)return!1;if(e.emailConfirmed)return!1;if($a(gn("onboarding")).isActive)return!1;const t=gn("reminders").lastEmailConfirm,s=new Date;return ys.debug("Checking email confirmation reminder",{today:s,snoozedAt:t}),!t||!Pd(new Date(Date.parse(t)),new Date)}function qm(){const e=(new Date).toISOString();ys.debug("Snoozing email confirmation reminder",{snoozedAt:e}),xn("reminders",Object.assign({},gn("reminders"),{lastEmailConfirm:e}))}var Um=s(83924);const Wm=["type"];let Zm=0;const Qm=1e3;function Km(e){try{if(!Qt.Statsig.initializeCalled()||!Qt.Statsig.getStableID())return;if(!Kt)return;const t=Zm++,{type:s}=e,n=(0,ls.default)(e,Wm);let o=JSON.stringify(n,Jm),r=0;for(;o.length>0;){const e=r++,n=o.slice(0,Qm);o=o.slice(Qm),Qt.Statsig.logEvent("session:debug",null,{realmId:Gm,messageIndex:String(t),messageType:s,sliceIndex:String(e),slice:n})}}catch(t){}}let $m=new WeakMap,Gm=Math.random().toString(36).slice(2),Ym=1;function Jm(e,t){return"object"===typeof t&&null!=t&&"api"in t?function(e){let t=$m.get(e);return void 0===t&&(t=Gm+"::"+Ym++,$m.set(e,t)),t}(t):"service"!==e&&"email"!==e&&"emailConfirmed"!==e&&"emailAuthFactor"!==e&&"pdsUrl"!==e?"string"!==typeof t||"refreshJwt"!==e&&"accessJwt"!==e?t:(0,Um.sha256)(t):void 0}const Xm="agent-labelers";async function eh(e,t){var s;th(),(s=t.handle)&&s?.endsWith(".test")&&await async function(e){const t=(await e.resolveHandle({handle:"mod-authority.test"}).catch((e=>{})))?.data.did;t&&Is.BskyAgent.configure({appLabelers:[t]})}(e);const n=await async function(e){const t=await xt.default.getItem(`${Xm}:${e}`);return t?JSON.parse(t):void 0}(t.did).catch((e=>{}));n&&e.configureLabelersHeader(n.filter((e=>e!==Is.BSKY_LABELER_DID))),Fd()}function th(){Is.BskyAgent.configure({appLabelers:[Is.BSKY_LABELER_DID]})}var sh=s(6342);function nh(e){if(e){const t=(0,sh.jwtDecode)(e);return Fs(t,"scope")&&"com.atproto.signupQueued"===t.scope}return!1}function oh(){return th(),Fd(),new dh({service:Jr})}async function rh(e,t){const s=new dh({service:e.service});e.pdsUrl&&(s.sessionManager.pdsUrl=new URL(e.pdsUrl));const n=Vn(e.did,"prefer-low-latency"),o=eh(s,e),r=lh(e);return!function(e){try{if(e.accessJwt){const t=(0,sh.jwtDecode)(e.accessJwt);if(t.exp)return Date.now()>=1e3*t.exp}}catch(t){ys.error("session: could not decode jwt")}return!0}(e)?(s.sessionManager.session=r,e.signupQueued||Nm(3,(()=>s.resumeSession(r))).catch((e=>{throw ys.error("networkRetry failed to resume session",{status:e?.status||"unknown",safeMessage:e?.message||"unknown"}),e}))):await Nm(1,(()=>s.resumeSession(r))),s.prepare(n,o,t)}function ih(e){const t=ah(e);if(!t)throw Error("Expected an active session");return t}function ah(e){if(e.session)return{service:e.service.toString(),did:e.session.did,handle:e.session.handle,email:e.session.email,emailConfirmed:e.session.emailConfirmed||!1,emailAuthFactor:e.session.emailAuthFactor||!1,refreshJwt:e.session.refreshJwt,accessJwt:e.session.accessJwt,signupQueued:nh(e.session.accessJwt),active:e.session.active,status:e.session.status,pdsUrl:e.pdsUrl?.toString(),isSelfHosted:!e.serviceUrl.toString().startsWith(Yr)}}function lh(e){return{accessJwt:e.accessJwt??"",did:e.did,email:e.email,emailAuthFactor:e.emailAuthFactor,emailConfirmed:e.emailConfirmed,handle:e.handle,refreshJwt:e.refreshJwt??"",active:e.active??!0,status:e.status}}let ch=globalThis.fetch;class dh extends Is.BskyAgent{persistSessionHandler=void 0;constructor({service:e}){super({service:e,async fetch(...e){let t=!1;try{const s=await ch(...e);return t=!0,s}catch(s){throw t=!1,s}finally{t?It.emit("network-confirmed"):It.emit("network-lost")}},persistSession:e=>{this.persistSessionHandler&&this.persistSessionHandler(e)}})}async prepare(e,t,s){await Promise.all([e,t]);const n=ih(this);let o=this.sessionManager.session;return this.persistSessionHandler=e=>{this.sessionManager.session?o=this.sessionManager.session:"network-error"===e&&(this.sessionManager.session=o),s(this,n.did,e),"create"!==e&&"update"!==e&&function(e,t){try{if(!Qt.Statsig.initializeCalled()||!Qt.Statsig.getStableID())return;const s=((new Error).stack??"").slice(0,Qm);Qt.Statsig.logEvent("session:error",null,{did:e,event:t,stack:s})}catch(s){}}(n.did,e)},{account:n,agent:this}}dispose(){this.sessionManager.session=void 0,this.persistSessionHandler=void 0}}function uh(){return{agent:oh(),did:void 0}}let mh=(e,t)=>{switch(t.type){case"received-agent-event":{const{agent:s,accountDid:n,refreshedAccount:o,sessionEvent:r}=t;if(void 0===o&&s!==e.currentAgentState.agent)return e;if("network-error"===r)return e;const i=e.accounts.find((e=>e.did===n));return i&&JSON.stringify(i)!==JSON.stringify(o)?{accounts:e.accounts.map((e=>e.did===n?o||Object.assign({},e,{accessJwt:void 0,refreshJwt:void 0}):e)),currentAgentState:o?e.currentAgentState:uh(),needsPersist:!0}:e}case"switched-to-account":{const{newAccount:s,newAgent:n}=t;return{accounts:[s,...e.accounts.filter((e=>e.did!==s.did))],currentAgentState:{did:s.did,agent:n},needsPersist:!0}}case"removed-account":{const{accountDid:s}=t;return{accounts:e.accounts.filter((e=>e.did!==s)),currentAgentState:e.currentAgentState.did===s?uh():e.currentAgentState,needsPersist:!0}}case"logged-out-current-account":{const{currentAgentState:t}=e;return{accounts:e.accounts.map((e=>e.did===t.did?Object.assign({},e,{refreshJwt:void 0,accessJwt:void 0}):e)),currentAgentState:uh(),needsPersist:!0}}case"logged-out-every-account":return{accounts:e.accounts.map((e=>Object.assign({},e,{refreshJwt:void 0,accessJwt:void 0}))),currentAgentState:uh(),needsPersist:!0};case"synced-accounts":{const{syncedAccounts:s,syncedCurrentDid:n}=t;return{accounts:s,currentAgentState:n===e.currentAgentState.did?e.currentAgentState:uh(),needsPersist:!1}}}};mh=function(e){return function(t,s){const n=e(t,s);return Km({type:"reducer:call",prevState:t,action:s,nextState:n}),n}}(mh);const hh=mt.createContext({accounts:[],currentAccount:void 0,hasSession:!1}),ph=mt.createContext(null),fh=mt.createContext({createAccount:async()=>{},login:async()=>{},logoutCurrentAccount:async()=>{},logoutEveryAccount:async()=>{},resumeSession:async()=>{},removeAccount:()=>{}});function gh({children:e}){const t=function(){const e=(0,i.c)(1),t=mt.useRef(null);let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=()=>(t.current&&t.current.abort(),t.current=new AbortController,t.current.signal),e[0]=s):s=e[0];const n=s;return n}(),[s,n]=mt.useReducer(mh,null,(()=>{const e={accounts:gn("session").accounts,currentAgentState:uh(),needsPersist:!1};return Km({type:"reducer:init",state:e}),e})),o=mt.useCallback(((e,t,s)=>{const o=ah(e);"expired"!==s&&"create-failed"!==s||It.emit("session-dropped"),n({type:"received-agent-event",agent:e,refreshedAccount:o,accountDid:t,sessionEvent:s})}),[]),r=mt.useCallback((async(e,s)=>{Km({type:"method:start",method:"createAccount"});const r=t();ys.metric("account:create:begin",{},{statsig:!0});const{agent:i,account:a}=await async function({service:e,email:t,password:s,handle:n,birthDate:o,inviteCode:r,verificationPhone:i,verificationCode:a},l){const c=new dh({service:e});await c.createAccount({email:t,password:s,handle:n,inviteCode:r,verificationPhone:i,verificationCode:a});const d=ih(c),u=Vn(d.did,"prefer-fresh-gates"),m=eh(c,d);if(ui(e))try{Nm(1,(async()=>{await c.setPersonalDetails({birthDate:o.toISOString()}),await c.overwriteSavedFeeds([Object.assign({},Fi,{id:zm.TID.nextStr()}),Object.assign({},Ei,{id:zm.TID.nextStr()})]),Cd(o)<18&&await c.api.com.atproto.repo.putRecord({repo:d.did,collection:"chat.bsky.actor.declaration",rkey:"self",record:{$type:"chat.bsky.actor.declaration",allowIncoming:"none"}})}))}catch(h){ys.error(h,{message:"session: createAgentAndCreateAccount failed to save personal details and feeds"})}else c.setPersonalDetails({birthDate:o.toISOString()});try{qm()}catch(h){ys.error(h,{message:"session: failed snoozeEmailConfirmationPrompt"})}return c.prepare(u,m,l)}(e,o);r.aborted||(n({type:"switched-to-account",newAgent:i,newAccount:a}),ys.metric("account:create:success",s,{statsig:!0}),Km({type:"method:end",method:"createAccount",account:a}))}),[o,t]),a=mt.useCallback((async(e,s)=>{Km({type:"method:start",method:"login"});const r=t(),{agent:i,account:a}=await async function({service:e,identifier:t,password:s,authFactorToken:n},o){const r=new dh({service:e});await r.login({identifier:t,password:s,authFactorToken:n,allowTakendown:!0});const i=ih(r),a=Vn(i.did,"prefer-fresh-gates"),l=eh(r,i);return r.prepare(a,l,o)}(e,o);r.aborted||(n({type:"switched-to-account",newAgent:i,newAccount:a}),ys.metric("account:loggedIn",{logContext:s,withPassword:!0},{statsig:!0}),Km({type:"method:end",method:"login",account:a}))}),[o,t]),l=mt.useCallback((e=>{Km({type:"method:start",method:"logout"}),t(),n({type:"logged-out-current-account"}),ys.metric("account:loggedOut",{logContext:e,scope:"current"},{statsig:!0}),Km({type:"method:end",method:"logout"})}),[t]),c=mt.useCallback((e=>{Km({type:"method:start",method:"logout"}),t(),n({type:"logged-out-every-account"}),ys.metric("account:loggedOut",{logContext:e,scope:"every"},{statsig:!0}),Km({type:"method:end",method:"logout"})}),[t]),d=mt.useCallback((async e=>{Km({type:"method:start",method:"resumeSession",account:e});const s=t(),{agent:r,account:i}=await rh(e,o);s.aborted||(n({type:"switched-to-account",newAgent:r,newAccount:i}),Km({type:"method:end",method:"resumeSession",account:i}))}),[o,t]),u=mt.useCallback((e=>{Km({type:"method:start",method:"removeAccount",account:e}),t(),n({type:"removed-account",accountDid:e.did}),Km({type:"method:end",method:"removeAccount",account:e})}),[t]);mt.useEffect((()=>{if(s.needsPersist){s.needsPersist=!1;const e={accounts:s.accounts,currentAccount:s.accounts.find((e=>e.did===s.currentAgentState.did))};Km({type:"persisted:broadcast",data:e}),xn("session",e)}}),[s]),mt.useEffect((()=>_n("session",(e=>{const t=e;Km({type:"persisted:receive",data:t}),n({type:"synced-accounts",syncedAccounts:t.accounts,syncedCurrentDid:t.currentAccount?.did});const o=t.accounts.find((e=>e.did===t.currentAccount?.did));if(o&&o.refreshJwt)if(o.did!==s.currentAgentState.did)d(o);else{const e=s.currentAgentState.agent,t=e.session;e.sessionManager.session=lh(o),Km({type:"agent:patch",agent:e,prevSession:t,nextSession:e.session})}}))),[s,d]);const m=mt.useMemo((()=>({accounts:s.accounts,currentAccount:s.accounts.find((e=>e.did===s.currentAgentState.did)),hasSession:!!s.currentAgentState.did})),[s]),h=mt.useMemo((()=>({createAccount:r,login:a,logoutCurrentAccount:l,logoutEveryAccount:c,resumeSession:d,removeAccount:u})),[r,a,l,c,d,u]);const p=s.currentAgentState.agent,f=mt.useRef(p);return mt.useEffect((()=>{if(f.current!==p){const e=f.current;f.current=p,Km({type:"agent:switch",prevAgent:e,nextAgent:p}),e.dispose()}}),[p]),(0,Ft.jsx)(ph.Provider,{value:p,children:(0,Ft.jsx)(hh.Provider,{value:m,children:(0,Ft.jsx)(fh.Provider,{value:h,children:e})})})}function xh(){return mt.useContext(hh)}function _h(){return mt.useContext(fh)}function yh(){const e=(0,i.c)(4),{hasSession:t}=xh(),s=Om(),{signinDialogControl:n}=No();let o;return e[0]!==s||e[1]!==t||e[2]!==n?(o=e=>{t?e():(s(),n.open())},e[0]=s,e[1]=t,e[2]=n,e[3]=o):o=e[3],o}function bh(){const e=mt.useContext(ph);if(!e)throw Error("useAgent() must be below <SessionProvider>.");return e}const jh=e=>["labeler-info",e],vh=e=>[Et,e];function wh(e){const t=(0,i.c)(9),{did:s,enabled:n}=e,o=bh(),r=!!s&&!1!==n,a=s;let l,c,d;return t[0]!==a?(l=jh(a),t[0]=a,t[1]=l):l=t[1],t[2]!==o||t[3]!==s?(c=async()=>(await o.app.bsky.labeler.getServices({dids:[s],detailed:!0})).data.views[0],t[2]=o,t[3]=s,t[4]=c):c=t[4],t[5]!==r||t[6]!==l||t[7]!==c?(d={enabled:r,queryKey:l,queryFn:c},t[5]=r,t[6]=l,t[7]=c,t[8]=d):d=t[8],(0,vd.useQuery)(d)}function Sh(e){return e.did}const kh=Object.fromEntries(Object.entries(Is.DEFAULT_LABEL_SETTINGS).map((([e,t])=>[e,"hide"])));function Ch(e){const t=(0,i.c)(12);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{excludeNonConfigurableLabelers:n}=s,o=void 0!==n&&n,r=Fh();let a,l;t[2]!==o||t[3]!==r.data?.moderationPrefs.labelers?(a=Array.from(new Set(Is.BskyAgent.appLabelers.concat(r.data?.moderationPrefs.labelers.map(Th)||[]))),o&&(a=a.filter(Ph)),t[2]=o,t[3]=r.data?.moderationPrefs.labelers,t[4]=a):a=t[4],t[5]!==a?(l={dids:a},t[5]=a,t[6]=l):l=t[6];const c=function(e){const t=(0,i.c)(9),{dids:s}=e,n=bh(),o=!!s.length;let r,a,l;return t[0]!==s?(r=vh(s),t[0]=s,t[1]=r):r=t[1],t[2]!==n||t[3]!==s?(a=async()=>(await n.app.bsky.labeler.getServices({dids:s,detailed:!0})).data.views,t[2]=n,t[3]=s,t[4]=a):a=t[4],t[5]!==o||t[6]!==r||t[7]!==a?(l={enabled:o,queryKey:r,gcTime:216e5,staleTime:Ld.MINUTES.ONE,queryFn:a},t[5]=o,t[6]=r,t[7]=a,t[8]=l):l=t[8],(0,vd.useQuery)(l)}(l),d=r.isLoading||c.isLoading,u=r.error||c.error;let m,h;return t[7]!==u||t[8]!==d||t[9]!==c.data||t[10]!==c.refetch?(h={isLoading:d,error:u,data:c.data,refetch:c.refetch},t[7]=u,t[8]=d,t[9]=c.data,t[10]=c.refetch,t[11]=h):h=t[11],m=h,m}function Ph(e){return!Dd(e)}function Th(e){return e.did}function Lh(e){return[e.creator.did,(0,Is.interpretLabelValueDefinitions)(e)]}const Ah={hideReplies:!1,hideRepliesByUnfollowed:!0,hideRepliesByLikeCount:0,hideReposts:!1,hideQuotePosts:!1,lab_mergeFeedEnabled:!1},Ih={sort:"hotness",prioritizeFollowedUsers:!0,lab_treeViewEnabled:!1},Rh={birthDate:new Date("2022-11-17"),moderationPrefs:{adultContentEnabled:!1,labels:kh,labelers:[],mutedWords:[],hiddenPosts:[]},feedViewPrefs:Ah,threadViewPrefs:Ih,userAge:13,interests:{tags:[]},savedFeeds:[],bskyAppState:{queuedNudges:[],activeProgressGuide:void 0,nuxs:[]},postInteractionSettings:{threadgateAllowRules:void 0,postgateEmbeddingRules:[]},verificationPrefs:{hideBadges:!1}},Dh=["getPreferences"];function Fh(){const e=(0,i.c)(2),t=bh();let s;return e[0]!==t?(s={staleTime:Ld.SECONDS.FIFTEEN,structuralSharing:ks,refetchOnWindowFocus:!0,queryKey:Dh,queryFn:async()=>{if(t.did){const e=await t.getPreferences();!async function(e,t){await xt.default.setItem(`${Xm}:${e}`,JSON.stringify(t))}(t.did,e.moderationPrefs.labelers.map(Mh));return Object.assign({},e,{savedFeeds:e.savedFeeds.filter(Eh),feedViewPrefs:Object.assign({},Ah,e.feedViewPrefs.home||{}),threadViewPrefs:Object.assign({},Ih,e.threadViewPrefs??{}),userAge:e.birthDate?Cd(e.birthDate):void 0})}return Rh}},e[0]=t,e[1]=s):s=e[1],(0,vd.useQuery)(s)}function Eh(e){return"unknown"!==e.type}function Mh(e){return e.did}function Bh(){const e=(0,i.c)(3),t=bh(),s=(0,wd.useQueryClient)();let n;return e[0]!==t||e[1]!==s?(n={mutationFn:async e=>{const{label:n,visibility:o,labelerDid:r}=e;await t.setContentLabelPref(n,o,r),ys.metric("moderation:changeLabelPreference",{preference:o},{statsig:!0}),await s.invalidateQueries({queryKey:Dh})}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function Oh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.setThreadViewPrefs(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function zh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.overwriteSavedFeeds(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function Hh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.addSavedFeeds(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function Nh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeSavedFeeds([e.id]),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function Vh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.updateSavedFeeds(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}function qh(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.upsertMutedWords(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}const Uh=mt.createContext({labelDefs:{},labelers:[]});function Wh(e){const t=(0,i.c)(3),{children:s}=e,n=function(){const e=(0,i.c)(6),t=Ch();let s,n,o,r;return e[0]!==t.data?(n=Object.fromEntries((t.data||[]).map(Lh)),o=t.data||[],e[0]=t.data,e[1]=n,e[2]=o):(n=e[1],o=e[2]),e[3]!==n||e[4]!==o?(r={labelDefs:n,labelers:o},e[3]=n,e[4]=o,e[5]=r):r=e[5],s=r,s}();let o;return t[0]!==s||t[1]!==n?(o=(0,Ft.jsx)(Uh.Provider,{value:n,children:s}),t[0]=s,t[1]=n,t[2]=o):o=t[2],o}function Zh(){return mt.useContext(Uh)}function Qh(e){const t=(0,i.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)(Kc,{children:(0,Ft.jsx)(pc,{children:(0,Ft.jsx)(Dc,{children:(0,Ft.jsx)(od,{children:(0,Ft.jsx)(Tc,{children:(0,Ft.jsx)(Bc,{children:(0,Ft.jsx)(Nc,{children:(0,Ft.jsx)(wc,{children:(0,Ft.jsx)(_c,{children:(0,Ft.jsx)(yd,{children:(0,Ft.jsx)(ld,{children:(0,Ft.jsx)(pd,{children:(0,Ft.jsx)(Uc,{children:s})})})})})})})})})})})})}),t[0]=s,t[1]=n):n=t[1],n}async function Kh(){const e=(0,i.c)(3),{appLanguage:t}=Yc();let n,o;e[0]!==t?(n=()=>{const e=Ws(t);document.documentElement.lang=e,async function(e){let t;switch(e){case Es.an:t=await s.e(328).then(s.t.bind(s,65328,23));break;case Es.ast:t=await s.e(777).then(s.t.bind(s,47777,23));break;case Es.ca:t=await s.e(251).then(s.t.bind(s,16251,23));break;case Es.cy:t=await s.e(528).then(s.t.bind(s,18528,23));break;case Es.da:t=await s.e(418).then(s.t.bind(s,66224,23));break;case Es.de:t=await s.e(82).then(s.t.bind(s,93082,23));break;case Es.el:t=await s.e(470).then(s.t.bind(s,26470,23));break;case Es.en_GB:t=await s.e(871).then(s.t.bind(s,27179,23));break;case Es.eo:t=await s.e(108).then(s.t.bind(s,61108,23));break;case Es.es:t=await s.e(145).then(s.t.bind(s,15145,23));break;case Es.eu:t=await s.e(348).then(s.t.bind(s,74348,23));break;case Es.fi:t=await s.e(905).then(s.t.bind(s,81905,23));break;case Es.fr:t=await s.e(697).then(s.t.bind(s,24697,23));break;case Es.fy:t=await s.e(39).then(s.t.bind(s,53039,23));break;case Es.ga:t=await s.e(640).then(s.t.bind(s,80640,23));break;case Es.gd:t=await s.e(262).then(s.t.bind(s,81262,23));break;case Es.gl:t=await s.e(850).then(s.t.bind(s,30850,23));break;case Es.hi:t=await s.e(419).then(s.t.bind(s,93419,23));break;case Es.hu:t=await s.e(373).then(s.t.bind(s,21373,23));break;case Es.ia:t=await s.e(288).then(s.t.bind(s,67288,23));break;case Es.id:t=await s.e(982).then(s.t.bind(s,45982,23));break;case Es.it:t=await s.e(77).then(s.t.bind(s,95077,23));break;case Es.ja:t=await s.e(936).then(s.t.bind(s,43936,23));break;case Es.km:t=await s.e(92).then(s.t.bind(s,39092,23));break;case Es.ko:t=await s.e(667).then(s.t.bind(s,2667,23));break;case Es.ne:t=await s.e(666).then(s.t.bind(s,76666,23));break;case Es.nl:t=await s.e(953).then(s.t.bind(s,30953,23));break;case Es.pl:t=await s.e(101).then(s.t.bind(s,43101,23));break;case Es.pt_BR:t=await s.e(742).then(s.t.bind(s,2742,23));break;case Es.ro:t=await s.e(508).then(s.t.bind(s,66508,23));break;case Es.ru:t=await s.e(789).then(s.t.bind(s,35373,23));break;case Es.sv:t=await s.e(874).then(s.t.bind(s,65874,23));break;case Es.th:t=await s.e(660).then(s.t.bind(s,35660,23));break;case Es.tr:t=await s.e(977).then(s.t.bind(s,14977,23));break;case Es.uk:t=await s.e(889).then(s.t.bind(s,1889,23));break;case Es.vi:t=await s.e(703).then(s.t.bind(s,40703,23));break;case Es.zh_CN:t=await s.e(767).then(s.t.bind(s,51767,23));break;case Es.zh_HK:t=await s.e(491).then(s.t.bind(s,71491,23));break;case Es.zh_TW:t=await s.e(931).then(s.t.bind(s,5931,23));break;default:t=await s.e(521).then(s.t.bind(s,99521,23))}cs.i18n.load(e,t.messages),cs.i18n.activate(e)}(e)},o=[t],e[0]=t,e[1]=n,e[2]=o):(n=e[1],o=e[2]),(0,mt.useEffect)(n,o)}function $h(e){const t=(0,i.c)(2),{children:s}=e;let n;return Kh(),t[0]!==s?(n=(0,Ft.jsx)(ft.I18nProvider,{i18n:cs.i18n,children:s}),t[0]=s,t[1]=n):n=t[1],n}const Gh=mt.createContext(new Map),Yh=mt.createContext((e=>!1));function Jh(e){const t=(0,i.c)(6),{children:s}=e,[n,o]=mt.useState(Xh);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(e,t)=>{o((s=>{const n=new Map(s);return n.set(e,t),n}))},t[0]=r):r=t[0];const a=r;let l,c;return function(e){const t=(0,i.c)(5),s=bh(),{currentAccount:n}=xh();let o,r;t[0]!==s||t[1]!==n||t[2]!==e?(o=()=>{if(n){if(!gn("mutedThreads").some((e=>e.includes(n.did))))return;let t;t=!1;return(async()=>{for(;!t;){const t=gn("mutedThreads"),o=t.findLast((e=>e.includes(n.did)));if(!o)break;xn("mutedThreads",t.filter((e=>e!==o))),e(o,!0),await s.api.app.bsky.graph.muteThread({root:o}).catch((function(){}))}})(),()=>{t=!0}}},r=[s,n,e],t[0]=s,t[1]=n,t[2]=e,t[3]=o,t[4]=r):(o=t[3],r=t[4]);(0,mt.useEffect)(o,r)}(a),t[1]!==s?(l=(0,Ft.jsx)(Yh.Provider,{value:a,children:s}),t[1]=s,t[2]=l):l=t[2],t[3]!==n||t[4]!==l?(c=(0,Ft.jsx)(Gh.Provider,{value:n,children:l}),t[3]=n,t[4]=l,t[5]=c):c=t[5],c}function Xh(){return new Map}const ep=new At.default,tp="geolocation-updated",sp=e=>{ep.emit(tp,e)},np=e=>(ep.on(tp,e),()=>{ep.off(tp,e)}),op={countryCode:void 0};async function rp(){const e=await fetch("https://bsky.app/ipcc");if(!e.ok)throw new Error(`geolocation: lookup failed ${e.status}`);const t=await e.json();return t.countryCode?{countryCode:t.countryCode}:void 0}let ip;async function ap(){if(!ip)throw new Error("geolocation: beginResolveGeolocation not called yet");const e=Tn.get(["geolocation"]);if(e)ys.debug("geolocation: using cache",{cached:e});else{ys.debug("geolocation: no cache");const{success:e}=await ip;e?ys.debug("geolocation: resolved",{resolved:Tn.get(["geolocation"])}):ys.error("geolocation: failed to resolve")}}const lp=mt.createContext({geolocation:op});function cp(e){const t=(0,i.c)(7),{children:s}=e,[n,o]=mt.useState(dp);let r,a,l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>np((e=>{o(e)})),a=[],t[0]=r,t[1]=a):(r=t[0],a=t[1]),mt.useEffect(r,a),t[2]!==n?(c={geolocation:n},t[2]=n,t[3]=c):c=t[3],l=c;const d=l;let u;return t[4]!==s||t[5]!==d?(u=(0,Ft.jsx)(lp.Provider,{value:d,children:s}),t[4]=s,t[5]=d,t[6]=u):u=t[6],u}function dp(){return Tn.get(["geolocation"])||op}const up=mt.createContext(!1),mp=mt.createContext((e=>{}));function hp(e){const t=(0,i.c)(5),{children:s}=e,[n,o]=mt.useState(!1);let r,a;return t[0]!==s?(r=(0,Ft.jsx)(mp.Provider,{value:o,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==n||t[3]!==r?(a=(0,Ft.jsx)(up.Provider,{value:n,children:r}),t[2]=n,t[3]=r,t[4]=a):a=t[4],a}function pp(){return mt.useContext(up)}const fp=mt.createContext(rn.invites),gp=mt.createContext({setInviteCopied(e){}});function xp(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=gn("invites"),t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a,l;t[1]===Symbol.for("react.memo_cache_sentinel")?(l={setInviteCopied(e){r((t=>(xn("invites",t=Object.assign({},t,{copiedInvites:t.copiedInvites.includes(e)?t.copiedInvites:t.copiedInvites.concat([e])})),t)))}},t[1]=l):l=t[1],a=l;const c=a;let d,u,m,h;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=()=>_n("invites",(e=>{r(e)})),u=[r],t[2]=d,t[3]=u):(d=t[2],u=t[3]),mt.useEffect(d,u),t[4]!==s?(m=(0,Ft.jsx)(gp.Provider,{value:c,children:s}),t[4]=s,t[5]=m):m=t[5],t[6]!==o||t[7]!==m?(h=(0,Ft.jsx)(fp.Provider,{value:o,children:m}),t[6]=o,t[7]=m,t[8]=h):h=t[8],h}const _p=mt.createContext({currentConvoId:void 0,setCurrentConvoId:()=>{}});function yp(){const e=mt.useContext(_p);if(!e)throw new Error("useCurrentConvoId must be used within a CurrentConvoIdProvider");return e}function bp(e){const t=(0,i.c)(5),{children:s}=e,[n,o]=mt.useState();let r,a;t[0]!==n?(a={currentConvoId:n,setCurrentConvoId:o},t[0]=n,t[1]=a):a=t[1],r=a;const l=r;let c;return t[2]!==s||t[3]!==l?(c=(0,Ft.jsx)(_p.Provider,{value:l,children:s}),t[2]=s,t[3]=l,t[4]=c):c=t[4],c}const jp=6e4;let vp=function(e){return e.Initializing="initializing",e.Ready="ready",e.Error="error",e.Backgrounded="backgrounded",e.Suspended="suspended",e}({}),wp=function(e){return e.Ready="ready",e.Error="error",e.Background="background",e.Suspend="suspend",e.Resume="resume",e.UpdatePoll="updatePoll",e}({}),Sp=function(e){return e.Unknown="unknown",e.InitFailed="initFailed",e.PollFailed="pollFailed",e}({});const kp={"atproto-proxy":"did:web:api.bsky.chat#bsky_chat"},Cp="MessagesEventBus",Pp=_s.create(_s.Context.DMsAgent);class Tp{emitter=new At.default;status=vp.Initializing;latestRev=void 0;pollInterval=jp;requestedPollIntervals=new Map;constructor(e){this.id=(0,Xt.nanoid)(3),this.agent=e.agent,this.init()}requestPollInterval(e){const t=(0,Xt.nanoid)();return this.requestedPollIntervals.set(t,e),this.dispatch({event:wp.UpdatePoll}),()=>{this.requestedPollIntervals.delete(t),this.dispatch({event:wp.UpdatePoll})}}getLatestRev(){return this.latestRev}on(e,t){const s=s=>{if("logs"===s.type&&t.convoId){const n=s.logs.filter((e=>"convoId"in e&&e.convoId===t.convoId&&e.convoId===t.convoId));n.length>0&&e(Object.assign({},s,{logs:n}))}else e(s)};return this.emitter.on("event",s),()=>{this.emitter.off("event",s)}}background(){Pp.debug(`${Cp}: background`,{}),this.dispatch({event:wp.Background})}suspend(){Pp.debug(`${Cp}: suspend`,{}),this.dispatch({event:wp.Suspend})}resume(){Pp.debug(`${Cp}: resume`,{}),this.dispatch({event:wp.Resume})}dispatch(e){const t=this.status;switch(this.status){case vp.Initializing:switch(e.event){case wp.Ready:this.status=vp.Ready,this.resetPoll(),this.emitter.emit("event",{type:"connect"});break;case wp.Background:this.status=vp.Backgrounded,this.resetPoll(),this.emitter.emit("event",{type:"connect"});break;case wp.Suspend:this.status=vp.Suspended;break;case wp.Error:this.status=vp.Error,this.emitter.emit("event",{type:"error",error:e.payload})}break;case vp.Ready:switch(e.event){case wp.Background:this.status=vp.Backgrounded,this.resetPoll();break;case wp.Suspend:this.status=vp.Suspended,this.stopPoll();break;case wp.Error:this.status=vp.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload});break;case wp.UpdatePoll:this.resetPoll()}break;case vp.Backgrounded:switch(e.event){case wp.Resume:this.status=vp.Ready,this.resetPoll();break;case wp.Suspend:this.status=vp.Suspended,this.stopPoll();break;case wp.Error:this.status=vp.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload});break;case wp.UpdatePoll:this.resetPoll()}break;case vp.Suspended:switch(e.event){case wp.Resume:this.status=vp.Ready,this.resetPoll();break;case wp.Background:this.status=vp.Backgrounded,this.resetPoll();break;case wp.Error:this.status=vp.Error,this.stopPoll(),this.emitter.emit("event",{type:"error",error:e.payload})}break;case vp.Error:switch(e.event){case wp.UpdatePoll:this.status=vp.Initializing,this.latestRev=void 0,this.init();break;case wp.Resume:this.status=vp.Ready,this.resetPoll(),this.emitter.emit("event",{type:"connect"})}}Pp.debug(`${Cp}: dispatch '${e.event}'`,{id:this.id,prev:t,next:this.status})}async init(){Pp.debug(`${Cp}: init`,{});try{const e=await Nm(2,(()=>this.agent.chat.bsky.convo.getLog({},{headers:kp}))),{cursor:t}=e.data;t&&(this.latestRev?t>this.latestRev&&(this.latestRev=t):this.latestRev=t),this.dispatch({event:wp.Ready})}catch(e){Pp.error(e,{message:`${Cp}: init failed`}),this.dispatch({event:wp.Error,payload:{exception:e,code:Sp.InitFailed,retry:()=>{this.dispatch({event:wp.Resume})}}})}}isPolling=!1;getPollInterval(){switch(this.status){case vp.Ready:{const e=Array.from(this.requestedPollIntervals.values());return Math.min(jp,...e)}case vp.Backgrounded:return 3e5;default:return jp}}resetPoll(){this.pollInterval=this.getPollInterval(),this.stopPoll(),this.startPoll()}startPoll(){this.isPolling||this.poll(),this.pollIntervalRef=setInterval((()=>{this.isPolling||this.poll()}),this.pollInterval)}stopPoll(){this.pollIntervalRef&&clearInterval(this.pollIntervalRef)}async poll(){if(!this.isPolling){this.isPolling=!0;try{const t=await Nm(2,(()=>this.agent.chat.bsky.convo.getLog({cursor:this.latestRev},{headers:kp}))),{logs:s}=t.data;let n=!1,o=[];for(const e of s)"rev"in e&&"string"===typeof e.rev&&e.rev>(this.latestRev=this.latestRev||e.rev)&&(this.latestRev=e.rev,n=!0,o.push(e));if(n)try{this.emitter.emit("event",{type:"logs",logs:o})}catch(e){Pp.error(e,{message:`${Cp}: process latest events`})}}catch(e){Pp.error(e,{message:`${Cp}: poll events failed`}),this.dispatch({event:wp.Error,payload:{exception:e,code:Sp.PollFailed,retry:()=>{this.dispatch({event:wp.Resume})}}})}finally{this.isPolling=!1}}}}const Lp=mt.createContext(null);function Ap(){const e=mt.useContext(Lp);if(!e)throw new Error("useMessagesEventBus must be used within a MessagesEventBusProvider");return e}function Ip(e){const t=(0,i.c)(4),{children:s}=e,{currentAccount:n}=xh();if(!n){let e;return t[0]!==s?(e=(0,Ft.jsx)(Lp.Provider,{value:null,children:s}),t[0]=s,t[1]=e):e=t[1],e}let o;return t[2]!==s?(o=(0,Ft.jsx)(Rp,{children:s}),t[2]=s,t[3]=o):o=t[3],o}function Rp(e){const t=(0,i.c)(11),{children:s}=e,n=bh();let o;t[0]!==n?(o=()=>new Tp({agent:n}),t[0]=n,t[1]=o):o=t[1];const[r]=mt.useState(o);let a,l,c,d,u;return t[2]!==r?(a=()=>(r.resume(),()=>{r.suspend()}),l=[r],t[2]=r,t[3]=a,t[4]=l):(a=t[3],l=t[4]),mt.useEffect(a,l),t[5]!==r?(c=()=>{const e=gt.default.addEventListener("change",(e=>{"active"===e?r.resume():r.background()}));return()=>{e.remove()}},d=[r],t[5]=r,t[6]=c,t[7]=d):(c=t[6],d=t[7]),mt.useEffect(c,d),t[8]!==r||t[9]!==s?(u=(0,Ft.jsx)(Lp.Provider,{value:r,children:s}),t[8]=r,t[9]=s,t[10]=u):u=t[10],u}var Dp=s(96597),Fp=s(8364),Ep=s.n(Fp);const Mp=(0,mt.createContext)(void 0),Bp=(0,mt.createContext)(void 0);function Op(){return(0,mt.useContext)(Mp)}function zp(e){const t=(0,i.c)(15),{children:s}=e,n=(0,mt.useContext)(Bp),{currentAccount:o}=xh(),r=Fh(),{labelDefs:a}=Zh(),l=Oc(),c=o?.did,d=r.data?.moderationPrefs;let u;e:{if(n){u=n;break e}if(!d){u=void 0;break e}let e,s,o,r;t[0]!==d.labelers?(e=d.labelers.length?d.labelers:Is.BskyAgent.appLabelers.map(Hp),t[0]=d.labelers,t[1]=e):e=t[1],t[2]!==l?(s=l||[],t[2]=l,t[3]=s):s=t[3],t[4]!==d||t[5]!==e||t[6]!==s?(o=Object.assign({},d,{labelers:e,hiddenPosts:s}),t[4]=d,t[5]=e,t[6]=s,t[7]=o):o=t[7],t[8]!==a||t[9]!==o||t[10]!==c?(r={userDid:c,prefs:o,labelDefs:a},t[8]=a,t[9]=o,t[10]=c,t[11]=r):r=t[11],u=r}const m=u;let h;return t[12]!==s||t[13]!==m?(h=(0,Ft.jsx)(Mp.Provider,{value:m,children:s}),t[12]=s,t[13]=m,t[14]=h):h=t[14],h}function Hp(e){return{did:e,labels:kh}}var Np=s(58457);const Vp="leave-convo";function qp(e,t){const s=(0,i.c)(21),{onSuccess:n,onMutate:o,onError:r}=t,a=(0,wd.useQueryClient)(),l=bh();let c,d,u,m,h,p;return s[0]!==e?(c=function(e){return[Vp,e]}(e),s[0]=e,s[1]=c):c=s[1],s[2]!==l||s[3]!==e?(d=async()=>{if(!e)throw new Error("No convoId provided");const{data:t}=await l.chat.bsky.convo.leaveConvo({convoId:e},{headers:kp,encoding:"application/json"});return t},s[2]=l,s[3]=e,s[4]=d):d=s[4],s[5]!==e||s[6]!==o||s[7]!==a?(u=()=>{let t;return t=[],a.setQueryData([Kp],(s=>s?(t=s.pages,Object.assign({},s,{pages:s.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>t.id!==e))})))})):s)),o?.(),{prevPages:t}},s[5]=e,s[6]=o,s[7]=a,s[8]=u):u=s[8],s[9]!==n||s[10]!==a?(m=e=>{a.invalidateQueries({queryKey:[Kp]}),n?.(e)},s[9]=n,s[10]=a,s[11]=m):m=s[11],s[12]!==r||s[13]!==a?(h=(e,t,s)=>{ys.error(e),a.setQueryData([Kp],(e=>e?Object.assign({},e,{pages:s?.prevPages||e.pages}):e)),a.invalidateQueries({queryKey:[Kp]}),r?.(e)},s[12]=r,s[13]=a,s[14]=h):h=s[14],s[15]!==c||s[16]!==d||s[17]!==u||s[18]!==m||s[19]!==h?(p={mutationKey:c,mutationFn:d,onMutate:u,onSuccess:m,onError:h},s[15]=c,s[16]=d,s[17]=u,s[18]=m,s[19]=h,s[20]=p):p=s[20],(0,Sd.useMutation)(p)}function Up(){const e=(0,i.c)(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={filters:{mutationKey:[Vp],status:"pending"},select:Qp},e[0]=t):t=e[0];const s=(0,Np.useMutationState)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={filters:{mutationKey:[Vp],status:"success"},select:Zp},e[1]=n):n=e[1];const o=(0,Np.useMutationState)(n);let r,a;return e[2]!==s||e[3]!==o?(a=[...s,...o].filter(Wp),e[2]=s,e[3]=o,e[4]=a):a=e[4],r=a,r}function Wp(e){return void 0!==e}function Zp(e){return e.options.mutationKey?.[1]}function Qp(e){return e.options.mutationKey?.[1]}const Kp="convo-list",$p=(e,t="all")=>[Kp,e,t];function Gp(e){const t=(0,i.c)(13);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{enabled:n,status:o,readState:r}=s,a=void 0===r?"all":r,l=bh(),c=o??"all";let d,u,m;return t[2]!==a||t[3]!==c?(d=$p(c,a),t[2]=a,t[3]=c,t[4]=d):d=t[4],t[5]!==l||t[6]!==a||t[7]!==o?(u=async e=>{const{pageParam:t}=e,{data:s}=await l.chat.bsky.convo.listConvos({limit:20,cursor:t,readState:"unread"===a?"unread":void 0,status:o},{headers:kp});return s},t[5]=l,t[6]=a,t[7]=o,t[8]=u):u=t[8],t[9]!==n||t[10]!==d||t[11]!==u?(m={enabled:n,queryKey:d,queryFn:u,initialPageParam:void 0,getNextPageParam:Yp},t[9]=n,t[10]=d,t[11]=u,t[12]=m):m=t[12],(0,Dp.useInfiniteQuery)(m)}function Yp(e){return e.cursor}const Jp=(0,mt.createContext)(null);const Xp={accepted:[],request:[]};function ef(e){const t=(0,i.c)(4),{children:s}=e,{hasSession:n}=xh();if(!n){let e;return t[0]!==s?(e=(0,Ft.jsx)(Jp.Provider,{value:Xp,children:s}),t[0]=s,t[1]=e):e=t[1],e}let o;return t[2]!==s?(o=(0,Ft.jsx)(tf,{children:s}),t[2]=s,t[3]=o):o=t[3],o}function tf(e){const t=(0,i.c)(28),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={readState:"unread"},t[0]=n):n=t[0];const{refetch:o,data:r}=Gp(n),a=Ap(),l=(0,wd.useQueryClient)(),{currentConvoId:c}=yp(),{currentAccount:d}=xh(),u=Up();let m,h;t[1]!==l||t[2]!==o?(h=()=>{o(),l.invalidateQueries({queryKey:[Kp]})},t[1]=l,t[2]=o,t[3]=h):h=t[3];const p=h;let f;t[4]!==p?(f=Ep()(p,500,{leading:!0,trailing:!0}),t[4]=p,t[5]=f):f=t[5],m=f;const g=m;let x;t[6]!==d?.did||t[7]!==c||t[8]!==g||t[9]!==a||t[10]!==l?(x=()=>{const e=a.on((e=>{if("logs"===e.type)for(const t of e.logs)if(Is.ChatBskyConvoDefs.isLogBeginConvo(t))g();else if(Is.ChatBskyConvoDefs.isLogLeaveConvo(t))l.setQueriesData({queryKey:[Kp]},(e=>uf(t.convoId,e)));else if(Is.ChatBskyConvoDefs.isLogDeleteMessage(t))l.setQueriesData({queryKey:[Kp]},(e=>df(t.convoId,e,(e=>(Is.ChatBskyConvoDefs.isDeletedMessageView(t.message)||Is.ChatBskyConvoDefs.isMessageView(t.message))&&(Is.ChatBskyConvoDefs.isDeletedMessageView(e.lastMessage)||Is.ChatBskyConvoDefs.isMessageView(e.lastMessage))&&t.message.id===e.lastMessage.id?Object.assign({},e,{rev:t.rev,lastMessage:t.message}):e))));else if(Is.ChatBskyConvoDefs.isLogCreateMessage(t)){const e=t,s=l.getQueriesData({queryKey:[Kp]});let n=null;for(const[t,a]of s){if(!a)continue;const t=mf(e.convoId,a);if(t){n=t;break}}if(!n)return void g();const o=Object.assign({},n,{rev:e.rev,lastMessage:e.message,unreadCount:n.id!==c?(Is.ChatBskyConvoDefs.isMessageView(e.message)||Is.ChatBskyConvoDefs.isDeletedMessageView(e.message))&&e.message.sender.did!==d?.did?n.unreadCount+1:n.unreadCount:0}),r=function(t){return t.filter((t=>t.id!==e.convoId))},i=function(e){return e?Object.assign({},e,{pages:e.pages.map(((e,t)=>0===t?Object.assign({},e,{convos:[o,...r(e.convos)]}):Object.assign({},e,{convos:r(e.convos)})))}):e};l.setQueriesData({queryKey:$p("all","unread")},(e=>e?i(e):{pageParams:[void 0],pages:[{convos:[o],cursor:void 0}]})),"accepted"===o.status?l.setQueriesData({queryKey:$p("accepted")},i):"request"===o.status&&l.setQueriesData({queryKey:$p("request")},i)}else if(Is.ChatBskyConvoDefs.isLogReadMessage(t)){const e=t;l.setQueriesData({queryKey:[Kp]},(t=>df(e.convoId,t,(t=>Object.assign({},t,{unreadCount:0,rev:e.rev})))))}else if(Is.ChatBskyConvoDefs.isLogAcceptConvo(t)){const e=t,s=l.getQueryData($p("request"));if(!s)return void g();const n=mf(t.convoId,s);if(!n)return void g();l.setQueryData($p("request"),(t=>uf(e.convoId,t))),l.setQueriesData({queryKey:$p("accepted")},(e=>e?Object.assign({},e,{pages:e.pages.map(((e,t)=>0===t?Object.assign({},e,{convos:[Object.assign({},n,{status:"accepted"}),...e.convos]}):e))}):(g(),e)))}else if(Is.ChatBskyConvoDefs.isLogMuteConvo(t)){const e=t;l.setQueriesData({queryKey:[Kp]},(t=>df(e.convoId,t,(t=>Object.assign({},t,{muted:!0,rev:e.rev})))))}else if(Is.ChatBskyConvoDefs.isLogUnmuteConvo(t)){const e=t;l.setQueriesData({queryKey:[Kp]},(t=>df(e.convoId,t,(t=>Object.assign({},t,{muted:!1,rev:e.rev})))))}else if(Is.ChatBskyConvoDefs.isLogAddReaction(t)){const e=t;l.setQueriesData({queryKey:[Kp]},(t=>df(e.convoId,t,(t=>Object.assign({},t,{lastReaction:{$type:"chat.bsky.convo.defs#messageAndReactionView",reaction:e.reaction,message:e.message},rev:e.rev})))))}else if(Is.ChatBskyConvoDefs.isLogRemoveReaction(t)){const e=t;l.setQueriesData({queryKey:[Kp]},(t=>df(e.convoId,t,(t=>e.convoId===t.id&&Is.ChatBskyConvoDefs.isMessageAndReactionView(t.lastReaction)&&Is.ChatBskyConvoDefs.isMessageView(e.message)&&t.lastReaction.message.id===e.message.id&&t.lastReaction.reaction.sender.did===e.reaction.sender.did&&t.lastReaction.reaction.value===e.reaction.value?Object.assign({},t,{lastReaction:void 0,rev:e.rev}):t))))}}),{convoId:void 0});return()=>e()},t[6]=d?.did,t[7]=c,t[8]=g,t[9]=a,t[10]=l,t[11]=x):x=t[11];const _=d?.did;let y,b,j,v,w;if(t[12]!==c||t[13]!==g||t[14]!==a||t[15]!==l||t[16]!==_?(y=[a,c,l,_,g],t[12]=c,t[13]=g,t[14]=a,t[15]=l,t[16]=_,t[17]=y):y=t[17],(0,mt.useEffect)(x,y),t[18]!==r?.pages||t[19]!==u){const e=r?.pages.flatMap(of).filter((e=>!u.includes(e.id)))??[];v=e.filter(nf),j=e.filter(sf),t[18]=r?.pages,t[19]=u,t[20]=j,t[21]=v}else j=t[20],v=t[21];t[22]!==j||t[23]!==v?(w={accepted:v,request:j},t[22]=j,t[23]=v,t[24]=w):w=t[24],b=w;const S=b;let k;return t[25]!==s||t[26]!==S?(k=(0,Ft.jsx)(Jp.Provider,{value:S,children:s}),t[25]=s,t[26]=S,t[27]=k):k=t[27],k}function sf(e){return"request"===e.status}function nf(e){return"accepted"===e.status}function of(e){return e.convos}function rf(){const e=(0,i.c)(5),{currentConvoId:t}=yp(),{currentAccount:s}=xh(),{accepted:n,request:o}=function(){const e=(0,mt.useContext)(Jp);if(!e)throw new Error("useListConvos must be used within a ListConvosProvider");return e}(),r=Op();let a;s?.did;const l=af(n,s?.did,t,r),c=af(o,s?.did,t,r);if(l>0){const t=l+Math.min(c,1),s=t>10?"10+":String(t);let n;e[0]!==s||e[1]!==t?(n={count:t,numUnread:s,hasNew:!1},e[0]=s,e[1]=t,e[2]=n):n=e[2],a=n}else if(c>0){let t;e[3]===Symbol.for("react.memo_cache_sentinel")?(t={count:1,numUnread:void 0,hasNew:!0},e[3]=t):t=e[3],a=t}else{let t;e[4]===Symbol.for("react.memo_cache_sentinel")?(t={count:0,numUnread:void 0,hasNew:!1},e[4]=t):t=e[4],a=t}return a}function af(e,t,s,n){return e.filter((e=>e.id!==s)).reduce(((e,s)=>{const o=s.members.find((e=>e.did!==t));if(!o||!n)return e;const r=(0,Is.moderateProfile)(o,n);return e+(!(s.muted||r.blocked||"missing.invalid"===o.handle)&&s.unreadCount>0?1:0)}),0)??0}function lf(){const e=(0,i.c)(2),t=(0,wd.useQueryClient)();let s;return e[0]!==t?(s=e=>{t.setQueriesData({queryKey:[Kp]},(t=>t?df(e,t,cf):t))},e[0]=t,e[1]=s):s=e[1],s}function cf(e){return Object.assign({},e,{unreadCount:0})}function df(e,t,s){return t&&s?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.map((t=>e===t.id?s(t):t))})))}):t}function uf(e,t){return t?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>e!==t.id))})))}):t}function mf(e,t){for(const s of t.pages)for(const t of s.convos)if(t.id===e)return t;return null}const hf=mt.createContext(null);function pf(){const e=mt.useContext(hf);if(!e)throw new Error("useMessageDrafts must be used within a MessageDraftsContext");return e}function ff(e,t){switch(t.type){case"set":return Object.assign({},e,{[t.convoId]:t.draft});case"clear":return Object.assign({},e,{[t.convoId]:""});default:return e}}function gf(e){const t=(0,i.c)(6),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={},t[0]=n):n=t[0];const[o,r]=(0,mt.useReducer)(ff,n);let a,l;t[1]!==o?(l={state:o,dispatch:r},t[1]=o,t[2]=l):l=t[2],a=l;const c=a;let d;return t[3]!==s||t[4]!==c?(d=(0,Ft.jsx)(hf.Provider,{value:c,children:s}),t[3]=s,t[4]=c,t[5]=d):d=t[5],d}function xf(e){const t=(0,i.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)(bp,{children:(0,Ft.jsx)(gf,{children:(0,Ft.jsx)(Ip,{children:(0,Ft.jsx)(ef,{children:s})})})}),t[0]=s,t[1]=n):n=t[1],n}var _f=s(41003),yf=s(30674),bf=(s(66581),s(97737)),jf=s(1493);const vf={getAllPrefsAsync:async()=>({}),getBoolAsync:async e=>!1,getStringAsync:async e=>"",getStringArrayAsync:async e=>[],setBoolAsync:async(e,t)=>{},setStringAsync:async(e,t)=>{},setStringArrayAsync:async(e,t)=>{},addToStringArrayAsync:async(e,t)=>{},removeFromStringArrayAsync:async(e,t)=>{},addManyToStringArrayAsync:async(e,t)=>{},removeManyFromStringArrayAsync:async(e,t)=>{},setBadgeCountAsync:async e=>{}},wf=vf,Sf=e=>e?.includes("staging")?"did:web:api.staging.bsky.dev":"did:web:api.bsky.app",kf=_s.create(_s.Context.Notifications);async function Cf(e,t,s){try{await e.api.app.bsky.notification.registerPush({serviceDid:Sf(t.service),platform:Ct,token:s.data,appId:"xyz.blueskyweb.app"}),kf.debug("Notifications: Sent push token (init)",{tokenType:s.type,token:s.data})}catch(n){kf.error("Notifications: Failed to set push token",{message:n})}}async function Pf(e=!1){if(e||(await _f.getPermissionsAsync()).granted)return yf.default()}function Tf(){const e=(0,i.c)(3),{currentAccount:t}=xh(),s=bh();let n;return e[0]!==s||e[1]!==t?(n=async e=>{const n=await _f.getPermissionsAsync();if(!kt||"granted"===n?.status||"denied"===n?.status&&!n.canAskAgain)return;if("AfterOnboarding"===e)return;if("Home"===e&&!t)return;const o=await _f.requestPermissionsAsync();if(En("notifications:request",{context:e,status:o.status}),o.granted){const e=await Pf(!0);St&&t&&e&&Cf(s,t,e)}},e[0]=s,e[1]=t,e[2]=n):n=e[2],n}function Lf({record:e}){return Is.AppBskyEmbedRecord.isViewRecord(e)?{type:"post",view:e}:Is.AppBskyEmbedRecord.isViewNotFound(e)?{type:"post_not_found",view:e}:Is.AppBskyEmbedRecord.isViewBlocked(e)?{type:"post_blocked",view:e}:Is.AppBskyEmbedRecord.isViewDetached(e)?{type:"post_detached",view:e}:Is.AppBskyFeedDefs.isGeneratorView(e)?{type:"feed",view:e}:Is.AppBskyGraphDefs.isListView(e)?{type:"list",view:e}:Is.AppBskyLabelerDefs.isLabelerView(e)?{type:"labeler",view:e}:Is.AppBskyGraphDefs.isStarterPackViewBasic(e)?{type:"starter_pack",view:e}:{type:"unknown",view:null}}function Af(e){return Is.AppBskyEmbedImages.isView(e)?{type:"images",view:e}:Is.AppBskyEmbedExternal.isView(e)?{type:"link",view:e}:Is.AppBskyEmbedVideo.isView(e)?{type:"video",view:e}:Is.AppBskyEmbedRecord.isView(e)?Lf(e):Is.AppBskyEmbedRecordWithMedia.isView(e)?{type:"post_with_media",view:Lf(e.record),media:Af(e.media)}:{type:"unknown",view:null}}Is.AppBskyGraphDefs.isStarterPackViewBasic,Is.AppBskyGraphDefs.isStarterPackView;function If(e,t){return t(e)}function Rf(e,t){return t(e).success}async function Df(e,t){return e.setQueriesData({queryKey:t},(e=>e?{pageParams:e.pageParams.slice(0,1),pages:e.pages.slice(0,1)}:e)),e.invalidateQueries({queryKey:t})}function Ff(e,t){return e.host.startsWith("did:")?e.href===t.uri:e.host===t.author.handle&&t.uri.endsWith(e.rkey)}function Ef(e){return If(e,Is.AppBskyEmbedRecord.isView)&&Is.AppBskyEmbedRecord.isViewRecord(e.record)&&Is.AppBskyFeedPost.isRecord(e.record.value)?e.record:If(e,Is.AppBskyEmbedRecordWithMedia.isView)&&Is.AppBskyEmbedRecord.isViewRecord(e.record.record)&&Is.AppBskyFeedPost.isRecord(e.record.record.value)?e.record.record:void 0}function Mf(e){return{uri:e.uri,cid:e.cid,author:e.author,record:e.value,indexedAt:e.indexedAt,labels:e.labels,embed:e.embeds?.[0],likeCount:e.likeCount,quoteCount:e.quoteCount,replyCount:e.replyCount,repostCount:e.repostCount}}const Bf=mt.createContext({uris:new Set,recentlyUnhiddenUris:new Set}),Of=mt.createContext({addHiddenReplyUri:()=>{},removeHiddenReplyUri:()=>{}});function zf(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=new Set,t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=new Set,t[1]=a):a=t[1];const[l,c]=mt.useState(a);let d,u;t[2]!==l||t[3]!==o?(u={uris:o,recentlyUnhiddenUris:l},t[2]=l,t[3]=o,t[4]=u):u=t[4],d=u;const m=d;let h,p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p={addHiddenReplyUri(e){r((t=>new Set(t.add(e)))),c((t=>(t.delete(e),new Set(t))))},removeHiddenReplyUri(e){r((t=>(t.delete(e),new Set(t)))),c((t=>new Set(t.add(e))))}},t[5]=p):p=t[5],h=p;const f=h;let g;return t[6]!==s||t[7]!==m?(g=(0,Ft.jsx)(Of.Provider,{value:f,children:(0,Ft.jsx)(Bf.Provider,{value:m,children:s})}),t[6]=s,t[7]=m,t[8]=g):g=t[8],g}function Hf(){return mt.useContext(Bf)}function Nf(e){const t=(0,i.c)(8),{threadgateRecord:s}=e,{uris:n,recentlyUnhiddenUris:o}=Hf();let r,a,l,c;if(t[0]!==s?.hiddenReplies?(a=s?.hiddenReplies||[],t[0]=s?.hiddenReplies,t[1]=a):a=t[1],t[2]!==a||t[3]!==n?(l=[...a,...n],t[2]=a,t[3]=n,t[4]=l):l=t[4],t[5]!==o||t[6]!==l){c=new Set(l);for(const e of o)c.delete(e);t[5]=o,t[6]=l,t[7]=c}else c=t[7];return r=c,r}var Vf=s(77625),qf=s.n(Vf);const Uf=/[\u2705\u2713\u2714\u2611]/gu,Wf=/[\u0000-\u001F\u007F-\u009F\u061C\u200E\u200F\u202A-\u202E\u2066-\u2069]/g,Zf=/[\s][\s\u200B]+/g;function Qf(e,t){return t?.blur?"":"string"===typeof e?e.replace(Uf,"").replace(Wf,"").replace(Zf," ").trim():""}const Kf=["sexual","nudity","porn"],$f=["graphic-media"];function Gf(e){const t="labeler"===e.source.type?e.source.did:"list"===e.source.type?e.source.list.uri:"user";return"label"===e.type?`label:${e.label.val}:${t}`:`${e.type}:${t}`}function Yf(e){return 1===e.filters.length&&"muted"===e.filters[0].type}function Jf(e){return["!hide","!takedown"].includes(e.val)}function Xf({displayName:e,handle:t}){return e?Qf(e):su(t,"@")}function eg(e){return"string"===typeof e?Is.BskyAgent.appLabelers.includes(e):Is.BskyAgent.appLabelers.includes(e.creator.did)}function tg(e,t,s){return s.findIndex((t=>Gf(t)===Gf(e)))===t}var sg=s(89913),ng=s(84634),og=s(4830),rg=s(16085);function ig(e){if(!e.facets?.length)return e;if((e=e.clone()).facets)for(const t of e.facets){if(!!!t.features.find(Is.AppBskyRichtextFacet.isLink))continue;const{byteStart:s,byteEnd:n}=t.index,o=e.unicodeText.slice(s,n),r=new Is.UnicodeString(hu(o));e.insert(s,r.utf16),t.index.byteStart=s,t.index.byteEnd=s+r.length,e.delete(s+r.length,n+r.length)}return e}function ag(e){return e.facets?.length?((e=e.clone()).facets&&(e.facets=e.facets?.filter((e=>{const t=e.features.find(Is.AppBskyRichtextFacet.isMention);return!(t&&!t.did)}))),e):e}async function lg(e,t,s,n){for(;e>0;){try{if(s(await n(),void 0))return!0}catch(o){if(s(void 0,o))return!0}await An(t),e--}return!1}let cg="";if(Pt){const e=new URLSearchParams(window.location.search);cg=e.get("debug_topics")??""}function dg(e){return{"X-Bsky-Topics":cg||e||""}}function ug(e){return e?.interests?.tags?.join(",")||""}function mg(e){const t=new Is.AtUri(e);return Ai.includes(t.host)}class hg{constructor({agent:e,feedParams:t,userInterests:s}){this.agent=e,this.params=t,this.userInterests=s}async peekLatest(){const e=Xc().join(",");return(await this.agent.app.bsky.feed.getFeed(Object.assign({},this.params,{limit:1}),{headers:{"Accept-Language":e}})).data.feed[0]}async fetch({cursor:e,limit:t}){const s=Xc().join(","),n=this.agent,o=mg(this.params.feed),r=n.did?await this.agent.app.bsky.feed.getFeed(Object.assign({},this.params,{cursor:e,limit:t}),{headers:Object.assign({},o?dg(this.userInterests):{},{"Accept-Language":s})}):await async function({feed:e,limit:t,cursor:s}){let n=gn("languagePrefs").appLanguage.split("-")[0];const o={"atproto-accept-labelers":Is.BskyAgent.appLabelers.map((e=>`${e};redact`)).join(", ")};let r=await fetch(`https://api.bsky.app/xrpc/app.bsky.feed.getFeed?feed=${e}${s?`&cursor=${s}`:""}&limit=${t}&lang=${n}`,{method:"GET",headers:Object.assign({"Accept-Language":n},o)}),i=r.ok?(0,Is.jsonStringToLex)(await r.text()):null;if(i?.feed?.length)return{success:!0,data:i};if(r=await fetch(`https://api.bsky.app/xrpc/app.bsky.feed.getFeed?feed=${e}${s?`&cursor=${s}`:""}&limit=${t}`,{method:"GET",headers:Object.assign({"Accept-Language":""},o)}),i=r.ok?(0,Is.jsonStringToLex)(await r.text()):null,i?.feed?.length)return{success:!0,data:i};return{success:!1,data:{feed:[]}}}(Object.assign({},this.params,{cursor:e,limit:t}));return r.success?(r.data.feed.length>t&&(r.data.feed=r.data.feed.slice(0,t)),{cursor:r.data.feed.length?r.data.cursor:void 0,feed:r.data.feed}):{feed:[]}}}class pg{constructor({agent:e}){this.agent=e}async peekLatest(){return(await this.agent.getTimeline({limit:1})).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getTimeline({cursor:e,limit:t});return s.success?{cursor:s.data.cursor,feed:s.data.feed}:{feed:[]}}}const fg={post:{uri:"fallback-marker-post",cid:"fake",record:{},author:{did:"did:fake",handle:"fake.com"},indexedAt:(new Date).toISOString()}};class gg{usingDiscover=!1;itemCursor=0;constructor({userInterests:e,agent:t}){this.agent=t,this.following=new pg({agent:t}),this.discover=new hg({agent:t,feedParams:{feed:mi("whats-hot")}}),this.userInterests=e}reset(){this.following=new pg({agent:this.agent}),this.discover=new hg({agent:this.agent,feedParams:{feed:mi("whats-hot")},userInterests:this.userInterests}),this.usingDiscover=!1,this.itemCursor=0}async peekLatest(){return this.usingDiscover?this.discover.peekLatest():this.following.peekLatest()}async fetch({cursor:e,limit:t}){let s;e||this.reset();let n=[];if(!this.usingDiscover){const o=await this.following.fetch({cursor:e,limit:t});s=o.cursor,n=n.concat(o.feed),s||(e="",n.push(fg),this.usingDiscover=!0)}if(this.usingDiscover){const o=await this.discover.fetch({cursor:e,limit:t});s=o.cursor,n=n.concat(o.feed)}return{cursor:s,feed:n}}}class xg{constructor(e){const{post:t,reply:s,reason:n}=e;if(this.items=[],this.isIncompleteThread=!1,this.isFallbackMarker=!1,this.isOrphan=!1,this.feedPostUri=t.uri,Is.AppBskyFeedDefs.isPostView(s?.root)?this.rootUri=s.root.uri:this.rootUri=t.uri,this._feedPost=e,this._reactKey=`slice-${t.uri}-${e.reason&&"indexedAt"in e.reason?e.reason.indexedAt:t.indexedAt}`,e.post.uri===fg.post.uri)return void(this.isFallbackMarker=!0);if(!Is.AppBskyFeedPost.isRecord(t.record)||!Rf(t.record,Is.AppBskyFeedPost.validateRecord))return;const o=s?.parent,r=Is.AppBskyFeedDefs.isBlockedPost(o),i=Is.AppBskyFeedDefs.isNotFoundPost(o);let a;if(Is.AppBskyFeedDefs.isPostView(o)&&(a=o.author),this.items.push({post:t,record:t.record,parentAuthor:a,isParentBlocked:r,isParentNotFound:i}),!s)return void(t.record.reply&&(this.isOrphan=!0,this.items[0].isParentNotFound=!0));if(n)return;if(!Is.AppBskyFeedDefs.isPostView(o)||!Is.AppBskyFeedPost.isRecord(o.record)||!Rf(o.record,Is.AppBskyFeedPost.validateRecord))return void(this.isOrphan=!0);const l=s.root,c=(Is.AppBskyFeedDefs.isPostView(l)||Is.AppBskyFeedDefs.isBlockedPost(l)||Is.AppBskyFeedDefs.isNotFoundPost(l))&&o.record.reply?.parent.uri===l.uri?l:void 0,d=s.grandparentAuthor,u=Boolean(c&&Is.AppBskyFeedDefs.isBlockedPost(c)),m=Boolean(c&&Is.AppBskyFeedDefs.isNotFoundPost(c));this.items.unshift({post:o,record:o.record,parentAuthor:d,isParentBlocked:u,isParentNotFound:m}),u&&(this.isOrphan=!0),Is.AppBskyFeedDefs.isPostView(l)&&Is.AppBskyFeedPost.isRecord(l.record)&&Rf(l.record,Is.AppBskyFeedPost.validateRecord)?l.uri!==o.uri&&(this.items.unshift({post:l,record:l.record,isParentBlocked:!1,isParentNotFound:!1,parentAuthor:void 0}),o.record.reply?.parent.uri!==l.uri&&(this.isIncompleteThread=!0)):this.isOrphan=!0}get isQuotePost(){const e=this._feedPost.post.embed;return Is.AppBskyEmbedRecord.isView(e)||Is.AppBskyEmbedRecordWithMedia.isView(e)}get isReply(){return Is.AppBskyFeedPost.isRecord(this._feedPost.post.record)&&!!this._feedPost.post.record.reply}get reason(){return"__source"in this._feedPost?this._feedPost.__source:this._feedPost.reason}get feedContext(){return this._feedPost.feedContext}get reqId(){return this._feedPost.reqId}get isRepost(){const e=this._feedPost.reason;return Is.AppBskyFeedDefs.isReasonRepost(e)}get likeCount(){return this._feedPost.post.likeCount??0}containsUri(e){return!!this.items.find((t=>t.post.uri===e))}getAuthors(){const e=this._feedPost;let t,s,n,o=e.post.author;return e.reply&&(Is.AppBskyFeedDefs.isPostView(e.reply.parent)&&(t=e.reply.parent.author),e.reply.grandparentAuthor&&(s=e.reply.grandparentAuthor),Is.AppBskyFeedDefs.isPostView(e.reply.root)&&(n=e.reply.root.author)),{author:o,parentAuthor:t,grandparentAuthor:s,rootAuthor:n}}}class _g{seenKeys=new Set;seenUris=new Set;seenRootUris=new Set;constructor(e){this.tunerFns=e}tune(e,{dryRun:t}={dryRun:!1}){let s=e.map((e=>new xg(e))).filter((e=>e.items.length>0||e.isFallbackMarker));for(const n of this.tunerFns)s=n(this,s.slice(),t);return s=s.filter((e=>{if(this.seenKeys.has(e._reactKey))return!1;for(let s=0;s<e.items.length;s++){const n=e.items[s];if(this.seenUris.has(n.post.uri)){if(0===s&&(e.items.splice(0,1),s--),s===e.items.length-1)return!1}else if(!t){e.isReply&&e.isRepost||this.seenUris.add(n.post.uri)}}return t||this.seenKeys.add(e._reactKey),!0})),s}static removeReplies(e,t,s){for(let n=0;n<t.length;n++){const e=t[n];!e.isReply||e.isRepost||yg(e.getAuthors())||(t.splice(n,1),n--)}return t}static removeReposts(e,t,s){for(let n=0;n<t.length;n++)t[n].isRepost&&(t.splice(n,1),n--);return t}static removeQuotePosts(e,t,s){for(let n=0;n<t.length;n++)t[n].isQuotePost&&(t.splice(n,1),n--);return t}static removeOrphans(e,t,s){for(let n=0;n<t.length;n++)t[n].isOrphan&&(t.splice(n,1),n--);return t}static dedupThreads(e,t,s){for(let n=0;n<t.length;n++){const o=t[n].rootUri;!t[n].isRepost&&e.seenRootUris.has(o)?(t.splice(n,1),n--):s||e.seenRootUris.add(o)}return t}static followedRepliesOnly({userDid:e}){return(t,s,n)=>{for(let o=0;o<s.length;o++){const t=s[o];!t.isReply||t.isRepost||bg(t.getAuthors(),e)||(s.splice(o,1),o--)}return s}}static preferredLangOnly(e){return(t,s,n)=>{if(!e.length||0===e.length)return s;const o=s.filter((t=>{for(const s of t.items)if(qs(s.post,e))return!0;return!1}));return 0===o.length?s:o}}}function yg(e){const{author:t,parentAuthor:s,grandparentAuthor:n,rootAuthor:o}=e,r=t.did;return(!s||s.did===r)&&((!n||n.did===r)&&(!o||o.did===r))}function bg(e,t){const{author:s,parentAuthor:n,grandparentAuthor:o,rootAuthor:r}=e;return!!jg(s,t)&&(!(n&&n.did!==s.did||r&&r.did!==s.did||o&&o.did!==s.did)||(!(!n||n.did===s.did||!jg(n,t))||(!(!o||o.did===s.did||!jg(o,t))||!(!r||r.did===s.did||!jg(r,t)))))}function jg(e,t){return Boolean(e.did===t||e.viewer?.following)}const vg="feed-previews",wg=e=>[vg,e],Sg=8,kg={"at://did:plc:kkf4naxqmweop7dv4l2iqqf5/app.bsky.feed.post/3lgh27w2ngc2b":!0,"at://did:plc:5rw2on4i56btlcajojaxwcat/app.bsky.feed.post/3kjorckgcwc27":!0,"at://did:plc:m2sjv3wncvsasdapla35hzwj/app.bsky.feed.post/3lfaw445axs22":!0,"at://did:plc:tazrmeme4dzahimsykusrwrk/app.bsky.feed.post/3knxx2gmkns2y":!0,"at://did:plc:2hwwem55ce6djnk6bn62cstr/app.bsky.feed.post/3llhpzhbq7c2g":!0,"at://did:plc:lfdf4srj43iwdng7jn35tjsp/app.bsky.feed.post/3lbblgly65c2g":!0,"at://did:plc:hu2obebw3nhfj667522dahfg/app.bsky.feed.post/3kl33otd6ob2s":!0,"at://did:plc:ffkgesg3jsv2j7aagkzrtcvt/app.bsky.feed.post/3lbg4r57yk22d":!0,"at://did:plc:xy2zorw2ys47poflotxthlzg/app.bsky.feed.post/3kyzye4lujs2w":!0,"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.post/3lfqhgvxbqc2q":!0,"at://did:plc:geoqe3qls5mwezckxxsewys2/app.bsky.feed.post/3kgrm2rw5ww2e":!0};function*Cg(e,t){const s=new Is.AtUri(t),n=e.getQueriesData({queryKey:[vg]});for(const[o,r]of n)if(r?.pages)for(const e of r?.pages)for(const t of e.posts){Ff(s,t.post)&&(yield t.post);const e=Ef(t.post.embed);if(e&&Ff(s,e)&&(yield Mf(e)),Is.AppBskyFeedDefs.isPostView(t.reply?.parent)){Ff(s,t.reply.parent)&&(yield t.reply.parent);const e=Ef(t.reply.parent.embed);e&&Ff(s,e)&&(yield Mf(e))}if(Is.AppBskyFeedDefs.isPostView(t.reply?.root)){Ff(s,t.reply.root)&&(yield t.reply.root);const e=Ef(t.reply.root.embed);e&&Ff(s,e)&&(yield Mf(e))}}}function*Pg(e,t){const s=e.getQueriesData({queryKey:[vg]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.posts){s.post.author.did===t&&(yield s.post.author);const e=Ef(s.post.embed);e?.author.did===t&&(yield e.author),Is.AppBskyFeedDefs.isPostView(s.reply?.parent)&&s.reply?.parent?.author.did===t&&(yield s.reply.parent.author),Is.AppBskyFeedDefs.isPostView(s.reply?.root)&&s.reply?.root?.author.did===t&&(yield s.reply.root.author)}}const Tg=30,Lg="post-quotes",Ag=e=>[Lg,e];function Ig(e){return Object.assign({},e,{pages:e.pages.map(Rg)})}function Rg(e){return Object.assign({},e,{posts:e.posts.filter(Dg)})}function Dg(e){return!(e.embed&&Is.AppBskyEmbedRecord.isView(e.embed)&&Is.AppBskyEmbedRecord.isViewDetached(e.embed.record))}function Fg(e){return e.cursor}function*Eg(e,t){const s=e.getQueriesData({queryKey:[Lg]}),n=new Is.AtUri(t);for(const[o,r]of s)if(r?.pages)for(const e of r?.pages)for(const t of e.posts){Ff(n,t)&&(yield t);const e=Ef(t.embed);e&&Ff(n,e)&&(yield Mf(e))}}const Mg="search-posts",Bg=({query:e,sort:t})=>[Mg,e,t];function Og(e){const t=(0,i.c)(19),{query:s,sort:n,enabled:o}=e,r=bh(),a=Op();let l,c,d;t[0]!==s?(c=/from:(\w+)/.test(s),t[0]=s,t[1]=c):c=t[1],t[2]!==a||t[3]!==c?(d={isSearchingSpecificUser:c,moderationOpts:a},t[2]=a,t[3]=c,t[4]=d):d=t[4],l=d;const u=l,m=mt.useRef(null);let h,p;t[5]!==s||t[6]!==n?(h=Bg({query:s,sort:n}),t[5]=s,t[6]=n,t[7]=h):h=t[7],t[8]!==r||t[9]!==s||t[10]!==n?(p=async e=>{const{pageParam:t}=e;return(await r.app.bsky.feed.searchPosts({q:s,limit:25,cursor:t,sort:n})).data},t[8]=r,t[9]=s,t[10]=n,t[11]=p):p=t[11];const f=o??!!a;let g;t[12]!==u?(g=e=>{const{moderationOpts:t,isSearchingSpecificUser:s}=u;if(s)return e;const n=[];if(m.current){const{data:t,args:s,result:o}=m.current;let r=!0;for(const e in u)if(u.hasOwnProperty(e)&&u[e]!==s[e]){r=!1;break}if(r)for(let i=0;i<e.pages.length&&(e.pages[i]&&t.pages[i]===e.pages[i]);i++)n.push(o.pages[i])}const o=Object.assign({},e,{pages:[...n,...e.pages.slice(n.length).map((e=>Object.assign({},e,{posts:e.posts.filter((e=>!(0,Is.moderatePost)(e,t).ui("contentList").filter))})))]});return m.current={data:e,result:o,args:u},o},t[12]=u,t[13]=g):g=t[13];const x=g;let _;return t[14]!==h||t[15]!==p||t[16]!==f||t[17]!==x?(_={queryKey:h,queryFn:p,initialPageParam:void 0,getNextPageParam:zg,enabled:f,select:x},t[14]=h,t[15]=p,t[16]=f,t[17]=x,t[18]=_):_=t[18],(0,Dp.useInfiniteQuery)(_)}function zg(e){return e.cursor}function*Hg(e,t){const s=e.getQueriesData({queryKey:[Mg]}),n=new Is.AtUri(t);for(const[o,r]of s)if(r?.pages)for(const e of r?.pages)for(const t of e.posts){Ff(n,t)&&(yield t);const e=Ef(t.embed);e&&Ff(n,e)&&(yield Mf(e))}}class Ng{constructor({agent:e,feedParams:t}){this.agent=e,this._params=t}get params(){const e=Object.assign({},this._params);return e.includePins="posts_with_replies"===e.filter||"posts_and_author_threads"===e.filter,e}async peekLatest(){return(await this.agent.getAuthorFeed(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getAuthorFeed(Object.assign({},this.params,{cursor:e,limit:t}));return s.success?{cursor:s.data.cursor,feed:this._filter(s.data.feed)}:{feed:[]}}_filter(e){return"posts_and_author_threads"===this.params.filter?e.filter((t=>{const s=t.reply,n=Is.AppBskyFeedDefs.isReasonRepost(t.reason),o=Is.AppBskyFeedDefs.isReasonPin(t.reason);return!s||(!(!n&&!o)||s&&Vg(this.params.actor,t,e))})):e}}function Vg(e,t,s){if(t.post.author.did!==e)return!1;const n=t.reply?.parent;if(Is.AppBskyFeedDefs.isPostView(n)){if(n.author.did!==e)return!1;const t=s.find((e=>e.post.uri===n.uri));return!t||Vg(e,t,s)}return!0}var qg=s(55638),Ug=s(517);const Wg="did:plc:z72i7hdynmk6r22z27h6tvur",Zg=new Date,Qg=(0,qg.default)(Zg,2).toISOString(),Kg=(0,qg.default)(Zg,4).toISOString(),$g=(0,qg.default)(Zg,5).toISOString(),Gg={feed:[{post:{uri:"at://did:plc:pvooorihapc2lf2pijehgrdf/app.bsky.feed.post/3lniysofyll2d",cid:"bafyreihwh3wxxme732ylbylhhdyz7ex6t4jtu6s3gjxxvnnh4feddhg3ku",author:{did:"did:plc:pvooorihapc2lf2pijehgrdf",handle:"forkedriverband.bsky.social",displayName:"Forked River Band",avatar:"https://bsky.social/about/adi/post_1_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${Wg}/app.bsky.graph.follow/post1`},labels:[],createdAt:Qg,verification:{verifications:[{issuer:Wg,uri:`at://${Wg}/app.bsky.graph.verification/post1`,isValid:!0,createdAt:(0,Ug.default)(Zg,11).toISOString()}],verifiedStatus:"valid",trustedVerifierStatus:"none"}},record:{$type:"app.bsky.feed.post",createdAt:Qg,langs:["en"],text:"Sonoma County folks: Come tip your hats our way and see us play new and old bluegrass tunes at Sebastopol Solstice Fest on June 20th."},embed:{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/adi/post_1_image.jpg",fullsize:"https://bsky.social/about/adi/post_1_image.jpg",alt:"Fake flier for Sebastapol Bluegrass Fest",aspectRatio:{height:1350,width:900}}]},replyCount:1,repostCount:4,likeCount:18,quoteCount:0,indexedAt:Qg,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}},{post:{uri:"at://did:plc:fhhqii56ppgyh5qcm2b3mokf/app.bsky.feed.post/3lnizc7fug52c",cid:"bafyreienuabsr55rycirdf4ewue5tjcseg5lzqompcsh2brqzag6hvxllm",author:{did:"did:plc:fhhqii56ppgyh5qcm2b3mokf",handle:"dinh-designs.bsky.social",displayName:"Rich Dinh Designs",avatar:"https://bsky.social/about/adi/post_2_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${Wg}/app.bsky.graph.follow/post2`},labels:[],createdAt:Kg},record:{$type:"app.bsky.feed.post",createdAt:Kg,langs:["en"],text:"Details from our install at the Lucas residence in Joshua Tree. We populated the space with rich, earthy tones and locally-sourced materials to suit the landscape."},embed:{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/adi/post_2_image.jpg",fullsize:"https://bsky.social/about/adi/post_2_image.jpg",alt:"Placeholder image of interior design",aspectRatio:{height:872,width:598}}]},replyCount:3,repostCount:1,likeCount:4,quoteCount:0,indexedAt:Kg,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}},{post:{uri:"at://did:plc:h7fwnfejmmifveeea5eyxgkc/app.bsky.feed.post/3lnizna3g4f2t",cid:"bafyreiepn7obmlshliori4j34texpaukrqkyyu7cq6nmpzk4lkis7nqeae",author:{did:"did:plc:h7fwnfejmmifveeea5eyxgkc",handle:"rodyalbuerne.bsky.social",displayName:"Rody Albuerne",avatar:"https://bsky.social/about/adi/post_3_avi.jpg",viewer:{muted:!1,blockedBy:!1,following:`at://${Wg}/app.bsky.graph.follow/post3`},labels:[],createdAt:$g},record:{$type:"app.bsky.feed.post",createdAt:$g,langs:["en"],text:"Tinkering with the basics of traditional wooden joinery in my shop lately. Starting small with this ox, made using simple mortise and tenon joints."},replyCount:11,repostCount:97,likeCount:399,quoteCount:0,indexedAt:$g,viewer:{threadMuted:!1,embeddingDisabled:!1},labels:[]}}]};class Yg{constructor({agent:e}){this.agent=e}async peekLatest(){return Gg.feed[0]}async fetch(){return Gg}}class Jg{constructor({agent:e,feedParams:t}){this.agent=e,this.params=t}async peekLatest(){return(await this.agent.getActorLikes(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.getActorLikes(Object.assign({},this.params,{cursor:e,limit:t}));if(s.success){return{cursor:0===s.data.feed.length?void 0:s.data.cursor,feed:s.data.feed}}return{feed:[]}}}class Xg{constructor({agent:e,feedParams:t}){this.agent=e,this.params=t}async peekLatest(){return(await this.agent.app.bsky.feed.getListFeed(Object.assign({},this.params,{limit:1}))).data.feed[0]}async fetch({cursor:e,limit:t}){const s=await this.agent.app.bsky.feed.getListFeed(Object.assign({},this.params,{cursor:e,limit:t}));return s.success?{cursor:s.data.cursor,feed:s.data.feed}:{feed:[]}}}var ex=s(57104),tx=s.n(ex);class sx{customFeeds=[];feedCursor=0;itemCursor=0;sampleCursor=0;constructor({agent:e,feedParams:t,feedTuners:s,userInterests:n}){this.agent=e,this.params=t,this.feedTuners=s,this.userInterests=n,this.following=new ox({agent:this.agent,feedTuners:this.feedTuners})}reset(){this.following=new ox({agent:this.agent,feedTuners:this.feedTuners}),this.customFeeds=[],this.feedCursor=0,this.itemCursor=0,this.sampleCursor=0,this.params.mergeFeedSources?this.customFeeds=tx()(this.params.mergeFeedSources.map((e=>new rx({agent:this.agent,feedUri:e,feedTuners:this.feedTuners,userInterests:this.userInterests})))):this.customFeeds=[]}async peekLatest(){return(await this.agent.getTimeline({limit:1})).data.feed[0]}async fetch({cursor:e,limit:t}){e||this.reset();const s=[];this.following.numReady<t&&await this.following.fetchNext(60);const n=this.customFeeds.slice(this.feedCursor,this.feedCursor+3);this.feedCursor+=3,this.feedCursor>this.customFeeds.length&&(this.feedCursor=0);const o=!this.following.hasMore&&this.following.numReady<t;if(this.params.mergeFeedEnabled||o)for(const i of n)i.numReady<5&&s.push(i.fetchNext(10));await Promise.all(s);const r=[];for(;r.length<t;){let e=this.sampleItem();if(!e[0])break;r.push(e[0])}return{cursor:String(this.itemCursor),feed:r}}sampleItem(){const e=this.itemCursor++,t=this.customFeeds.filter((e=>e.numReady>0)),s=t.length>0,n=this.following.hasMore,o=this.following.numReady>0,r=this.params.mergeFeedEnabled&&e>=15&&t.length>=2&&(e%4===0||e%5===0);return s||n?r||!n?t[this.sampleCursor++%t.length].take(1):o?this.following.take(1):[]:[]}}class nx{cursor=void 0;queue=[];hasMore=!0;constructor({agent:e,feedTuners:t}){this.agent=e,this.feedTuners=t}get numReady(){return this.queue.length}get needsFetch(){return this.hasMore&&0===this.queue.length}take(e){return this.queue.splice(0,e)}async fetchNext(e){await Promise.race([this._fetchNextInner(e),An(500)])}_fetchNextInner=function(e){let t;return async(...s)=>{if(t)return t;t=e(...s);try{return await t}finally{t=void 0}}}((async e=>{const t=await this._getFeed(this.cursor,e);t.success?(this.cursor=t.data.cursor,t.data.feed.length?this.queue=this.queue.concat(t.data.feed):this.hasMore=!1):this.hasMore=!1}));_getFeed(e,t){throw new Error("Must be overridden")}}class ox extends nx{tuner=new _g(this.feedTuners);async fetchNext(e){return this._fetchNextInner(e)}async _getFeed(e,t){const s=await this.agent.getTimeline({cursor:e,limit:t}),n=this.tuner.tune(s.data.feed,{dryRun:!1});return s.data.feed=n.map((e=>e._feedPost)),s}}class rx extends nx{constructor({agent:e,feedUri:t,feedTuners:s,userInterests:n}){super({agent:e,feedTuners:s}),this.agent=e,this.feedUri=t,this.userInterests=n,this.sourceInfo={$type:"reasonFeedSource",uri:t,href:Su(t)},this.minDate=new Date(Date.now()-864e5)}async _getFeed(e,t){try{const s=Xc().join(","),n=mg(this.feedUri),o=await this.agent.app.bsky.feed.getFeed({cursor:e,limit:t,feed:this.feedUri},{headers:Object.assign({},n?dg(this.userInterests):{},{"Accept-Language":s})});t&&o.data.feed.length>t&&(o.data.feed=o.data.feed.slice(0,t)),o.data.feed=o.data.feed.filter((e=>new Date(e.post.indexedAt)>this.minDate));for(const e of o.data.feed)e.__source=this.sourceInfo;return o}catch{return{success:!1,headers:{},data:{feed:[]}}}}}const ix=100,ax=100,lx=100,cx=100,dx={likes:[],follows:[],followSuggestions:[],seen:[]};function ux(){return dx}function mx(e){const t=(0,i.c)(31);let s;const n=dc().palette[e];let o,r,a,l,c,d,u,m,h,p,f;return t[0]!==n.background?(o={backgroundColor:n.background},t[0]=n.background,t[1]=o):o=t[1],t[2]!==n.backgroundLight?(r={backgroundColor:n.backgroundLight},a={backgroundColor:n.backgroundLight},t[2]=n.backgroundLight,t[3]=r,t[4]=a):(r=t[3],a=t[4]),t[5]!==n.border?(l={borderColor:n.border},t[5]=n.border,t[6]=l):l=t[6],t[7]!==n.borderDark?(c={borderColor:n.borderDark},t[7]=n.borderDark,t[8]=c):c=t[8],t[9]!==n.text?(d={color:n.text},t[9]=n.text,t[10]=d):d=t[10],t[11]!==n.textLight?(u={color:n.textLight},t[11]=n.textLight,t[12]=u):u=t[12],t[13]!==n.textInverted?(m={color:n.textInverted},t[13]=n.textInverted,t[14]=m):m=t[14],t[15]!==n.link?(h={color:n.link},t[15]=n.link,t[16]=h):h=t[16],t[17]!==n.icon?(p={color:n.icon},t[17]=n.icon,t[18]=p):p=t[18],t[19]!==n||t[20]!==o||t[21]!==p||t[22]!==r||t[23]!==a||t[24]!==l||t[25]!==c||t[26]!==d||t[27]!==u||t[28]!==m||t[29]!==h?(f={colors:n,view:o,viewLight:r,btn:a,border:l,borderDark:c,text:d,textLight:u,textInverted:m,link:h,icon:p},t[19]=n,t[20]=o,t[21]=p,t[22]=r,t[23]=a,t[24]=l,t[25]=c,t[26]=d,t[27]=u,t[28]=m,t[29]=h,t[30]=f):f=t[30],s=f,s}const hx=mt.createContext({titleId:"",descriptionId:""});function px(e){const t=(0,i.c)(20),{children:s,control:n,testID:o,nativeOptions:r}=e,a=mt.useId(),l=mt.useId();let c,d;t[0]!==l||t[1]!==a?(d={titleId:a,descriptionId:l},t[0]=l,t[1]=a,t[2]=d):d=t[2],c=d;const u=c;let m,h,p,f,g,x,_;return t[3]===Symbol.for("react.memo_cache_sentinel")?(m={alignCenter:!0},t[3]=m):m=t[3],t[4]!==r?(h=Object.assign({preventExpansion:!0},r),t[4]=r,t[5]=h):h=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ha,{}),t[6]=p):p=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(f=_o({maxWidth:400}),t[7]=f):f=t[7],t[8]!==s||t[9]!==l||t[10]!==a?(g=(0,Ft.jsx)(da,{accessibilityLabelledBy:a,accessibilityDescribedBy:l,style:f,children:s}),t[8]=s,t[9]=l,t[10]=a,t[11]=g):g=t[11],t[12]!==u||t[13]!==g?(x=(0,Ft.jsx)(hx.Provider,{value:u,children:g}),t[12]=u,t[13]=g,t[14]=x):x=t[14],t[15]!==n||t[16]!==h||t[17]!==x||t[18]!==o?(_=(0,Ft.jsxs)(aa,{control:n,testID:o,webOptions:m,nativeOptions:h,children:[p,x]}),t[15]=n,t[16]=h,t[17]=x,t[18]=o,t[19]=_):_=t[19],_}function fx(e){const t=(0,i.c)(6),{children:s,style:n}=e,{titleId:o}=mt.useContext(hx);let r,a;return t[0]!==n?(r=[kl.flex_1,kl.text_2xl,kl.font_bold,kl.pb_sm,kl.leading_snug,n],t[0]=n,t[1]=r):r=t[1],t[2]!==s||t[3]!==r||t[4]!==o?(a=(0,Ft.jsx)(fr,{nativeID:o,style:r,children:s}),t[2]=s,t[3]=r,t[4]=o,t[5]=a):a=t[5],a}function gx(e){const t=(0,i.c)(7),{children:s,selectable:n}=e,o=ec(),{descriptionId:r}=mt.useContext(hx);let a,l;return t[0]!==o.atoms.text_contrast_high?(a=[kl.text_md,kl.leading_snug,o.atoms.text_contrast_high,kl.pb_lg],t[0]=o.atoms.text_contrast_high,t[1]=a):a=t[1],t[2]!==s||t[3]!==r||t[4]!==n||t[5]!==a?(l=(0,Ft.jsx)(fr,{nativeID:r,selectable:n,style:a,children:s}),t[2]=s,t[3]=r,t[4]=n,t[5]=a,t[6]=l):l=t[6],l}function xx(e){const t=(0,i.c)(5),{children:s}=e,{gtMobile:n}=ql();let o,r;return t[0]!==n?(o=[kl.w_full,kl.gap_md,kl.justify_end,n?[kl.flex_row,kl.flex_row_reverse,kl.justify_start]:[kl.flex_col]],t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(r=(0,Ft.jsx)(wo.default,{style:o,children:s}),t[2]=s,t[3]=o,t[4]=r):r=t[4],r}function _x(e){const t=(0,i.c)(15),{cta:s}=e,{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),{close:r}=Lr();let a;t[0]!==r?(a=()=>{r()},t[0]=r,t[1]=a):a=t[1];const l=a,c=o?"small":"large";let d,u,m,h;return t[2]!==n||t[3]!==s?(d=s||n({id:"dEgA5A"}),t[2]=n,t[3]=s,t[4]=d):d=t[4],t[5]!==n||t[6]!==s?(u=s||n({id:"dEgA5A"}),t[5]=n,t[6]=s,t[7]=u):u=t[7],t[8]!==u?(m=(0,Ft.jsx)(Cr,{children:u}),t[8]=u,t[9]=m):m=t[9],t[10]!==l||t[11]!==c||t[12]!==d||t[13]!==m?(h=(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:c,label:d,onPress:l,children:m}),t[10]=l,t[11]=c,t[12]=d,t[13]=m,t[14]=h):h=t[14],h}function yx(e){const t=(0,i.c)(18),{onPress:s,color:n,cta:o,testID:r}=e,a=void 0===n?"primary":n,{_:l}=(0,ft.useLingui)(),{gtMobile:c}=ql(),{close:d}=Lr();let u;t[0]!==d||t[1]!==s?(u=e=>{d((()=>s?.(e)))},t[0]=d,t[1]=s,t[2]=u):u=t[2];const m=u,h=c?"small":"large";let p,f,g,x;return t[3]!==l||t[4]!==o?(p=o||l({id:"7VpPHA"}),t[3]=l,t[4]=o,t[5]=p):p=t[5],t[6]!==l||t[7]!==o?(f=o||l({id:"7VpPHA"}),t[6]=l,t[7]=o,t[8]=f):f=t[8],t[9]!==f?(g=(0,Ft.jsx)(Cr,{children:f}),t[9]=f,t[10]=g):g=t[10],t[11]!==a||t[12]!==m||t[13]!==h||t[14]!==p||t[15]!==g||t[16]!==r?(x=(0,Ft.jsx)(Sr,{variant:"solid",color:a,size:h,label:p,onPress:m,testID:r,children:g}),t[11]=a,t[12]=m,t[13]=h,t[14]=p,t[15]=g,t[16]=r,t[17]=x):x=t[17],x}function bx(e){const t=(0,i.c)(19),{control:s,title:n,description:o,cancelButtonCta:r,confirmButtonCta:a,onConfirm:l,confirmButtonColor:c,showCancel:d}=e,u=void 0===d||d;let m,h,p,f,g,x;return t[0]!==n?(m=(0,Ft.jsx)(fx,{children:n}),t[0]=n,t[1]=m):m=t[1],t[2]!==o?(h=o&&(0,Ft.jsx)(gx,{children:o}),t[2]=o,t[3]=h):h=t[3],t[4]!==c||t[5]!==a||t[6]!==l?(p=(0,Ft.jsx)(yx,{cta:a,onPress:l,color:c,testID:"confirmBtn"}),t[4]=c,t[5]=a,t[6]=l,t[7]=p):p=t[7],t[8]!==r||t[9]!==u?(f=u&&(0,Ft.jsx)(_x,{cta:r}),t[8]=r,t[9]=u,t[10]=f):f=t[10],t[11]!==p||t[12]!==f?(g=(0,Ft.jsxs)(xx,{children:[p,f]}),t[11]=p,t[12]=f,t[13]=g):g=t[13],t[14]!==s||t[15]!==m||t[16]!==h||t[17]!==g?(x=(0,Ft.jsxs)(px,{control:s,testID:"confirmModal",children:[m,h,g]}),t[14]=s,t[15]=m,t[16]=h,t[17]=g,t[18]=x):x=t[18],x}function jx(){const e=(0,i.c)(10);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={minWidth:1300},e[0]=t):t=e[0];const s=(0,Vl.useMediaQuery)(t);let n;e[1]===Symbol.for("react.memo_cache_sentinel")?(n={minWidth:800,maxWidth:1299},e[1]=n):n=e[1];const o=(0,Vl.useMediaQuery)(n);let r;e[2]===Symbol.for("react.memo_cache_sentinel")?(r={maxWidth:799},e[2]=r):r=e[2];const a=(0,Vl.useMediaQuery)(r),l=a||o,c=s||o;if(kt){let t;return e[3]===Symbol.for("react.memo_cache_sentinel")?(t={isMobile:!0,isTablet:!1,isTabletOrMobile:!0,isTabletOrDesktop:!1,isDesktop:!1},e[3]=t):t=e[3],t}let d;return e[4]!==s||e[5]!==a||e[6]!==o||e[7]!==c||e[8]!==l?(d={isMobile:a,isTablet:o,isTabletOrMobile:l,isTabletOrDesktop:c,isDesktop:s},e[4]=s,e[5]=a,e[6]=o,e[7]=c,e[8]=l,e[9]=d):d=e[9],d}function vx(e){const t=(0,i.c)(6),{style:s,size:n,strokeWidth:o}=e,r=void 0===o?2:o,a=n||24,l=n||24;let c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(Ir.Path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"}),t[0]=c):c=t[0],t[1]!==r||t[2]!==s||t[3]!==a||t[4]!==l?(d=(0,Ft.jsx)(Ir.default,{fill:"none",viewBox:"0 0 24 24",strokeWidth:r,stroke:"currentColor",width:a,height:l,style:s,children:c}),t[1]=r,t[2]=s,t[3]=a,t[4]=l,t[5]=d):d=t[5],d}function wx(e){const t=(0,i.c)(5),{style:s,size:n}=e,o=n||32,r=n||32;let a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Ir.Path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 003.741-.479 3 3 0 00-4.682-2.72m.94 3.198l.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0112 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 016 18.719m12 0a5.971 5.971 0 00-.941-3.197m0 0A5.995 5.995 0 0012 12.75a5.995 5.995 0 00-5.058 2.772m0 0a3 3 0 00-4.681 2.72 8.986 8.986 0 003.74.477m.94-3.197a5.971 5.971 0 00-.94 3.197M15 6.75a3 3 0 11-6 0 3 3 0 016 0zm6 3a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0zm-13.5 0a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"}),t[0]=a):a=t[0],t[1]!==s||t[2]!==o||t[3]!==r?(l=(0,Ft.jsx)(Ir.default,{fill:"none",viewBox:"0 0 24 24",width:o,height:r,strokeWidth:2,stroke:"currentColor",style:s,children:a}),t[1]=s,t[2]=o,t[3]=r,t[4]=l):l=t[4],l}function Sx(e){const t=(0,i.c)(13),{style:s,size:n,strokeWidth:o}=e,r=void 0===o?1.5:o,a=n||24,l=n||24;let c;t[0]!==r?(c=(0,Ft.jsx)(Ir.Path,{d:"M 20 9 L 20 16 C 20 18.209 18.209 20 16 20 L 8 20 C 5.791 20 4 18.209 4 16 L 4 8 C 4 5.791 5.791 4 8 4 L 15 4",strokeWidth:r}),t[0]=r,t[1]=c):c=t[1];const d=1.5*r;let u;t[2]!==d?(u=(0,Ft.jsx)(Ir.Line,{strokeLinecap:"round",x1:"10",y1:"14",x2:"18.5",y2:"5.5",strokeWidth:d}),t[2]=d,t[3]=u):u=t[3];const m=1.5*r;let h,p;return t[4]!==m?(h=(0,Ft.jsx)(Ir.Line,{strokeLinecap:"round",x1:"20.5",y1:"3.5",x2:"21",y2:"3",strokeWidth:m}),t[4]=m,t[5]=h):h=t[5],t[6]!==s||t[7]!==a||t[8]!==l||t[9]!==c||t[10]!==u||t[11]!==h?(p=(0,Ft.jsxs)(Ir.default,{viewBox:"0 0 24 24",stroke:"currentColor",fill:"none",width:a,height:l,style:s,children:[c,u,h]}),t[6]=s,t[7]=a,t[8]=l,t[9]=c,t[10]=u,t[11]=h,t[12]=p):p=t[12],p}function kx(e){const t=(0,i.c)(5),{style:s,size:n,strokeWidth:o}=e,r=void 0===o?1.5:o;let a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Ir.Path,{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.25 11.25l.041-.02a.75.75 0 011.063.852l-.708 2.836a.75.75 0 001.063.853l.041-.021M21 12a9 9 0 11-18 0 9 9 0 0118 0zm-9-3.75h.008v.008H12V8.25z"}),t[0]=a):a=t[0],t[1]!==n||t[2]!==r||t[3]!==s?(l=(0,Ft.jsx)(Ir.default,{fill:"none",viewBox:"0 0 24 24",strokeWidth:r,stroke:"currentColor",width:n,height:n,style:s,children:a}),t[1]=n,t[2]=r,t[3]=s,t[4]=l):l=t[4],l}const Cx=zr({path:"M3 4a1 1 0 0 1 1-1h1a8.003 8.003 0 0 1 7.75 6.006A7.985 7.985 0 0 1 19 6h1a1 1 0 0 1 1 1v1a8 8 0 0 1-8 8v4a1 1 0 1 1-2 0v-7a8 8 0 0 1-8-8V4Zm2 1a6 6 0 0 1 6 6 6 6 0 0 1-6-6Zm8 9a6 6 0 0 1 6-6 6 6 0 0 1-6 6Z"}),Px=["type","children","emoji","lineHeight","style","title","dataSet","selectable"];function Tx(e){let{type:t="md",children:s,emoji:n,lineHeight:o,style:r,title:i,dataSet:a,selectable:l}=e,c=(0,ls.default)(e,Px);const d=dc(),{fonts:u}=Xl();const m=mt.useMemo((()=>{const e=d.typography[t],s=o?function(e,t,s){return{lineHeight:Math.round((e.typography[t].fontSize||16)*s)}}(d,t,o):void 0,n=Gn.default.flatten([oc.black,e,s,r]);return $n(n,u.family),n.fontSize&&(n.fontSize=Math.round(n.fontSize*u.scaleMultiplier)),Object.assign({uiTextView:l&&wt,selectable:l,style:n,dataSet:Pt?Object.assign({tooltip:i},a||{}):void 0},c)}),[a,u.family,u.scaleMultiplier,o,c,l,r,d,i,t]);return(0,Ft.jsx)(nr.UITextView,Object.assign({},m,{children:lr(s,m,n??!1)}))}function Lx(e){const t=(0,i.c)(20),{testID:s,icon:n,message:o,style:r}=e,a=mx("default"),{isTabletOrDesktop:l}=jx(),c=l?64:48,d=l&&Ax.iconContainerBig;let u,m,h,p,f,g;return t[0]!==a.viewLight||t[1]!==d?(u=[Ax.iconContainer,d,a.viewLight],t[0]=a.viewLight,t[1]=d,t[2]=u):u=t[2],t[3]!==n||t[4]!==c||t[5]!==a.colors.emptyStateIcon?(m="user-group"===n?(0,Ft.jsx)(wx,{size:c}):"growth"===n?(0,Ft.jsx)(Cx,{width:c,fill:a.colors.emptyStateIcon}):(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:n,size:c,style:[{color:a.colors.emptyStateIcon}]}),t[3]=n,t[4]=c,t[5]=a.colors.emptyStateIcon,t[6]=m):m=t[6],t[7]!==u||t[8]!==m?(h=(0,Ft.jsx)(wo.default,{style:u,children:m}),t[7]=u,t[8]=m,t[9]=h):h=t[9],t[10]!==a.colors.textLight?(p=[{color:a.colors.textLight},Ax.text],t[10]=a.colors.textLight,t[11]=p):p=t[11],t[12]!==o||t[13]!==p?(f=(0,Ft.jsx)(Tx,{type:"xl",style:p,children:o}),t[12]=o,t[13]=p,t[14]=f):f=t[14],t[15]!==r||t[16]!==h||t[17]!==f||t[18]!==s?(g=(0,Ft.jsxs)(wo.default,{testID:s,style:r,children:[h,f]}),t[15]=r,t[16]=h,t[17]=f,t[18]=s,t[19]=g):g=t[19],g}const Ax=Gn.default.create({iconContainer:{flexDirection:"row",alignItems:"center",justifyContent:"center",height:80,width:80,marginLeft:"auto",marginRight:"auto",borderRadius:80,marginTop:30},iconContainerBig:{width:100,height:100,marginTop:50},text:{textAlign:"center",paddingTop:20}});var Ix=s(12062);function Rx(e){const t=(0,i.c)(25),{message:s,numberOfLines:n,style:o,onPressTryAgain:r}=e,a=dc(),l=mx("error"),{_:c}=(0,ft.useLingui)();let d,u;t[0]!==l.view||t[1]!==o?(d=[Dx.outer,l.view,o],t[0]=l.view,t[1]=o,t[2]=d):d=t[2],t[3]!==a.palette.error.icon?(u=[Dx.errorIcon,{backgroundColor:a.palette.error.icon}],t[3]=a.palette.error.icon,t[4]=u):u=t[4];const m=l.text;let h,p,f,g,x,_;return t[5]!==m?(h=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"exclamation",style:m,size:16}),t[5]=m,t[6]=h):h=t[6],t[7]!==u||t[8]!==h?(p=(0,Ft.jsx)(wo.default,{style:u,children:h}),t[7]=u,t[8]=h,t[9]=p):p=t[9],t[10]!==l.text?(f=[Dx.message,l.text],t[10]=l.text,t[11]=f):f=t[11],t[12]!==s||t[13]!==n||t[14]!==f?(g=(0,Ft.jsx)(Tx,{type:"sm-medium",style:f,numberOfLines:n,children:s}),t[12]=s,t[13]=n,t[14]=f,t[15]=g):g=t[15],t[16]!==c||t[17]!==r||t[18]!==a.palette.error.icon?(x=r&&(0,Ft.jsx)(Ix.default,{testID:"errorMessageTryAgainButton",style:Dx.btn,onPress:r,accessibilityRole:"button",accessibilityLabel:c({id:"6gRgw8"}),accessibilityHint:c({id:"EBzg6u"}),children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrows-rotate",style:{color:a.palette.error.icon},size:18})}),t[16]=c,t[17]=r,t[18]=a.palette.error.icon,t[19]=x):x=t[19],t[20]!==d||t[21]!==p||t[22]!==g||t[23]!==x?(_=(0,Ft.jsx)(wl,{children:(0,Ft.jsxs)(wo.default,{testID:"errorMessageView",style:d,children:[p,g,x]})}),t[20]=d,t[21]=p,t[22]=g,t[23]=x,t[24]=_):_=t[24],_}const Dx=Gn.default.create({outer:{flexDirection:"row",alignItems:"center",paddingVertical:8,paddingHorizontal:8},errorIcon:{borderRadius:12,width:24,height:24,alignItems:"center",justifyContent:"center",marginRight:8},message:{flex:1,paddingRight:10},btn:{paddingHorizontal:4,paddingVertical:4}});var Fx=s(45473);function Ex(e){const t=(0,i.c)(44),{type:s,label:n,style:o,labelContainerStyle:r,labelStyle:a,onPress:l,children:c,testID:d,accessibilityLabel:u,accessibilityHint:m,accessibilityLabelledBy:h,onAccessibilityEscape:p,withLoading:f,disabled:g}=e,x=void 0===s?"primary":s,_=void 0!==f&&f,y=void 0!==g&&g,b=dc();let j;t[0]!==b.palette.default.background||t[1]!==b.palette.default.backgroundLight||t[2]!==b.palette.inverted.background||t[3]!==b.palette.primary.background||t[4]!==b.palette.primary.border||t[5]!==b.palette.secondary.background||t[6]!==b.palette.secondary.border||t[7]!==x?(j=ws(x,{primary:{backgroundColor:b.palette.primary.background},secondary:{backgroundColor:b.palette.secondary.background},default:{backgroundColor:b.palette.default.backgroundLight},inverted:{backgroundColor:b.palette.inverted.background},"primary-outline":{backgroundColor:b.palette.default.background,borderWidth:1,borderColor:b.palette.primary.border},"secondary-outline":{backgroundColor:b.palette.default.background,borderWidth:1,borderColor:b.palette.secondary.border},"primary-light":{backgroundColor:b.palette.default.background},"secondary-light":{backgroundColor:b.palette.default.background},"default-light":{backgroundColor:b.palette.default.background}}),t[0]=b.palette.default.background,t[1]=b.palette.default.backgroundLight,t[2]=b.palette.inverted.background,t[3]=b.palette.primary.background,t[4]=b.palette.primary.border,t[5]=b.palette.secondary.background,t[6]=b.palette.secondary.border,t[7]=x,t[8]=j):j=t[8];const v=j;let w;t[9]!==b.palette.default.isLowContrast||t[10]!==b.palette.default.text||t[11]!==b.palette.inverted.text||t[12]!==b.palette.primary.isLowContrast||t[13]!==b.palette.primary.text||t[14]!==b.palette.primary.textInverted||t[15]!==b.palette.secondary.isLowContrast||t[16]!==b.palette.secondary.text||t[17]!==b.palette.secondary.textInverted||t[18]!==x?(w=ws(x,{primary:{color:b.palette.primary.text,fontWeight:"600"},secondary:{color:b.palette.secondary.text,fontWeight:b.palette.secondary.isLowContrast?"600":void 0},default:{color:b.palette.default.text},inverted:{color:b.palette.inverted.text,fontWeight:"600"},"primary-outline":{color:b.palette.primary.textInverted,fontWeight:b.palette.primary.isLowContrast?"600":void 0},"secondary-outline":{color:b.palette.secondary.textInverted,fontWeight:b.palette.secondary.isLowContrast?"600":void 0},"primary-light":{color:b.palette.primary.textInverted,fontWeight:b.palette.primary.isLowContrast?"600":void 0},"secondary-light":{color:b.palette.secondary.textInverted,fontWeight:b.palette.secondary.isLowContrast?"600":void 0},"default-light":{color:b.palette.default.text,fontWeight:b.palette.default.isLowContrast?"600":void 0}}),t[9]=b.palette.default.isLowContrast,t[10]=b.palette.default.text,t[11]=b.palette.inverted.text,t[12]=b.palette.primary.isLowContrast,t[13]=b.palette.primary.text,t[14]=b.palette.primary.textInverted,t[15]=b.palette.secondary.isLowContrast,t[16]=b.palette.secondary.text,t[17]=b.palette.secondary.textInverted,t[18]=x,t[19]=w):w=t[19];const S=w,[k,C]=mt.useState(!1);let P;t[20]!==l||t[21]!==_?(P=async e=>{e.stopPropagation(),e.preventDefault(),_&&C(!0),await(l?.(e)),_&&C(!1)},t[20]=l,t[21]=_,t[22]=P):P=t[22];const T=P;let L;t[23]!==o||t[24]!==v?(L=e=>{const t=[v,Mx.outer,o];return e.pressed?t.push({opacity:.6}):e.hovered&&t.push({opacity:.8}),t},t[23]=o,t[24]=v,t[25]=L):L=t[25];const A=L;let I;t[26]!==c||t[27]!==k||t[28]!==n||t[29]!==r||t[30]!==a||t[31]!==S||t[32]!==_?(I=()=>n?(0,Ft.jsxs)(wo.default,{style:[Mx.labelContainer,r],children:[n&&_&&k?(0,Ft.jsx)(Fx.default,{size:12,color:S.color}):null,(0,Ft.jsx)(Tx,{type:"button",style:[S,a],children:n})]}):c,t[26]=c,t[27]=k,t[28]=n,t[29]=r,t[30]=a,t[31]=S,t[32]=_,t[33]=I):I=t[33];const R=I,D=y||k;let F;return t[34]!==m||t[35]!==u||t[36]!==h||t[37]!==A||t[38]!==p||t[39]!==T||t[40]!==R||t[41]!==D||t[42]!==d?(F=(0,Ft.jsx)(tr.default,{style:A,onPress:T,disabled:D,testID:d,accessibilityRole:"button",accessibilityLabel:u,accessibilityHint:m,accessibilityLabelledBy:h,onAccessibilityEscape:p,children:R}),t[34]=m,t[35]=u,t[36]=h,t[37]=A,t[38]=p,t[39]=T,t[40]=R,t[41]=D,t[42]=d,t[43]=F):F=t[43],F}const Mx=Gn.default.create({outer:{paddingHorizontal:14,paddingVertical:8,borderRadius:24},labelContainer:{flexDirection:"row",gap:8}});let Bx=function(e){return e.Block="Block",e.FeedgenDoesNotExist="FeedgenDoesNotExist",e.FeedgenMisconfigured="FeedgenMisconfigured",e.FeedgenBadResponse="FeedgenBadResponse",e.FeedgenOffline="FeedgenOffline",e.FeedgenUnknown="FeedgenUnknown",e.FeedSignedInOnly="FeedSignedInOnly",e.FeedTooManyRequests="FeedTooManyRequests",e.Unknown="Unknown",e}({});function Ox(e){const t=(0,i.c)(18),{feedDesc:s,error:n,onPressTryAgain:o,savedFeedConfig:r}=e,{_:a}=(0,ft.useLingui)();let l,c;t[0]!==n||t[1]!==s?(c=function(e,t){if(!t)return;if(t instanceof Is.AppBskyFeedGetAuthorFeed.BlockedActorError||t instanceof Is.AppBskyFeedGetAuthorFeed.BlockedByActorError)return Bx.Block;if(429===t?.status)return Bx.FeedTooManyRequests;"string"!==typeof t&&(t=t.toString());if(t.includes(Bx.FeedSignedInOnly))return Bx.FeedSignedInOnly;if(!e.startsWith("feedgen"))return Bx.Unknown;if(t.includes("could not find feed"))return Bx.FeedgenDoesNotExist;if(t.includes("feed unavailable"))return Bx.FeedgenOffline;if(t.includes("invalid did document"))return Bx.FeedgenMisconfigured;if(t.includes("could not resolve did document"))return Bx.FeedgenMisconfigured;if(t.includes("invalid feed generator service details in did document"))return Bx.FeedgenMisconfigured;if(t.includes("invalid response"))return Bx.FeedgenBadResponse;return Bx.FeedgenUnknown}(s,n),t[0]=n,t[1]=s,t[2]=c):c=t[2],l=c;const d=l;if("undefined"!==typeof d&&d!==Bx.Unknown&&s.startsWith("feedgen")){let e;return t[3]!==n||t[4]!==s||t[5]!==d||t[6]!==r?(e=(0,Ft.jsx)(zx,{feedDesc:s,knownError:d,rawError:n,savedFeedConfig:r}),t[3]=n,t[4]=s,t[5]=d,t[6]=r,t[7]=e):e=t[7],e}if(d===Bx.Block){let e,s,n;return t[8]!==a?(e=a({id:"Xd6VEK"}),t[8]=a,t[9]=e):e=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(s={paddingVertical:40},t[10]=s):s=t[10],t[11]!==e?(n=(0,Ft.jsx)(Lx,{icon:"ban",message:e,style:s}),t[11]=e,t[12]=n):n=t[12],n}let u,m;return t[13]!==n?(u=ds(n),t[13]=n,t[14]=u):u=t[14],t[15]!==o||t[16]!==u?(m=(0,Ft.jsx)(Rx,{message:u,onPressTryAgain:o}),t[15]=o,t[16]=u,t[17]=m):m=t[17],m}function zx(e){const t=(0,i.c)(77),{feedDesc:s,knownError:n,rawError:o,savedFeedConfig:r}=e,a=mx("default"),{_:l}=(0,ft.useLingui)(),c=(0,va.useNavigation)();let d,u,m,h,p,f,g,x,_;t[0]!==l?(u=l({id:"wkCNhr"}),t[0]=l,t[1]=u):u=t[1],t[2]!==l?(m=l({id:"WTcLyw"}),t[2]=l,t[3]=m):m=t[3],t[4]!==l?(h=l({id:"3zJH1g"}),t[4]=l,t[5]=h):h=t[5],t[6]!==l?(p=l({id:"/8MHCt"}),t[6]=l,t[7]=p):p=t[7],t[8]!==l?(f=l({id:"aBX1qv"}),t[8]=l,t[9]=f):f=t[9],t[10]!==l?(g=l({id:"FynkM2"}),t[10]=l,t[11]=g):g=t[11],t[12]!==l?(x=l({id:"xI4xW5"}),t[12]=l,t[13]=x):x=t[13],t[14]!==u||t[15]!==m||t[16]!==h||t[17]!==p||t[18]!==f||t[19]!==g||t[20]!==x?(_={[Bx.Unknown]:"",[Bx.Block]:"",[Bx.FeedgenDoesNotExist]:u,[Bx.FeedgenMisconfigured]:m,[Bx.FeedgenBadResponse]:h,[Bx.FeedgenOffline]:p,[Bx.FeedSignedInOnly]:f,[Bx.FeedgenUnknown]:g,[Bx.FeedTooManyRequests]:x},t[14]=u,t[15]=m,t[16]=h,t[17]=p,t[18]=f,t[19]=g,t[20]=x,t[21]=_):_=t[21],d=_[n];const y=d;let b;if(t[22]!==s){const[,e]=s.split("|");b=function(e){try{const t=new Is.AtUri(e);return[t.hostname,t.rkey]}catch{return["",""]}}(e),t[22]=s,t[23]=b}else b=t[23];const[j]=b,v=Ar(),{mutateAsync:w}=Nh();let S;t[24]!==c||t[25]!==j?(S=()=>{c.navigate("Profile",{name:j})},t[24]=c,t[25]=j,t[26]=S):S=t[26];const k=S;let C;t[27]!==v?(C=()=>{v.open()},t[27]=v,t[28]=C):C=t[28];const P=C;let T;t[29]!==l||t[30]!==w||t[31]!==r?(T=async()=>{try{if(!r)return;await w(r)}catch(A){const t=A;Zu(l({id:"MP65uR"}),"exclamation-circle"),ys.error("Failed to remove feed",{message:t})}},t[29]=l,t[30]=w,t[31]=r,t[32]=T):T=t[32];const L=T;let A;e:{switch(n){case Bx.FeedSignedInOnly:A=null;break e;case Bx.FeedgenDoesNotExist:case Bx.FeedgenMisconfigured:case Bx.FeedgenBadResponse:case Bx.FeedgenOffline:case Bx.FeedgenUnknown:{let e,s,o,i,a;t[33]===Symbol.for("react.memo_cache_sentinel")?(e={flexDirection:"row",alignItems:"center",gap:10},t[33]=e):e=t[33],t[34]!==l||t[35]!==n||t[36]!==L||t[37]!==r?(s=n===Bx.FeedgenDoesNotExist&&r&&(0,Ft.jsx)(Ex,{type:"inverted",label:l({id:"W44VX5"}),onPress:L}),t[34]=l,t[35]=n,t[36]=L,t[37]=r,t[38]=s):s=t[38],t[39]!==l?(o=l({id:"73lp8c"}),t[39]=l,t[40]=o):o=t[40],t[41]!==k||t[42]!==o?(i=(0,Ft.jsx)(Ex,{type:"default-light",label:o,onPress:k}),t[41]=k,t[42]=o,t[43]=i):i=t[43],t[44]!==s||t[45]!==i?(a=(0,Ft.jsxs)(wo.default,{style:e,children:[s,i]}),t[44]=s,t[45]=i,t[46]=a):a=t[46],A=a;break e}}A=void 0}const I=A;let R,D,F,E,M,B,O,z,H,N;return t[47]===Symbol.for("react.memo_cache_sentinel")?(R={borderTopWidth:1,paddingHorizontal:20,paddingVertical:18,gap:12},t[47]=R):R=t[47],t[48]!==a.border||t[49]!==a.viewLight?(D=[a.border,a.viewLight,R],t[48]=a.border,t[49]=a.viewLight,t[50]=D):D=t[50],t[51]!==y||t[52]!==a.text?(F=(0,Ft.jsx)(Tx,{style:a.text,children:y}),t[51]=y,t[52]=a.text,t[53]=F):F=t[53],t[54]!==a.textLight||t[55]!==o?(E=o?.message&&(0,Ft.jsx)(Tx,{style:a.textLight,children:(0,Ft.jsx)(ft.Trans,{id:"wdD5t1",values:{0:o.message}})}),t[54]=a.textLight,t[55]=o,t[56]=E):E=t[56],t[57]!==I||t[58]!==D||t[59]!==F||t[60]!==E?(M=(0,Ft.jsxs)(wo.default,{style:D,children:[F,E,I]}),t[57]=I,t[58]=D,t[59]=F,t[60]=E,t[61]=M):M=t[61],t[62]!==l?(B=l({id:"vvugyc"}),t[62]=l,t[63]=B):B=t[63],t[64]!==l?(O=l({id:"y+pR5p"}),t[64]=l,t[65]=O):O=t[65],t[66]!==l?(z=l({id:"t/YqKh"}),t[66]=l,t[67]=z):z=t[67],t[68]!==P||t[69]!==v||t[70]!==B||t[71]!==O||t[72]!==z?(H=(0,Ft.jsx)(bx,{control:v,title:B,description:O,onConfirm:P,confirmButtonCta:z,confirmButtonColor:"negative"}),t[68]=P,t[69]=v,t[70]=B,t[71]=O,t[72]=z,t[73]=H):H=t[73],t[74]!==M||t[75]!==H?(N=(0,Ft.jsxs)(Ft.Fragment,{children:[M,H]}),t[74]=M,t[75]=H,t[76]=N):N=t[76],N}const Hx="post-feed";function Nx(e,t){return[Hx,e,t||{}]}const Vx=30;function qx(e,t,s){const n=(0,i.c)(27),o=function(e){const t=(0,i.c)(13),s=Yc(),{data:n}=Fh(),{currentAccount:o}=xh();let r;e:{if(e.startsWith("author")&&e.endsWith("|posts_with_replies")){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[_g.removeReposts],t[0]=e):e=t[0],r=e;break e}if(e.startsWith("feedgen")){let e,n;t[1]!==s.contentLanguages?(e=_g.preferredLangOnly(s.contentLanguages),t[1]=s.contentLanguages,t[2]=e):e=t[2],t[3]!==e?(n=[e],t[3]=e,t[4]=n):n=t[4],r=n;break e}if("following"===e||e.startsWith("list")){let e;if(t[5]!==o?.did||t[6]!==n?.feedViewPrefs.hideQuotePosts||t[7]!==n?.feedViewPrefs.hideReplies||t[8]!==n?.feedViewPrefs.hideReposts){if(e=[_g.removeOrphans],n?.feedViewPrefs.hideReposts&&e.push(_g.removeReposts),n?.feedViewPrefs.hideReplies)e.push(_g.removeReplies);else{let s;t[10]!==o?.did?(s=_g.followedRepliesOnly({userDid:o?.did||""}),t[10]=o?.did,t[11]=s):s=t[11],e.push(s)}n?.feedViewPrefs.hideQuotePosts&&e.push(_g.removeQuotePosts),e.push(_g.dedupThreads),t[5]=o?.did,t[6]=n?.feedViewPrefs.hideQuotePosts,t[7]=n?.feedViewPrefs.hideReplies,t[8]=n?.feedViewPrefs.hideReposts,t[9]=e}else e=t[9];r=e;break e}let i;t[12]===Symbol.for("react.memo_cache_sentinel")?(i=[],t[12]=i):i=t[12],r=i}return r}(e),r=Op(),{data:a}=Fh(),l=!1!==s?.enabled&&Boolean(r)&&Boolean(a);let c;n[0]!==a?(c=ug(a),n[0]=a,n[1]=c):c=n[1];const d=c,u=0===(a?.savedFeeds?.findIndex(Qx)??-1),m=bh(),h=(0,mt.useRef)(null);let p;n[2]!==e?(p=e.includes(Ii),n[2]=e,n[3]=p):p=n[3];const f=p;let g;s?.ignoreFilterFor;const x=s?.ignoreFilterFor;let _;n[4]!==o||n[5]!==f||n[6]!==r||n[7]!==x?(_={feedTuners:o,moderationOpts:r,ignoreFilterFor:x,isDiscover:f},n[4]=o,n[5]=f,n[6]=r,n[7]=x,n[8]=_):_=n[8],g=_;const y=g;let b,j;if(n[9]!==e||n[10]!==t?(b=Nx(e,t),n[9]=e,n[10]=t,n[11]=b):b=n[11],n[12]!==m||n[13]!==u||n[14]!==l||n[15]!==e||n[16]!==o||n[17]!==t||n[18]!==y||n[19]!==b||n[20]!==d){let s;n[22]!==y?(s=e=>{const{feedTuners:t,moderationOpts:s,ignoreFilterFor:n,isDiscover:o}=y,r=new _g(t),i=[];if(h.current){const{data:t,args:s,result:n}=h.current;let o=!0;for(const e in y)if(y.hasOwnProperty(e)&&y[e]!==s[e]){o=!1;break}if(o)for(let a=0;a<e.pages.length&&(e.pages[a]&&t.pages[a]===e.pages[a]);a++)i.push(n.pages[a]),r.tune(t.pages[a].feed)}const a={pageParams:e.pageParams,pages:[...i,...e.pages.slice(i.length).map((e=>({api:e.api,tuner:r,cursor:e.cursor,fetchedAt:e.fetchedAt,slices:r.tune(e.feed).map((e=>{const t=e.items.map((e=>(0,Is.moderatePost)(e.post,s)));for(let s=0;s<e.items.length;s++){const o=e.items[s].post.author.did===n;if(o&&(t[s].causes=t[s].causes.filter(Wx)),!o&&t[s]?.ui("contentList").filter)return}var r;o&&(r=e.items.map((t=>({feedContext:e.feedContext,reqId:e.reqId,likeCount:t.post.likeCount??0,repostCount:t.post.repostCount??0,replyCount:t.post.replyCount??0,isFollowedBy:Boolean(t.post.author.viewer?.followedBy),uri:t.post.uri}))),dx.seen=dx.seen.concat(r).slice(-cx));return{_reactKey:e._reactKey,_isFeedPostSlice:!0,isIncompleteThread:e.isIncompleteThread,isFallbackMarker:e.isFallbackMarker,feedContext:e.feedContext,reqId:e.reqId,reason:e.reason,feedPostUri:e.feedPostUri,items:e.items.map(((s,n)=>({_reactKey:`${e._reactKey}-${n}-${s.post.uri}`,uri:s.post.uri,post:s.post,record:s.record,moderation:t[n],parentAuthor:s.parentAuthor,isParentBlocked:s.isParentBlocked,isParentNotFound:s.isParentNotFound})))}})).filter(Ux)})))]};return h.current={data:e,result:a,args:y},a},n[22]=y,n[23]=s):s=n[23],j={enabled:l,staleTime:Ld.INFINITY,queryKey:b,async queryFn(s){const{pageParam:n}=s;ys.debug("usePostFeedQuery",{feedDesc:e,cursor:n?.cursor});const{api:r,cursor:i}=n||{api:Kx({feedDesc:e,feedParams:t||{},feedTuners:o,agent:m,userInterests:d,enableFollowingToDiscoverFallback:u}),cursor:void 0};try{const e=await r.fetch({cursor:i,limit:Vx});return m.session||function(e){if(0===e.length)return!0;let t=!1;for(const s of e){(0,Is.moderatePost)(s.post,{userDid:void 0,prefs:Rh.moderationPrefs}).ui("contentList").filter||(t=!0)}if(!t)throw new Error(Bx.FeedSignedInOnly)}(e.feed),{api:r,cursor:e.cursor,feed:e.feed,fetchedAt:Date.now()}}catch(P){const s=P,n=e.split("|"),o=new Is.AtUri(n[1]).hostname;throw"feedgen"===n[0]&&Ai.includes(o)&&ys.error(`Bluesky feed may be offline: ${o}`,{feedDesc:e,jsError:s}),s}},initialPageParam:void 0,getNextPageParam:Zx,select:s},n[12]=m,n[13]=u,n[14]=l,n[15]=e,n[16]=o,n[17]=t,n[18]=y,n[19]=b,n[20]=d,n[21]=j}else j=n[21];const v=(0,Dp.useInfiniteQuery)(j),w=(0,mt.useRef)(0),S=(0,mt.useRef)(0),k=(0,mt.useRef)(0);let C,P;return n[24]!==v?(C=()=>{const{data:e,isLoading:t,isRefetching:s,isFetchingNextPage:n,hasNextPage:o}=v;let r=0;for(const i of e?.pages||[])for(const e of i.slices)r+=e.items.length;r!==w.current&&(r<w.current&&(S.current=r),w.current=r),t||s?S.current=Vx:n?r>S.current&&(S.current=r+Vx):o&&(r<S.current?(k.current=k.current+1,k.current<50&&v.fetchNextPage()):k.current=0)},P=[v],n[24]=v,n[25]=C,n[26]=P):(C=n[25],P=n[26]),(0,mt.useEffect)(C,P),v}function Ux(e){return!!e}function Wx(e){return"muted"!==e.type}function Zx(e){return e.cursor?{api:e.api,cursor:e.cursor}:void 0}function Qx(e){return e.pinned&&"following"===e.value}function Kx({feedDesc:e,feedParams:t,feedTuners:s,userInterests:n,agent:o,enableFollowingToDiscoverFallback:r}){if("following"===e)return t.mergeFeedEnabled?new sx({agent:o,feedParams:t,feedTuners:s,userInterests:n}):r?new gg({agent:o,userInterests:n}):new pg({agent:o});if(e.startsWith("author")){const[t,s,n]=e.split("|");return new Ng({agent:o,feedParams:{actor:s,filter:n}})}if(e.startsWith("likes")){const[t,s]=e.split("|");return new Jg({agent:o,feedParams:{actor:s}})}if(e.startsWith("feedgen")){const[t,s]=e.split("|");return new hg({agent:o,feedParams:{feed:s},userInterests:n})}if(e.startsWith("list")){const[t,s]=e.split("|");return new Xg({agent:o,feedParams:{list:s}})}return"demo"===e?new Yg({agent:o}):new pg({agent:o})}function*$x(e,t){const s=new Is.AtUri(t),n=e.getQueriesData({queryKey:[Hx]});for(const[o,r]of n)if(r?.pages)for(const e of r?.pages)for(const t of e.feed){Ff(s,t.post)&&(yield t.post);const e=Ef(t.post.embed);if(e&&Ff(s,e)&&(yield Mf(e)),Is.AppBskyFeedDefs.isPostView(t.reply?.parent)){Ff(s,t.reply.parent)&&(yield t.reply.parent);const e=Ef(t.reply.parent.embed);e&&Ff(s,e)&&(yield Mf(e))}if(Is.AppBskyFeedDefs.isPostView(t.reply?.root)){Ff(s,t.reply.root)&&(yield t.reply.root);const e=Ef(t.reply.root.embed);e&&Ff(s,e)&&(yield Mf(e))}}}function*Gx(e,t){const s=e.getQueriesData({queryKey:[Hx]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.feed){s.post.author.did===t&&(yield s.post.author);const e=Ef(s.post.embed);e?.author.did===t&&(yield e.author),Is.AppBskyFeedDefs.isPostView(s.reply?.parent)&&s.reply?.parent?.author.did===t&&(yield s.reply.parent.author),Is.AppBskyFeedDefs.isPostView(s.reply?.root)&&s.reply?.root?.author.did===t&&(yield s.reply.root.author)}}function Yx(e,t,s=0){setTimeout((()=>{e.resetQueries({predicate:e=>!(e.queryKey[0]!==Hx||!e.queryKey[1]?.includes(t))})}),s)}const Jx=10,Xx="post-thread",e_=e=>[Xx,e];function t_(e){const t=(0,i.c)(10),s=(0,wd.useQueryClient)(),n=bh(),o=e||"";let r,a;if(t[0]!==o?(r=e_(o),t[0]=o,t[1]=r):r=t[1],t[2]!==n||t[3]!==s||t[4]!==r||t[5]!==e){let o;t[7]!==s||t[8]!==e?(o=()=>{if(!e)return;const t=function(e,t){let s;for(let n of i_(e,t))if("post"===n.type){if(null!=n.post.likeCount)return n;s=n}return s}(s,e);return t?{thread:t}:void 0},t[7]=s,t[8]=e,t[9]=o):o=t[9],a={gcTime:0,queryKey:r,async queryFn(){const t=await n.getPostThread({uri:e,depth:Jx});if(t.success){const e=r_(t.data.thread);return function(e){if("post"!==e.type)return;const t=[e];let s=e.parent;for(;s;){if("post"!==s.type||s.post.author.did!==e.post.author.did)return;t.unshift(s),s=s.parent}let n=e;for(let o=0;o<10;o++){const s=n.replies?.find((t=>"post"===t.type&&t.post.author.did===e.post.author.did));if("post"!==s?.type)break;t.push(s),n=s}if(t.length>1){for(const s of t)s.ctx.isSelfThread=!0;const e=t[t.length-1];e&&e.ctx.depth===Jx&&e.post.replyCount&&!e.replies?.length&&(e.ctx.hasMoreSelfThread=!0)}}(e),{thread:e,threadgate:t.data.threadgate}}return{thread:{type:"unknown",uri:e}}},enabled:!!e,placeholderData:o},t[2]=n,t[3]=s,t[4]=r,t[5]=e,t[6]=a}else a=t[6];return(0,vd.useQuery)(a)}function s_(e,t,s){if("post"===t.type&&(e.set(t,(0,Is.moderatePost)(t.post,s)),t.parent&&s_(e,t.parent,s),t.replies))for(const n of t.replies)s_(e,n,s)}function n_(e,t,s,n,o,r,i,a,l){return"post"!==e.type||e.replies&&(e.replies.sort(((c,d)=>{if("post"!==c.type)return 1;if("post"!==d.type)return-1;if(e.ctx.isHighlightedPost||t.lab_treeViewEnabled){const e=c.post.author.did===n&&o.has(c.post.uri),t=d.post.author.did===n&&o.has(d.post.uri);if(e&&t)return c.post.indexedAt.localeCompare(d.post.indexedAt);if(e)return-1;if(t)return 1}const u=c.post.author.did===e.post?.author.did,m=d.post.author.did===e.post?.author.did;if(u&&m)return c.post.indexedAt.localeCompare(d.post.indexedAt);if(u)return-1;if(m)return 1;const h=c.post.author.did===n,p=d.post.author.did===n;if(h&&p)return c.post.indexedAt.localeCompare(d.post.indexedAt);if(h)return-1;if(p)return 1;const f=r.has(c.uri),g=r.has(d.uri);if(f&&!h&&!g)return 1;if(g&&!p&&!f)return-1;const x=Boolean(s.get(c)?.ui("contentList").blur),_=Boolean(s.get(d)?.ui("contentList").blur);if(x!==_){if(x)return 1;if(_)return-1}const y=Boolean("\ud83d\udccc"===c.record.text.trim()),b=Boolean("\ud83d\udccc"===d.record.text.trim());if(y!==b){if(y)return 1;if(b)return-1}if(t.prioritizeFollowedUsers){const e=c.post.author.viewer?.following,t=d.post.author.viewer?.following;if(e&&!t)return-1;if(!e&&t)return 1}let j=i.get(c.uri);void 0===j&&(i.set(c.uri,a),j=a);let v=i.get(d.uri);if(void 0===v&&(i.set(d.uri,a),v=a),j!==v)return j-v;if("hotness"===t.sort){const e=o_(c,j);return o_(d,v)-e}if("oldest"===t.sort)return c.post.indexedAt.localeCompare(d.post.indexedAt);if("newest"===t.sort)return d.post.indexedAt.localeCompare(c.post.indexedAt);if("most-likes"===t.sort)return c.post.likeCount===d.post.likeCount?d.post.indexedAt.localeCompare(c.post.indexedAt):(d.post.likeCount||0)-(c.post.likeCount||0);if("random"===t.sort){let e=l.get(c.uri);void 0===e&&(e=Math.random(),l.set(c.uri,e));let t=l.get(d.uri);return void 0===t&&(t=Math.random(),l.set(d.uri,t)),e-t}return d.post.indexedAt.localeCompare(c.post.indexedAt)})),e.replies.forEach((e=>n_(e,t,s,n,o,r,i,a,l)))),e}function o_(e,t){const{post:s,hasOPLike:n}=e,o=Math.max(0,(new Date(t).getTime()-new Date(s.indexedAt).getTime())/36e5),r=s.likeCount??0,i=Math.log(3+r)*(n?1.45:1),a=1.5+1.5/(1+Math.log(1+r)),l=n?.8:1;return i/Math.pow(o+2,a*l)}function r_(e,t=0,s="start"){if(Is.AppBskyFeedDefs.isThreadViewPost(e)&&If(e.post.record,Is.AppBskyFeedPost.isRecord)){const n=e.post;return n.replyCount??=0,n.likeCount??=0,n.repostCount??=0,{type:"post",_reactKey:e.post.uri,uri:e.post.uri,post:n,record:e.post.record,parent:e.parent&&"down"!==s?r_(e.parent,t-1,"up"):void 0,replies:e.replies?.length&&"up"!==s?e.replies.map((e=>r_(e,t+1,"down"))).filter((e=>"blocked"!==e.type)):void 0,hasOPLike:Boolean(e?.threadContext?.rootAuthorLike),ctx:{depth:t,isHighlightedPost:0===t,hasMore:"down"===s&&!e.replies?.length&&!!n.replyCount,isSelfThread:!1,hasMoreSelfThread:!1}}}return Is.AppBskyFeedDefs.isBlockedPost(e)?{type:"blocked",_reactKey:e.uri,uri:e.uri,ctx:{depth:t}}:Is.AppBskyFeedDefs.isNotFoundPost(e)?{type:"not-found",_reactKey:e.uri,uri:e.uri,ctx:{depth:t}}:{type:"unknown",uri:""}}function*i_(e,t){const s=new Is.AtUri(t),n=e.getQueriesData({queryKey:[Xx]});for(const[r,i]of n){if(!i)continue;const{thread:e}=i;for(const t of l_(e)){if("post"===t.type&&Ff(s,t.post)){const e=c_(t);e&&(yield e)}const e="post"===t.type?Ef(t.post.embed):void 0;e&&Ff(s,e)&&(yield(o=e,{type:"post",_reactKey:o.uri,uri:o.uri,post:Mf(o),record:o.value,parent:void 0,replies:void 0,hasOPLike:void 0,ctx:{depth:0,isHighlightedPost:!0,hasMore:!1,isParentLoading:!!o.value.reply,isChildLoading:!0}}))}}var o;for(let r of Fb(e,t))yield d_(r);for(let r of $x(e,t))yield d_(r);for(let r of Eg(e,t))yield d_(r);for(let r of Hg(e,t))yield d_(r);for(let r of Cg(e,t))yield d_(r)}function*a_(e,t){const s=e.getQueriesData({queryKey:[Xx]});for(const[n,o]of s){if(!o)continue;const{thread:e}=o;for(const s of l_(e)){"post"===s.type&&s.post.author.did===t&&(yield s.post.author);const e="post"===s.type?Ef(s.post.embed):void 0;e?.author.did===t&&(yield e?.author)}}for(let n of Gx(e,t))yield n;for(let n of function*(e,t){const s=e.getQueriesData({queryKey:[Ab]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.items)if("starterpack-joined"!==s.type&&s.subject?.author.did===t&&(yield s.subject.author),Is.AppBskyFeedDefs.isPostView(s.subject)){const e=Ef(s.subject?.embed);e?.author.did===t&&(yield e.author)}}(e,t))yield n;for(let n of function*(e,t){const s=e.getQueriesData({queryKey:[Mg]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.posts){s.author.did===t&&(yield s.author);const e=Ef(s.embed);e?.author.did===t&&(yield e.author)}}(e,t))yield n;for(let n of Pg(e,t))yield n}function*l_(e){if("post"===e.type&&(e.parent&&(yield*l_(e.parent)),yield e,e.replies?.length))for(const t of e.replies)yield*l_(t)}function c_(e){if("post"===e.type)return{type:e.type,_reactKey:e._reactKey,uri:e.uri,post:e.post,record:e.record,parent:void 0,replies:void 0,hasOPLike:void 0,ctx:{depth:0,isHighlightedPost:!0,hasMore:!1,isParentLoading:!!e.record.reply,isChildLoading:!!e.post.replyCount}}}function d_(e){return{type:"post",_reactKey:e.uri,uri:e.uri,post:e,record:e.record,parent:void 0,replies:void 0,hasOPLike:void 0,ctx:{depth:0,isHighlightedPost:!0,hasMore:!1,isParentLoading:!!e.record.reply,isChildLoading:!0}}}function u_(e){return m_(e&&Rf(e.record,Is.AppBskyFeedThreadgate.validateRecord)?e.record:void 0)}function m_(e){if(!e||void 0===e.allow)return[{type:"everybody"}];if(0===e.allow.length)return[{type:"nobody"}];return e.allow.map((e=>{let t;return Is.AppBskyFeedThreadgate.isMentionRule(e)?t={type:"mention"}:Is.AppBskyFeedThreadgate.isFollowingRule(e)?t={type:"following"}:Is.AppBskyFeedThreadgate.isListRule(e)?t={type:"list",list:e.list}:Is.AppBskyFeedThreadgate.isFollowerRule(e)&&(t={type:"followers"}),t})).filter((e=>!!e))}function h_(e){if(e.find((e=>"everybody"===e.type)))return;let t=[];if(!e.find((e=>"nobody"===e.type)))for(const s of e)"mention"===s.type?t.push({$type:"app.bsky.feed.threadgate#mentionRule"}):"following"===s.type?t.push({$type:"app.bsky.feed.threadgate#followingRule"}):"followers"===s.type?t.push({$type:"app.bsky.feed.threadgate#followerRule"}):"list"===s.type&&t.push({$type:"app.bsky.feed.threadgate#listRule",list:s.list});return t}function p_(e){if(!e.post)throw new Error("Cannot create a threadgate record without a post URI");return{$type:"app.bsky.feed.threadgate",post:e.post,createdAt:(new Date).toISOString(),allow:e.allow,hiddenReplies:e.hiddenReplies||[]}}s(27124);const f_="threadgate-record";const g_="threadgate-view",x_=e=>[g_,e];async function __({agent:e,postUri:t}){const{data:s}=await e.app.bsky.feed.getPostThread({uri:t,depth:0});return Is.AppBskyFeedDefs.isThreadViewPost(s.thread)?s.thread.post.threadgate??null:null}async function y_({agent:e,postUri:t}){const s=new Is.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}try{const{data:t}=await Hm(2,(e=>!e.message.includes("Could not locate record:")),(()=>e.api.com.atproto.repo.getRecord({repo:s.host,collection:"app.bsky.feed.threadgate",rkey:s.rkey})));return t.value&&Rf(t.value,Is.AppBskyFeedThreadgate.validateRecord)?t.value:null}catch(n){if(n.message.includes("Could not locate record:"))return null;throw n}}async function b_({agent:e,postUri:t},s){const n=await y_({agent:e,postUri:t}),o=await s(n);o&&await async function({agent:e,postUri:t,threadgate:s}){const n=new Is.AtUri(t),o=p_({post:t,allow:s.allow,hiddenReplies:s.hiddenReplies||[]});await Nm(2,(()=>e.api.com.atproto.repo.putRecord({repo:e.session.did,collection:"app.bsky.feed.threadgate",rkey:n.rkey,record:o})))}({agent:e,postUri:t,threadgate:o})}function j_(){const e=(0,i.c)(7),t=bh(),s=(0,wd.useQueryClient)(),n=mt.useContext(Of);let o,r;return e[0]!==t||e[1]!==n?(o=async e=>{const{postUri:s,replyUri:o,action:r}=e;"hide"===r?n.addHiddenReplyUri(o):"show"===r&&n.removeHiddenReplyUri(o),await b_({agent:t,postUri:s},(async e=>{if(e){if("hide"===r)return function(e,t){const s=e.allow||t.allow?[...e.allow||[],...t.allow||[]].filter(((e,t,s)=>s.findIndex((t=>t.$type===e.$type))===t)):void 0,n=Array.from(new Set([...e.hiddenReplies||[],...t.hiddenReplies||[]]));return p_({post:e.post,allow:s,hiddenReplies:n})}(e,{hiddenReplies:[o]});if("show"===r)return Object.assign({},e,{hiddenReplies:e.hiddenReplies?.filter((e=>e!==o))||[]})}else if("hide"===r)return p_({post:s,hiddenReplies:[o]})}))},e[0]=t,e[1]=n,e[2]=o):o=e[2],e[3]!==n||e[4]!==s||e[5]!==o?(r={mutationFn:o,onSuccess(){s.invalidateQueries({queryKey:[f_]})},onError(e,t){const{replyUri:s,action:o}=t;"hide"===o?n.removeHiddenReplyUri(s):"show"===o&&n.addHiddenReplyUri(s)}},e[3]=n,e[4]=s,e[5]=o,e[6]=r):r=e[6],(0,Sd.useMutation)(r)}async function v_(e,t,s){if("string"===typeof t&&(t.startsWith("data:")||t.startsWith("blob:"))){const n=await fetch(t).then((e=>e.blob()));return e.uploadBlob(n,{encoding:s})}if(t instanceof Blob)return e.uploadBlob(t,{encoding:s});throw new TypeError("Invalid uploadBlob input: "+typeof t)}async function w_(e,t,s){const n=s.thread;let o;s.onStateChange?.(cs.i18n._({id:"k1ifdL"})),s.replyTo&&(o=async function(e,t){const s=new Is.AtUri(t),n=await e.getPost({repo:s.host,rkey:s.rkey});if(n){const e={uri:n.uri,cid:n.cid};return{root:n.value.reply?.root||e,parent:e}}}(e,s.replyTo));let r=s.langs;s.langs&&(r=s.langs.slice(0,3));const i=e.assertDid,a=[],l=[];let c,d=new Date;for(let m=0;m<n.posts.length;m++){const u=n.posts[m],h=S_(e,u.richtext),p=k_(e,t,u,s.onStateChange);let f;u.labels.length&&(f={$type:"com.atproto.label.defs#selfLabels",values:u.labels.map((e=>({val:e})))}),d.setMilliseconds(d.getMilliseconds()+1),c=zm.TID.next(c);const g=c.toString(),x=`at://${i}/app.bsky.feed.post/${g}`;l.push(x);const _=await h,y=await p,b=await o,j={$type:"app.bsky.feed.post",createdAt:d.toISOString(),text:_.text,facets:_.facets,reply:b,embed:y,langs:r,labels:f};a.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.post",rkey:g,value:j}),0===m&&n.threadgate.some((e=>"everybody"!==e.type))&&a.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.threadgate",rkey:g,value:p_({createdAt:d.toISOString(),post:x,allow:h_(n.threadgate)})}),(n.postgate.embeddingRules?.length||n.postgate.detachedEmbeddingUris?.length)&&a.push({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.feed.postgate",rkey:g,value:Object.assign({},n.postgate,{$type:"app.bsky.feed.postgate",createdAt:d.toISOString(),post:x})});const v={cid:await L_(j),uri:x};o={root:b?.root??v,parent:v}}try{await e.com.atproto.repo.applyWrites({repo:e.assertDid,writes:a,validate:!0})}catch(u){throw ys.error("Failed to create post",{safeMessage:u.message}),ms(u)?new Error(cs.i18n._({id:"bwVi/F"})):u}return{uris:l}}async function S_(e,t){const s=t.text.replace(/^(\s*\n)+/,"").trimEnd();let n=new Is.RichText({text:s},{cleanNewlines:!0});return await n.detectFacets(e),n=ig(n),n=ag(n),n}async function k_(e,t,s,n){if(s.embed.quote){const[o,r]=await Promise.all([C_(e,t,s.embed,n),P_(e,t,s.embed.quote.uri)]);return o?{$type:"app.bsky.embed.recordWithMedia",record:{$type:"app.bsky.embed.record",record:r},media:o}:{$type:"app.bsky.embed.record",record:r}}const o=await C_(e,t,s.embed,n);if(o)return o;if(s.embed.link){const n=await Rm(t,e,s.embed.link.uri);if("record"===n.type)return{$type:"app.bsky.embed.record",record:n.record}}}async function C_(e,t,s,n){if("images"===s.media?.type){const t=s.media.images;ys.debug("Uploading images",{count:t.length}),n?.(cs.i18n._({id:"cqkI3p"}));return{$type:"app.bsky.embed.images",images:await Promise.all(t.map((async(t,s)=>{ys.debug(`Compressing image #${s}`);const{path:n,width:o,height:r,mime:i}=await sm(t);ys.debug(`Uploading image #${s}`);return{image:(await v_(e,n,i)).data.blob,alt:t.alt,aspectRatio:{width:o,height:r}}})))}}if("video"===s.media?.type&&"done"===s.media.video.status){const t=s.media.video,n=await Promise.all(t.captions.filter((e=>""!==e.lang)).map((async t=>{const{data:s}=await e.uploadBlob(t.file,{encoding:"text/vtt"});return{lang:t.lang,file:s.blob}})));return{$type:"app.bsky.embed.video",video:t.pendingPublish.blobRef,alt:t.altText||void 0,captions:0===n.length?void 0:n,aspectRatio:{width:t.asset.width,height:t.asset.height}}}if("gif"===s.media?.type){const o=s.media,r=await function(e,t,s){return e.fetchQuery({staleTime:Ld.HOURS.ONE,queryKey:Am(s.url),queryFn:async()=>await Pm(0,s)})}(t,0,o.gif);let i;if(r.thumb){n?.(cs.i18n._({id:"pATQKk"}));const{path:t,mime:s}=r.thumb.source;i=(await v_(e,t,s)).data.blob}return{$type:"app.bsky.embed.external",external:{uri:r.uri,title:r.title,description:wm(r.title,o.alt),thumb:i}}}if(s.link){const o=await Rm(t,e,s.link.uri);if("external"===o.type){let t;if(o.thumb){n?.(cs.i18n._({id:"pATQKk"}));const{path:s,mime:r}=o.thumb.source;t=(await v_(e,s,r)).data.blob}return{$type:"app.bsky.embed.external",external:{uri:o.uri,title:o.title,description:o.description,thumb:t}}}}}async function P_(e,t,s){const n=await Rm(t,e,s);if("record"!==n.type)throw Error(cs.i18n._({id:"83UxIL"}));return n.record}const T_=rg.from({name:"sha2-256",code:18,encode:e=>{const t=Um.sha256.arrayBuffer(e);return new Uint8Array(t)}});async function L_(e){const t=A_(e),s=ng.encode(t),n=await T_.digest(s);return og.CID.createV1(113,n).toString()}function A_(e){if(e instanceof Is.BlobRef)return e.ipld();if(Array.isArray(e)){let t=!0;const s=e.map((e=>(e!==(e=A_(e))&&(t=!1),e)));return t?e:s}if(function(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(e)){const t={};let s=!0;for(const n in e){let o=e[n];void 0!==o?(o!==(o=A_(o))&&(s=!1),t[n]=o):s=!1}return s?e:t}return e}function I_(){const e=new Error;return e.name="AbortError",e}function R_({initialState:e,runMutation:t,onSuccess:s}){const[n]=(0,mt.useState)({activeTask:null,queuedTask:null});function o(o){return new Promise(((r,i)=>{n.queuedTask&&n.queuedTask.reject(new I_),n.queuedTask={isOn:o,resolve:r,reject:i},async function(){if(n.activeTask)return;let o=e;try{for(;n.queuedTask;){const e=n.activeTask,s=n.queuedTask;if(n.activeTask=s,n.queuedTask=null,e?.isOn!==s.isOn)try{o=await t(o,s.isOn),s.resolve(o)}catch(r){s.reject(r)}else e.reject(new I_)}}finally{s(o),n.activeTask=null,n.queuedTask=null}}()}))}const r=(0,mt.useRef)(o);(0,mt.useEffect)((()=>{r.current=o}));return(0,mt.useCallback)((e=>(0,r.current)(e)),[])}var D_=s(79153);const F_="actor-search",E_=`${F_}_paginated`,M_=(e,t)=>[E_,e,t];function B_(e){const t=(0,i.c)(7),{query:s,enabled:n}=e,o=bh(),r=s||"";let a,l;return t[0]!==r?(a=(e=>[F_,e])(r),t[0]=r,t[1]=a):a=t[1],t[2]!==o||t[3]!==n||t[4]!==s||t[5]!==a?(l={staleTime:Ld.MINUTES.ONE,queryKey:a,queryFn:async()=>(await o.searchActors({q:s})).data.actors,enabled:n&&!!s},t[2]=o,t[3]=n,t[4]=s,t[5]=a,t[6]=l):l=t[6],(0,vd.useQuery)(l)}function O_(e){const t=(0,i.c)(12),{query:s,enabled:n,maintainData:o,limit:r}=e,a=void 0===r?25:r,l=bh();let c,d;t[0]!==a||t[1]!==s?(c=M_(s,a),t[0]=a,t[1]=s,t[2]=c):c=t[2],t[3]!==l||t[4]!==a||t[5]!==s?(d=async e=>{const{pageParam:t}=e;return(await l.searchActors({q:s,limit:a,cursor:t})).data},t[3]=l,t[4]=a,t[5]=s,t[6]=d):d=t[6];const u=n&&!!s,m=o?sg.keepPreviousData:void 0;let h;return t[7]!==c||t[8]!==d||t[9]!==u||t[10]!==m?(h={staleTime:Ld.MINUTES.FIVE,queryKey:c,queryFn:d,enabled:u,initialPageParam:void 0,getNextPageParam:z_,placeholderData:m},t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h):h=t[11],(0,Dp.useInfiniteQuery)(h)}function z_(e){return e.cursor}const H_="profile-known-followers";function N_(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=(e=>[H_,e])(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e||t[4]!==o?(r={queryKey:o,async queryFn(t){const{pageParam:n}=t;return(await s.app.bsky.graph.getKnownFollowers({actor:e,limit:50,cursor:n})).data},initialPageParam:void 0,getNextPageParam:V_,enabled:!!e},t[2]=s,t[3]=e,t[4]=o,t[5]=r):r=t[5],(0,Dp.useInfiniteQuery)(r)}function V_(e){return e.cursor}const q_=30,U_="list-members",W_="list-members-all",Z_=e=>[U_,e],Q_=e=>[W_,e];function K_(e){return e.cursor}function $_(e){const t=(0,i.c)(9),s=bh(),n=e??"";let o,r;t[0]!==n?(o=Q_(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e?(r=async()=>G_(s,e),t[2]=s,t[3]=e,t[4]=r):r=t[4];const a=Boolean(e);let l;return t[5]!==o||t[6]!==r||t[7]!==a?(l={staleTime:Ld.MINUTES.ONE,queryKey:o,queryFn:r,enabled:a},t[5]=o,t[6]=r,t[7]=a,t[8]=l):l=t[8],(0,vd.useQuery)(l)}async function G_(e,t){let s,n=!0;const o=[];let r=0;for(;n&&r<6;){const i=await e.app.bsky.graph.getList({list:t,limit:50,cursor:s});o.push(...i.data.items),n=Boolean(i.data.cursor),s=i.data.cursor,r++}return o}async function Y_({queryClient:e,uri:t}){await e.invalidateQueries({queryKey:Z_(t)})}const J_="my-blocked-accounts",X_=()=>[J_];function ey(e){return e.cursor}const ty="my-muted-accounts",sy=()=>[ty];function ny(e){return e.cursor}const oy=30,ry="liked-by",iy=e=>[ry,e];function ay(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=iy(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e||t[4]!==o?(r={queryKey:o,async queryFn(t){const{pageParam:n}=t;return(await s.getLikes({uri:e||"",limit:oy,cursor:n})).data},initialPageParam:void 0,getNextPageParam:ly,enabled:!!e},t[2]=s,t[3]=e,t[4]=o,t[5]=r):r=t[5],(0,Dp.useInfiniteQuery)(r)}function ly(e){return e.cursor}const cy=30,dy="post-reposted-by",uy=e=>[dy,e];function my(e){return e.cursor}const hy=30,py="profile-followers",fy=e=>[py,e];function gy(e){return e.cursor}const xy=30,_y="profile-follows",yy=e=>[_y,e];function by(e,t){const s=(0,i.c)(9);let n;s[0]!==t?(n=void 0===t?{limit:xy}:t,s[0]=t,s[1]=n):n=s[1];const{limit:o}=n,r=bh(),a=e||"";let l,c;return s[2]!==a?(l=yy(a),s[2]=a,s[3]=l):l=s[3],s[4]!==r||s[5]!==e||s[6]!==o||s[7]!==l?(c={staleTime:Ld.MINUTES.ONE,queryKey:l,async queryFn(t){const{pageParam:s}=t;return(await r.app.bsky.graph.getFollows({actor:e||"",limit:o||xy,cursor:s})).data},initialPageParam:void 0,getNextPageParam:jy,enabled:!!e},s[4]=r,s[5]=e,s[6]=o,s[7]=l,s[8]=c):c=s[8],(0,Dp.useInfiniteQuery)(c)}function jy(e){return e.cursor}const vy="suggested-follows",wy="suggested-follows-by-actor",Sy=e=>[wy,e];function ky(e){return!e.viewer?.following}function*Cy(e,t){yield*function*(e,t){const s=e.getQueriesData({queryKey:[vy]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.actors)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[wy]});for(const[n,o]of s)if(o)for(const e of o.suggestions)e.did===t&&(yield e)}(e,t)}const Py="unspecced-suggested-users",Ty=e=>[Py,e.category,e.limit];function Ly(e){const t=(0,i.c)(10),s=bh(),{data:n}=Fh(),o=!!n&&!1!==e.enabled;let r,a,l;return t[0]!==e?(r=Ty(e),t[0]=e,t[1]=r):r=t[1],t[2]!==s||t[3]!==n||t[4]!==e?(a=async()=>{const t=Xc().join(","),{data:o}=await s.app.bsky.unspecced.getSuggestedUsers({category:e.category??void 0,limit:e.limit||10},{headers:Object.assign({},dg(ug(n)),{"Accept-Language":t})});return o},t[2]=s,t[3]=n,t[4]=e,t[5]=a):a=t[5],t[6]!==o||t[7]!==r||t[8]!==a?(l={enabled:o,staleTime:Ld.MINUTES.THREE,queryKey:r,queryFn:a},t[6]=o,t[7]=r,t[8]=a,t[9]=l):l=t[9],(0,vd.useQuery)(l)}const Ay=new WeakMap,Iy=new At.default;function Ry(e){const t=(0,i.c)(10);let s;t[0]!==e?(s=()=>Ay.get(e),t[0]=e,t[1]=s):s=t[1];const[n,o]=(0,mt.useState)(s),[r,a]=(0,mt.useState)(e);let l,c,d;if(e!==r&&(a(e),o(Ay.get(e))),t[2]!==e?(l=()=>{const t=function(){o(Ay.get(e))};return Iy.addListener(e.did,t),()=>{Iy.removeListener(e.did,t)}},c=[e],t[2]=e,t[3]=l,t[4]=c):(l=t[3],c=t[4]),(0,mt.useEffect)(l,c),n){let s;t[5]!==e||t[6]!==n?(s=Ey(e,n),t[5]=e,t[6]=n,t[7]=s):s=t[7],d=s}else{let s;t[8]!==e?(s=e,t[8]=e,t[9]=s):s=t[9],d=s}return d}function Dy(e){const t=(0,i.c)(10);let s;t[0]!==e?(s=()=>e?Ay.get(e):void 0,t[0]=e,t[1]=s):s=t[1];const[n,o]=(0,mt.useState)(s),[r,a]=(0,mt.useState)(e);let l,c,d;if(e!==r&&(a(e),o(e?Ay.get(e):void 0)),t[2]!==e?(l=()=>{if(!e)return;const t=function(){e&&o(Ay.get(e))};return Iy.addListener(e.did,t),()=>{Iy.removeListener(e.did,t)}},c=[e],t[2]=e,t[3]=l,t[4]=c):(l=t[3],c=t[4]),(0,mt.useEffect)(l,c),e)if(n){let s;t[5]!==e||t[6]!==n?(s=Ey(e,n),t[5]=e,t[6]=n,t[7]=s):s=t[7],d=s}else{let s;t[8]!==e?(s=e,t[8]=e,t[9]=s):s=t[9],d=s}else d=void 0;return d}function Fy(e,t,s){const n=function*(e,t){yield*function*(e,t){const s=e.getQueriesData({queryKey:[U_]});for(const[o,r]of s)if(r)for(const[e,n]of s)if(n?.pages)for(const s of n?.pages){s.list.creator.did===t&&(yield s.list.creator);for(const e of s.items)e.subject.did===t&&(yield e.subject)}const n=e.getQueriesData({queryKey:[W_]});for(const[o,r]of n)if(r)for(const e of r)e.subject.did===t&&(yield e.subject)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[J_]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.blocks)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[ty]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.mutes)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[ry]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.likes)s.actor.did===t&&(yield s.actor)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[dy]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.repostedBy)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[Lg]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.posts){s.author.did===t&&(yield s.author);const e=Ef(s.embed);e?.author.did===t&&(yield e.author)}}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[ab]});for(const[o,r]of s)r&&r.did===t&&(yield r);const n=e.getQueriesData({queryKey:[cb]});for(const[o,r]of n)if(r)for(let e of r.profiles)e.did===t&&(yield e)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[py]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.followers)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[_y]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.follows)s.did===t&&(yield s)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[Py]});for(const[n,o]of s)if(o)for(const e of o.actors)e.did===t&&(yield e)}(e,t),yield*Cy(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[F_]});for(const[o,r]of s)if(r)for(const e of r)e.did===t&&(yield e);const n=e.getQueriesData({queryKey:[E_]});for(const[o,r]of n)if(r)for(const e of r.pages.flatMap((e=>e.actors)))e.did===t&&(yield e)}(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[Kp]});for(const[n,o]of s)if(o?.pages)for(const e of o.pages)for(const s of e.convos)for(const e of s.members)e.did===t&&(yield e)}(e,t),yield*Gx(e,t),yield*a_(e,t),yield*function*(e,t){const s=e.getQueriesData({queryKey:[H_]});for(const[n,o]of s)if(o?.pages)for(const e of o?.pages)for(const s of e.followers)s.did===t&&(yield s)}(e,t),yield*Pg(e,t)}(e,t);for(let o of n)Ay.set(o,Object.assign({},Ay.get(o),s));(0,D_.unstable_batchedUpdates)((()=>{Iy.emit(t,s)}))}function Ey(e,t){return Object.assign({},e,{viewer:Object.assign({},e.viewer||{},{following:"followingUri"in t?t.followingUri:e.viewer?.following,muted:"muted"in t?t.muted:e.viewer?.muted,blocking:"blockingUri"in t?t.blockingUri:e.viewer?.blocking}),verification:"verification"in t?t.verification:e.verification,status:"status"in t?t.status:"status"in e?e.status:void 0})}const My=e=>["unstableProfileViewCache",e];function By(e,t){e.setQueryData(My(t.handle),t),e.setQueryData(My(t.did),t)}function Oy(){const e=(0,i.c)(4),t=(0,wd.useQueryClient)();let s;e[0]!==t?(s=e=>t.getQueryData(My(e)),e[0]=t,e[1]=s):s=e[1];const n=s;let o;return e[2]!==n?(o={getUnstableProfile:n},e[2]=n,e[3]=o):o=e[3],o}function zy(){const e=(0,wd.useQueryClient)(),t=bh();return(0,mt.useCallback)((async({profile:s})=>{try{const{data:n}=await t.getProfile({actor:s.did??""});Fy(e,s.did,{verification:n.verification})}catch(n){ys.error("useUpdateProfileVerificationCache failed",{safeMessage:n})}}),[t,e])}var Hy=s(36459),Ny=s(60578);const Vy=["playOnMount"],qy=["fill","size","style"],Uy=ko.default.createAnimatedComponent(Ir.Path),Wy=ko.default.createAnimatedComponent(Ir.Circle),Zy={code:"function AnimatedCheckTsx1(){const{circleAnim}=this.__closure;return{strokeDashoffset:166-circleAnim.get()*166};}"},Qy={code:"function AnimatedCheckTsx2(){const{checkAnim}=this.__closure;return{strokeDashoffset:48-48*checkAnim.get()};}"},Ky=mt.forwardRef((function(e,t){const s=(0,i.c)(29);let n,o;if(s[0]!==e){var r=e;({playOnMount:n}=r),o=(0,ls.default)(r,Vy),s[0]=e,s[1]=n,s[2]=o}else n=s[1],o=s[2];const a=Fr(o);let l,c,d,u;if(s[3]!==a){var m=a;({fill:l,size:d,style:u}=m),c=(0,ls.default)(m,qy),s[3]=a,s[4]=l,s[5]=c,s[6]=d,s[7]=u}else l=s[4],c=s[5],d=s[6],u=s[7];const h=(0,ko.useSharedValue)(0),p=(0,ko.useSharedValue)(0),f=(0,ko.useAnimatedProps)(function(){const e=()=>({strokeDashoffset:166-166*h.get()});return e.__closure={circleAnim:h},e.__workletHash=2968084972925,e.__initData=Zy,e}()),g=(0,ko.useAnimatedProps)(function(){const e=()=>({strokeDashoffset:48-48*p.get()});return e.__closure={checkAnim:p},e.__workletHash=0x95ca8f4b29e,e.__initData=Qy,e}());let x;s[8]!==p||s[9]!==h?(x=e=>{h.set(0),p.set(0),h.set($y),p.set((()=>(0,ko.withDelay)(500,(0,ko.withTiming)(1,{duration:300,easing:ko.Easing.linear},e))))},s[8]=p,s[9]=h,s[10]=x):x=s[10];const _=x;let y,b,j,v,w,S;return s[11]!==_?(y=()=>({play:_}),s[11]=_,s[12]=y):y=s[12],mt.useImperativeHandle(t,y),s[13]!==_||s[14]!==n?(b=()=>{n&&_()},j=[_,n],s[13]=_,s[14]=n,s[15]=b,s[16]=j):(b=s[15],j=s[16]),mt.useEffect(b,j),s[17]!==f||s[18]!==l?(v=(0,Ft.jsx)(Wy,{animatedProps:f,cx:"26",cy:"26",r:"24",fill:"none",stroke:l,strokeWidth:4,strokeDasharray:166}),s[17]=f,s[18]=l,s[19]=v):v=s[19],s[20]!==g||s[21]!==l?(w=(0,Ft.jsx)(Uy,{animatedProps:g,stroke:l,d:"M14.1 27.2l7.1 7.2 16.7-16.8",strokeWidth:4,strokeDasharray:48}),s[20]=g,s[21]=l,s[22]=w):w=s[22],s[23]!==c||s[24]!==d||s[25]!==u||s[26]!==v||s[27]!==w?(S=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none"},c,{viewBox:"0 0 52 52",width:d,height:d,style:u,children:[v,w]})),s[23]=c,s[24]=d,s[25]=u,s[26]=v,s[27]=w,s[28]=S):S=s[28],S}));function $y(){return(0,ko.withTiming)(1,{duration:500,easing:ko.Easing.linear})}const Gy={code:"function ToastTsx1(){const{runOnJS,setIsntOpen}=this.__closure;return runOnJS(setIsntOpen)();}"},Yy={code:"function ToastTsx2(){const{runOnJS,playCheckmark}=this.__closure;return runOnJS(playCheckmark)();}"},Jy={code:"function ToastTsx3(){const{translateY,opacity}=this.__closure;return{transform:[{translateY:translateY.get()}],opacity:opacity.get()};}"},Xy=mt.forwardRef((function(e,t){const s=(0,i.c)(24),{title:n,subtitle:o,visibleDuration:r}=e,a=ec(),{_:l}=(0,ft.useLingui)(),c=(0,pt.useSafeAreaInsets)(),[d,u]=mt.useState(!1),m=(0,ko.useSharedValue)(0),h=(0,ko.useSharedValue)(0),p=mt.useRef(null),f=mt.useRef(),g=(0,Ny.default)();let x;s[0]!==h?(x=()=>{f.current&&(clearTimeout(f.current),f.current=void 0);const e=()=>u(!1);h.set((()=>(0,ko.withTiming)(0,{duration:400,easing:ko.Easing.out(ko.Easing.cubic)},function(){const t=()=>(0,ko.runOnJS)(e)();return t.__closure={runOnJS:ko.runOnJS,setIsntOpen:e},t.__workletHash=4376022584272,t.__initData=Gy,t}())))},s[0]=h,s[1]=x):x=s[1];const _=x;let y;s[2]!==_||s[3]!==c||s[4]!==h||s[5]!==m||s[6]!==r?(y=()=>{u(!0);const e=()=>p.current?.play();h.set(0),h.set((()=>(0,ko.withTiming)(1,{duration:100,easing:ko.Easing.out(ko.Easing.cubic)},function(){const t=()=>(0,ko.runOnJS)(e)();return t.__closure={runOnJS:ko.runOnJS,playCheckmark:e},t.__workletHash=9270623147731,t.__initData=Yy,t}()))),m.set(0),m.set((()=>(0,ko.withTiming)(c.top+10,{duration:500,easing:ko.Easing.out(ko.Easing.cubic)}))),f.current=setTimeout(_,r||5e3)},s[2]=_,s[3]=c,s[4]=h,s[5]=m,s[6]=r,s[7]=y):y=s[7];const b=y;let j,v,w;s[8]!==_||s[9]!==b?(j=()=>({open:b,close:_}),v=[b,_],s[8]=_,s[9]=b,s[10]=j,s[11]=v):(j=s[10],v=s[11]),(0,mt.useImperativeHandle)(t,j,v);let S,k=10,C=10;Pt&&g.width>400&&(k=C=(g.width-380)/2),s[12]!==k||s[13]!==C?(S={position:Pt?"fixed":"absolute",top:0,left:k,right:C},s[12]=k,s[13]=C,s[14]=S):S=s[14],w=S;const P=w,T=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:m.get()}],opacity:h.get()});return e.__closure={translateY:m,opacity:h},e.__workletHash=964791180936,e.__initData=Jy,e}());let L;return s[15]!==l||s[16]!==T||s[17]!==_||s[18]!==P||s[19]!==d||s[20]!==o||s[21]!==a||s[22]!==n?(L=d&&(0,Ft.jsx)(Wr,{children:(0,Ft.jsx)(ko.default.View,{style:[P,T],children:(0,Ft.jsxs)(tr.default,{style:[a.atoms.bg,kl.flex_row,kl.align_center,kl.gap_md,kl.border,a.atoms.border_contrast_high,kl.rounded_md,kl.px_lg,kl.py_md,kl.shadow_sm,{shadowRadius:8,shadowOpacity:.1,shadowOffset:{width:0,height:2},elevation:8}],onPress:_,accessibilityLabel:l({id:"ZrwUC5"}),accessibilityHint:"",children:[(0,Ft.jsx)(Ky,{fill:a.palette.primary_500,ref:p}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold],children:n}),o&&(0,Ft.jsx)(fr,{style:[kl.text_sm,a.atoms.text_contrast_medium],children:o})]})]})})}),s[15]=l,s[16]=T,s[17]=_,s[18]=P,s[19]=d,s[20]=o,s[21]=a,s[22]=n,s[23]=L):L=s[23],L}));let eb=function(e){return e.Like="like",e.Follow="follow",e}({});const tb=mt.createContext(void 0),sb=mt.createContext({startProgressGuide:e=>{},endProgressGuide:()=>{},captureAction:(e,t=1)=>{}});function nb(e){const t=mt.useContext(tb);if(t?.guide===e)return t}function ob(){return mt.useContext(sb)}function rb({children:e}){const{_:t}=(0,ft.useLingui)(),{data:s}=Fh(),{mutateAsync:n,variables:o,isPending:r}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.bskyAppSetActiveProgressGuide(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),a=(0,mt.useMemo)((()=>{const e=r?o:s?.bskyAppState?.activeProgressGuide;if(!e)return;const t=Object.assign({},((0,Hy.default)(e),e));return"like-10-and-follow-7"===t?.guide?(t.numLikes=Number(t.numLikes)||0,t.numFollows=Number(t.numFollows)||0):"follow-10"===t?.guide&&(t.numFollows=Number(t.numFollows)||0),t}),[r,o,s]),[l,c]=mt.useState(void 0);a&&!l&&c(a);const d=mt.useRef(null),u=mt.useRef(null),m=mt.useRef(null),h=mt.useRef(null),p=mt.useRef(null),f=mt.useMemo((()=>({startProgressGuide(e){if("like-10-and-follow-7"===e){const e={guide:"like-10-and-follow-7",numLikes:0,numFollows:0,isComplete:!1};c(e),n(e)}else if("follow-10"===e){const e={guide:"follow-10",numFollows:0,isComplete:!1};c(e),n(e)}},endProgressGuide(){c(void 0),n(void 0),En("progressGuide:hide",{})},captureAction(e,t=1){let s=a;s&&!s?.isComplete&&("like-10-and-follow-7"===s?.guide?(e===eb.Like&&(s=Object.assign({},s,{numLikes:(Number(s.numLikes)||0)+t}),1===s.numLikes&&d.current?.open(),5===s.numLikes&&u.current?.open(),10===s.numLikes&&m.current?.open()),e===eb.Follow&&(s=Object.assign({},s,{numFollows:(Number(s.numFollows)||0)+t})),Number(s.numLikes)>=10&&Number(s.numFollows)>=7&&(s=Object.assign({},s,{isComplete:!0}))):"follow-10"===s?.guide&&(e===eb.Follow&&(s=Object.assign({},s,{numFollows:(Number(s.numFollows)||0)+t}),5===s.numFollows&&h.current?.open(),10===s.numFollows&&p.current?.open()),Number(s.numFollows)>=10&&(s=Object.assign({},s,{isComplete:!0}))),c(s),n(s?.isComplete?void 0:s))}})),[a,n,c]);return(0,Ft.jsx)(tb.Provider,{value:l,children:(0,Ft.jsxs)(sb.Provider,{value:f,children:[e,"like-10-and-follow-7"===l?.guide&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Xy,{ref:d,title:t({id:"DtIhbg"}),subtitle:t({id:"D1uGDt"})}),(0,Ft.jsx)(Xy,{ref:u,title:t({id:"OtFrAJ"}),subtitle:t({id:"D1uGDt"})}),(0,Ft.jsx)(Xy,{ref:m,title:t({id:"zo1+Du"}),subtitle:t({id:"5hnfnT"})}),(0,Ft.jsx)(Xy,{ref:h,title:t({id:"OtFrAJ"}),subtitle:t({id:"kHYlRE"})}),(0,Ft.jsx)(Xy,{ref:p,title:t({id:"tidTlL"}),subtitle:t({id:"qC0pAu"})})]})]})})}const ib=By,ab="profile",lb=e=>[ab,e],cb="profiles",db=e=>[cb,e];function ub(e){const t=(0,i.c)(14),{did:s,staleTime:n}=e,o=void 0===n?Ld.SECONDS.FIFTEEN:n,r=bh(),{getUnstableProfile:a}=Oy(),l=s??"";let c,d,u;t[0]!==l?(c=lb(l),t[0]=l,t[1]=c):c=t[1],t[2]!==r||t[3]!==s?(d=async()=>(await r.getProfile({actor:s??""})).data,t[2]=r,t[3]=s,t[4]=d):d=t[4],t[5]!==s||t[6]!==a?(u=()=>{if(s)return a(s)},t[5]=s,t[6]=a,t[7]=u):u=t[7];const m=!!s;let h;return t[8]!==o||t[9]!==c||t[10]!==d||t[11]!==u||t[12]!==m?(h={staleTime:o,refetchOnWindowFocus:!0,queryKey:c,queryFn:d,placeholderData:u,enabled:m},t[8]=o,t[9]=c,t[10]=d,t[11]=u,t[12]=m,t[13]=h):h=t[13],(0,vd.useQuery)(h)}function mb(e){const t=(0,i.c)(9),{handles:s,maintainData:n}=e,o=bh();let r,a;t[0]!==s?(r=db(s),t[0]=s,t[1]=r):r=t[1],t[2]!==o||t[3]!==s?(a=async()=>(await o.getProfiles({actors:s})).data,t[2]=o,t[3]=s,t[4]=a):a=t[4];const l=n?sg.keepPreviousData:void 0;let c;return t[5]!==r||t[6]!==a||t[7]!==l?(c={staleTime:Ld.MINUTES.FIVE,queryKey:r,queryFn:a,placeholderData:l},t[5]=r,t[6]=a,t[7]=l,t[8]=c):c=t[8],(0,vd.useQuery)(c)}function hb(){const e=(0,i.c)(3),t=bh(),s=(0,wd.useQueryClient)();let n;e[0]!==t||e[1]!==s?(n=async e=>{await s.prefetchQuery({staleTime:Ld.SECONDS.THIRTY,queryKey:lb(e),queryFn:async()=>(await t.getProfile({actor:e||""})).data})},e[0]=t,e[1]=s,e[2]=n):n=e[2];return n}function pb(){const e=(0,i.c)(6),t=(0,wd.useQueryClient)(),s=bh(),n=zy();let o,r;return e[0]!==s?(o=async e=>{const{profile:t,updates:n,newUserAvatar:o,newUserBanner:r,checkCommitted:i}=e;let a,l;o&&(a=v_(s,o.path,o.mime)),r&&(l=v_(s,r.path,r.mime)),await s.upsertProfile((async e=>{let t=e||{};if("function"===typeof n?t=n(t):(t.displayName=n.displayName,t.description=n.description,"pinnedPost"in n&&(t.pinnedPost=n.pinnedPost)),a){const e=await a;t.avatar=e.data.blob}else null===o&&(t.avatar=void 0);if(l){const e=await l;t.banner=e.data.blob}else null===r&&(t.banner=void 0);return t})),await async function(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.actor.getProfile({actor:t})))}(s,t.did,i||(e=>{if("undefined"!==typeof o){if(null===o&&e.data.avatar)return!1;if(e.data.avatar===t.avatar)return!1}if("undefined"!==typeof r){if(null===r&&e.data.banner)return!1;if(e.data.banner===t.banner)return!1}return"function"===typeof n||e.data.displayName===n.displayName&&e.data.description===n.description}))},e[0]=s,e[1]=o):o=e[1],e[2]!==t||e[3]!==o||e[4]!==n?(r={mutationFn:o,async onSuccess(e,s){t.invalidateQueries({queryKey:lb(s.profile.did)}),t.invalidateQueries({queryKey:[cb,[s.profile.did]]}),await n({profile:s.profile})}},e[2]=t,e[3]=o,e[4]=n,e[5]=r):r=e[5],(0,Sd.useMutation)(r)}function fb(e,t){const s=(0,i.c)(21),n=bh(),o=(0,wd.useQueryClient)(),r=e.did,a=e.viewer?.following,l=function(e,t){const s=(0,i.c)(7),{currentAccount:n}=xh(),o=bh(),r=(0,wd.useQueryClient)(),{captureAction:a}=ob();let l;s[0]!==o||s[1]!==a||s[2]!==n||s[3]!==e||s[4]!==t||s[5]!==r?(l={mutationFn:async s=>{const{did:i}=s;let l;return n&&(l=jb(r,n.did)),a(eb.Follow),En("profile:follow",{logContext:e,didBecomeMutual:t.viewer?Boolean(t.viewer.followedBy):void 0,followeeClout:"followersCount"in t?Fn(t.followersCount):void 0,followerClout:Fn(l?.followersCount)}),await o.follow(i)}},s[0]=o,s[1]=a,s[2]=n,s[3]=e,s[4]=t,s[5]=r,s[6]=l):l=s[6];return(0,Sd.useMutation)(l)}(t,e),c=function(e){const t=(0,i.c)(3),s=bh();let n;t[0]!==s||t[1]!==e?(n={mutationFn:async t=>{const{followUri:n}=t;return En("profile:unfollow",{logContext:e}),await s.deleteFollow(n)}},t[0]=s,t[1]=e,t[2]=n):n=t[2];return(0,Sd.useMutation)(n)}(t);let d,u;s[0]!==r||s[1]!==l||s[2]!==c?(d=async(e,t)=>{if(t){const{uri:e}=await l.mutateAsync({did:r});return s=[r],dx.follows=dx.follows.concat(s).slice(-ax),e}var s;e&&(await c.mutateAsync({did:r,followUri:e}),function(e){dx.follows=dx.follows.filter((t=>!e.includes(t)))}([r]))},s[0]=r,s[1]=l,s[2]=c,s[3]=d):d=s[3],s[4]!==n||s[5]!==r||s[6]!==a||s[7]!==o||s[8]!==d?(u={initialState:a,runMutation:d,onSuccess(e){Fy(o,r,{followingUri:e}),e&&n.app.bsky.graph.getSuggestedFollowsByActor({actor:r}).then(gb)}},s[4]=n,s[5]=r,s[6]=a,s[7]=o,s[8]=d,s[9]=u):u=s[9];const m=R_(u);let h;s[10]!==r||s[11]!==o||s[12]!==m?(h=()=>(Fy(o,r,{followingUri:"pending"}),m(!0)),s[10]=r,s[11]=o,s[12]=m,s[13]=h):h=s[13];const p=h;let f;s[14]!==r||s[15]!==o||s[16]!==m?(f=()=>(Fy(o,r,{followingUri:void 0}),m(!1)),s[14]=r,s[15]=o,s[16]=m,s[17]=f):f=s[17];const g=f;let x;return s[18]!==p||s[19]!==g?(x=[p,g],s[18]=p,s[19]=g,s[20]=x):x=s[20],x}function gb(e){!function(e){dx.followSuggestions=dx.followSuggestions.concat(e).slice(-lx)}(e.data.suggestions.filter(_b).map(xb).slice(0,8))}function xb(e){return e.did}function _b(e){return!e.viewer?.following}function yb(e){const t=(0,i.c)(20),s=(0,wd.useQueryClient)(),n=e.did,o=e.viewer?.muted,r=function(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;e[0]!==s?(n=async e=>{const{did:t}=e;await s.mute(t)},e[0]=s,e[1]=n):n=e[1];e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:sy()})}},e[2]=t,e[3]=n,e[4]=o):o=e[4];return(0,Sd.useMutation)(o)}(),a=function(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;e[0]!==s?(n=async e=>{const{did:t}=e;await s.unmute(t)},e[0]=s,e[1]=n):n=e[1];e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:sy()})}},e[2]=t,e[3]=n,e[4]=o):o=e[4];return(0,Sd.useMutation)(o)}();let l,c;t[0]!==n||t[1]!==r||t[2]!==a?(l=async(e,t)=>t?(await r.mutateAsync({did:n}),!0):(await a.mutateAsync({did:n}),!1),t[0]=n,t[1]=r,t[2]=a,t[3]=l):l=t[3],t[4]!==n||t[5]!==o||t[6]!==s||t[7]!==l?(c={initialState:o,runMutation:l,onSuccess(e){Fy(s,n,{muted:e})}},t[4]=n,t[5]=o,t[6]=s,t[7]=l,t[8]=c):c=t[8];const d=R_(c);let u;t[9]!==n||t[10]!==s||t[11]!==d?(u=()=>(Fy(s,n,{muted:!0}),d(!0)),t[9]=n,t[10]=s,t[11]=d,t[12]=u):u=t[12];const m=u;let h;t[13]!==n||t[14]!==s||t[15]!==d?(h=()=>(Fy(s,n,{muted:!1}),d(!1)),t[13]=n,t[14]=s,t[15]=d,t[16]=h):h=t[16];const p=h;let f;return t[17]!==m||t[18]!==p?(f=[m,p],t[17]=m,t[18]=p,t[19]=f):f=t[19],f}function bb(e){const t=(0,i.c)(20),s=(0,wd.useQueryClient)(),n=e.did,o=e.viewer?.blocking,r=function(){const e=(0,i.c)(6),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)();let o,r;e[0]!==s||e[1]!==t?(o=async e=>{const{did:n}=e;if(!t)throw new Error("Not signed in");return await s.app.bsky.graph.block.create({repo:t.did},{subject:n,createdAt:(new Date).toISOString()})},e[0]=s,e[1]=t,e[2]=o):o=e[2];e[3]!==n||e[4]!==o?(r={mutationFn:o,onSuccess(e,t){const{did:s}=t;n.invalidateQueries({queryKey:X_()}),Yx(n,s,1e3)}},e[3]=n,e[4]=o,e[5]=r):r=e[5];return(0,Sd.useMutation)(r)}(),a=function(){const e=(0,i.c)(6),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)();let o,r;e[0]!==s||e[1]!==t?(o=async e=>{const{blockUri:n}=e;if(!t)throw new Error("Not signed in");const{rkey:o}=new Is.AtUri(n);await s.app.bsky.graph.block.delete({repo:t.did,rkey:o})},e[0]=s,e[1]=t,e[2]=o):o=e[2];e[3]!==n||e[4]!==o?(r={mutationFn:o,onSuccess(e,t){const{did:s}=t;Yx(n,s,1e3)}},e[3]=n,e[4]=o,e[5]=r):r=e[5];return(0,Sd.useMutation)(r)}();let l,c;t[0]!==r||t[1]!==n||t[2]!==a?(l=async(e,t)=>{if(t){const{uri:e}=await r.mutateAsync({did:n});return e}e&&await a.mutateAsync({did:n,blockUri:e})},t[0]=r,t[1]=n,t[2]=a,t[3]=l):l=t[3],t[4]!==n||t[5]!==o||t[6]!==s||t[7]!==l?(c={initialState:o,runMutation:l,onSuccess(e){Fy(s,n,{blockingUri:e}),s.invalidateQueries({queryKey:[Kp]})}},t[4]=n,t[5]=o,t[6]=s,t[7]=l,t[8]=c):c=t[8];const d=R_(c);let u;t[9]!==n||t[10]!==s||t[11]!==d?(u=()=>(Fy(s,n,{blockingUri:"pending"}),d(!0)),t[9]=n,t[10]=s,t[11]=d,t[12]=u):u=t[12];const m=u;let h;t[13]!==n||t[14]!==s||t[15]!==d?(h=()=>(Fy(s,n,{blockingUri:void 0}),d(!1)),t[13]=n,t[14]=s,t[15]=d,t[16]=h):h=t[16];const p=h;let f;return t[17]!==m||t[18]!==p?(f=[m,p],t[17]=m,t[18]=p,t[19]=f):f=t[19],f}function jb(e,t){return e.getQueryData(lb(t))}const vb=["like","repost","follow"],wb=1728e5;async function Sb({agent:e,cursor:t,limit:s,queryClient:n,moderationOpts:o,fetchAdditionalData:r,reasons:i}){const a=await e.listNotifications({limit:s,cursor:t,reasons:i}),l=a.data.notifications[0]?.indexedAt;let c=Cb(a.data.notifications.filter((e=>!kb(e,o))));if(r){const t=await async function(e,t){const s=new Set,n=new Set;for(const d of t)d.subjectUri?.includes("app.bsky.feed.post")?s.add(d.subjectUri):d.notification.reasonSubject?.includes("app.bsky.graph.starterpack")&&n.add(d.notification.reasonSubject);const o=qf()(Array.from(s),25),r=qf()(Array.from(n),25),i=await Promise.all(o.map((t=>e.app.bsky.feed.getPosts({uris:t}).then((e=>e.data.posts))))),a=await Promise.all(r.map((t=>e.app.bsky.graph.getStarterPacks({uris:t}).then((e=>e.data.starterPacks))))),l=new Map,c=new Map;for(const d of i.flat())Is.AppBskyFeedPost.isRecord(d.record)&&l.set(d.uri,d);for(const d of a.flat())Is.AppBskyGraphStarterpack.isRecord(d.record)&&c.set(d.uri,d);return{posts:l,starterPacks:c}}(e,c);for(const e of c)e.subjectUri&&("starterpack-joined"===e.type&&e.notification.reasonSubject?e.subject=t.starterPacks.get(e.notification.reasonSubject):(e.subject=t.posts.get(e.subjectUri),e.subject&&ib(n,e.subject.author)))}let d=a.data.seenAt?new Date(a.data.seenAt):new Date;return Number.isNaN(d.getTime())&&(d=new Date),{page:{cursor:a.data.cursor,seenAt:d,items:c,priority:a.data.priority??!1},indexedAt:l}}function kb(e,t){return!!e.author.labels?.some(Jf)||!!t&&(!e.author.viewer?.following&&(0,Is.moderateNotification)(e,t).ui("contentList").filter)}function Cb(e){const t=[];for(const s of e){const e=+new Date(s.indexedAt);let n=!1;if(vb.includes(s.reason))for(const o of t){const t=+new Date(o.notification.indexedAt);if(Math.abs(t-e)<wb&&s.reason===o.notification.reason&&s.reasonSubject===o.notification.reasonSubject&&s.author.did!==o.notification.author.did){const e="follow"===s.reason&&s.author.viewer?.following,t="follow"===o.notification.reason&&o.notification.author.viewer?.following;if(!(e||t)){o.additional=o.additional||[],o.additional.push(s),n=!0;break}}}if(!n){const e=Pb(s);"starterpack-joined"!==e?t.push({_reactKey:`notif-${s.uri}-${s.reason}`,type:e,notification:s,subjectUri:Tb(e,s)}):t.push({_reactKey:`notif-${s.uri}-${s.reason}`,type:"starterpack-joined",notification:s,subjectUri:s.uri})}}return t}function Pb(e){return"like"===e.reason?e.reasonSubject?.includes("feed.generator")?"feedgen-like":"post-like":"repost"===e.reason||"mention"===e.reason||"reply"===e.reason||"quote"===e.reason||"follow"===e.reason||"starterpack-joined"===e.reason||"verified"===e.reason||"unverified"===e.reason||"like-via-repost"===e.reason||"repost-via-repost"===e.reason?e.reason:"unknown"}function Tb(e,t){if("reply"===e||"quote"===e||"mention"===e)return t.uri;if("post-like"===e||"repost"===e||"like-via-repost"===e||"repost-via-repost"===e){if(If(t.record,Is.AppBskyFeedRepost.isRecord)||If(t.record,Is.AppBskyFeedLike.isRecord))return"string"===typeof t.record.subject?.uri?t.record.subject?.uri:void 0}else if("feedgen-like"===e)return t.reasonSubject}const Lb=30,Ab="notification-feed";function Ib(e){return[Ab,e]}function Rb(e){const t=(0,i.c)(19),s=bh(),n=(0,wd.useQueryClient)(),o=Op(),r=Vb(),a=!1!==e.enabled,l=e.filter,{uris:c}=Hf();let d,u;t[0]!==c||t[1]!==o?(u={moderationOpts:o,hiddenReplyUris:c},t[0]=c,t[1]=o,t[2]=u):u=t[2],d=u;const m=d,h=(0,mt.useRef)(null);let p,f;if(t[3]!==l?(p=Ib(l),t[3]=l,t[4]=p):p=t[4],t[5]!==s||t[6]!==a||t[7]!==l||t[8]!==o||t[9]!==n||t[10]!==m||t[11]!==p||t[12]!==r){let e;t[14]!==m?(e=e=>{const{moderationOpts:t,hiddenReplyUris:s}=m,n=[];if(h.current){const{data:t,args:s,result:o}=h.current;let r=!0;for(const e in m)if(m.hasOwnProperty(e)&&m[e]!==s[e]){r=!1;break}if(r)for(let i=0;i<e.pages.length&&(e.pages[i]&&t.pages[i]===e.pages[i]);i++)n.push(o.pages[i])}const o=e.pages[0]?.seenAt||new Date;for(const i of e.pages)for(const e of i.items)e.notification.isRead=o>new Date(e.notification.indexedAt);const r=Object.assign({},e,{pages:[...n,...e.pages.slice(n.length).map((e=>Object.assign({},e,{items:e.items.filter((e=>!("reply"===e.type&&e.subjectUri&&s.has(e.subjectUri)))).filter((e=>{if(("reply"===e.type||"mention"===e.type||"quote"===e.type)&&Is.AppBskyFeedPost.isRecord(e.subject?.record)){if((0,Is.moderatePost)(e.subject,t).ui("contentList").filter)return!1}return!0}))})))]});return h.current={data:e,result:r,args:m},r},t[14]=m,t[15]=e):e=t[15],f={staleTime:Ld.INFINITY,queryKey:p,async queryFn(e){const{pageParam:t}=e;let i;if("all"!==l||t||(i=r.getCachedUnreadPage()),!i){let e=[];"mentions"===l&&(e=["mention","reply","quote"]);const{page:r}=await Sb({agent:s,limit:Lb,cursor:t,queryClient:n,moderationOpts:o,fetchAdditionalData:!0,reasons:e});i=r}return"all"!==l||t||r.markAllRead(),i},initialPageParam:void 0,getNextPageParam:Db,enabled:a,select:e},t[5]=s,t[6]=a,t[7]=l,t[8]=o,t[9]=n,t[10]=m,t[11]=p,t[12]=r,t[13]=f}else f=t[13];const g=(0,Dp.useInfiniteQuery)(f),x=(0,mt.useRef)(0),_=(0,mt.useRef)(0),y=(0,mt.useRef)(0);let b,j;return t[16]!==g?(b=()=>{const{data:e,isLoading:t,isRefetching:s,isFetchingNextPage:n,hasNextPage:o}=g;let r=0;for(const i of e?.pages||[])r+=i.items.length;r!==x.current&&(r<x.current&&(_.current=r),x.current=r),t||s?_.current=Lb:n?r>_.current&&(_.current=r+Lb):o&&(r<_.current?(y.current=y.current+1,y.current<50&&g.fetchNextPage()):y.current=0)},j=[g],t[16]=g,t[17]=b,t[18]=j):(b=t[17],j=t[18]),(0,mt.useEffect)(b,j),g}function Db(e){return e.cursor}function*Fb(e,t){const s=new Is.AtUri(t),n=e.getQueriesData({queryKey:[Ab]});for(const[o,r]of n)if(r?.pages)for(const e of r?.pages)for(const t of e.items)if("starterpack-joined"!==t.type&&t.subject&&Ff(s,t.subject)&&(yield t.subject),Is.AppBskyFeedDefs.isPostView(t.subject)){const e=Ef(t.subject?.embed);e&&Ff(s,e)&&(yield Mf(e))}}const Eb=3e4,Mb=new bs("NOTIFS_BROADCAST_CHANNEL"),Bb=new At.default,Ob=mt.createContext(""),zb=mt.createContext({async markAllRead(){},async checkUnread(){},getCachedUnreadPage:()=>{}});function Hb({children:e}){const{hasSession:t}=xh(),s=bh(),n=(0,wd.useQueryClient)(),o=Op(),[r,i]=mt.useState(""),a=mt.useRef(null),l=mt.useRef({usableInFeed:!1,syncedAt:new Date,data:void 0,unreadCount:0});mt.useEffect((()=>{function e(){l.current&&(l.current.usableInFeed=!1)}return Bb.addListener("invalidate",e),()=>{Bb.removeListener("invalidate",e)}}),[]),mt.useEffect((()=>{if(!t||!a.current)return;a.current();const e=setInterval((()=>a.current?.({isPoll:!0})),Eb);return()=>clearInterval(e)}),[t]),mt.useEffect((()=>{const e=({data:e})=>{l.current={usableInFeed:!1,syncedAt:new Date,data:void 0,unreadCount:"30+"===e.event?30:""===e.event?0:parseInt(e.event,10)||1},i(e.event)};return Mb.addEventListener("message",e),()=>{Mb.removeEventListener("message",e)}}),[i]);const c=(0,mt.useRef)(!1),d=mt.useMemo((()=>({async markAllRead(){await s.updateSeenNotifications(l.current.syncedAt.toISOString()),i(""),Mb.postMessage({event:""}),async function(){await wf.setBadgeCountAsync(0),await(0,jf.default)(0)}()},async checkUnread({invalidate:e,isPoll:t}={}){try{if(!s.session)return;if("active"!==gt.default.currentState)return;if(t&&0!==l.current?.unreadCount&&(l.current?.unreadCount>=30||Math.random()>=.5))return;if(c.current)return;c.current=!0;const{page:r,indexedAt:a}=await Sb({agent:s,cursor:void 0,limit:40,queryClient:n,moderationOpts:o,reasons:[],fetchAdditionalData:!!e}),d=function(e){let t=0;for(const s of e.items)if(s.notification.isRead||t++,s.additional)for(const e of s.additional)e.isRead||t++;return t}(r),u=d>=30?"30+":0===d?"":String(d),m=new Date,h=a?new Date(a):void 0;l.current={usableInFeed:!!e,data:r,syncedAt:!h||m>h?m:h,unreadCount:d},i(u),e&&(Df(n,Ib("all")),Df(n,Ib("mentions"))),Mb.postMessage({event:u})}catch(r){ys.warn("Failed to check unread notifications",{error:r})}finally{c.current=!1}},getCachedUnreadPage(){if(l.current.usableInFeed)return l.current.data}})),[i,n,o,s]);return a.current=d.checkUnread,(0,Ft.jsx)(Ob.Provider,{value:r,children:(0,Ft.jsx)(zb.Provider,{value:d,children:e})})}function Nb(){return mt.useContext(Ob)}function Vb(){return mt.useContext(zb)}const qb=(0,mt.createContext)({enabled:!1}),Ub=(0,mt.createContext)(null);function Wb(e){const t=(0,i.c)(15),{children:s}=e,n=Yc(),{data:o,isLoading:r}=function(){const e=bh();return(0,vd.useQuery)({refetchOnWindowFocus:!0,staleTime:Ld.MINUTES.FIVE,queryKey:["service-config"],queryFn:async()=>{try{const{data:t}=await e.api.app.bsky.unspecced.getConfig();return{checkEmailConfirmed:Boolean(t.checkEmailConfirmed),topicsEnabled:Boolean(t.topicsEnabled),liveNow:t.liveNow??[]}}catch(t){return{checkEmailConfirmed:!1,topicsEnabled:!1,liveNow:[]}}}})}();let a;e:{if(n.contentLanguages.length&&!n.contentLanguages.includes("en")){let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e={enabled:!1},t[1]=e):e=t[1],a=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=Tn.get(["trendingBetaEnabled"]),t[2]=e):e=t[2];if(r){const s=Boolean(e);let n;t[3]!==s?(n={enabled:s},t[3]=s,t[4]=n):n=t[4],a=n;break e}const s=Boolean(o?.topicsEnabled);let i;Tn.set(["trendingBetaEnabled"],s),t[5]!==s?(i={enabled:s},t[5]=s,t[6]=i):i=t[6],a=i}const l=a;let c,d;t[7]!==o?.liveNow?(d=o?.liveNow??[],t[7]=o?.liveNow,t[8]=d):d=t[8],c=d;const u=c;let m,h;return t[9]!==s||t[10]!==u?(m=(0,Ft.jsx)(Ub.Provider,{value:u,children:s}),t[9]=s,t[10]=u,t[11]=m):m=t[11],t[12]!==m||t[13]!==l?(h=(0,Ft.jsx)(qb.Provider,{value:l,children:m}),t[12]=m,t[13]=l,t[14]=h):h=t[14],h}function Zb(){return(0,mt.useContext)(qb)}function Qb(){const e=(0,mt.useContext)(Ub);if(!e)throw new Error("useLiveNowConfig must be used within a LiveNowConfigProvider");return e}const Kb=mt.createContext(void 0),$b=mt.createContext((e=>{}));function Gb(e){const t=(0,i.c)(5),{children:s}=e,[n,o]=mt.useState();let r,a;return t[0]!==s?(r=(0,Ft.jsx)($b.Provider,{value:o,children:s}),t[0]=s,t[1]=r):r=t[1],t[2]!==n||t[3]!==r?(a=(0,Ft.jsx)(Kb.Provider,{value:n,children:r}),t[2]=n,t[3]=r,t[4]=a):a=t[4],a}const Yb=()=>mt.useContext(Kb),Jb=()=>mt.useContext($b),Xb=mt.createContext({showLoggedOut:!1,requestedAccountSwitchTo:void 0}),ej=mt.createContext({setShowLoggedOut:()=>{},requestSwitchToAccount:()=>{},clearRequestedAccount:()=>{}});function tj(e){const t=(0,i.c)(9),{children:s}=e,n=Yb(),{hasSession:o}=xh(),r=Boolean(n?.uri)&&!o,a=r?Pt?"starterpack":"new":void 0;let l;t[0]!==r||t[1]!==a?(l={showLoggedOut:r,requestedAccountSwitchTo:a},t[0]=r,t[1]=a,t[2]=l):l=t[2];const[c,d]=mt.useState(l);let u,m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m={setShowLoggedOut(e){d((t=>Object.assign({},t,{showLoggedOut:e})))},requestSwitchToAccount(e){const{requestedAccount:t}=e;d((e=>Object.assign({},e,{showLoggedOut:!0,requestedAccountSwitchTo:t})))},clearRequestedAccount(){d(sj)}},t[3]=m):m=t[3],u=m;const h=u;let p,f;return t[4]!==s?(p=(0,Ft.jsx)(ej.Provider,{value:h,children:s}),t[4]=s,t[5]=p):p=t[5],t[6]!==c||t[7]!==p?(f=(0,Ft.jsx)(Xb.Provider,{value:c,children:p}),t[6]=c,t[7]=p,t[8]=f):f=t[8],f}function sj(e){return Object.assign({},e,{requestedAccountSwitchTo:void 0})}function nj(){return mt.useContext(Xb)}function oj(){return mt.useContext(ej)}const rj=mt.createContext(null),ij=mt.createContext((e=>{}));function aj(e){const t=(0,i.c)(6),{children:s}=e,[n,o]=mt.useState(lj);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=e=>{if(o(e),Pt)try{sessionStorage.setItem("lastSelectedHomeFeed",e)}catch{}xn("lastSelectedHomeFeed",e)},t[0]=r):r=t[0];const a=r;let l,c;return t[1]!==s?(l=(0,Ft.jsx)(ij.Provider,{value:a,children:s}),t[1]=s,t[2]=l):l=t[2],t[3]!==n||t[4]!==l?(c=(0,Ft.jsx)(rj.Provider,{value:n,children:l}),t[3]=n,t[4]=l,t[5]=c):c=t[5],c}function lj(){return function(){if(Pt){if("/"===window.location.pathname){const e=new URLSearchParams(window.location.search).get("feed");if(e)return e}const e=sessionStorage.getItem("lastSelectedHomeFeed");if(e)return e}return gn("lastSelectedHomeFeed")||null}()}function cj(){return mt.useContext(rj)}function dj(){return mt.useContext(ij)}const uj=(0,mt.createContext)((()=>{})),mj=(0,mt.createContext)((()=>{}));function hj(e){const t=(0,i.c)(6),{children:s}=e,[n,o]=(0,mt.useState)(pj);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(e,t)=>{o((s=>{const n=new Map(s);return n.set(e,t),n}))},t[0]=r):r=t[0];const a=r;let l;t[1]!==n?(l=e=>{const t=n.get(e);return t&&o((t=>{const s=new Map(t);return s.delete(e),s})),t},t[1]=n,t[2]=l):l=t[2];const c=l;let d;return t[3]!==s||t[4]!==c?(d=(0,Ft.jsx)(uj.Provider,{value:a,children:(0,Ft.jsx)(mj.Provider,{value:c,children:s})}),t[3]=s,t[4]=c,t[5]=d):d=t[5],d}function pj(){return new Map}const fj=mt.createContext(null);function gj(e){const t=(0,i.c)(14),{children:s}=e;if(!Pt)throw new Error("ActiveVideoWebContext may only be used on web.");const[n,o]=(0,mt.useState)(null),r=(0,mt.useRef)(1/0),{height:a}=(0,Ny.default)(),l=(0,mt.useRef)(!1),c=(0,mt.useRef)(n);let d,u,m;t[0]!==n?(d=()=>{c.current=n},u=[n],t[0]=n,t[1]=d,t[2]=u):(d=t[1],u=t[2]),(0,mt.useEffect)(d,u),t[3]!==a?(m=e=>{o(e),l.current=!0,r.current=a/2},t[3]=a,t[4]=m):m=t[4];const h=m;let p;t[5]!==a?(p=(e,t)=>{var s;if(!kt)if(e===c.current)r.current=t;else if(n(t)<n(r.current)){if(l.current&&((s=r.current)>0&&s<a))return;o(e),r.current=t,l.current=!1}function n(e){return Math.abs(e-a/2.5)}},t[5]=a,t[6]=p):p=t[6];const f=p;let g,x;t[7]!==n||t[8]!==f||t[9]!==h?(x={activeViewId:n,setActiveView:h,sendViewPosition:f},t[7]=n,t[8]=f,t[9]=h,t[10]=x):x=t[10],g=x;const _=g;let y;return t[11]!==s||t[12]!==_?(y=(0,Ft.jsx)(fj.Provider,{value:_,children:s}),t[11]=s,t[12]=_,t[13]=y):y=t[13],y}const xj=mt.createContext(null);function _j(e){const t=(0,i.c)(6),{children:s}=e,[n,o]=mt.useState(!0),[r,a]=mt.useState(1);let l,c;t[0]!==n||t[1]!==r?(c={muted:n,setMuted:o,volume:r,setVolume:a},t[0]=n,t[1]=r,t[2]=c):c=t[2],l=c;const d=l;let u;return t[3]!==s||t[4]!==d?(u=(0,Ft.jsx)(xj.Provider,{value:d,children:s}),t[3]=s,t[4]=d,t[5]=u):u=t[5],u}function yj(){const e=(0,i.c)(3),t=mt.useContext(xj);if(!t)throw new Error("useVideoVolumeState must be used within a VideoVolumeProvider");let s;return e[0]!==t.setVolume||e[1]!==t.volume?(s=[t.volume,t.setVolume],e[0]=t.setVolume,e[1]=t.volume,e[2]=s):s=e[2],s}function bj(e,t){return"dark"===dc().colorScheme?t:e}var jj=s(88186);async function vj(){const e=await fetch("https://api.bsky.app/xrpc/app.bsky.unspecced.getConfig");if(!e.ok)return{checkEmailConfirmed:!1};return await e.json()}function wj(){const e=(0,i.c)(4),{currentAccount:t}=xh(),{data:s}=function(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:["service-config"],queryFn:vj,staleTime:3e5},e[0]=t):t=e[0],(0,vd.useQuery)(t)}(),n=t?.did;let o;e[0]!==n?(o={did:n},e[0]=n,e[1]=o):o=e[1];const{data:r}=ub(o),a=!!s?.checkEmailConfirmed,l=!!r?.createdAt&&Date.parse(r.createdAt)>=Date.parse("2024-11-18T19:00:00.000Z"),c=!(t&&Lu(t.service)!==Lu(Yr))&&a&&!t?.emailConfirmed&&l;let d;return e[2]!==c?(d={needsEmailVerification:c},e[2]=c,e[3]=d):d=e[3],d}const Sj=new At.default;const kj=["accountEmailState"];function Cj(){const e=(0,i.c)(2),t=(0,wd.useQueryClient)();let s;return e[0]!==t?(s=e=>t.setQueriesData({queryKey:kj},e),e[0]=t,e[1]=s):s=e[1],s}function Pj(){const e=(0,i.c)(14),t=bh(),[s,n]=(0,mt.useState)(!!t.session?.emailConfirmed),o=!!t.session?.emailConfirmed,r=!!t.session?.emailAuthFactor;let a;e[0]!==o||e[1]!==r?(a={isEmailVerified:o,email2FAEnabled:r},e[0]=o,e[1]=r,e[2]=a):a=e[2];const l=a,c=!!t.session;let d,u;e[3]!==t?(d=async()=>{const{data:e}=await t.resumeSession(t.session);return{isEmailVerified:!!e.emailConfirmed,email2FAEnabled:!!e.emailAuthFactor}},e[3]=t,e[4]=d):d=e[4],e[5]!==c||e[6]!==d?(u={enabled:c,refetchOnWindowFocus:!0,queryKey:kj,queryFn:d},e[5]=c,e[6]=d,e[7]=u):u=e[7];const m=(0,vd.useQuery)(u).data??l;let h,p;return e[8]!==s||e[9]!==m.isEmailVerified?(h=()=>{m.isEmailVerified&&!s?(n(!0),Sj.emit("emailVerified")):!m.isEmailVerified&&s&&n(!1)},e[8]=s,e[9]=m.isEmailVerified,e[10]=h):h=e[10],e[11]!==s||e[12]!==m?(p=[m,s],e[11]=s,e[12]=m,e[13]=p):p=e[13],(0,mt.useEffect)(h,p),m}async function Tj(e,t){return await Promise.all([t,new Promise((t=>setTimeout(t,e)))]).then((e=>e[0]))}function Lj(){const e=(0,i.c)(2),{_:t}=(0,ft.useLingui)();let s;return e[0]!==t?(s=e=>{if(!e)return{raw:void 0,clean:void 0};let s=e.toString();return function(e){const t=String(e);for(const s of Aj)if(t.includes(s))return!0;return!1}(s)?{raw:s,clean:t({id:"ItUNqU"})}:s.includes("Upstream Failure")||s.includes("NotEnoughResources")||s.includes("pipethrough network error")?{raw:s,clean:t({id:"ZdWWqK"})}:s.includes("Bad token scope")?{raw:s,clean:t({id:"77VGfA"})}:s.includes("Rate Limit Exceeded")?{raw:s,clean:t({id:"hsiT9p"})}:(s.startsWith("Error: ")&&(s=s.slice(7)),{raw:s,clean:void 0})},e[0]=t,e[1]=s):s=e[1],s}const Aj=["Abort","Network request failed","Failed to fetch","Load failed"];const Ij=zr({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8-1a1 1 0 0 1 1-1h1a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-4a1 1 0 0 1-1-1Zm1-3a1 1 0 1 0 2 0 1 1 0 0 0-2 0Z"}),Rj=zr({path:"M3.135 12C5.413 16.088 8.77 18 12 18s6.587-1.912 8.865-6C18.587 7.912 15.23 6 12 6c-3.228 0-6.587 1.912-8.865 6ZM12 4c4.24 0 8.339 2.611 10.888 7.54a1 1 0 0 1 0 .92C20.338 17.388 16.24 20 12 20c-4.24 0-8.339-2.611-10.888-7.54a1 1 0 0 1 0-.92C3.662 6.612 7.76 4 12 4Zm0 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),Dj=(zr({path:"M12 6c-3.127 0-6.367 1.79-8.638 5.606a.77.77 0 0 0 0 .788C5.633 16.209 8.873 18 12 18s6.367-1.79 8.638-5.606a.77.77 0 0 0 0-.788C18.367 7.791 15.127 6 12 6Zm0-2c3.952 0 7.79 2.272 10.357 6.583a2.77 2.77 0 0 1 0 2.834C19.79 17.727 15.952 20 12 20s-7.79-2.272-10.357-6.583a2.77 2.77 0 0 1 0-2.834C4.21 6.273 8.048 4 12 4Zm0 6a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),zr({path:"M3 4a1 1 0 0 1 1-1h1a8.003 8.003 0 0 1 7.75 6.006A7.985 7.985 0 0 1 19 6h1a1 1 0 0 1 1 1v1a8 8 0 0 1-8 8v4a1 1 0 1 1-2 0v-7a8 8 0 0 1-8-8V4Zm2 1a6 6 0 0 1 6 6 6 6 0 0 1-6-6Zm8 9a6 6 0 0 1 6-6 6 6 0 0 1-6 6Z"})),Fj=zr({path:"M11.14 4.494a.995.995 0 0 1 1.72 0l7.001 12.008a.996.996 0 0 1-.86 1.498H4.999a.996.996 0 0 1-.86-1.498L11.14 4.494Zm3.447-1.007c-1.155-1.983-4.019-1.983-5.174 0L2.41 15.494C1.247 17.491 2.686 20 4.998 20h14.004c2.312 0 3.751-2.509 2.587-4.506L14.587 3.487ZM13 9.019a1 1 0 1 0-2 0v2.994a1 1 0 1 0 2 0V9.02Zm-1 4.731a1.25 1.25 0 1 0 0 2.5 1.25 1.25 0 0 0 0-2.5Z"}),Ej=["children","style"],Mj=["children"],Bj={warning:{light:"#DFBC00",dark:"#BFAF1F"}},Oj=(0,mt.createContext)({type:"info"});function zj(){const e=(0,i.c)(8),t=ec(),{type:s}=(0,mt.useContext)(Oj);let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n={info:Rj,tip:Dj,warning:Fj,error:Ij},e[0]=n):n=e[0];const o=n[s];let r;e[1]!==t.atoms.text_contrast_medium.color||e[2]!==t.palette.negative_500||e[3]!==t.palette.primary_500?(r={info:t.atoms.text_contrast_medium.color,tip:t.palette.primary_500,warning:Bj.warning.light,error:t.palette.negative_500},e[1]=t.atoms.text_contrast_medium.color,e[2]=t.palette.negative_500,e[3]=t.palette.primary_500,e[4]=r):r=e[4];const a=r[s];let l;return e[5]!==o||e[6]!==a?(l=(0,Ft.jsx)(o,{fill:a,size:"md"}),e[5]=o,e[6]=a,e[7]=l):l=e[7],l}function Hj(e){const t=(0,i.c)(10);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:s,style:o}=l),n=(0,ls.default)(l,Ej),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];return t[4]!==o?(r=[kl.flex_1,kl.text_sm,kl.leading_snug,kl.pr_md,o],t[4]=o,t[5]=r):r=t[5],t[6]!==s||t[7]!==n||t[8]!==r?(a=(0,Ft.jsx)(fr,Object.assign({},n,{style:r,children:s})),t[6]=s,t[7]=n,t[8]=r,t[9]=a):a=t[9],a}function Nj(e){const t=(0,i.c)(6);let s,n,o;if(t[0]!==e){var r=e;({children:s}=r),n=(0,ls.default)(r,Mj),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]!==s||t[4]!==n?(o=(0,Ft.jsx)(Sr,Object.assign({size:"tiny",variant:"outline",color:"secondary"},n,{children:s})),t[3]=s,t[4]=n,t[5]=o):o=t[5],o}function Vj(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function qj(e){const t=(0,i.c)(17),{children:s,type:n,style:o}=e,r=void 0===n?"info":n,a=ec(),{gtMobile:l}=ql();let c;t[0]!==a.atoms.border_contrast_low.borderColor?(c={info:a.atoms.border_contrast_low.borderColor,tip:a.atoms.border_contrast_low.borderColor,warning:a.atoms.border_contrast_low.borderColor,error:a.atoms.border_contrast_low.borderColor},t[0]=a.atoms.border_contrast_low.borderColor,t[1]=c):c=t[1];const d=c[r];let u;t[2]!==r?(u={type:r},t[2]=r,t[3]=u):u=t[3];const m=l?kl.p_md:kl.p_sm;let h,p,f,g;return t[4]!==d?(h={borderColor:d},t[4]=d,t[5]=h):h=t[5],t[6]!==o||t[7]!==a.atoms.bg_contrast_25||t[8]!==m||t[9]!==h?(p=[m,kl.rounded_sm,kl.border,a.atoms.bg_contrast_25,h,o],t[6]=o,t[7]=a.atoms.bg_contrast_25,t[8]=m,t[9]=h,t[10]=p):p=t[10],t[11]!==s||t[12]!==p?(f=(0,Ft.jsx)(wo.default,{style:p,children:s}),t[11]=s,t[12]=p,t[13]=f):f=t[13],t[14]!==u||t[15]!==f?(g=(0,Ft.jsx)(Oj.Provider,{value:u,children:f}),t[14]=u,t[15]=f,t[16]=g):g=t[16],g}function Uj(e){const t=(0,i.c)(7),{children:s,type:n,style:o}=e;let r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(zj,{}),t[0]=r):r=t[0],t[1]!==s?(a=(0,Ft.jsxs)(Vj,{children:[r,(0,Ft.jsx)(Hj,{children:s})]}),t[1]=s,t[2]=a):a=t[2],t[3]!==o||t[4]!==a||t[5]!==n?(l=(0,Ft.jsx)(qj,{type:n,style:o,children:a}),t[3]=o,t[4]=a,t[5]=n,t[6]=l):l=t[6],l}const Wj=zr({path:"M21.59 3.193a1 1 0 0 1 .217 1.397l-11.706 16a1 1 0 0 1-1.429.193l-6.294-5a1 1 0 1 1 1.244-1.566l5.48 4.353 11.09-15.16a1 1 0 0 1 1.398-.217Z"}),Zj=zr({path:"M21.474 2.98a2.5 2.5 0 0 1 .545 3.494l-10.222 14a2.5 2.5 0 0 1-3.528.52L2.49 16.617a2.5 2.5 0 0 1 3.018-3.986l3.75 2.84L17.98 3.525a2.5 2.5 0 0 1 3.493-.545Z"});var Qj=s(44621),Kj=s(65010);const $j=e=>{const t=(0,i.c)(2),s=void 0===e?250:e,n=mt.useRef(!0);let o;return t[0]!==s?(o=e=>!!n.current&&(n.current=!1,setTimeout((()=>{n.current=!0}),s),e(),!0),t[0]=s,t[1]=o):o=t[1],o};function Gj(){const e=(0,i.c)(20),t=(0,va.useNavigation)(),s=$j();let n,o,r,a,l,c,d,u,m,h;return e[0]!==s||e[1]!==t?(o=(...e)=>{const n=e;s((()=>t.push(...n)))},r=(...e)=>{const n=e;s((()=>t.navigate(...n)))},a=(...e)=>{const n=e;s((()=>t.replace(...n)))},l=e=>{s((()=>t.dispatch(e)))},c=()=>{s((()=>t.popToTop()))},d=()=>{s((()=>t.goBack()))},e[0]=s,e[1]=t,e[2]=o,e[3]=r,e[4]=a,e[5]=l,e[6]=c,e[7]=d):(o=e[2],r=e[3],a=e[4],l=e[5],c=e[6],d=e[7]),e[8]!==t?(u=()=>t.canGoBack(),m=()=>t.getState(),e[8]=t,e[9]=u,e[10]=m):(u=e[9],m=e[10]),e[11]!==o||e[12]!==r||e[13]!==a||e[14]!==l||e[15]!==c||e[16]!==d||e[17]!==u||e[18]!==m?(h={push:o,navigate:r,replace:a,dispatch:l,popToTop:c,goBack:d,canGoBack:u,getState:m},e[11]=o,e[12]=r,e[13]=a,e[14]=l,e[15]=c,e[16]=d,e[17]=u,e[18]=m,e[19]=h):h=e[19],n=h,n}var Yj=s(75632),Jj=s(19955),Xj=s(77222),ev=s(4673);function tv(){return sv}async function sv(e){if(wt){const t=ev.SystemBars.pushStackEntry({style:{statusBar:"light"}}),s=await e;return ev.SystemBars.popStackEntry(t),s}return await e}function nv(){const e=(0,i.c)(6),t=Vc(),s=ec(),n=tv(),o=Lr(),{inAppBrowserConsentControl:r}=No();let a;e[0]!==o||e[1]!==t||e[2]!==r||e[3]!==n||e[4]!==s?(a=async(e,i,a)=>{if(_u(e)&&xu(e)&&(e=function(e){const t=e.replace(lu,"").replace(/^\/+/,"");return`${lu.replace(/\/$/,"")}/${t}`}(e)),gu(e)||(En("link:clicked",{domain:mu(e),url:e}),a&&(e=function(e){let t;try{t=new URL(e)}catch{return e}return"http:"!==t?.protocol&&"https:"!==t?.protocol?e:`https://go.bsky.app/redirect?u=${encodeURIComponent(e)}`}(e))),kt&&!e.startsWith("mailto:")){if(void 0===i&&void 0===t)return void(o.isWithinDialog?o.close((()=>{r.open(e)})):r.open(e));if(i??t)return void await n(Jj.openBrowserAsync(e,{presentationStyle:Xj.WebBrowserPresentationStyle.PAGE_SHEET,toolbarColor:s.atoms.bg.backgroundColor,controlsColor:s.palette.primary_500,createTask:!1}))}Yj.default.openURL(e)},e[0]=o,e[1]=t,e[2]=r,e[3]=n,e[4]=s,e[5]=a):a=e[5];return a}var ov=s(37370),rv=s(44278);async function iv(e){St?await ov.default.share({message:e}):wt?await ov.default.share({url:e}):((0,rv.setStringAsync)(e),Zu(cs.i18n._({id:"FxVG/l"}),"clipboard-check"))}async function av(e){St||wt?await ov.default.share({message:e}):(await(0,rv.setStringAsync)(e),Zu(cs.i18n._({id:"FxVG/l"}),"clipboard-check"))}function lv(e){const t=new Set;let s=e.replace(/:([\w]+)/g,((e,s)=>(t.add(s),`(?<${s}>[^/]+)`)));const n=new RegExp(`^${s}([?]|$)`,"i");return{match(e){const{pathname:t,searchParams:s}=new URL(e,"http://throwaway.com"),o=Object.fromEntries(s.entries()),r=n.exec(t);if(r)return{params:Object.assign(o,r.groups||{})}},build(s){const n=e.replace(/:([\w]+)/g,((e,t)=>s[t]||"undefined"));let o=!1;const r=new URLSearchParams;for(const e in s)t.has(e)||(r.set(e,s[e]),o=!0);return n+(o?`?${r.toString()}`:"")}}}const cv=new class{routes=[];constructor(e){for(const[t,s]of Object.entries(e))"string"===typeof s?this.routes.push([t,lv(s)]):s.forEach((e=>{this.routes.push([t,lv(e)])}))}matchName(e){for(const[t,s]of this.routes)if(t===e)return s}matchPath(e){let t="NotFound",s={};for(const[n,o]of this.routes){const r=o.match(e);if(r){t=n,s=r.params;break}}return[t,s]}}({Home:"/",Search:"/search",Feeds:"/feeds",Notifications:"/notifications",NotificationSettings:"/notifications/settings",Settings:"/settings",Lists:"/lists",Moderation:"/moderation",ModerationModlists:"/moderation/modlists",ModerationMutedAccounts:"/moderation/muted-accounts",ModerationBlockedAccounts:"/moderation/blocked-accounts",ModerationInteractionSettings:"/moderation/interaction-settings",ModerationVerificationSettings:"/moderation/verification-settings",Profile:["/profile/:name","/profile/:name/rss"],ProfileFollowers:"/profile/:name/followers",ProfileFollows:"/profile/:name/follows",ProfileKnownFollowers:"/profile/:name/known-followers",ProfileSearch:"/profile/:name/search",ProfileList:"/profile/:name/lists/:rkey",PostThread:"/profile/:name/post/:rkey",PostLikedBy:"/profile/:name/post/:rkey/liked-by",PostRepostedBy:"/profile/:name/post/:rkey/reposted-by",PostQuotes:"/profile/:name/post/:rkey/quotes",ProfileFeed:"/profile/:name/feed/:rkey",ProfileFeedLikedBy:"/profile/:name/feed/:rkey/liked-by",ProfileLabelerLikedBy:"/profile/:name/labeler/liked-by",Debug:"/sys/debug",DebugMod:"/sys/debug-mod",Log:"/sys/log",LanguageSettings:"/settings/language",AppPasswords:"/settings/app-passwords",PreferencesFollowingFeed:"/settings/following-feed",PreferencesThreads:"/settings/threads",PreferencesExternalEmbeds:"/settings/external-embeds",AccessibilitySettings:"/settings/accessibility",TenXSettings:"/settings/10x",AppearanceSettings:"/settings/appearance",SavedFeeds:"/settings/saved-feeds",AccountSettings:"/settings/account",PrivacyAndSecuritySettings:"/settings/privacy-and-security",ContentAndMediaSettings:"/settings/content-and-media",SettingsInterests:"/settings/interests",AboutSettings:"/settings/about",AppIconSettings:"/settings/app-icon",Support:"/support",PrivacyPolicy:"/support/privacy",TermsOfService:"/support/tos",CommunityGuidelines:"/support/community-guidelines",CopyrightPolicy:"/support/copyright",Hashtag:"/hashtag/:tag",Topic:"/topic/:topic",Messages:"/messages",MessagesSettings:"/messages/settings",MessagesInbox:"/messages/inbox",MessagesConversation:"/messages/:conversation",Start:"/start/:name/:rkey",StarterPackEdit:"/starter-pack/edit/:rkey",StarterPack:"/starter-pack/:name/:rkey",StarterPackShort:"/starter-pack-short/:code",StarterPackWizard:"/starter-pack/create",VideoFeed:"/video-feed"}),dv=["children","to","action","onPress","onLongPress","download","shouldProxy","overridePresentation"],uv=["children","to","action","disableMismatchWarning","style","onPress","onLongPress","download","selectable","label","shareOnLongPress","disableUnderline","overridePresentation","shouldProxy"],mv=["children","to","onPress"];function hv(e){const t=(0,i.c)(35),{to:s,displayText:n,action:o,disableMismatchWarning:r,onPress:a,onLongPress:l,shareOnLongPress:c,overridePresentation:d,shouldProxy:u}=e,m=void 0===o?"push":o,h=Gj();let p,f;t[0]!==s?(p="string"===typeof s?vu((0,Qj.sanitizeUrl)(s)):s,t[0]=s,t[1]=p):p=t[1],t[2]!==p?(f={to:p},t[2]=p,t[3]=f):f=t[3];const{href:g}=(0,Kj.default)(f);let x;t[4]!==g?(x=yu(g),t[4]=g,t[5]=x):x=t[5];const _=x,{openModal:y,closeModal:b}=Zd(),j=nv(),v=Fc();let w;t[6]!==m||t[7]!==b||t[8]!==r||t[9]!==n||t[10]!==v||t[11]!==g||t[12]!==_||t[13]!==h||t[14]!==j||t[15]!==y||t[16]!==a||t[17]!==d||t[18]!==u?(w=e=>{const t=a?.(e);if(!1===t)return;const s=Boolean(!r&&n&&_&&Cu(g,n));if(Pt&&e.preventDefault(),s)y({name:"link-warning",text:n,href:g});else if(_)j(g,d,v&&u);else{const t=jv(e);if(yu(o=g)||"/download"!==o&&!o.startsWith("/download?"))if(t||g.startsWith("http")||g.startsWith("mailto"))j(g);else if(b(),"push"===m)h.dispatch(va.StackActions.push(...cv.matchPath(g)));else if("replace"===m)h.dispatch(va.StackActions.replace(...cv.matchPath(g)));else{if("navigate"!==m)throw Error("Unsupported navigator action.");h.navigate(...cv.matchPath(g))}else iv(ti)}var o},t[6]=m,t[7]=b,t[8]=r,t[9]=n,t[10]=v,t[11]=g,t[12]=_,t[13]=h,t[14]=j,t[15]=y,t[16]=a,t[17]=d,t[18]=u,t[19]=w):w=t[19];const S=w;let k;t[20]!==r||t[21]!==n||t[22]!==g||t[23]!==_||t[24]!==y?(k=()=>{Boolean(!r&&n&&_&&Cu(g,n))?y({name:"link-warning",text:n,href:g,share:!0}):iv(g)},t[20]=r,t[21]=n,t[22]=g,t[23]=_,t[24]=y,t[25]=k):k=t[25];const C=k;let P;t[26]!==C||t[27]!==l||t[28]!==c?(P=e=>{const t=l?.(e);if(!1!==t)return kt&&c?C():void 0},t[26]=C,t[27]=l,t[28]=c,t[29]=P):P=t[29];const T=P;let L;return t[30]!==g||t[31]!==_||t[32]!==T||t[33]!==S?(L={isExternal:_,href:g,onPress:S,onLongPress:T},t[30]=g,t[31]=_,t[32]=T,t[33]=S,t[34]=L):L=t[34],L}function pv(e){const t=(0,i.c)(34);let s,n,o,r,a,l,c,d,u;if(t[0]!==e){var m=e;({children:s,to:u,action:d,onPress:r,onLongPress:o,download:n,shouldProxy:c,overridePresentation:a}=m),l=(0,ls.default)(m,dv),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9];const h=void 0===d?"push":d,p="string"===typeof s?s:"";let f;t[10]!==h||t[11]!==o||t[12]!==r||t[13]!==a||t[14]!==c||t[15]!==p||t[16]!==u?(f={to:u,displayText:p,action:h,onPress:r,onLongPress:o,shouldProxy:c,overridePresentation:a},t[10]=h,t[11]=o,t[12]=r,t[13]=a,t[14]=c,t[15]=p,t[16]=u,t[17]=f):f=t[17];const{href:g,isExternal:x,onPress:_,onLongPress:y}=hv(f);let b,j;t[18]!==l.style?(b=Wl(l.style),t[18]=l.style,t[19]=b):b=t[19],t[20]!==b?(j=[kl.justify_start,b],t[20]=b,t[21]=j):j=t[21];const v=n?void 0:_,w=n?void 0:x?"blank":void 0,S=x?"noopener noreferrer":void 0;let k,C;return t[22]!==n||t[23]!==w||t[24]!==S?(k=_o({hrefAttrs:{target:w,rel:S,download:n},dataSet:{noUnderline:"1"}}),t[22]=n,t[23]=w,t[24]=S,t[25]=k):k=t[25],t[26]!==s||t[27]!==g||t[28]!==y||t[29]!==l||t[30]!==j||t[31]!==v||t[32]!==k?(C=(0,Ft.jsx)(Sr,Object.assign({},l,{style:j,role:"link",accessibilityRole:"link",href:g,onPress:v,onLongPress:y},k,{children:s})),t[26]=s,t[27]=g,t[28]=y,t[29]=l,t[30]=j,t[31]=v,t[32]=k,t[33]=C):C=t[33],C}function fv(e){const t=(0,i.c)(55);let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x;if(t[0]!==e){var _=e;({children:s,to:x,action:g,disableMismatchWarning:n,style:f,onPress:c,onLongPress:l,download:r,selectable:m,label:a,shareOnLongPress:h,disableUnderline:o,overridePresentation:d,shouldProxy:p}=_),u=(0,ls.default)(_,uv),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h,t[12]=p,t[13]=f,t[14]=g,t[15]=x}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],m=t[10],h=t[11],p=t[12],f=t[13],g=t[14],x=t[15];const y=void 0===g?"push":g,b=ec(),j="string"===typeof s?s:"";let v;t[16]!==y||t[17]!==n||t[18]!==l||t[19]!==c||t[20]!==d||t[21]!==h||t[22]!==p||t[23]!==j||t[24]!==x?(v={to:x,displayText:j,action:y,disableMismatchWarning:n,onPress:c,onLongPress:l,shareOnLongPress:h,overridePresentation:d,shouldProxy:p},t[16]=y,t[17]=n,t[18]=l,t[19]=c,t[20]=d,t[21]=h,t[22]=p,t[23]=j,t[24]=x,t[25]=v):v=t[25];const{href:w,isExternal:S,onPress:k,onLongPress:C}=hv(v),{state:P,onIn:T,onOut:L}=Ki();let A;t[26]!==f?(A=Wl(f)||{},t[26]=f,t[27]=A):A=t[27];const I=A;let R,D,F;t[28]!==b.palette.primary_500?(R={color:b.palette.primary_500},t[28]=b.palette.primary_500,t[29]=R):R=t[29],t[30]!==o||t[31]!==I||t[32]!==P||t[33]!==b.palette.primary_500?(D=P&&!o&&Object.assign({},_o({outline:0,textDecorationLine:"underline",textDecorationColor:I.color??b.palette.primary_500})),t[30]=o,t[31]=I,t[32]=P,t[33]=b.palette.primary_500,t[34]=D):D=t[34],t[35]!==I||t[36]!==R||t[37]!==D?(F=[R,D,I],t[35]=I,t[36]=R,t[37]=D,t[38]=F):F=t[38];const E=r?void 0:k,M=r?void 0:S?"blank":void 0,B=S?"noopener noreferrer":void 0;let O,z;return t[39]!==r||t[40]!==B||t[41]!==M?(O=_o({hrefAttrs:{target:M,rel:B,download:r},dataSet:{noUnderline:"1"}}),t[39]=r,t[40]=B,t[41]=M,t[42]=O):O=t[42],t[43]!==s||t[44]!==w||t[45]!==a||t[46]!==T||t[47]!==L||t[48]!==C||t[49]!==u||t[50]!==m||t[51]!==O||t[52]!==F||t[53]!==E?(z=(0,Ft.jsx)(fr,Object.assign({selectable:m,accessibilityHint:"",accessibilityLabel:a},u,{style:F,role:"link",onPress:E,onLongPress:C,onMouseEnter:T,onMouseLeave:L,accessibilityRole:"link",href:w},O,{children:s})),t[43]=s,t[44]=w,t[45]=a,t[46]=T,t[47]=L,t[48]=C,t[49]=u,t[50]=m,t[51]=O,t[52]=F,t[53]=E,t[54]=z):z=t[54],z}function gv(e){const t=(0,i.c)(10);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:s,to:r,onPress:n}=l),o=(0,ls.default)(l,mv),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];return t[5]!==s||t[6]!==n||t[7]!==o||t[8]!==r?(a=Pt?(0,Ft.jsx)(fv,Object.assign({},o,{to:r,onPress:n,children:s})):(0,Ft.jsx)(fr,Object.assign({},o,{children:s})),t[5]=s,t[6]=n,t[7]=o,t[8]=r,t[9]=a):a=t[9],a}function xv(e){return{to:"#",onPress:t=>(t.preventDefault(),e(t),!1)}}function _v(e){return{onPress(t){if(!Pt||!function(e){if(!Pt)return!1;const t=e,s=0===t.button;return yv(e)||bv(e)||!s}(t))return t.preventDefault(),e(t),!1}}}function yv(e){if(!Pt)return!1;const t=e;return t.metaKey||t.altKey||t.ctrlKey||t.shiftKey}function bv(e){if(!Pt)return!1;const t=e.currentTarget;return t&&t.target&&"_self"!==t.target}function jv(e){if(!Pt)return!1;const t=Pt&&1===e.button;return yv(e)||bv(e)||t}const vv=zr({path:"M12 5a7 7 0 0 0-5.218 11.666A1 1 0 0 1 5.292 18a9 9 0 1 1 13.416 0 1 1 0 1 1-1.49-1.334A7 7 0 0 0 12 5Z"});function wv(e){const t=(0,i.c)(13),s=ec(),n=Fr(e);let o;t[0]!==n.size?(o=[kl.relative,kl.justify_center,kl.align_center,{width:n.size,height:n.size}],t[0]=n.size,t[1]=o):o=t[1];const r=s.atoms.text_contrast_high;let a,l,c,d;return t[2]!==e.style?(a=Wl(e.style),t[2]=e.style,t[3]=a):a=t[3],t[4]!==s.atoms.text_contrast_high||t[5]!==a?(l=[kl.absolute,kl.inset_0,r,a],t[4]=s.atoms.text_contrast_high,t[5]=a,t[6]=l):l=t[6],t[7]!==e||t[8]!==l?(c=(0,Ft.jsx)("div",{className:"rotate-500ms",children:(0,Ft.jsx)(vv,Object.assign({},e,{style:l}))}),t[7]=e,t[8]=l,t[9]=c):c=t[9],t[10]!==o||t[11]!==c?(d=(0,Ft.jsx)(wo.default,{style:o,children:c}),t[10]=o,t[11]=c,t[12]=d):d=t[12],d}function Sv({onPress:e,style:t}){const s=ec(),{_:n}=(0,ft.useLingui)(),[o,r]=(0,mt.useState)(null);return(0,Ft.jsxs)(fr,{style:[kl.italic,kl.leading_snug,s.atoms.text_contrast_medium,t],children:[(0,Ft.jsx)(ft.Trans,{id:"7xEtFq",components:{0:(0,Ft.jsx)(fv,Object.assign({label:n({id:"MyjAbr"})},xv((()=>{(async()=>{r("sending");try{await Tj(1e3,e()),r("success")}finally{setTimeout((()=>{r(null)}),1e3)}})()}))))}})," ",(0,Ft.jsx)(ur.default,{style:{top:1},children:"sending"===o?(0,Ft.jsx)(wv,{size:"xs"}):"success"===o?(0,Ft.jsx)(Zj,{size:"xs",fill:s.palette.positive_500}):null})]})}const kv=zr({path:"M11.675 2.054a1 1 0 0 1 .65 0l8 2.75A1 1 0 0 1 21 5.75v6.162c0 2.807-1.149 4.83-2.813 6.405-1.572 1.488-3.632 2.6-5.555 3.636l-.157.085a1 1 0 0 1-.95 0l-.157-.085c-1.923-1.037-3.983-2.148-5.556-3.636C4.15 16.742 3 14.719 3 11.912V5.75a1 1 0 0 1 .675-.946l8-2.75ZM5 6.464v5.448c0 2.166.851 3.687 2.188 4.952 1.276 1.209 2.964 2.158 4.812 3.157 1.848-1 3.536-1.948 4.813-3.157C18.148 15.6 19 14.078 19 11.912V6.464l-7-2.407-7 2.407Z"}),Cv=zr({path:"M12.325 2.054a1 1 0 0 0-.65 0l-8 2.75A1 1 0 0 0 3 5.75v6.162c0 2.807 1.149 4.83 2.813 6.405 1.572 1.488 3.632 2.6 5.555 3.636l.157.085a1 1 0 0 0 .95 0l.157-.085c1.923-1.037 3.983-2.148 5.556-3.636C19.85 16.742 21 14.719 21 11.912V5.75a1 1 0 0 0-.675-.946l-8-2.75ZM5 11.912V6.464l7-2.407 7 2.407v5.448c0 2.166-.851 3.687-2.188 4.952-1.276 1.209-2.964 2.158-4.812 3.157-1.848-1-3.536-1.948-4.813-3.157C5.851 15.6 5 14.078 5 11.912Zm10.207-1.205a1 1 0 0 0-1.414-1.414L11 12.086l-.793-.793a1 1 0 0 0-1.414 1.414l1.5 1.5a1 1 0 0 0 1.414 0l3.5-3.5Z"});function Pv(e){return Boolean(e&&/^[A-Z2-7]{5}-[A-Z2-7]{5}$/.test(e))}function Tv(e){const t=(0,i.c)(11),{value:s,onChangeText:n,onSubmitEditing:o}=e,{_:r}=(0,ft.useLingui)(),a=Boolean(s&&s.length>10&&!Pv(s));let l;t[0]!==n?(l=e=>{n?.(function(e){const t=e.toUpperCase().replace(/[^A-Z2-7]/g,"");return t.length<=5?t:`${t.slice(0,5)}-${t.slice(5)}`}(e))},t[0]=n,t[1]=l):l=t[1];const c=l;let d,u,m;return t[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(sa,{icon:kv}),t[2]=d):d=t[2],t[3]!==r?(u=r({id:"ioZOzk"}),t[3]=r,t[4]=u):u=t[4],t[5]!==c||t[6]!==a||t[7]!==o||t[8]!==u||t[9]!==s?(m=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsxs)(Yi,{children:[d,(0,Ft.jsx)(ea,{isInvalid:a,label:u,placeholder:"XXXXX-XXXXX",value:s,onChangeText:c,onSubmitEditing:o})]})}),t[5]=c,t[6]=a,t[7]=o,t[8]=u,t[9]=s,t[10]=m):m=t[10],m}function Lv(){const e=(0,i.c)(4),t=bh(),{currentAccount:s}=xh(),n=Cj();let o;return e[0]!==t||e[1]!==s||e[2]!==n?(o={mutationFn:async e=>{const{enabled:o,token:r}=e;if(!s?.email)throw new Error("No email found for the current account");await t.com.atproto.server.updateEmail({email:s.email,emailAuthFactor:o,token:r});const{data:i}=await t.resumeSession(t.session);n({isEmailVerified:!!i.emailConfirmed,email2FAEnabled:!!i.emailAuthFactor})}},e[0]=t,e[1]=s,e[2]=n,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}function Av(){const e=(0,i.c)(2),t=bh();let s;return e[0]!==t?(s={mutationFn:async()=>(await t.com.atproto.server.requestEmailUpdate()).data},e[0]=t,e[1]=s):s=e[1],(0,Sd.useMutation)(s)}function Iv(e){const t=(0,i.c)(5),{style:s}=e,n=ec(),o=n.atoms.border_contrast_low;let r,a;return t[0]!==s?(r=Wl(s),t[0]=s,t[1]=r):r=t[1],t[2]!==n.atoms.border_contrast_low||t[3]!==r?(a=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.border_t,o,r]}),t[2]=n.atoms.border_contrast_low,t[3]=r,t[4]=a):a=t[4],a}const Rv=zr({path:"M4.568 4h14.864c.252 0 .498 0 .706.017.229.019.499.063.77.201a2 2 0 0 1 .874.874c.138.271.182.541.201.77.017.208.017.454.017.706v10.864c0 .252 0 .498-.017.706a2.022 2.022 0 0 1-.201.77 2 2 0 0 1-.874.874 2.022 2.022 0 0 1-.77.201c-.208.017-.454.017-.706.017H4.568c-.252 0-.498 0-.706-.017a2.022 2.022 0 0 1-.77-.201 2 2 0 0 1-.874-.874 2.022 2.022 0 0 1-.201-.77C2 17.93 2 17.684 2 17.432V6.568c0-.252 0-.498.017-.706.019-.229.063-.499.201-.77a2 2 0 0 1 .874-.874c.271-.138.541-.182.77-.201C4.07 4 4.316 4 4.568 4Zm.456 2L12 11.708 18.976 6H5.024ZM20 7.747l-6.733 5.509a2 2 0 0 1-2.534 0L4 7.746V17.4a8.187 8.187 0 0 0 .011.589h.014c.116.01.278.011.575.011h14.8a8.207 8.207 0 0 0 .589-.012v-.013c.01-.116.011-.279.011-.575V7.747Z"}),Dv=(zr({path:"M12 11.708 2.654 4.06A.998.998 0 0 1 3 4h18c.122 0 .238.022.346.061L12 11.708ZM2 19V6.11l9.367 7.664a1 1 0 0 0 1.266 0L22 6.11V19a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1Z"}),zr({path:"M6.161 4H17.84c.527 0 .982 0 1.356.03.395.033.789.104 1.167.297a3 3 0 0 1 1.311 1.311c.193.378.264.772.296 1.167.031.375.031.83.031 1.356v7.678c0 .527 0 .981-.03 1.356-.033.395-.104.789-.297 1.167a3 3 0 0 1-1.311 1.311c-.378.193-.772.264-1.167.296-.375.031-.83.031-1.357.031H6.162c-.527 0-.981 0-1.356-.03-.395-.033-.789-.104-1.167-.297a3 3 0 0 1-1.311-1.311c-.193-.378-.264-.772-.296-1.167A18 18 0 0 1 2 15.838V8.162c0-.527 0-.981.03-1.356.033-.395.104-.789.297-1.167a3 3 0 0 1 1.311-1.311c.378-.193.772-.264 1.167-.296C5.18 4 5.635 4 6.161 4ZM5.046 6.018l6.32 5.172a1 1 0 0 0 1.267 0l6.321-5.172A20 20 0 0 0 17.8 6H6.2c-.525 0-.88 0-1.154.018Zm14.953 1.73-6.1 4.99a3 3 0 0 1-3.799 0L4 7.748V15.8c0 .577 0 .949.024 1.232.022.272.06.372.085.422a1 1 0 0 0 .437.437c.05.025.15.063.422.085C5.25 18 5.623 18 6.2 18h11.6c.577 0 .949 0 1.232-.024.272-.022.372-.06.422-.085a1 1 0 0 0 .437-.437c.025-.05.063-.15.085-.422C20 16.75 20 16.377 20 15.8V7.747Z"}));function Fv(e,t){switch(t.type){case"setError":return Object.assign({},e,{error:t.error,emailStatus:"error",tokenStatus:"error"});case"setStep":return Object.assign({},e,{error:"",step:t.step});case"setEmailStatus":return Object.assign({},e,{error:"",emailStatus:t.status});case"setTokenStatus":return Object.assign({},e,{error:"",tokenStatus:t.status});default:return e}}function Ev(){const e=(0,i.c)(24),t=ec(),{_:s}=(0,ft.useLingui)(),n=Lj(),{currentAccount:o}=xh(),{mutateAsync:r}=Av(),{mutateAsync:a}=Lv(),l=Lr(),[c,d]=(0,mt.useState)("");let u;e[0]===Symbol.for("react.memo_cache_sentinel")?(u={error:"",step:"email",emailStatus:"default",tokenStatus:"default"},e[0]=u):u=e[0];const[m,h]=(0,mt.useReducer)(Fv,u);let p;e[1]!==s||e[2]!==n||e[3]!==r?(p=async()=>{h({type:"setEmailStatus",status:"pending"});try{await Tj(1e3,r()),h({type:"setEmailStatus",status:"success"}),setTimeout((()=>{h({type:"setStep",step:"token"})}),1e3)}catch(g){const t=g;ys.error("Manage2FA: email update code request failed",{safeMessage:t});const{clean:o}=n(t);h({type:"setError",error:o||s({id:"tN9z3K"})})}},e[1]=s,e[2]=n,e[3]=r,e[4]=p):p=e[4];const f=p;let g;e[5]!==s||e[6]!==n||e[7]!==l||e[8]!==a||e[9]!==c?(g=async()=>{if(Pv(c)){h({type:"setTokenStatus",status:"pending"});try{await Tj(1e3,a({enabled:!1,token:c})),h({type:"setTokenStatus",status:"success"}),setTimeout((()=>{l.close()}),1e3)}catch(_){const t=_;ys.error("Manage2FA: disable email 2FA failed",{safeMessage:t});const{clean:o}=n(t);h({type:"setError",error:o||s({id:"U977Ib"})})}}else h({type:"setError",error:s({id:"wtvoeQ"})})},e[5]=s,e[6]=n,e[7]=l,e[8]=a,e[9]=c,e[10]=g):g=e[10];const x=g;let _,y,b;return e[11]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.gap_sm],e[11]=_):_=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_heavy,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"M2Ap+K"})}),e[12]=y):y=e[12],e[13]!==s||e[14]!==o?.email||e[15]!==x||e[16]!==f||e[17]!==m.emailStatus||e[18]!==m.error||e[19]!==m.step||e[20]!==m.tokenStatus||e[21]!==t.atoms.text_contrast_medium||e[22]!==c?(b=(0,Ft.jsxs)(wo.default,{style:_,children:[y,"email"===m.step?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"tOZ4CW",values:{0:o?.email},components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold]})}})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_lg,kl.pt_sm],children:[m.error&&(0,Ft.jsx)(Uj,{type:"error",children:m.error}),(0,Ft.jsxs)(Sr,{label:s({id:"65dxv8"}),size:"large",variant:"solid",color:"primary",onPress:f,disabled:"pending"===m.emailStatus,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"65dxv8"})}),(0,Ft.jsx)(Pr,{icon:"pending"===m.emailStatus?wv:"success"===m.emailStatus?Wj:Rv})]}),(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"xN/fJ8",components:{0:(0,Ft.jsx)(fv,Object.assign({label:s({id:"lPgKS3"})},xv((()=>{h({type:"setStep",step:"token"})}))))}})})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"tOZ4CW",values:{0:o?.email},components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold]})}})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kl.py_sm],children:[(0,Ft.jsx)(Tv,{value:c,onChangeText:d,onSubmitEditing:x}),(0,Ft.jsx)(Sv,{onPress:f})]}),m.error&&(0,Ft.jsx)(Uj,{type:"error",children:m.error}),(0,Ft.jsxs)(Sr,{label:s({id:"qERl58"}),size:"large",variant:"solid",color:"primary",onPress:x,disabled:!c||11!==c.length||"pending"===m.tokenStatus,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"qERl58"})}),"pending"===m.tokenStatus?(0,Ft.jsx)(Pr,{icon:wv}):"success"===m.tokenStatus?(0,Ft.jsx)(Pr,{icon:Wj}):null]})]})]}),e[13]=s,e[14]=o?.email,e[15]=x,e[16]=f,e[17]=m.emailStatus,e[18]=m.error,e[19]=m.step,e[20]=m.tokenStatus,e[21]=t.atoms.text_contrast_medium,e[22]=c,e[23]=b):b=e[23],b}function Mv(e,t){switch(t.type){case"setError":return Object.assign({},e,{error:t.error,status:"error"});case"setStatus":return Object.assign({},e,{error:"",status:t.status});default:return e}}function Bv(){const e=(0,i.c)(46),t=ec(),{_:s}=(0,ft.useLingui)(),n=Lj(),{gtPhone:o}=ql(),{mutateAsync:r}=Lv(),a=Lr();let l;e[0]===Symbol.for("react.memo_cache_sentinel")?(l={error:"",status:"default"},e[0]=l):l=e[0];const[c,d]=(0,mt.useReducer)(Mv,l);let u;e[1]!==s||e[2]!==n||e[3]!==a||e[4]!==r?(u=async()=>{d({type:"setStatus",status:"pending"});try{await Tj(1e3,r({enabled:!0})),d({type:"setStatus",status:"success"}),setTimeout((()=>{a.close()}),1e3)}catch(h){const t=h;ys.error("Manage2FA: enable email 2FA failed",{safeMessage:t});const{clean:o}=n(t);d({type:"setError",error:o||s({id:"U977Ib"})})}},e[1]=s,e[2]=n,e[3]=a,e[4]=r,e[5]=u):u=e[5];const m=u;let h,p,f,g,x,_,y,b,j,v;e[6]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.gap_lg],e[6]=h):h=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.gap_sm],e[7]=p):p=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_heavy,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"O/nhm+"})}),e[8]=f):f=e[8],e[9]!==t.atoms.text_contrast_medium?(g=[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],e[9]=t.atoms.text_contrast_medium,e[10]=g):g=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(ft.Trans,{id:"QRRuU+"}),e[11]=x):x=e[11],e[12]!==g?(_=(0,Ft.jsxs)(wo.default,{style:p,children:[f,(0,Ft.jsx)(fr,{style:g,children:x})]}),e[12]=g,e[13]=_):_=e[13],e[14]!==c.error?(y=c.error&&(0,Ft.jsx)(Uj,{type:"error",children:c.error}),e[14]=c.error,e[15]=y):y=e[15],e[16]!==o?(b=o&&[kl.flex_row_reverse],e[16]=o,e[17]=b):b=e[17],e[18]!==b?(j=[kl.gap_sm,b],e[18]=b,e[19]=j):j=e[19],e[20]!==s?(v=s({id:"PaQ3df"}),e[20]=s,e[21]=v):v=e[21];const w="pending"===c.status;let S;e[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"PaQ3df"})}),e[22]=S):S=e[22];const k="pending"===c.status?wv:"success"===c.status?Wj:Cv;let C,P,T,L,A,I,R,D;return e[23]!==k?(C=(0,Ft.jsx)(Pr,{position:"right",icon:k}),e[23]=k,e[24]=C):C=e[24],e[25]!==m||e[26]!==v||e[27]!==w||e[28]!==C?(P=(0,Ft.jsxs)(Sr,{label:v,size:"large",variant:"solid",color:"primary",onPress:m,disabled:w,children:[S,C]}),e[25]=m,e[26]=v,e[27]=w,e[28]=C,e[29]=P):P=e[29],e[30]!==s?(T=s({id:"dEgA5A"}),e[30]=s,e[31]=T):T=e[31],e[32]!==a?(L=()=>a.close(),e[32]=a,e[33]=L):L=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})}),e[34]=A):A=e[34],e[35]!==T||e[36]!==L?(I=(0,Ft.jsx)(Sr,{label:T,size:"large",variant:"solid",color:"secondary",onPress:L,children:A}),e[35]=T,e[36]=L,e[37]=I):I=e[37],e[38]!==j||e[39]!==P||e[40]!==I?(R=(0,Ft.jsxs)(wo.default,{style:j,children:[P,I]}),e[38]=j,e[39]=P,e[40]=I,e[41]=R):R=e[41],e[42]!==R||e[43]!==_||e[44]!==y?(D=(0,Ft.jsxs)(wo.default,{style:h,children:[_,y,R]}),e[42]=R,e[43]=_,e[44]=y,e[45]=D):D=e[45],D}let Ov=function(e){return e.Update="Update",e.Verify="Verify",e.VerificationReminder="VerificationReminder",e.Manage2FA="Manage2FA",e}({});function zv(e){const t=(0,i.c)(10),{showScreen:s}=e,{isEmailVerified:n,email2FAEnabled:o}=Pj(),[r,a]=(0,mt.useState)(null);let l,c;if(t[0]!==n||t[1]!==s?(l=()=>{n||s({id:Ov.Verify,instructions:[(0,Ft.jsx)(ft.Trans,{id:"PriClI"},"2fa")],onVerify:()=>{s({id:Ov.Manage2FA})}})},c=[n,s],t[0]=n,t[1]=s,t[2]=l,t[3]=c):(l=t[2],c=t[3]),(0,mt.useEffect)(l,c),o){if(!r){let e;return a("disable"),t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Ev,{}),t[4]=e):e=t[4],e}if("disable"===r){let e;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Ev,{}),t[5]=e):e=t[5],e}if("enable"===r){let e;return t[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Bv,{}),t[6]=e):e=t[6],e}}else{if(!r){let e;return a("enable"),t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Bv,{}),t[7]=e):e=t[7],e}if("disable"===r){let e;return t[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Ev,{}),t[8]=e):e=t[8],e}if("enable"===r){let e;return t[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Bv,{}),t[9]=e):e=t[9],e}}return null}var Hv=s(64611);function Nv(){const e=(0,i.c)(2),t=bh();let s;return e[0]!==t?(s={mutationFn:async()=>{await t.com.atproto.server.requestEmailConfirmation()}},e[0]=t,e[1]=s):s=e[1],(0,Sd.useMutation)(s)}async function Vv(e,t,s){await e.com.atproto.server.updateEmail({email:t.trim(),token:s}),await e.resumeSession(e.session)}function qv(e,t){switch(t.type){case"setStep":return Object.assign({},e,{step:t.step});case"setError":return Object.assign({},e,{error:t.error,mutationStatus:"error"});case"setMutationStatus":return Object.assign({},e,{error:"",mutationStatus:t.status});case"setEmail":{const s=(0,Hv.validate)(t.value);return Object.assign({},e,{step:"email",token:"",email:t.value,emailValid:s})}case"setToken":return Object.assign({},e,{error:"",token:t.value})}}function Uv(e){const t=(0,i.c)(61),s=ec(),{_:n}=(0,ft.useLingui)(),o=Lj(),{currentAccount:r}=xh();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={step:"email",mutationStatus:"default",error:"",email:"",emailValid:!0,token:""},t[0]=a):a=t[0];const[l,c]=(0,mt.useReducer)(qv,a),{mutateAsync:d}=function(){const e=(0,i.c)(3),t=bh(),{mutateAsync:s}=Av();let n;return e[0]!==t||e[1]!==s?(n={mutationFn:async e=>{const{email:n,token:o}=e;if(o)return await Vv(t,n,o),{status:"success"};{const{tokenRequired:e}=await s();return e?{status:"tokenRequired"}:(await Vv(t,n,o),{status:"success"})}}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),{mutateAsync:u}=Av(),{mutateAsync:m}=Nv();let h;t[1]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{c({type:"setEmail",value:e})},t[1]=h):h=t[1];const p=h;let f;t[2]!==n||t[3]!==o||t[4]!==r||t[5]!==m||t[6]!==l.email||t[7]!==l.emailValid||t[8]!==l.step||t[9]!==l.token||t[10]!==d?(f=async()=>{if("token"!==l.step||Pv(l.token))if(c({type:"setMutationStatus",status:"pending"}),!1!==l.emailValid)if(l.email!==r.email)try{const{status:e}=await Tj(1e3,d({email:l.email,token:l.token}));if("tokenRequired"===e)c({type:"setStep",step:"token"}),c({type:"setMutationStatus",status:"default"});else if("success"===e){c({type:"setMutationStatus",status:"success"});try{await m()}catch{}}}catch(x){const t=x;ys.error("EmailDialog: update email failed",{safeMessage:t});const{clean:s}=o(t);c({type:"setError",error:s||n({id:"cUqfSd"})})}else c({type:"setError",error:n({id:"MxD+dT"})});else c({type:"setError",error:n({id:"Wq6Wcm"})});else c({type:"setError",error:n({id:"wtvoeQ"})})},t[2]=n,t[3]=o,t[4]=r,t[5]=m,t[6]=l.email,t[7]=l.emailValid,t[8]=l.step,t[9]=l.token,t[10]=d,t[11]=f):f=t[11];const g=f;let x,_,y,b,j,v,w,S,k,C;t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.gap_lg],t[12]=x):x=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"GmYkFm"})}),t[13]=_):_=t[13],t[14]!==r?.emailAuthFactor?(y=r?.emailAuthFactor&&(0,Ft.jsx)(Uj,{type:"warning",children:(0,Ft.jsx)(ft.Trans,{id:"hCwhYI"})}),t[14]=r?.emailAuthFactor,t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.gap_md],t[16]=b):b=t[16],t[17]!==s.atoms.text_contrast_medium?(j=[kl.pb_sm,kl.leading_snug,s.atoms.text_contrast_medium],t[17]=s.atoms.text_contrast_medium,t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"YpAI24"}),t[19]=v):v=t[19],t[20]!==j?(w=(0,Ft.jsx)(fr,{style:j,children:v}),t[20]=j,t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(sa,{icon:Rv}),t[22]=S):S=t[22],t[23]!==n?(k=n({id:"OenGwo"}),t[23]=n,t[24]=k):k=t[24],t[25]!==n?(C=n({id:"w8klS3"}),t[25]=n,t[26]=C):C=t[26];const P="success"===l.mutationStatus?void 0:p;let T,L,A,I,R,D,F;return t[27]!==g||t[28]!==l.email||t[29]!==k||t[30]!==C||t[31]!==P?(T=(0,Ft.jsxs)(Yi,{children:[S,(0,Ft.jsx)(ea,{label:k,placeholder:C,defaultValue:l.email,onChangeText:P,keyboardType:"email-address",autoComplete:"email",autoCapitalize:"none",onSubmitEditing:g})]}),t[27]=g,t[28]=l.email,t[29]=k,t[30]=C,t[31]=P,t[32]=T):T=t[32],t[33]!==T||t[34]!==w?(L=(0,Ft.jsxs)(wo.default,{children:[w,T]}),t[33]=T,t[34]=w,t[35]=L):L=t[35],t[36]!==g||t[37]!==u||t[38]!==l.mutationStatus||t[39]!==l.step||t[40]!==l.token||t[41]!==s.atoms.text_contrast_medium?(A="token"===l.step&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_sm,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"4fWT0G"})}),(0,Ft.jsx)(fr,{style:[kl.pb_sm,kl.leading_snug,s.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"94kT9k"})}),(0,Ft.jsx)(Tv,{value:l.token,onChangeText:"success"===l.mutationStatus?void 0:e=>{c({type:"setToken",value:e})},onSubmitEditing:g}),"success"!==l.mutationStatus&&(0,Ft.jsx)(Sv,{onPress:u,style:[kl.pt_sm]})]})]}),t[36]=g,t[37]=u,t[38]=l.mutationStatus,t[39]=l.step,t[40]=l.token,t[41]=s.atoms.text_contrast_medium,t[42]=A):A=t[42],t[43]!==l.error?(I=l.error&&(0,Ft.jsx)(Uj,{type:"error",children:l.error}),t[43]=l.error,t[44]=I):I=t[44],t[45]!==L||t[46]!==A||t[47]!==I?(R=(0,Ft.jsxs)(wo.default,{style:b,children:[L,A,I]}),t[45]=L,t[46]=A,t[47]=I,t[48]=R):R=t[48],t[49]!==n||t[50]!==g||t[51]!==l.email||t[52]!==l.mutationStatus||t[53]!==l.step||t[54]!==l.token||t[55]!==s.palette?(D="success"===l.mutationStatus?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center],children:[(0,Ft.jsx)(Zj,{fill:s.palette.positive_600,size:"xs"}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"oMgC5V"})})]}),(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"UGGtmB"})})]})]}):(0,Ft.jsxs)(Sr,{label:n({id:"F3cQW2"}),size:"large",variant:"solid",color:"primary",onPress:g,disabled:!l.email||"token"===l.step&&(!l.token||11!==l.token.length)||"pending"===l.mutationStatus,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"F3cQW2"})}),"pending"===l.mutationStatus&&(0,Ft.jsx)(Pr,{icon:wv})]}),t[49]=n,t[50]=g,t[51]=l.email,t[52]=l.mutationStatus,t[53]=l.step,t[54]=l.token,t[55]=s.palette,t[56]=D):D=t[56],t[57]!==R||t[58]!==D||t[59]!==y?(F=(0,Ft.jsxs)(wo.default,{style:x,children:[_,y,R,D]}),t[57]=R,t[58]=D,t[59]=y,t[60]=F):F=t[60],F}function Wv(e){const t=(0,i.c)(12),{gradient:s,style:n}=e;if(s.values.length<2)throw new Error("Gradient must have at least 2 colors");let o;t[0]!==s.values?(o=s.values.map(Qv),t[0]=s.values,t[1]=o):o=t[1];const r=o;let a;t[2]!==s.values?(a=s.values.map(Zv),t[2]=s.values,t[3]=a):a=t[3];const l=a;let c,d,u,m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(c={x:0,y:0},d={x:1,y:1},t[4]=c,t[5]=d):(c=t[4],d=t[5]),t[6]!==n?(u=[kl.absolute,kl.inset_0,n],t[6]=n,t[7]=u):u=t[7],t[8]!==r||t[9]!==l||t[10]!==u?(m=(0,Ft.jsx)(sr.LinearGradient,{colors:r,locations:l,start:c,end:d,style:u}),t[8]=r,t[9]=l,t[10]=u,t[11]=m):m=t[11],m}function Zv(e){return e[0]}function Qv(e){return e[1]}function Kv(e){const t=(0,i.c)(57),{showScreen:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),{gtPhone:r,gtMobile:a}=ql(),l=Lr(),c=a?kl.p_2xl.padding:kl.p_xl.padding;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.gap_lg],t[0]=d):d=t[0];const u=-1*vo({web:c,default:kl.p_2xl.padding}),m=-1*c,h=-1*c;let p,f,g,x,_,y,b;t[1]!==u||t[2]!==m||t[3]!==h?(p=[kl.absolute,{top:u,left:m,right:h,height:150}],t[1]=u,t[2]=m,t[3]=h,t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f={borderTopLeftRadius:kl.rounded_md.borderRadius,borderTopRightRadius:kl.rounded_md.borderRadius},t[5]=f):f=t[5],t[6]!==n.atoms.bg_contrast_100?(g=[kl.absolute,kl.inset_0,kl.align_center,kl.justify_center,kl.overflow_hidden,kl.pt_md,n.atoms.bg_contrast_100,f],t[6]=n.atoms.bg_contrast_100,t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Wv,{gradient:go.primary}),t[8]=x):x=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(Cv,{width:64,fill:"white",style:[kl.z_10]}),t[9]=_):_=t[9],t[10]!==g?(y=(0,Ft.jsxs)(wo.default,{style:g,children:[x,_]}),t[10]=g,t[11]=y):y=t[11],t[12]!==y||t[13]!==p?(b=(0,Ft.jsx)(wo.default,{style:p,children:y}),t[12]=y,t[13]=p,t[14]=b):b=t[14];const j=150-c;let v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N;return t[15]!==j?(v=(0,Ft.jsx)(wo.default,{style:[kl.mb_xs,{height:j}]}),t[15]=j,t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_sm],t[17]=w):w=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"F132R+"})}),t[18]=S):S=t[18],t[19]!==n.atoms.text_contrast_medium?(k=[kl.text_sm,kl.leading_snug,n.atoms.text_contrast_medium],t[19]=n.atoms.text_contrast_medium,t[20]=k):k=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(ft.Trans,{id:"E8ogPW"}),t[21]=C):C=t[21],t[22]!==k?(P=(0,Ft.jsxs)(wo.default,{style:w,children:[S,(0,Ft.jsx)(fr,{style:k,children:C})]}),t[22]=k,t[23]=P):P=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(Iv,{}),t[24]=T):T=t[24],t[25]!==r?(L=r&&[kl.flex_row_reverse],t[25]=r,t[26]=L):L=t[26],t[27]!==L?(A=[kl.gap_sm,L],t[27]=L,t[28]=A):A=t[28],t[29]!==o?(I=o({id:"ZDIydz"}),t[29]=o,t[30]=I):I=t[30],t[31]!==s?(R=()=>s({id:Ov.Verify}),t[31]=s,t[32]=R):R=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"ZDIydz"})}),t[33]=D):D=t[33],t[34]!==I||t[35]!==R?(F=(0,Ft.jsx)(Sr,{label:I,variant:"solid",color:"primary",size:"large",onPress:R,children:D}),t[34]=I,t[35]=R,t[36]=F):F=t[36],t[37]!==o?(E=o({id:"Dd7YLj"}),t[37]=o,t[38]=E):E=t[38],t[39]!==o?(M=o({id:"EN1na+"}),t[39]=o,t[40]=M):M=t[40],t[41]!==l?(B=()=>l.close(),t[41]=l,t[42]=B):B=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Dd7YLj"})}),t[43]=O):O=t[43],t[44]!==E||t[45]!==M||t[46]!==B?(z=(0,Ft.jsx)(Sr,{label:E,accessibilityHint:M,variant:"ghost",color:"secondary",size:"large",onPress:B,children:O}),t[44]=E,t[45]=M,t[46]=B,t[47]=z):z=t[47],t[48]!==A||t[49]!==F||t[50]!==z?(H=(0,Ft.jsxs)(wo.default,{style:A,children:[F,z]}),t[48]=A,t[49]=F,t[50]=z,t[51]=H):H=t[51],t[52]!==b||t[53]!==v||t[54]!==P||t[55]!==H?(N=(0,Ft.jsxs)(wo.default,{style:d,children:[b,v,P,T,H]}),t[52]=b,t[53]=v,t[54]=P,t[55]=H,t[56]=N):N=t[56],N}function $v(e,t){switch(t.type){case"setStep":return Object.assign({},e,{error:"",mutationStatus:"default",step:t.step});case"setError":return Object.assign({},e,{error:t.error,mutationStatus:"error"});case"setMutationStatus":return Object.assign({},e,{error:"",mutationStatus:t.status});case"setToken":return Object.assign({},e,{error:"",token:t.value})}}function Gv(e){const t=(0,i.c)(90),{config:s,showScreen:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),a=Lj(),{currentAccount:l}=xh();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={step:"email",mutationStatus:"default",error:"",token:""},t[0]=c):c=t[0];const[d,u]=(0,mt.useReducer)($v,c),{mutateAsync:m}=Nv(),{mutateAsync:h}=function(){const e=(0,i.c)(4),t=bh(),{currentAccount:s}=xh(),n=Cj();let o;return e[0]!==t||e[1]!==s||e[2]!==n?(o={mutationFn:async e=>{const{token:o}=e;if(!s?.email)throw new Error("No email found for the current account");await t.com.atproto.server.confirmEmail({email:s.email,token:o.trim()});const{data:r}=await t.resumeSession(t.session);n({isEmailVerified:!!r.emailConfirmed,email2FAEnabled:!!r.emailAuthFactor})}},e[0]=t,e[1]=s,e[2]=n,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}();let p,f;t[1]!==s?(p=()=>{s.onVerify?s.onVerify():u({type:"setStep",step:"success"})},t[1]=s,t[2]=p):p=t[2],function(e){const t=(0,i.c)(3);let s,n;t[0]!==e?(s=()=>(Sj.once("emailVerified",e),()=>{Sj.off("emailVerified",e)}),n=[e],t[0]=e,t[1]=s,t[2]=n):(s=t[1],n=t[2]),(0,mt.useEffect)(s,n)}(p),t[3]!==r||t[4]!==a||t[5]!==m?(f=async()=>{u({type:"setMutationStatus",status:"pending"});try{await Tj(1e3,m()),u({type:"setMutationStatus",status:"success"})}catch(x){const t=x;ys.error("EmailDialog: sending verification email failed",{safeMessage:t});const{clean:s}=a(t);u({type:"setError",error:s||r({id:"tN9z3K"})})}},t[3]=r,t[4]=a,t[5]=m,t[6]=f):f=t[6];const g=f;let x;t[7]!==r||t[8]!==a||t[9]!==h||t[10]!==d.token?(x=async()=>{if(Pv(d.token)){u({type:"setMutationStatus",status:"pending"});try{await Tj(1e3,h({token:d.token})),u({type:"setStep",step:"success"})}catch(y){const t=y;ys.error("EmailDialog: confirming email failed",{safeMessage:t});const{clean:s}=a(t);u({type:"setError",error:s||r({id:"A9woWr"})})}}else u({type:"setError",error:r({id:"wtvoeQ"})})},t[7]=r,t[8]=a,t[9]=h,t[10]=d.token,t[11]=x):x=t[11];const _=x;if("success"===d.step){let e,s,n,r,i,a,l,c,d,u,m;return t[12]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.gap_lg],t[12]=e):e=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_sm],t[13]=s):s=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.text_xl,kl.font_heavy],t[14]=n):n=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(r={top:1},t[15]=r):r=t[15],t[16]!==o.palette.positive_600?(i=(0,Ft.jsx)(ur.default,{style:r,children:(0,Ft.jsx)(Zj,{size:"sm",fill:o.palette.positive_600})}),t[16]=o.palette.positive_600,t[17]=i):i=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"7meqJL"}),t[18]=a):a=t[18],t[19]!==i?(l=(0,Ft.jsxs)(fr,{style:n,children:[i,"  ",a]}),t[19]=i,t[20]=l):l=t[20],t[21]!==o.atoms.text_contrast_medium?(c=[kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],t[21]=o.atoms.text_contrast_medium,t[22]=c):c=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"6nY+qX"}),t[23]=d):d=t[23],t[24]!==c?(u=(0,Ft.jsx)(fr,{style:c,children:d}),t[24]=c,t[25]=u):u=t[25],t[26]!==l||t[27]!==u?(m=(0,Ft.jsx)(wo.default,{style:e,children:(0,Ft.jsxs)(wo.default,{style:s,children:[l,u]})}),t[26]=l,t[27]=u,t[28]=m):m=t[28],m}let y,b,j,v,w,S,k,C,P,T,L,A,I,R,D;return t[29]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.gap_lg],t[29]=y):y=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.gap_sm],t[30]=b):b=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.text_xl,kl.font_heavy],t[31]=j):j=t[31],t[32]!==d.mutationStatus||t[33]!==d.step||t[34]!==o.palette?(v=(0,Ft.jsx)(fr,{style:j,children:"email"===d.step?"success"===d.mutationStatus?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ur.default,{style:{top:1},children:(0,Ft.jsx)(Zj,{size:"sm",fill:o.palette.positive_600})}),"  ",(0,Ft.jsx)(ft.Trans,{id:"JHLcvq"})]}):(0,Ft.jsx)(ft.Trans,{id:"/IBv6X"}):(0,Ft.jsx)(ft.Trans,{id:"Nuelt3"})}),t[32]=d.mutationStatus,t[33]=d.step,t[34]=o.palette,t[35]=v):v=t[35],t[36]!==s.instructions||t[37]!==d.mutationStatus||t[38]!==d.step||t[39]!==o.atoms.text_contrast_medium?(w="email"===d.step&&"success"!==d.mutationStatus&&(0,Ft.jsx)(Ft.Fragment,{children:s.instructions?.map(((e,t)=>(0,Ft.jsx)(fr,{style:[kl.italic,kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],children:e},t)))}),t[36]=s.instructions,t[37]=d.mutationStatus,t[38]=d.step,t[39]=o.atoms.text_contrast_medium,t[40]=w):w=t[40],t[41]!==o.atoms.text_contrast_medium?(S=[kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],t[41]=o.atoms.text_contrast_medium,t[42]=S):S=t[42],t[43]!==l.email||t[44]!==d.mutationStatus||t[45]!==d.step||t[46]!==o.atoms.text?(k="email"===d.step?"success"===d.mutationStatus?(0,Ft.jsx)(ft.Trans,{id:"yhUcvK",values:{0:l.email},components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold,o.atoms.text]})}}):(0,Ft.jsx)(ft.Trans,{id:"Z2fqAE",values:{0:l.email},components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold,o.atoms.text]})}}):(0,Ft.jsx)(ft.Trans,{id:"pqIkiM",values:{0:l.email},components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold,o.atoms.text]})}}),t[43]=l.email,t[44]=d.mutationStatus,t[45]=d.step,t[46]=o.atoms.text,t[47]=k):k=t[47],t[48]!==S||t[49]!==k?(C=(0,Ft.jsx)(fr,{style:S,children:k}),t[48]=S,t[49]=k,t[50]=C):C=t[50],t[51]!==r||t[52]!==n||t[53]!==d.mutationStatus||t[54]!==d.step||t[55]!==o.atoms.text_contrast_medium?(P="email"===d.step&&"success"!==d.mutationStatus&&(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"GYMBVa",components:{0:(0,Ft.jsx)(fv,Object.assign({label:r({id:"G3YQiX"})},xv((()=>{n({id:Ov.Update})}))))}})}),t[51]=r,t[52]=n,t[53]=d.mutationStatus,t[54]=d.step,t[55]=o.atoms.text_contrast_medium,t[56]=P):P=t[56],t[57]!==m||t[58]!==d.mutationStatus||t[59]!==d.step?(T="email"===d.step&&"success"===d.mutationStatus&&(0,Ft.jsx)(Sv,{onPress:m}),t[57]=m,t[58]=d.mutationStatus,t[59]=d.step,t[60]=T):T=t[60],t[61]!==C||t[62]!==P||t[63]!==T||t[64]!==v||t[65]!==w?(L=(0,Ft.jsxs)(wo.default,{style:b,children:[v,w,C,P,T]}),t[61]=C,t[62]=P,t[63]=T,t[64]=v,t[65]=w,t[66]=L):L=t[66],t[67]!==r||t[68]!==g||t[69]!==d.error||t[70]!==d.mutationStatus||t[71]!==d.step?(A="email"===d.step&&"success"!==d.mutationStatus?(0,Ft.jsxs)(Ft.Fragment,{children:[d.error&&(0,Ft.jsx)(Uj,{type:"error",children:d.error}),(0,Ft.jsxs)(Sr,{label:r({id:"IN+NvY"}),size:"large",variant:"solid",color:"primary",onPress:g,disabled:"pending"===d.mutationStatus,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"65dxv8"})}),(0,Ft.jsx)(Pr,{icon:"pending"===d.mutationStatus?wv:Rv})]})]}):null,t[67]=r,t[68]=g,t[69]=d.error,t[70]=d.mutationStatus,t[71]=d.step,t[72]=A):A=t[72],t[73]!==r||t[74]!==d.step||t[75]!==o.atoms.text_contrast_medium?(I="email"===d.step&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"xN/fJ8",components:{0:(0,Ft.jsx)(fv,Object.assign({label:r({id:"lPgKS3"})},xv((()=>{u({type:"setStep",step:"token"})}))))}})})]}),t[73]=r,t[74]=d.step,t[75]=o.atoms.text_contrast_medium,t[76]=I):I=t[76],t[77]!==r||t[78]!==_||t[79]!==d.error||t[80]!==d.mutationStatus||t[81]!==d.step||t[82]!==d.token||t[83]!==o.atoms.text_contrast_medium?(R="token"===d.step?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Tv,{value:d.token,onChangeText:e=>{u({type:"setToken",value:e})},onSubmitEditing:_}),d.error&&(0,Ft.jsx)(Uj,{type:"error",children:d.error}),(0,Ft.jsxs)(Sr,{label:r({id:"4LFZoj"}),size:"large",variant:"solid",color:"primary",onPress:_,disabled:!d.token||11!==d.token.length||"pending"===d.mutationStatus,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"4LFZoj"})}),"pending"===d.mutationStatus&&(0,Ft.jsx)(Pr,{icon:wv})]}),(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"7h9YU2",components:{0:(0,Ft.jsx)(fv,Object.assign({label:r({id:"9dAlPj"})},xv((()=>{u({type:"setStep",step:"email"})}))))}})})]}):null,t[77]=r,t[78]=_,t[79]=d.error,t[80]=d.mutationStatus,t[81]=d.step,t[82]=d.token,t[83]=o.atoms.text_contrast_medium,t[84]=R):R=t[84],t[85]!==L||t[86]!==A||t[87]!==I||t[88]!==R?(D=(0,Ft.jsxs)(wo.default,{style:y,children:[L,A,I,R]}),t[85]=L,t[86]=A,t[87]=I,t[88]=R,t[89]=D):D=t[89],D}function Yv(){return No().emailDialogControl}function Jv(){const e=(0,i.c)(17),{_:t}=(0,ft.useLingui)(),s=Yv(),{isEmailVerified:n}=Pj();let o;e[0]!==s||e[1]!==n?(o=()=>{n||s.value?.id===Ov.Verify&&s.value.onCloseWithoutVerifying?.(),s.clear()},e[0]=s,e[1]=n,e[2]=o):o=e[2];const r=o,a=s.control;let l,c,d,u,m,h,p;return e[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ha,{}),e[3]=l):l=e[3],e[4]!==t?(c=t({id:"L8XZrX"}),e[4]=t,e[5]=c):c=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(d=_o({maxWidth:400}),e[6]=d):d=e[6],e[7]!==s?(u=(0,Ft.jsx)(Xv,{control:s}),e[7]=s,e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ma,{}),e[9]=m):m=e[9],e[10]!==c||e[11]!==u?(h=(0,Ft.jsxs)(da,{label:c,style:d,children:[u,m]}),e[10]=c,e[11]=u,e[12]=h):h=e[12],e[13]!==s.control||e[14]!==r||e[15]!==h?(p=(0,Ft.jsxs)(aa,{control:a,onClose:r,children:[l,h]}),e[13]=s.control,e[14]=r,e[15]=h,e[16]=p):p=e[16],p}function Xv(e){const t=(0,i.c)(10),{control:s}=e;let n;t[0]!==s.value?(n=()=>s.value,t[0]=s.value,t[1]=n):n=t[1];const[o,r]=(0,mt.useState)(n);if(!o)return null;switch(o.id){case Ov.Update:{let e;return t[2]!==o?(e=(0,Ft.jsx)(Uv,{config:o,showScreen:r}),t[2]=o,t[3]=e):e=t[3],e}case Ov.Verify:{let e;return t[4]!==o?(e=(0,Ft.jsx)(Gv,{config:o,showScreen:r}),t[4]=o,t[5]=e):e=t[5],e}case Ov.VerificationReminder:{let e;return t[6]!==o?(e=(0,Ft.jsx)(Kv,{config:o,showScreen:r}),t[6]=o,t[7]=e):e=t[7],e}case Ov.Manage2FA:{let e;return t[8]!==o?(e=(0,Ft.jsx)(zv,{config:o,showScreen:r}),t[8]=o,t[9]=e):e=t[9],e}default:return null}}function ew(){const e=(0,i.c)(6),{currentAccount:t}=xh(),{needsEmailVerification:s}=wj(),n=yh(),o=Yv(),r=Om();let a;return e[0]!==r||e[1]!==t||e[2]!==o||e[3]!==s||e[4]!==n?(a=(e,i)=>{const a=void 0===i?{}:i;return(...i)=>{const l=i;return t?s?(ja.default.dismiss(),r(),void o.open(Object.assign({id:Ov.Verify},a))):e(...l):n((()=>e(...l)))}},e[0]=r,e[1]=t,e[2]=o,e[3]=s,e[4]=n,e[5]=a):a=e[5],a}function tw(){const e=(0,i.c)(6),{openComposer:t}=function(){const e=(0,i.c)(2),{openComposer:t}=mt.useContext(Em);let s,n;return e[0]!==t?(n={openComposer:t},e[0]=t,e[1]=n):n=e[1],s=n,s}(),s=ew();let n,o,r,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(ft.Trans,{id:"g669Pi"},"pre-compose"),e[0]=o):o=e[0],e[1]!==t||e[2]!==s?(r=s(t,{instructions:[o]}),e[1]=t,e[2]=s,e[3]=r):r=e[3],e[4]!==r?(a={openComposer:r},e[4]=r,e[5]=a):a=e[5],n=a,n}const sw=zr({path:"M5 3a1 1 0 0 1 1 1v1.423c.498-.46 1.02-.869 1.58-1.213C8.863 3.423 10.302 3 12.028 3a9 9 0 1 1-8.487 12 1 1 0 0 1 1.885-.667A7 7 0 1 0 12.028 5c-1.37 0-2.444.327-3.402.915-.474.29-.93.652-1.383 1.085H9a1 1 0 0 1 0 2H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1Z"});function nw(){const e=(0,i.c)(6),{verifyEmailDialogControl:t}=iw();let s,n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),e[0]=s):s=e[0],e[1]!==t?(n=(0,Ft.jsx)(ow,{control:t}),e[1]=t,e[2]=n):n=e[2],e[3]!==t||e[4]!==n?(o=(0,Ft.jsxs)(aa,{control:t,children:[s,n]}),e[3]=t,e[4]=n,e[5]=o):o=e[5],o}function ow({}){const e=ec(),{gtMobile:t}=ql(),{_:s}=(0,ft.useLingui)(),{verifyEmailState:n}=iw(),[o,r]=mt.useState("loading"),[i,a]=mt.useState(!1),l=bh(),{currentAccount:c}=xh();mt.useEffect((()=>{(async()=>{if(n?.code)try{await l.com.atproto.server.confirmEmail({email:(c?.email||"").trim(),token:n.code.trim()}),r("success")}catch(e){r("failure")}})()}),[l.com.atproto.server,c?.email,n?.code]);return(0,Ft.jsxs)(da,{label:s({id:"JMTD7S"}),style:[t?{width:"auto",maxWidth:400,minWidth:200}:kl.w_full],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_xl],children:["loading"===o?(0,Ft.jsx)(wo.default,{style:[kl.py_2xl,kl.align_center,kl.justify_center],children:(0,Ft.jsx)(wv,{size:"xl",fill:e.atoms.text_contrast_low.color})}):"success"===o?(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kt&&kl.pb_xl],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"nKExoO"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"oNSoEG"})})]}):"failure"===o?(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"3/4uj+"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"7FR3ev"})})]}):(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kt&&kl.pb_xl],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"yAJVYn"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"19e6ry",values:{0:c?.email},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold]})}})})]}),"failure"===o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(Sr,{label:s({id:"NRybJY"}),onPress:async()=>{a(!0),await l.com.atproto.server.requestEmailConfirmation(),a(!1),r("resent")},variant:"solid",color:"secondary_inverted",size:"large",disabled:i,children:[(0,Ft.jsx)(Pr,{icon:i?wv:sw,position:"left"}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Brvd0l"})})]})]})]}),(0,Ft.jsx)(ma,{})]})}const rw=mt.createContext({}),iw=()=>mt.useContext(rw);function aw(e){const t=(0,i.c)(7),{children:s}=e,n=Ar(),[o,r]=mt.useState();let a,l;t[0]!==n||t[1]!==o?(l={verifyEmailDialogControl:n,verifyEmailState:o,setVerifyEmailState:r},t[0]=n,t[1]=o,t[2]=l):l=t[2],a=l;const c=a;let d,u;return t[3]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(nw,{}),t[3]=d):d=t[3],t[4]!==s||t[5]!==c?(u=(0,Ft.jsxs)(rw.Provider,{value:c,children:[s,d]}),t[4]=s,t[5]=c,t[6]=u):u=t[6],u}const lw=/^[\w.:\-_/]+\|\d+(\.\d+)?\|\d+(\.\d+)?$/;let cw="";function dw(){const e=(0,i.c)(5),t=jj.useURL(),s=function(){const e=(0,i.c)(4),t=Om(),{openComposer:s}=tw(),{hasSession:n}=xh();let o;e[0]!==t||e[1]!==n||e[2]!==s?(o=e=>{const{text:o,imageUrisStr:r,videoUri:i}=e;if(!n)return;if(t(),i){const[e,t,n]=i.split("|");return void s({text:o??void 0,videoUri:{uri:e,width:Number(t),height:Number(n)}})}const a=r?.split(",").filter(mw).map(uw);setTimeout((()=>{s({text:o??void 0,imageUris:kt?a:void 0})}),500)},e[0]=t,e[1]=n,e[2]=s,e[3]=o):o=e[3];return o}(),n=function(){const e=(0,i.c)(4),t=Om(),{verifyEmailDialogControl:s,setVerifyEmailState:n}=iw();let o;e[0]!==t||e[1]!==s||e[2]!==n?(o=e=>{t(),n({code:e}),setTimeout((()=>{s.open()}),1e3)},e[0]=t,e[1]=s,e[2]=n,e[3]=o):o=e[3];return o}();let o,r;e[0]!==s||e[1]!==t||e[2]!==n?(o=()=>{if(t){if(cw===t)return;(e=>{const t=$s();t&&"bsky.app"!==t.hostname&&En("deepLink:referrerReceived",{to:e,referrer:t?.referrer,hostname:t?.hostname}),e.startsWith("bluesky://")&&!e.startsWith("bluesky:///")&&(e=e.replace("bluesky://","bluesky:///"));const o=new URL(e),[,r,i]=o.pathname.split("/"),a="intent"===r,l=o.searchParams;if(a)switch(i){case"compose":return void s({text:l.get("text"),imageUrisStr:l.get("imageUris"),videoUri:l.get("videoUri")});case"verify-email":{const e=l.get("code");if(!e)return;return void n(e)}default:;}})(t),cw=t}},r=[t,s,n],e[0]=s,e[1]=t,e[2]=n,e[3]=o,e[4]=r):(o=e[3],r=e[4]),mt.useEffect(o,r)}function uw(e){const[t,s,n]=e.split("|");return{uri:t,width:Number(s),height:Number(n)}}function mw(e){return!e.includes("https://")&&!e.includes("http://")&&lw.test(e)}var hw=s(68922),pw=s(17990);const fw=ji(16),gw=Gn.default.create({root:{alignItems:"flex-end",pointerEvents:"box-none"},closeButton:{marginRight:10,marginTop:10,width:44,height:44,alignItems:"center",justifyContent:"center",borderRadius:22,backgroundColor:"#00000077"},blurredBackground:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}}),xw=e=>{const t=(0,i.c)(10),{onRequestClose:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[gw.closeButton,gw.blurredBackground],t[0]=o):o=t[0],t[1]!==n?(r=n({id:"47L1V1"}),t[1]=n,t[2]=r):r=t[2],t[3]!==n?(a=n({id:"w2dOBm"}),t[3]=n,t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"close",color:"#fff",size:22}),t[5]=l):l=t[5],t[6]!==s||t[7]!==r||t[8]!==a?(c=(0,Ft.jsx)(pw.SafeAreaView,{style:gw.root,children:(0,Ft.jsx)(Ix.default,{style:o,onPress:s,hitSlop:fw,accessibilityRole:"button",accessibilityLabel:r,accessibilityHint:a,onAccessibilityEscape:s,children:l})}),t[6]=s,t[7]=r,t[8]=a,t[9]=c):c=t[9],c};function _w(){const e=(0,i.c)(5),{activeLightbox:t}=zd(),{closeLightbox:s}=Hd();if(!!!t)return null;const n=t.index,o=t.images;let r,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(Fo.RemoveScrollBar,{}),e[0]=r):r=e[0],e[1]!==s||e[2]!==o||e[3]!==n?(a=(0,Ft.jsxs)(Ft.Fragment,{children:[r,(0,Ft.jsx)(yw,{imgs:o,initialIndex:n,onClose:s})]}),e[1]=s,e[2]=o,e[3]=n,e[4]=a):a=e[4],a}function yw(e){const t=(0,i.c)(42),{imgs:s,initialIndex:n,onClose:o}=e,r=void 0===n?0:n,{_:a}=(0,ft.useLingui)(),[l,c]=(0,mt.useState)(r),[d,u]=(0,mt.useState)(!1),m=l>=1,h=l<s.length-1;let p;t[0]!==m||t[1]!==l?(p=()=>{m&&c(l-1)},t[0]=m,t[1]=l,t[2]=p):p=t[2];const f=p;let g;t[3]!==h||t[4]!==l?(g=()=>{h&&c(l+1)},t[3]=h,t[4]=l,t[5]=g):g=t[5];const x=g;let _;t[6]!==o||t[7]!==f||t[8]!==x?(_=e=>{"Escape"===e.key?o():"ArrowLeft"===e.key?f():"ArrowRight"===e.key&&x()},t[6]=o,t[7]=f,t[8]=x,t[9]=_):_=t[9];const y=_;let b,j;t[10]!==y?(b=()=>(window.addEventListener("keydown",y),()=>window.removeEventListener("keydown",y)),j=[y],t[10]=y,t[11]=b,t[12]=j):(b=t[11],j=t[12]),(0,mt.useEffect)(b,j);const{isTabletOrDesktop:v}=jx();let w;w=v?bw.btnTablet:bw.btnMobile;const S=w;let k;k=v?32:24;const C=k,P=s[l],T="circle-avi"===P.type||"rect-avi"===P.type;let L,A,I,R,D,F,E;return t[13]!==a?(L=a({id:"l49ujN"}),t[13]=a,t[14]=L):L=t[14],t[15]!==a?(A=a({id:"iKpwmj"}),t[15]=a,t[16]=A):A=t[16],t[17]!==a||t[18]!==S||t[19]!==m||t[20]!==h||t[21]!==C||t[22]!==P||t[23]!==T||t[24]!==f||t[25]!==x?(I=T?(0,Ft.jsx)(wo.default,{style:bw.aviCenterer,children:(0,Ft.jsx)("img",{src:P.uri,style:Object.assign({},bw.avi,{borderRadius:"circle-avi"===P.type?"50%":"rect-avi"===P.type?"10%":0}),alt:P.alt})}):(0,Ft.jsxs)(wo.default,{style:bw.imageCenterer,children:[(0,Ft.jsx)(hw.default,{accessibilityIgnoresInvertColors:!0,source:P,style:bw.image,accessibilityLabel:P.alt,accessibilityHint:""}),m&&(0,Ft.jsx)(Ix.default,{onPress:f,style:[bw.btn,S,bw.leftBtn,bw.blurredBackground],accessibilityRole:"button",accessibilityLabel:a({id:"MHk+7g"}),accessibilityHint:"",children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-left",style:bw.icon,size:C})}),h&&(0,Ft.jsx)(Ix.default,{onPress:x,style:[bw.btn,S,bw.rightBtn,bw.blurredBackground],accessibilityRole:"button",accessibilityLabel:a({id:"EatZYJ"}),accessibilityHint:"",children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:bw.icon,size:C})})]}),t[17]=a,t[18]=S,t[19]=m,t[20]=h,t[21]=C,t[22]=P,t[23]=T,t[24]=f,t[25]=x,t[26]=I):I=t[26],t[27]!==o||t[28]!==A||t[29]!==I||t[30]!==L?(R=(0,Ft.jsx)(Ao.default,{onPress:o,accessibilityRole:"button",accessibilityLabel:L,accessibilityHint:A,onAccessibilityEscape:o,children:I}),t[27]=o,t[28]=A,t[29]=I,t[30]=L,t[31]=R):R=t[31],t[32]!==a||t[33]!==P.alt||t[34]!==d?(D=P.alt?(0,Ft.jsx)(wo.default,{style:bw.footer,children:(0,Ft.jsx)(tr.default,{accessibilityLabel:a({id:"0PkE20"}),accessibilityHint:a({id:"+2Y2GY"}),onPress:()=>{u(!d)},children:(0,Ft.jsx)(Tx,{style:oc.white,numberOfLines:d?0:3,ellipsizeMode:"tail",children:P.alt})})}):null,t[32]=a,t[33]=P.alt,t[34]=d,t[35]=D):D=t[35],t[36]!==o?(F=(0,Ft.jsx)(wo.default,{style:bw.closeBtn,children:(0,Ft.jsx)(xw,{onRequestClose:o})}),t[36]=o,t[37]=F):F=t[37],t[38]!==R||t[39]!==D||t[40]!==F?(E=(0,Ft.jsxs)(wo.default,{style:bw.mask,children:[R,D,F]}),t[38]=R,t[39]=D,t[40]=F,t[41]=E):E=t[41],E}const bw=Gn.default.create({mask:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000c"},imageCenterer:{flex:1,alignItems:"center",justifyContent:"center"},image:{width:"100%",height:"100%",resizeMode:"contain"},aviCenterer:{flex:1,alignItems:"center",justifyContent:"center"},avi:{maxWidth:"calc(min(400px, 100vw))",maxHeight:"calc(min(400px, 100vh))",padding:16,boxSizing:"border-box"},icon:{color:sc.white},closeBtn:{position:"absolute",top:10,right:10},btn:{position:"absolute",backgroundColor:"#00000077",justifyContent:"center",alignItems:"center"},btnTablet:{width:50,height:50,borderRadius:25,left:30,right:30},btnMobile:{width:44,height:44,borderRadius:22,left:20,right:20},leftBtn:{right:"auto",top:"50%"},rightBtn:{left:"auto",top:"50%"},footer:{paddingHorizontal:32,paddingVertical:24,backgroundColor:sc.black},blurredBackground:{backdropFilter:"blur(10px)",WebkitBackdropFilter:"blur(10px)"}});var jw=s(16367);const vw=/^[A-Z2-7]{5}-[A-Z2-7]{5}$/;function ww(e){let t=e.trim().toUpperCase();return 10===t.length&&(t=`${t.slice(0,5)}-${t.slice(5,10)}`),!!vw.test(t)&&t}var Sw=s(45208),kw=function(e){return e[e.RequestCode=0]="RequestCode",e[e.ChangePassword=1]="ChangePassword",e[e.Done=2]="Done",e}(kw||{});function Cw(){const e=mx("default"),{currentAccount:t}=xh(),s=bh(),{_:n}=(0,ft.useLingui)(),[o,r]=(0,mt.useState)(kw.RequestCode),[i,a]=(0,mt.useState)(!1),[l,c]=(0,mt.useState)(""),[d,u]=(0,mt.useState)(""),[m,h]=(0,mt.useState)(""),{isMobile:p}=jx(),{closeModal:f}=Zd();return(0,Ft.jsx)(jw.default,{style:[e.view,oc.flex1],children:(0,Ft.jsxs)(Sw.default,{contentContainerStyle:[Pw.container,p&&Pw.containerMobile],keyboardShouldPersistTaps:"handled",children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(wo.default,{style:Pw.titleSection,children:(0,Ft.jsx)(Tx,{type:"title-lg",style:[e.text,Pw.title],children:o!==kw.Done?n({id:"VhMDMg"}):n({id:"IrZaAn"})})}),(0,Ft.jsx)(Tx,{type:"lg",style:[e.textLight,{marginBottom:10}],children:o===kw.RequestCode?(0,Ft.jsx)(ft.Trans,{id:"d4jjUi"}):o===kw.ChangePassword?(0,Ft.jsx)(ft.Trans,{id:"MbyTAS"}):(0,Ft.jsx)(ft.Trans,{id:"xNu1Nx"})}),o===kw.RequestCode&&(0,Ft.jsx)(wo.default,{style:[oc.flexRow,oc.justifyCenter,oc.mt10],children:(0,Ft.jsx)(Ix.default,{testID:"skipSendEmailButton",onPress:()=>r(kw.ChangePassword),accessibilityRole:"button",accessibilityLabel:n({id:"Rtp0y7"}),accessibilityHint:n({id:"e0WHBA"}),children:(0,Ft.jsx)(Tx,{type:"xl",style:[e.link,oc.pr5],children:(0,Ft.jsx)(ft.Trans,{id:"FTT4a4"})})})}),o===kw.ChangePassword&&(0,Ft.jsxs)(wo.default,{style:[e.border,Pw.group],children:[(0,Ft.jsxs)(wo.default,{style:[Pw.groupContent],children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"ticket",style:[e.textLight,Pw.groupContentIcon]}),(0,Ft.jsx)(Kr.default,{testID:"codeInput",style:[e.text,Pw.textInput],placeholder:n({id:"vJgYMA"}),placeholderTextColor:e.colors.textLight,value:l,onChangeText:c,onFocus:()=>h(""),onBlur:()=>{const e=ww(l);e?c(e):h(n({id:"svKSj/"}))},accessible:!0,accessibilityLabel:n({id:"ceGGj4"}),accessibilityHint:"",autoCapitalize:"none",autoCorrect:!1,autoComplete:"off"})]}),(0,Ft.jsxs)(wo.default,{style:[e.borderDark,Pw.groupContent,Pw.groupBottom],children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"lock",style:[e.textLight,Pw.groupContentIcon]}),(0,Ft.jsx)(Kr.default,{testID:"codeInput",style:[e.text,Pw.textInput],placeholder:n({id:"/nT6AE"}),placeholderTextColor:e.colors.textLight,onChangeText:u,secureTextEntry:!0,accessible:!0,accessibilityLabel:n({id:"7vhWI8"}),accessibilityHint:"",autoCapitalize:"none",autoComplete:"new-password"})]})]}),m?(0,Ft.jsx)(Rx,{message:m,style:Pw.error}):void 0]}),(0,Ft.jsx)(wo.default,{style:[Pw.btnContainer],children:i?(0,Ft.jsx)(wo.default,{style:Pw.btn,children:(0,Ft.jsx)(Fx.default,{color:"#fff"})}):(0,Ft.jsxs)(wo.default,{style:{gap:6},children:[o===kw.RequestCode&&(0,Ft.jsx)(Ex,{testID:"requestChangeBtn",type:"primary",onPress:async()=>{if(!t?.email||!Hv.validate(t.email))return h(n({id:"tBpzKB"}));h(""),a(!0);try{await s.com.atproto.server.requestPasswordReset({email:t.email}),r(kw.ChangePassword)}catch(e){const t=e.toString();ys.warn("Failed to request password reset",{error:e}),ms(e)?h(n({id:"nc4Wfd"})):h(ds(t))}finally{a(!1)}},accessibilityLabel:n({id:"BrEm08"}),accessibilityHint:"",label:n({id:"BrEm08"}),labelContainerStyle:{justifyContent:"center",padding:4},labelStyle:[oc.f18]}),o===kw.ChangePassword&&(0,Ft.jsx)(Ex,{testID:"confirmBtn",type:"primary",onPress:async()=>{const e=ww(l);if(e)if(d)if(d.length<8)h(n({id:"Kv2KMJ"}));else{h(""),a(!0);try{await s.com.atproto.server.resetPassword({token:e,password:d}),r(kw.Done)}catch(t){const e=t.toString();ys.warn("Failed to set new password",{error:t}),ms(t)?h(n({id:"nc4Wfd"})):h(ds(e))}finally{a(!1)}}else h(n({id:"PmYr1Y"}));else h(n({id:"svKSj/"}))},accessibilityLabel:n({id:"hXzOVo"}),accessibilityHint:"",label:n({id:"hXzOVo"}),labelContainerStyle:{justifyContent:"center",padding:4},labelStyle:[oc.f18]}),(0,Ft.jsx)(Ex,{testID:"cancelBtn",type:o!==kw.Done?"default":"primary",onPress:()=>{f()},accessibilityLabel:o!==kw.Done?n({id:"dEgA5A"}):n({id:"yz7wBu"}),accessibilityHint:"",label:o!==kw.Done?n({id:"dEgA5A"}):n({id:"yz7wBu"}),labelContainerStyle:{justifyContent:"center",padding:4},labelStyle:[oc.f18]})]})})]})})}const Pw=Gn.default.create({container:{justifyContent:"space-between"},containerMobile:{paddingHorizontal:18,paddingBottom:35},titleSection:{paddingTop:Pt?0:4,paddingBottom:Pt?14:10},title:{textAlign:"center",fontWeight:"600",marginBottom:5},error:{borderRadius:6},textInput:{width:"100%",paddingHorizontal:14,paddingVertical:10,fontSize:16},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:32,padding:14,backgroundColor:sc.blue3},btnContainer:{paddingTop:20},group:{borderWidth:1,borderRadius:10,marginVertical:20},groupLabel:{paddingHorizontal:20,paddingBottom:5},groupContent:{flexDirection:"row",alignItems:"center"},groupBottom:{borderTopWidth:1},groupContentIcon:{marginLeft:10}});var Tw=s(63916),Lw=s(59563),Aw=s.n(Lw);function Iw(e,t,s=!1,n="end"){if((e=e||"").length>t){if(s){if("end"===n)return e.slice(0,t)+"\u2026";if("middle"===n){const s=Math.floor(t/2);return e.slice(0,s)+"\u2026"+e.slice(-s)}return e.slice(0,t)}return e.slice(0,t)}return e}function Rw({text:e,maxCount:t}){const s=(0,mt.useMemo)((()=>new(Aw())),[]);return(0,mt.useMemo)((()=>s.countGraphemes(e)>t),[s,t,e])}function Dw(e){return e?e.match(/\n/g)?.length??0:0}function Fw(e,t){const{text:s,facets:n}=e;if(!n?.length)return s;let o="";for(const r of e.segments()){const e=r.link;if(e&&Is.AppBskyRichtextFacet.validateLink(e).success){const s=e.uri,n=r.text;o+=Cu(s,n)?t?`[${n}](${s})`:n:s}else o+=r.text}return o}async function Ew(e,t=100){let s,n=[];for(let o=0;o<t;o++){const t=await e(s);if(s=t.cursor,n=n.concat(t.items),!s)break}return n}const Mw="my-lists",Bw=e=>[Mw,e];function Ow(e){const t=(0,i.c)(7),{currentAccount:s}=xh(),n=bh();let o,r;return t[0]!==e?(o=Bw(e),t[0]=e,t[1]=o):o=t[1],t[2]!==n||t[3]!==s||t[4]!==e||t[5]!==o?(r={staleTime:Ld.MINUTES.ONE,queryKey:o,async queryFn(){const t=[],o=[Ew((e=>n.app.bsky.graph.getLists({actor:s.did,cursor:e,limit:50}).then(Nw)))];"all-including-subscribed"!==e&&"mod"!==e||(o.push(Ew((e=>n.app.bsky.graph.getListMutes({cursor:e,limit:50}).then(Hw)))),o.push(Ew((e=>n.app.bsky.graph.getListBlocks({cursor:e,limit:50}).then(zw)))));const r=await Promise.all(o);for(const s of r)for(const n of s)"curate"===e&&"app.bsky.graph.defs#curatelist"!==n.purpose||"mod"===e&&"app.bsky.graph.defs#modlist"!==n.purpose||t.find((e=>e.uri===n.uri))||t.push(n);return t},enabled:!!s},t[2]=n,t[3]=s,t[4]=e,t[5]=o,t[6]=r):r=t[6],(0,vd.useQuery)(r)}function zw(e){return{cursor:e.data.cursor,items:e.data.lists}}function Hw(e){return{cursor:e.data.cursor,items:e.data.lists}}function Nw(e){return{cursor:e.data.cursor,items:e.data.lists}}function Vw(e,t){t?e.invalidateQueries({queryKey:Bw(t)}):e.invalidateQueries({queryKey:[Mw]})}const qw="profile-lists",Uw=e=>[qw,e];function Ww(e){return e.cursor}const Zw="list",Qw=e=>[Zw,e];function Kw(e){return"string"===typeof e?.data?.list.uri}function $w(e){return!e?.success}function Gw(e){const t=new Is.AtUri(e);return{$type:"com.atproto.repo.applyWrites#delete",collection:t.collection,rkey:t.rkey}}function Yw(e){return e.uri}function Jw(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;return e[0]!==s?(n=async e=>{const{uri:t,mute:n}=e;n?await s.muteModList(t):await s.unmuteModList(t),await eS(s,t,(e=>Boolean(e?.data.list.viewer?.muted)===n))},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(e,s){t.invalidateQueries({queryKey:Qw(s.uri)})}},e[2]=t,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}function Xw(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;return e[0]!==s?(n=async e=>{const{uri:t,block:n}=e;n?await s.blockModList(t):await s.unblockModList(t),await eS(s,t,(e=>n?"string"===typeof e?.data.list.viewer?.blocked:!e?.data.list.viewer?.blocked))},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(e,s){t.invalidateQueries({queryKey:Qw(s.uri)})}},e[2]=t,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}async function eS(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.graph.getList({list:t,limit:1})))}var tS=s(79858),sS=s(87965);function nS(e){const t=(0,i.c)(5),s=Dy(e),n=(Ja(),Qb());let o;if(s&&"status"in s&&s.status&&rS(s.did,s.status,n)&&oS(s.status.expiresAt)){const e=s.status.embed;let n;t[0]!==s.status.expiresAt||t[1]!==s.status.record||t[2]!==e?(n={isActive:!0,status:"app.bsky.actor.status#live",embed:e,expiresAt:s.status.expiresAt,record:s.status.record},t[0]=s.status.expiresAt,t[1]=s.status.record,t[2]=e,t[3]=n):n=t[3],o=n}else{let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e={status:"",isActive:!1,record:{}},t[4]=e):e=t[4],o=e}return o}function oS(e){if(!e)return!1;const t=new Date,s=(0,tS.default)(e);return(0,sS.default)(s,t)}function rS(e,t,s){if("app.bsky.actor.status#live"!==t.status)return!1;const n=s.find((t=>t.did===e));if(!n)return!1;try{if(Is.AppBskyEmbedExternal.isView(t.embed)){const e=new URL(t.embed.external.uri);return n.domains.includes(e.hostname)}return!1}catch{return!1}}s(47797);var iS=s(58590),aS=s(48320);function lS(){const e=(0,i.c)(2),t=Sc();let s;return e[0]!==t?(s=e=>{const s=void 0===e?"Medium":e;if(t||Pt)return;const n=wt?iS.ImpactFeedbackStyle[s]:iS.ImpactFeedbackStyle.Light;(0,aS.impactAsync)(n)},e[0]=t,e[1]=s):s=e[1],s}function cS(e,...t){let s=e.did;return e.handle&&!tu(e.handle)&&(s=e.handle),["/profile",s,...t].join("/")}function dS(e,t,s,n){return["/profile",e,"feed",t,...s?[s]:[]].join("/")+(n?`?feedCacheKey=${encodeURIComponent(n)}`:"")}function uS(e,t,...s){return["/profile",e,"lists",t,...s].join("/")}s(69659);var mS=s(30916);function hS(e){const t=(0,i.c)(6);let s,n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(pS,Object.assign({},e)),t[1]=e,t[2]=n):n=t[2],t[3]!==e.control||t[4]!==n?(o=(0,Ft.jsxs)(aa,{control:e.control,children:[s,n]}),t[3]=e.control,t[4]=n,t[5]=o):o=t[5],o}function pS(e){const t=(0,i.c)(22),{control:s,image:n,onChange:o,circularCrop:r,aspectRatio:a}=e,{_:l}=(0,ft.useLingui)(),[c,d]=(0,mt.useState)(!1),u=(0,mt.useRef)(null);let m;t[0]!==l||t[1]!==s||t[2]!==c?(m=()=>(0,Ft.jsx)(Sr,{label:l({id:"dEgA5A"}),disabled:c,onPress:()=>s.close(),size:"small",color:"primary",variant:"ghost",style:[kl.rounded_full],testID:"cropImageCancelBtn",children:(0,Ft.jsx)(Cr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})}),t[0]=l,t[1]=s,t[2]=c,t[3]=m):m=t[3];const h=m;let p;t[4]!==l||t[5]!==c?(p=()=>(0,Ft.jsxs)(Sr,{label:l({id:"tfDRzk"}),onPress:async()=>{d(!0),await(u.current?.save()),d(!1)},disabled:c,size:"small",color:"primary",variant:"ghost",style:[kl.rounded_full],testID:"cropImageSaveBtn",children:[(0,Ft.jsx)(Cr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),c&&(0,Ft.jsx)(Pr,{icon:wv})]}),t[4]=l,t[5]=c,t[6]=p):p=t[6];const f=p;let g,x,_,y,b;return t[7]!==l?(g=l({id:"XQFMOm"}),t[7]=l,t[8]=g):g=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Qr,{children:(0,Ft.jsx)(ft.Trans,{id:"XQFMOm"})}),t[9]=x):x=t[9],t[10]!==h||t[11]!==f?(_=(0,Ft.jsx)(Zr,{renderLeft:h,renderRight:f,children:x}),t[10]=h,t[11]=f,t[12]=_):_=t[12],t[13]!==a||t[14]!==r||t[15]!==n||t[16]!==o?(y=n&&(0,Ft.jsx)(fS,{saveRef:u,image:n,onChange:o,circularCrop:r,aspectRatio:a},n.source.id),t[13]=a,t[14]=r,t[15]=n,t[16]=o,t[17]=y):y=t[17],t[18]!==g||t[19]!==_||t[20]!==y?(b=(0,Ft.jsx)(la,{label:g,header:_,children:y}),t[18]=g,t[19]=_,t[20]=y,t[21]=b):b=t[21],b}function fS(e){const t=(0,i.c)(32),{image:s,onChange:n,saveRef:o,circularCrop:r,aspectRatio:a}=e,l=void 0!==r&&r,c=ec(),[d,u]=(0,mt.useState)(!1);(0,ft.useLingui)();const m=Lr(),h=s.source;let p;t[0]!==s.manips||t[1]!==h?(p=gS(h,s.manips),t[0]=s.manips,t[1]=h,t[2]=p):p=t[2];const f=p,[g,x]=(0,mt.useState)(f);let _;t[3]!==m||t[4]!==g||t[5]!==s||t[6]!==n||t[7]!==h.height||t[8]!==h.width?(_=async()=>{const e=await async function(e,t){const s=[t.crop&&{crop:t.crop}].filter((e=>void 0!==e));if(0===s.length)return void 0===e.transformed?e:{alt:e.alt,source:e.source};const n=e.source,o=await(0,Ru.manipulateAsync)(n.path,s,{format:Du.SaveFormat.PNG});return{alt:e.alt,source:e.source,transformed:{path:await nm(o.uri),width:o.width,height:o.height,mime:"image/png"},manips:t}}(s,{crop:g&&0!==(g.width||g.height)?{originX:g.x*h.width/100,originY:g.y*h.height/100,width:g.width*h.width/100,height:g.height*h.height/100}:void 0});m.close((()=>{n(e)}))},t[3]=m,t[4]=g,t[5]=s,t[6]=n,t[7]=h.height,t[8]=h.width,t[9]=_):_=t[9];const y=_;let b,j,v,w,S,k,C,P,T,L,A;return t[10]!==y?(b=()=>({save:y}),j=[y],t[10]=y,t[11]=b,t[12]=j):(b=t[11],j=t[12]),(0,mt.useImperativeHandle)(o,b,j),t[13]!==c.atoms.border_contrast_low?(v=[kl.mx_auto,kl.border,c.atoms.border_contrast_low,kl.rounded_xs,kl.overflow_hidden,kl.align_center],t[13]=c.atoms.border_contrast_low,t[14]=v):v=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(w=(e,t)=>x(t),t[15]=w):w=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(S=()=>u(!0),k=()=>u(!1),t[16]=S,t[17]=k):(S=t[16],k=t[17]),t[18]===Symbol.for("react.memo_cache_sentinel")?(C={maxHeight:"50vh"},t[18]=C):C=t[18],t[19]!==h.path?(P=(0,Ft.jsx)("img",{src:h.path,style:C}),t[19]=h.path,t[20]=P):P=t[20],t[21]!==a||t[22]!==l||t[23]!==g||t[24]!==P?(T=(0,Ft.jsx)(mS.default,{crop:g,aspect:a,circularCrop:l,onChange:w,className:"ReactCrop--no-animate",onDragStart:S,onDragEnd:k,children:P}),t[21]=a,t[22]=l,t[23]=g,t[24]=P,t[25]=T):T=t[25],t[26]!==d?(L=d&&(0,Ft.jsx)(wo.default,{style:[kl.fixed,kl.inset_0]}),t[26]=d,t[27]=L):L=t[27],t[28]!==T||t[29]!==L||t[30]!==v?(A=(0,Ft.jsxs)(wo.default,{style:v,children:[T,L]}),t[28]=T,t[29]=L,t[30]=v,t[31]=A):A=t[31],A}const gS=(e,t)=>{const s=t?.crop;if(s)return{unit:"%",x:s.originX/e.width*100,y:s.originY/e.height*100,width:s.width/e.width*100,height:s.height/e.height*100}},xS=hw.default,_S=zr({path:"M8.371 3.89A2 2 0 0 1 10.035 3h3.93a2 2 0 0 1 1.664.89L17.035 6H20a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.965L8.37 3.89ZM13.965 5h-3.93L8.63 7.11A2 2 0 0 1 6.965 8H4v11h16V8h-2.965a2 2 0 0 1-1.664-.89L13.965 5ZM12 11a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),yS=zr({path:"M8.371 3.89A2 2 0 0 1 10.035 3h3.93a2 2 0 0 1 1.664.89L17.035 6H20a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h2.965L8.37 3.89ZM12 9a3.5 3.5 0 1 0 0 7 3.5 3.5 0 0 0 0-7Z"}),bS=zr({path:"M4 4a2 2 0 0 0-2 2v12a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V6a2 2 0 0 0-2-2H4Zm8 12.5c1.253 0 2.197.609 2.674 1.5H9.326c.477-.891 1.42-1.5 2.674-1.5Zm0-2c2.404 0 4.235 1.475 4.822 3.5H20V6H4v12h3.178c.587-2.025 2.418-3.5 4.822-3.5Zm-1.25-3.75a1.25 1.25 0 1 1 2.5 0 1.25 1.25 0 0 1-2.5 0ZM12 7.5a3.25 3.25 0 1 0 0 6.5 3.25 3.25 0 0 0 0-6.5Zm5.75 2a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"}),jS=zr({path:"M7.416 5H3a1 1 0 0 0 0 2h1.064l.938 14.067A1 1 0 0 0 6 22h12a1 1 0 0 0 .998-.933L19.936 7H21a1 1 0 1 0 0-2h-4.416a5 5 0 0 0-9.168 0Zm2.348 0h4.472c-.55-.614-1.348-1-2.236-1-.888 0-1.687.386-2.236 1Zm6.087 2H6.07l.867 13h10.128l.867-13h-2.036a1 1 0 0 1-.044 0ZM10 10a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Z"}),vS=zr({path:"M7.416 5H3a1 1 0 0 0 0 2h1.064l.814 12.2A3 3 0 0 0 7.87 22h8.258a3 3 0 0 0 2.993-2.8L19.936 7H21a1 1 0 1 0 0-2h-4.416a5 5 0 0 0-9.168 0Zm2.348 0h4.472c-.55-.614-1.348-1-2.236-1s-1.687.386-2.236 1Zm6.087 2H6.07l.804 12.067a1 1 0 0 0 .998.933h8.258a1 1 0 0 0 .998-.933L17.93 7h-2.08ZM10 10a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0v-5a1 1 0 0 1 1-1Z"});function wS(e){const t=(0,i.c)(25),{size:s,style:n}=e,o=void 0===s?"small":s,r=ec();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={tiny:{fontSize:7,letterSpacing:Yn},small:kl.text_2xs,large:kl.text_xs},t[0]=a):a=t[0];const l=a[o],c="large"===o?-8:-5;let d,u;t[1]!==c?(d={bottom:c},t[1]=c,t[2]=d):d=t[2],t[3]!==n||t[4]!==d?(u=[kl.absolute,kl.w_full,kl.align_center,kl.pointer_events_none,d,n],t[3]=n,t[4]=d,t[5]=u):u=t[5];const m="large"===o?2:1,h="large"===o?4:3,p="large"===o?5:mo.xs;let f,g,x,_,y,b,j;return t[6]!==r.palette.negative_500||t[7]!==m||t[8]!==h||t[9]!==p?(f={backgroundColor:r.palette.negative_500,paddingVertical:m,paddingHorizontal:h,borderRadius:p},t[6]=r.palette.negative_500,t[7]=m,t[8]=h,t[9]=p,t[10]=f):f=t[10],t[11]!==r.palette.white?(g={color:r.palette.white},t[11]=r.palette.white,t[12]=g):g=t[12],t[13]!==l||t[14]!==g?(x=[kl.text_center,kl.font_bold,l,g],t[13]=l,t[14]=g,t[15]=x):x=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(ft.Trans,{id:"fpMs2Z"}),t[16]=_):_=t[16],t[17]!==x?(y=(0,Ft.jsx)(fr,{style:x,children:_}),t[17]=x,t[18]=y):y=t[18],t[19]!==y||t[20]!==f?(b=(0,Ft.jsx)(wo.default,{style:f,children:y}),t[19]=y,t[20]=f,t[21]=b):b=t[21],t[22]!==b||t[23]!==u?(j=(0,Ft.jsx)(wo.default,{style:u,children:b}),t[22]=b,t[23]=u,t[24]=j):j=t[24],j}var SS=s(31545);const kS=zr({path:"M12 3a1 1 0 0 1 1 1v7h7a1 1 0 1 1 0 2h-7v7a1 1 0 1 1-2 0v-7H4a1 1 0 1 1 0-2h7V4a1 1 0 0 1 1-1Z"}),CS=zr({path:"M12 6a1 1 0 0 1 1 1v4h4a1 1 0 1 1 0 2h-4v4a1 1 0 1 1-2 0v-4H7a1 1 0 1 1 0-2h4V7a1 1 0 0 1 1-1Z"}),PS=zr({path:"M12 4a8 8 0 0 0-6.32 12.906L16.906 5.68A7.962 7.962 0 0 0 12 4Zm6.32 3.094L7.094 18.32A8 8 0 0 0 18.32 7.094ZM2 12C2 6.477 6.477 2 12 2a9.972 9.972 0 0 1 7.071 2.929A9.972 9.972 0 0 1 22 12c0 5.523-4.477 10-10 10a9.972 9.972 0 0 1-7.071-2.929A9.972 9.972 0 0 1 2 12Z"}),TS=zr({path:"M2.293 2.293a1 1 0 0 1 1.414 0L7.335 5.92l.03.03 3.22 3.222 4.243 4.242 3.22 3.22.03.03 3.63 3.629a1 1 0 0 1-1.415 1.414l-3.09-3.09c-2.65 1.478-5.625 1.778-8.421.869-3.039-.987-5.779-3.37-7.67-7.027a1 1 0 0 1 0-.918c1.086-2.1 2.452-3.78 3.996-5.019L2.293 3.707a1 1 0 0 1 0-1.414Zm4.24 5.654 2.021 2.021a4 4 0 0 0 5.478 5.478l1.688 1.688c-2.042.982-4.246 1.124-6.32.45-2.34-.76-4.594-2.586-6.265-5.584.97-1.739 2.135-3.083 3.398-4.053Zm3.535 3.535 2.45 2.45a2 2 0 0 1-2.45-2.45Zm.81-5.405c3.573-.49 7.45 1.369 9.987 5.923a14.797 14.797 0 0 1-1.347 2.02 1 1 0 1 0 1.564 1.247 17.078 17.078 0 0 0 1.806-2.808 1 1 0 0 0 0-.918c-2.833-5.479-7.584-8.088-12.281-7.446a1 1 0 0 0 .271 1.982Z"});function LS(){const e=(0,i.c)(65),{_:t}=(0,ft.useLingui)();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T;return e[0]!==t?(n=t({id:"RE+sBv"}),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(o=t({id:"zWuq9T"}),e[2]=t,e[3]=o):o=e[3],e[4]!==n||e[5]!==o?(r={name:n,description:o},e[4]=n,e[5]=o,e[6]=r):r=e[6],e[7]!==t?(a=t({id:"cogwXi"}),e[7]=t,e[8]=a):a=e[8],e[9]!==t?(l=t({id:"xHI5tj"}),e[9]=t,e[10]=l):l=e[10],e[11]!==a||e[12]!==l?(c={name:a,description:l},e[11]=a,e[12]=l,e[13]=c):c=e[13],e[14]!==t?(d=t({id:"E47zv9"}),e[14]=t,e[15]=d):d=e[15],e[16]!==t?(u=t({id:"xZrTqU"}),e[16]=t,e[17]=u):u=e[17],e[18]!==d||e[19]!==u?(m={name:d,description:u},e[18]=d,e[19]=u,e[20]=m):m=e[20],e[21]!==t?(h=t({id:"qLa52r"}),e[21]=t,e[22]=h):h=e[22],e[23]!==t?(p=t({id:"3AWcLc"}),e[23]=t,e[24]=p):p=e[24],e[25]!==h||e[26]!==p?(f={name:h,description:p},e[25]=h,e[26]=p,e[27]=f):f=e[27],e[28]!==t?(g=t({id:"B3mEYD"}),e[28]=t,e[29]=g):g=e[29],e[30]!==t?(x=t({id:"jGgeSD"}),e[30]=t,e[31]=x):x=e[31],e[32]!==g||e[33]!==x?(_={name:g,description:x},e[32]=g,e[33]=x,e[34]=_):_=e[34],e[35]!==t?(y=t({id:"KfIHmH"}),e[35]=t,e[36]=y):y=e[36],e[37]!==t?(b=t({id:"Pgp8XV"}),e[37]=t,e[38]=b):b=e[38],e[39]!==y||e[40]!==b?(j={name:y,description:b},e[39]=y,e[40]=b,e[41]=j):j=e[41],e[42]!==t?(v=t({id:"ZsLyQG"}),e[42]=t,e[43]=v):v=e[43],e[44]!==t?(w=t({id:"S/aR6+"}),e[44]=t,e[45]=w):w=e[45],e[46]!==v||e[47]!==w?(S={name:v,description:w},e[46]=v,e[47]=w,e[48]=S):S=e[48],e[49]!==t?(k=t({id:"ZsLyQG"}),e[49]=t,e[50]=k):k=e[50],e[51]!==t?(C=t({id:"S/aR6+"}),e[51]=t,e[52]=C):C=e[52],e[53]!==k||e[54]!==C?(P={name:k,description:C},e[53]=k,e[54]=C,e[55]=P):P=e[55],e[56]!==f||e[57]!==_||e[58]!==j||e[59]!==S||e[60]!==P||e[61]!==r||e[62]!==c||e[63]!==m?(T={"!hide":r,"!warn":c,"!no-unauthenticated":m,porn:f,sexual:_,nudity:j,"graphic-media":S,gore:P},e[56]=f,e[57]=_,e[58]=j,e[59]=S,e[60]=P,e[61]=r,e[62]=c,e[63]=m,e[64]=T):T=e[64],s=T,s}function AS(e){const t=(0,i.c)(17),{i18n:s}=(0,ft.useLingui)(),{labelDefs:n,labelers:o}=Zh(),r=LS();let a,l,c,d,u;if(t[0]!==r||t[1]!==s.locale||t[2]!==e||t[3]!==n){const o=IS(n,e);a=e,l=o,c=RS(s.locale,r,o),t[0]=r,t[1]=s.locale,t[2]=e,t[3]=n,t[4]=a,t[5]=l,t[6]=c}else a=t[4],l=t[5],c=t[6];if(t[7]!==e||t[8]!==o){let s;t[10]!==e?(s=t=>e.src===t.creator.did,t[10]=e,t[11]=s):s=t[11],d=o.find(s),t[7]=e,t[8]=o,t[9]=d}else d=t[9];return t[12]!==a||t[13]!==l||t[14]!==c||t[15]!==d?(u={label:a,def:l,strings:c,labeler:d},t[12]=a,t[13]=l,t[14]=c,t[15]=d,t[16]=u):u=t[16],u}function IS(e,t){const s=!t.val.startsWith("!")&&e[t.src]?.find((e=>e.identifier===t.val&&e.definedBy===t.src));if(s)return s;const n=Is.LABELS[t.val];return n||(0,Is.interpretLabelValueDefinition)({identifier:t.val,severity:"none",blurs:"none",defaultSetting:"ignore",locales:[]},t.src)}function RS(e,t,s){if(s.definedBy){const t=s.locales.find((t=>Rs.basicFilter(e,t.lang).length>0));if(t)return t;if(s.locales[0])return s.locales[0]}else if(s.identifier in t)return t[s.identifier];return{lang:e,name:s.identifier,description:`Labeled "${s.identifier}"`}}function DS(e){const t=(0,i.c)(108),{currentAccount:s}=xh(),{_:n,i18n:o}=(0,ft.useLingui)(),{labelDefs:r,labelers:a}=Zh(),l=LS();let c;s?.did;e:{if(!e){let e,s,o;t[0]!==n?(e=n({id:"cogwXi"}),t[0]=n,t[1]=e):e=t[1],t[2]!==n?(s=n({id:"/JIU0q"}),t[2]=n,t[3]=s):s=t[3],t[4]!==e||t[5]!==s?(o={icon:Fj,name:e,description:s},t[4]=e,t[5]=s,t[6]=o):o=t[6],c=o;break e}if("blocking"===e.type){if("list"===e.source.type){let s,o,r;t[7]!==n||t[8]!==e.source.list.name?(s=n({id:"XRYkiw",values:{0:e.source.list.name}}),t[7]=n,t[8]=e.source.list.name,t[9]=s):s=t[9],t[10]!==n?(o=n({id:"FeSOdc"}),t[10]=n,t[11]=o):o=t[11],t[12]!==s||t[13]!==o?(r={icon:PS,name:s,description:o},t[12]=s,t[13]=o,t[14]=r):r=t[14],c=r;break e}{let e,s,o;t[15]!==n?(e=n({id:"wMB857"}),t[15]=n,t[16]=e):e=t[16],t[17]!==n?(s=n({id:"FeSOdc"}),t[17]=n,t[18]=s):s=t[18],t[19]!==e||t[20]!==s?(o={icon:PS,name:e,description:s},t[19]=e,t[20]=s,t[21]=o):o=t[21],c=o;break e}}if("blocked-by"===e.type){let e,s,o;t[22]!==n?(e=n({id:"/DuNMH"}),t[22]=n,t[23]=e):e=t[23],t[24]!==n?(s=n({id:"BjkKZ0"}),t[24]=n,t[25]=s):s=t[25],t[26]!==e||t[27]!==s?(o={icon:PS,name:e,description:s},t[26]=e,t[27]=s,t[28]=o):o=t[28],c=o;break e}if("block-other"===e.type){let e,s,o;t[29]!==n?(e=n({id:"HBDEKd"}),t[29]=n,t[30]=e):e=t[30],t[31]!==n?(s=n({id:"cBqxeK"}),t[31]=n,t[32]=s):s=t[32],t[33]!==e||t[34]!==s?(o={icon:PS,name:e,description:s},t[33]=e,t[34]=s,t[35]=o):o=t[35],c=o;break e}if("muted"===e.type){if("list"===e.source.type){let s,o,r;t[36]!==n||t[37]!==e.source.list.name?(s=n({id:"gwDDr8",values:{0:e.source.list.name}}),t[36]=n,t[37]=e.source.list.name,t[38]=s):s=t[38],t[39]!==n?(o=n({id:"sjjnqy"}),t[39]=n,t[40]=o):o=t[40],t[41]!==s||t[42]!==o?(r={icon:TS,name:s,description:o},t[41]=s,t[42]=o,t[43]=r):r=t[43],c=r;break e}{let e,s,o;t[44]!==n?(e=n({id:"I8EmWz"}),t[44]=n,t[45]=e):e=t[45],t[46]!==n?(s=n({id:"Kq0hBn"}),t[46]=n,t[47]=s):s=t[47],t[48]!==e||t[49]!==s?(o={icon:TS,name:e,description:s},t[48]=e,t[49]=s,t[50]=o):o=t[50],c=o;break e}}if("mute-word"===e.type){let e,s,o;t[51]!==n?(e=n({id:"CExsTg"}),t[51]=n,t[52]=e):e=t[52],t[53]!==n?(s=n({id:"/ZtAb1"}),t[53]=n,t[54]=s):s=t[54],t[55]!==e||t[56]!==s?(o={icon:TS,name:e,description:s},t[55]=e,t[56]=s,t[57]=o):o=t[57],c=o;break e}if("hidden"===e.type){let e,s,o;t[58]!==n?(e=n({id:"6kYq90"}),t[58]=n,t[59]=e):e=t[59],t[60]!==n?(s=n({id:"ywHgpM"}),t[60]=n,t[61]=s):s=t[61],t[62]!==e||t[63]!==s?(o={icon:TS,name:e,description:s},t[62]=e,t[63]=s,t[64]=o):o=t[64],c=o;break e}if("reply-hidden"===e.type){const o=s?.did===e.source.did;let r,i,a;t[65]!==n||t[66]!==o?(r=n(o?{id:"gMTJRO"}:{id:"rozEm8"}),t[65]=n,t[66]=o,t[67]=r):r=t[67],t[68]!==n||t[69]!==o?(i=n(o?{id:"9VFY8v"}:{id:"GeCOUK"}),t[68]=n,t[69]=o,t[70]=i):i=t[70],t[71]!==r||t[72]!==i?(a={icon:TS,name:r,description:i},t[71]=r,t[72]=i,t[73]=a):a=t[73],c=a;break e}if("label"===e.type){let s;t[74]!==e.label||t[75]!==e.labelDef||t[76]!==r?(s=e.labelDef||IS(r,e.label),t[74]=e.label,t[75]=e.labelDef,t[76]=r,t[77]=s):s=t[77];const i=s;let d,u,m,h;if(t[78]!==n||t[79]!==e.label.src||t[80]!==i||t[81]!==l||t[82]!==o.locale||t[83]!==a){let s;if(h=RS(o.locale,l,i),t[88]!==e.label.src||t[89]!==a){let n;t[92]!==e.label.src?(n=t=>t.creator.did===e.label.src,t[92]=e.label.src,t[93]=n):n=t[93],d=a.find(n),s=d?su(d.creator.handle,"@"):void 0,t[88]=e.label.src,t[89]=a,t[90]=d,t[91]=s}else d=t[90],s=t[91];if(u=s,m=d?.creator.displayName,!u)if(e.label.src===Is.BSKY_LABELER_DID)u="moderation.bsky.app",m="Bluesky Moderation Service";else{let e;t[94]!==n?(e=n({id:"M6H7xo"}),t[94]=n,t[95]=e):e=t[95],u=e}if("porn"===i.identifier||"sexual"===i.identifier){let e;t[96]!==n?(e=n({id:"qLa52r"}),t[96]=n,t[97]=e):e=t[97],h.name=e}t[78]=n,t[79]=e.label.src,t[80]=i,t[81]=l,t[82]=o.locale,t[83]=a,t[84]=d,t[85]=u,t[86]=m,t[87]=h}else d=t[84],u=t[85],m=t[86],h=t[87];const p="!no-unauthenticated"===i.identifier?TS:"alert"===i.severity?Fj:Ij,f=d?.creator.avatar;let g;t[98]!==e.label.src||t[99]!==e.source.type||t[100]!==u||t[101]!==m||t[102]!==h.description||t[103]!==h.name||t[104]!==p||t[105]!==f?(g={icon:p,name:h.name,description:h.description,source:u,sourceDisplayName:m,sourceType:e.source.type,sourceAvi:f,sourceDid:e.label.src},t[98]=e.label.src,t[99]=e.source.type,t[100]=u,t[101]=m,t[102]=h.description,t[103]=h.name,t[104]=p,t[105]=f,t[106]=g):g=t[106],c=g;break e}let i;t[107]===Symbol.for("react.memo_cache_sentinel")?(i={icon:Ij,name:"",description:""},t[107]=i):i=t[107],c=i}return c}var FS=s(52210);const ES=5,MS=60,BS=60*MS,OS=24*BS,zS=30*OS;function HS(e){const t=(0,i.c)(5);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{future:n}=s,o=void 0!==n&&n,{i18n:r}=(0,ft.useLingui)();let a;return t[2]!==o||t[3]!==r?(a=(e,t,s)=>{const n=function(e,t,s="down"){let n={value:0,unit:"now"};const o=new Date(e),r=new Date(t),i=(0,FS.default)(r,o);if(i<ES)n={value:0,unit:"now"};else if(i<MS)n={value:i,unit:"second"};else if(i<BS){n={value:"up"===s?Math.ceil(i/MS):Math.floor(i/MS),unit:"minute"}}else if(i<OS){n={value:"up"===s?Math.ceil(i/BS):Math.floor(i/BS),unit:"hour"}}else if(i<zS){n={value:"up"===s?Math.ceil(i/OS):Math.floor(i/OS),unit:"day"}}else{n={value:"up"===s?Math.ceil(i/zS):Math.floor(i/zS),unit:"month"}}return Object.assign({},n,{earlier:o,later:r})}(e,t,o?"up":"down");return function({diff:e,format:t="short",i18n:s}){const n="long"===t;switch(e.unit){case"now":return s._({id:"YwzE9K"});case"second":return n?s._(s._({id:"RRgNMe",values:{0:e.value}})):s._({values:{0:e.value},id:"NnRCUm"});case"minute":return n?s._(s._({id:"PlVus2",values:{0:e.value}})):s._({values:{0:e.value},id:"ZSWUwq"});case"hour":return n?s._(s._({id:"M4fjIB",values:{0:e.value}})):s._({values:{0:e.value},id:"NSSJsj"});case"day":return n?s._(s._({id:"AqcrQK",values:{0:e.value}})):s._({values:{0:e.value},id:"12WvI9"});case"month":return e.value<12?n?s._(s._({id:"Pvupk0",values:{0:e.value}})):s._({values:{0:e.value},id:"gQ3I5h"}):s.date(new Date(e.earlier))}}({diff:n,i18n:r,format:s?.format})},t[2]=o,t[3]=r,t[4]=a):a=t[4],a}function NS(e){const t=(0,i.c)(6);let s,n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(VS,Object.assign({},e)),t[1]=e,t[2]=n):n=t[2],t[3]!==e.control||t[4]!==n?(o=(0,Ft.jsxs)(aa,{control:e.control,children:[s,n]}),t[3]=e.control,t[4]=n,t[5]=o):o=t[5],o}function VS(e){const t=(0,i.c)(106),{modcause:s,control:n}=e,o=ec();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[0,"base"],t[0]=r):r=t[0];const a=Kl(r),{_:l}=(0,ft.useLingui)(),c=DS(s),{currentAccount:d}=xh();let u;t[1]===Symbol.for("react.memo_cache_sentinel")?(u={future:!0},t[1]=u):u=t[1];const m=HS(u);let h,p,f;if(s)if("blocking"===s.type)if("list"===s.source.type){const e=s.source.list;let n,o;t[6]!==l?(n=l({id:"osKqN8"}),t[6]=l,t[7]=n):n=t[7],h=n,t[8]!==e.name?(o={0:e.name},t[8]=e.name,t[9]=o):o=t[9];const r=e.name;let i,a,c,d;t[10]!==e.uri?(i=wu(e.uri),t[10]=e.uri,t[11]=i):i=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.text_sm],t[12]=a):a=t[12],t[13]!==e.name||t[14]!==i?(c={0:(0,Ft.jsx)(fv,{label:r,to:i,style:a})},t[13]=e.name,t[14]=i,t[15]=c):c=t[15],t[16]!==o||t[17]!==c?(d=(0,Ft.jsx)(ft.Trans,{id:"dFqFnr",values:o,components:c}),t[16]=o,t[17]=c,t[18]=d):d=t[18],p=d}else{let e,s;t[19]!==l?(e=l({id:"wMB857"}),t[19]=l,t[20]=e):e=t[20],h=e,t[21]!==l?(s=l({id:"FeSOdc"}),t[21]=l,t[22]=s):s=t[22],p=s}else if("blocked-by"===s.type){let e,s;t[23]!==l?(e=l({id:"7Fhdl6"}),t[23]=l,t[24]=e):e=t[24],h=e,t[25]!==l?(s=l({id:"BjkKZ0"}),t[25]=l,t[26]=s):s=t[26],p=s}else if("block-other"===s.type){let e,s;t[27]!==l?(e=l({id:"HBDEKd"}),t[27]=l,t[28]=e):e=t[28],h=e,t[29]!==l?(s=l({id:"cBqxeK"}),t[29]=l,t[30]=s):s=t[30],p=s}else if("muted"===s.type)if("list"===s.source.type){const e=s.source.list;let n,o;t[31]!==l?(n=l({id:"bFDBrh"}),t[31]=l,t[32]=n):n=t[32],h=n,t[33]!==e.name?(o={0:e.name},t[33]=e.name,t[34]=o):o=t[34];const r=e.name;let i,a,c,d;t[35]!==e.uri?(i=wu(e.uri),t[35]=e.uri,t[36]=i):i=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.text_sm],t[37]=a):a=t[37],t[38]!==e.name||t[39]!==i?(c={0:(0,Ft.jsx)(fv,{label:r,to:i,style:a})},t[38]=e.name,t[39]=i,t[40]=c):c=t[40],t[41]!==o||t[42]!==c?(d=(0,Ft.jsx)(ft.Trans,{id:"dIqWXh",values:o,components:c}),t[41]=o,t[42]=c,t[43]=d):d=t[43],p=d}else{let e,s;t[44]!==l?(e=l({id:"I8EmWz"}),t[44]=l,t[45]=e):e=t[45],h=e,t[46]!==l?(s=l({id:"Kq0hBn"}),t[46]=l,t[47]=s):s=t[47],p=s}else if("mute-word"===s.type){let e,s;t[48]!==l?(e=l({id:"CExsTg"}),t[48]=l,t[49]=e):e=t[49],h=e,t[50]!==l?(s=l({id:"/ZtAb1"}),t[50]=l,t[51]=s):s=t[51],p=s}else if("hidden"===s.type){let e,s;t[52]!==l?(e=l({id:"6kYq90"}),t[52]=l,t[53]=e):e=t[53],h=e,t[54]!==l?(s=l({id:"+fEBPf"}),t[54]=l,t[55]=s):s=t[55],p=s}else if("reply-hidden"===s.type){const e=d?.did===s.source.did;let n,o;t[56]!==l||t[57]!==e?(n=l(e?{id:"gMTJRO"}:{id:"rozEm8"}),t[56]=l,t[57]=e,t[58]=n):n=t[58],h=n,t[59]!==l||t[60]!==e?(o=l(e?{id:"9VFY8v"}:{id:"GeCOUK"}),t[59]=l,t[60]=e,t[61]=o):o=t[61],p=o}else if("label"===s.type){let e,s;h=c.name,t[62]!==o.atoms.text?(e=[o.atoms.text,kl.text_md,kl.leading_snug],t[62]=o.atoms.text,t[63]=e):e=t[63],t[64]!==c.description||t[65]!==e?(s=(0,Ft.jsx)(fr,{emoji:!0,style:e,children:c.description}),t[64]=c.description,t[65]=e,t[66]=s):s=t[66],p=s}else h="",p="";else{let e,s;t[2]!==l?(e=l({id:"cogwXi"}),t[2]=l,t[3]=e):e=t[3],h=e,t[4]!==l?(s=l({id:"/JIU0q"}),t[4]=l,t[5]=s):s=t[5],p=s}t[67]!==l||t[68]!==c.source||t[69]!==c.sourceDisplayName?(f=c.source||c.sourceDisplayName||l({id:"M6H7xo"}),t[67]=l,t[68]=c.source,t[69]=c.sourceDisplayName,t[70]=f):f=t[70];const g=f;let x,_,y,b,j,v,w,S,k,C,P,T;return t[71]!==l?(x=l({id:"nAXmqO"}),t[71]=l,t[72]=x):x=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(_={paddingLeft:0,paddingRight:0,paddingBottom:0},t[73]=_):_=t[73],t[74]!==a?(y=[a,kl.pb_lg],t[74]=a,t[75]=y):y=t[75],t[76]!==o.atoms.text?(b=[o.atoms.text,kl.text_2xl,kl.font_heavy,kl.mb_sm],t[76]=o.atoms.text,t[77]=b):b=t[77],t[78]!==h||t[79]!==b?(j=(0,Ft.jsx)(fr,{emoji:!0,style:b,children:h}),t[78]=h,t[79]=b,t[80]=j):j=t[80],t[81]!==o.atoms.text?(v=[o.atoms.text,kl.text_sm,kl.leading_snug],t[81]=o.atoms.text,t[82]=v):v=t[82],t[83]!==p||t[84]!==v?(w=(0,Ft.jsx)(fr,{style:v,children:p}),t[83]=p,t[84]=v,t[85]=w):w=t[85],t[86]!==w||t[87]!==y||t[88]!==j?(S=(0,Ft.jsxs)(wo.default,{style:y,children:[j,w]}),t[86]=w,t[87]=y,t[88]=j,t[89]=S):S=t[89],t[90]!==n||t[91]!==s||t[92]!==g||t[93]!==o.atoms.bg_contrast_25||t[94]!==o.atoms.border_contrast_low||t[95]!==o.atoms.text||t[96]!==o.atoms.text_contrast_medium||t[97]!==m||t[98]!==a?(k="label"===s?.type&&(0,Ft.jsx)(wo.default,{style:[a,kl.py_md,kl.border_t,!kt&&o.atoms.bg_contrast_25,o.atoms.border_contrast_low,{borderBottomLeftRadius:kl.rounded_md.borderRadius,borderBottomRightRadius:kl.rounded_md.borderRadius}],children:"user"===s.source.type?(0,Ft.jsx)(fr,{style:[o.atoms.text,kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"2p78Fi"})}):(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_between,kl.gap_xl,{paddingBottom:1}],children:[(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.leading_snug,o.atoms.text_contrast_medium],numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"hINgTt",values:{sourceName:g},components:{0:(0,Ft.jsx)(fv,{label:g,to:cS({did:s.label.src,handle:""}),onPress:()=>n.close()})}})}),s.label.exp&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.text_sm,kl.italic,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"p6Htf2",values:{0:m(Date.now(),s.label.exp)}})})})]})})}),t[90]=n,t[91]=s,t[92]=g,t[93]=o.atoms.bg_contrast_25,t[94]=o.atoms.border_contrast_low,t[95]=o.atoms.text,t[96]=o.atoms.text_contrast_medium,t[97]=m,t[98]=a,t[99]=k):k=t[99],t[100]===Symbol.for("react.memo_cache_sentinel")?(C=kt&&(0,Ft.jsx)(wo.default,{style:{height:40}}),P=(0,Ft.jsx)(ma,{}),t[100]=C,t[101]=P):(C=t[100],P=t[101]),t[102]!==S||t[103]!==k||t[104]!==x?(T=(0,Ft.jsxs)(da,{label:x,contentContainerStyle:_,children:[S,k,C,P]}),t[102]=S,t[103]=k,t[104]=x,t[105]=T):T=t[105],T}function qS(e){const t=(0,i.c)(8),{children:s,style:n,size:o}=e;let r;e:{if("lg"===(void 0===o?"sm":o)){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{gap:5}],t[0]=e):e=t[0],r=e;break e}{let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e=[{gap:3}],t[1]=e):e=t[1],r=e}}const a=r;let l,c;return t[2]!==n||t[3]!==a?(l=[kl.flex_row,kl.flex_wrap,kl.gap_xs,a,n],t[2]=n,t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==l?(c=(0,Ft.jsx)(wo.default,{style:l,children:s}),t[5]=s,t[6]=l,t[7]=c):c=t[7],c}function US(e){const t=(0,i.c)(37),{cause:s,size:n,disableDetailsDialog:o,noBg:r}=e,a=void 0===n?"sm":n,l=ec(),c=Ar(),d=DS(s),u=Boolean(d.sourceType&&d.sourceDid),m="labeler"===d.sourceType&&d.sourceDid===Is.BSKY_LABELER_DID;let h;e:{if("lg"===a){let e,s,n,o;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={gap:5,paddingHorizontal:5,paddingVertical:5},t[0]=e):e=t[0],t[1]!==l.atoms.bg_contrast_25?(s=[l.atoms.bg_contrast_25,e],t[1]=l.atoms.bg_contrast_25,t[2]=s):s=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.text_sm],t[3]=n):n=t[3],t[4]!==s?(o={outer:s,avi:16,text:n},t[4]=s,t[5]=o):o=t[5],h=o;break e}{const e=!r&&l.atoms.bg_contrast_25;let s,n,o,i;t[6]===Symbol.for("react.memo_cache_sentinel")?(s={gap:3,paddingHorizontal:3,paddingVertical:3},t[6]=s):s=t[6],t[7]!==e?(n=[e,s],t[7]=e,t[8]=n):n=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.text_xs],t[9]=o):o=t[9],t[10]!==n?(i={outer:n,avi:12,text:o},t[10]=n,t[11]=i):i=t[11],h=i}}const{outer:p,avi:f,text:g}=h;let x,_,y,b,j;return t[12]!==c?(x=e=>{e.preventDefault(),e.stopPropagation(),c.open()},t[12]=c,t[13]=x):x=t[13],t[14]!==f||t[15]!==d.icon||t[16]!==d.name||t[17]!==d.sourceAvi||t[18]!==m||t[19]!==u||t[20]!==p||t[21]!==l.atoms.bg_contrast_50||t[22]!==l.atoms.text_contrast_medium||t[23]!==g?(_=e=>{const{hovered:t,pressed:s}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.rounded_full,p,(t||s)&&l.atoms.bg_contrast_50],children:[m||!u?(0,Ft.jsx)(d.icon,{width:f,fill:l.atoms.text_contrast_medium.color}):(0,Ft.jsx)(mP,{avatar:d.sourceAvi,type:"user",size:f}),(0,Ft.jsx)(fr,{emoji:!0,style:[g,kl.font_bold,kl.leading_tight,l.atoms.text_contrast_medium,{paddingRight:3}],children:d.name})]})},t[14]=f,t[15]=d.icon,t[16]=d.name,t[17]=d.sourceAvi,t[18]=m,t[19]=u,t[20]=p,t[21]=l.atoms.bg_contrast_50,t[22]=l.atoms.text_contrast_medium,t[23]=g,t[24]=_):_=t[24],t[25]!==d.name||t[26]!==o||t[27]!==x||t[28]!==_?(y=(0,Ft.jsx)(Sr,{disabled:o,label:d.name,onPress:x,children:_}),t[25]=d.name,t[26]=o,t[27]=x,t[28]=_,t[29]=y):y=t[29],t[30]!==s||t[31]!==c||t[32]!==o?(b=!o&&(0,Ft.jsx)(NS,{control:c,modcause:s}),t[30]=s,t[31]=c,t[32]=o,t[33]=b):b=t[33],t[34]!==y||t[35]!==b?(j=(0,Ft.jsxs)(Ft.Fragment,{children:[y,b]}),t[34]=y,t[35]=b,t[36]=j):j=t[36],j}function WS(e){const t=(0,i.c)(6),{size:s}=e,n=ec();let o;{let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[{paddingHorizontal:6,paddingVertical:3,borderRadius:4}],t[0]=e):e=t[0],o=e}const r=o;let a,l,c;return t[1]!==n.atoms.bg_contrast_25?(a=[r,kl.justify_center,n.atoms.bg_contrast_25],t[1]=n.atoms.bg_contrast_25,t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(fr,{style:[kl.text_xs,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"uFClMN"})}),t[3]=l):l=t[3],t[4]!==a?(c=(0,Ft.jsx)(wo.default,{style:a,children:l}),t[4]=a,t[5]=c):c=t[5],c}var ZS=s(22053),QS=s(54881),KS=s(81821);const $S=(e,t)=>e.number(t,{notation:"compact",maximumFractionDigits:1,roundingMode:"trunc"}),GS=zr({path:"M11.183 8.561c0 .544.348.984.892.984.545 0 .893-.44.893-.985V6.985c0-.544-.348-.985-.893-.985-.543 0-.892.44-.892.985v1.576Zm5.94 7.481c0 .539-.438.942-.976.942H8.004c-.538 0-.975-.411-.975-.95 0-2.782 2.264-5.021 5.046-5.021 2.783 0 5.047 2.247 5.047 5.03Zm-.43-4.584a.983.983 0 0 1 0-1.393l1.114-1.114a.985.985 0 0 1 1.393 1.393l-1.114 1.114a.985.985 0 0 1-1.393 0Zm2.897 3.741h1.575c.544 0 .985.349.985.892 0 .544-.44.892-.985.892h-1.67a.872.872 0 0 1-.89-.887c0-.543.44-.897.985-.897Zm-14.045.893c0-.544-.44-.892-.985-.892H2.985c-.544 0-.985.349-.985.892 0 .544.44.892.985.892H4.56c.545 0 .985-.349.985-.892Zm1.913-6.027a.985.985 0 0 1-1.393 1.393L4.95 10.344A.985.985 0 0 1 6.344 8.95l1.114 1.114Z"}),YS=e=>["resolved-did",e];function JS(e){const t=new Is.AtUri(e||""),s=XS(t.host);return s.data?(t.host=s.data,Object.assign({},s,{data:{did:t.host,uri:t.toString()}})):s}function XS(e){const t=(0,i.c)(13),s=bh(),{getUnstableProfile:n}=Oy(),o=e??"";let r,a,l;t[0]!==o?(r=YS(o),t[0]=o,t[1]=r):r=t[1],t[2]!==s||t[3]!==e?(a=async()=>{if(!e)return"";if(e.startsWith("did:"))return e;return(await s.resolveHandle({handle:e})).data.did},t[2]=s,t[3]=e,t[4]=a):a=t[4],t[5]!==e||t[6]!==n?(l=()=>{if(!e)return;const t=n(e);return t?.did},t[5]=e,t[6]=n,t[7]=l):l=t[7];const c=!!e;let d;return t[8]!==r||t[9]!==a||t[10]!==l||t[11]!==c?(d={staleTime:Ld.HOURS.ONE,queryKey:r,queryFn:a,initialData:l,enabled:c},t[8]=r,t[9]=a,t[10]=l,t[11]=c,t[12]=d):d=t[12],(0,vd.useQuery)(d)}function ek(e,t,s){e.setQueryData(YS(t),s)}const tk=async({name:e,description:t,descriptionFacets:s,profiles:n,agent:o})=>{if(0===n.length)throw new Error("No profiles given");const r=await o.app.bsky.graph.list.create({repo:o.session.did},{name:e,description:t,descriptionFacets:s,avatar:void 0,createdAt:(new Date).toISOString(),purpose:"app.bsky.graph.defs#referencelist"});if(!r)throw new Error("List creation failed");return await o.com.atproto.repo.applyWrites({repo:o.session.did,writes:[rk({did:o.session.did,listUri:r.uri})].concat(n.filter((e=>e.did!==o.session.did)).map((e=>rk({did:e.did,listUri:r.uri}))))}),r};function sk(e){const t=(0,i.c)(12),{onSuccess:s,onError:n}=e,{_:o}=(0,ft.useLingui)(),r=bh();let a,l,c,d;return t[0]!==o||t[1]!==r?(a=async()=>{let e,t;if(await Promise.all([(async()=>{e=(await r.app.bsky.actor.getProfile({actor:r.session.did})).data})(),(async()=>{t=(await r.app.bsky.actor.searchActors({q:encodeURIComponent("*"),limit:49})).data.actors.filter(ok)})()]),!e||!t)throw new Error("ERROR_DATA");if(t.length<7)throw new Error("NOT_ENOUGH_FOLLOWERS");const s=Iw(e.displayName?Qf(e.displayName):`@${su(e.handle)}`,25,!0),n=o({id:"xf7YA0",values:{displayName:s}}),i=await tk({name:n,profiles:t,agent:r});return await r.app.bsky.graph.starterpack.create({repo:r.session.did},{name:n,list:i.uri,createdAt:(new Date).toISOString()})},t[0]=o,t[1]=r,t[2]=a):a=t[2],t[3]!==r||t[4]!==s?(l=async e=>{await async function(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.graph.getStarterPack({starterPack:t})))}(r,e.uri,nk),s(e)},t[3]=r,t[4]=s,t[5]=l):l=t[5],t[6]!==n?(c=e=>{n(e)},t[6]=n,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d={mutationFn:a,onSuccess:l,onError:c},t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],(0,Sd.useMutation)(d)}function nk(e){return"string"===typeof e?.data.starterPack.uri}function ok(e){return e.viewer?.following}function rk({did:e,listUri:t}){return{$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.listitem",value:{$type:"app.bsky.graph.listitem",subject:e,list:t,createdAt:(new Date).toISOString()}}}const ik="actor-starter-packs",ak=e=>[ik,e];function lk(e){return e.cursor}async function ck({queryClient:e,did:t}){await e.invalidateQueries({queryKey:ak(t)})}const dk="starter-pack",uk=({uri:e,did:t,rkey:s})=>{if(e?.startsWith("https://")||e?.startsWith("at://")){const t=ou(e);return[dk,t?.name,t?.rkey]}return[dk,t,s]};function mk({uri:e,did:t,rkey:s}){const n=bh();return(0,vd.useQuery)({queryKey:uk(e?{uri:e}:{did:t,rkey:s}),queryFn:async()=>{e?e&&!e.startsWith("at://")&&(e=ru(e)):e=`at://${t}/app.bsky.graph.starterpack/${s}`;return(await n.app.bsky.graph.getStarterPack({starterPack:e})).data.starterPack},enabled:Boolean(e)||Boolean(t&&s),staleTime:Ld.MINUTES.FIVE})}async function hk({queryClient:e,did:t,rkey:s}){await e.invalidateQueries({queryKey:uk({did:t,rkey:s})})}function pk(e){return"string"===typeof e?.data.starterPack.uri}function fk(e){return{uri:e.uri}}function gk(e){return{$type:"com.atproto.repo.applyWrites#delete",collection:"app.bsky.graph.listitem",rkey:new Is.AtUri(e.uri).rkey}}function xk(e){const t=(0,i.c)(12),{onSuccess:s,onError:n}=e,o=bh(),r=(0,wd.useQueryClient)();let a,l,c,d;return t[0]!==o?(a=async e=>{const{listUri:t,rkey:s}=e;if(!o.session)throw new Error("Requires signed in user");t&&await o.app.bsky.graph.list.delete({repo:o.session.did,rkey:new Is.AtUri(t).rkey}),await o.app.bsky.graph.starterpack.delete({repo:o.session.did,rkey:s})},t[0]=o,t[1]=a):a=t[1],t[2]!==o||t[3]!==s||t[4]!==r?(l=async(e,t)=>{const{listUri:n,rkey:i}=t,a=au({did:o.session.did,rkey:i});a&&await yk(o,a,_k),n&&await Y_({queryClient:r,uri:n}),await ck({queryClient:r,did:o.session.did}),await hk({queryClient:r,did:o.session.did,rkey:i}),s()},t[2]=o,t[3]=s,t[4]=r,t[5]=l):l=t[5],t[6]!==n?(c=e=>{n(e)},t[6]=n,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d={mutationFn:a,onSuccess:l,onError:c},t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],(0,Sd.useMutation)(d)}function _k(e){return!1===Boolean(e?.data?.starterPack)}async function yk(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.graph.getStarterPack({starterPack:t})))}async function bk(e,t){if(!Is.AppBskyGraphStarterpack.isRecord(t.record))return;let s;if(Is.AppBskyGraphDefs.isStarterPackView(t))s=t;else if(Is.AppBskyGraphDefs.isStarterPackViewBasic(t)&&Rf(t.record,Is.AppBskyGraphStarterpack.validateRecord)){const e={uri:t.record.list,cid:"",name:t.record.name,purpose:"app.bsky.graph.defs#referencelist"};s=Object.assign({},t,{$type:"app.bsky.graph.defs#starterPackView",list:e})}s&&e.setQueryData(uk({uri:t.uri}),s)}const jk=function({paths:e}){return mt.forwardRef((function(t,s){const n=(0,i.c)(17),o=Fr(t);let r,a,l,c,d,u,m,h;if(n[0]!==o){var p=o;({fill:r,size:c,style:d,gradient:a}=p),l=(0,ls.default)(p,Or),n[0]=o,n[1]=r,n[2]=a,n[3]=l,n[4]=c,n[5]=d}else r=n[1],a=n[2],l=n[3],c=n[4],d=n[5];return n[6]!==d?(u=[d],n[6]=d,n[7]=u):u=n[7],n[8]!==r?(m=e.map(((e,t)=>(0,Ft.jsx)(Ir.Path,{fill:r,fillRule:"evenodd",clipRule:"evenodd",d:e},t))),n[8]=r,n[9]=m):m=n[9],n[10]!==a||n[11]!==s||n[12]!==l||n[13]!==c||n[14]!==u||n[15]!==m?(h=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none"},l,{ref:s,viewBox:"0 0 24 24",width:c,height:c,style:u,children:[a,m]})),n[10]=a,n[11]=s,n[12]=l,n[13]=c,n[14]=u,n[15]=m,n[16]=h):h=n[16],h}))}({paths:["M11.26 5.227 5.02 6.899c-.734.197-1.17.95-.973 1.685l1.672 6.24c.197.734.951 1.17 1.685.973l6.24-1.672c.734-.197 1.17-.951.973-1.685L12.945 6.2a1.375 1.375 0 0 0-1.685-.973Zm-6.566.459a2.632 2.632 0 0 0-1.86 3.223l1.672 6.24a2.632 2.632 0 0 0 3.223 1.861l6.24-1.672a2.631 2.631 0 0 0 1.861-3.223l-1.672-6.24a2.632 2.632 0 0 0-3.223-1.861l-6.24 1.672Z","M15.138 18.411a4.606 4.606 0 1 0 0-9.211 4.606 4.606 0 0 0 0 9.211Zm0 1.257a5.862 5.862 0 1 0 0-11.724 5.862 5.862 0 0 0 0 11.724Z"]});function vk(e){const t=(0,i.c)(5),{starterPack:s}=e;if(!s)return null;let n,o;return t[0]!==s?(n=(0,Ft.jsx)(Sk,{starterPack:s}),t[0]=s,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(o=(0,Ft.jsx)(kk,{starterPack:s,children:n}),t[2]=s,t[3]=n,t[4]=o):o=t[4],o}function wk(e){const t=(0,i.c)(5),{starterPack:s}=e;if(!s)return null;let n,o;return t[0]!==s?(n=(0,Ft.jsx)(Sk,{starterPack:s,noIcon:!0,noDescription:!0}),t[0]=s,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(o=(0,Ft.jsx)(kk,{starterPack:s,children:n}),t[2]=s,t[3]=n,t[4]=o):o=t[4],o}function Sk({starterPack:e,noIcon:t,noDescription:s}){const{record:n,creator:o,joinedAllTimeCount:r}=e,{_:i}=(0,ft.useLingui)(),a=ec(),{currentAccount:l}=xh();return If(n,Is.AppBskyGraphStarterpack.isRecord)?(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.gap_md],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.w_full],children:[t?null:(0,Ft.jsx)(jk,{width:40,gradient:"sky"}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(fr,{emoji:!0,style:[kl.text_md,kl.font_bold,kl.leading_snug],numberOfLines:2,children:n.name}),(0,Ft.jsx)(fr,{emoji:!0,style:[kl.leading_snug,a.atoms.text_contrast_medium],numberOfLines:1,children:i(o?.did===l?.did?{id:"kjPWUY"}:{id:"HhZZKn",values:{0:su(o.handle,"@")}})})]})]}),!s&&n.description?(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:3,style:[kl.leading_snug],children:n.description}):null,!!r&&r>=50&&(0,Ft.jsx)(fr,{style:[kl.font_bold,a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"Iatj/v",values:{joinedAllTimeCount:r}})})]}):null}function kk(e){const t=(0,i.c)(12),{starterPack:s,children:n}=e,{_:o}=(0,ft.useLingui)(),r=(0,wd.useQueryClient)(),{record:a}=s;let l;const c=new Is.AtUri(s.uri).rkey,{creator:d}=s;l={rkey:c,handleOrDid:d.handle||d.did};const{rkey:u,handleOrDid:m}=l;if(!Is.AppBskyGraphStarterpack.isRecord(a))return null;const h=`/starter-pack/${m}/${u}`;let p,f,g,x;return t[0]!==o||t[1]!==a.name?(p=o({id:"mpwQvb",values:{0:a.name}}),t[0]=o,t[1]=a.name,t[2]=p):p=t[2],t[3]!==r||t[4]!==s?(f=()=>{ek(r,s.creator.handle,s.creator.did),bk(r,s)},t[3]=r,t[4]=s,t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_col,kl.align_start],t[6]=g):g=t[6],t[7]!==n||t[8]!==h||t[9]!==p||t[10]!==f?(x=(0,Ft.jsx)(pv,{action:"push",to:h,label:p,onPress:f,style:g,children:n}),t[7]=n,t[8]=h,t[9]=p,t[10]=f,t[11]=x):x=t[11],x}function Ck(e){const t=(0,i.c)(17),{starterPack:s}=e,n=ec();let o;t[0]!==s?(o=iu(s),t[0]=s,t[1]=o):o=t[1];const r=o;let a,l,c,d,u,m,h;return t[2]!==n.atoms.border_contrast_low?(a=[kl.border,kl.rounded_sm,kl.overflow_hidden,n.atoms.border_contrast_low],t[2]=n.atoms.border_contrast_low,t[3]=a):a=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.w_full,{aspectRatio:1.91}],t[4]=l):l=t[4],t[5]!==r?(c=(0,Ft.jsx)(SS.Image,{source:r,style:l,accessibilityIgnoresInvertColors:!0}),t[5]=r,t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.px_sm,kl.py_md],t[7]=d):d=t[7],t[8]!==s?(u=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Sk,{starterPack:s})}),t[8]=s,t[9]=u):u=t[9],t[10]!==s||t[11]!==c||t[12]!==u?(m=(0,Ft.jsxs)(kk,{starterPack:s,children:[c,u]}),t[10]=s,t[11]=c,t[12]=u,t[13]=m):m=t[13],t[14]!==a||t[15]!==m?(h=(0,Ft.jsx)(wo.default,{style:a,children:m}),t[14]=a,t[15]=m,t[16]=h):h=t[16],h}function Pk(e){const t=(0,i.c)(54),{profile:s,disabled:n}=e,{_:o}=(0,ft.useLingui)(),r=ec(),a=Op(),{currentAccount:l}=xh(),c=HS(),d=Ar(),u=s.did===l?.did,m=s.createdAt;let h;e:{const e=s.displayName||s.handle;if(u){let e;t[0]!==o?(e=o({id:"kWJmRL"}),t[0]=o,t[1]=e):e=t[1],h=e;break e}if(!a){h=e;break e}let n;if(t[2]!==a||t[3]!==e||t[4]!==s){n=Qf(e,(0,Is.moderateProfile)(s,a).ui("displayName")),t[2]=a,t[3]=e,t[4]=s,t[5]=n}else n=t[5];h=n}const p=h,[f]=mt.useState(Lk);let g;g=m?(0,FS.default)(f,new Date(m))/86400:1/0;if(!m||g>7)return null;let x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B;return t[6]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.pr_2xs],t[6]=x):x=t[6],t[7]!==o?(_=o({id:"XUAy/D"}),t[7]=o,t[8]=_):_=t[8],t[9]!==d.open||t[10]!==n||t[11]!==_?(y=(0,Ft.jsx)(Sr,{disabled:n,label:_,hitSlop:vi,onPress:d.open,children:Tk}),t[9]=d.open,t[10]=n,t[11]=_,t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ha,{}),t[13]=b):b=t[13],t[14]!==o?(j=o({id:"EAVs6S"}),t[14]=o,t[15]=j):j=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(v=_o({width:"auto",maxWidth:400,minWidth:200}),t[16]=v):v=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_md],t[17]=w):w=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.align_center],t[18]=S):S=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(k=[{height:60,width:64}],t[19]=k):k=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(wo.default,{style:k,children:(0,Ft.jsx)(GS,{width:64,height:64,fill:"#FFC404",style:[kl.absolute,kl.inset_0]})}),t[20]=C):C=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.font_bold,kl.text_xl],t[21]=P):P=t[21],t[22]!==u?(T=(0,Ft.jsxs)(wo.default,{style:S,children:[C,(0,Ft.jsx)(fr,{style:P,children:u?(0,Ft.jsx)(ft.Trans,{id:"IggGM3"}):(0,Ft.jsx)(ft.Trans,{id:"z0lIxU"})})]}),t[22]=u,t[23]=T):T=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.text_md,kl.text_center,kl.leading_snug],t[24]=L):L=t[24],t[25]!==m||t[26]!==f||t[27]!==s.joinedViaStarterPack||t[28]!==p||t[29]!==c?(A=(0,Ft.jsx)(fr,{style:L,children:s.joinedViaStarterPack?(0,Ft.jsx)(ft.Trans,{id:"ykNBFy",values:{0:c(m,f,{format:"long"}),profileName:p}}):(0,Ft.jsx)(ft.Trans,{id:"nNRQ89",values:{0:c(m,f,{format:"long"}),profileName:p}})}),t[25]=m,t[26]=f,t[27]=s.joinedViaStarterPack,t[28]=p,t[29]=c,t[30]=A):A=t[30],t[31]!==d||t[32]!==s.joinedViaStarterPack||t[33]!==r?(I=s.joinedViaStarterPack?(0,Ft.jsx)(kk,{starterPack:s.joinedViaStarterPack,onPress:()=>{d.close()},children:(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.mt_sm,kl.p_lg,kl.border,kl.rounded_sm,r.atoms.border_contrast_low],children:(0,Ft.jsx)(Sk,{starterPack:s.joinedViaStarterPack})})}):null,t[31]=d,t[32]=s.joinedViaStarterPack,t[33]=r,t[34]=I):I=t[34],t[35]!==o||t[36]!==d?(R=kt&&(0,Ft.jsx)(Sr,{label:o({id:"yz7wBu"}),variant:"solid",color:"secondary",size:"small",style:[kl.mt_sm],onPress:()=>d.close(),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})})}),t[35]=o,t[36]=d,t[37]=R):R=t[37],t[38]!==T||t[39]!==A||t[40]!==I||t[41]!==R?(D=(0,Ft.jsxs)(wo.default,{style:w,children:[T,A,I,R]}),t[38]=T,t[39]=A,t[40]=I,t[41]=R,t[42]=D):D=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(ma,{}),t[43]=F):F=t[43],t[44]!==D||t[45]!==j||t[46]!==v?(E=(0,Ft.jsxs)(da,{label:j,style:v,children:[D,F]}),t[44]=D,t[45]=j,t[46]=v,t[47]=E):E=t[47],t[48]!==d||t[49]!==E?(M=(0,Ft.jsxs)(aa,{control:d,children:[b,E]}),t[48]=d,t[49]=E,t[50]=M):M=t[50],t[51]!==M||t[52]!==y?(B=(0,Ft.jsxs)(wo.default,{style:x,children:[y,M]}),t[51]=M,t[52]=y,t[53]=B):B=t[53],B}function Tk(e){const{hovered:t,pressed:s}=e;return(0,Ft.jsx)(GS,{size:"lg",fill:"#FFC404",style:{opacity:t||s?.5:1}})}function Lk(){return Date.now()}function Ak(e){const t=(0,i.c)(29),{profile:s,disableTaps:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();let a;t[0]!==s.handle?(a=tu(s.handle),t[0]=s.handle,t[1]=a):a=t[1];const l=a,c=s.viewer?.blocking||s.viewer?.blockedBy;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.flex_row,kl.gap_xs,kl.align_center,{maxWidth:"100%"}],t[2]=d):d=t[2];const u=n?"none":wt?"auto":"box-none";let m,h,p,f,g,x,_,y;return t[3]!==n||t[4]!==s?(m=(0,Ft.jsx)(Pk,{profile:s,disabled:n}),t[3]=n,t[4]=s,t[5]=m):m=t[5],t[6]!==c||t[7]!==s.viewer?.followedBy||t[8]!==o.atoms?(h=s.viewer?.followedBy&&!c?(0,Ft.jsx)(wo.default,{style:[o.atoms.bg_contrast_25,kl.rounded_xs,kl.px_sm,kl.py_xs],children:(0,Ft.jsx)(fr,{style:[o.atoms.text,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"p3UO/y"})})}):void 0,t[6]=c,t[7]=s.viewer?.followedBy,t[8]=o.atoms,t[9]=h):h=t[9],t[10]!==l||t[11]!==o.atoms||t[12]!==o.palette?(p=l?[kl.border,kl.text_xs,kl.px_sm,kl.py_xs,kl.rounded_xs,{borderColor:o.palette.contrast_200}]:[kl.text_md,kl.leading_snug,o.atoms.text_contrast_medium],t[10]=l,t[11]=o.atoms,t[12]=o.palette,t[13]=p):p=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(f=_o({wordBreak:"break-all"}),t[14]=f):f=t[14],t[15]!==p?(g=[p,f],t[15]=p,t[16]=g):g=t[16],t[17]!==r||t[18]!==l||t[19]!==s.handle?(x=l?r({id:"5b/z6G"}):su(s.handle,"@"),t[17]=r,t[18]=l,t[19]=s.handle,t[20]=x):x=t[20],t[21]!==g||t[22]!==x?(_=(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:1,style:g,children:x}),t[21]=g,t[22]=x,t[23]=_):_=t[23],t[24]!==_||t[25]!==u||t[26]!==m||t[27]!==h?(y=(0,Ft.jsxs)(wo.default,{style:d,pointerEvents:u,children:[m,h,_]}),t[24]=_,t[25]=u,t[26]=m,t[27]=h,t[28]=y):y=t[28],y}function Ik(e){const t=(0,i.c)(9),[s,n]=mt.useState(e);let o;t[0]!==e?(o=()=>new Is.RichText({text:e}),t[0]=e,t[1]=o):o=t[1];const[r,a]=mt.useState(o),[l,c]=mt.useState(null),d=bh();let u,m;e!==s&&(n(e),a(new Is.RichText({text:e})),c(null)),t[2]!==d||t[3]!==e?(u=()=>{let t;t=!1;return async function(){const s=new Is.RichText({text:e});await s.detectFacets(d),t||c(s)}(),()=>{t=!0}},m=[e,d],t[2]=d,t[3]=e,t[4]=u,t[5]=m):(u=t[4],m=t[5]),mt.useEffect(u,m);const h=null===l,p=l??r;let f;return t[6]!==h||t[7]!==p?(f=[p,h],t[6]=h,t[7]=p,t[8]=f):f=t[8],f}const Rk=30,Dk=20,Fk=1;function Ek(e){return e&&e.followers.length>0}function Mk({profile:e,moderationOpts:t,onLinkPress:s,minimal:n,showIfEmpty:o}){const r=mt.useRef(new Map);e.viewer?.knownFollowers&&!r.current.has(e.did)&&r.current.set(e.did,e.viewer.knownFollowers);const i=r.current.get(e.did);return i&&Ek(i)?(0,Ft.jsx)(Bk,{profile:e,cachedKnownFollowers:i,moderationOpts:t,onLinkPress:s,minimal:n,showIfEmpty:o}):(0,Ft.jsx)(Ok,{show:o})}function Bk(e){const t=(0,i.c)(29),{profile:s,moderationOpts:n,cachedKnownFollowers:o,onLinkPress:r,minimal:a,showIfEmpty:l}=e,c=ec(),{_:d}=(0,ft.useLingui)();let u;t[0]!==c.atoms.text_contrast_medium?(u=[kl.text_sm,kl.leading_snug,c.atoms.text_contrast_medium],t[0]=c.atoms.text_contrast_medium,t[1]=u):u=t[1];const m=u;let h;if(t[2]!==o.followers||t[3]!==n){let e;t[5]!==n?(e=e=>{const t=(0,Is.moderateProfile)(e,n);return{profile:Object.assign({},e,{displayName:Qf(e.displayName||e.handle,t.ui("displayName"))}),moderation:t}},t[5]=n,t[6]=e):e=t[6],h=o.followers.slice(0,3).map(e),t[2]=o.followers,t[3]=n,t[4]=h}else h=t[4];const p=h,f=o.count;if(0===p.length){let e;return t[7]!==l?(e=(0,Ft.jsx)(Ok,{show:l}),t[7]=l,t[8]=e):e=t[8],e}const g=a?Dk:Rk;let x,_;t[9]!==d?(x=d({id:"mrn+Rw"}),t[9]=d,t[10]=x):x=t[10],t[11]!==s?(_=cS(s,"known-followers"),t[11]=s,t[12]=_):_=t[12];const y=a?kl.gap_sm:kl.gap_md;let b,j,v,w;return t[13]===Symbol.for("react.memo_cache_sentinel")?(b={marginLeft:-Fk},t[13]=b):b=t[13],t[14]!==y?(j=[kl.max_w_full,kl.flex_row,y,kl.align_center,b],t[14]=y,t[15]=j):j=t[15],t[16]!==g||t[17]!==f||t[18]!==p||t[19]!==c.atoms.bg||t[20]!==c.atoms.text_contrast_medium||t[21]!==m?(v=e=>{const{hovered:t,pressed:s}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[{height:g,width:g+(p.length-1)*kl.gap_md.gap},s&&{opacity:.5}],children:p.map(((e,t)=>{const{profile:s,moderation:n}=e;return(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,{borderWidth:Fk,borderColor:c.atoms.bg.backgroundColor,width:g+2*Fk,height:g+2*Fk,left:t*kl.gap_md.gap,zIndex:Fk-t}],children:(0,Ft.jsx)(mP,{size:g,avatar:s.avatar,moderation:n.ui("avatar"),type:s.associated?.labeler?"labeler":"user"})},s.did)}))}),(0,Ft.jsx)(fr,{style:[kl.flex_shrink,m,t&&{textDecorationLine:"underline",textDecorationColor:c.atoms.text_contrast_medium.color},s&&{opacity:.5}],numberOfLines:2,children:p.length>=2?f>2?(0,Ft.jsx)(ft.Trans,{id:"x1LHE0",values:{0:p[0].profile.displayName,1:p[1].profile.displayName,2:f-2},components:{0:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[0].profile.did),1:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[1].profile.did)}}):(0,Ft.jsx)(ft.Trans,{id:"DRSdd1",values:{0:p[0].profile.displayName,1:p[1].profile.displayName},components:{0:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[0].profile.did),1:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[1].profile.did)}}):f>1?(0,Ft.jsx)(ft.Trans,{id:"tsG433",values:{0:p[0].profile.displayName,1:f-1},components:{0:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[0].profile.did)}}):(0,Ft.jsx)(ft.Trans,{id:"DsTAgx",values:{0:p[0].profile.displayName},components:{0:(0,Ft.jsx)(fr,{emoji:!0,style:m},p[0].profile.did)}})})]})},t[16]=g,t[17]=f,t[18]=p,t[19]=c.atoms.bg,t[20]=c.atoms.text_contrast_medium,t[21]=m,t[22]=v):v=t[22],t[23]!==r||t[24]!==x||t[25]!==_||t[26]!==j||t[27]!==v?(w=(0,Ft.jsx)(pv,{label:x,onPress:r,to:_,style:j,children:v}),t[23]=r,t[24]=x,t[25]=_,t[26]=j,t[27]=v,t[28]=w):w=t[28],w}function Ok(e){const t=(0,i.c)(5),{show:s}=e,n=ec();if(!s)return null;let o,r,a;return t[0]!==n.atoms.text_contrast_medium?(o=[kl.text_sm,kl.leading_snug,n.atoms.text_contrast_medium],t[0]=n.atoms.text_contrast_medium,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(ft.Trans,{id:"wtXS6X"}),t[2]=r):r=t[2],t[3]!==o?(a=(0,Ft.jsx)(fr,{style:o,children:r}),t[3]=o,t[4]=a):a=t[4],a}function zk(){const e=(0,i.c)(2),{currentAccount:t}=xh(),s=t?.did;let n;e[0]!==s?(n={did:s},e[0]=s,e[1]=n):n=e[1];const{data:o}=ub(n);return Dy(o)}function Hk(e){const t=(0,i.c)(22),{profile:s}=e,{currentAccount:n}=xh(),o=zk();let r;t[0]!==s?(r={profile:s},t[0]=s,t[1]=r):r=t[1];const a=Nk(r);let l;t[2]!==o?(l={profile:o},t[2]=o,t[3]=l):l=t[3];const c=Nk(l);let d,u;t[4]!==s.verification?.verifications?(u=s.verification?.verifications||[],t[4]=s.verification?.verifications,t[5]=u):u=t[5];const m=u,h="default"===a.role&&!a.isVerified&&m.length>0;let p;t[6]!==n?.did||t[7]!==a.role||t[8]!==m||t[9]!==c?(p=c&&"verifier"===c.role&&"default"===a.role&&m.find((e=>e.issuer===n?.did)),t[6]=n?.did,t[7]=a.role,t[8]=m,t[9]=c,t[10]=p):p=t[10];const f=Boolean(p),g=s.did===n?.did;let x,_,y;return t[11]!==a||t[12]!==g||t[13]!==h?(x=Object.assign({},a,{wasVerified:h,isViewer:g,showBadge:a.showBadge}),t[11]=a,t[12]=g,t[13]=h,t[14]=x):x=t[14],t[15]!==f||t[16]!==c.isVerified||t[17]!==c.role?(_="verifier"===c.role?{role:"verifier",isVerified:c.isVerified,hasIssuedVerification:f}:{role:"default",isVerified:c.isVerified},t[15]=f,t[16]=c.isVerified,t[17]=c.role,t[18]=_):_=t[18],t[19]!==x||t[20]!==_?(y={profile:x,viewer:_},t[19]=x,t[20]=_,t[21]=y):y=t[21],d=y,d}function Nk(e){const t=(0,i.c)(7),{profile:s}=e,n=Fh();let o;n.data?.verificationPrefs,o=n.data?.verificationPrefs||{hideBadges:!1};const r=o;let a;e:{if(!s||!s.verification){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={role:"default",isVerified:!1,showBadge:!1},t[0]=e):e=t[0],a=e;break e}const{verifiedStatus:e,trustedVerifierStatus:n}=s.verification;let o;t[1]===Symbol.for("react.memo_cache_sentinel")?(o=["valid","invalid"],t[1]=o):o=t[1];const i=o.includes(e);let l;t[2]===Symbol.for("react.memo_cache_sentinel")?(l=["valid","invalid"],t[2]=l):l=t[2];const c=l.includes(n),d=i&&"valid"===e||c&&"valid"===n,u=c?"verifier":"default",m=!r.hideBadges&&d;let h;t[3]!==d||t[4]!==u||t[5]!==m?(h={role:u,isVerified:d,showBadge:m},t[3]=d,t[4]=u,t[5]=m,t[6]=h):h=t[6],a=h}return a}const Vk=["fill","size","style"],qk=mt.forwardRef((function(e,t){const s=(0,i.c)(16),n=Fr(e);let o,r,a,l,c,d,u,m;if(s[0]!==n){var h=n;({fill:o,size:a,style:l}=h),r=(0,ls.default)(h,Vk),s[0]=n,s[1]=o,s[2]=r,s[3]=a,s[4]=l}else o=s[1],r=s[2],a=s[3],l=s[4];return s[5]!==l?(c=[l],s[5]=l,s[6]=c):c=s[6],s[7]!==o?(d=(0,Ft.jsx)(Ir.Circle,{cx:"12",cy:"12",r:"11.5",fill:o}),s[7]=o,s[8]=d):d=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Ir.Path,{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.659 8.175a1.361 1.361 0 0 1 0 1.925l-6.224 6.223a1.361 1.361 0 0 1-1.925 0L6.4 13.212a1.361 1.361 0 0 1 1.925-1.925l2.149 2.148 5.26-5.26a1.361 1.361 0 0 1 1.925 0Z"}),s[9]=u):u=s[9],s[10]!==t||s[11]!==r||s[12]!==a||s[13]!==c||s[14]!==d?(m=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none"},r,{ref:t,viewBox:"0 0 24 24",width:a,height:a,style:c,children:[d,u]})),s[10]=t,s[11]=r,s[12]=a,s[13]=c,s[14]=d,s[15]=m):m=s[15],m})),Uk=["fill","size","style"],Wk=mt.forwardRef((function(e,t){const s=(0,i.c)(16),n=Fr(e);let o,r,a,l,c,d,u,m;if(s[0]!==n){var h=n;({fill:o,size:a,style:l}=h),r=(0,ls.default)(h,Uk),s[0]=n,s[1]=o,s[2]=r,s[3]=a,s[4]=l}else o=s[1],r=s[2],a=s[3],l=s[4];return s[5]!==l?(c=[l],s[5]=l,s[6]=c):c=s[6],s[7]!==o?(d=(0,Ft.jsx)(Ir.Path,{fill:o,fillRule:"evenodd",clipRule:"evenodd",d:"M8.792 1.615a4.154 4.154 0 0 1 6.416 0 4.154 4.154 0 0 0 3.146 1.515 4.154 4.154 0 0 1 4 5.017 4.154 4.154 0 0 0 .777 3.404 4.154 4.154 0 0 1-1.427 6.255 4.153 4.153 0 0 0-2.177 2.73 4.154 4.154 0 0 1-5.781 2.784 4.154 4.154 0 0 0-3.492 0 4.154 4.154 0 0 1-5.78-2.784 4.154 4.154 0 0 0-2.178-2.73A4.154 4.154 0 0 1 .87 11.551a4.154 4.154 0 0 0 .776-3.404A4.154 4.154 0 0 1 5.646 3.13a4.154 4.154 0 0 0 3.146-1.515Z"}),s[7]=o,s[8]=d):d=s[8],s[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Ir.Path,{fill:"#fff",fillRule:"evenodd",clipRule:"evenodd",d:"M17.861 8.26a1.438 1.438 0 0 1 0 2.033l-6.571 6.571a1.437 1.437 0 0 1-2.033 0L5.97 13.58a1.438 1.438 0 0 1 2.033-2.033l2.27 2.269 5.554-5.555a1.437 1.437 0 0 1 2.033 0Z"}),s[9]=u):u=s[9],s[10]!==t||s[11]!==r||s[12]!==a||s[13]!==c||s[14]!==d?(m=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none"},r,{ref:t,viewBox:"0 0 24 24",width:a,height:a,style:c,children:[d,u]})),s[10]=t,s[11]=r,s[12]=a,s[13]=c,s[14]=d,s[15]=m):m=s[15],m})),Zk=["verifier"];function Qk(e){const t=(0,i.c)(6);let s,n,o;if(t[0]!==e){var r=e;({verifier:n}=r),s=(0,ls.default)(r,Zk),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]!==s||t[4]!==n?(o=n?(0,Ft.jsx)(Wk,Object.assign({},s)):(0,Ft.jsx)(qk,Object.assign({},s)),t[3]=s,t[4]=n,t[5]=o):o=t[5],o}const Kk=[(0,ZS.offset)(4),(0,QS.flip)({padding:16}),(0,QS.shift)({padding:16}),(0,QS.size)({padding:16,apply({availableWidth:e,availableHeight:t,elements:s}){Object.assign(s.floating.style,{maxWidth:`${e}px`,maxHeight:`${t}px`})}})];function $k(e){const t=(0,i.c)(9),s=hb(),n=mt.useRef(!1);let o;t[0]!==s||t[1]!==e.did?(o=()=>{n.current||(n.current=!0,s(e.did))},t[0]=s,t[1]=e.did,t[2]=o):o=t[2];const r=o;if(e.disable||am)return e.children;{let s,n,o;return t[3]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_shrink],t[3]=s):s=t[3],t[4]!==e?(n=(0,Ft.jsx)(eC,Object.assign({},e)),t[4]=e,t[5]=n):n=t[5],t[6]!==r||t[7]!==n?(o=(0,Ft.jsx)(wo.default,{onPointerMove:r,style:s,children:n}),t[6]=r,t[7]=n,t[8]=o):o=t[8],o}}const Gk=500,Yk=300,Jk=150,Xk=200;function eC(e){const t=(0,va.useNavigation)(),{refs:s,floatingStyles:n}=(0,KS.useFloating)({middleware:Kk}),[o,r]=mt.useReducer(((e,t)=>{if("pressed"===t)return{stage:"hidden"};if("hidden"===e.stage&&"hovered-target"===t)return function({waitMs:e=Gk,reason:t}){return{stage:"might-show",reason:t,effect(){const t=setTimeout((()=>r("hovered-long-enough")),e);return()=>{clearTimeout(t)}}}}({reason:t});if("might-show"===e.stage){if("unhovered-target"===t||"unhovered-card"===t)return{stage:"hidden"};if("hovered-long-enough"===t)return s({reason:e.reason})}function s({reason:e}){return{stage:"showing",reason:e,effect(){function e(){r("scrolled-while-showing")}return window.addEventListener("scroll",e),()=>window.removeEventListener("scroll",e)}}}if("showing"===e.stage){if("unhovered-target"===t||"unhovered-card"===t)return function({waitMs:e=Jk}={}){return{stage:"might-hide",effect(){const t=setTimeout((()=>r("unhovered-long-enough")),e);return()=>clearTimeout(t)}}}();if("hovered-target"===e.reason&&"scrolled-while-showing"===t)return n()}if("might-hide"===e.stage){if("hovered-target"===t||"hovered-card"===t)return s({reason:t});if("unhovered-long-enough"===t)return n()}function n({animationDurationMs:e=Xk}={}){return{stage:"hiding",effect(){const t=setTimeout((()=>r("finished-animating-hide")),e);return()=>clearTimeout(t)}}}return"hiding"===e.stage&&"finished-animating-hide"===t?{stage:"hidden"}:e}),{stage:"hidden"});mt.useEffect((()=>{if(o.effect){return(0,o.effect)()}}),[o]);const i=hb(),a=mt.useRef(!1),l=mt.useCallback((async()=>{a.current||(a.current=!0,i(e.did))}),[i,e.did]),c=mt.useRef(!1),d=mt.useCallback((()=>{l(),c.current||(c.current=!0,r("hovered-target"))}),[l]),u=mt.useCallback((()=>{c.current=!1,r("unhovered-target")}),[]),m=mt.useCallback((()=>{r("hovered-card")}),[]),h=mt.useCallback((()=>{r("unhovered-card")}),[]),p=mt.useCallback((()=>{r("pressed")}),[]),f="showing"===o.stage||"might-hide"===o.stage||"hiding"===o.stage,g={animation:"hiding"===o.stage?`fadeOut ${Xk}ms both`:`fadeIn ${Yk}ms both`};return(0,Ft.jsxs)(wo.default,{ref:s.setReference,onPointerMove:d,onPointerLeave:u,onMouseUp:p,style:{flexShrink:1},children:[e.children,f&&(0,Ft.jsx)(Wr,{children:(0,Ft.jsx)("div",{ref:s.setFloating,style:n,onPointerEnter:m,onPointerLeave:h,children:(0,Ft.jsx)("div",{style:Object.assign({willChange:"transform"},g),children:(0,Ft.jsx)(tC,{did:e.did,hide:p,navigation:t})})})})]})}let tC=e=>{const t=(0,i.c)(25),{did:s,hide:n,navigation:o}=e,r=ec();let a;t[0]!==s?(a={did:s},t[0]=s,t[1]=a):a=t[1];const l=ub(a),c=Op(),d=l.data,u=nS(d);let m;t[2]!==d||t[3]!==n||t[4]!==o||t[5]!==u.isActive?(m=()=>{u.isActive&&d&&(n(),o.push("Profile",{name:d.handle}))},t[2]=d,t[3]=n,t[4]=o,t[5]=u.isActive,t[6]=m):m=t[6];const h=m,p=!u.isActive&&kl.p_lg,f=u.isActive?350:300;let g,x,_,y;return t[7]!==f?(g={width:f},t[7]=f,t[8]=g):g=t[8],t[9]!==r.atoms.bg||t[10]!==r.atoms.border_contrast_low||t[11]!==r.atoms.shadow_lg||t[12]!==p||t[13]!==g?(x=[p,kl.border,kl.rounded_md,kl.overflow_hidden,r.atoms.bg,r.atoms.border_contrast_low,r.atoms.shadow_lg,g,kl.max_w_full],t[9]=r.atoms.bg,t[10]=r.atoms.border_contrast_low,t[11]=r.atoms.shadow_lg,t[12]=p,t[13]=g,t[14]=x):x=t[14],t[15]!==d||t[16]!==n||t[17]!==c||t[18]!==h||t[19]!==u.embed||t[20]!==u.isActive?(_=d&&c?u.isActive?(0,Ft.jsx)(iP,{profile:d,embed:u.embed,padding:"lg",onPressOpenProfile:h}):(0,Ft.jsx)(sC,{profile:d,moderationOpts:c,hide:n}):(0,Ft.jsx)(wo.default,{style:[kl.justify_center,kl.align_center,{minHeight:200},kl.w_full],children:(0,Ft.jsx)(wv,{size:"xl"})}),t[15]=d,t[16]=n,t[17]=c,t[18]=h,t[19]=u.embed,t[20]=u.isActive,t[21]=_):_=t[21],t[22]!==x||t[23]!==_?(y=(0,Ft.jsx)(wo.default,{style:x,children:_}),t[22]=x,t[23]=_,t[24]=y):y=t[24],y};function sC({profile:e,moderationOpts:t,hide:s}){const n=ec(),{_:o,i18n:r}=(0,ft.useLingui)(),{currentAccount:a}=xh(),l=mt.useMemo((()=>(0,Is.moderateProfile)(e,t)),[e,t]),[c]=Ik(e.description??""),d=Ry(e),{follow:u,unfollow:m}=function(e){const t=(0,i.c)(11),{profile:s,logContext:n}=e,{_:o}=(0,ft.useLingui)(),r=yh(),[a,l]=fb(s,n);let c;t[0]!==o||t[1]!==a||t[2]!==r?(c=()=>{r((async()=>{try{await a()}catch(u){const t=u;ys.error("useFollowMethods: failed to follow",{message:String(t)}),"AbortError"!==t?.name&&Zu(o({id:"4mbOSx"}),"xmark")}}))},t[0]=o,t[1]=a,t[2]=r,t[3]=c):c=t[3];const d=c;let u;t[4]!==o||t[5]!==l||t[6]!==r?(u=()=>{r((async()=>{try{await l()}catch(h){const t=h;ys.error("useFollowMethods: failed to unfollow",{message:String(t)}),"AbortError"!==t?.name&&Zu(o({id:"4mbOSx"}),"xmark")}}))},t[4]=o,t[5]=l,t[6]=r,t[7]=u):u=t[7];const m=u;let h;return t[8]!==d||t[9]!==m?(h={follow:d,unfollow:m},t[8]=d,t[9]=m,t[10]=h):h=t[10],h}({profile:d,logContext:"ProfileHoverCard"}),h=e.viewer?.blocking||e.viewer?.blockedBy||e.viewer?.blockingByList,p=$S(r,e.followsCount||0),f=$S(r,e.followersCount||0),g=r._({id:"h2wkpN",values:{0:e.followersCount||0}}),x=r._({id:"DabnlM",values:{0:e.followsCount||0}}),_=cS({did:e.did,handle:e.handle}),y=mt.useMemo((()=>a?.did===e.did),[a,e]),b=e.associated?.labeler,j=Nk({profile:e});return(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_between,kl.align_start],children:[(0,Ft.jsx)(pv,{to:_,label:o({id:"73lp8c"}),onPress:s,children:(0,Ft.jsx)(mP,{size:64,avatar:e.avatar,type:b?"labeler":"user",moderation:l.ui("avatar")})}),!y&&!b&&(h?(0,Ft.jsx)(pv,{to:_,label:o({id:"zL1j3g"}),onPress:s,size:"small",color:"secondary",variant:"solid",style:[kl.rounded_full],children:(0,Ft.jsx)(Cr,{children:o({id:"73lp8c"})})}):(0,Ft.jsxs)(Sr,{size:"small",color:d.viewer?.following?"secondary":"primary",variant:"solid",label:d.viewer?.following?o({id:"y6sq5j"}):o({id:"MKEPCY"}),style:[kl.rounded_full],onPress:d.viewer?.following?m:u,children:[(0,Ft.jsx)(Pr,{position:"left",icon:d.viewer?.following?Wj:kS}),(0,Ft.jsx)(Cr,{children:d.viewer?.following?o({id:"y6sq5j"}):o({id:"MKEPCY"})})]}))]}),(0,Ft.jsx)(pv,{to:_,label:o({id:"73lp8c"}),onPress:s,children:(0,Ft.jsxs)(wo.default,{style:[kl.pb_sm,kl.flex_1],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.pt_md,kl.pb_xs],children:[(0,Ft.jsx)(fr,{numberOfLines:1,style:[kl.text_lg,kl.font_bold,kl.self_start],children:Qf(e.displayName||su(e.handle),l.ui("displayName"))}),j.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs,{marginTop:-2}],children:(0,Ft.jsx)(Qk,{width:16,verifier:"verifier"===j.role})})]}),(0,Ft.jsx)(Ak,{profile:d,disableTaps:!0})]})}),h&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.gap_xs],children:l.ui("profileView").alerts.map((e=>(0,Ft.jsx)(US,{size:"lg",cause:e,disableDetailsDialog:!0},Gf(e))))}),!h&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.gap_md,kl.pt_xs],children:[(0,Ft.jsxs)(fv,{to:cS(e,"followers"),label:`${f} ${g}`,style:[n.atoms.text],onPress:s,children:[(0,Ft.jsxs)(fr,{style:[kl.text_md,kl.font_bold],children:[f," "]}),(0,Ft.jsx)(fr,{style:[n.atoms.text_contrast_medium],children:g})]}),(0,Ft.jsxs)(fv,{to:cS(e,"follows"),label:o({id:"0SbcnD",values:{following:p}}),style:[n.atoms.text],onPress:s,children:[(0,Ft.jsxs)(fr,{style:[kl.text_md,kl.font_bold],children:[p," "]}),(0,Ft.jsx)(fr,{style:[n.atoms.text_contrast_medium],children:x})]})]}),e.description?.trim()&&!l.ui("profileView").blur?(0,Ft.jsx)(wo.default,{style:[kl.pt_md],children:(0,Ft.jsx)(DC,{numberOfLines:8,value:c,onLinkPress:s})}):void 0,!y&&Ek(e.viewer?.knownFollowers)&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm,kl.pt_md],children:(0,Ft.jsx)(Mk,{profile:e,moderationOpts:t,onLinkPress:s})})]})]})}tC=mt.memo(tC);const nC=zr({path:"M11 5a6 6 0 1 0 0 12 6 6 0 0 0 0-12Zm-8 6a8 8 0 1 1 14.32 4.906l3.387 3.387a1 1 0 0 1-1.414 1.414l-3.387-3.387A8 8 0 0 1 3 11Z"}),oC=zr({path:"M20.707 3.293a1 1 0 0 1 0 1.414l-16 16a1 1 0 0 1-1.414-1.414l2.616-2.616A1.998 1.998 0 0 1 5 15V9a2 2 0 0 1 2-2h2.697l5.748-3.832A1 1 0 0 1 17 4v1.586l2.293-2.293a1 1 0 0 1 1.414 0ZM15 7.586 7.586 15H7V9h2.697a2 2 0 0 0 1.11-.336L15 5.87v1.717Zm2 3.657-2 2v4.888l-2.933-1.955-1.442 1.442 4.82 3.214A1 1 0 0 0 17 20v-8.757Z"}),rC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.678 19h12.644c-.71-2.909-3.092-5-6.322-5s-5.613 2.091-6.322 5Zm-2.174.906C3.917 15.521 7.242 12 12 12c4.758 0 8.083 3.521 8.496 7.906A1 1 0 0 1 19.5 21h-15a1 1 0 0 1-.996-1.094Z"}),iC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 14c-2.95 0-5.163 1.733-6.08 4.21a.47.47 0 0 0 .09.493.9.9 0 0 0 .687.297h10.606a.9.9 0 0 0 .687-.297.47.47 0 0 0 .09-.493C17.163 15.732 14.95 14 12 14Zm-7.955 3.516C5.235 14.296 8.168 12 12 12s6.765 2.296 7.956 5.516c.34.92.107 1.828-.434 2.473A2.9 2.9 0 0 1 17.303 21H6.697a2.9 2.9 0 0 1-2.219-1.011 2.46 2.46 0 0 1-.433-2.473Z"}),aC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.679 19c.709-2.902 3.079-5 6.321-5a6.69 6.69 0 0 1 2.612.51 1 1 0 0 0 .776-1.844A8.687 8.687 0 0 0 12 12c-4.3 0-7.447 2.884-8.304 6.696-.29 1.29.767 2.304 1.902 2.304H11a1 1 0 1 0 0-2H5.679Zm14.835-4.857a1 1 0 0 1 .344 1.371l-3 5a1 1 0 0 1-1.458.286l-2-1.5a1 1 0 0 1 1.2-1.6l1.113.835 2.43-4.05a1 1 0 0 1 1.372-.342Z"}),lC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.679 19c.709-2.902 3.079-5 6.321-5 .302 0 .595.018.878.053a1 1 0 0 0 .243-1.985A9.235 9.235 0 0 0 12 12c-4.3 0-7.447 2.884-8.304 6.696-.29 1.29.767 2.304 1.902 2.304H12a1 1 0 1 0 0-2H5.679Zm9.614-3.707a1 1 0 0 1 1.414 0L18 16.586l1.293-1.293a1 1 0 0 1 1.414 1.414L19.414 18l1.293 1.293a1 1 0 0 1-1.414 1.414L18 19.414l-1.293 1.293a1 1 0 0 1-1.414-1.414L16.586 18l-1.293-1.293a1 1 0 0 1 0-1.414Z"}),cC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM5.678 19c.71-2.909 3.092-5 6.322-5 .621 0 1.206.077 1.748.218a1 1 0 1 0 .504-1.936A8.931 8.931 0 0 0 12 12c-4.758 0-8.083 3.521-8.496 7.906A1 1 0 0 0 4.5 21H11a1 1 0 1 0 0-2H5.678ZM18 14a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),dC=zr({path:"M7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 12c-4.758 0-8.083 3.521-8.496 7.906A1 1 0 0 0 4.5 21H15a3 3 0 1 1 0-6c0-.824.332-1.571.87-2.113C14.739 12.32 13.435 12 12 12Zm6 2a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),uC=zr({path:"M12 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM7.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM12 14c-2.95 0-5.163 1.733-6.08 4.21a.47.47 0 0 0 .09.493.9.9 0 0 0 .687.297H11a1 1 0 1 1 0 2H6.697a2.9 2.9 0 0 1-2.219-1.011 2.46 2.46 0 0 1-.433-2.473C5.235 14.296 8.168 12 12 12c.787 0 1.54.097 2.252.282a1 1 0 1 1-.504 1.936A7 7 0 0 0 12 14Zm6 0a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2h-2v2a1 1 0 1 1-2 0v-2h-2a1 1 0 1 1 0-2h2v-2a1 1 0 0 1 1-1Z"}),mC=zr({path:"M8 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM4 7a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm13-1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Zm7.301 9.7c-.836-2.6-2.88-3.503-4.575-3.111a1 1 0 0 1-.451-1.949c2.815-.651 5.81.966 6.93 4.448a2.49 2.49 0 0 1-.506 2.43A2.92 2.92 0 0 1 20 20h-2a1 1 0 1 1 0-2h2a.92.92 0 0 0 .69-.295.49.49 0 0 0 .112-.505ZM8 14c-1.865 0-3.878 1.274-4.681 4.151a.57.57 0 0 0 .132.55c.15.171.4.299.695.299h7.708a.93.93 0 0 0 .695-.299.57.57 0 0 0 .132-.55C11.878 15.274 9.865 14 8 14Zm0-2c2.87 0 5.594 1.98 6.607 5.613.53 1.9-1.09 3.387-2.753 3.387H4.146c-1.663 0-3.283-1.487-2.753-3.387C2.406 13.981 5.129 12 8 12Z"});var hC=s(47349);const pC=mt.createContext(null),fC=mt.createContext(null);function gC(){const e=mt.useContext(pC);if(!e)throw new Error("useMenuContext must be used within a Context.Provider");return e}function xC(){const e=mt.useContext(fC);if(!e)throw new Error("useMenuItemContext must be used within a Context.Provider");return e}const _C=["children","label","onPress","style"];function yC(){const e=(0,i.c)(4),t=mt.useId(),[s,n]=mt.useState(!1);let o,r,a;return e[0]===Symbol.for("react.memo_cache_sentinel")?(r={current:null},e[0]=r):r=e[0],e[1]!==t||e[2]!==s?(a={id:t,ref:r,isOpen:s,open(){n(!0)},close(){n(!1)}},e[1]=t,e[2]=s,e[3]=a):a=e[3],o=a,o}function bC(e){const t=(0,i.c)(15),{children:s,control:n}=e,{_:o}=(0,ft.useLingui)(),r=yC();let a;const l=n||r;let c;t[0]!==l?(c={control:l},t[0]=l,t[1]=c):c=t[1],a=c;const d=a;let u;t[2]!==d.control?(u=e=>{d.control.isOpen&&!e?d.control.close():!d.control.isOpen&&e&&d.control.open()},t[2]=d.control,t[3]=u):u=t[3];const m=u;let h,p,f;return t[4]!==o||t[5]!==d.control?(h=d.control.isOpen&&(0,Ft.jsx)(Wr,{children:(0,Ft.jsx)(tr.default,{style:[kl.fixed,kl.inset_0,kl.z_50],onPress:()=>d.control.close(),accessibilityHint:"",accessibilityLabel:o({id:"w0LYmj"})})}),t[4]=o,t[5]=d.control,t[6]=h):h=t[6],t[7]!==s||t[8]!==d.control.isOpen||t[9]!==m?(p=(0,Ft.jsx)(hC.Root,{open:d.control.isOpen,onOpenChange:m,children:s}),t[7]=s,t[8]=d.control.isOpen,t[9]=m,t[10]=p):p=t[10],t[11]!==d||t[12]!==h||t[13]!==p?(f=(0,Ft.jsxs)(pC.Provider,{value:d,children:[h,p]}),t[11]=d,t[12]=h,t[13]=p,t[14]=f):f=t[14],f}const jC=mt.forwardRef(((e,t)=>e.children(Object.assign({},e,{ref:t}))));function vC(e){const t=(0,i.c)(12),{children:s,label:n,role:o,hint:r}=e,a=void 0===o?"button":o,{control:l}=gC(),{state:c,onIn:d,onOut:u}=Ki(),{state:m,onIn:h,onOut:p}=Ki();let f;return t[0]!==s||t[1]!==l||t[2]!==m||t[3]!==r||t[4]!==c||t[5]!==n||t[6]!==p||t[7]!==h||t[8]!==d||t[9]!==u||t[10]!==a?(f=(0,Ft.jsx)(hC.Trigger,{asChild:!0,children:(0,Ft.jsx)(jC,{children:e=>s({isNative:!1,control:l,state:{hovered:c,focused:m,pressed:!1},props:Object.assign({},e,{onPointerDown:void 0,onPress:()=>{window.event instanceof KeyboardEvent||(l.isOpen?l.close():l.open())},onFocus:h,onBlur:p,onMouseEnter:d,onMouseLeave:u,accessibilityHint:r,accessibilityLabel:n,accessibilityRole:a})})})}),t[0]=s,t[1]=l,t[2]=m,t[3]=r,t[4]=c,t[5]=n,t[6]=p,t[7]=h,t[8]=d,t[9]=u,t[10]=a,t[11]=f):f=t[11],f}function wC(e){const t=(0,i.c)(10),{children:s,style:n}=e,o=ec(),{reduceMotionEnabled:r}=Bo();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={left:5,right:5,bottom:5},t[0]=a):a=t[0];const l="light"===o.name?o.atoms.bg:o.atoms.bg_contrast_25,c=!r&&kl.zoom_fade_in;let d,u;return t[1]!==n||t[2]!==o.atoms.border_contrast_low||t[3]!==o.atoms.shadow_md||t[4]!==l||t[5]!==c?(d=[kl.rounded_sm,kl.p_xs,kl.border,l,o.atoms.shadow_md,o.atoms.border_contrast_low,kl.overflow_auto,c,n],t[1]=n,t[2]=o.atoms.border_contrast_low,t[3]=o.atoms.shadow_md,t[4]=l,t[5]=c,t[6]=d):d=t[6],t[7]!==s||t[8]!==d?(u=(0,Ft.jsx)(hC.Portal,{children:(0,Ft.jsx)(hC.Content,{sideOffset:5,collisionPadding:a,loop:!0,"aria-label":"Test",className:"dropdown-menu-transform-origin dropdown-menu-constrain-size",children:(0,Ft.jsx)(wo.default,{style:d,children:s})})}),t[7]=s,t[8]=d,t[9]=u):u=t[9],u}function SC(e){const t=(0,i.c)(37);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:s,label:n,onPress:o,style:a}=l),r=(0,ls.default)(l,_C),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5];const c=ec(),{control:d}=gC(),{state:u,onIn:m,onOut:h}=Ki(),{state:p,onIn:f,onOut:g}=Ki();let x,_,y;if(t[6]!==d||t[7]!==o?(x=e=>{o(e),e.defaultPrevented||d.close()},t[6]=d,t[7]=o,t[8]=x):x=t[8],t[9]!==p||t[10]!==u||t[11]!==r.disabled||t[12]!==a||t[13]!==c){let e;t[15]!==p||t[16]!==u||t[17]!==r.disabled||t[18]!==c?(e=(u||p)&&!r.disabled&&[_o({outline:"0 !important"}),"light"===c.name?c.atoms.bg_contrast_25:c.atoms.bg_contrast_50],t[15]=p,t[16]=u,t[17]=r.disabled,t[18]=c,t[19]=e):e=t[19],_=Wl([kl.flex_row,kl.align_center,kl.gap_lg,kl.py_sm,kl.rounded_xs,{minHeight:32,paddingHorizontal:10},_o({outline:0}),e,a]),t[9]=p,t[10]=u,t[11]=r.disabled,t[12]=a,t[13]=c,t[14]=_}else _=t[14];t[20]!==m||t[21]!==h?(y=_o({onMouseEnter:m,onMouseLeave:h}),t[20]=m,t[21]=h,t[22]=y):y=t[22];const b=Boolean(r.disabled);let j,v,w;return t[23]!==b?(j={disabled:b},t[23]=b,t[24]=j):j=t[24],t[25]!==s||t[26]!==j?(v=(0,Ft.jsx)(fC.Provider,{value:j,children:s}),t[25]=s,t[26]=j,t[27]=v):v=t[27],t[28]!==n||t[29]!==g||t[30]!==f||t[31]!==r||t[32]!==x||t[33]!==_||t[34]!==y||t[35]!==v?(w=(0,Ft.jsx)(hC.Item,{asChild:!0,children:(0,Ft.jsx)(tr.default,Object.assign({},r,{className:"radix-dropdown-item",accessibilityHint:"",accessibilityLabel:n,onPress:x,onFocus:f,onBlur:g,style:_},y,{children:v}))}),t[28]=n,t[29]=g,t[30]=f,t[31]=r,t[32]=x,t[33]=_,t[34]=y,t[35]=v,t[36]=w):w=t[36],w}function kC(e){const t=(0,i.c)(7),{children:s,style:n}=e,o=ec(),{disabled:r}=xC(),a=r&&o.atoms.text_contrast_low;let l,c;return t[0]!==n||t[1]!==o.atoms.text_contrast_high||t[2]!==a?(l=[kl.flex_1,kl.font_bold,o.atoms.text_contrast_high,n,a],t[0]=n,t[1]=o.atoms.text_contrast_high,t[2]=a,t[3]=l):l=t[3],t[4]!==s||t[5]!==l?(c=(0,Ft.jsx)(fr,{style:l,children:s}),t[4]=s,t[5]=l,t[6]=c):c=t[6],c}function CC(e){const t=(0,i.c)(13),{icon:s,position:n}=e,o=void 0===n?"left":n,r=ec(),{disabled:a}=xC();let l,c,d;t[0]!==o?(l="left"===o&&{marginLeft:-2},t[0]=o,t[1]=l):l=t[1],t[2]!==o?(c="right"===o&&{marginRight:-2,marginLeft:12},t[2]=o,t[3]=c):c=t[3],t[4]!==l||t[5]!==c?(d=[l,c],t[4]=l,t[5]=c,t[6]=d):d=t[6];const u=a?r.atoms.text_contrast_low.color:r.atoms.text_contrast_medium.color;let m,h;return t[7]!==s||t[8]!==u?(m=(0,Ft.jsx)(s,{size:"md",fill:u}),t[7]=s,t[8]=u,t[9]=m):m=t[9],t[10]!==d||t[11]!==m?(h=(0,Ft.jsx)(wo.default,{style:d,children:m}),t[10]=d,t[11]=m,t[12]=h):h=t[12],h}function PC(e){const t=(0,i.c)(9),{selected:s}=e,n=ec();let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={borderWidth:1,height:20,width:20},t[0]=o):o=t[0],t[1]!==n.atoms.border_contrast_high?(r=[kl.justify_center,kl.align_center,kl.rounded_full,n.atoms.border_contrast_high,o],t[1]=n.atoms.border_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==n.palette?(a=s?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,{height:14,width:14},s?{backgroundColor:n.palette.primary_500}:{}]}):null,t[3]=s,t[4]=n.palette,t[5]=a):a=t[5],t[6]!==r||t[7]!==a?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),t[6]=r,t[7]=a,t[8]=l):l=t[8],l}function TC(e){const t=(0,i.c)(6),{children:s}=e,n=ec();let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={paddingHorizontal:10},t[0]=o):o=t[0],t[1]!==n.atoms.text_contrast_low?(r=[kl.font_bold,kl.pt_md,kl.pb_sm,n.atoms.text_contrast_low,o],t[1]=n.atoms.text_contrast_low,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function LC({children:e}){return e}function AC(){const e=(0,i.c)(4),t=ec();let s,n;return e[0]!==t.atoms.bg_contrast_100?(s=Wl([kl.my_xs,t.atoms.bg_contrast_100,kl.flex_shrink_0,{height:1}]),e[0]=t.atoms.bg_contrast_100,e[1]=s):s=e[1],e[2]!==s?(n=(0,Ft.jsx)(hC.Separator,{style:s}),e[2]=s,e[3]=n):n=e[3],n}function IC({tag:e,display:t,authorHandle:s,textStyle:n}){const{_:o}=(0,ft.useLingui)(),{isLoading:r,data:a}=Fh(),{mutateAsync:l,variables:c,reset:d}=qh(),{mutateAsync:u,variables:m,reset:h}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeMutedWords(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),p=(0,va.useNavigation)(),f=o({id:"/CBPmn",values:{tag:e}}),g=o(kt?{id:"X+iekT",values:{tag:e}}:{id:"q8a0AC",values:{tag:e}}),x=Boolean((a?.moderationPrefs.mutedWords?.find((t=>t.value===e&&t.targets.includes("tag")))??c?.find((t=>t.value===e&&t.targets.includes("tag"))))&&!m?.find((t=>t?.value===e))),_=mt.useMemo((()=>a?.moderationPrefs.mutedWords?.filter((t=>t.value===e))||[]),[e,a?.moderationPrefs?.mutedWords]);return(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:f,hint:g,children:({props:s})=>(0,Ft.jsx)(fv,Object.assign({to:{screen:"Hashtag",params:{tag:encodeURIComponent(e)}}},s,{onPress:e=>{if(Pt)return _v((()=>{kt||s.onPress()})).onPress(e)},onLongPress:xv(s.onPress).onPress,accessibilityHint:g,label:f,style:n,children:kt?t:(0,Ft.jsx)(ur.default,{ref:s.ref,children:t})}))}),(0,Ft.jsxs)(wC,{children:[(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{label:o({id:"KG+eSs",values:{tag:e}}),onPress:()=>{p.push("Hashtag",{tag:encodeURIComponent(e)})},children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"OZfdMZ",values:{tag:e}})}),(0,Ft.jsx)(CC,{icon:nC})]}),s&&!tu(s)&&(0,Ft.jsxs)(SC,{label:o({id:"HiXucB",values:{tag:e}}),onPress:()=>{p.push("Hashtag",{tag:encodeURIComponent(e),author:s})},children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"TaznUg",values:{tag:e}})}),(0,Ft.jsx)(CC,{icon:rC})]})]}),(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(SC,{label:o(x?{id:"UCD8QX",values:{tag:e}}:{id:"AY741l",values:{tag:e}}),onPress:()=>{x?(d(),u(_)):(h(),l([{value:e,targets:["tag"],actorTarget:"all"}]))},children:[(0,Ft.jsx)(kC,{children:o(x?{id:"UCD8QX",values:{tag:e}}:{id:"AY741l",values:{tag:e}})}),(0,Ft.jsx)(CC,{icon:r?wv:oC})]})]})]})}jC.displayName="RadixTriggerPassThrough";const RC={wordWrap:1};function DC(e){const t=(0,i.c)(48),{testID:s,value:n,style:o,numberOfLines:r,disableLinks:a,selectable:l,enableTags:c,authorHandle:d,onLinkPress:u,interactiveStyle:m,emojiMultiplier:h,onLayout:p,onTextLayout:f,shouldProxyLinks:g}=e,x=void 0!==c&&c,_=void 0===h?1.85:h;let y,b;t[0]!==n?(b=n instanceof Is.RichText?n:new Is.RichText({text:n}),t[0]=n,t[1]=b):b=t[1],y=b;const j=y;let v;t[2]!==o?(v=Wl(o),t[2]=o,t[3]=v):v=t[3];const w=v;let S;t[4]!==w?(S=[kl.leading_snug,w],t[4]=w,t[5]=S):S=t[5];const k=S;let C,P;t[6]!==m?(C=Wl(m),t[6]=m,t[7]=C):C=t[7],t[8]!==w||t[9]!==C?(P=[kl.leading_snug,C,w],t[8]=w,t[9]=C,t[10]=P):P=t[10];const T=P,{text:L,facets:A}=j;if(!A?.length){if(dr(L)){const e=(w.fontSize??kl.text_sm.fontSize)*_;let n,o,r;return t[11]!==e?(n={fontSize:e},t[11]=e,t[12]=n):n=t[12],t[13]!==k||t[14]!==n?(o=[k,n],t[13]=k,t[14]=n,t[15]=o):o=t[15],t[16]!==p||t[17]!==f||t[18]!==l||t[19]!==o||t[20]!==s||t[21]!==L?(r=(0,Ft.jsx)(fr,{emoji:!0,selectable:l,testID:s,style:o,onLayout:p,onTextLayout:f,dataSet:RC,children:L}),t[16]=p,t[17]=f,t[18]=l,t[19]=o,t[20]=s,t[21]=L,t[22]=r):r=t[22],r}let e;return t[23]!==r||t[24]!==p||t[25]!==f||t[26]!==k||t[27]!==l||t[28]!==s||t[29]!==L?(e=(0,Ft.jsx)(fr,{emoji:!0,selectable:l,testID:s,style:k,numberOfLines:r,onLayout:p,onTextLayout:f,dataSet:RC,children:L}),t[23]=r,t[24]=p,t[25]=f,t[26]=k,t[27]=l,t[28]=s,t[29]=L,t[30]=e):e=t[30],e}let I,R;if(t[31]!==d||t[32]!==a||t[33]!==x||t[34]!==T||t[35]!==u||t[36]!==j||t[37]!==l||t[38]!==g){I=[];let e=0;for(const t of j.segments()){const s=t.link,n=t.mention,o=t.tag;n&&Is.AppBskyRichtextFacet.validateMention(n).success&&!a?I.push((0,Ft.jsx)($k,{inline:!0,did:n.did,children:(0,Ft.jsx)(fv,{selectable:l,to:`/profile/${n.did}`,style:T,dataSet:RC,shouldProxy:g,onPress:u,children:t.text})},e)):s&&Is.AppBskyRichtextFacet.validateLink(s).success?a?I.push(hu(t.text)):I.push((0,Ft.jsx)(fv,{selectable:l,to:s.uri,style:T,dataSet:RC,shareOnLongPress:!0,shouldProxy:g,onPress:u,emoji:!0,children:hu(t.text)},e)):!a&&x&&o&&Is.AppBskyRichtextFacet.validateTag(o).success?I.push((0,Ft.jsx)(IC,{display:t.text,tag:o.tag,textStyle:T,authorHandle:d},e)):I.push(t.text),e++}t[31]=d,t[32]=a,t[33]=x,t[34]=T,t[35]=u,t[36]=j,t[37]=l,t[38]=g,t[39]=I}else I=t[39];return t[40]!==I||t[41]!==r||t[42]!==p||t[43]!==f||t[44]!==k||t[45]!==l||t[46]!==s?(R=(0,Ft.jsx)(fr,{emoji:!0,selectable:l,testID:s,style:k,numberOfLines:r,onLayout:p,onTextLayout:f,dataSet:RC,children:I}),t[40]=I,t[41]=r,t[42]=p,t[43]=f,t[44]=k,t[45]=l,t[46]=s,t[47]=R):R=t[47],R}const FC=["profile","children","style"],EC=["profile","moderationOpts","logContext","onPress","onFollow","colorInverted","withIcon"];function MC(e){const t=(0,i.c)(8),{profile:s,moderationOpts:n,logContext:o,testID:r}=e,a=void 0===o?"ProfileCard":o;let l,c;return t[0]!==a||t[1]!==n||t[2]!==s?(l=(0,Ft.jsx)(BC,{profile:s,moderationOpts:n,logContext:a}),t[0]=a,t[1]=n,t[2]=s,t[3]=l):l=t[3],t[4]!==s||t[5]!==l||t[6]!==r?(c=(0,Ft.jsx)(HC,{testID:r,profile:s,children:l}),t[4]=s,t[5]=l,t[6]=r,t[7]=c):c=t[7],c}function BC(e){const t=(0,i.c)(21),{profile:s,moderationOpts:n,logContext:o}=e,r=void 0===o?"ProfileCard":o;let a,l,c,d,u,m,h;return t[0]!==n||t[1]!==s?(a=(0,Ft.jsx)(NC,{profile:s,moderationOpts:n}),l=(0,Ft.jsx)(qC,{profile:s,moderationOpts:n}),t[0]=n,t[1]=s,t[2]=a,t[3]=l):(a=t[2],l=t[3]),t[4]!==r||t[5]!==n||t[6]!==s?(c=(0,Ft.jsx)($C,{profile:s,moderationOpts:n,logContext:r}),t[4]=r,t[5]=n,t[6]=s,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d=(0,Ft.jsxs)(zC,{children:[a,l,c]}),t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],t[12]!==n||t[13]!==s?(u=(0,Ft.jsx)(YC,{profile:s,moderationOpts:n}),t[12]=n,t[13]=s,t[14]=u):u=t[14],t[15]!==s?(m=(0,Ft.jsx)(QC,{profile:s}),t[15]=s,t[16]=m):m=t[16],t[17]!==d||t[18]!==u||t[19]!==m?(h=(0,Ft.jsxs)(OC,{children:[d,u,m]}),t[17]=d,t[18]=u,t[19]=m,t[20]=h):h=t[20],h}function OC(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.w_full,kl.flex_1,kl.gap_xs],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function zC(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_row,kl.align_center,kl.gap_sm],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function HC(e){const t=(0,i.c)(21);let s,n,o,r;if(t[0]!==e){var a=e;({profile:n,children:s,style:r}=a),o=(0,ls.default)(a,FC),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];const{_:l}=(0,ft.useLingui)();let c,d,u,m,h;return t[5]!==n.displayName||t[6]!==n.handle?(c=n.displayName||su(n.handle),t[5]=n.displayName,t[6]=n.handle,t[7]=c):c=t[7],t[8]!==l||t[9]!==c?(d=l({id:"tBW0ZQ",values:{0:c}}),t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==n.did?(u={screen:"Profile",params:{name:n.did}},t[11]=n.did,t[12]=u):u=t[12],t[13]!==r?(m=[kl.flex_col,r],t[13]=r,t[14]=m):m=t[14],t[15]!==s||t[16]!==o||t[17]!==d||t[18]!==u||t[19]!==m?(h=(0,Ft.jsx)(pv,Object.assign({label:d,to:u,style:m},o,{children:s})),t[15]=s,t[16]=o,t[17]=d,t[18]=u,t[19]=m,t[20]=h):h=t[20],h}function NC(e){const{profile:t,moderationOpts:s,onPress:n,disabledPreview:o,liveOverride:r}=e,i=(0,Is.moderateProfile)(t,s),{isActive:a}=nS(t);return o?(0,Ft.jsx)(mP,{size:40,avatar:t.avatar,type:t.associated?.labeler?"labeler":"user",moderation:i.ui("avatar"),live:r??a}):(0,Ft.jsx)(pP,{size:40,profile:t,moderation:i.ui("avatar"),onBeforePress:n,live:r??a})}function VC(){const e=(0,i.c)(3),t=ec();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={width:40,height:40},e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25?(n=(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,t.atoms.bg_contrast_25,s]}),e[1]=t.atoms.bg_contrast_25,e[2]=n):n=e[2],n}function qC(e){const t=(0,i.c)(9),{profile:s,moderationOpts:n}=e;let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1],t[0]=o):o=t[0],t[1]!==n||t[2]!==s?(r=(0,Ft.jsx)(UC,{profile:s,moderationOpts:n}),t[1]=n,t[2]=s,t[3]=r):r=t[3],t[4]!==s?(a=(0,Ft.jsx)(WC,{profile:s}),t[4]=s,t[5]=a):a=t[5],t[6]!==r||t[7]!==a?(l=(0,Ft.jsxs)(wo.default,{style:o,children:[r,a]}),t[6]=r,t[7]=a,t[8]=l):l=t[8],l}function UC(e){const t=(0,i.c)(18),{profile:s,moderationOpts:n}=e;let o;if(t[0]!==n||t[1]!==s){const e=(0,Is.moderateProfile)(s,n);let r;t[3]!==s.displayName||t[4]!==s.handle?(r=s.displayName||su(s.handle),t[3]=s.displayName,t[4]=s.handle,t[5]=r):r=t[5],o=Qf(r,e.ui("displayName")),t[0]=n,t[1]=s,t[2]=o}else o=t[2];const r=o;let a;t[6]!==s?(a={profile:s},t[6]=s,t[7]=a):a=t[7];const l=Nk(a);let c,d,u,m,h;return t[8]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_row,kl.align_center],t[8]=c):c=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.text_md,kl.font_bold,kl.leading_snug,kl.self_start],t[9]=d):d=t[9],t[10]!==r?(u=(0,Ft.jsx)(fr,{emoji:!0,style:d,numberOfLines:1,children:r}),t[10]=r,t[11]=u):u=t[11],t[12]!==l.role||t[13]!==l.showBadge?(m=l.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===l.role})}),t[12]=l.role,t[13]=l.showBadge,t[14]=m):m=t[14],t[15]!==u||t[16]!==m?(h=(0,Ft.jsxs)(wo.default,{style:c,children:[u,m]}),t[15]=u,t[16]=m,t[17]=h):h=t[17],h}function WC(e){const t=(0,i.c)(7),{profile:s}=e,n=ec();let o;t[0]!==s.handle?(o=su(s.handle,"@"),t[0]=s.handle,t[1]=o):o=t[1];const r=o;let a,l;return t[2]!==n.atoms.text_contrast_medium?(a=[kl.leading_snug,n.atoms.text_contrast_medium],t[2]=n.atoms.text_contrast_medium,t[3]=a):a=t[3],t[4]!==r||t[5]!==a?(l=(0,Ft.jsx)(fr,{emoji:!0,style:a,numberOfLines:1,children:r}),t[4]=r,t[5]=a,t[6]=l):l=t[6],l}function ZC(){const e=(0,i.c)(10),t=ec();let s,n,o,r,a,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_1,kl.gap_xs],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:"60%",height:14},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25?(o=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,t.atoms.bg_contrast_25,n]}),e[2]=t.atoms.bg_contrast_25,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r={width:"40%",height:10},e[4]=r):r=e[4],e[5]!==t.atoms.bg_contrast_25?(a=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,t.atoms.bg_contrast_25,r]}),e[5]=t.atoms.bg_contrast_25,e[6]=a):a=e[6],e[7]!==o||e[8]!==a?(l=(0,Ft.jsxs)(wo.default,{style:s,children:[o,a]}),e[7]=o,e[8]=a,e[9]=l):l=e[9],l}function QC(e){const t=(0,i.c)(7),{profile:s,numberOfLines:n}=e,o=void 0===n?3:n,r=Ry(s);let a;e:{if(!("description"in r)){a=void 0;break e}const e=r.description||"";let s;t[0]!==e?(s=new Is.RichText({text:e}),s.detectFacetsWithoutResolution(),t[0]=e,t[1]=s):s=t[1],a=s}const l=a;if(!l)return null;if(r.viewer&&(r.viewer.blockedBy||r.viewer.blocking||r.viewer.blockingByList))return null;let c,d,u;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.pt_xs],t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.leading_snug],t[3]=d):d=t[3],t[4]!==o||t[5]!==l?(u=(0,Ft.jsx)(wo.default,{style:c,children:(0,Ft.jsx)(DC,{value:l,style:d,numberOfLines:o,disableLinks:!0})}),t[4]=o,t[5]=l,t[6]=u):u=t[6],u}function KC(e){const t=(0,i.c)(6),{numberOfLines:s}=e,n=void 0===s?3:s,o=ec();let r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.pt_2xs,{gap:6}],t[0]=r):r=t[0],t[1]!==n||t[2]!==o?(a=Array(n).fill(0).map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,kl.w_full,o.atoms.bg_contrast_25,{height:12,width:t+1===n?"60%":"100%"}]},t))),t[1]=n,t[2]=o,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),t[4]=a,t[5]=l):l=t[5],l}function $C(e){const t=(0,i.c)(4),{currentAccount:s,hasSession:n}=xh(),o=e.profile.did===s?.did;let r;return t[0]!==n||t[1]!==o||t[2]!==e?(r=n&&!o?(0,Ft.jsx)(GC,Object.assign({},e)):null,t[0]=n,t[1]=o,t[2]=e,t[3]=r):r=t[3],r}function GC(e){let{profile:t,moderationOpts:s,logContext:n,onPress:o,onFollow:r,colorInverted:i,withIcon:a=!0}=e,l=(0,ls.default)(e,EC);const{_:c}=(0,ft.useLingui)(),d=Ry(t),u=(0,Is.moderateProfile)(d,s),[m,h]=fb(d,n),p=Boolean(l.shape&&"round"===l.shape),f=c({id:"y6sq5j"}),g=c({id:"MKEPCY"});return d.viewer?d.viewer.blockedBy||d.viewer.blocking||d.viewer.blockingByList?null:(0,Ft.jsx)(wo.default,{children:d.viewer.following?(0,Ft.jsxs)(Sr,Object.assign({label:f,size:"small",variant:"solid",color:"secondary"},l,{onPress:async e=>{e.preventDefault(),e.stopPropagation();try{await h(),Zu(c({id:"breD6O",values:{0:Qf(d.displayName||d.handle,u.ui("displayName"))}})),o?.(e)}catch(t){"AbortError"!==t?.name&&Zu(c({id:"4mbOSx"}),"xmark")}},children:[a&&(0,Ft.jsx)(Pr,{icon:Wj,position:p?void 0:"left"}),p?null:(0,Ft.jsx)(Cr,{children:f})]})):(0,Ft.jsxs)(Sr,Object.assign({label:g,size:"small",variant:"solid",color:i?"secondary_inverted":"primary"},l,{onPress:async e=>{e.preventDefault(),e.stopPropagation();try{await m(),Zu(c({id:"qrhIYl",values:{0:Qf(d.displayName||d.handle,u.ui("displayName"))}})),o?.(e),r?.()}catch(t){"AbortError"!==t?.name&&Zu(c({id:"4mbOSx"}),"xmark")}},children:[a&&(0,Ft.jsx)(Pr,{icon:kS,position:p?void 0:"left"}),p?null:(0,Ft.jsx)(Cr,{children:g})]}))}):null}function YC(e){const t=(0,i.c)(7),{profile:s,moderationOpts:n}=e;let o,r;if(t[0]!==n||t[1]!==s){r=Symbol.for("react.early_return_sentinel");e:{const e=(0,Is.moderateProfile)(s,n).ui("profileList"),i=s.viewer?.followedBy;if(!i&&!e.inform&&!e.alert){r=null;break e}let a,l;t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.pt_xs],t[4]=a):a=t[4],t[5]!==i?(l=i&&(0,Ft.jsx)(WS,{}),t[5]=i,t[6]=l):l=t[6],o=(0,Ft.jsxs)(qS,{style:a,children:[l,e.alerts.map(XC),e.informs.map(JC)]})}t[0]=n,t[1]=s,t[2]=o,t[3]=r}else o=t[2],r=t[3];return r!==Symbol.for("react.early_return_sentinel")?r:o}function JC(e){return(0,Ft.jsx)(US,{cause:e},Gf(e))}function XC(e){return(0,Ft.jsx)(US,{cause:e},Gf(e))}const eP=zr({path:"M4.062 11h2.961c.103-2.204.545-4.218 1.235-5.77.06-.136.123-.269.188-.399A8.007 8.007 0 0 0 4.062 11ZM12 2C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 2c-.227 0-.518.1-.868.432-.354.337-.719.872-1.047 1.61-.561 1.263-.958 2.991-1.06 4.958h5.95c-.102-1.967-.499-3.695-1.06-4.958-.328-.738-.693-1.273-1.047-1.61C12.518 4.099 12.227 4 12 4Zm4.977 7c-.103-2.204-.545-4.218-1.235-5.77a9.78 9.78 0 0 0-.188-.399A8.006 8.006 0 0 1 19.938 11h-2.961Zm-2.003 2H9.026c.101 1.966.498 3.695 1.06 4.958.327.738.692 1.273 1.046 1.61.35.333.641.432.868.432.227 0 .518-.1.868-.432.354-.337.719-.872 1.047-1.61.561-1.263.958-2.991 1.06-4.958Zm.58 6.169c.065-.13.128-.263.188-.399.69-1.552 1.132-3.566 1.235-5.77h2.961a8.006 8.006 0 0 1-4.384 6.169Zm-7.108 0a9.877 9.877 0 0 1-.188-.399c-.69-1.552-1.132-3.566-1.235-5.77H4.062a8.006 8.006 0 0 0 4.384 6.169Z"}),tP=zr({path:"M4.4 9.493C4.14 10.28 4 11.124 4 12a8 8 0 1 0 10.899-7.459l-.953 3.81a1 1 0 0 1-.726.727l-3.444.866-.772 1.533a1 1 0 0 1-1.493.35L4.4 9.493Zm.883-1.84L7.756 9.51l.44-.874a1 1 0 0 1 .649-.52l3.306-.832.807-3.227a7.993 7.993 0 0 0-7.676 3.597ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8.43.162a1 1 0 0 1 .77-.29l1.89.121a1 1 0 0 1 .494.168l2.869 1.928a1 1 0 0 1 .336 1.277l-.973 1.946a1 1 0 0 1-.894.553h-2.92a1 1 0 0 1-.831-.445L9.225 14.5a1 1 0 0 1 .126-1.262l1.08-1.076Zm.915 1.913.177-.177 1.171.074 1.914 1.286-.303.607h-1.766l-1.194-1.79Z"}),sP=zr({path:"M4.4 9.493C4.14 10.28 4 11.124 4 12a8 8 0 1 0 10.899-7.459l-.67 2.679a2.95 2.95 0 0 1-2.14 2.142l-2.173.547a.32.32 0 0 0-.205.164 2.316 2.316 0 0 1-3.457.81L4.4 9.493Zm.883-1.84 2.171 1.63a.315.315 0 0 0 .471-.11c.303-.6.851-1.04 1.503-1.204l2.174-.546a.95.95 0 0 0 .687-.688l.97.242-.97-.242.67-2.678a7.993 7.993 0 0 0-7.676 3.597ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8.048.543a2.2 2.2 0 0 1 1.69-.636l.827.053c.52.033 1.023.204 1.456.495l1.37.921a2.453 2.453 0 0 1-1.367 4.489h-.98a2.95 2.95 0 0 1-2.45-1.312L9.77 15.32a2.2 2.2 0 0 1 .278-2.776Zm1.563 1.36a.197.197 0 0 0-.177.306l.823 1.235c.176.263.471.42.787.42h.98a.453.453 0 0 0 .252-.828l-1.37-.921a.95.95 0 0 0-.468-.159l-.827-.053Z"}),nP=zr({path:"M14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-7.293 7.293a1 1 0 0 1-1.414-1.414L17.586 5H14ZM3 6a1 1 0 0 1 1-1h5a1 1 0 0 1 0 2H5v12h12v-4a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V6Z"});function oP(e){const t=(0,i.c)(11),{control:s,profile:n,embed:o}=e,r=(0,va.useNavigation)();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a={preventExpansion:!0},t[0]=a):a=t[0];const l=!!o.external.thumb;let c,d,u;return t[1]!==l?(c=(0,Ft.jsx)(ha,{difference:l}),t[1]=l,t[2]=c):c=t[2],t[3]!==o||t[4]!==r||t[5]!==n?(d=(0,Ft.jsx)(rP,{profile:n,embed:o,navigation:r}),t[3]=o,t[4]=r,t[5]=n,t[6]=d):d=t[6],t[7]!==s||t[8]!==c||t[9]!==d?(u=(0,Ft.jsxs)(aa,{control:s,nativeOptions:a,children:[c,d]}),t[7]=s,t[8]=c,t[9]=d,t[10]=u):u=t[10],u}function rP(e){const t=(0,i.c)(17),{profile:s,embed:n,navigation:o}=e,{_:r}=(0,ft.useLingui)(),a=Lr();let l;t[0]!==a||t[1]!==o||t[2]!==s.handle?(l=()=>{a.close((()=>{o.push("Profile",{name:s.handle})}))},t[0]=a,t[1]=o,t[2]=s.handle,t[3]=l):l=t[3];const c=l;let d,u,m,h,p,f;return t[4]!==r||t[5]!==s.handle?(d=r({id:"lUMS71",values:{0:su(s.handle)}}),t[4]=r,t[5]=s.handle,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.pt_0,kl.px_0],m=[_o({maxWidth:420}),kl.overflow_hidden],t[7]=u,t[8]=m):(u=t[7],m=t[8]),t[9]!==n||t[10]!==c||t[11]!==s?(h=(0,Ft.jsx)(iP,{profile:s,embed:n,onPressOpenProfile:c}),t[9]=n,t[10]=c,t[11]=s,t[12]=h):h=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ma,{}),t[13]=p):p=t[13],t[14]!==d||t[15]!==h?(f=(0,Ft.jsxs)(da,{label:d,contentContainerStyle:u,style:m,children:[h,p]}),t[14]=d,t[15]=h,t[16]=f):f=t[16],f}function iP(e){const t=(0,i.c)(63),{profile:s,embed:n,padding:o,onPressOpenProfile:r}=e,a=void 0===o?"xl":o,{_:l}=(0,ft.useLingui)(),c=ec(),d=(0,wd.useQueryClient)(),u=nv(),m=Op();let h,p,f,g,x;t[0]!==n.external.thumb||t[1]!==c.atoms.bg_contrast_25?(h=n.external.thumb&&(0,Ft.jsxs)(wo.default,{style:[c.atoms.bg_contrast_25,kl.w_full,{aspectRatio:1.91},bo([kl.overflow_hidden,{borderTopLeftRadius:kl.rounded_md.borderRadius,borderTopRightRadius:kl.rounded_md.borderRadius}])],children:[(0,Ft.jsx)(SS.Image,{source:n.external.thumb,contentFit:"cover",style:[kl.absolute,kl.inset_0],accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(wS,{size:"large",style:[kl.absolute,{top:eo.lg,left:eo.lg},kl.align_start]})]}),t[0]=n.external.thumb,t[1]=c.atoms.bg_contrast_25,t[2]=h):h=t[2],t[3]!==n.external.thumb||t[4]!==a?(p="xl"===a?[kl.px_xl,n.external.thumb?kl.pt_lg:kl.pt_2xl]:kl.p_lg,t[3]=n.external.thumb,t[4]=a,t[5]=p):p=t[5],t[6]!==p?(f=[kl.gap_lg,p],t[6]=p,t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.w_full,kl.justify_center,kl.gap_2xs],t[8]=g):g=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.leading_snug,kl.font_bold,kl.text_xl],t[9]=x):x=t[9];const _=n.external.title||n.external.uri;let y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z;return t[10]!==_?(y=(0,Ft.jsx)(fr,{numberOfLines:3,style:x,children:_}),t[10]=_,t[11]=y):y=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_center,kl.gap_2xs],t[12]=b):b=t[12],t[13]!==c.atoms.text_contrast_medium?(j=(0,Ft.jsx)(eP,{size:"xs",style:[c.atoms.text_contrast_medium]}),t[13]=c.atoms.text_contrast_medium,t[14]=j):j=t[14],t[15]!==c.atoms.text_contrast_medium?(v=[kl.text_sm,kl.leading_snug,c.atoms.text_contrast_medium],t[15]=c.atoms.text_contrast_medium,t[16]=v):v=t[16],t[17]!==n.external.uri?(w=mu(n.external.uri),t[17]=n.external.uri,t[18]=w):w=t[18],t[19]!==v||t[20]!==w?(S=(0,Ft.jsx)(fr,{numberOfLines:1,style:v,children:w}),t[19]=v,t[20]=w,t[21]=S):S=t[21],t[22]!==j||t[23]!==S?(k=(0,Ft.jsxs)(wo.default,{style:b,children:[j,S]}),t[22]=j,t[23]=S,t[24]=k):k=t[24],t[25]!==k||t[26]!==y?(C=(0,Ft.jsxs)(wo.default,{style:g,children:[y,k]}),t[25]=k,t[26]=y,t[27]=C):C=t[27],t[28]!==l?(P=l({id:"dh7dqK"}),t[28]=l,t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(T=vo({native:"large",web:"small"}),t[30]=T):T=t[30],t[31]!==n.external.uri||t[32]!==u||t[33]!==s.did?(L=()=>{ys.metric("live:card:watch",{subject:s.did}),u(n.external.uri,!1)},t[31]=n.external.uri,t[32]=u,t[33]=s.did,t[34]=L):L=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dh7dqK"})}),I=(0,Ft.jsx)(Pr,{icon:nP}),t[35]=A,t[36]=I):(A=t[35],I=t[36]),t[37]!==P||t[38]!==L?(R=(0,Ft.jsxs)(Sr,{label:P,size:T,color:"primary",variant:"solid",onPress:L,children:[A,I]}),t[37]=P,t[38]=L,t[39]=R):R=t[39],t[40]!==c.atoms.border_contrast_low?(D=(0,Ft.jsx)(wo.default,{style:[c.atoms.border_contrast_low,kl.border_t,kl.w_full]}),t[40]=c.atoms.border_contrast_low,t[41]=D):D=t[41],t[42]!==l||t[43]!==m||t[44]!==r||t[45]!==s||t[46]!==d?(F=m&&(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:m,disabledPreview:!0}),(0,Ft.jsx)(wo.default,{style:[kl.flex_1,_o({minWidth:100})],children:(0,Ft.jsx)(qC,{profile:s,moderationOpts:m})}),(0,Ft.jsx)(Sr,{label:l({id:"/QPS+F"}),size:"small",color:"secondary",variant:"solid",onPress:()=>{ys.metric("live:card:openProfile",{subject:s.did}),By(d,s),r()},children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"/QPS+F"})})})]}),t[42]=l,t[43]=m,t[44]=r,t[45]=s,t[46]=d,t[47]=F):F=t[47],t[48]!==c.atoms.text_contrast_low?(E=[kl.w_full,kl.text_center,c.atoms.text_contrast_low,kl.text_sm],t[48]=c.atoms.text_contrast_low,t[49]=E):E=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(ft.Trans,{id:"BkOp/r"}),t[50]=M):M=t[50],t[51]!==E?(B=(0,Ft.jsx)(fr,{style:E,children:M}),t[51]=E,t[52]=B):B=t[52],t[53]!==C||t[54]!==R||t[55]!==D||t[56]!==F||t[57]!==B||t[58]!==f?(O=(0,Ft.jsxs)(wo.default,{style:f,children:[C,R,D,F,B]}),t[53]=C,t[54]=R,t[55]=D,t[56]=F,t[57]=B,t[58]=f,t[59]=O):O=t[59],t[60]!==h||t[61]!==O?(z=(0,Ft.jsxs)(Ft.Fragment,{children:[h,O]}),t[60]=h,t[61]=O,t[62]=z):z=t[62],z}function aP(e){const t=(0,i.c)(5),{children:s,style:n}=e;let o,r;return t[0]!==n?(o=[kl.absolute,kl.inset_0,n],t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(r=(0,Ft.jsx)(wo.default,{style:o,children:s}),t[2]=s,t[3]=o,t[4]=r):r=t[4],r}function lP(e){const t=(0,i.c)(12),{children:s,style:n,opaque:o}=e,r=ec(),a="light"===r.name;let l,c,d,u;return t[0]!==a||t[1]!==o||t[2]!==r.atoms.border_contrast_high||t[3]!==r.atoms.border_contrast_low?(l=o?[r.atoms.border_contrast_low]:[a?r.atoms.border_contrast_low:r.atoms.border_contrast_high,{opacity:.6}],t[0]=a,t[1]=o,t[2]=r.atoms.border_contrast_high,t[3]=r.atoms.border_contrast_low,t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c={pointerEvents:"none"},t[5]=c):c=t[5],t[6]!==n||t[7]!==l?(d=[kl.rounded_md,kl.border,l,c,n],t[6]=n,t[7]=l,t[8]=d):d=t[8],t[9]!==s||t[10]!==d?(u=(0,Ft.jsx)(aP,{style:d,children:s}),t[9]=s,t[10]=d,t[11]=u):u=t[11],u}const cP=["moderation","profile","disableHoverCard","disableNavigation","onBeforePress","live"],dP=Pt?5:100;let uP=e=>{const t=(0,i.c)(20),{type:s,shape:n,size:o}=e,r=n??("user"===s?"circle":"square");if("algo"===s){let e,s,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Ir.Rect,{width:"32",height:"32",rx:"4",fill:"#0070FF"}),s=(0,Ft.jsx)(Ir.Path,{d:"M13.5 7.25C13.5 6.55859 14.0586 6 14.75 6C20.9648 6 26 11.0352 26 17.25C26 17.9414 25.4414 18.5 24.75 18.5C24.0586 18.5 23.5 17.9414 23.5 17.25C23.5 12.418 19.582 8.5 14.75 8.5C14.0586 8.5 13.5 7.94141 13.5 7.25ZM8.36719 14.6172L12.4336 18.6836L13.543 17.5742C13.5156 17.4727 13.5 17.3633 13.5 17.25C13.5 16.5586 14.0586 16 14.75 16C15.4414 16 16 16.5586 16 17.25C16 17.9414 15.4414 18.5 14.75 18.5C14.6367 18.5 14.5312 18.4844 14.4258 18.457L13.3164 19.5664L17.3828 23.6328C17.9492 24.1992 17.8438 25.1484 17.0977 25.4414C16.1758 25.8008 15.1758 26 14.125 26C9.63672 26 6 22.3633 6 17.875C6 16.8242 6.19922 15.8242 6.5625 14.9023C6.85547 14.1602 7.80469 14.0508 8.37109 14.6172H8.36719ZM14.75 9.75C18.8906 9.75 22.25 13.1094 22.25 17.25C22.25 17.9414 21.6914 18.5 21 18.5C20.3086 18.5 19.75 17.9414 19.75 17.25C19.75 14.4883 17.5117 12.25 14.75 12.25C14.0586 12.25 13.5 11.6914 13.5 11C13.5 10.3086 14.0586 9.75 14.75 9.75Z",fill:"white"}),t[0]=e,t[1]=s):(e=t[0],s=t[1]),t[2]!==o?(n=(0,Ft.jsxs)(Ir.default,{testID:"userAvatarFallback",width:o,height:o,viewBox:"0 0 32 32",fill:"none",stroke:"none",children:[e,s]}),t[2]=o,t[3]=n):n=t[3],n}if("list"===s){let e,s,n,r;return t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Ir.Path,{d:"M28 0H4C1.79086 0 0 1.79086 0 4V28C0 30.2091 1.79086 32 4 32H28C30.2091 32 32 30.2091 32 28V4C32 1.79086 30.2091 0 28 0Z",fill:"#0070FF"}),s=(0,Ft.jsx)(Ir.Path,{d:"M22.1529 22.3542C23.4522 22.4603 24.7593 22.293 25.9899 21.8629C26.0369 21.2838 25.919 20.7032 25.6497 20.1884C25.3805 19.6735 24.9711 19.2454 24.4687 18.9535C23.9663 18.6617 23.3916 18.518 22.8109 18.5392C22.2303 18.5603 21.6676 18.7454 21.1878 19.0731M22.1529 22.3542C22.1489 21.1917 21.8142 20.0534 21.1878 19.0741ZM10.8111 19.0741C10.3313 18.7468 9.7687 18.5619 9.18826 18.5409C8.60781 18.5199 8.03327 18.6636 7.53107 18.9554C7.02888 19.2472 6.61953 19.6752 6.35036 20.1899C6.08119 20.7046 5.96319 21.285 6.01001 21.8639C7.23969 22.2964 8.5461 22.4632 9.84497 22.3531M10.8111 19.0741C10.1851 20.0535 9.84865 21.1908 9.84497 22.3531ZM19.0759 10.077C19.0759 10.8931 18.7518 11.6757 18.1747 12.2527C17.5977 12.8298 16.815 13.154 15.9989 13.154C15.1829 13.154 14.4002 12.8298 13.8232 12.2527C13.2461 11.6757 12.922 10.8931 12.922 10.077C12.922 9.26092 13.2461 8.47828 13.8232 7.90123C14.4002 7.32418 15.1829 7 15.9989 7C16.815 7 17.5977 7.32418 18.1747 7.90123C18.7518 8.47828 19.0759 9.26092 19.0759 10.077ZM25.2299 13.154C25.2299 13.457 25.1702 13.7571 25.0542 14.0371C24.9383 14.3171 24.7683 14.5715 24.554 14.7858C24.3397 15.0001 24.0853 15.1701 23.8053 15.2861C23.5253 15.402 23.2252 15.4617 22.9222 15.4617C22.6191 15.4617 22.319 15.402 22.039 15.2861C21.759 15.1701 21.5046 15.0001 21.2903 14.7858C21.0761 14.5715 20.9061 14.3171 20.7901 14.0371C20.6741 13.7571 20.6144 13.457 20.6144 13.154C20.6144 12.5419 20.8576 11.9549 21.2903 11.5222C21.7231 11.0894 22.3101 10.8462 22.9222 10.8462C23.5342 10.8462 24.1212 11.0894 24.554 11.5222C24.9868 11.9549 25.2299 12.5419 25.2299 13.154ZM11.3835 13.154C11.3835 13.457 11.3238 13.7571 11.2078 14.0371C11.0918 14.3171 10.9218 14.5715 10.7075 14.7858C10.4932 15.0001 10.2388 15.1701 9.95886 15.2861C9.67887 15.402 9.37878 15.4617 9.07572 15.4617C8.77266 15.4617 8.47257 15.402 8.19259 15.2861C7.9126 15.1701 7.6582 15.0001 7.4439 14.7858C7.22961 14.5715 7.05962 14.3171 6.94365 14.0371C6.82767 13.7571 6.76798 13.457 6.76798 13.154C6.76798 12.5419 7.01112 11.9549 7.4439 11.5222C7.87669 11.0894 8.46367 10.8462 9.07572 10.8462C9.68777 10.8462 10.2748 11.0894 10.7075 11.5222C11.1403 11.9549 11.3835 12.5419 11.3835 13.154Z",fill:"white"}),n=(0,Ft.jsx)(Ir.Path,{d:"M22 22C22 25.3137 19.3137 25.5 16 25.5C12.6863 25.5 10 25.3137 10 22C10 18.6863 12.6863 16 16 16C19.3137 16 22 18.6863 22 22Z",fill:"white"}),t[4]=e,t[5]=s,t[6]=n):(e=t[4],s=t[5],n=t[6]),t[7]!==o?(r=(0,Ft.jsxs)(Ir.default,{testID:"userAvatarFallback",width:o,height:o,viewBox:"0 0 32 32",fill:"none",stroke:"none",children:[e,s,n]}),t[7]=o,t[8]=r):r=t[8],r}if("labeler"===s){let e,s,n;return t[9]!==r?(e="square"===r?(0,Ft.jsx)(Ir.Rect,{x:"0",y:"0",width:"32",height:"32",rx:"3",fill:Jn}):(0,Ft.jsx)(Ir.Circle,{cx:"16",cy:"16",r:"16",fill:Jn}),t[9]=r,t[10]=e):e=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(Ir.Path,{d:"M24 9.75L16 7L8 9.75V15.9123C8 20.8848 12 23 16 25.1579C20 23 24 20.8848 24 15.9123V9.75Z",stroke:"white",strokeWidth:"2",strokeLinecap:"square",strokeLinejoin:"round"}),t[11]=s):s=t[11],t[12]!==o||t[13]!==e?(n=(0,Ft.jsxs)(Ir.default,{testID:"userAvatarFallback",width:o,height:o,viewBox:"0 0 32 32",fill:"none",stroke:"none",children:[e,s]}),t[12]=o,t[13]=e,t[14]=n):n=t[14],n}let a,l,c,d;return t[15]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Ir.Circle,{cx:"12",cy:"12",r:"12",fill:"#0070ff"}),l=(0,Ft.jsx)(Ir.Circle,{cx:"12",cy:"9.5",r:"3.5",fill:"#fff"}),c=(0,Ft.jsx)(Ir.Path,{strokeLinecap:"round",strokeLinejoin:"round",fill:"#fff",d:"M 12.058 22.784 C 9.422 22.784 7.007 21.836 5.137 20.262 C 5.667 17.988 8.534 16.25 11.99 16.25 C 15.494 16.25 18.391 18.036 18.864 20.357 C 17.01 21.874 14.64 22.784 12.058 22.784 Z"}),t[15]=a,t[16]=l,t[17]=c):(a=t[15],l=t[16],c=t[17]),t[18]!==o?(d=(0,Ft.jsxs)(Ir.default,{testID:"userAvatarFallback",width:o,height:o,viewBox:"0 0 24 24",fill:"none",stroke:"none",children:[a,l,c]}),t[18]=o,t[19]=d):d=t[19],d};uP=(0,mt.memo)(uP);let mP=e=>{const t=(0,i.c)(39),{type:s,shape:n,size:o,avatar:r,moderation:a,usePlainRNImage:l,onLoad:c,style:d,live:u,hideLiveBadge:m}=e,h=void 0===s?"user":s,p=void 0!==l&&l,f=ec(),g=n??("user"===h?"circle":"square");let x,_,y;_="square"===g?o>32?8:3:Math.floor(o/2),t[0]!==_||t[1]!==o||t[2]!==f.palette.contrast_25?(y={width:o,height:o,borderRadius:_,backgroundColor:f.palette.contrast_25},t[0]=_,t[1]=o,t[2]=f.palette.contrast_25,t[3]=y):y=t[3],x=y;const b=x;let j,v,w,S;t[4]!==b.borderRadius?(v={borderRadius:b.borderRadius},t[4]=b.borderRadius,t[5]=v):v=t[5],t[6]!==u||t[7]!==o||t[8]!==f.palette.negative_500?(w=u&&{borderColor:f.palette.negative_500,borderWidth:o>16?2:1,opacity:1},t[6]=u,t[7]=o,t[8]=f.palette.negative_500,t[9]=w):w=t[9],t[10]!==v||t[11]!==w?(S=[v,w],t[10]=v,t[11]=w,t[12]=S):S=t[12],j=S;const k=j;let C,P;t[13]!==a?.alert||t[14]!==o||t[15]!==f.palette.negative_400||t[16]!==f.palette.white?(C=()=>a?.alert?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.right_0,kl.bottom_0,kl.rounded_full,{backgroundColor:f.palette.white}],children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"exclamation-circle",style:{color:f.palette.negative_400},size:Math.floor(o/3)})}):null,t[13]=a?.alert,t[14]=o,t[15]=f.palette.negative_400,t[16]=f.palette.white,t[17]=C):C=t[17],a?.alert,t[18]!==C?(P=C(),t[18]=C,t[19]=P):P=t[19];const T=P;let L,A,I;t[20]!==o?(A={width:o,height:o},t[20]=o,t[21]=A):A=t[21],t[22]!==d||t[23]!==A?(I=[A,d],t[22]=d,t[23]=A,t[24]=I):I=t[24],L=I;const R=L;let D;return t[25]!==T||t[26]!==r||t[27]!==b||t[28]!==k||t[29]!==R||t[30]!==g||t[31]!==m||t[32]!==u||t[33]!==a?.blur||t[34]!==c||t[35]!==o||t[36]!==h||t[37]!==p?(D=!r||a?.blur&&St?(0,Ft.jsxs)(wo.default,{style:R,children:[(0,Ft.jsx)(uP,{type:h,shape:g,size:o}),(0,Ft.jsx)(lP,{style:k}),u&&o>16&&!m&&(0,Ft.jsx)(wS,{size:o>32?"small":"tiny"}),T]}):(0,Ft.jsxs)(wo.default,{style:R,children:[p?(0,Ft.jsx)(hw.default,{accessibilityIgnoresInvertColors:!0,testID:"userAvatarImage",style:b,resizeMode:"cover",source:{uri:fP(r,o<90)},blurRadius:a?.blur?dP:0,onLoad:c}):(0,Ft.jsx)(xS,{testID:"userAvatarImage",style:b,contentFit:"cover",source:{uri:fP(r,o<90)},blurRadius:a?.blur?dP:0,onLoad:c}),(0,Ft.jsx)(lP,{style:k}),u&&o>16&&!m&&(0,Ft.jsx)(wS,{size:o>32?"small":"tiny"}),T]}),t[25]=T,t[26]=r,t[27]=b,t[28]=k,t[29]=R,t[30]=g,t[31]=m,t[32]=u,t[33]=a?.blur,t[34]=c,t[35]=o,t[36]=h,t[37]=p,t[38]=D):D=t[38],D};mP=(0,mt.memo)(mP);let hP=({type:e="user",size:t,avatar:s,onSelectNewAvatar:n})=>{const o=ec(),{_:r}=(0,ft.useLingui)(),{requestCameraAccessIfNeeded:i}={requestCameraAccessIfNeeded:async()=>!1},{requestPhotoAccessIfNeeded:a}={requestPhotoAccessIfNeeded:async()=>!0},[l,c]=(0,mt.useState)(),d=Ar(),u=tv(),m="algo"!==e&&"list"!==e,h=(0,mt.useMemo)((()=>m?{width:t,height:t,borderRadius:Math.floor(t/2)}:{width:t,height:t,borderRadius:t>32?8:3}),[m,t]),p=mt.useCallback((async()=>{await i()&&n(await Mu(await $u()))}),[n,i]),f=mt.useCallback((async()=>{if(!await a())return;const e=(await u(Ku({aspect:[1,1]})))[0];if(e)try{kt?n(await Mu(await Gu(e.path))):(c(await Xu(e)),d.open())}catch(t){String(t).toLowerCase().includes("cancel")||ys.error("Failed to crop banner",{error:t})}}),[n,a,u,d,m]),g=mt.useCallback((()=>{n(null)}),[n]),x=(0,mt.useCallback)((async e=>{const t=await sm(e);n(t)}),[n]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:r({id:"PUv/ZC"}),children:({props:n})=>(0,Ft.jsxs)(tr.default,Object.assign({},n,{testID:"changeAvatarBtn",children:[s?(0,Ft.jsx)(xS,{testID:"userAvatarImage",style:h,source:{uri:s},accessibilityRole:"image"}):(0,Ft.jsx)(uP,{type:e,size:t}),(0,Ft.jsx)(wo.default,{style:[gP.editButtonContainer,o.atoms.bg_contrast_25,kl.border,o.atoms.border_contrast_low],children:(0,Ft.jsx)(yS,{height:14,width:14,style:o.atoms.text})})]}))}),(0,Ft.jsxs)(wC,{showCancel:!0,children:[(0,Ft.jsxs)(LC,{children:[kt&&(0,Ft.jsxs)(SC,{testID:"changeAvatarCameraBtn",label:r({id:"87sqdq"}),onPress:p,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"87sqdq"})}),(0,Ft.jsx)(CC,{icon:_S})]}),(0,Ft.jsxs)(SC,{testID:"changeAvatarLibraryBtn",label:r({id:"gF0jGM"}),onPress:f,children:[(0,Ft.jsx)(kC,{children:kt?(0,Ft.jsx)(ft.Trans,{id:"gF0jGM"}):(0,Ft.jsx)(ft.Trans,{id:"8ssRu1"})}),(0,Ft.jsx)(CC,{icon:bS})]})]}),!!s&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsx)(LC,{children:(0,Ft.jsxs)(SC,{testID:"changeAvatarRemoveBtn",label:r({id:"ht9wiE"}),onPress:g,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ht9wiE"})}),(0,Ft.jsx)(CC,{icon:jS})]})})]})]})]}),(0,Ft.jsx)(hS,{control:d,image:l,onChange:x,aspectRatio:1,circularCrop:m})]})};hP=(0,mt.memo)(hP);let pP=e=>{const t=(0,i.c)(35);let s,n,o,r,a,l,c;if(t[0]!==e){var d=e;({moderation:r,profile:l,disableHoverCard:s,disableNavigation:n,onBeforePress:a,live:o}=d),c=(0,ls.default)(d,cP),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7];const{_:u}=(0,ft.useLingui)(),m=(0,wd.useQueryClient)(),h=nS(l),p=Ar(),f=lS();let g;t[8]!==a||t[9]!==l||t[10]!==m?(g=()=>{a?.(),By(m,l)},t[8]=a,t[9]=l,t[10]=m,t[11]=g):g=t[11];const x=g;let _;t[12]!==p||t[13]!==f||t[14]!==l.did?(_=()=>{f("Light"),ys.metric("live:card:open",{subject:l.did,from:"post"}),p.open()},t[12]=p,t[13]=f,t[14]=l.did,t[15]=_):_=t[15];const y=_,b=l.associated?.labeler?"labeler":"user",j=h.isActive||o;let v;t[16]!==r||t[17]!==l.avatar||t[18]!==c||t[19]!==b||t[20]!==j?(v=(0,Ft.jsx)(mP,Object.assign({avatar:l.avatar,moderation:r,type:b,live:j},c)),t[16]=r,t[17]=l.avatar,t[18]=c,t[19]=b,t[20]=j,t[21]=v):v=t[21];const w=v;let S,k;return t[22]!==u||t[23]!==w||t[24]!==n||t[25]!==p||t[26]!==y||t[27]!==x||t[28]!==l||t[29]!==h?(S=n?w:h.isActive&&(kt||am)?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,{label:u({id:"/+FcG4",values:{0:Qf(l.displayName||su(l.handle))}}),accessibilityHint:u({id:"tQ5CqN"}),onPress:y,children:w}),(0,Ft.jsx)(oP,{control:p,profile:l,status:h,embed:h.embed})]}):(0,Ft.jsx)(pv,{label:u({id:"/+FcG4",values:{0:Qf(l.displayName||su(l.handle))}}),accessibilityHint:u({id:"0xfAvQ"}),to:cS({did:l.did,handle:l.handle}),onPress:x,children:w}),t[22]=u,t[23]=w,t[24]=n,t[25]=p,t[26]=y,t[27]=x,t[28]=l,t[29]=h,t[30]=S):S=t[30],t[31]!==s||t[32]!==l.did||t[33]!==S?(k=(0,Ft.jsx)($k,{did:l.did,disable:s,children:S}),t[31]=s,t[32]=l.did,t[33]=S,t[34]=k):k=t[34],k};function fP(e,t){return t?e.replace("/img/avatar/plain/","/img/avatar_thumbnail/plain/"):e}pP=(0,mt.memo)(pP);const gP=Gn.default.create({editButtonContainer:{position:"absolute",width:24,height:24,bottom:0,right:0,borderRadius:12,alignItems:"center",justifyContent:"center"}}),xP=64,_P=300;function yP({purpose:e,onSave:t,list:s}){const{closeModal:n}=Zd(),{isMobile:o}=jx(),[r,a]=(0,mt.useState)(""),l=mx("default"),c=dc(),{_:d}=(0,ft.useLingui)(),u=function(){const e=(0,i.c)(4),{currentAccount:t}=xh(),s=(0,wd.useQueryClient)(),n=bh();let o;return e[0]!==n||e[1]!==t||e[2]!==s?(o={async mutationFn(e){const{purpose:s,name:o,description:r,descriptionFacets:i,avatar:a}=e;if(!t)throw new Error("Not signed in");if("app.bsky.graph.defs#curatelist"!==s&&"app.bsky.graph.defs#modlist"!==s)throw new Error("Invalid list purpose: must be curatelist or modlist");const l={purpose:s,name:o,description:r,descriptionFacets:i,avatar:void 0,createdAt:(new Date).toISOString()};if(a){const e=await v_(n,a.path,a.mime);l.avatar=e.data.blob}const c=await n.app.bsky.graph.list.create({repo:t.did},l);return await eS(n,c.uri,Kw),c},onSuccess(){Vw(s),s.invalidateQueries({queryKey:Uw(t.did)})}},e[0]=n,e[1]=t,e[2]=s,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}(),m=function(){const e=(0,i.c)(4),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)();let o;return e[0]!==s||e[1]!==t||e[2]!==n?(o={async mutationFn(e){const{uri:n,name:o,description:r,descriptionFacets:i,avatar:a}=e,{hostname:l,rkey:c}=new Is.AtUri(n);if(!t)throw new Error("Not signed in");if(t.did!==l)throw new Error("You do not own this list");const{value:d}=await s.app.bsky.graph.list.get({repo:t.did,rkey:c});if(d.name=o,d.description=r,d.descriptionFacets=i,a){const e=await v_(s,a.path,a.mime);d.avatar=e.data.blob}else null===a&&(d.avatar=void 0);const u=(await s.com.atproto.repo.putRecord({repo:t.did,collection:"app.bsky.graph.list",rkey:c,record:d})).data;return await eS(s,u.uri,(e=>{const t=e.data.list;return t.name===d.name&&t.description===d.description})),u},onSuccess(e,s){Vw(n),n.invalidateQueries({queryKey:Uw(t.did)}),n.invalidateQueries({queryKey:Qw(s.uri)})}},e[0]=s,e[1]=t,e[2]=n,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}(),h=bh(),p=(0,mt.useMemo)((()=>s?.purpose?s.purpose:e||"app.bsky.graph.defs#curatelist"),[s,e]),f="app.bsky.graph.defs#curatelist"===p,[g,x]=(0,mt.useState)(!1),[_,y]=(0,mt.useState)(s?.name||""),[b,j]=(0,mt.useState)((()=>{const e=s?.description,t=s?.descriptionFacets;if(!e||!t)return new Is.RichText({text:e||""});const n=Fw(new Is.RichText({text:e,facets:t}),!1),o=new Is.RichText({text:n});return o.detectFacetsWithoutResolution(),o})),v=(0,mt.useMemo)((()=>ig(b).graphemeLength),[b]),w=v>_P,[S,k]=(0,mt.useState)(s?.avatar),[C,P]=(0,mt.useState)(),T=(0,mt.useCallback)((e=>{const t=new Is.RichText({text:e});t.detectFacetsWithoutResolution(),j(t)}),[j]),L=(0,mt.useCallback)((()=>{n()}),[n]),A=(0,mt.useCallback)((e=>{if(!e)return P(null),void k(void 0);try{P(e),k(e.path)}catch(t){a(ds(t))}}),[P,k,a]),I=(0,mt.useCallback)((async()=>{const e=_.trim();if(e){x(!0),r&&a("");try{let o=new Is.RichText({text:b.text.trimEnd()},{cleanNewlines:!0});if(await o.detectFacets(h),o=ig(o),o=ag(o),s)await m.mutateAsync({uri:s.uri,name:e,description:o.text,descriptionFacets:o.facets,avatar:C}),Zu(d(f?{id:"BrnSTz"}:{id:"K70wIO"})),t?.(s.uri);else{const e=await u.mutateAsync({purpose:p,name:_,description:o.text,descriptionFacets:o.facets,avatar:C});Zu(d(f?{id:"4oHkb+"}:{id:"atbRxA"})),t?.(e.uri)}n()}catch(o){ms(o)?a(d({id:"eN2CGZ"})):a(ds(o))}x(!1)}else a(d({id:"8/brI5"}))}),[x,a,r,t,n,p,f,_,b,C,s,m,u,d,h]);return(0,Ft.jsx)(Tw.default,{behavior:"height",children:(0,Ft.jsxs)(Sw.default,{style:[l.view,{paddingHorizontal:o?16:0}],testID:"createOrEditListModal",children:[(0,Ft.jsx)(Tx,{style:[bP.title,l.text],children:f?s?(0,Ft.jsx)(ft.Trans,{id:"sjAxX4"}):(0,Ft.jsx)(ft.Trans,{id:"0XDp/+"}):s?(0,Ft.jsx)(ft.Trans,{id:"QWLS6u"}):(0,Ft.jsx)(ft.Trans,{id:"mjLIK3"})}),""!==r&&(0,Ft.jsx)(wo.default,{style:bP.errorContainer,children:(0,Ft.jsx)(Rx,{message:r})}),(0,Ft.jsx)(Tx,{style:[bP.label,l.text],children:(0,Ft.jsx)(ft.Trans,{id:"FuZWua"})}),(0,Ft.jsx)(wo.default,{style:[bP.avi,{borderColor:l.colors.background}],children:(0,Ft.jsx)(hP,{type:"list",size:80,avatar:S,onSelectNewAvatar:A})}),(0,Ft.jsxs)(wo.default,{style:bP.form,children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(wo.default,{style:bP.labelWrapper,children:(0,Ft.jsx)(Tx,{style:[bP.label,l.text],nativeID:"list-name",children:(0,Ft.jsx)(ft.Trans,{id:"8mjA4F"})})}),(0,Ft.jsx)(Kr.default,{testID:"editNameInput",style:[bP.textInput,l.border,l.text],placeholder:d(f?{id:"DftLaa"}:{id:"2eix82"}),placeholderTextColor:sc.gray4,value:_,onChangeText:e=>y(Iw(e,xP)),accessible:!0,accessibilityLabel:d({id:"6YtxFj"}),accessibilityHint:"",accessibilityLabelledBy:"list-name"})]}),(0,Ft.jsxs)(wo.default,{style:oc.pb10,children:[(0,Ft.jsxs)(wo.default,{style:bP.labelWrapper,children:[(0,Ft.jsx)(Tx,{style:[bP.label,l.text],nativeID:"list-description",children:(0,Ft.jsx)(ft.Trans,{id:"Nu4oKW"})}),(0,Ft.jsxs)(Tx,{style:[w?oc.red3:l.textLight,oc.f13],children:[v,"/",_P]})]}),(0,Ft.jsx)(Kr.default,{testID:"editDescriptionInput",style:[bP.textArea,l.border,l.text],placeholder:d(f?{id:"4dTsmA"}:{id:"b9x+Vj"}),placeholderTextColor:sc.gray4,keyboardAppearance:c.colorScheme,multiline:!0,value:b.text,onChangeText:T,accessible:!0,accessibilityLabel:d({id:"Nu4oKW"}),accessibilityHint:"",accessibilityLabelledBy:"list-description"})]}),g?(0,Ft.jsx)(wo.default,{style:[bP.btn,oc.mt10,{backgroundColor:sc.gray2}],children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsx)(Ix.default,{testID:"saveBtn",style:[oc.mt10,w&&oc.dimmed],disabled:w,onPress:I,accessibilityRole:"button",accessibilityLabel:d({id:"tfDRzk"}),accessibilityHint:"",children:(0,Ft.jsx)(sr.LinearGradient,{colors:[nc.blueLight.start,nc.blueLight.end],start:{x:0,y:0},end:{x:1,y:1},style:bP.btn,children:(0,Ft.jsx)(Tx,{style:[oc.white,oc.bold],children:(0,Ft.jsx)(ft.Trans,{id:"l0/LEd"})})})}),(0,Ft.jsx)(Ix.default,{testID:"cancelBtn",style:oc.mt5,onPress:L,accessibilityRole:"button",accessibilityLabel:d({id:"dEgA5A"}),accessibilityHint:"",onAccessibilityEscape:L,children:(0,Ft.jsx)(wo.default,{style:[bP.btn],children:(0,Ft.jsx)(Tx,{style:[oc.black,oc.bold,l.text],children:(0,Ft.jsx)(ft.Trans,{id:"3kdXEk"})})})})]})]})})}const bP=Gn.default.create({title:{textAlign:"center",fontWeight:"600",fontSize:24,marginBottom:18},labelWrapper:{flexDirection:"row",gap:8,alignItems:"center",justifyContent:"space-between",paddingHorizontal:4,paddingBottom:4,marginTop:20},label:{fontWeight:"600"},form:{paddingHorizontal:6},textInput:{borderWidth:1,borderRadius:6,paddingHorizontal:14,paddingVertical:10,fontSize:16},textArea:{borderWidth:1,borderRadius:6,paddingHorizontal:12,paddingTop:10,fontSize:16,height:100,textAlignVertical:"top"},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",borderRadius:32,padding:10,marginBottom:10},avi:{width:84,height:84,borderWidth:2,borderRadius:42,marginTop:4},errorContainer:{marginTop:20}});var jP=s(13881),vP=s(75803),wP=s(94604),SP=s(68574);function kP(){return{scrollYs:new Map,focusedKey:null}}function CP(e){if(!e)return{name:"Home"};let t=e.routes[e.index||0];for(;t.state?.routes&&"number"===typeof t.state?.index;)t=t.state?.routes[t.state?.index];return t}function PP(e,t){return e===t||e===`${t}Tab`||e===`${t}Inner`}"scrollRestoration"in history&&(history.scrollRestoration="manual");let TP=function(e){return e[e.InsideAtRoot=0]="InsideAtRoot",e[e.Inside=1]="Inside",e[e.Outside=2]="Outside",e}({});function LP(e,t){if(!e)return TP.Outside;return PP(CP(e).name,t)?TP.InsideAtRoot:PP(e.routes[e.index||0].name,t)?TP.Inside:TP.Outside}function AP(e,t,s,n=[]){return"Flat"===e?{routes:[{name:t,params:s}]}:{routes:[{name:e,state:{routes:[...n,{name:t,params:s}]}}]}}function IP(e,t){return`${t?`(${t}) `:""}${e} \u2014 Bluesky`}const RP=e=>{1!==e.button||e.target.closest("a")||"A"===e.target.tagName||e.target.dispatchEvent(new MouseEvent("click",{metaKey:!0,bubbles:!0}))},DP=e=>{1===e.button&&e.preventDefault()};function FP(e){const t=(0,i.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)("div",{onMouseDown:DP,onMouseUp:RP,children:s}),t[0]=s,t[1]=n):n=t[1],n}const EP=["children","style","hoverStyle"],MP=(0,mt.forwardRef)((function(e,t){const s=(0,i.c)(16);let n,o,r,a;if(s[0]!==e){var l=e;({children:n,style:a,hoverStyle:o}=l),r=(0,ls.default)(l,EP),s[0]=e,s[1]=n,s[2]=o,s[3]=r,s[4]=a}else n=s[1],o=s[2],r=s[3],a=s[4];const{state:c,onIn:d,onOut:u}=Ki();let m,h;return s[5]!==o||s[6]!==c||s[7]!==a?(m="function"!==typeof a&&c?rc(a,o):a,s[5]=o,s[6]=c,s[7]=a,s[8]=m):m=s[8],s[9]!==n||s[10]!==d||s[11]!==u||s[12]!==r||s[13]!==t||s[14]!==m?(h=(0,Ft.jsx)(tr.default,Object.assign({},r,{style:m,onHoverIn:d,onHoverOut:u,ref:t,children:n})),s[9]=n,s[10]=d,s[11]=u,s[12]=r,s[13]=t,s[14]=m,s[15]=h):h=s[15],h})),BP=["testID","style","href","title","children","noFeedback","asAnchor","accessible","anchorNoUnderline","navigationAction","onBeforePress","accessibilityActions","onAccessibilityAction"],OP=["testID","type","style","href","text","numberOfLines","lineHeight","dataSet","title","onPress","onBeforePress","disableMismatchWarning","navigationAction","anchorNoUnderline"],zP=["testID","type","style","href","text","numberOfLines","lineHeight","navigationAction","disableMismatchWarning","onBeforePress"],HP=(0,mt.memo)((function(e){let{testID:t,style:s,href:n,title:o,children:r,noFeedback:i,asAnchor:a,accessible:l,anchorNoUnderline:c,navigationAction:d,onBeforePress:u,accessibilityActions:m,onAccessibilityAction:h}=e,p=(0,ls.default)(e,BP);const f=ec(),{closeModal:g}=Zd(),x=Gj(),_=a?(0,Qj.sanitizeUrl)(n):void 0,y=nv(),b=mt.useCallback((e=>{if(u?.(),"string"===typeof n)return UP(g,x,(0,Qj.sanitizeUrl)(n),d,y,e)}),[g,x,d,n,y,u]),j=[...m||[],{name:"activate",label:o}];if(i)return(0,Ft.jsx)(FP,{children:(0,Ft.jsx)(tr.default,Object.assign({testID:t,onPress:b,accessible:l,accessibilityRole:"link",accessibilityActions:j,onAccessibilityAction:e=>{"activate"===e.nativeEvent.actionName?b():h?.(e)}},p,{android_ripple:{color:f.atoms.bg_contrast_25.backgroundColor},unstable_pressDelay:St?90:void 0,children:(0,Ft.jsx)(wo.default,{style:s,href:_,children:r||(0,Ft.jsx)(Tx,{children:o||"link"})})}))});c&&(p.dataSet=p.dataSet||{},p.dataSet.noUnderline=1),o&&!p.accessibilityLabel&&(p.accessibilityLabel=o);const v=p.hoverStyle?MP:tr.default;return(0,Ft.jsx)(v,Object.assign({testID:t,style:s,onPress:b,accessible:l,accessibilityRole:"link",href:_},p,{children:r||(0,Ft.jsx)(Tx,{children:o||"link"})}))})),NP=(0,mt.memo)((function(e){let{testID:t,type:s="md",style:n,href:o,text:r,numberOfLines:i,lineHeight:a,dataSet:l,title:c,onPress:d,onBeforePress:u,disableMismatchWarning:m,navigationAction:h,anchorNoUnderline:p}=e,f=(0,ls.default)(e,OP);const g=(0,Kj.default)({to:(0,Qj.sanitizeUrl)(o)}),x=Object.assign({},((0,Hy.default)(g),g)),_=Gj(),{openModal:y,closeModal:b}=Zd(),j=nv();p&&(l=l??{},l.noUnderline=1),x.onPress=mt.useCallback((e=>{if(!m&&Cu(o,"string"===typeof r?r:"")&&(e?.preventDefault?.(),y({name:"link-warning",text:"string"===typeof r?r:"",href:o})),!Pt||"#"===o||null==e||!function(e){const t=e.currentTarget,s=t.getAttribute("target");return s&&"_self"!==s||e.metaKey||e.ctrlKey||e.shiftKey||e.altKey||e.nativeEvent&&2===e.nativeEvent.which}(e))return u?.(),d?(e?.preventDefault?.(),d()):UP(b,_,(0,Qj.sanitizeUrl)(o),h,j,e)}),[u,d,b,y,_,o,r,m,h,j]);const v=(0,mt.useMemo)((()=>yu(o)?{target:"_blank"}:{}),[o]);return(0,Ft.jsx)(Tx,Object.assign({testID:t,type:s,style:n,numberOfLines:i,lineHeight:a,dataSet:l,title:c,hrefAttrs:v},x,f,{children:r}))})),VP=(0,mt.memo)((function(e){const t=(0,i.c)(32);let s,n,o,r,a,l,c,d,u,m,h;if(t[0]!==e){var p=e;({testID:m,type:u,style:d,href:n,text:h,numberOfLines:a,lineHeight:o,navigationAction:r,disableMismatchWarning:s,onBeforePress:l}=p),c=(0,ls.default)(p,zP),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],m=t[10],h=t[11];const f=void 0===u?"md":u;if(Pt){let e;return t[12]!==s||t[13]!==n||t[14]!==o||t[15]!==r||t[16]!==a||t[17]!==l||t[18]!==c||t[19]!==d||t[20]!==m||t[21]!==h||t[22]!==f?(e=(0,Ft.jsx)(NP,Object.assign({testID:m,type:f,style:d,href:n,text:h,numberOfLines:a,lineHeight:o,title:c.title,navigationAction:r,disableMismatchWarning:s,onBeforePress:l},c)),t[12]=s,t[13]=n,t[14]=o,t[15]=r,t[16]=a,t[17]=l,t[18]=c,t[19]=d,t[20]=m,t[21]=h,t[22]=f,t[23]=e):e=t[23],e}let g;return t[24]!==o||t[25]!==a||t[26]!==c||t[27]!==d||t[28]!==m||t[29]!==h||t[30]!==f?(g=(0,Ft.jsx)(Tx,Object.assign({testID:m,type:f,style:d,numberOfLines:a,lineHeight:o,title:c.title},c,{children:h})),t[24]=o,t[25]=a,t[26]=c,t[27]=d,t[28]=m,t[29]=h,t[30]=f,t[31]=g):g=t[31],g})),qP=["/robots.txt","/security.txt","/.well-known/"];function UP(e=(()=>{}),t,s,n="push",o,r){let i=!1;const a=null==r.button||0===r.button,l=1===r.button,c=r.metaKey||r.altKey||r.ctrlKey||r.shiftKey||l;if(r?!r.defaultPrevented&&(a||l)&&[void 0,null,"","self"].includes(r.currentTarget?.target)&&(r.preventDefault(),i=!0):i=!r||!r.defaultPrevented,i)if(s=vu(s),c||s.startsWith("http")||s.startsWith("mailto")||qP.some((e=>s.startsWith(e))))o(s);else{e();const[o,r]=cv.matchPath(s);if("push"===n)t.dispatch(va.StackActions.push(o,r));else if("replace"===n)t.dispatch(va.StackActions.replace(o,r));else{if("navigate"!==n)throw Error("Unsupported navigator action.");LP(t.getState(),o)===TP.InsideAtRoot?Rt():t.navigate(o,r)}}}const WP=["style","topBorder"],ZP=["contentContainerStyle","style","contentOffset","desktopFixedHeight"],QP=["contentContainerStyle"],KP=mt.forwardRef((function(e,t){const s=(0,i.c)(16);let n,o,r;if(s[0]!==e){var a=e;({style:o,topBorder:r}=a),n=(0,ls.default)(a,WP),s[0]=e,s[1]=n,s[2]=o,s[3]=r}else n=s[1],o=s[2],r=s[3];const l=mx("default"),{isMobile:c}=jx(),{centerColumnOffset:d}=Ul(),{isWithinDialog:u}=Lr();if(!c){let e;s[4]!==o?(e=rc(o,GP.container),s[4]=o,s[5]=e):e=s[5],o=e}if(d&&!u){let e;s[6]!==o?(e=rc(o,GP.containerOffset),s[6]=o,s[7]=e):e=s[7],o=e}if(r){let e;s[8]!==l.border||s[9]!==o?(o=rc(o,{borderTopWidth:1}),e=rc(o,l.border),s[8]=l.border,s[9]=o,s[10]=e,s[11]=o):(e=s[10],o=s[11]),o=e}let m;return s[12]!==n||s[13]!==t||s[14]!==o?(m=(0,Ft.jsx)(wo.default,Object.assign({ref:t,style:o},n)),s[12]=n,s[13]=t,s[14]=o,s[15]=m):m=s[15],m})),$P=(mt.forwardRef((function(e,t){let{contentContainerStyle:s,style:n,contentOffset:o,desktopFixedHeight:r}=e,i=(0,ls.default)(e,ZP);const{isMobile:a}=jx(),{centerColumnOffset:l}=Ul(),{isWithinDialog:c}=Lr();return a||(s=rc(s,GP.containerScroll)),l&&!c&&(n=rc(n,GP.containerOffset)),o&&0!==o?.y&&(n=rc(n,{paddingTop:0}),s=rc(s,{paddingTop:Math.abs(o.y)})),r&&(n=rc(n,"number"===typeof r?{height:`calc(100vh - ${r}px)`}:GP.fixedHeight),a||(i.dataSet=i.dataSet||{},i.dataSet.stableGutters="1")),(0,Ft.jsx)(ko.default.FlatList,Object.assign({ref:t,contentContainerStyle:[GP.contentContainer,s],style:n,contentOffset:o},i))})),mt.forwardRef((function(e,t){const s=(0,i.c)(13);let n,o;if(s[0]!==e){var r=e;({contentContainerStyle:n}=r),o=(0,ls.default)(r,QP),s[0]=e,s[1]=n,s[2]=o}else n=s[1],o=s[2];const{isMobile:a}=jx(),{centerColumnOffset:l}=Ul();if(!a){let e;s[3]!==n?(e=rc(n,GP.containerScroll),s[3]=n,s[4]=e):e=s[4],n=e}if(l){let e;s[5]!==n?(e=rc(n,GP.containerOffset),s[5]=n,s[6]=e):e=s[6],n=e}let c,d;return s[7]!==n?(c=[GP.contentContainer,n],s[7]=n,s[8]=c):c=s[8],s[9]!==o||s[10]!==t||s[11]!==c?(d=(0,Ft.jsx)(ko.default.ScrollView,Object.assign({contentContainerStyle:c,ref:t},o)),s[9]=o,s[10]=t,s[11]=c,s[12]=d):d=s[12],d}))),GP=Gn.default.create({contentContainer:{minHeight:"100vh"},container:{width:"100%",maxWidth:600,marginLeft:"auto",marginRight:"auto"},containerOffset:{transform:[{translateX:ya}]},containerScroll:{width:"100%",maxWidth:600,marginLeft:"auto",marginRight:"auto"},fixedHeight:{height:"100vh"}});function YP(e){const t=(0,i.c)(10),{title:s,renderButton:n}=e;let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(dl,{}),t[0]=o):o=t[0],t[1]!==s?(r=(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:s})}),t[1]=s,t[2]=r):r=t[2],t[3]!==n?(a=n?.()??null,t[3]=n,t[4]=a):a=t[4],t[5]!==a?(l=(0,Ft.jsx)(cl,{children:a}),t[5]=a,t[6]=l):l=t[6],t[7]!==r||t[8]!==l?(c=(0,Ft.jsxs)(il,{children:[o,r,l]}),t[7]=r,t[8]=l,t[9]=c):c=t[9],c}const JP=e=>{const t=(0,i.c)(21),s=mx("default"),{_:n}=(0,ft.useLingui)(),o=Na();let r,a,l,c,d,u,m,h,p,f;return t[0]!==o?(r=()=>{o(!1)},t[0]=o,t[1]=r):r=t[1],(0,va.useFocusEffect)(r),t[2]!==n?(a=n({id:"KHzDTk"}),t[2]=n,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(YP,{title:a}),t[4]=a,t[5]=l):l=t[5],t[6]!==s.view?(c=[oc.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[oc.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,Ft.jsx)(ft.Trans,{id:"o4M2MP",components:{0:(0,Ft.jsx)(NP,{style:s.link,href:"https://bsky.social/about/support/community-guidelines",text:"bsky.social/about/support/community-guidelines"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Tx,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(wo.default,{style:oc.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,Ft.jsxs)($P,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,Ft.jsxs)(_l,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f},XP=e=>{const t=(0,i.c)(21),s=mx("default"),{_:n}=(0,ft.useLingui)(),o=Na();let r,a,l,c,d,u,m,h,p,f;return t[0]!==o?(r=()=>{o(!1)},t[0]=o,t[1]=r):r=t[1],(0,va.useFocusEffect)(r),t[2]!==n?(a=n({id:"u40k/o"}),t[2]=n,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(YP,{title:a}),t[4]=a,t[5]=l):l=t[5],t[6]!==s.view?(c=[oc.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[oc.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,Ft.jsx)(ft.Trans,{id:"U42lKc",components:{0:(0,Ft.jsx)(NP,{style:s.link,href:"https://bsky.social/about/support/copyright",text:"bsky.social/about/support/copyright"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Tx,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(wo.default,{style:oc.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,Ft.jsxs)($P,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,Ft.jsxs)(_l,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f};function eT(e){const t=(0,i.c)(4),{children:s,style:n,onKeyDown:o}=e,r=sT,a=void 0===o||o?r:void 0;let l;return t[0]!==s||t[1]!==n||t[2]!==a?(l=(0,Ft.jsx)(wo.default,{onStartShouldSetResponder:tT,onTouchEnd:r,onClick:r,onKeyDown:a,style:n,children:s}),t[0]=s,t[1]=n,t[2]=a,t[3]=l):l=t[3],l}function tT(e){return!0}function sT(e){e.stopPropagation()}zr({path:"M12.707 3.293a1 1 0 0 0-1.414 0l-4.5 4.5a1 1 0 0 0 1.414 1.414L11 6.414v8.836a1 1 0 1 0 2 0V6.414l2.793 2.793a1 1 0 1 0 1.414-1.414l-4.5-4.5ZM5 12.75a1 1 0 1 0-2 0V20a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1v-7.25a1 1 0 1 0-2 0V19H5v-6.25Z"});const nT=zr({path:"M20 13.75a1 1 0 0 1 1 1V18a3 3 0 0 1-3 3H6a3 3 0 0 1-3-3v-3.25a1 1 0 1 1 2 0V18a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-3.25a1 1 0 0 1 1-1ZM12 3a1 1 0 0 1 .707.293l4.5 4.5a1 1 0 1 1-1.414 1.414L13 6.414v8.836a1 1 0 1 1-2 0V6.414L8.207 9.207a1 1 0 1 1-1.414-1.414l4.5-4.5A1 1 0 0 1 12 3Z"}),oT=zr({path:"M18.535 5.465a5.003 5.003 0 0 0-7.076 0l-.005.005-.752.742a1 1 0 1 1-1.404-1.424l.749-.74a7.003 7.003 0 0 1 9.904 9.905l-.002.003-.737.746a1 1 0 1 1-1.424-1.404l.747-.757a5.003 5.003 0 0 0 0-7.076ZM6.202 9.288a1 1 0 0 1 .01 1.414l-.747.757a5.003 5.003 0 1 0 7.076 7.076l.005-.005.752-.742a1 1 0 1 1 1.404 1.424l-.746.737-.003.002a7.003 7.003 0 0 1-9.904-9.904l.74-.75a1 1 0 0 1 1.413-.009Zm8.505.005a1 1 0 0 1 0 1.414l-4 4a1 1 0 0 1-1.414-1.414l4-4a1 1 0 0 1 1.414 0Z"}),rT=zr({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm13.633-3.274a1 1 0 0 1 .141 1.407l-4.5 5.5a1 1 0 0 1-1.481.074l-2-2a1 1 0 1 1 1.414-1.414l1.219 1.219 3.8-4.645a1 1 0 0 1 1.407-.141Z"}),iT=zr({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm6.293-3.707a1 1 0 0 1 1.414 0L12 10.586l2.293-2.293a1 1 0 1 1 1.414 1.414L13.414 12l2.293 2.293a1 1 0 0 1-1.414 1.414L12 13.414l-2.293 2.293a1 1 0 0 1-1.414-1.414L10.586 12 8.293 9.707a1 1 0 0 1 0-1.414Z"}),aT=zr({path:"M8.17 4A3.001 3.001 0 0 1 11 2h2c1.306 0 2.418.835 2.83 2H17a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h1.17ZM8 6H7a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V7a1 1 0 0 0-1-1h-1v1a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1V6Zm6 0V5a1 1 0 0 0-1-1h-2a1 1 0 0 0-1 1v1h4Z"}),lT=zr({path:"M2 12a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm16 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0Zm-6-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"}),cT=zr({path:"M4 4a2 2 0 0 1 2-2h13.131c1.598 0 2.55 1.78 1.665 3.11L18.202 9l2.594 3.89c.886 1.33-.067 3.11-1.665 3.11H6v5a1 1 0 1 1-2 0V4Zm2 10h13.131l-2.593-3.89a2 2 0 0 1 0-2.22L19.13 4H6v10Z"}),dT=zr({path:"M4 5a1 1 0 0 0 0 2h16a1 1 0 1 0 0-2H4Zm0 12a1 1 0 1 0 0 2h3a1 1 0 1 0 0-2H4Zm-1-5a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm14-3a1 1 0 0 1 .92.606l1.342 3.132 3.132 1.343a1 1 0 0 1 0 1.838l-3.132 1.343-1.343 3.132a1 1 0 0 1-1.838 0l-1.343-3.132-3.132-1.343a1 1 0 0 1 0-1.838l3.132-1.343 1.343-3.132A1 1 0 0 1 17 9Zm0 3.539-.58 1.355a1 1 0 0 1-.526.525L14.539 15l1.355.58a1 1 0 0 1 .525.526L17 17.461l.58-1.355a1 1 0 0 1 .526-.525L19.461 15l-1.355-.58a1 1 0 0 1-.525-.526L17 12.539Z"}),uT=zr({path:"M2 12A9.97 9.97 0 0 1 4.929 4.93l.076-.068a1 1 0 0 1 1.407 1.406l-.07.076A7.97 7.97 0 0 0 4 12c0 2.072.786 3.958 2.078 5.38l.265.277.07.076a1 1 0 0 1-1.408 1.407l-.076-.07-.331-.346A9.97 9.97 0 0 1 2 12Zm18 0a7.97 7.97 0 0 0-2.078-5.379l-.265-.278-.07-.076a1 1 0 0 1 1.408-1.406l.076.068.331.347A9.97 9.97 0 0 1 22 12c0 2.761-1.12 5.262-2.929 7.07a1 1 0 1 1-1.414-1.413A7.97 7.97 0 0 0 20 12ZM6 12c0-1.656.673-3.158 1.758-4.243a1 1 0 0 1 1.414 1.414A3.99 3.99 0 0 0 8 12.001c0 1.035.393 1.978 1.04 2.689l.132.138.068.077a1 1 0 0 1-1.407 1.406l-.075-.069-.2-.208A5.98 5.98 0 0 1 6 12Zm10 0a3.98 3.98 0 0 0-1.04-2.69l-.132-.139-.068-.075a1 1 0 0 1 1.407-1.407l.075.068.2.208A5.98 5.98 0 0 1 18 12a5.99 5.99 0 0 1-1.758 4.243 1 1 0 0 1-1.414-1.415A3.99 3.99 0 0 0 16 12Zm-6 0a2 2 0 1 1 4 0 2 2 0 0 1-4 0Z"}),mT=zr({path:"M10 4a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5ZM5.5 6.5a4.5 4.5 0 1 1 9 0 4.5 4.5 0 0 1-9 0ZM16 11a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2h-5a1 1 0 0 1-1-1ZM3.678 19h12.644c-.71-2.909-3.092-5-6.322-5s-5.613 2.091-6.322 5Zm-2.174.906C1.917 15.521 5.242 12 10 12c4.758 0 8.083 3.521 8.496 7.906A1 1 0 0 1 17.5 21h-15a1 1 0 0 1-.996-1.094Z"}),hT=zr({path:"M12.472 3.118A1 1 0 0 1 13 4v16a1 1 0 0 1-1.555.832L5.697 17H2a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1h3.697l5.748-3.832a1 1 0 0 1 1.027-.05ZM11 5.868 6.555 8.833A1 1 0 0 1 6 9H3v6h3a1 1 0 0 1 .555.168L11 18.131V5.87Zm7.364-1.645a1 1 0 0 1 1.414 0A10.969 10.969 0 0 1 23 12c0 3.037-1.232 5.788-3.222 7.778a1 1 0 1 1-1.414-1.414A8.969 8.969 0 0 0 21 12a8.969 8.969 0 0 0-2.636-6.364 1 1 0 0 1 0-1.414Zm-3.182 3.181a1 1 0 0 1 1.414 0A6.483 6.483 0 0 1 18.5 12a6.483 6.483 0 0 1-1.904 4.597 1 1 0 0 1-1.414-1.415A4.483 4.483 0 0 0 16.5 12a4.483 4.483 0 0 0-1.318-3.182 1 1 0 0 1 0-1.414Z"});var pT=s(40311);const fT=zr({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm1 6a1 1 0 1 0-2 0v4a1 1 0 0 0 .293.707l2.5 2.5a1 1 0 0 0 1.414-1.414L13 11.586V8Z"}),gT=zr({path:"M5.002 17.036V5h14v12.036h-3.986a1 1 0 0 0-.639.23l-2.375 1.968-2.344-1.965a1 1 0 0 0-.643-.233H5.002ZM20.002 3h-16a1 1 0 0 0-1 1v14.036a1 1 0 0 0 1 1h4.65l2.704 2.266a1 1 0 0 0 1.28.004l2.74-2.27h4.626a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1Zm-7.878 3.663c-1.39 0-2.5 1.135-2.5 2.515a1 1 0 0 0 2 0c0-.294.232-.515.5-.515a.507.507 0 0 1 .489.6.174.174 0 0 1-.027.048 1.1 1.1 0 0 1-.267.226c-.508.345-1.128.923-1.286 1.978a1 1 0 1 0 1.978.297.762.762 0 0 1 .14-.359c.063-.086.155-.169.293-.262.436-.297 1.18-.885 1.18-2.013 0-1.38-1.11-2.515-2.5-2.515ZM12 15.75a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"}),xT=zr({path:"M2.002 6a3 3 0 0 1 3-3h14a3 3 0 0 1 3 3v10a3 3 0 0 1-3 3H12.28l-4.762 2.858A1 1 0 0 1 6.002 21v-2h-1a3 3 0 0 1-3-3V6Zm3-1a1 1 0 0 0-1 1v10a1 1 0 0 0 1 1h2a1 1 0 0 1 1 1v1.234l3.486-2.092a1 1 0 0 1 .514-.142h7a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1h-14Z"}),_T=(zr({path:"M2.002 7a4 4 0 0 1 4-4h12a4 4 0 0 1 4 4v8a4 4 0 0 1-4 4H12.28l-4.762 2.858A1 1 0 0 1 6.002 21v-2a4 4 0 0 1-4-4V7Zm4-2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h1a1 1 0 0 1 1 1v1.234l3.486-2.092a1 1 0 0 1 .514-.142h6a2 2 0 0 0 2-2V7a2 2 0 0 0-2-2h-12Z"}),zr({path:"M6.002 6a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v6a3 3 0 0 1-3 3h-1v1a3 3 0 0 1-3 3h-4.24l-4.274 2.374a1 1 0 0 1-1.486-.874V19a3 3 0 0 1-3-3v-6a3 3 0 0 1 3-3h1V6Zm-1 3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h1a1 1 0 0 1 1 1v.8l3.015-1.674a1 1 0 0 1 .485-.126h4.5a1 1 0 0 0 1-1v-1.933a1 1 0 0 1 0-.134V10a1 1 0 0 0-1-1h-10Zm13 4v-3a3 3 0 0 0-3-3h-7V6a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1h-1Z"})),yT=zr({path:"M16.734 5.091c-1.238-.276-2.708.047-4.022 1.38a1 1 0 0 1-1.424 0C9.974 5.137 8.504 4.814 7.266 5.09c-1.263.282-2.379 1.206-2.92 2.556C3.33 10.18 4.252 14.84 12 19.348c7.747-4.508 8.67-9.168 7.654-11.7-.541-1.351-1.657-2.275-2.92-2.557Zm4.777 1.812c1.604 4-.494 9.69-9.022 14.47a1 1 0 0 1-.978 0C2.983 16.592.885 10.902 2.49 6.902c.779-1.942 2.414-3.334 4.342-3.764 1.697-.378 3.552.003 5.169 1.286 1.617-1.283 3.472-1.664 5.17-1.286 1.927.43 3.562 1.822 4.34 3.764Z"}),bT=zr({path:"M12.489 21.372c8.528-4.78 10.626-10.47 9.022-14.47-.779-1.941-2.414-3.333-4.342-3.763-1.697-.378-3.552.003-5.169 1.287-1.617-1.284-3.472-1.665-5.17-1.287-1.927.43-3.562 1.822-4.34 3.764-1.605 4 .493 9.69 9.021 14.47a1 1 0 0 0 .978 0Z"}),jT=(zr({path:"M16.293 2.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-3 3a1 1 0 0 1-1.414-1.414L17.586 7H5v4a1 1 0 1 1-2 0V6a1 1 0 0 1 1-1h13.586l-1.293-1.293a1 1 0 0 1 0-1.414ZM21 13v5a1 1 0 0 1-1 1H6.414l1.293 1.293a1 1 0 1 1-1.414 1.414l-3-3a1 1 0 0 1 0-1.414l3-3a1 1 0 0 1 1.414 1.414L6.414 17H19v-4a1 1 0 1 1 2 0Z"}),zr({path:"M17.957 2.293a1 1 0 1 0-1.414 1.414L17.836 5H6a3 3 0 0 0-3 3v3a1 1 0 1 0 2 0V8a1 1 0 0 1 1-1h11.836l-1.293 1.293a1 1 0 0 0 1.414 1.414l2.47-2.47a1.75 1.75 0 0 0 0-2.474l-2.47-2.47ZM20 12a1 1 0 0 1 1 1v3a3 3 0 0 1-3 3H6.164l1.293 1.293a1 1 0 1 1-1.414 1.414l-2.47-2.47a1.75 1.75 0 0 1 0-2.474l2.47-2.47a1 1 0 0 1 1.414 1.414L6.164 17H18a1 1 0 0 0 1-1v-3a1 1 0 0 1 1-1Z"}));zr({path:"M16.793 2.293a1 1 0 0 1 1.414 0L20.5 4.586a2 2 0 0 1 0 2.828l-2.293 2.293a1 1 0 0 1-1.414-1.414L18.086 7H7a2 2 0 0 0-2 2v2a1 1 0 1 1-2 0V9a4 4 0 0 1 4-4h11.086l-1.293-1.293a1 1 0 0 1 0-1.414ZM20 12a1 1 0 0 1 1 1v2a4 4 0 0 1-4 4H5.914l1.293 1.293a1 1 0 1 1-1.414 1.414L3.5 19.414a2 2 0 0 1 0-2.828l2.293-2.293a1 1 0 0 1 1.414 1.414L5.914 17H17a2 2 0 0 0 2-2v-2a1 1 0 0 1 1-1Z"});function vT(e){const t=(0,i.c)(7),{width:s,height:n,style:o}=e,r=dc();let a,l;return t[0]!==n||t[1]!==r.palette.default.backgroundLight||t[2]!==s?(a={width:s,height:n,backgroundColor:r.palette.default.backgroundLight},t[0]=n,t[1]=r.palette.default.backgroundLight,t[2]=s,t[3]=a):a=t[3],t[4]!==o||t[5]!==a?(l=(0,Ft.jsx)(wo.default,{style:[DT.loadingPlaceholder,a,o]}),t[4]=o,t[5]=a,t[6]=l):l=t[6],l}function wT(e){const t=(0,i.c)(33),{style:s}=e,n=ec(),o=mx("default");let r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k;return t[0]!==o.view||t[1]!==s?(r=[DT.post,o.view,s],t[0]=o.view,t[1]=s,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(vT,{width:42,height:42,style:[DT.avatar,{position:"relative",top:-6}]}),t[3]=a):a=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[oc.flex1],t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(vT,{width:100,height:6,style:{marginBottom:10}}),t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(vT,{width:"95%",height:6,style:{marginBottom:8}}),t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(vT,{width:"95%",height:6,style:{marginBottom:8}}),t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(vT,{width:"80%",height:6,style:{marginBottom:11}}),t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=[DT.postCtrl,{marginLeft:-6}],t[9]=h):h=t[9],t[10]!==n.palette.contrast_500?(p={color:n.palette.contrast_500},t[10]=n.palette.contrast_500,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f={pointerEvents:"none"},t[12]=f):f=t[12],t[13]!==p?(g=(0,Ft.jsx)(wo.default,{style:h,children:(0,Ft.jsx)(wo.default,{style:DT.postBtn,children:(0,Ft.jsx)(xT,{style:[p,f],width:18})})}),t[13]=p,t[14]=g):g=t[14],t[15]!==n.palette.contrast_500?(x={color:n.palette.contrast_500},t[15]=n.palette.contrast_500,t[16]=x):x=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(_={pointerEvents:"none"},t[17]=_):_=t[17],t[18]!==x?(y=(0,Ft.jsx)(wo.default,{style:DT.postCtrl,children:(0,Ft.jsx)(wo.default,{style:DT.postBtn,children:(0,Ft.jsx)(jT,{style:[x,_],width:18})})}),t[18]=x,t[19]=y):y=t[19],t[20]!==n.palette.contrast_500?(b={color:n.palette.contrast_500},t[20]=n.palette.contrast_500,t[21]=b):b=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(j={pointerEvents:"none"},t[22]=j):j=t[22],t[23]!==b?(v=(0,Ft.jsx)(wo.default,{style:DT.postCtrl,children:(0,Ft.jsx)(wo.default,{style:DT.postBtn,children:(0,Ft.jsx)(yT,{style:[b,j],width:18})})}),t[23]=b,t[24]=v):v=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(wo.default,{style:DT.postCtrl,children:(0,Ft.jsx)(wo.default,{style:[DT.postBtn,{minHeight:30}]})}),t[25]=w):w=t[25],t[26]!==g||t[27]!==y||t[28]!==v?(S=(0,Ft.jsxs)(wo.default,{style:l,children:[c,d,u,m,(0,Ft.jsxs)(wo.default,{style:DT.postCtrls,children:[g,y,v,w]})]}),t[26]=g,t[27]=y,t[28]=v,t[29]=S):S=t[29],t[30]!==r||t[31]!==S?(k=(0,Ft.jsxs)(wo.default,{style:r,children:[a,S]}),t[30]=r,t[31]=S,t[32]=k):k=t[32],k}function ST(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{}),(0,Ft.jsx)(wT,{})]}),e[0]=t):t=e[0],t}function kT(e){const t=(0,i.c)(13),{style:s}=e,n=mx("default");let o,r,a,l,c,d,u,m;return t[0]!==n.view||t[1]!==s?(o=[DT.notification,n.view,s],t[0]=n.view,t[1]=s,t[2]=o):o=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(r=[{width:60},kl.align_end,kl.pr_sm,kl.pt_2xs],t[3]=r):r=t[3],t[4]!==n.colors.backgroundLight?(a=(0,Ft.jsx)(wo.default,{style:r,children:(0,Ft.jsx)(bT,{size:"xl",style:{color:n.colors.backgroundLight}})}),t[4]=n.colors.backgroundLight,t[5]=a):a=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(l={flex:1},t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(wo.default,{style:[kl.flex_row,oc.mb10],children:(0,Ft.jsx)(vT,{width:35,height:35,style:DT.smallAvatar})}),t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(vT,{width:"90%",height:6,style:[oc.mb5]}),t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsxs)(wo.default,{style:l,children:[c,d,(0,Ft.jsx)(vT,{width:"70%",height:6,style:[oc.mb5]})]}),t[9]=u):u=t[9],t[10]!==o||t[11]!==a?(m=(0,Ft.jsxs)(wo.default,{style:o,children:[a,u]}),t[10]=o,t[11]=a,t[12]=m):m=t[12],m}function CT(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{}),(0,Ft.jsx)(kT,{})]}),e[0]=t):t=e[0],t}function PT(e){const t=(0,i.c)(9),{style:s}=e,n=mx("default");let o,r,a,l,c,d;return t[0]!==n.view||t[1]!==s?(o=[DT.profileCard,n.view,s],t[0]=n.view,t[1]=s,t[2]=o):o=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(vT,{width:40,height:40,style:DT.profileCardAvi}),t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(vT,{width:140,height:8,style:[oc.mb5]}),t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(vT,{width:120,height:8,style:[oc.mb10]}),t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsxs)(wo.default,{children:[a,l,(0,Ft.jsx)(vT,{width:220,height:8,style:[oc.mb5]})]}),t[6]=c):c=t[6],t[7]!==o?(d=(0,Ft.jsxs)(wo.default,{style:o,children:[r,c]}),t[7]=o,t[8]=d):d=t[8],d}function TT(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{}),(0,Ft.jsx)(PT,{})]}),e[0]=t):t=e[0],t}function LT(e){const t=(0,i.c)(20),{style:s,showLowerPlaceholder:n,showTopBorder:o}=e,r=void 0===n||n,a=void 0===o||o,l=mx("default"),c=a?Gn.default.hairlineWidth:0;let d,u,m,h,p,f,g,x,_,y;return t[0]!==c?(d={paddingHorizontal:12,paddingVertical:18,borderTopWidth:c},t[0]=c,t[1]=d):d=t[1],t[2]!==l.border||t[3]!==s||t[4]!==d?(u=[d,l.border,s],t[2]=l.border,t[3]=s,t[4]=d,t[5]=u):u=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(m={flexDirection:"row"},t[6]=m):m=t[6],t[7]!==l.view?(h=[l.view,m],t[7]=l.view,t[8]=h):h=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(vT,{width:36,height:36,style:[DT.avatar,{borderRadius:6}]}),t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[oc.flex1],t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsxs)(wo.default,{style:f,children:[(0,Ft.jsx)(vT,{width:100,height:8,style:[oc.mt5,oc.mb10]}),(0,Ft.jsx)(vT,{width:120,height:8})]}),t[11]=g):g=t[11],t[12]!==h?(x=(0,Ft.jsxs)(wo.default,{style:h,children:[p,g]}),t[12]=h,t[13]=x):x=t[13],t[14]!==r?(_=r&&(0,Ft.jsxs)(wo.default,{style:{paddingHorizontal:5,marginTop:10},children:[(0,Ft.jsx)(vT,{width:260,height:8,style:{marginVertical:12}}),(0,Ft.jsx)(vT,{width:120,height:8})]}),t[14]=r,t[15]=_):_=t[15],t[16]!==x||t[17]!==_||t[18]!==u?(y=(0,Ft.jsxs)(wo.default,{style:u,children:[x,_]}),t[16]=x,t[17]=_,t[18]=u,t[19]=y):y=t[19],y}function AT(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{}),(0,Ft.jsx)(LT,{})]}),e[0]=t):t=e[0],t}function IT(e){const t=(0,i.c)(7),{style:s}=e,n=ec();let o;o=Math.random();const r=o;let a,l,c,d;return t[0]!==s||t[1]!==n.atoms.bg?(a=[kl.flex_row,kl.gap_md,kl.px_lg,kl.mt_lg,n.atoms.bg,s],t[0]=s,t[1]=n.atoms.bg,t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(vT,{width:52,height:52,style:kl.rounded_full}),t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(vT,{width:140,height:12,style:kl.mt_xs}),(0,Ft.jsx)(vT,{width:120,height:8,style:kl.mt_sm}),(0,Ft.jsx)(vT,{width:80+100*r,height:8,style:kl.mt_sm})]}),t[4]=c):c=t[4],t[5]!==a?(d=(0,Ft.jsxs)(wo.default,{style:a,children:[l,c]}),t[5]=a,t[6]=d):d=t[6],d}function RT(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{}),(0,Ft.jsx)(IT,{})]}),e[0]=t):t=e[0],t}const DT=Gn.default.create({loadingPlaceholder:{borderRadius:6},post:{flexDirection:"row",alignItems:"flex-start",paddingHorizontal:10,paddingTop:20,paddingBottom:5,paddingRight:15},postCtrls:{opacity:.5,flexDirection:"row",justifyContent:"space-between"},postCtrl:{flex:1},postBtn:{flex:1,flexDirection:"row",alignItems:"center",padding:5},avatar:{borderRadius:999,marginRight:10,marginLeft:8},notification:{flexDirection:"row",padding:10},profileCard:{flexDirection:"row",padding:10,margin:1},profileCardAvi:{borderRadius:999,marginRight:10},smallAvatar:{borderRadius:999,marginRight:10}}),FT=zr({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm2 1v7.213l1.246-.932.044-.03a3 3 0 0 1 3.863.454c1.468 1.58 2.941 2.749 4.847 2.749 1.703 0 2.855-.555 4-1.618V5H5Zm14 10.357c-1.112.697-2.386 1.097-4 1.097-2.81 0-4.796-1.755-6.313-3.388a1 1 0 0 0-1.269-.164L5 14.712V19h14v-3.643ZM15 8a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-3 1a3 3 0 1 1 6 0 3 3 0 0 1-6 0Z"});function ET(e){const t=(0,i.c)(25),{linkMeta:s,loading:n}=e,o=ec(),[r,a]=(0,mt.useState)(!1);if(!s&&!n)return null;let l,c,d,u,m,h,p,f,g;return t[0]!==o.atoms.bg||t[1]!==o.atoms.border_contrast_low?(l=[kl.w_full,kl.border,o.atoms.border_contrast_low,o.atoms.bg,kl.flex_row,kl.rounded_sm,kl.overflow_hidden,kl.align_stretch],t[0]=o.atoms.bg,t[1]=o.atoms.border_contrast_low,t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c={minHeight:64,width:114},t[3]=c):c=t[3],t[4]!==o.atoms.bg_contrast_25?(d=[o.atoms.bg_contrast_25,c,kl.justify_center,kl.align_center,kl.gap_xs],t[4]=o.atoms.bg_contrast_25,t[5]=d):d=t[5],t[6]!==s?(u=s?.image&&(0,Ft.jsx)(SS.Image,{source:s.image,accessibilityIgnoresInvertColors:!0,transition:200,style:[kl.absolute,kl.inset_0],contentFit:"cover",onLoad:()=>a(!1),onError:()=>a(!0)}),t[6]=s,t[7]=u):u=t[7],t[8]!==r||t[9]!==s||t[10]!==o.atoms.text_contrast_low?(m=s&&(!s.image||r)&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(FT,{style:[o.atoms.text_contrast_low]}),(0,Ft.jsx)(fr,{style:[o.atoms.text_contrast_low,kl.text_xs,kl.text_center],children:(0,Ft.jsx)(ft.Trans,{id:"2fhoKU"})})]}),t[8]=r,t[9]=s,t[10]=o.atoms.text_contrast_low,t[11]=m):m=t[11],t[12]!==d||t[13]!==u||t[14]!==m?(h=(0,Ft.jsxs)(wo.default,{style:d,children:[u,m]}),t[12]=d,t[13]=u,t[14]=m,t[15]=h):h=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1,kl.justify_center,kl.py_sm,kl.gap_xs,kl.px_md],t[16]=p):p=t[16],t[17]!==s||t[18]!==o.atoms.text_contrast_low||t[19]!==o.atoms.text_contrast_medium?(f=(0,Ft.jsx)(wo.default,{style:p,children:s?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{numberOfLines:2,style:[kl.leading_snug,kl.font_bold,kl.text_md],children:s.title||s.url}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_2xs],children:[(0,Ft.jsx)(eP,{size:"xs",style:[o.atoms.text_contrast_low]}),(0,Ft.jsx)(fr,{numberOfLines:1,style:[kl.text_xs,kl.leading_snug,o.atoms.text_contrast_medium],children:mu(s.url)})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(vT,{height:16,width:128}),(0,Ft.jsx)(vT,{height:12,width:72})]})}),t[17]=s,t[18]=o.atoms.text_contrast_low,t[19]=o.atoms.text_contrast_medium,t[20]=f):f=t[20],t[21]!==l||t[22]!==h||t[23]!==f?(g=(0,Ft.jsxs)(wo.default,{style:l,children:[h,f]}),t[21]=l,t[22]=h,t[23]=f,t[24]=g):g=t[24],g}function MT(e){const t=(0,i.c)(12),s=Qb(),{currentAccount:n}=xh(),{_:o}=(0,ft.useLingui)(),r=bh(),a=!!e;let l,c,d;return t[0]!==e?(l=["link-meta",e],t[0]=e,t[1]=l):l=t[1],t[2]!==o||t[3]!==r||t[4]!==n?.did||t[5]!==s||t[6]!==e?(c=async()=>{if(!e)return;const t=s.find((e=>e.did===n?.did));if(!t)throw new Error(o({id:"NZ2XFa"}));const i=new URL(e);if(!t.domains.includes(i.hostname))throw new Error(o({id:"xex9yg",values:{0:i.hostname}}));return await _m(r,e)},t[2]=o,t[3]=r,t[4]=n?.did,t[5]=s,t[6]=e,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d={enabled:a,queryKey:l,queryFn:c},t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],(0,vd.useQuery)(d)}function BT(e,t,s){const n=(0,i.c)(19),{currentAccount:o}=xh(),r=bh(),a=(0,wd.useQueryClient)(),l=Lr(),{_:c}=(0,ft.useLingui)();let d,u,m,h;return n[0]!==r||n[1]!==s||n[2]!==o||n[3]!==e||n[4]!==t?(d=async()=>{if(!o)throw new Error("Not logged in");let n;if(t){let e;if(t.image)try{const s=await Tm(t.image);if(s){e=(await v_(r,s.source.path,s.source.mime)).data.blob}}catch(u){const s=u;ys.error("Failed to upload thumbnail for live status",{url:t.url,image:t.image,safeMessage:s})}n={$type:"app.bsky.embed.external",external:{$type:"app.bsky.embed.external#external",title:t.title??"",description:t.description??"",uri:t.url,thumb:e}}}const i={$type:"app.bsky.actor.status",createdAt:s??(new Date).toISOString(),status:"app.bsky.actor.status#live",durationMinutes:e,embed:n};return await(0,zm.retry)((async()=>{const e=o.did,t=await r.com.atproto.repo.getRecord({repo:e,collection:"app.bsky.actor.status",rkey:"self"}).catch(zT);await r.com.atproto.repo.putRecord({repo:e,collection:"app.bsky.actor.status",rkey:"self",record:i,swapRecord:t?.data.cid||null})}),{maxRetries:5,retryable:OT}),{record:i,image:t?.image}},n[0]=r,n[1]=s,n[2]=o,n[3]=e,n[4]=t,n[5]=d):d=n[5],n[6]!==t?.image||n[7]!==t?.url?(u=e=>{ys.error("Failed to upsert live status",{url:t?.url,image:t?.image,safeMessage:e})},n[6]=t?.image,n[7]=t?.url,n[8]=u):u=n[8],n[9]!==c||n[10]!==l||n[11]!==s||n[12]!==o||n[13]!==a?(m=e=>{const{record:t,image:n}=e;s?ys.metric("live:edit",{duration:t.durationMinutes}):ys.metric("live:create",{duration:t.durationMinutes}),Zu(c({id:"PjVEZ1"})),l.close((()=>{if(!o)return;const e=new Date(t.createdAt);e.setMinutes(e.getMinutes()+t.durationMinutes),Fy(a,o.did,{status:{$type:"app.bsky.actor.defs#statusView",status:"app.bsky.actor.status#live",isActive:!0,expiresAt:e.toISOString(),embed:t.embed&&n?{$type:"app.bsky.embed.external#view",external:Object.assign({},t.embed.external,{$type:"app.bsky.embed.external#viewExternal",thumb:n})}:void 0,record:t}})}))},n[9]=c,n[10]=l,n[11]=s,n[12]=o,n[13]=a,n[14]=m):m=n[14],n[15]!==d||n[16]!==u||n[17]!==m?(h={mutationFn:d,onError:u,onSuccess:m},n[15]=d,n[16]=u,n[17]=m,n[18]=h):h=n[18],(0,Sd.useMutation)(h)}function OT(e){return e instanceof Is.ComAtprotoRepoPutRecord.InvalidSwapError}function zT(e){}function HT(e){ys.error("Failed to remove live status",{safeMessage:e})}function NT(e,t){const s=Math.round(t),n=Math.floor(s/60),o=s%60,r=e._(e._({id:"Pfatg8",values:{minutes:o}}));return n>0?e._(o>0?e._({id:"n/VY0o",values:{hours:n,minutesString:r}}):e._({id:"tkDYSE",values:{hours:n}})):r}function VT(e,t){const s=(0,i.c)(4),[n,o]=(0,mt.useState)(e);let r,a;return s[0]!==t||s[1]!==e?(r=()=>{const s=setTimeout((()=>o(e)),t);return()=>clearTimeout(s)},a=[e,t],s[0]=t,s[1]=e,s[2]=r,s[3]=a):(r=s[2],a=s[3]),(0,mt.useEffect)(r,a),n}function qT(e){const t=(0,i.c)(8),{control:s,status:n,embed:o}=e;let r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r={preventExpansion:!0},a=(0,Ft.jsx)(ha,{}),t[0]=r,t[1]=a):(r=t[0],a=t[1]),t[2]!==o||t[3]!==n?(l=(0,Ft.jsx)(UT,{status:n,embed:o}),t[2]=o,t[3]=n,t[4]=l):l=t[4],t[5]!==s||t[6]!==l?(c=(0,Ft.jsxs)(aa,{control:s,nativeOptions:r,children:[a,l]}),t[5]=s,t[6]=l,t[7]=c):c=t[7],c}function UT({status:e,embed:t}){const s=Lr(),{_:n,i18n:o}=(0,ft.useLingui)(),r=ec(),[a,l]=(0,mt.useState)(t.external.uri),[c,d]=(0,mt.useState)(""),u=Ja(),m=Au(a),h=VT(m,500),p=m!==t.external.uri,{data:f,isSuccess:g,isLoading:x,error:_}=MT(h),y=(0,mt.useMemo)((()=>{if(!Is.AppBskyActorStatus.isRecord(e.record))return null;const t=Is.AppBskyActorStatus.validateRecord(e.record);return t.success?t.value:null}),[e]),{mutate:b,isPending:j,error:v}=BT(y?.durationMinutes??0,f,y?.createdAt),{mutate:w,isPending:S,error:k}=function(){const e=(0,i.c)(11),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)(),o=Lr(),{_:r}=(0,ft.useLingui)();let a,l,c;return e[0]!==s||e[1]!==t?(a=async()=>{if(!t)throw new Error("Not logged in");await s.app.bsky.actor.status.delete({repo:t.did,rkey:"self"})},e[0]=s,e[1]=t,e[2]=a):a=e[2],e[3]!==r||e[4]!==o||e[5]!==t||e[6]!==n?(l=()=>{ys.metric("live:remove",{}),Zu(r({id:"BNlq+K"})),o.close((()=>{t&&Fy(n,t.did,{status:void 0})}))},e[3]=r,e[4]=o,e[5]=t,e[6]=n,e[7]=l):l=e[7],e[8]!==a||e[9]!==l?(c={mutationFn:a,onError:HT,onSuccess:l},e[8]=a,e[9]=l,e[10]=c):c=e[10],(0,Sd.useMutation)(c)}(),{minutesUntilExpiry:C,expiryDateTime:P}=(0,mt.useMemo)((()=>{const t=new Date(e.expiresAt??new Date);return{expiryDateTime:t,minutesUntilExpiry:(0,pT.default)(t,new Date)}}),[u,e.expiresAt]),T=j||!g||h!==m||S;return(0,Ft.jsxs)(da,{label:n({id:"gCDT1O"}),style:_o({maxWidth:420}),children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_lg],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"gCDT1O"})}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(fT,{style:[r.atoms.text_contrast_high],size:"sm"}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug,r.atoms.text_contrast_high],children:"number"===typeof y?.durationMinutes?(0,Ft.jsx)(ft.Trans,{id:"D65DE9",values:{0:NT(o,C),1:o.date(P,{hour:"numeric",minute:"2-digit",hour12:!0})}}):(0,Ft.jsx)(ft.Trans,{id:"9TQT4m"})})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"95yofQ"})}),(0,Ft.jsx)(Yi,{isInvalid:!!c||!!_,children:(0,Ft.jsx)(ea,{label:n({id:"95yofQ"}),placeholder:n({id:"CcfyuL"}),value:a,onChangeText:l,onFocus:()=>d(""),onBlur:()=>{Au(a)||d("Invalid URL")},returnKeyType:"done",autoCapitalize:"none",autoComplete:"url",autoCorrect:!1,onSubmitEditing:()=>{p&&!T&&b()}})})]}),(c||_)&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center],children:[(0,Ft.jsx)(Fj,{style:[{color:r.palette.negative_500}],size:"sm"}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,kl.flex_1,kl.font_bold,{color:r.palette.negative_500}],children:c?(0,Ft.jsx)(ft.Trans,{id:"0sRQCz"}):ds(_)})]}),(0,Ft.jsx)(ET,{linkMeta:f,loading:x})]}),v&&(0,Ft.jsx)(Uj,{type:"error",children:ds(v)}),k&&(0,Ft.jsx)(Uj,{type:"error",children:ds(k)}),(0,Ft.jsxs)(wo.default,{style:vo({native:[kl.gap_md,kl.pt_lg],web:[kl.flex_row_reverse,kl.gap_md,kl.align_center]}),children:[p?(0,Ft.jsxs)(Sr,{label:n({id:"tfDRzk"}),size:vo({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>b(),disabled:T,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),j&&(0,Ft.jsx)(Pr,{icon:wv})]}):(0,Ft.jsx)(Sr,{label:n({id:"yz7wBu"}),size:vo({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>s.close(),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})})}),(0,Ft.jsxs)(Sr,{label:n({id:"JZnNw8"}),onPress:()=>w(),size:vo({native:"large",web:"small"}),color:"negative_secondary",variant:"solid",disabled:S||j,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"JZnNw8"})}),S&&(0,Ft.jsx)(Pr,{icon:wv})]})]})]}),(0,Ft.jsx)(ma,{})]})}var WT=s(30018);const ZT=zr({path:"M15.707 3.293a1 1 0 0 1 0 1.414L8.414 12l7.293 7.293a1 1 0 0 1-1.414 1.414l-8-8a1 1 0 0 1 0-1.414l8-8a1 1 0 0 1 1.414 0Z"}),QT=zr({path:"M8.293 3.293a1 1 0 0 1 1.414 0l8 8a1 1 0 0 1 0 1.414l-8 8a1 1 0 0 1-1.414-1.414L15.586 12 8.293 4.707a1 1 0 0 1 0-1.414Z"}),KT=zr({path:"M12 6a1 1 0 0 1 .707.293l8 8a1 1 0 0 1-1.414 1.414L12 8.414l-7.293 7.293a1 1 0 0 1-1.414-1.414l8-8A1 1 0 0 1 12 6Z"}),$T=zr({path:"M3.293 8.293a1 1 0 0 1 1.414 0L12 15.586l7.293-7.293a1 1 0 1 1 1.414 1.414l-8 8a1 1 0 0 1-1.414 0l-8-8a1 1 0 0 1 0-1.414Z"}),GT=zr({path:"M11.293 4.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L12 6.414 8.707 9.707a1 1 0 0 1-1.414-1.414l4-4Zm-4 10a1 1 0 0 1 1.414 0L12 17.586l3.293-3.293a1 1 0 0 1 1.414 1.414l-4 4a1 1 0 0 1-1.414 0l-4-4a1 1 0 0 1 0-1.414Z"}),YT=["children","style"],JT=(0,mt.createContext)(null);function XT(e){const t=(0,i.c)(5);let s,n;return t[0]!==e?(s=(0,Ft.jsx)(WT.Root,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],t[2]!==e.value||t[3]!==s?(n=(0,Ft.jsx)(JT.Provider,{value:e.value,children:s}),t[2]=e.value,t[3]=s,t[4]=n):n=t[4],n}const eL=(0,mt.forwardRef)(((e,t)=>e.children?.(Object.assign({},e,{ref:t}))));function tL(e){const t=(0,i.c)(23),{children:s,label:n}=e,o=ec(),{state:r,onIn:a,onOut:l}=Ki(),{state:c,onIn:d,onOut:u}=Ki();if("function"===typeof s){let e;return t[0]!==s||t[1]!==c||t[2]!==r||t[3]!==n||t[4]!==u||t[5]!==d||t[6]!==a||t[7]!==l?(e=(0,Ft.jsx)(WT.Trigger,{asChild:!0,children:(0,Ft.jsx)(eL,{children:e=>s({isNative:!1,state:{hovered:r,focused:c,pressed:!1},props:Object.assign({},e,{onPress:e.onClick,onFocus:d,onBlur:u,onMouseEnter:a,onMouseLeave:l,accessibilityLabel:n})})})}),t[0]=s,t[1]=c,t[2]=r,t[3]=n,t[4]=u,t[5]=d,t[6]=a,t[7]=l,t[8]=e):e=t[8],e}{let e,n;return t[9]!==c||t[10]!==r||t[11]!==o.atoms.bg_contrast_25||t[12]!==o.palette.contrast_100||t[13]!==o.palette.contrast_25||t[14]!==o.palette.primary_500?(e=Wl([kl.flex,kl.relative,o.atoms.bg_contrast_25,kl.rounded_sm,kl.w_full,{maxWidth:400},kl.align_center,kl.gap_sm,kl.justify_between,kl.py_sm,kl.px_md,{outline:0,borderWidth:2,borderStyle:"solid",borderColor:c?o.palette.primary_500:r?o.palette.contrast_100:o.palette.contrast_25}]),t[9]=c,t[10]=r,t[11]=o.atoms.bg_contrast_25,t[12]=o.palette.contrast_100,t[13]=o.palette.contrast_25,t[14]=o.palette.primary_500,t[15]=e):e=t[15],t[16]!==s||t[17]!==u||t[18]!==d||t[19]!==a||t[20]!==l||t[21]!==e?(n=(0,Ft.jsx)(WT.Trigger,{onFocus:d,onBlur:u,onMouseEnter:a,onMouseLeave:l,style:e,children:s}),t[16]=s,t[17]=u,t[18]=d,t[19]=a,t[20]=l,t[21]=e,t[22]=n):n=t[22],n}}function sL(e){const t=(0,i.c)(8);let s,n,o,r;if(t[0]!==e){const{style:o}=e;n=o,s=(0,ls.default)(e,YT),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]!==s?(o=(0,Ft.jsx)(WT.Value,Object.assign({},s)),t[3]=s,t[4]=o):o=t[4],t[5]!==n||t[6]!==o?(r=(0,Ft.jsx)(fr,{style:n,children:o}),t[5]=n,t[6]=o,t[7]=r):r=t[7],r}function nL(e){const t=(0,i.c)(3),{style:s}=e,n=ec();let o;return t[0]!==s||t[1]!==n.atoms.text?(o=(0,Ft.jsx)(WT.Icon,{children:(0,Ft.jsx)($T,{style:[n.atoms.text,s],size:"xs"})}),t[0]=s,t[1]=n.atoms.text,t[2]=o):o=t[2],o}function oL(e){const t=(0,i.c)(56),{items:s,renderItem:n}=e,o=ec(),r=(0,mt.useContext)(JT);let a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w;if(t[0]!==s||t[1]!==n||t[2]!==r||t[3]!==o.atoms.bg||t[4]!==o.atoms.border_contrast_low||t[5]!==o.atoms.text){const e=[kl.absolute,kl.flex,kl.align_center,kl.justify_center,kl.rounded_sm,kl.z_10],i=[...e,kl.pt_sm,kl.pb_lg,{top:0,left:0,right:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,background:`linear-gradient(to bottom, ${o.atoms.bg.backgroundColor} 0%, transparent 100%)`}],y=[...e,kl.pt_lg,kl.pb_sm,{bottom:0,left:0,right:0,borderBottomLeftRadius:0,borderBottomRightRadius:0,background:`linear-gradient(to top, ${o.atoms.bg.backgroundColor} 0%, transparent 100%)`}];let b,j,v;if(d=WT.Portal,c=WT.Content,t[18]!==o.atoms.bg?(f=Wl([o.atoms.bg,kl.rounded_sm,kl.overflow_hidden]),t[18]=o.atoms.bg,t[19]=f):f=t[19],g="popper",x=5,_="radix-select-content",l=wo.default,t[20]!==o.atoms.border_contrast_low?(m=[kl.flex_1,kl.border,o.atoms.border_contrast_low,kl.rounded_sm],t[20]=o.atoms.border_contrast_low,t[21]=m):m=t[21],t[22]!==o.atoms.text?(b=(0,Ft.jsx)(KT,{style:[o.atoms.text],size:"xs"}),t[22]=o.atoms.text,t[23]=b):b=t[23],h=(0,Ft.jsx)(WT.ScrollUpButton,{style:Wl(i),children:b}),t[24]===Symbol.for("react.memo_cache_sentinel")?(j=Wl([kl.p_xs]),t[24]=j):j=t[24],t[25]!==s||t[26]!==n||t[27]!==r){let e;t[29]!==n||t[30]!==r?(e=(e,t)=>n(e,t,r),t[29]=n,t[30]=r,t[31]=e):e=t[31],v=s.map(e),t[25]=s,t[26]=n,t[27]=r,t[28]=v}else v=t[28];t[32]!==v?(p=(0,Ft.jsx)(WT.Viewport,{style:j,children:v}),t[32]=v,t[33]=p):p=t[33],a=WT.ScrollDownButton,u=Wl(y),t[0]=s,t[1]=n,t[2]=r,t[3]=o.atoms.bg,t[4]=o.atoms.border_contrast_low,t[5]=o.atoms.text,t[6]=a,t[7]=l,t[8]=c,t[9]=d,t[10]=u,t[11]=m,t[12]=h,t[13]=p,t[14]=f,t[15]=g,t[16]=x,t[17]=_}else a=t[6],l=t[7],c=t[8],d=t[9],u=t[10],m=t[11],h=t[12],p=t[13],f=t[14],g=t[15],x=t[16],_=t[17];return t[34]!==o.atoms.text?(y=(0,Ft.jsx)($T,{style:[o.atoms.text],size:"xs"}),t[34]=o.atoms.text,t[35]=y):y=t[35],t[36]!==a||t[37]!==u||t[38]!==y?(b=(0,Ft.jsx)(a,{style:u,children:y}),t[36]=a,t[37]=u,t[38]=y,t[39]=b):b=t[39],t[40]!==l||t[41]!==b||t[42]!==m||t[43]!==h||t[44]!==p?(j=(0,Ft.jsxs)(l,{style:m,children:[h,p,b]}),t[40]=l,t[41]=b,t[42]=m,t[43]=h,t[44]=p,t[45]=j):j=t[45],t[46]!==c||t[47]!==j||t[48]!==f||t[49]!==g||t[50]!==x||t[51]!==_?(v=(0,Ft.jsx)(c,{style:f,position:g,sideOffset:x,className:_,children:j}),t[46]=c,t[47]=j,t[48]=f,t[49]=g,t[50]=x,t[51]=_,t[52]=v):v=t[52],t[53]!==d||t[54]!==v?(w=(0,Ft.jsx)(d,{children:v}),t[53]=d,t[54]=v,t[55]=w):w=t[55],w}eL.displayName="RadixTriggerPassThrough";const rL=(0,mt.createContext)({hovered:!1,focused:!1,pressed:!1,selected:!1});function iL(e){const t=(0,i.c)(25),{ref:s,value:n,style:o,children:r}=e,a=ec(),{state:l,onIn:c,onOut:d}=Ki(),u=(0,mt.useContext)(JT)===n,{state:m,onIn:h,onOut:p}=Ki();let f,g;t[0]!==m||t[1]!==l||t[2]!==u?(g={hovered:l,focused:m,pressed:!1,selected:u},t[0]=m,t[1]=l,t[2]=u,t[3]=g):g=t[3],f=g;const x=f;let _,y,b;if(t[4]!==m||t[5]!==l||t[6]!==u||t[7]!==o||t[8]!==a){let e;t[10]!==m||t[11]!==l||t[12]!==a?(e=(l||m)&&{backgroundColor:a.palette.primary_50},t[10]=m,t[11]=l,t[12]=a,t[13]=e):e=t[13],_=Wl([kl.relative,kl.flex,{minHeight:25,paddingLeft:30,paddingRight:35},kl.user_select_none,kl.align_center,kl.rounded_xs,kl.py_2xs,kl.text_sm,{outline:0},e,u&&[kl.font_bold],kl.transition_color,o]),t[4]=m,t[5]=l,t[6]=u,t[7]=o,t[8]=a,t[9]=_}else _=t[9];return t[14]!==r||t[15]!==x?(y=(0,Ft.jsx)(rL.Provider,{value:x,children:r}),t[14]=r,t[15]=x,t[16]=y):y=t[16],t[17]!==p||t[18]!==h||t[19]!==c||t[20]!==d||t[21]!==_||t[22]!==y||t[23]!==n?(b=(0,Ft.jsx)(WT.Item,{ref:s,value:n,onMouseEnter:c,onMouseLeave:d,onFocus:h,onBlur:p,style:_,children:y}),t[17]=p,t[18]=h,t[19]=c,t[20]=d,t[21]=_,t[22]=y,t[23]=n,t[24]=b):b=t[24],b}const aL=WT.ItemText;function lL(e){const t=(0,i.c)(3),{icon:s}=e,n=void 0===s?Wj:s;let o,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=Wl([kl.absolute,{left:0,width:30},kl.flex,kl.align_center,kl.justify_center]),t[0]=o):o=t[0],t[1]!==n?(r=(0,Ft.jsx)(WT.ItemIndicator,{style:o,children:(0,Ft.jsx)(n,{size:"sm"})}),t[1]=n,t[2]=r):r=t[2],r}function cL(e){const t=(0,i.c)(7),{control:s,profile:n}=e;let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={preventExpansion:!0},r=(0,Ft.jsx)(ha,{}),t[0]=o,t[1]=r):(o=t[0],r=t[1]),t[2]!==n?(a=(0,Ft.jsx)(uL,{profile:n}),t[2]=n,t[3]=a):a=t[3],t[4]!==s||t[5]!==a?(l=(0,Ft.jsxs)(aa,{control:s,nativeOptions:o,children:[r,a]}),t[4]=s,t[5]=a,t[6]=l):l=t[6],l}const dL=Array.from({length:48}).map(((e,t)=>5*(t+1)));function uL(e){const t=(0,i.c)(90),{profile:s}=e,n=Lr(),{_:o,i18n:r}=(0,ft.useLingui)(),a=ec(),[l,c]=(0,mt.useState)(""),[d,u]=(0,mt.useState)(""),[m,h]=(0,mt.useState)(60),p=Op();Ja();let f;t[0]!==r?(f=e=>{const t=new Date;return t.setMinutes(t.getMinutes()+e),r.date(t,{hour:"numeric",minute:"2-digit",hour12:!0}).toLocaleUpperCase().replace(" ","")},t[0]=r,t[1]=f):f=t[1];const g=f;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=e=>{h(Number(e))},t[2]=x):x=t[2];const _=x;let y;t[3]!==l?(y=Au(l),t[3]=l,t[4]=y):y=t[4];const b=y,j=VT(b,500),{data:v,isSuccess:w,isLoading:S,error:k}=MT(j),{mutate:C,isPending:P,error:T}=BT(m,v),L=!!d||!!k,A=!!j&&!L;let I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de;return t[5]!==o?(I=o({id:"XOGcfV"}),t[5]=o,t[6]=I):I=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(R=_o({maxWidth:420}),t[7]=R):R=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.gap_xl],t[8]=D):D=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(F=[kl.gap_sm],t[9]=F):F=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"XOGcfV"})}),t[10]=E):E=t[10],t[11]!==a.atoms.text_contrast_high?(M=[kl.text_md,kl.leading_snug,a.atoms.text_contrast_high],t[11]=a.atoms.text_contrast_high,t[12]=M):M=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(ft.Trans,{id:"P04SBf"}),t[13]=B):B=t[13],t[14]!==M?(O=(0,Ft.jsxs)(wo.default,{style:F,children:[E,(0,Ft.jsx)(fr,{style:M,children:B})]}),t[14]=M,t[15]=O):O=t[15],t[16]!==p||t[17]!==s?(z=p&&(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:p,liveOverride:!0,disabledPreview:!0}),(0,Ft.jsx)(qC,{profile:s,moderationOpts:p})]}),t[16]=p,t[17]=s,t[18]=z):z=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.gap_sm],t[19]=H):H=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"95yofQ"})}),t[20]=N):N=t[20],t[21]!==o?(V=o({id:"95yofQ"}),t[21]=o,t[22]=V):V=t[22],t[23]!==o?(q=o({id:"CcfyuL"}),t[23]=o,t[24]=q):q=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(U=()=>u(""),t[25]=U):U=t[25],t[26]!==l?(W=()=>{Au(l)||u("Invalid URL")},t[26]=l,t[27]=W):W=t[27],t[28]!==l||t[29]!==V||t[30]!==q||t[31]!==W?(Z=(0,Ft.jsx)(ea,{label:V,placeholder:q,value:l,onChangeText:c,onFocus:U,onBlur:W,returnKeyType:"done",autoCapitalize:"none",autoComplete:"url",autoCorrect:!1}),t[28]=l,t[29]=V,t[30]=q,t[31]=W,t[32]=Z):Z=t[32],t[33]!==L||t[34]!==Z?(Q=(0,Ft.jsxs)(wo.default,{children:[N,(0,Ft.jsx)(Yi,{isInvalid:L,children:Z})]}),t[33]=L,t[34]=Z,t[35]=Q):Q=t[35],t[36]!==k||t[37]!==d||t[38]!==a.palette?(K=(d||k)&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center],children:[(0,Ft.jsx)(Fj,{style:[{color:a.palette.negative_500}],size:"sm"}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,kl.flex_1,kl.font_bold,{color:a.palette.negative_500}],children:d?(0,Ft.jsx)(ft.Trans,{id:"0sRQCz"}):ds(k)})]}),t[36]=k,t[37]=d,t[38]=a.palette,t[39]=K):K=t[39],t[40]!==v||t[41]!==S?($=(0,Ft.jsx)(ET,{linkMeta:v,loading:S}),t[40]=v,t[41]=S,t[42]=$):$=t[42],t[43]!==Q||t[44]!==K||t[45]!==$?(G=(0,Ft.jsxs)(wo.default,{style:H,children:[Q,K,$]}),t[43]=Q,t[44]=K,t[45]=$,t[46]=G):G=t[46],t[47]!==o||t[48]!==m||t[49]!==A||t[50]!==r||t[51]!==a.atoms.text_contrast_low||t[52]!==a.atoms.text_contrast_medium||t[53]!==g?(Y=A&&(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"NrLAPd"})}),(0,Ft.jsxs)(XT,{value:String(m),onValueChange:_,children:[(0,Ft.jsxs)(tL,{label:o({id:"hfVenA"}),children:[(0,Ft.jsxs)(fr,{style:[yo(kl.py_xs)],children:[NT(r,m),"  ",(0,Ft.jsx)(fr,{style:[a.atoms.text_contrast_low],children:g(m)})]}),(0,Ft.jsx)(nL,{})]}),(0,Ft.jsx)(oL,{renderItem:(e,t,s)=>{const n=NT(r,e);return(0,Ft.jsxs)(iL,{value:String(e),label:n,children:[(0,Ft.jsx)(lL,{}),(0,Ft.jsxs)(aL,{children:[n,"  ",(0,Ft.jsx)(fr,{style:[jo(kl.text_md),_o(kl.ml_xs),s===String(e)?a.atoms.text_contrast_medium:a.atoms.text_contrast_low,kl.font_normal],children:g(e)})]})]})},items:dL,valueExtractor:mL})]})]}),t[47]=o,t[48]=m,t[49]=A,t[50]=r,t[51]=a.atoms.text_contrast_low,t[52]=a.atoms.text_contrast_medium,t[53]=g,t[54]=Y):Y=t[54],t[55]!==T?(J=T&&(0,Ft.jsx)(Uj,{type:"error",children:ds(T)}),t[55]=T,t[56]=J):J=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(X=vo({native:[kl.gap_md,kl.pt_lg],web:[kl.flex_row_reverse,kl.gap_md,kl.align_center]}),t[57]=X):X=t[57],t[58]!==o||t[59]!==j||t[60]!==C||t[61]!==A||t[62]!==w||t[63]!==P||t[64]!==b?(ee=A&&(0,Ft.jsxs)(Sr,{label:o({id:"XOGcfV"}),size:vo({native:"large",web:"small"}),color:"primary",variant:"solid",onPress:()=>C(),disabled:P||!w||j!==b,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"XOGcfV"})}),P&&(0,Ft.jsx)(Pr,{icon:wv})]}),t[58]=o,t[59]=j,t[60]=C,t[61]=A,t[62]=w,t[63]=P,t[64]=b,t[65]=ee):ee=t[65],t[66]!==o?(te=o({id:"dEgA5A"}),t[66]=o,t[67]=te):te=t[67],t[68]!==n?(se=()=>n.close(),t[68]=n,t[69]=se):se=t[69],t[70]===Symbol.for("react.memo_cache_sentinel")?(ne=vo({native:"large",web:"small"}),t[70]=ne):ne=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(oe=vo({native:"solid",web:"ghost"}),t[71]=oe):oe=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(re=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})}),t[72]=re):re=t[72],t[73]!==te||t[74]!==se?(ie=(0,Ft.jsx)(Sr,{label:te,onPress:se,size:ne,color:"secondary",variant:oe,children:re}),t[73]=te,t[74]=se,t[75]=ie):ie=t[75],t[76]!==ee||t[77]!==ie?(ae=(0,Ft.jsxs)(wo.default,{style:X,children:[ee,ie]}),t[76]=ee,t[77]=ie,t[78]=ae):ae=t[78],t[79]!==O||t[80]!==z||t[81]!==G||t[82]!==Y||t[83]!==J||t[84]!==ae?(le=(0,Ft.jsxs)(wo.default,{style:D,children:[O,z,G,Y,J,ae]}),t[79]=O,t[80]=z,t[81]=G,t[82]=Y,t[83]=J,t[84]=ae,t[85]=le):le=t[85],t[86]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsx)(ma,{}),t[86]=ce):ce=t[86],t[87]!==le||t[88]!==I?(de=(0,Ft.jsxs)(da,{label:I,style:R,children:[le,ce]}),t[87]=le,t[88]=I,t[89]=de):de=t[89],de}function mL(e){return String(e)}var hL=s(89070),pL=s(95821);function fL(e){const t=(0,i.c)(21),{count:s,max:n,style:o,textStyle:r,size:a}=e,l=n||ai,c=mx("default"),d=s>l?"#e60000":c.colors.text,u=s>l?"#e60000":c.colors.link;let m,h,p,f;t[0]!==o?(m=[kl.flex_row,kl.align_center,kl.justify_between,kl.gap_sm,o],t[0]=o,t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=["tabular-nums"],t[2]=h):h=t[2],t[3]!==d?(p={color:d,fontVariant:h},t[3]=d,t[4]=p):p=t[4],t[5]!==p||t[6]!==r?(f=[p,kl.flex_grow,kl.text_right,r],t[5]=p,t[6]=r,t[7]=f):f=t[7];const g=l-s;let x,_,y;return t[8]!==f||t[9]!==g?(x=(0,Ft.jsx)(Tx,{style:f,children:g}),t[8]=f,t[9]=g,t[10]=x):x=t[10],t[11]!==u||t[12]!==s||t[13]!==l||t[14]!==c||t[15]!==a?(_=s>l?(0,Ft.jsx)(pL.default,{size:a??30,borderWidth:4,borderColor:u,color:u,progress:Math.min((s-l)/l,1)}):(0,Ft.jsx)(hL.default,{size:a??30,borderWidth:1,borderColor:c.colors.border,color:u,progress:s/l}),t[11]=u,t[12]=s,t[13]=l,t[14]=c,t[15]=a,t[16]=_):_=t[16],t[17]!==m||t[18]!==x||t[19]!==_?(y=(0,Ft.jsxs)(wo.default,{style:m,children:[x,_]}),t[17]=m,t[18]=x,t[19]=_,t[20]=y):y=t[20],y}const gL=zr({path:"M3.374 3.22a1 1 0 0 1 1.073-.114l16 8a1 1 0 0 1 0 1.788l-16 8a1 1 0 0 1-1.417-1.136L4.97 12 3.03 4.243a1 1 0 0 1 .344-1.023ZM6.781 13l-1.284 5.133L17.764 12 5.497 5.867 6.781 11H9a1 1 0 1 1 0 2H6.78Z"});const xL="https://bsky.social/about/support/copyright";const _L={selectedOption:void 0,selectedLabeler:void 0,details:void 0,detailsOpen:!1,activeStepIndex1:1};function yL(e,t){switch(t.type){case"selectOption":return Object.assign({},e,{selectedOption:t.option,activeStepIndex1:2,detailsOpen:!!e.details||t.option.reason===Is.ComAtprotoModerationDefs.REASONOTHER});case"clearOption":return Object.assign({},e,{selectedOption:void 0,selectedLabeler:void 0,activeStepIndex1:1,detailsOpen:!!e.details||e.selectedOption?.reason===Is.ComAtprotoModerationDefs.REASONOTHER});case"selectLabeler":return Object.assign({},e,{selectedLabeler:t.labeler,activeStepIndex1:3});case"clearLabeler":return Object.assign({},e,{selectedLabeler:void 0,activeStepIndex1:2,detailsOpen:!!e.details||e.selectedOption?.reason===Is.ComAtprotoModerationDefs.REASONOTHER});case"setDetails":return Object.assign({},e,{details:t.details});case"setError":return Object.assign({},e,{error:t.error});case"clearError":return Object.assign({},e,{error:void 0});case"showDetails":return Object.assign({},e,{detailsOpen:!0})}}const bL=_s.create(_s.Context.ReportDialog);function jL(e){const t=(0,i.c)(9);let s,n;t[0]!==e.subject?(n=function(e){if(e){if("convoId"in e)return Object.assign({type:"chatMessage"},e);if(Is.AppBskyActorDefs.isProfileViewBasic(e)||Is.AppBskyActorDefs.isProfileView(e)||Is.AppBskyActorDefs.isProfileViewDetailed(e))return{type:"account",did:e.did,nsid:"app.bsky.actor.profile"};if(Is.AppBskyGraphDefs.isListView(e))return{type:"list",uri:e.uri,cid:e.cid,nsid:"app.bsky.graph.list"};if(Is.AppBskyFeedDefs.isGeneratorView(e))return{type:"feed",uri:e.uri,cid:e.cid,nsid:"app.bsky.feed.generator"};if(Is.AppBskyGraphDefs.isStarterPackView(e))return{type:"starterPack",uri:e.uri,cid:e.cid,nsid:"app.bsky.graph.starterPack"};if(Is.AppBskyFeedDefs.isPostView(e)){const t=e.record,s=Af(e.embed);if(If(t,Is.AppBskyFeedPost.isRecord))return{type:"post",uri:e.uri,cid:e.cid,nsid:"app.bsky.feed.post",attributes:{reply:!!t.reply,image:"images"===s.type||"post_with_media"===s.type&&"images"===s.media.type,video:"video"===s.type||"post_with_media"===s.type&&"video"===s.media.type,link:"link"===s.type||"post_with_media"===s.type&&"link"===s.media.type,quote:"post"===s.type||"post_with_media"===s.type&&("post"===s.view.type||"post_with_media"===s.view.type)}}}}}(e.subject),t[0]=e.subject,t[1]=n):n=t[1],s=n;const o=s,r=vL;let a,l,c;return t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ha,{}),t[2]=a):a=t[2],t[3]!==e||t[4]!==o?(l=o?(0,Ft.jsx)(SL,Object.assign({},e,{subject:o})):(0,Ft.jsx)(wL,{}),t[3]=e,t[4]=o,t[5]=l):l=t[5],t[6]!==e.control||t[7]!==l?(c=(0,Ft.jsxs)(aa,{control:e.control,onClose:r,children:[a,l]}),t[6]=e.control,t[7]=l,t[8]=c):c=t[8],c}function vL(){bL.metric("reportDialog:close",{})}function wL(){const e=(0,i.c)(7),{_:t}=(0,ft.useLingui)();let s,n,o,r,a;return e[0]!==t?(s=t({id:"mYGG5f"}),e[0]=t,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_xl,kl.leading_snug,kl.pb_xs],children:(0,Ft.jsx)(ft.Trans,{id:"f9bwUX"})}),e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"TVJ5kH"})}),r=(0,Ft.jsx)(ma,{}),e[3]=o,e[4]=r):(o=e[3],r=e[4]),e[5]!==s?(a=(0,Ft.jsxs)(da,{label:s,children:[n,o,r]}),e[5]=s,e[6]=a):a=e[6],a}function SL(e){const t=ec(),{_:s}=(0,ft.useLingui)(),n=mt.useRef(null),{data:o,isLoading:r,error:a,refetch:l}=Ch({excludeNonConfigurableLabelers:!0}),c=function(e,t){const s=(0,i.c)(4),n=void 0===t||t,[o,r]=mt.useState(n);let a,l;return s[0]!==e||s[1]!==o?(a=()=>{let t;return o&&(t=setTimeout((()=>r(!1)),e)),()=>t&&clearTimeout(t)},l=[o,e],s[0]=e,s[1]=o,s[2]=a,s[3]=l):(a=s[2],l=s[3]),mt.useEffect(a,l),o}(500,r),d=function(e){const t=(0,i.c)(42),{_:s}=(0,ft.useLingui)();let n;e:{switch(e.type){case"account":{let e,o,r;t[0]!==s?(e=s({id:"VrWRia"}),t[0]=s,t[1]=e):e=t[1],t[2]!==s?(o=s({id:"Q3g9qz"}),t[2]=s,t[3]=o):o=t[3],t[4]!==e||t[5]!==o?(r={title:e,subtitle:o},t[4]=e,t[5]=o,t[6]=r):r=t[6],n=r;break e}case"post":{let e,o,r;t[7]!==s?(e=s({id:"cWnUgT"}),t[7]=s,t[8]=e):e=t[8],t[9]!==s?(o=s({id:"pyWD3P"}),t[9]=s,t[10]=o):o=t[10],t[11]!==e||t[12]!==o?(r={title:e,subtitle:o},t[11]=e,t[12]=o,t[13]=r):r=t[13],n=r;break e}case"list":{let e,o,r;t[14]!==s?(e=s({id:"0071ig"}),t[14]=s,t[15]=e):e=t[15],t[16]!==s?(o=s({id:"s1bQLm"}),t[16]=s,t[17]=o):o=t[17],t[18]!==e||t[19]!==o?(r={title:e,subtitle:o},t[18]=e,t[19]=o,t[20]=r):r=t[20],n=r;break e}case"feed":{let e,o,r;t[21]!==s?(e=s({id:"qsxqJR"}),t[21]=s,t[22]=e):e=t[22],t[23]!==s?(o=s({id:"Jbnxhu"}),t[23]=s,t[24]=o):o=t[24],t[25]!==e||t[26]!==o?(r={title:e,subtitle:o},t[25]=e,t[26]=o,t[27]=r):r=t[27],n=r;break e}case"starterPack":{let e,o,r;t[28]!==s?(e=s({id:"tpQ5Li"}),t[28]=s,t[29]=e):e=t[29],t[30]!==s?(o=s({id:"HCPEOj"}),t[30]=s,t[31]=o):o=t[31],t[32]!==e||t[33]!==o?(r={title:e,subtitle:o},t[32]=e,t[33]=o,t[34]=r):r=t[34],n=r;break e}case"chatMessage":{let e,o,r;t[35]!==s?(e=s({id:"kdD6aV"}),t[35]=s,t[36]=e):e=t[36],t[37]!==s?(o=s({id:"epz4wG"}),t[37]=s,t[38]=o):o=t[38],t[39]!==e||t[40]!==o?(r={title:e,subtitle:o},t[39]=e,t[40]=o,t[41]=r):r=t[41],n=r;break e}}n=void 0}return n}(e.subject),u=function(){const e=(0,i.c)(132),{_:t}=(0,ft.useLingui)();let s,n,o,r;e[0]!==t?(n=t({id:"/IX/7x"}),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(o=t({id:"Gecthh"}),e[2]=t,e[3]=o):o=e[3],e[4]!==n||e[5]!==o?(r={reason:Is.ComAtprotoModerationDefs.REASONOTHER,title:n,description:o},e[4]=n,e[5]=o,e[6]=r):r=e[6];const a=r;let l,c,d,u,m,h,p;e[7]!==t?(l=t({id:"5YKKp/"}),e[7]=t,e[8]=l):l=e[8],e[9]!==t?(c=t({id:"Fa8GQW"}),e[9]=t,e[10]=c):c=e[10],e[11]!==l||e[12]!==c?(d={reason:Is.ComAtprotoModerationDefs.REASONRUDE,title:l,description:c},e[11]=l,e[12]=c,e[13]=d):d=e[13],e[14]!==t?(u=t({id:"X0PCFk"}),e[14]=t,e[15]=u):u=e[15],e[16]!==t?(m=t({id:"Fb3yW0"}),e[16]=t,e[17]=m):m=e[17],e[18]!==u||e[19]!==m?(h={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:u,description:m},e[18]=u,e[19]=m,e[20]=h):h=e[20],e[21]!==a||e[22]!==d||e[23]!==h?(p=[d,h,a],e[21]=a,e[22]=d,e[23]=h,e[24]=p):p=e[24];const f=p;let g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te;return e[25]!==t?(g=t({id:"38207K"}),e[25]=t,e[26]=g):g=e[26],e[27]!==t?(x=t({id:"GzS4cV"}),e[27]=t,e[28]=x):x=e[28],e[29]!==g||e[30]!==x?(_={reason:Is.ComAtprotoModerationDefs.REASONMISLEADING,title:g,description:x},e[29]=g,e[30]=x,e[31]=_):_=e[31],e[32]!==t?(y=t({id:"3FqIIo"}),e[32]=t,e[33]=y):y=e[33],e[34]!==t?(b=t({id:"Z6ZbJ1"}),e[34]=t,e[35]=b):b=e[35],e[36]!==y||e[37]!==b?(j={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:y,description:b},e[36]=y,e[37]=b,e[38]=j):j=e[38],e[39]!==t?(v=t({id:"bVpe82"}),e[39]=t,e[40]=v):v=e[40],e[41]!==t?(w=t({id:"25FVfk"}),e[41]=t,e[42]=w):w=e[42],e[43]!==v||e[44]!==w?(S={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:v,description:w},e[43]=v,e[44]=w,e[45]=S):S=e[45],e[46]!==a||e[47]!==_||e[48]!==j||e[49]!==S?(k=[_,j,S,a],e[46]=a,e[47]=_,e[48]=j,e[49]=S,e[50]=k):k=e[50],e[51]!==t?(C=t({id:"/t1ulD"}),e[51]=t,e[52]=C):C=e[52],e[53]!==t?(P=t({id:"YuTh5x"}),e[53]=t,e[54]=P):P=e[54],e[55]!==C||e[56]!==P?(T={reason:Is.ComAtprotoModerationDefs.REASONMISLEADING,title:C,description:P},e[55]=C,e[56]=P,e[57]=T):T=e[57],e[58]!==t?(L=t({id:"t8dIOP"}),e[58]=t,e[59]=L):L=e[59],e[60]!==t?(A=t({id:"0Z6Esc"}),e[60]=t,e[61]=A):A=e[61],e[62]!==L||e[63]!==A?(I={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:L,description:A},e[62]=L,e[63]=A,e[64]=I):I=e[64],e[65]!==t?(R=t({id:"tzH4Ef"}),e[65]=t,e[66]=R):R=e[66],e[67]!==t?(D=t({id:"y7WKap"}),e[67]=t,e[68]=D):D=e[68],e[69]!==R||e[70]!==D?(F={reason:Is.ComAtprotoModerationDefs.REASONSEXUAL,title:R,description:D},e[69]=R,e[70]=D,e[71]=F):F=e[71],e[72]!==f||e[73]!==T||e[74]!==I||e[75]!==F?(E=[T,I,F,...f],e[72]=f,e[73]=T,e[74]=I,e[75]=F,e[76]=E):E=e[76],e[77]!==t?(M=t({id:"t8dIOP"}),e[77]=t,e[78]=M):M=e[78],e[79]!==t?(B=t({id:"z1CSnu"}),e[79]=t,e[80]=B):B=e[80],e[81]!==M||e[82]!==B?(O={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:M,description:B},e[81]=M,e[82]=B,e[83]=O):O=e[83],e[84]!==t?(z=t({id:"tzH4Ef"}),e[84]=t,e[85]=z):z=e[85],e[86]!==t?(H=t({id:"VaMWkl"}),e[86]=t,e[87]=H):H=e[87],e[88]!==z||e[89]!==H?(N={reason:Is.ComAtprotoModerationDefs.REASONSEXUAL,title:z,description:H},e[88]=z,e[89]=H,e[90]=N):N=e[90],e[91]!==f||e[92]!==O||e[93]!==N?(V=[O,N,...f],e[91]=f,e[92]=O,e[93]=N,e[94]=V):V=e[94],e[95]!==t?(q=t({id:"bVpe82"}),e[95]=t,e[96]=q):q=e[96],e[97]!==t?(U=t({id:"25FVfk"}),e[97]=t,e[98]=U):U=e[98],e[99]!==q||e[100]!==U?(W={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:q,description:U},e[99]=q,e[100]=U,e[101]=W):W=e[101],e[102]!==f||e[103]!==W?(Z=[W,...f],e[102]=f,e[103]=W,e[104]=Z):Z=e[104],e[105]!==t?(Q=t({id:"bVpe82"}),e[105]=t,e[106]=Q):Q=e[106],e[107]!==t?(K=t({id:"25FVfk"}),e[107]=t,e[108]=K):K=e[108],e[109]!==Q||e[110]!==K?($={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:Q,description:K},e[109]=Q,e[110]=K,e[111]=$):$=e[111],e[112]!==f||e[113]!==$?(G=[$,...f],e[112]=f,e[113]=$,e[114]=G):G=e[114],e[115]!==t?(Y=t({id:"bVpe82"}),e[115]=t,e[116]=Y):Y=e[116],e[117]!==t?(J=t({id:"25FVfk"}),e[117]=t,e[118]=J):J=e[118],e[119]!==Y||e[120]!==J?(X={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:Y,description:J},e[119]=Y,e[120]=J,e[121]=X):X=e[121],e[122]!==f||e[123]!==X?(ee=[X,...f],e[122]=f,e[123]=X,e[124]=ee):ee=e[124],e[125]!==k||e[126]!==E||e[127]!==V||e[128]!==Z||e[129]!==G||e[130]!==ee?(te={account:k,post:E,chatMessage:V,list:Z,starterPack:G,feed:ee},e[125]=k,e[126]=E,e[127]=V,e[128]=Z,e[129]=G,e[130]=ee,e[131]=te):te=e[131],s=te,s}(),[m,h]=mt.useReducer(yL,_L),{mutateAsync:p}=function(){const e=(0,i.c)(3),{_:t}=(0,ft.useLingui)(),s=bh();let n;return e[0]!==t||e[1]!==s?(n={async mutationFn(e){const{subject:n,state:o}=e;if(!o.selectedOption)throw new Error(t({id:"U71x/b"}));if(!o.selectedLabeler)throw new Error(t({id:"ibrdAr"}));let r;e:switch(n.type){case"account":r={reasonType:o.selectedOption.reason,reason:o.details,subject:{$type:"com.atproto.admin.defs#repoRef",did:n.did}};break e;case"post":case"list":case"feed":case"starterPack":r={reasonType:o.selectedOption.reason,reason:o.details,subject:{$type:"com.atproto.repo.strongRef",uri:n.uri,cid:n.cid}};break e;case"chatMessage":r={reasonType:o.selectedOption.reason,reason:o.details,subject:{$type:"chat.bsky.convo.defs#messageRef",messageId:n.message.id,convoId:n.convoId,did:n.message.sender.did}}}await s.createModerationReport(r,{encoding:"application/json",headers:{"atproto-proxy":`${o.selectedLabeler.creator.did}#atproto_labeler`}})}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),[f,g]=mt.useState(!1),[x,_]=mt.useState(!1),y=mt.useMemo((()=>o?o.filter((t=>{const s=t.subjectTypes;return void 0===s||("account"===e.subject.type?s.includes("account"):"chatMessage"===e.subject.type?s.includes("chat"):s.includes("record"))})).filter((t=>{const s=t.subjectCollections;return void 0===s||("chatMessage"===e.subject.type||s.includes(e.subject.nsid))})).filter((e=>{if(!m.selectedOption)return!0;const t=e.reasonTypes;return void 0===t||t.includes(m.selectedOption.reason)})):[]),[e,o,m.selectedOption]),b=!!y.length,j=1===y.length,v=mt.useCallback((async()=>{h({type:"clearError"}),bL.info("submitting");try{g(!0),await Tj(1e3,p({subject:e.subject,state:m})),_(!0),bL.metric("reportDialog:success",{reason:m.selectedOption?.reason,labeler:m.selectedLabeler?.creator.handle,details:!!m.details}),setTimeout((()=>{e.control.close()}),1e3)}catch(t){bL.metric("reportDialog:failure",{}),bL.error(t,{source:"ReportDialog"}),h({type:"setError",error:s({id:"fWsBTs"})})}finally{g(!1)}}),[s,p,m,h,e,g,_]);return mt.useEffect((()=>{bL.metric("reportDialog:open",{subjectType:e.subject.type})}),[e.subject]),(0,Ft.jsxs)(da,{testID:"report:dialog",label:s({id:"mYGG5f"}),ref:n,style:[kl.w_full,{maxWidth:500}],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_2xl,kt&&kl.pt_md],children:[(0,Ft.jsxs)(CL,{children:[(0,Ft.jsx)(PL,{index:1,title:d.subtitle,activeIndex1:m.activeStepIndex1}),c?(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsx)(LL,{}),(0,Ft.jsx)(LL,{}),(0,Ft.jsx)(LL,{}),(0,Ft.jsx)(LL,{}),(0,Ft.jsx)(LL,{}),(0,Ft.jsx)(tr.default,{accessible:!1})]}):a||!o?(0,Ft.jsx)(qj,{type:"error",children:(0,Ft.jsxs)(Vj,{children:[(0,Ft.jsx)(zj,{}),(0,Ft.jsx)(Hj,{children:(0,Ft.jsx)(ft.Trans,{id:"qny5F6"})}),(0,Ft.jsxs)(Nj,{label:s({id:"KcOAL7"}),onPress:()=>l(),children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),(0,Ft.jsx)(Pr,{icon:sw})]})]})}):(0,Ft.jsx)(Ft.Fragment,{children:m.selectedOption?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_1],children:(0,Ft.jsx)(TL,{option:m.selectedOption})}),(0,Ft.jsx)(Sr,{testID:"report:clearOption",label:s({id:"smcG/4"}),size:"tiny",variant:"solid",color:"secondary",shape:"round",onPress:()=>{h({type:"clearOption"})},children:(0,Ft.jsx)(Pr,{icon:Hr})})]}):(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[u[e.subject.type].map((e=>(0,Ft.jsx)(TL,{option:e,onSelect:()=>{h({type:"selectOption",option:e})}},e.reason))),["post","account"].includes(e.subject.type)&&(0,Ft.jsx)(pv,{to:xL,label:s({id:"HuVZOr"}),children:({hovered:e,pressed:s})=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.w_full,kl.px_md,kl.py_sm,kl.rounded_sm,kl.border,e||s?[t.atoms.border_contrast_high]:[t.atoms.border_contrast_low]],children:[(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.italic,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"GfSsim"})}),(0,Ft.jsx)(nP,{size:"sm",fill:t.atoms.text.color})]})})]})})]}),(0,Ft.jsxs)(CL,{children:[(0,Ft.jsx)(PL,{index:2,title:s({id:"bP38Av"}),activeIndex1:m.activeStepIndex1}),m.activeStepIndex1>=2&&(0,Ft.jsx)(Ft.Fragment,{children:m.selectedLabeler?(0,Ft.jsx)(Ft.Fragment,{children:j?(0,Ft.jsx)(AL,{labeler:m.selectedLabeler}):(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_1],children:(0,Ft.jsx)(AL,{labeler:m.selectedLabeler})}),(0,Ft.jsx)(Sr,{label:s({id:"Kw6nYe"}),size:"tiny",variant:"solid",color:"secondary",shape:"round",onPress:()=>{h({type:"clearLabeler"})},children:(0,Ft.jsx)(Pr,{icon:Hr})})]})}):(0,Ft.jsx)(Ft.Fragment,{children:b?(0,Ft.jsx)(wo.default,{style:[kl.gap_sm],children:j?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AL,{labeler:y[0]}),(0,Ft.jsx)(kL,{check:()=>!m.selectedLabeler,callback:()=>{h({type:"selectLabeler",labeler:y[0]})}})]}):(0,Ft.jsx)(Ft.Fragment,{children:y.map((e=>(0,Ft.jsx)(AL,{labeler:e,onSelect:()=>{h({type:"selectLabeler",labeler:e})}},e.creator.did)))})}):(0,Ft.jsx)(Uj,{type:"warning",children:(0,Ft.jsx)(ft.Trans,{id:"/EBA+m"})})})})]}),(0,Ft.jsxs)(CL,{children:[(0,Ft.jsx)(PL,{index:3,title:s({id:"ovTgfk"}),activeIndex1:m.activeStepIndex1}),3===m.activeStepIndex1&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.pb_xs,kl.gap_xs],children:[(0,Ft.jsxs)(fr,{style:[kl.leading_snug,kl.pb_xs],children:[(0,Ft.jsx)(ft.Trans,{id:"lMtw6B",values:{0:m.selectedLabeler?.creator.displayName},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.leading_snug]})}})," ",m.detailsOpen?null:(0,Ft.jsx)(fv,Object.assign({label:s({id:"leKz/3"})},xv((()=>{h({type:"showDetails"})})),{children:(0,Ft.jsx)(ft.Trans,{id:"leKz/3"})}))]}),m.detailsOpen&&(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ea,{testID:"report:details",multiline:!0,value:m.details,onChangeText:e=>{h({type:"setDetails",details:e})},label:s({id:"6yfV95"}),style:{paddingRight:60},numberOfLines:4}),(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.flex_row,kl.align_center,kl.pr_md,kl.pb_sm,{bottom:0,right:0}],children:(0,Ft.jsx)(fL,{count:m.details?.length||0})})]})]}),(0,Ft.jsxs)(Sr,{testID:"report:submit",label:s({id:"ovTgfk"}),size:"large",variant:"solid",color:"primary",disabled:f||x,onPress:v,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"ovTgfk"})}),(0,Ft.jsx)(Pr,{icon:x?Wj:f?wv:gL})]}),m.error&&(0,Ft.jsx)(Uj,{type:"error",children:m.error})]})]})]}),(0,Ft.jsx)(ma,{})]})}function kL(e){const t=(0,i.c)(4),{check:s,callback:n}=e;let o,r;return t[0]!==n||t[1]!==s?(o=()=>{s()&&n()},r=[s,n],t[0]=n,t[1]=s,t[2]=o,t[3]=r):(o=t[2],r=t[3]),mt.useEffect(o,r),null}function CL(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.gap_md,kl.w_full],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function PL(e){const t=(0,i.c)(23),{index:s,title:n,activeIndex1:o}=e,r=ec(),a=o===s,l=o>s;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_row,kl.gap_sm,kl.pr_3xl],t[0]=c):c=t[0];const d=a?r.palette.primary_500:l?r.palette.primary_100:r.atoms.bg_contrast_25.backgroundColor,u=a?r.palette.primary_500:l?r.palette.primary_400:r.atoms.border_contrast_low.borderColor;let m,h,p;t[1]!==d||t[2]!==u?(m=[kl.justify_center,kl.align_center,kl.rounded_full,kl.border,{width:24,height:24,backgroundColor:d,borderColor:u}],t[1]=d,t[2]=u,t[3]=m):m=t[3],t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==r.atoms.text||t[8]!==r.atoms.text_contrast_medium||t[9]!==r.palette?(h=l?(0,Ft.jsx)(Zj,{width:12}):(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_center,r.atoms.text,{color:a?"white":l?r.palette.primary_700:r.atoms.text_contrast_medium.color,fontVariant:["tabular-nums"],width:24,height:24,lineHeight:24}],children:s}),t[4]=a,t[5]=l,t[6]=s,t[7]=r.atoms.text,t[8]=r.atoms.text_contrast_medium,t[9]=r.palette,t[10]=h):h=t[10],t[11]!==m||t[12]!==h?(p=(0,Ft.jsx)(wo.default,{style:m,children:h}),t[11]=m,t[12]=h,t[13]=p):p=t[13];const f=a?r.atoms.text:r.atoms.text_contrast_medium;let g,x,_,y;return t[14]===Symbol.for("react.memo_cache_sentinel")?(g={top:1},t[14]=g):g=t[14],t[15]!==f?(x=[kl.flex_1,kl.font_heavy,kl.text_lg,kl.leading_snug,f,g],t[15]=f,t[16]=x):x=t[16],t[17]!==x||t[18]!==n?(_=(0,Ft.jsx)(fr,{style:x,children:n}),t[17]=x,t[18]=n,t[19]=_):_=t[19],t[20]!==_||t[21]!==p?(y=(0,Ft.jsxs)(wo.default,{style:c,children:[p,_]}),t[20]=_,t[21]=p,t[22]=y):y=t[22],y}function TL(e){const t=(0,i.c)(21),{option:s,onSelect:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=["compact"],t[0]=a):a=t[0];const l=Kl(a);let c;t[1]!==n||t[2]!==s?(c=()=>{n?.(s)},t[1]=n,t[2]=s,t[3]=c):c=t[3];const d=c,u=`report:option:${s.reason}`;let m;t[4]!==r||t[5]!==s.title?(m=r({id:"CL7So+",values:{0:s.title}}),t[4]=r,t[5]=s.title,t[6]=m):m=t[6];const h=!n;let p,f;return t[7]!==l||t[8]!==s.description||t[9]!==s.title||t[10]!==o.atoms.bg_contrast_25||t[11]!==o.atoms.border_contrast_high||t[12]!==o.atoms.border_contrast_low||t[13]!==o.atoms.text_contrast_medium?(p=e=>{const{hovered:t,pressed:n}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.w_full,l,kl.py_sm,kl.rounded_sm,kl.border,o.atoms.bg_contrast_25,t||n?[o.atoms.border_contrast_high]:[o.atoms.border_contrast_low]],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug],children:s.title}),(0,Ft.jsx)(fr,{style:[kl.text_sm,,kl.leading_snug,o.atoms.text_contrast_medium],children:s.description})]})},t[7]=l,t[8]=s.description,t[9]=s.title,t[10]=o.atoms.bg_contrast_25,t[11]=o.atoms.border_contrast_high,t[12]=o.atoms.border_contrast_low,t[13]=o.atoms.text_contrast_medium,t[14]=p):p=t[14],t[15]!==d||t[16]!==u||t[17]!==m||t[18]!==h||t[19]!==p?(f=(0,Ft.jsx)(Sr,{testID:u,label:m,onPress:d,disabled:h,children:p}),t[15]=d,t[16]=u,t[17]=m,t[18]=h,t[19]=p,t[20]=f):f=t[20],f}function LL(){const e=(0,i.c)(4),t=ec();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={height:55},e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25||e[2]!==t.atoms.border_contrast_low?(n=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.rounded_sm,kl.border,t.atoms.bg_contrast_25,t.atoms.border_contrast_low,s]}),e[1]=t.atoms.bg_contrast_25,e[2]=t.atoms.border_contrast_low,e[3]=n):n=e[3],n}function AL(e){const t=(0,i.c)(25),{labeler:s,onSelect:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();let a;t[0]!==s||t[1]!==n?(a=()=>{n?.(s)},t[0]=s,t[1]=n,t[2]=a):a=t[2];const l=a;let c,d,u,m;t[3]!==r||t[4]!==s.creator.displayName||t[5]!==s.creator.handle?(m=Xf({displayName:s.creator.displayName,handle:s.creator.handle}),c=Sr,d=`report:labeler:${s.creator.handle}`,u=r({id:"qk57S+",values:{title:m}}),t[3]=r,t[4]=s.creator.displayName,t[5]=s.creator.handle,t[6]=c,t[7]=d,t[8]=u,t[9]=m):(c=t[6],d=t[7],u=t[8],m=t[9]);const h=!n;let p,f;return t[10]!==s.creator.avatar||t[11]!==s.creator.handle||t[12]!==o.atoms.bg_contrast_25||t[13]!==o.atoms.border_contrast_high||t[14]!==o.atoms.border_contrast_low||t[15]!==o.atoms.text_contrast_medium||t[16]!==m?(p=e=>{const{hovered:t,pressed:n}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.p_sm,kl.flex_row,kl.align_center,kl.gap_sm,kl.rounded_md,kl.border,o.atoms.bg_contrast_25,t||n?[o.atoms.border_contrast_high]:[o.atoms.border_contrast_low]],children:[(0,Ft.jsx)(mP,{type:"labeler",size:36,avatar:s.creator.avatar}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug],children:m}),(0,Ft.jsx)(fr,{style:[kl.text_sm,,kl.leading_snug,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"aavdrC",values:{0:su(s.creator.handle,"@")}})})]})]})},t[10]=s.creator.avatar,t[11]=s.creator.handle,t[12]=o.atoms.bg_contrast_25,t[13]=o.atoms.border_contrast_high,t[14]=o.atoms.border_contrast_low,t[15]=o.atoms.text_contrast_medium,t[16]=m,t[17]=p):p=t[17],t[18]!==c||t[19]!==l||t[20]!==d||t[21]!==u||t[22]!==h||t[23]!==p?(f=(0,Ft.jsx)(c,{testID:d,label:u,onPress:l,disabled:h,children:p}),t[18]=c,t[19]=l,t[20]=d,t[21]=u,t[22]=h,t[23]=p,t[24]=f):f=t[24],f}function IL(e){const t=(0,i.c)(36),{control:s,profile:n}=e,{_:o}=(0,ft.useLingui)(),{gtMobile:r}=ql(),a=Op(),{mutateAsync:l,isPending:c}=function(){const e=(0,i.c)(4),t=bh(),{currentAccount:s}=xh(),n=zy();let o;return e[0]!==t||e[1]!==s||e[2]!==n?(o={async mutationFn(e){const{profile:n}=e;if(!s)throw new Error("User not logged in");const{uri:o}=await t.app.bsky.graph.verification.create({repo:s.did},{subject:n.did,createdAt:(new Date).toISOString(),handle:n.handle,displayName:n.displayName||""});await lg(5,1e3,(e=>{const{data:t}=e;return!(!t.verification||!t.verification.verifications.find((e=>e.uri===o)))}),(()=>t.getProfile({actor:n.did??""})))},async onSuccess(e,t){const{profile:s}=t;ys.metric("verification:create",{}),await n({profile:s})}},e[0]=t,e[1]=s,e[2]=n,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}(),[d,u]=(0,mt.useState)("");let m;t[0]!==o||t[1]!==s||t[2]!==l||t[3]!==n?(m=async()=>{try{await l({profile:n}),Zu(o({id:"PZVWL9"})),s.close()}catch(p){const t=p;u(o({id:"/dHeoe"})),ys.error("Failed to create a verification",{safeMessage:t})}},t[0]=o,t[1]=s,t[2]=l,t[3]=n,t[4]=m):m=t[4];const h=m;let p,f,g,x,_,y,b,j,v,w,S,k,C;return t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_row,kl.align_center,kl.gap_sm,kl.pb_sm],f=(0,Ft.jsx)(qk,{width:18}),t[5]=p,t[6]=f):(p=t[5],f=t[6]),t[7]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.pb_0],t[7]=g):g=t[7],t[8]!==o?(x=o({id:"fmDr0U"}),t[8]=o,t[9]=x):x=t[9],t[10]!==x?(_=(0,Ft.jsxs)(wo.default,{style:p,children:[f,(0,Ft.jsx)(fx,{style:g,children:x})]}),t[10]=x,t[11]=_):_=t[11],t[12]!==o?(y=o({id:"UoCEA0"}),t[12]=o,t[13]=y):y=t[13],t[14]!==y?(b=(0,Ft.jsx)(gx,{children:y}),t[14]=y,t[15]=b):b=t[15],t[16]!==a||t[17]!==n?(j=a?(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:n,moderationOpts:a}),(0,Ft.jsx)(qC,{profile:n,moderationOpts:a})]}):null,t[16]=a,t[17]=n,t[18]=j):j=t[18],t[19]!==d?(v=d&&(0,Ft.jsx)(wo.default,{style:[kl.pt_lg],children:(0,Ft.jsx)(Uj,{type:"error",children:d})}),t[19]=d,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.pt_xl],t[21]=w):w=t[21],t[22]!==o||t[23]!==r||t[24]!==c||t[25]!==h||t[26]!==n.displayName?(S=(0,Ft.jsx)(wo.default,{style:w,children:n.displayName?(0,Ft.jsxs)(xx,{children:[(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:r?"small":"large",label:o({id:"nSd1HP"}),onPress:h,children:[(0,Ft.jsx)(Cr,{children:o({id:"nSd1HP"})}),c&&(0,Ft.jsx)(Pr,{icon:wv})]}),(0,Ft.jsx)(_x,{})]}):(0,Ft.jsx)(Uj,{type:"warning",children:(0,Ft.jsx)(ft.Trans,{id:"kLJ1ch"})})}),t[22]=o,t[23]=r,t[24]=c,t[25]=h,t[26]=n.displayName,t[27]=S):S=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(ma,{}),t[28]=k):k=t[28],t[29]!==s||t[30]!==v||t[31]!==S||t[32]!==_||t[33]!==b||t[34]!==j?(C=(0,Ft.jsxs)(px,{control:s,children:[_,b,j,v,S,k]}),t[29]=s,t[30]=v,t[31]=S,t[32]=_,t[33]=b,t[34]=j,t[35]=C):C=t[35],C}function RL(e){return e.uri}function DL(e){const t=(0,i.c)(15),{control:s,profile:n,verifications:o,onConfirm:r}=e,{_:a}=(0,ft.useLingui)(),{mutateAsync:l}=function(){const e=(0,i.c)(4),t=bh(),{currentAccount:s}=xh(),n=zy();let o;return e[0]!==t||e[1]!==s||e[2]!==n?(o={async mutationFn(e){const{profile:n,verifications:o}=e;if(!s)throw new Error("User not logged in");const r=o.map(RL);await Promise.all(r.map((e=>t.app.bsky.graph.verification.delete({repo:s.did,rkey:new Is.AtUri(e).rkey})))),await lg(5,1e3,(e=>{const{data:t}=e;return!t.verification?.verifications.some((e=>r.includes(e.uri)))}),(()=>t.getProfile({actor:n.did??""})))},async onSuccess(e,t){const{profile:s}=t;ys.metric("verification:revoke",{}),await n({profile:s})}},e[0]=t,e[1]=s,e[2]=n,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}();let c;t[0]!==a||t[1]!==r||t[2]!==n||t[3]!==l||t[4]!==o?(c=async()=>{r?.();try{await l({profile:n,verifications:o}),Zu(a({id:"ei0H7Q"}))}catch(u){const t=u;Zu(a({id:"aGdU9/"}),"xmark"),ys.error("Failed to remove verification",{safeMessage:t})}},t[0]=a,t[1]=r,t[2]=n,t[3]=l,t[4]=o,t[5]=c):c=t[5];const d=c;let u,m,h;return t[6]!==a?(u=a({id:"rFr1fb"}),t[6]=a,t[7]=u):u=t[7],t[8]!==a?(m=a({id:"ivOnDk"}),t[8]=a,t[9]=m):m=t[9],t[10]!==s||t[11]!==d||t[12]!==u||t[13]!==m?(h=(0,Ft.jsx)(bx,{control:s,title:u,onConfirm:d,confirmButtonCta:m,confirmButtonColor:"negative"}),t[10]=s,t[11]=d,t[12]=u,t[13]=m,t[14]=h):h=t[14],h}function FL(){const e=(0,i.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["devMode"],e[0]=t):t=e[0];const[s,n]=Pn(Tn,t),o=void 0!==s&&s;let r;return e[1]!==o||e[2]!==n?(r=[o,n],e[1]=o,e[2]=n,e[3]=r):r=e[3],r}let EL=e=>{const t=(0,i.c)(155),{profile:s}=e,{_:n}=(0,ft.useLingui)(),{currentAccount:o,hasSession:r}=xh(),{openModal:a}=Zd(),l=Ar(),c=(0,wd.useQueryClient)(),d=(0,va.useNavigation)(),u=o?.did===s.did,m=s.viewer?.following,h=s.viewer?.blocking||s.viewer?.blockedBy,p=m&&h,f=!!s.associated?.labeler&&!h,[g]=FL();let x;t[0]!==s?(x={profile:s},t[0]=s,t[1]=x):x=t[1];const _=Hk(x),y=(b=o?.did,!!Qb().find((e=>e.did===b)));var b;const[j,v]=yb(s),[w,S]=bb(s),[k,C]=fb(s,"ProfileMenu"),P=Ar(),T=Ar(),L=Ar();let A;A=s.did!==o?.did&&!!s.labels?.find(ML);const I=A;let R;t[2]!==s.did||t[3]!==c?(R=()=>{c.invalidateQueries({queryKey:lb(s.did)})},t[2]=s.did,t[3]=c,t[4]=R):R=t[4];const D=R;let F;t[5]!==s?(F=()=>{iv(pu(cS(s)))},t[5]=s,t[6]=F):F=t[6];const E=F;let M;t[7]!==D||t[8]!==a||t[9]!==s.did||t[10]!==s.displayName||t[11]!==s.handle?(M=()=>{a({name:"user-add-remove-lists",subject:s.did,handle:s.handle,displayName:s.displayName||s.handle,onAdd:D,onRemove:D})},t[7]=D,t[8]=a,t[9]=s.did,t[10]=s.displayName,t[11]=s.handle,t[12]=M):M=t[12];const B=M;let O;t[13]!==n||t[14]!==s.viewer?.muted||t[15]!==j||t[16]!==v?(O=async()=>{if(s.viewer?.muted)try{await v(),Zu(n({id:"QU/XdG"}))}catch(H){const t=H;"AbortError"!==t?.name&&(ys.error("Failed to unmute account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}else try{await j(),Zu(n({id:"qWVN11"}))}catch(V){const t=V;"AbortError"!==t?.name&&(ys.error("Failed to mute account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},t[13]=n,t[14]=s.viewer?.muted,t[15]=j,t[16]=v,t[17]=O):O=t[17],s.viewer?.muted;const z=O;let H;t[18]!==n||t[19]!==s.viewer?.blocking||t[20]!==w||t[21]!==S?(H=async()=>{if(s.viewer?.blocking)try{await S(),Zu(n({id:"AGD0Zy"}))}catch(V){const t=V;"AbortError"!==t?.name&&(ys.error("Failed to unblock account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}else try{await w(),Zu(n({id:"ZJdD7R"}))}catch(U){const t=U;"AbortError"!==t?.name&&(ys.error("Failed to block account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},t[18]=n,t[19]=s.viewer?.blocking,t[20]=w,t[21]=S,t[22]=H):H=t[22],s.viewer?.blocking;const N=H;let V;t[23]!==n||t[24]!==k?(V=async()=>{try{await k(),Zu(n({id:"HwDuzV"}))}catch(U){const t=U;"AbortError"!==t?.name&&(ys.error("Failed to follow account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},t[23]=n,t[24]=k,t[25]=V):V=t[25];const q=V;let U;t[26]!==n||t[27]!==C?(U=async()=>{try{await C(),Zu(n({id:"hMTut3"}))}catch(Z){const t=Z;"AbortError"!==t?.name&&(ys.error("Failed to unfollow account",{message:t}),Zu(n({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},t[26]=n,t[27]=C,t[28]=U):U=t[28];const W=U;let Z;t[29]!==l?(Z=()=>{l.open()},t[29]=l,t[30]=Z):Z=t[30];const Q=Z;let K;t[31]!==s.did?(K=()=>{av(`at://${s.did}`)},t[31]=s.did,t[32]=K):K=t[32];const $=K;let G;t[33]!==s.did?(G=()=>{av(s.did)},t[33]=s.did,t[34]=G):G=t[34];const Y=G;let J;t[35]!==d||t[36]!==s.handle?(J=()=>{d.navigate("ProfileSearch",{name:s.handle})},t[35]=d,t[36]=s.handle,t[37]=J):J=t[37];const X=J,ee=Ar(),te=Ar();let se;t[38]!==o?.did||t[39]!==s.verification?.verifications?(se=s.verification?.verifications?.filter((e=>e.issuer===o?.did))??[],t[38]=o?.did,t[39]=s.verification?.verifications,t[40]=se):se=t[40];const ne=se,oe=nS(s);let re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe;t[41]!==n?(re=n({id:"3Siwmw"}),t[41]=n,t[42]=re):re=t[42],t[43]!==n?(ie=e=>{const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({},t,{testID:"profileHeaderDropdownBtn",label:n({id:"3Siwmw"}),hitSlop:wi,variant:"solid",color:"secondary",size:"small",shape:"round",children:(0,Ft.jsx)(Pr,{icon:lT,size:"sm"})}))},t[43]=n,t[44]=ie):ie=t[44],t[45]!==re||t[46]!==ie?(ae=(0,Ft.jsx)(vC,{label:re,children:ie}),t[45]=re,t[46]=ie,t[47]=ae):ae=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(le={minWidth:170},t[48]=le):le=t[48],t[49]!==n?(ce=n(Pt?{id:"jw+abr"}:{id:"tz4YI4"}),t[49]=n,t[50]=ce):ce=t[50],t[51]!==T||t[52]!==E||t[53]!==I?(de=()=>{I?T.open():E()},t[51]=T,t[52]=E,t[53]=I,t[54]=de):de=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,Ft.jsx)(kC,{children:Pt?(0,Ft.jsx)(ft.Trans,{id:"jw+abr"}):(0,Ft.jsx)(ft.Trans,{id:"tz4YI4"})}),t[55]=ue):ue=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(me=(0,Ft.jsx)(CC,{icon:Pt?oT:nT}),t[56]=me):me=t[56],t[57]!==ce||t[58]!==de?(he=(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownShareBtn",label:ce,onPress:de,children:[ue,me]}),t[57]=ce,t[58]=de,t[59]=he):he=t[59],t[60]!==n?(pe=n({id:"mjIwNK"}),t[60]=n,t[61]=pe):pe=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"mjIwNK"})}),ge=(0,Ft.jsx)(CC,{icon:nC}),t[62]=fe,t[63]=ge):(fe=t[62],ge=t[63]),t[64]!==X||t[65]!==pe?(xe=(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownSearchBtn",label:pe,onPress:X,children:[fe,ge]}),t[64]=X,t[65]=pe,t[66]=xe):xe=t[66],t[67]!==he||t[68]!==xe?(_e=(0,Ft.jsxs)(LC,{children:[he,xe]}),t[67]=he,t[68]=xe,t[69]=_e):_e=t[69],t[70]!==n||t[71]!==P||t[72]!==y||t[73]!==L||t[74]!==r||t[75]!==m||t[76]!==p||t[77]!==f||t[78]!==u||t[79]!==B||t[80]!==q||t[81]!==z||t[82]!==Q||t[83]!==W||t[84]!==s.viewer||t[85]!==oe.isActive||t[86]!==_||t[87]!==ee||t[88]!==te?(ye=r&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[!u&&(0,Ft.jsx)(Ft.Fragment,{children:(f||p)&&(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownFollowBtn",label:n(m?{id:"3dmJaw"}:{id:"sTlPtW"}),onPress:m?W:q,children:[(0,Ft.jsx)(kC,{children:m?(0,Ft.jsx)(ft.Trans,{id:"3dmJaw"}):(0,Ft.jsx)(ft.Trans,{id:"sTlPtW"})}),(0,Ft.jsx)(CC,{icon:m?mT:kS})]})}),(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownListAddRemoveBtn",label:n({id:"MGrqgd"}),onPress:B,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"MGrqgd"})}),(0,Ft.jsx)(CC,{icon:dT})]}),u&&y&&(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownListAddRemoveBtn",label:oe.isActive?n({id:"pv/ObD"}):n({id:"2qtCQl"}),onPress:L.open,children:[(0,Ft.jsx)(kC,{children:oe.isActive?(0,Ft.jsx)(ft.Trans,{id:"pv/ObD"}):(0,Ft.jsx)(ft.Trans,{id:"2qtCQl"})}),(0,Ft.jsx)(CC,{icon:uT})]}),"verifier"===_.viewer.role&&!_.profile.isViewer&&(_.viewer.hasIssuedVerification?(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownVerificationRemoveButton",label:n({id:"ivOnDk"}),onPress:()=>te.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ivOnDk"})}),(0,Ft.jsx)(CC,{icon:iT})]}):(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownVerificationCreateButton",label:n({id:"nSd1HP"}),onPress:()=>ee.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"nSd1HP"})}),(0,Ft.jsx)(CC,{icon:rT})]})),!u&&(0,Ft.jsxs)(Ft.Fragment,{children:[!s.viewer?.blocking&&!s.viewer?.mutedByList&&(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownMuteBtn",label:s.viewer?.muted?n({id:"tGvT9+"}):n({id:"BT9ocQ"}),onPress:z,children:[(0,Ft.jsx)(kC,{children:s.viewer?.muted?(0,Ft.jsx)(ft.Trans,{id:"tGvT9+"}):(0,Ft.jsx)(ft.Trans,{id:"BT9ocQ"})}),(0,Ft.jsx)(CC,{icon:s.viewer?.muted?hT:oC})]}),!s.viewer?.blockingByList&&(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownBlockBtn",label:s.viewer?n({id:"lRjoxo"}):n({id:"ERffXY"}),onPress:()=>P.open(),children:[(0,Ft.jsx)(kC,{children:s.viewer?.blocking?(0,Ft.jsx)(ft.Trans,{id:"lRjoxo"}):(0,Ft.jsx)(ft.Trans,{id:"ERffXY"})}),(0,Ft.jsx)(CC,{icon:s.viewer?.blocking?aC:lC})]}),(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownReportBtn",label:n({id:"DYqMcU"}),onPress:Q,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"DYqMcU"})}),(0,Ft.jsx)(CC,{icon:cT})]})]})]})]}),t[70]=n,t[71]=P,t[72]=y,t[73]=L,t[74]=r,t[75]=m,t[76]=p,t[77]=f,t[78]=u,t[79]=B,t[80]=q,t[81]=z,t[82]=Q,t[83]=W,t[84]=s.viewer,t[85]=oe.isActive,t[86]=_,t[87]=ee,t[88]=te,t[89]=ye):ye=t[89],t[90]!==n||t[91]!==g||t[92]!==$||t[93]!==Y?(be=g?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownShareATURIBtn",label:n({id:"PHIlqm"}),onPress:$,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"PHIlqm"})}),(0,Ft.jsx)(CC,{icon:aT})]}),(0,Ft.jsxs)(SC,{testID:"profileHeaderDropdownShareDIDBtn",label:n({id:"f56KS4"}),onPress:Y,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"f56KS4"})}),(0,Ft.jsx)(CC,{icon:aT})]})]})]}):null,t[90]=n,t[91]=g,t[92]=$,t[93]=Y,t[94]=be):be=t[94],t[95]!==_e||t[96]!==ye||t[97]!==be?(je=(0,Ft.jsxs)(wC,{style:le,children:[_e,ye,be]}),t[95]=_e,t[96]=ye,t[97]=be,t[98]=je):je=t[98],t[99]!==ae||t[100]!==je?(ve=(0,Ft.jsxs)(bC,{children:[ae,je]}),t[99]=ae,t[100]=je,t[101]=ve):ve=t[101],t[102]!==s?(we=Object.assign({},s,{$type:"app.bsky.actor.defs#profileViewDetailed"}),t[102]=s,t[103]=we):we=t[103],t[104]!==l||t[105]!==we?(Se=(0,Ft.jsx)(jL,{control:l,subject:we}),t[104]=l,t[105]=we,t[106]=Se):Se=t[106],t[107]!==n||t[108]!==s.viewer?.blocking?(ke=s.viewer?.blocking?n({id:"tw0xVB"}):n({id:"9CjDMy"}),t[107]=n,t[108]=s.viewer?.blocking,t[109]=ke):ke=t[109],t[110]!==n||t[111]!==s.associated?.labeler||t[112]!==s.viewer?.blocking?(Ce=s.viewer?.blocking?n({id:"GlPXQJ"}):s.associated?.labeler?n({id:"/+OmFR"}):n({id:"HG4qt4"}),t[110]=n,t[111]=s.associated?.labeler,t[112]=s.viewer?.blocking,t[113]=Ce):Ce=t[113],t[114]!==n||t[115]!==s.viewer?.blocking?(Pe=s.viewer?.blocking?n({id:"tuS5Jz"}):n({id:"CJkEfx"}),t[114]=n,t[115]=s.viewer?.blocking,t[116]=Pe):Pe=t[116];const Te=s.viewer?.blocking?void 0:"negative";let Le,Ae,Ie,Re,De,Fe,Ee,Me,Be;return t[117]!==N||t[118]!==P||t[119]!==ke||t[120]!==Ce||t[121]!==Pe||t[122]!==Te?(Le=(0,Ft.jsx)(bx,{control:P,title:ke,description:Ce,onConfirm:N,confirmButtonCta:Pe,confirmButtonColor:Te}),t[117]=N,t[118]=P,t[119]=ke,t[120]=Ce,t[121]=Pe,t[122]=Te,t[123]=Le):Le=t[123],t[124]!==n?(Ae=n({id:"wILD8d"}),t[124]=n,t[125]=Ae):Ae=t[125],t[126]!==n?(Ie=n({id:"mt5ls7"}),t[126]=n,t[127]=Ie):Ie=t[127],t[128]!==n?(Re=n({id:"AnSqOp"}),t[128]=n,t[129]=Re):Re=t[129],t[130]!==T||t[131]!==E||t[132]!==Ae||t[133]!==Ie||t[134]!==Re?(De=(0,Ft.jsx)(bx,{control:T,title:Ae,description:Ie,onConfirm:E,confirmButtonCta:Re}),t[130]=T,t[131]=E,t[132]=Ae,t[133]=Ie,t[134]=Re,t[135]=De):De=t[135],t[136]!==s||t[137]!==ee?(Fe=(0,Ft.jsx)(IL,{control:ee,profile:s}),t[136]=s,t[137]=ee,t[138]=Fe):Fe=t[138],t[139]!==ne||t[140]!==s||t[141]!==te?(Ee=(0,Ft.jsx)(DL,{control:te,profile:s,verifications:ne}),t[139]=ne,t[140]=s,t[141]=te,t[142]=Ee):Ee=t[142],t[143]!==L||t[144]!==s||t[145]!==oe?(Me=oe.isActive?(0,Ft.jsx)(qT,{control:L,status:oe,embed:oe.embed}):(0,Ft.jsx)(cL,{control:L,profile:s}),t[143]=L,t[144]=s,t[145]=oe,t[146]=Me):Me=t[146],t[147]!==ve||t[148]!==Se||t[149]!==Le||t[150]!==De||t[151]!==Fe||t[152]!==Ee||t[153]!==Me?(Be=(0,Ft.jsxs)(eT,{onKeyDown:!1,children:[ve,Se,Le,De,Fe,Ee,Me]}),t[147]=ve,t[148]=Se,t[149]=Le,t[150]=De,t[151]=Fe,t[152]=Ee,t[153]=Me,t[154]=Be):Be=t[154],Be};function ML(e){return"!no-unauthenticated"===e.val}EL=(0,mt.memo)(EL);const BL=e=>["convo-availability",e];const OL=e=>["convo",e];function zL(e,t){e.setQueryData(OL(t.id),t)}function HL(){const e=(0,i.c)(6),t=lf(),s=(0,wd.useQueryClient)(),n=bh();let o,r;return e[0]!==n?(o=async e=>{const{convoId:t,messageId:s}=e;if(!t)throw new Error("No convoId provided");await n.api.chat.bsky.convo.updateRead({convoId:t,messageId:s},{encoding:"application/json",headers:kp})},e[0]=n,e[1]=o):o=e[1],e[2]!==t||e[3]!==s||e[4]!==o?(r={mutationFn:o,onMutate(e){const{convoId:s}=e;if(!s)throw new Error("No convoId provided");t(s)},onSuccess(e,t){const{convoId:n}=t;n&&s.setQueriesData({queryKey:[Kp]},(e=>{if(!e)return e;return mf(n,e)?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{convos:e.convos.map((e=>e.id===n?Object.assign({},e,{unreadCount:0}):e))})))}):void 0}))}},e[2]=t,e[3]=s,e[4]=o,e[5]=r):r=e[5],(0,Sd.useMutation)(r)}function NL(e){const t=(0,i.c)(11),{onSuccess:s,onError:n}=e,o=(0,wd.useQueryClient)(),r=bh();let a,l,c,d;return t[0]!==r?(a=async e=>{const{data:t}=await r.chat.bsky.convo.getConvoForMembers({members:e},{headers:kp});return t},t[0]=r,t[1]=a):a=t[1],t[2]!==s||t[3]!==o?(l=e=>{zL(o,e.convo),s?.(e)},t[2]=s,t[3]=o,t[4]=l):l=t[4],t[5]!==n?(c=e=>{ys.error(e),n?.(e)},t[5]=n,t[6]=c):c=t[6],t[7]!==a||t[8]!==l||t[9]!==c?(d={mutationFn:a,onSuccess:l,onError:c},t[7]=a,t[8]=l,t[9]=c,t[10]=d):d=t[10],(0,Sd.useMutation)(d)}function VL(e){switch(e.associated?.chat?.allowIncoming){case"none":return!1;case"all":return!0;case"following":case void 0:return Boolean(e.viewer?.followedBy);default:return!1}}function qL(e){const t=e.getMonth(),s=e.getDate();return`${e.getFullYear()}-${t}-${s}`}function UL(e,t){if(!e.reactions)return!1;return e.reactions.filter((e=>e.sender.did===t)).length>=Wi}const WL=zr({path:"M2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10a9.968 9.968 0 0 1-4.136-.893l-4.68.876a1 1 0 0 1-1.164-1.184l.931-4.537A9.965 9.965 0 0 1 2 12Zm4.25 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm4.5 0a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm5.75 1.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"}),ZL=zr({path:"M4 12a8 8 0 1 1 4.445 7.169 1 1 0 0 0-.629-.088l-3.537.662.7-3.415a1 1 0 0 0-.09-.66A7.961 7.961 0 0 1 4 12Zm8-10C6.477 2 2 6.477 2 12c0 1.523.341 2.968.951 4.262l-.93 4.537a1 1 0 0 0 1.163 1.184l4.68-.876A9.968 9.968 0 0 0 12 22c5.523 0 10-4.477 10-10S17.523 2 12 2ZM7.5 13.25a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Zm4.5 0a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"});function QL(e){const t=(0,i.c)(33),{profile:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=(0,va.useNavigation)(),a=ew(),{data:l}=function(e){const t=(0,i.c)(8),s=bh();let n,o,r;return t[0]!==e?(n=BL(e),t[0]=e,t[1]=n):n=t[1],t[2]!==s||t[3]!==e?(o=async()=>{const{data:t}=await s.chat.bsky.convo.getConvoAvailability({members:[e]},{headers:kp});return t},t[2]=s,t[3]=e,t[4]=o):o=t[4],t[5]!==n||t[6]!==o?(r={queryKey:n,queryFn:o,staleTime:Ld.INFINITY},t[5]=n,t[6]=o,t[7]=r):r=t[7],(0,vd.useQuery)(r)}(s.did);let c,d,u;t[0]!==r?(c=e=>{const{convo:t}=e;En("chat:open",{logContext:"ProfileHeader"}),r.navigate("MessagesConversation",{conversation:t.id})},t[0]=r,t[1]=c):c=t[1],t[2]!==n?(d=()=>{Zu(n({id:"reI+LT"}))},t[2]=n,t[3]=d):d=t[3],t[4]!==c||t[5]!==d?(u={onSuccess:c,onError:d},t[4]=c,t[5]=d,t[6]=u):u=t[6];const{mutate:m}=NL(u);let h;t[7]!==l||t[8]!==m||t[9]!==r||t[10]!==s.did?(h=()=>{l?.canChat&&(l.convo?(En("chat:open",{logContext:"ProfileHeader"}),r.navigate("MessagesConversation",{conversation:l.convo.id})):(En("chat:create",{logContext:"ProfileHeader"}),m([s.did])))},t[7]=l,t[8]=m,t[9]=r,t[10]=s.did,t[11]=h):h=t[11];const p=h;let f,g;t[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ft.Trans,{id:"oYqWde"},"message"),t[12]=f):f=t[12],t[13]!==p||t[14]!==a?(g=a(p,{instructions:[f]}),t[13]=p,t[14]=a,t[15]=g):g=t[15];const x=g;if(!l){if(VL(s)){let e,s,n,r,i;return t[16]===Symbol.for("react.memo_cache_sentinel")?(e={width:34,height:34},t[16]=e):e=t[16],t[17]!==o.atoms.bg_contrast_25?(s=[kl.justify_center,kl.align_center,o.atoms.bg_contrast_25,kl.rounded_full,e],t[17]=o.atoms.bg_contrast_25,t[18]=s):s=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(n={opacity:.3},t[19]=n):n=t[19],t[20]!==o.atoms.text?(r=(0,Ft.jsx)(ZL,{style:[o.atoms.text,n],size:"md"}),t[20]=o.atoms.text,t[21]=r):r=t[21],t[22]!==r||t[23]!==s?(i=(0,Ft.jsx)(wo.default,{testID:"dmBtnLoading","aria-hidden":!0,style:s,children:r}),t[22]=r,t[23]=s,t[24]=i):i=t[24],i}return null}if(l.canChat){let e,o,r,i;return t[25]!==n||t[26]!==s.handle?(e=n({id:"pqr+oY",values:{0:s.handle}}),t[25]=n,t[26]=s.handle,t[27]=e):e=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.justify_center],t[28]=o):o=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(Pr,{icon:ZL,size:"md"}),t[29]=r):r=t[29],t[30]!==e||t[31]!==x?(i=(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(Sr,{accessibilityRole:"button",testID:"dmBtn",size:"small",color:"secondary",variant:"solid",shape:"round",label:e,style:o,onPress:x,children:r})}),t[30]=e,t[31]=x,t[32]=i):i=t[32],i}return null}function KL(e){return Qf(e.displayName||su(e.handle,"@"))}function $L(e){const t=(0,i.c)(8),{control:s,profile:n,verificationState:o}=e;let r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(ha,{}),t[0]=r):r=t[0],t[1]!==s||t[2]!==n||t[3]!==o?(a=(0,Ft.jsx)(GL,{control:s,profile:n,verificationState:o}),t[1]=s,t[2]=n,t[3]=o,t[4]=a):a=t[4],t[5]!==s||t[6]!==a?(l=(0,Ft.jsxs)(aa,{control:s,children:[r,a]}),t[5]=s,t[6]=a,t[7]=l):l=t[7],l}function GL(e){const t=(0,i.c)(51),{profile:s,control:n,verificationState:o}=e,r=ec(),{_:a}=(0,ft.useLingui)(),{gtMobile:l}=ql();let c;if(t[0]!==a||t[1]!==s||t[2]!==o.profile.isVerified||t[3]!==o.profile.isViewer){const e=KL(s);c=o.profile.isViewer?o.profile.isVerified?a({id:"vwim0K"}):a({id:"71CMMD"}):o.profile.isVerified?a({id:"zD2NvH",values:{userName:e}}):a({values:{userName:e},id:"eOZCDf"}),t[0]=a,t[1]=s,t[2]=o.profile.isVerified,t[3]=o.profile.isViewer,t[4]=c}else c=t[4];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I;return t[5]!==l?(u=l?{width:"auto",maxWidth:400,minWidth:200}:kl.w_full,t[5]=l,t[6]=u):u=t[6],t[7]!==u?(m=[u],t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.gap_sm,kl.pb_lg],t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.text_2xl,kl.font_bold,kl.pr_4xl,kl.leading_tight],t[10]=p):p=t[10],t[11]!==d?(f=(0,Ft.jsx)(fr,{style:p,children:d}),t[11]=d,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.text_md,kl.leading_snug],t[13]=g):g=t[13],t[14]!==o.profile.isVerified?(x=(0,Ft.jsx)(fr,{style:g,children:o.profile.isVerified?(0,Ft.jsx)(ft.Trans,{id:"mQ2u23"}):(0,Ft.jsx)(ft.Trans,{id:"O2i+Sg"})}),t[14]=o.profile.isVerified,t[15]=x):x=t[15],t[16]!==f||t[17]!==x?(_=(0,Ft.jsxs)(wo.default,{style:h,children:[f,x]}),t[16]=f,t[17]=x,t[18]=_):_=t[18],t[19]!==n||t[20]!==s||t[21]!==o.profile.isViewer||t[22]!==r?(y=s.verification?(0,Ft.jsxs)(wo.default,{style:[kl.pb_xl,kl.gap_md],children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,r.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"+qipyn"})}),(0,Ft.jsx)(wo.default,{style:[kl.gap_lg],children:s.verification.verifications.map((e=>(0,Ft.jsx)(XL,{verification:e,subject:s,outerDialogControl:n},e.uri)))}),s.verification.verifications.some(JL)&&o.profile.isViewer&&(0,Ft.jsx)(Uj,{type:"warning",style:[kl.mt_xs],children:(0,Ft.jsx)(ft.Trans,{id:"AV2ZDR"})})]}):null,t[19]=n,t[20]=s,t[21]=o.profile.isViewer,t[22]=r,t[23]=y):y=t[23],t[24]!==l?(b=[kl.w_full,kl.gap_sm,kl.justify_end,l?[kl.flex_row,kl.flex_row_reverse,kl.justify_start]:[kl.flex_col]],t[24]=l,t[25]=b):b=t[25],t[26]!==a?(j=a({id:"cu6iol"}),t[26]=a,t[27]=j):j=t[27],t[28]!==n?(v=()=>{n.close()},t[28]=n,t[29]=v):v=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})}),t[30]=w):w=t[30],t[31]!==j||t[32]!==v?(S=(0,Ft.jsx)(Sr,{label:j,size:"small",variant:"solid",color:"primary",onPress:v,children:w}),t[31]=j,t[32]=v,t[33]=S):S=t[33],t[34]!==a?(k=a({id:"Rp6BLh"}),t[34]=a,t[35]=k):k=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.justify_center],t[36]=C):C=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"zwWKhA"})}),t[37]=P):P=t[37],t[38]!==k?(T=(0,Ft.jsx)(pv,{overridePresentation:!0,to:Zi.website.blog.initialVerificationAnnouncement,label:k,size:"small",variant:"solid",color:"secondary",style:C,onPress:YL,children:P}),t[38]=k,t[39]=T):T=t[39],t[40]!==b||t[41]!==S||t[42]!==T?(L=(0,Ft.jsxs)(wo.default,{style:b,children:[S,T]}),t[40]=b,t[41]=S,t[42]=T,t[43]=L):L=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(ma,{}),t[44]=A):A=t[44],t[45]!==d||t[46]!==y||t[47]!==L||t[48]!==m||t[49]!==_?(I=(0,Ft.jsxs)(da,{label:d,style:m,children:[_,y,L,A]}),t[45]=d,t[46]=y,t[47]=L,t[48]=m,t[49]=_,t[50]=I):I=t[50],I}function YL(){ys.metric("verification:learn-more",{location:"verificationsDialog"})}function JL(e){return!e.isValid}function XL(e){const t=(0,i.c)(29),{verification:s,subject:n,outerDialogControl:o}=e,r=ec(),{_:a,i18n:l}=(0,ft.useLingui)(),{currentAccount:c}=xh(),d=Op();let u;t[0]!==s.issuer?(u={did:s.issuer},t[0]=s.issuer,t[1]=u):u=t[1];const{data:m,error:h}=ub(u),p=Ar(),f=s.issuer===c?.did,g=s.isValid?1:.5;let x,_,y,b,j,v;return t[2]!==g?(x={opacity:g},t[2]=g,t[3]=x):x=t[3],t[4]!==a||t[5]!==f||t[6]!==h||t[7]!==l||t[8]!==d||t[9]!==o||t[10]!==m||t[11]!==r||t[12]!==s.createdAt||t[13]!==s.issuer||t[14]!==p?(_=(0,Ft.jsx)(OC,{children:(0,Ft.jsx)(zC,{children:h?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(VC,{}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug],numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"VL5IC6"})}),(0,Ft.jsx)(fr,{emoji:!0,style:[kl.leading_snug,r.atoms.text_contrast_medium],numberOfLines:1,children:s.issuer})]})]}):m&&d?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(HC,{profile:m,style:[kl.flex_row,kl.align_center,kl.gap_sm,kl.flex_1],onPress:()=>{o.close()},children:[(0,Ft.jsx)(NC,{profile:m,moderationOpts:d,disabledPreview:!0}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(UC,{profile:m,moderationOpts:d}),(0,Ft.jsx)(fr,{emoji:!0,style:[kl.leading_snug,r.atoms.text_contrast_medium],numberOfLines:1,children:l.date(new Date(s.createdAt),{dateStyle:"long"})})]})]}),f&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Sr,{label:a({id:"ivOnDk"}),size:"small",variant:"outline",color:"negative",shape:"round",onPress:()=>{p.open()},children:(0,Ft.jsx)(Pr,{icon:jS})})})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(VC,{}),(0,Ft.jsx)(ZC,{})]})})}),t[4]=a,t[5]=f,t[6]=h,t[7]=l,t[8]=d,t[9]=o,t[10]=m,t[11]=r,t[12]=s.createdAt,t[13]=s.issuer,t[14]=p,t[15]=_):_=t[15],t[16]!==s?(y=[s],t[16]=s,t[17]=y):y=t[17],t[18]!==o?(b=()=>o.close(),t[18]=o,t[19]=b):b=t[19],t[20]!==n||t[21]!==y||t[22]!==b||t[23]!==p?(j=(0,Ft.jsx)(DL,{control:p,profile:n,verifications:y,onConfirm:b}),t[20]=n,t[21]=y,t[22]=b,t[23]=p,t[24]=j):j=t[24],t[25]!==x||t[26]!==_||t[27]!==j?(v=(0,Ft.jsxs)(wo.default,{style:x,children:[_,j]}),t[25]=x,t[26]=_,t[27]=j,t[28]=v):v=t[28],v}function eA(e){const t=(0,i.c)(9),{control:s,profile:n,verificationState:o}=e;let r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(ha,{}),t[0]=r):r=t[0],t[1]!==s||t[2]!==n||t[3]!==o?(a=(0,Ft.jsx)(tA,{control:s,profile:n,verificationState:o}),t[1]=s,t[2]=n,t[3]=o,t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ma,{}),t[5]=l):l=t[5],t[6]!==s||t[7]!==a?(c=(0,Ft.jsxs)(aa,{control:s,children:[r,a,l]}),t[6]=s,t[7]=a,t[8]=c):c=t[8],c}function tA(e){const t=(0,i.c)(57),{profile:n,control:o}=e,r=ec(),{_:a}=(0,ft.useLingui)(),{gtMobile:l}=ql(),{currentAccount:c}=xh(),d=n.did===c?.did;let u;if(t[0]!==a||t[1]!==d||t[2]!==n){const e=KL(n);u=a(d?{id:"2+MNOY"}:{id:"/vLQQC",values:{userName:e}}),t[0]=a,t[1]=d,t[2]=n,t[3]=u}else u=t[3];const m=u;let h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H;return t[4]!==l?(h=l?{width:"auto",maxWidth:400,minWidth:200}:kl.w_full,t[4]=l,t[5]=h):h=t[5],t[6]!==h?(p=[h],t[6]=h,t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.gap_lg],t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(g={minHeight:100},t[9]=g):g=t[9],t[10]!==r.atoms.bg_contrast_25?(x=[kl.w_full,kl.rounded_md,kl.overflow_hidden,r.atoms.bg_contrast_25,g],t[10]=r.atoms.bg_contrast_25,t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=s(51620),y=[{aspectRatio:2.20625}],t[12]=_,t[13]=y):(_=t[12],y=t[13]),t[14]!==a?(b=a({id:"e/MhYH"}),t[14]=a,t[15]=b):b=t[15],t[16]!==b?(j=(0,Ft.jsx)(SS.Image,{accessibilityIgnoresInvertColors:!0,source:_,style:y,alt:b}),t[16]=b,t[17]=j):j=t[17],t[18]!==j||t[19]!==x?(v=(0,Ft.jsx)(wo.default,{style:x,children:j}),t[18]=j,t[19]=x,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_sm],t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.text_2xl,kl.font_bold,kl.pr_4xl,kl.leading_tight],t[22]=S):S=t[22],t[23]!==m?(k=(0,Ft.jsx)(fr,{style:S,children:m}),t[23]=m,t[24]=k):k=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.text_md,kl.leading_snug],t[25]=C):C=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(fr,{style:C,children:(0,Ft.jsx)(ft.Trans,{id:"C5mG5F",components:{0:(0,Ft.jsx)(ur.default,{}),1:(0,Ft.jsx)(Wk,{width:14})}})}),t[26]=P):P=t[26],t[27]!==k?(T=(0,Ft.jsxs)(wo.default,{style:w,children:[k,P]}),t[27]=k,t[28]=T):T=t[28],t[29]!==l?(L=[kl.w_full,kl.gap_sm,kl.justify_end,l?[kl.flex_row,kl.justify_end]:[kl.flex_col]],t[29]=l,t[30]=L):L=t[30],t[31]!==a?(A=a({id:"Rp6BLh"}),t[31]=a,t[32]=A):A=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.justify_center],t[33]=I):I=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"zwWKhA"})}),t[34]=R):R=t[34],t[35]!==A?(D=(0,Ft.jsx)(pv,{overridePresentation:!0,to:Zi.website.blog.initialVerificationAnnouncement,label:A,size:"small",variant:"solid",color:"primary",style:I,onPress:sA,children:R}),t[35]=A,t[36]=D):D=t[36],t[37]!==a?(F=a({id:"cu6iol"}),t[37]=a,t[38]=F):F=t[38],t[39]!==o?(E=()=>{o.close()},t[39]=o,t[40]=E):E=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})}),t[41]=M):M=t[41],t[42]!==F||t[43]!==E?(B=(0,Ft.jsx)(Sr,{label:F,size:"small",variant:"solid",color:"secondary",onPress:E,children:M}),t[42]=F,t[43]=E,t[44]=B):B=t[44],t[45]!==L||t[46]!==D||t[47]!==B?(O=(0,Ft.jsxs)(wo.default,{style:L,children:[D,B]}),t[45]=L,t[46]=D,t[47]=B,t[48]=O):O=t[48],t[49]!==v||t[50]!==T||t[51]!==O?(z=(0,Ft.jsxs)(wo.default,{style:f,children:[v,T,O]}),t[49]=v,t[50]=T,t[51]=O,t[52]=z):z=t[52],t[53]!==m||t[54]!==z||t[55]!==p?(H=(0,Ft.jsx)(da,{label:m,style:p,children:z}),t[53]=m,t[54]=z,t[55]=p,t[56]=H):H=t[56],H}function sA(){ys.metric("verification:learn-more",{location:"verifierDialog"})}function nA(e){let t=!1;return"default"===e.profile.role?(e.profile.isVerified||e.profile.isViewer&&e.profile.wasVerified||"verifier"===e.viewer.role&&e.viewer.hasIssuedVerification)&&(t=!0):"verifier"===e.profile.role&&(e.profile.isViewer||e.profile.isVerified)&&(t=!0),e.profile.showBadge||e.profile.isViewer||"verifier"===e.viewer.role&&e.viewer.hasIssuedVerification||(t=!1),t}function oA(e){const t=(0,i.c)(6),{profile:s,size:n}=e;let o;t[0]!==s?(o={profile:s},t[0]=s,t[1]=o):o=t[1];const r=Hk(o);if(nA(r)){let e;return t[2]!==s||t[3]!==n||t[4]!==r?(e=(0,Ft.jsx)(rA,{profile:s,verificationState:r,size:n}),t[2]=s,t[3]=n,t[4]=r,t[5]=e):e=t[5],e}return null}function rA(e){const t=(0,i.c)(34),{profile:s,verificationState:n,size:o}=e,r=ec(),{_:a}=(0,ft.useLingui)(),l=Ar(),c=Ar(),{gtPhone:d}=ql();let u;t[0]!==d||t[1]!==o?(u=12,"lg"===o?u=d?20:18:"md"===o&&(u=16),t[0]=d,t[1]=o,t[2]=u):u=t[2];const m=!n.profile.showBadge&&n.profile.isViewer;let h,p,f,g,x,_,y,b;return t[3]!==a||t[4]!==n.profile.isViewer?(h=n.profile.isViewer?a({id:"M8hO9W"}):a({id:"j0O1By"}),t[3]=a,t[4]=n.profile.isViewer,t[5]=h):h=t[5],t[6]!==n.profile.role||t[7]!==l||t[8]!==c?(p=()=>{ys.metric("verification:badge:click",{}),"verifier"===n.profile.role?c.open():l.open()},t[6]=n.profile.role,t[7]=l,t[8]=c,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[],t[10]=f):f=t[10],t[11]!==u||t[12]!==n.profile.isVerified||t[13]!==n.profile.role||t[14]!==r.atoms||t[15]!==r.palette||t[16]!==m?(g=e=>{const{hovered:t}=e;return(0,Ft.jsx)(wo.default,{style:[kl.justify_end,kl.align_end,kl.transition_transform,{width:u,height:u,transform:[{scale:t?1.1:1}]}],children:(0,Ft.jsx)(Qk,{width:u,fill:m?r.atoms.bg_contrast_100.backgroundColor:n.profile.isVerified?r.palette.primary_500:r.atoms.bg_contrast_100.backgroundColor,verifier:"verifier"===n.profile.role})})},t[11]=u,t[12]=n.profile.isVerified,t[13]=n.profile.role,t[14]=r.atoms,t[15]=r.palette,t[16]=m,t[17]=g):g=t[17],t[18]!==h||t[19]!==p||t[20]!==g?(x=(0,Ft.jsx)(Sr,{label:h,hitSlop:20,onPress:p,style:f,children:g}),t[18]=h,t[19]=p,t[20]=g,t[21]=x):x=t[21],t[22]!==s||t[23]!==n||t[24]!==l?(_=(0,Ft.jsx)($L,{control:l,profile:s,verificationState:n}),t[22]=s,t[23]=n,t[24]=l,t[25]=_):_=t[25],t[26]!==s||t[27]!==n||t[28]!==c?(y=(0,Ft.jsx)(eA,{control:c,profile:s,verificationState:n}),t[26]=s,t[27]=n,t[28]=c,t[29]=y):y=t[29],t[30]!==x||t[31]!==_||t[32]!==y?(b=(0,Ft.jsxs)(Ft.Fragment,{children:[x,_,y]}),t[30]=x,t[31]=_,t[32]=y,t[33]=b):b=t[33],b}function iA({type:e,banner:t,moderation:s,onSelectNewBanner:n}){const o=ec(),{_:r}=(0,ft.useLingui)(),{requestCameraAccessIfNeeded:i}={requestCameraAccessIfNeeded:async()=>!1},{requestPhotoAccessIfNeeded:a}={requestPhotoAccessIfNeeded:async()=>!0},l=tv(),[c,d]=(0,mt.useState)(),u=Ar(),m=(0,mt.useCallback)((async()=>{await i()&&n?.(await Mu(await $u()))}),[n,i]),h=(0,mt.useCallback)((async()=>{if(!await a())return;const e=await l(Ku());if(e[0])try{kt?n?.(await Mu(await Gu(e[0].path))):(d(await Xu(e[0])),u.open())}catch(t){String(t).includes("Canceled")||ys.error("Failed to crop banner",{error:t})}}),[n,a,l,u]),p=(0,mt.useCallback)((()=>{n?.(null)}),[n]),f=(0,mt.useCallback)((async e=>{const t=await sm(e);n?.(t)}),[n]);return n?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(eT,{onKeyDown:!0,children:(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:r({id:"PUv/ZC"}),children:({props:e})=>(0,Ft.jsxs)(tr.default,Object.assign({},e,{testID:"changeBannerBtn",children:[t?(0,Ft.jsx)(SS.Image,{testID:"userBannerImage",style:aA.bannerImage,source:{uri:t},accessible:!0,accessibilityIgnoresInvertColors:!0}):(0,Ft.jsx)(wo.default,{testID:"userBannerFallback",style:[aA.bannerImage,o.atoms.bg_contrast_25]}),(0,Ft.jsx)(wo.default,{style:[aA.editButtonContainer,o.atoms.bg_contrast_25,kl.border,o.atoms.border_contrast_low],children:(0,Ft.jsx)(yS,{height:14,width:14,style:o.atoms.text})})]}))}),(0,Ft.jsxs)(wC,{showCancel:!0,children:[(0,Ft.jsxs)(LC,{children:[kt&&(0,Ft.jsxs)(SC,{testID:"changeBannerCameraBtn",label:r({id:"87sqdq"}),onPress:m,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"87sqdq"})}),(0,Ft.jsx)(CC,{icon:_S})]}),(0,Ft.jsxs)(SC,{testID:"changeBannerLibraryBtn",label:r({id:"gF0jGM"}),onPress:h,children:[(0,Ft.jsx)(kC,{children:kt?(0,Ft.jsx)(ft.Trans,{id:"gF0jGM"}):(0,Ft.jsx)(ft.Trans,{id:"8ssRu1"})}),(0,Ft.jsx)(CC,{icon:bS})]})]}),!!t&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsx)(LC,{children:(0,Ft.jsxs)(SC,{testID:"changeBannerRemoveBtn",label:r({id:"LYtujw"}),onPress:p,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"LYtujw"})}),(0,Ft.jsx)(CC,{icon:jS})]})})]})]})]})}),(0,Ft.jsx)(hS,{control:u,image:c,onChange:f,aspectRatio:3})]}):!t||s?.blur&&St?(0,Ft.jsx)(wo.default,{testID:"userBannerFallback",style:[aA.bannerImage,"labeler"===e?aA.labelerBanner:o.atoms.bg_contrast_25]}):(0,Ft.jsx)(SS.Image,{testID:"userBannerImage",style:[aA.bannerImage,o.atoms.bg_contrast_25],contentFit:"cover",source:{uri:t},blurRadius:s?.blur?100:0,accessible:!0,accessibilityIgnoresInvertColors:!0})}const aA=Gn.default.create({editButtonContainer:{position:"absolute",width:24,height:24,bottom:8,right:24,borderRadius:12,alignItems:"center",justifyContent:"center"},bannerImage:{width:"100%",height:150},labelerBanner:{backgroundColor:Jn}}),lA=64,cA=256,dA=tc.default.get("window").height;function uA(e){const t=(0,i.c)(32),{profile:s,control:n,onUpdate:o}=e,{_:r}=(0,ft.useLingui)(),a=Ar(),[l,c]=(0,mt.useState)(!1);let d,u,m;t[0]!==l?(d=()=>{if(Pt&&l){const e=new AbortController,{signal:t}=e;return window.addEventListener("beforeunload",mA,{signal:t}),()=>{e.abort()}}},u=[l],t[0]=l,t[1]=d,t[2]=u):(d=t[1],u=t[2]),(0,mt.useEffect)(d,u),t[3]!==a||t[4]!==n||t[5]!==l?(m=()=>{l?a.open():n.close()},t[3]=a,t[4]=n,t[5]=l,t[6]=m):m=t[6];const h=m;let p,f,g,x,_,y,b,j;return t[7]!==l?(p={preventDismiss:l,minHeight:dA},t[7]=l,t[8]=p):p=t[8],t[9]!==h||t[10]!==o||t[11]!==s?(f=(0,Ft.jsx)(hA,{profile:s,onUpdate:o,setDirty:c,onPressCancel:h}),t[9]=h,t[10]=o,t[11]=s,t[12]=f):f=t[12],t[13]!==r?(g=r({id:"0EcUWz"}),t[13]=r,t[14]=g):g=t[14],t[15]!==r?(x=r({id:"fgo0YE"}),t[15]=r,t[16]=x):x=t[16],t[17]!==n?(_=()=>n.close(),t[17]=n,t[18]=_):_=t[18],t[19]!==r?(y=r({id:"bzSI52"}),t[19]=r,t[20]=y):y=t[20],t[21]!==a||t[22]!==g||t[23]!==x||t[24]!==_||t[25]!==y?(b=(0,Ft.jsx)(bx,{control:a,title:g,description:x,onConfirm:_,confirmButtonCta:y,confirmButtonColor:"negative"}),t[21]=a,t[22]=g,t[23]=x,t[24]=_,t[25]=y,t[26]=b):b=t[26],t[27]!==n||t[28]!==b||t[29]!==p||t[30]!==f?(j=(0,Ft.jsxs)(aa,{control:n,nativeOptions:p,testID:"editProfileModal",children:[f,b]}),t[27]=n,t[28]=b,t[29]=p,t[30]=f,t[31]=j):j=t[31],j}function mA(e){return e.preventDefault()}function hA({profile:e,onUpdate:t,setDirty:s,onPressCancel:n}){const{_:o}=(0,ft.useLingui)(),r=ec(),i=Lr(),a=Nk({profile:e}),{mutateAsync:l,error:c,isError:d,isPending:u}=pb(),[m,h]=(0,mt.useState)(""),p=e.displayName||"",[f,g]=(0,mt.useState)(p),x=e.description||"",[_,y]=(0,mt.useState)(x),[b,j]=(0,mt.useState)(e.banner),[v,w]=(0,mt.useState)(e.avatar),[S,k]=(0,mt.useState)(),[C,P]=(0,mt.useState)(),T=f!==p||_!==x||v!==e.avatar||b!==e.banner;(0,mt.useEffect)((()=>{s(T)}),[T,s]);const L=(0,mt.useCallback)((e=>{if(h(""),null===e)return P(null),void w(null);try{P(e),w(e.path)}catch(t){h(ds(t))}}),[P,w,h]),A=(0,mt.useCallback)((e=>{if(h(""),!e)return k(null),void j(null);try{k(e),j(e.path)}catch(t){h(ds(t))}}),[k,j,h]),I=(0,mt.useCallback)((async()=>{h("");try{await l({profile:e,updates:{displayName:f.trimEnd(),description:_.trimEnd()},newUserAvatar:C,newUserBanner:S}),t?.(),i.close(),Zu(o({id:"oHq9L3"}))}catch(s){ys.error("Failed to update user profile",{message:String(s)})}}),[l,e,t,i,f,_,C,S,h,o]),R=Rw({text:f,maxCount:lA}),D=Rw({text:_,maxCount:cA}),F=(0,mt.useCallback)((()=>(0,Ft.jsx)(Sr,{label:o({id:"dEgA5A"}),onPress:n,size:"small",color:"primary",variant:"ghost",style:[kl.rounded_full],testID:"editProfileCancelBtn",children:(0,Ft.jsx)(Cr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})})),[n,o]),E=(0,mt.useCallback)((()=>(0,Ft.jsxs)(Sr,{label:o({id:"tfDRzk"}),onPress:I,disabled:!T||u||R||D,size:"small",color:"primary",variant:"ghost",style:[kl.rounded_full],testID:"editProfileSaveBtn",children:[(0,Ft.jsx)(Cr,{style:[kl.text_md,!T&&r.atoms.text_contrast_low],children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),u&&(0,Ft.jsx)(Pr,{icon:wv})]})),[o,r,T,I,u,R,D]);return(0,Ft.jsxs)(da,{label:o({id:"9OpVZg"}),style:[kl.overflow_hidden],contentContainerStyle:[kl.px_0,kl.pt_0],header:(0,Ft.jsx)(Zr,{renderLeft:F,renderRight:E,children:(0,Ft.jsx)(Qr,{children:(0,Ft.jsx)(ft.Trans,{id:"9OpVZg"})})}),children:[(0,Ft.jsxs)(wo.default,{style:[kl.relative],children:[(0,Ft.jsx)(iA,{banner:b,onSelectNewBanner:A}),(0,Ft.jsx)(wo.default,{style:[kl.absolute,{top:80,left:20,width:84,height:84,borderWidth:2,borderRadius:42,borderColor:r.atoms.bg.backgroundColor}],children:(0,Ft.jsx)(hP,{size:80,avatar:v,onSelectNewAvatar:L})})]}),d&&(0,Ft.jsx)(wo.default,{style:[kl.mt_xl],children:(0,Ft.jsx)(Rx,{message:ds(c)})}),""!==m&&(0,Ft.jsx)(wo.default,{style:[kl.mt_xl],children:(0,Ft.jsx)(Rx,{message:m})}),(0,Ft.jsxs)(wo.default,{style:[kl.mt_4xl,kl.px_xl,kl.gap_xl],children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"pfa8F0"})}),(0,Ft.jsx)(Yi,{isInvalid:R,children:(0,Ft.jsx)(ea,{defaultValue:f,onChangeText:g,label:o({id:"pfa8F0"}),placeholder:o({id:"fYOMol"}),testID:"editProfileDisplayNameInput"})}),R&&(0,Ft.jsx)(na,{style:[kl.text_sm,kl.mt_xs,kl.font_bold,{color:r.palette.negative_400}],label:o({id:"cwZEYD"}),children:(0,Ft.jsx)(ft.Trans,{id:"ZucqHq",values:{DISPLAY_NAME_MAX_GRAPHEMES:lA}})})]}),a.isVerified&&"default"===a.role&&f!==p&&(0,Ft.jsx)(Uj,{type:"error",children:(0,Ft.jsx)(ft.Trans,{id:"YApPSH",components:{0:(0,Ft.jsx)(fv,{label:o({id:"zwWKhA"}),to:Zi.website.blog.initialVerificationAnnouncement})}})}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"Nu4oKW"})}),(0,Ft.jsx)(Yi,{isInvalid:D,children:(0,Ft.jsx)(ea,{defaultValue:_,onChangeText:y,multiline:!0,label:o({id:"pfa8F0"}),placeholder:o({id:"HgALhk"}),testID:"editProfileDescriptionInput"})}),D&&(0,Ft.jsx)(na,{style:[kl.text_sm,kl.mt_xs,kl.font_bold,{color:r.palette.negative_400}],label:o({id:"k5X50P"}),children:(0,Ft.jsx)(ft.Trans,{id:"YldCQ6",values:{DESCRIPTION_MAX_GRAPHEMES:cA}})})]})]})]})}function pA(e){const t=(0,i.c)(89),{profile:s}=e,n=ec(),{_:o,i18n:r}=(0,ft.useLingui)(),a=s.followsCount||0;let l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S;if(t[0]!==o||t[1]!==r||t[2]!==s||t[3]!==n.atoms.text||t[4]!==n.atoms.text_contrast_medium||t[5]!==a){d=$S(r,a);const e=s.followersCount||0;let i;t[17]!==r||t[18]!==e?(i=$S(r,e),t[17]=r,t[18]=e,t[19]=i):i=t[19];const y=i;let b;t[20]!==r||t[21]!==s.followersCount?(b=r._({id:"h2wkpN",values:{0:s.followersCount||0}}),t[20]=r,t[21]=s.followersCount,t[22]=b):b=t[22];const j=b;let v,w,S;t[23]!==r||t[24]!==s.followsCount?(v=r._({id:"DabnlM",values:{0:s.followsCount||0}}),t[23]=r,t[24]=s.followsCount,t[25]=v):v=t[25],u=v,c=wo.default,t[26]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_row,kl.gap_sm,kl.align_center],t[26]=g):g=t[26],x="box-none",t[27]!==n.atoms.text?(w=[kl.flex_row,n.atoms.text],t[27]=n.atoms.text,t[28]=w):w=t[28],t[29]!==s?(S=cS(s,"followers"),t[29]=s,t[30]=S):S=t[30];const k=`${y} ${j}`;let C,P,T,L;t[31]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.font_bold,kl.text_md],t[31]=C):C=t[31],t[32]!==y?(P=(0,Ft.jsxs)(fr,{style:C,children:[y," "]}),t[32]=y,t[33]=P):P=t[33],t[34]!==n.atoms.text_contrast_medium?(T=[n.atoms.text_contrast_medium,kl.text_md],t[34]=n.atoms.text_contrast_medium,t[35]=T):T=t[35],t[36]!==j||t[37]!==T?(L=(0,Ft.jsx)(fr,{style:T,children:j}),t[36]=j,t[37]=T,t[38]=L):L=t[38],t[39]!==w||t[40]!==S||t[41]!==k||t[42]!==P||t[43]!==L?(_=(0,Ft.jsxs)(fv,{testID:"profileHeaderFollowersButton",style:w,to:S,label:k,children:[P,L]}),t[39]=w,t[40]=S,t[41]=k,t[42]=P,t[43]=L,t[44]=_):_=t[44],l=fv,m="profileHeaderFollowsButton",t[45]!==n.atoms.text?(h=[kl.flex_row,n.atoms.text],t[45]=n.atoms.text,t[46]=h):h=t[46],t[47]!==s?(p=cS(s,"follows"),t[47]=s,t[48]=p):p=t[48],f=o({id:"0SbcnD",values:{following:d}}),t[0]=o,t[1]=r,t[2]=s,t[3]=n.atoms.text,t[4]=n.atoms.text_contrast_medium,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h,t[12]=p,t[13]=f,t[14]=g,t[15]=x,t[16]=_}else l=t[6],c=t[7],d=t[8],u=t[9],m=t[10],h=t[11],p=t[12],f=t[13],g=t[14],x=t[15],_=t[16];t[49]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.font_bold,kl.text_md],t[49]=y):y=t[49],t[50]!==d?(b=(0,Ft.jsxs)(fr,{style:y,children:[d," "]}),t[50]=d,t[51]=b):b=t[51],t[52]!==n.atoms.text_contrast_medium?(j=[n.atoms.text_contrast_medium,kl.text_md],t[52]=n.atoms.text_contrast_medium,t[53]=j):j=t[53],t[54]!==u||t[55]!==j?(v=(0,Ft.jsx)(fr,{style:j,children:u}),t[54]=u,t[55]=j,t[56]=v):v=t[56],t[57]!==l||t[58]!==b||t[59]!==v||t[60]!==m||t[61]!==h||t[62]!==p||t[63]!==f?(w=(0,Ft.jsxs)(l,{testID:m,style:h,to:p,label:f,children:[b,v]}),t[57]=l,t[58]=b,t[59]=v,t[60]=m,t[61]=h,t[62]=p,t[63]=f,t[64]=w):w=t[64],t[65]!==n.atoms.text?(S=[kl.font_bold,n.atoms.text,kl.text_md],t[65]=n.atoms.text,t[66]=S):S=t[66];const k=s.postsCount||0;let C,P,T,L,A,I;return t[67]!==r||t[68]!==k?(C=$S(r,k),t[67]=r,t[68]=k,t[69]=C):C=t[69],t[70]!==n.atoms.text_contrast_medium?(P=[n.atoms.text_contrast_medium,kl.font_normal,kl.text_md],t[70]=n.atoms.text_contrast_medium,t[71]=P):P=t[71],t[72]!==r||t[73]!==s.postsCount?(T=r._({id:"4e0yr3",values:{0:s.postsCount||0}}),t[72]=r,t[73]=s.postsCount,t[74]=T):T=t[74],t[75]!==P||t[76]!==T?(L=(0,Ft.jsx)(fr,{style:P,children:T}),t[75]=P,t[76]=T,t[77]=L):L=t[77],t[78]!==S||t[79]!==C||t[80]!==L?(A=(0,Ft.jsxs)(fr,{style:S,children:[C," ",L]}),t[78]=S,t[79]=C,t[80]=L,t[81]=A):A=t[81],t[82]!==c||t[83]!==w||t[84]!==A||t[85]!==g||t[86]!==x||t[87]!==_?(I=(0,Ft.jsxs)(c,{style:g,pointerEvents:x,children:[_,w,A]}),t[82]=c,t[83]=w,t[84]=A,t[85]=g,t[86]=x,t[87]=_,t[88]=I):I=t[88],I}function fA(){return(0,mt.useState)(gA)[0]}function gA(){const e=t=>{e.current=t?t._nativeTag??t.__nativeTag??t.canonical?.nativeTag??null:null};return e.current=null,e}const xA={code:"function measureHandle_useHandleRefTs1(current){const{measure}=this.__closure;if(current!==null){return measure(function(){return current;});}else{return null;}}"},_A=function(){const e=function(e){return null!==e?(0,ko.measure)((()=>e)):null};return e.__closure={measure:ko.measure},e.__workletHash=0xad39968b7f1,e.__initData=xA,e}();function yA(e){const t=(0,i.c)(6);let s,n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(bA,Object.assign({},e)),t[1]=e,t[2]=n):n=t[2],t[3]!==e.control||t[4]!==n?(o=(0,Ft.jsxs)(aa,{control:e.control,children:[s,n]}),t[3]=e.control,t[4]=n,t[5]=o):o=t[5],o}function bA(e){const t=(0,i.c)(19),{_:s}=(0,ft.useLingui)(),{currentAccount:n}=xh(),[o,r]=mt.useState(void 0),{labels:a}=e,l="account"===e.type;let c,d;if(n?.did,t[0]!==n?.did||t[1]!==a){let e;t[3]!==n?.did?(e=e=>e.src===n?.did,t[3]=n?.did,t[4]=e):e=t[4],d=a.some(e),t[0]=n?.did,t[1]=a,t[2]=d}else d=t[2];c=d;const u=c;let m,h,p,f;return t[5]!==s||t[6]!==l?(m=s(l?{id:"yTqCUW"}:{id:"ULB0Ox"}),t[5]=s,t[6]=l,t[7]=m):m=t[7],t[8]!==o||t[9]!==u||t[10]!==n?.did||t[11]!==l||t[12]!==a||t[13]!==e.control?(h=o?(0,Ft.jsx)(vA,{label:o,control:e.control,onPressBack:()=>r(void 0)}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_heavy,kl.pb_xs,kl.leading_tight],children:l?(0,Ft.jsx)(ft.Trans,{id:"0xXuqM"}):(0,Ft.jsx)(ft.Trans,{id:"gLA+uA"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:u?(0,Ft.jsx)(ft.Trans,{id:"BUhPgv"}):(0,Ft.jsx)(ft.Trans,{id:"EaUwqE"})}),(0,Ft.jsx)(wo.default,{style:[kl.py_lg,kl.gap_md],children:a.map((t=>(0,Ft.jsx)(jA,{label:t,isSelfLabel:t.src===n?.did,control:e.control,onPressAppeal:r},`${t.val}-${t.src}`)))})]}),t[8]=o,t[9]=u,t[10]=n?.did,t[11]=l,t[12]=a,t[13]=e.control,t[14]=h):h=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ma,{}),t[15]=p):p=t[15],t[16]!==m||t[17]!==h?(f=(0,Ft.jsxs)(da,{label:m,children:[h,p]}),t[16]=m,t[17]=h,t[18]=f):f=t[18],f}function jA(e){const t=(0,i.c)(45),{label:s,isSelfLabel:n,control:o,onPressAppeal:r}=e,a=ec(),{_:l}=(0,ft.useLingui)(),{labeler:c,strings:d}=AS(s);let u;t[0]!==s||t[1]!==c?(u=c?su(c.creator.handle,"@"):s.src,t[0]=s,t[1]=c,t[2]=u):u=t[2];const m=u;let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h={future:!0},t[3]=h):h=t[3];const p=HS(h);let f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;return t[4]!==a.atoms.border_contrast_low?(f=[kl.border,a.atoms.border_contrast_low,kl.rounded_sm,kl.overflow_hidden],t[4]=a.atoms.border_contrast_low,t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.p_md,kl.gap_sm,kl.flex_row],t[6]=g):g=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_1,kl.gap_xs],t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.font_bold,kl.text_md],t[8]=_):_=t[8],t[9]!==d.name?(y=(0,Ft.jsx)(fr,{emoji:!0,style:_,children:d.name}),t[9]=d.name,t[10]=y):y=t[10],t[11]!==a.atoms.text_contrast_medium?(b=[a.atoms.text_contrast_medium,kl.leading_snug],t[11]=a.atoms.text_contrast_medium,t[12]=b):b=t[12],t[13]!==d.description||t[14]!==b?(j=(0,Ft.jsx)(fr,{emoji:!0,style:b,children:d.description}),t[13]=d.description,t[14]=b,t[15]=j):j=t[15],t[16]!==y||t[17]!==j?(v=(0,Ft.jsxs)(wo.default,{style:x,children:[y,j]}),t[16]=y,t[17]=j,t[18]=v):v=t[18],t[19]!==l||t[20]!==n||t[21]!==s||t[22]!==r?(w=!n&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"small",label:l({id:"U0Di/P"}),onPress:()=>r(s),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"U0Di/P"})})})}),t[19]=l,t[20]=n,t[21]=s,t[22]=r,t[23]=w):w=t[23],t[24]!==v||t[25]!==w?(S=(0,Ft.jsxs)(wo.default,{style:g,children:[v,w]}),t[24]=v,t[25]=w,t[26]=S):S=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(Iv,{}),t[27]=k):k=t[27],t[28]!==a.atoms.bg_contrast_25?(C=[kl.px_md,kl.py_sm,a.atoms.bg_contrast_25],t[28]=a.atoms.bg_contrast_25,t[29]=C):C=t[29],t[30]!==o||t[31]!==n||t[32]!==s||t[33]!==c||t[34]!==m||t[35]!==a.atoms.text_contrast_medium||t[36]!==p?(P=n?(0,Ft.jsx)(fr,{style:[a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"cyoHsh"})}):(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_between,kl.gap_xl,{paddingBottom:1}],children:[(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.leading_snug,a.atoms.text_contrast_medium],numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"hINgTt",values:{sourceName:m},components:{0:(0,Ft.jsx)(fv,{label:m,to:cS(c?c.creator:{did:s.src,handle:""}),onPress:()=>o.close()})}})}),s.exp&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.text_sm,kl.italic,a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"p6Htf2",values:{0:p(Date.now(),s.exp)}})})})]}),t[30]=o,t[31]=n,t[32]=s,t[33]=c,t[34]=m,t[35]=a.atoms.text_contrast_medium,t[36]=p,t[37]=P):P=t[37],t[38]!==C||t[39]!==P?(T=(0,Ft.jsx)(wo.default,{style:C,children:P}),t[38]=C,t[39]=P,t[40]=T):T=t[40],t[41]!==S||t[42]!==T||t[43]!==f?(L=(0,Ft.jsxs)(wo.default,{style:f,children:[S,k,T]}),t[41]=S,t[42]=T,t[43]=f,t[44]=L):L=t[44],L}function vA(e){const t=(0,i.c)(93),{label:s,control:n,onPressBack:o}=e,{_:r}=(0,ft.useLingui)(),{labeler:a,strings:l}=AS(s),{gtMobile:c}=ql(),[d,u]=mt.useState("");let m;t[0]!==s?(m={label:s},t[0]=s,t[1]=m):m=t[1];const{subject:h}=function({label:e}){return mt.useMemo((()=>{const{cid:t,uri:s}=e;return t?{subject:{uri:s,cid:t}}:{subject:{did:s}}}),[e])}(m),p="did"in h,f=bh();let g;t[2]!==s||t[3]!==a?(g=a?su(a.creator.handle,"@"):s.src,t[2]=s,t[3]=a,t[4]=g):g=t[4];const x=g;let _,y,b,j;t[5]!==f||t[6]!==d||t[7]!==p||t[8]!==s||t[9]!==h?(_=async()=>{const e=p?"com.atproto.admin.defs#repoRef":"com.atproto.repo.strongRef";await f.createModerationReport({reasonType:Is.ComAtprotoModerationDefs.REASONAPPEAL,subject:Object.assign({$type:e},h),reason:d},{encoding:"application/json",headers:{"atproto-proxy":`${s.src}#atproto_labeler`}})},t[5]=f,t[6]=d,t[7]=p,t[8]=s,t[9]=h,t[10]=_):_=t[10],t[11]!==r?(y=e=>{ys.error("Failed to submit label appeal",{message:e}),Zu(r({id:"weFIXk"}),"xmark")},t[11]=r,t[12]=y):y=t[12],t[13]!==r||t[14]!==n?(b=()=>{n.close(),Zu(r({id:"tk78Wd"}))},t[13]=r,t[14]=n,t[15]=b):b=t[15],t[16]!==_||t[17]!==y||t[18]!==b?(j={mutationFn:_,onError:y,onSuccess:b},t[16]=_,t[17]=y,t[18]=b,t[19]=j):j=t[19];const{mutate:v,isPending:w}=(0,Sd.useMutation)(j);let S;t[20]!==v?(S=()=>v(),t[20]=v,t[21]=S):S=t[21];const k=S;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee;return t[22]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.text_2xl,kl.font_bold,kl.pb_xs,kl.leading_tight],t[22]=C):C=t[22],t[23]!==l.name?(P=(0,Ft.jsx)(fr,{style:C,children:(0,Ft.jsx)(ft.Trans,{id:"/AiU3N",values:{0:l.name}})}),t[23]=l.name,t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.text_md,kl.leading_snug],t[25]=T):T=t[25],t[26]!==x?(L={sourceName:x},t[26]=x,t[27]=L):L=t[27],t[28]!==s||t[29]!==a?(A=a?a.creator:{did:s.src,handle:""},t[28]=s,t[29]=a,t[30]=A):A=t[30],t[31]!==A?(I=cS(A),t[31]=A,t[32]=I):I=t[32],t[33]!==n?(R=()=>n.close(),t[33]=n,t[34]=R):R=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.text_md,kl.leading_snug],t[35]=D):D=t[35],t[36]!==x||t[37]!==I||t[38]!==R?(F={0:(0,Ft.jsx)(fv,{label:x,to:I,onPress:R,style:D})},t[36]=x,t[37]=I,t[38]=R,t[39]=F):F=t[39],t[40]!==L||t[41]!==F?(E=(0,Ft.jsx)(fr,{style:T,children:(0,Ft.jsx)(ft.Trans,{id:"0y4vp3",values:L,components:F})}),t[40]=L,t[41]=F,t[42]=E):E=t[42],t[43]!==E||t[44]!==P?(M=(0,Ft.jsxs)(wo.default,{children:[P,E]}),t[43]=E,t[44]=P,t[45]=M):M=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(B=[kl.my_md],t[46]=B):B=t[46],t[47]!==r?(O=r({id:"p8Iz39"}),t[47]=r,t[48]=O):O=t[48],t[49]!==s||t[50]!==a?(z=a?su(a.creator.handle,"@"):s.src,t[49]=s,t[50]=a,t[51]=z):z=t[51],t[52]!==r||t[53]!==z?(H=r({id:"YROfa6",values:{0:z}}),t[52]=r,t[53]=z,t[54]=H):H=t[54],t[55]!==d||t[56]!==O||t[57]!==H?(N=(0,Ft.jsx)(wo.default,{style:B,children:(0,Ft.jsx)(ea,{label:O,placeholder:H,value:d,onChangeText:u,autoFocus:!0,numberOfLines:3,multiline:!0,maxLength:300})}),t[55]=d,t[56]=O,t[57]=H,t[58]=N):N=t[58],t[59]!==c?(V=c?[kl.flex_row,kl.justify_between]:[{flexDirection:"column-reverse"},kl.gap_sm],t[59]=c,t[60]=V):V=t[60],t[61]!==r?(q=r({id:"iH8pgl"}),t[61]=r,t[62]=q):q=t[62],t[63]!==r?(U=r({id:"iH8pgl"}),t[63]=r,t[64]=U):U=t[64],t[65]!==U?(W=(0,Ft.jsx)(Cr,{children:U}),t[65]=U,t[66]=W):W=t[66],t[67]!==o||t[68]!==q||t[69]!==W?(Z=(0,Ft.jsx)(Sr,{testID:"backBtn",variant:"solid",color:"secondary",size:"large",onPress:o,label:q,children:W}),t[67]=o,t[68]=q,t[69]=W,t[70]=Z):Z=t[70],t[71]!==r?(Q=r({id:"hQRttt"}),t[71]=r,t[72]=Q):Q=t[72],t[73]!==r?(K=r({id:"hQRttt"}),t[73]=r,t[74]=K):K=t[74],t[75]!==K?($=(0,Ft.jsx)(Cr,{children:K}),t[75]=K,t[76]=$):$=t[76],t[77]!==w?(G=w&&(0,Ft.jsx)(Pr,{icon:wv}),t[77]=w,t[78]=G):G=t[78],t[79]!==k||t[80]!==Q||t[81]!==$||t[82]!==G?(Y=(0,Ft.jsxs)(Sr,{testID:"submitBtn",variant:"solid",color:"primary",size:"large",onPress:k,label:Q,children:[$,G]}),t[79]=k,t[80]=Q,t[81]=$,t[82]=G,t[83]=Y):Y=t[83],t[84]!==V||t[85]!==Z||t[86]!==Y?(J=(0,Ft.jsxs)(wo.default,{style:V,children:[Z,Y]}),t[84]=V,t[85]=Z,t[86]=Y,t[87]=J):J=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(X=St&&(0,Ft.jsx)(wo.default,{style:{height:300}}),t[88]=X):X=t[88],t[89]!==M||t[90]!==N||t[91]!==J?(ee=(0,Ft.jsxs)(Ft.Fragment,{children:[M,N,J,X]}),t[89]=M,t[90]=N,t[91]=J,t[92]=ee):ee=t[92],ee}function wA(e){const t=(0,i.c)(26);let{type:s,labels:n,size:o,style:r}=e;const{_:a}=(0,ft.useLingui)(),{currentAccount:l}=xh(),c=Ar();if(!n||!l)return null;let d,u,m;if(t[0]!==n?(d=n.filter(SA),t[0]=n,t[1]=d):d=t[1],n=d,!n.length)return null;t[2]!==r?(u=[kl.flex_row,r],t[2]=r,t[3]=u):u=t[3],t[4]!==c||t[5]!==n||t[6]!==s?(m=(0,Ft.jsx)(yA,{control:c,labels:n,type:s}),t[4]=c,t[5]=n,t[6]=s,t[7]=m):m=t[7];const h=o||"small";let p,f,g,x,_,y,b;return t[8]!==a?(p=a({id:"RTblld"}),t[8]=a,t[9]=p):p=t[9],t[10]!==c?(f=()=>{c.open()},t[10]=c,t[11]=f):f=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Pr,{position:"left",icon:Ij}),t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.leading_snug],t[13]=x):x=t[13],t[14]!==n.length||t[15]!==s?(_=(0,Ft.jsx)(Cr,{style:x,children:"account"===s?(0,Ft.jsx)(ft.Trans,{id:"WpOWPz",values:{0:n.length}}):(0,Ft.jsx)(ft.Trans,{id:"lQ9kih",values:{0:n.length}})}),t[14]=n.length,t[15]=s,t[16]=_):_=t[16],t[17]!==h||t[18]!==p||t[19]!==f||t[20]!==_?(y=(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:h,label:p,onPress:f,children:[g,_]}),t[17]=h,t[18]=p,t[19]=f,t[20]=_,t[21]=y):y=t[21],t[22]!==y||t[23]!==u||t[24]!==m?(b=(0,Ft.jsxs)(wo.default,{style:u,children:[m,y]}),t[22]=y,t[23]=u,t[24]=m,t[25]=b):b=t[25],b}function SA(e){return!e.val.startsWith("!")}function kA(e){const t=(0,i.c)(3),{post:s,style:n}=e,{currentAccount:o}=xh();if(s.author.did!==o?.did)return null;let r;return t[0]!==s.labels||t[1]!==n?(r=(0,Ft.jsx)(wA,{type:"content",labels:s.labels,size:"tiny",style:n}),t[0]=s.labels,t[1]=n,t[2]=r):r=t[2],r}function CA(e){const t=(0,i.c)(11),{moderation:s}=e;let n,o,r,a,l,c;if(t[0]!==s){l=Symbol.for("react.early_return_sentinel");{const e=s.ui("profileView");e.alert||e.inform?(n=qS,o="lg",r=e.alerts.filter(tg).map(TA),a=e.informs.filter(tg).map(PA)):l=null}t[0]=s,t[1]=n,t[2]=o,t[3]=r,t[4]=a,t[5]=l}else n=t[1],o=t[2],r=t[3],a=t[4],l=t[5];return l!==Symbol.for("react.early_return_sentinel")?l:(t[6]!==n||t[7]!==o||t[8]!==r||t[9]!==a?(c=(0,Ft.jsxs)(n,{size:o,children:[r,a]}),t[6]=n,t[7]=o,t[8]=r,t[9]=a,t[10]=c):c=t[10],c)}function PA(e){return(0,Ft.jsx)(US,{size:"lg",cause:e},Gf(e))}function TA(e){return(0,Ft.jsx)(US,{size:"lg",cause:e},Gf(e))}const LA=mt.createContext(null);function AA(){const e=(0,mt.useContext)(LA);if(kt){if(!e)throw new Error("usePagerHeaderContext must be used within a HeaderProvider");return e}return null}function IA(e){const t=(0,i.c)(7),{children:s,style:n}=e,o=AA();if(!o||!wt){let e;return t[0]!==s||t[1]!==n?(e=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[0]=s,t[1]=n,t[2]=e):e=t[2],e}const{scrollY:r}=o;let a;return t[3]!==s||t[4]!==r||t[5]!==n?(a=(0,Ft.jsx)(DA,{scrollY:r,style:n,children:s}),t[3]=s,t[4]=r,t[5]=n,t[6]=a):a=t[6],a}const RA={code:"function GrowableAvatarTsx1(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{scale:interpolate(scrollY.get(),[-150,0],[1.2,1],{extrapolateRight:Extrapolation.CLAMP})}]};}"};function DA(e){const t=(0,i.c)(7),{scrollY:s,children:n,style:o}=e,r=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:(0,ko.interpolate)(s.get(),[-150,0],[1.2,1],{extrapolateRight:ko.Extrapolation.CLAMP})}]});return e.__closure={interpolate:ko.interpolate,scrollY:s,Extrapolation:ko.Extrapolation},e.__workletHash=5068968475228,e.__initData=RA,e}());let a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a={transformOrigin:"bottom left"},t[0]=a):a=t[0],t[1]!==r||t[2]!==o?(l=[o,a,r],t[1]=r,t[2]=o,t[3]=l):l=t[3],t[4]!==n||t[5]!==l?(c=(0,Ft.jsx)(ko.default.View,{style:l,children:n}),t[4]=n,t[5]=l,t[6]=c):c=t[6],c}var FA=s(51949),EA=s(82465);const MA="profile-feedgens",BA=e=>[MA,e];function OA(e){return e.cursor}function zA(e,t){return(t.likeCount||0)-(e.likeCount||0)}const HA=ko.default.createAnimatedComponent(FA.default);function NA(e){const t=(0,i.c)(8),{backButton:s,children:n}=e,o=AA();if(!o||!wt){let e,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.w_full,kl.h_full],t[0]=e):e=t[0],t[1]!==s||t[2]!==n?(o=(0,Ft.jsxs)(wo.default,{style:e,children:[n,s]}),t[1]=s,t[2]=n,t[3]=o):o=t[3],o}const{scrollY:r}=o;let a;return t[4]!==s||t[5]!==n||t[6]!==r?(a=(0,Ft.jsx)(ZA,{scrollY:r,backButton:s,children:n}),t[4]=s,t[5]=n,t[6]=r,t[7]=a):a=t[7],a}const VA={code:"function GrowableBannerTsx1(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{scale:interpolate(scrollY.get(),[-150,0],[2,1],{extrapolateRight:Extrapolation.CLAMP})}]};}"},qA={code:"function GrowableBannerTsx2(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{intensity:interpolate(scrollY.get(),[-300,-65,-15],[50,40,0],Extrapolation.CLAMP)};}"},UA={code:'function GrowableBannerTsx3(){const{scrollY,interpolate,Extrapolation}=this.__closure;const scrollYValue=scrollY.get();return{display:scrollYValue<0?"flex":"none",opacity:interpolate(scrollYValue,[-60,-15],[1,0],Extrapolation.CLAMP),transform:[{translateY:interpolate(scrollYValue,[-150,0],[-75,0])},{rotate:"90deg"}]};}'},WA={code:"function GrowableBannerTsx4(){const{interpolate,scrollY,Extrapolation}=this.__closure;return{transform:[{translateY:interpolate(scrollY.get(),[-150,10],[-150,10],{extrapolateRight:Extrapolation.CLAMP})}]};}"};function ZA(e){const t=(0,i.c)(37),{scrollY:s,backButton:n,children:o}=e,{top:r}=(0,pt.useSafeAreaInsets)(),a=function(){const e=(0,i.c)(4);let t,s,n,o;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:[Hx]},e[0]=t):t=e[0];e[1]===Symbol.for("react.memo_cache_sentinel")?(s={queryKey:[MA]},e[1]=s):s=e[1];e[2]===Symbol.for("react.memo_cache_sentinel")?(n={queryKey:[qw]},e[2]=n):n=e[2];e[3]===Symbol.for("react.memo_cache_sentinel")?(o={queryKey:[ik]},e[3]=o):o=e[3];return[(0,EA.useIsFetching)(t),(0,EA.useIsFetching)(s),(0,EA.useIsFetching)(n),(0,EA.useIsFetching)(o)].some(QA)}();let l;t[0]!==a||t[1]!==s?(l={isFetching:a,scrollY:s},t[0]=a,t[1]=s,t[2]=l):l=t[2];const c=function(e){const{isFetching:t,scrollY:s}=e,[n,o]=(0,mt.useState)(!1),r=function(e,t){const s=(0,i.c)(4),[n,o]=(0,mt.useState)(e),[r,a]=(0,mt.useState)(!1);let l,c;s[0]!==t||s[1]!==r?(l=()=>{if(r){const e=setTimeout((()=>a(!1)),t);return()=>clearTimeout(e)}},c=[r,t],s[0]=t,s[1]=r,s[2]=l,s[3]=c):(l=s[2],c=s[3]);if((0,mt.useEffect)(l,c),e!==n)return a(n),o(e),!!n||e;return!!r||e}(n,10);(0,ko.useAnimatedReaction)(function(){const e=()=>s.get()<-5;return e.__closure={scrollY:s},e.__workletHash=0xe0bb91e94cb,e.__initData=KA,e}(),function(){const e=function(e,t){e!==t&&(0,ko.runOnJS)(o)(e)};return e.__closure={runOnJS:ko.runOnJS,setIsOverscrolled:o},e.__workletHash=5183372298461,e.__initData=$A,e}(),[s]);const[a,l]=(0,mt.useState)(t);t&&!a&&l(!0);t||!a||r||l(!1);return a}(l),d=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:(0,ko.interpolate)(s.get(),[-150,0],[2,1],{extrapolateRight:ko.Extrapolation.CLAMP})}]});return e.__closure={interpolate:ko.interpolate,scrollY:s,Extrapolation:ko.Extrapolation},e.__workletHash=0xcfee82811e6,e.__initData=VA,e}()),u=(0,ko.useAnimatedProps)(function(){const e=()=>({intensity:(0,ko.interpolate)(s.get(),[-300,-65,-15],[50,40,0],ko.Extrapolation.CLAMP)});return e.__closure={interpolate:ko.interpolate,scrollY:s,Extrapolation:ko.Extrapolation},e.__workletHash=8363104268195,e.__initData=qA,e}()),m=(0,ko.useAnimatedStyle)(function(){const e=function(){const e=s.get();return{display:e<0?"flex":"none",opacity:(0,ko.interpolate)(e,[-60,-15],[1,0],ko.Extrapolation.CLAMP),transform:[{translateY:(0,ko.interpolate)(e,[-150,0],[-75,0])},{rotate:"90deg"}]}};return e.__closure={scrollY:s,interpolate:ko.interpolate,Extrapolation:ko.Extrapolation},e.__workletHash=0xc87bf69ccad,e.__initData=UA,e}()),h=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:(0,ko.interpolate)(s.get(),[-150,10],[-150,10],{extrapolateRight:ko.Extrapolation.CLAMP})}]});return e.__closure={interpolate:ko.interpolate,scrollY:s,Extrapolation:ko.Extrapolation},e.__workletHash=1954760959182,e.__initData=WA,e}());let p,f,g,x,_,y,b;t[3]===Symbol.for("react.memo_cache_sentinel")?(p={left:0,right:0,bottom:0},f={height:150},g={transformOrigin:"bottom"},t[3]=p,t[4]=f,t[5]=g):(p=t[3],f=t[4],g=t[5]),t[6]!==d?(x=[kl.absolute,p,f,g,d],t[6]=d,t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.absolute,kl.inset_0],t[8]=_):_=t[8],t[9]!==u?(y=(0,Ft.jsx)(HA,{style:_,tint:"dark",animatedProps:u}),t[9]=u,t[10]=y):y=t[10],t[11]!==o||t[12]!==x||t[13]!==y?(b=(0,Ft.jsxs)(ko.default.View,{style:x,children:[o,y]}),t[11]=o,t[12]=x,t[13]=y,t[14]=b):b=t[14];const j=r-(wt?15:0);let v,w;t[15]!==j?(v=[kl.absolute,kl.inset_0,{top:j},kl.justify_center,kl.align_center],t[15]=j,t[16]=v):v=t[16],t[17]!==m?(w=[m],t[17]=m,t[18]=w):w=t[18];const S=c?"spin":"stop";let k,C,P,T,L,A;return t[19]!==c||t[20]!==S?(k=(0,Ft.jsx)(Fx.default,{size:"large",color:"white",animating:c,hidesWhenStopped:!1},S),t[19]=c,t[20]=S,t[21]=k):k=t[21],t[22]!==w||t[23]!==k?(C=(0,Ft.jsx)(ko.default.View,{style:w,children:k}),t[22]=w,t[23]=k,t[24]=C):C=t[24],t[25]!==v||t[26]!==C?(P=(0,Ft.jsx)(wo.default,{style:v,children:C}),t[25]=v,t[26]=C,t[27]=P):P=t[27],t[28]!==h?(T=[h],t[28]=h,t[29]=T):T=t[29],t[30]!==n||t[31]!==T?(L=(0,Ft.jsx)(ko.default.View,{style:T,children:n}),t[30]=n,t[31]=T,t[32]=L):L=t[32],t[33]!==P||t[34]!==L||t[35]!==b?(A=(0,Ft.jsxs)(Ft.Fragment,{children:[b,P,L]}),t[33]=P,t[34]=L,t[35]=b,t[36]=A):A=t[36],A}function QA(e){return e}const KA={code:"function GrowableBannerTsx5(){const{scrollY}=this.__closure;return scrollY.get()<-5;}"},$A={code:"function GrowableBannerTsx6(value,prevValue){const{runOnJS,setIsOverscrolled}=this.__closure;if(value!==prevValue){runOnJS(setIsOverscrolled)(value);}}"};function GA(){return null}const YA={code:"function ShellTsx1(){const{measureHandle,aviHandle,runOnJS,_openLightbox,avatar}=this.__closure;const rect=measureHandle(aviHandle);runOnJS(_openLightbox)(avatar,rect);}"};let JA=e=>{const t=(0,i.c)(81),{children:s,profile:n,moderation:o,hideBackButton:r,isPlaceholderProfile:a}=e,l=void 0!==r&&r,c=ec(),{currentAccount:d}=xh(),{_:u}=(0,ft.useLingui)(),{openLightbox:m}=Hd(),h=(0,va.useNavigation)(),{top:p}=(0,pt.useSafeAreaInsets)(),f=lS(),g=Ar(),x=fA();let _;t[0]!==h?(_=()=>{h.canGoBack()?h.goBack():h.navigate("Home")},t[0]=h,t[1]=_):_=t[1];const y=_;let b;t[2]!==m?(b=(e,t)=>{m({images:[{uri:e,thumbUri:e,thumbRect:t,dimensions:{height:1e3,width:1e3},thumbDimensions:null,type:"circle-avi"}],index:0})},t[2]=m,t[3]=b):b=t[3];const j=b;let v;v=d?.did===n.did;const w=v,S=nS(n);let k,C,P;t[4]!==S.isActive||t[5]!==n.did?(k=()=>{S.isActive&&ys.metric("live:view:profile",{subject:n.did})},C=[S.isActive,n.did],t[4]=S.isActive,t[5]=n.did,t[6]=k,t[7]=C):(k=t[6],C=t[7]),(0,mt.useEffect)(k,C),t[8]!==j||t[9]!==x||t[10]!==S.isActive||t[11]!==g||t[12]!==o||t[13]!==f||t[14]!==n.avatar||t[15]!==n.did?(P=()=>{if(S.isActive)f("Light"),ys.metric("live:card:open",{subject:n.did,from:"profile"}),g.open();else{const e=o.ui("avatar"),t=n.avatar;if(t&&(!e.blur||!e.noOverride)){const e=x.current;(0,ko.runOnUI)(function(){const s=function(){const s=_A(e);(0,ko.runOnJS)(j)(t,s)};return s.__closure={measureHandle:_A,aviHandle:e,runOnJS:ko.runOnJS,_openLightbox:j,avatar:t},s.__workletHash=5840395231995,s.__initData=YA,s}())()}}},t[8]=j,t[9]=x,t[10]=S.isActive,t[11]=g,t[12]=o,t[13]=f,t[14]=n.avatar,t[15]=n.did,t[16]=P):P=t[16];const T=P,L=c.atoms.bg;let A,I,R,D,F,E,M,B;t[17]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.relative,{height:150}],A=(0,Ft.jsx)(GA,{}),t[17]=A,t[18]=I):(A=t[17],I=t[18]),t[19]!==u||t[20]!==l||t[21]!==y||t[22]!==p?(R=!l&&(0,Ft.jsx)(Ao.default,{testID:"profileHeaderBackBtn",onPress:y,hitSlop:Pi,accessibilityRole:"button",accessibilityLabel:u({id:"iH8pgl"}),accessibilityHint:"",children:(0,Ft.jsx)(wo.default,{style:[XA.backBtnWrapper,{top:vo({web:10,default:p})}],children:(0,Ft.jsx)(sl,{size:"lg",fill:"white"})})}),t[19]=u,t[20]=l,t[21]=y,t[22]=p,t[23]=R):R=t[23],t[24]!==R?(D=(0,Ft.jsx)(Ft.Fragment,{children:R}),t[24]=R,t[25]=D):D=t[25],t[26]!==a||t[27]!==o||t[28]!==n.associated?.labeler||t[29]!==n.banner?(F=a?(0,Ft.jsx)(vT,{width:"100%",height:"100%",style:{borderRadius:0}}):(0,Ft.jsx)(iA,{type:n.associated?.labeler?"labeler":"default",banner:n.banner,moderation:o.ui("banner")}),t[26]=a,t[27]=o,t[28]=n.associated?.labeler,t[29]=n.banner,t[30]=F):F=t[30],t[31]!==D||t[32]!==F?(E=(0,Ft.jsxs)(wo.default,{pointerEvents:wt?"auto":"box-none",style:I,children:[A,(0,Ft.jsx)(NA,{backButton:D,children:F})]}),t[31]=D,t[32]=F,t[33]=E):E=t[33],t[34]!==w||t[35]!==a||t[36]!==o||t[37]!==n.labels?(M=!a&&(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.py_xs],pointerEvents:wt?"auto":"box-none",children:w?(0,Ft.jsx)(wA,{type:"account",labels:n.labels}):(0,Ft.jsx)(CA,{moderation:o})}),t[34]=w,t[35]=a,t[36]=o,t[37]=n.labels,t[38]=M):M=t[38],t[39]!==u||t[40]!==n.handle?(B=u({id:"gVbPjF",values:{0:n.handle}}),t[39]=u,t[40]=n.handle,t[41]=B):B=t[41];const O=S.isActive?3:2,z=S.isActive?c.palette.negative_500:c.atoms.bg.backgroundColor;let H;t[42]!==O||t[43]!==z?(H={borderWidth:O,borderColor:z},t[42]=O,t[43]=z,t[44]=H):H=t[44];const N=n.associated?.labeler&&XA.aviLabeler;let V;t[45]!==c.atoms.bg||t[46]!==H||t[47]!==N?(V=[c.atoms.bg,kl.rounded_full,H,XA.avi,N],t[45]=c.atoms.bg,t[46]=H,t[47]=N,t[48]=V):V=t[48];const q=n.associated?.labeler?"labeler":"user",U=S.isActive?88:90,W=n.avatar;let Z,Q,K,$,G,Y,J,X;return t[49]!==o?(Z=o.ui("avatar"),t[49]=o,t[50]=Z):Z=t[50],t[51]!==n.avatar||t[52]!==q||t[53]!==U||t[54]!==Z?(Q=(0,Ft.jsx)(mP,{type:q,size:U,avatar:W,moderation:Z}),t[51]=n.avatar,t[52]=q,t[53]=U,t[54]=Z,t[55]=Q):Q=t[55],t[56]!==S.isActive?(K=S.isActive&&(0,Ft.jsx)(wS,{size:"large"}),t[56]=S.isActive,t[57]=K):K=t[57],t[58]!==x||t[59]!==Q||t[60]!==K?($=(0,Ft.jsxs)(wo.default,{ref:x,collapsable:!1,children:[Q,K]}),t[58]=x,t[59]=Q,t[60]=K,t[61]=$):$=t[61],t[62]!==V||t[63]!==$?(G=(0,Ft.jsx)(wo.default,{style:V,children:$}),t[62]=V,t[63]=$,t[64]=G):G=t[64],t[65]!==T||t[66]!==B||t[67]!==G?(Y=(0,Ft.jsx)(IA,{style:XA.aviPosition,children:(0,Ft.jsx)(Ao.default,{testID:"profileHeaderAviButton",onPress:T,accessibilityRole:"image",accessibilityLabel:B,accessibilityHint:"",children:G})}),t[65]=T,t[66]=B,t[67]=G,t[68]=Y):Y=t[68],t[69]!==w||t[70]!==S||t[71]!==g||t[72]!==n?(J=S.isActive&&(w?(0,Ft.jsx)(qT,{control:g,status:S,embed:S.embed}):(0,Ft.jsx)(oP,{control:g,status:S,embed:S.embed,profile:n})),t[69]=w,t[70]=S,t[71]=g,t[72]=n,t[73]=J):J=t[73],t[74]!==s||t[75]!==c.atoms.bg||t[76]!==E||t[77]!==M||t[78]!==Y||t[79]!==J?(X=(0,Ft.jsxs)(wo.default,{style:L,pointerEvents:wt?"auto":"box-none",children:[E,s,M,Y,J]}),t[74]=s,t[75]=c.atoms.bg,t[76]=E,t[77]=M,t[78]=Y,t[79]=J,t[80]=X):X=t[80],X};JA=(0,mt.memo)(JA);const XA=Gn.default.create({backBtnWrapper:{position:"absolute",left:10,width:30,height:30,overflow:"hidden",borderRadius:15,cursor:"pointer",backgroundColor:"rgba(0, 0, 0, 0.5)",alignItems:"center",justifyContent:"center"},backBtn:{width:30,height:30,borderRadius:15,alignItems:"center",justifyContent:"center"},aviPosition:{position:"absolute",top:110,left:10},avi:{width:94,height:94},aviLabeler:{borderRadius:10}});let eI=({profile:e,descriptionRT:t,moderationOpts:s,hideBackButton:n=!1,isPlaceholderProfile:o})=>{const r=ec(),{gtMobile:i}=ql(),a=Ry(e),{currentAccount:l,hasSession:c}=xh(),{_:d}=(0,ft.useLingui)(),u=(0,mt.useMemo)((()=>(0,Is.moderateProfile)(a,s)),[a,s]),[m,h]=fb(a,"ProfileHeader"),[p,f]=bb(a),g=Ar(),x=yh(),_=a.viewer?.blocking||a.viewer?.blockedBy||a.viewer?.blockingByList,y=Ar(),b=mt.useCallback((async()=>{try{await f(),Zu(d({id:"AGD0Zy"}))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to unblock account",{message:e}),Zu(d({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}}),[d,f]),j=mt.useMemo((()=>l?.did===a.did),[l,a]),{isActive:v}=nS(a);return(0,Ft.jsxs)(JA,{profile:a,moderation:u,hideBackButton:n,isPlaceholderProfile:o,children:[(0,Ft.jsxs)(wo.default,{style:[kl.px_lg,kl.pt_md,kl.pb_sm,kl.overflow_hidden],pointerEvents:wt?"auto":"box-none",children:[(0,Ft.jsxs)(wo.default,{style:[{paddingLeft:90},kl.flex_row,kl.align_center,kl.justify_end,kl.gap_xs,kl.pb_sm,kl.flex_wrap],pointerEvents:wt?"auto":"box-none",children:[j?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,{testID:"profileHeaderEditProfileButton",size:"small",color:"secondary",variant:"solid",onPress:y.open,label:d({id:"9OpVZg"}),style:[kl.rounded_full],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"QJQd1J"})})}),(0,Ft.jsx)(uA,{profile:a,control:y})]}):a.viewer?.blocking?a.viewer?.blockingByList?null:(0,Ft.jsx)(Sr,{testID:"unblockBtn",size:"small",color:"secondary",variant:"solid",label:d({id:"tuS5Jz"}),disabled:!c,onPress:()=>g.open(),style:[kl.rounded_full],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6bv+qy"})})}):a.viewer?.blockedBy?null:(0,Ft.jsxs)(Ft.Fragment,{children:[c&&(0,Ft.jsx)(QL,{profile:a}),(0,Ft.jsxs)(Sr,{testID:a.viewer?.following?"unfollowBtn":"followBtn",size:"small",color:a.viewer?.following?"secondary":"primary",variant:"solid",label:a.viewer?.following?d({id:"5fbwQz",values:{0:a.handle}}):d({id:"bjYkUM",values:{0:a.handle}}),onPress:a.viewer?.following?()=>{x((async()=>{try{await h(),Zu(d({id:"breD6O",values:{0:Qf(a.displayName||a.handle,u.ui("displayName"))}}))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to unfollow",{message:String(e)}),Zu(d({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}}))}:()=>{x((async()=>{try{await m(),Zu(d({id:"qrhIYl",values:{0:Qf(a.displayName||a.handle,u.ui("displayName"))}}))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to follow",{message:String(e)}),Zu(d({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}}))},style:[kl.rounded_full],children:[!a.viewer?.following&&(0,Ft.jsx)(Pr,{position:"left",icon:kS}),(0,Ft.jsx)(Cr,{children:a.viewer?.following?(0,Ft.jsx)(ft.Trans,{id:"y6sq5j"}):a.viewer?.followedBy?(0,Ft.jsx)(ft.Trans,{id:"S3iVwO"}):(0,Ft.jsx)(ft.Trans,{id:"MKEPCY"})})]})]}),(0,Ft.jsx)(EL,{profile:a})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_col,kl.gap_2xs,kl.pb_sm,v?kl.pt_sm:kl.pt_2xs],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs,kl.flex_1],children:(0,Ft.jsxs)(fr,{emoji:!0,testID:"profileHeaderDisplayName",style:[r.atoms.text,i?kl.text_4xl:kl.text_3xl,kl.self_start,kl.font_heavy],children:[Qf(a.displayName||su(a.handle),u.ui("displayName")),(0,Ft.jsx)(wo.default,{style:[kl.pl_xs,{marginTop:vo({ios:2})}],children:(0,Ft.jsx)(oA,{profile:a,size:"lg"})})]})}),(0,Ft.jsx)(Ak,{profile:a})]}),!o&&!_&&(0,Ft.jsxs)(wo.default,{style:kl.gap_md,children:[(0,Ft.jsx)(pA,{profile:a}),t&&!u.ui("profileView").blur?(0,Ft.jsx)(wo.default,{pointerEvents:"auto",children:(0,Ft.jsx)(DC,{testID:"profileHeaderDescription",style:[kl.text_md],numberOfLines:15,value:t,enableTags:!0,authorHandle:a.handle})}):void 0,!j&&!_&&Ek(a.viewer?.knownFollowers)&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm],children:(0,Ft.jsx)(Mk,{profile:a,moderationOpts:s})})]})]}),(0,Ft.jsx)(bx,{control:g,title:d({id:"tw0xVB"}),description:d({id:"GlPXQJ"}),onConfirm:b,confirmButtonCta:a.viewer?.blocking?d({id:"tuS5Jz"}):d({id:"CJkEfx"}),confirmButtonColor:"negative"})]})};eI=(0,mt.memo)(eI);const tI=["children","name","value","disabled","onChange","isInvalid","style","type","label"],sI=mt.createContext({name:"",selected:!1,disabled:!1,isInvalid:!1,hovered:!1,pressed:!1,focused:!1}),nI=mt.createContext({type:"checkbox",values:[],disabled:!1,maxSelectionsReached:!1,setFieldValue:()=>{}});function oI(){return mt.useContext(sI)}function rI(e){const t=(0,i.c)(30),{children:s,values:n,onChange:o,disabled:r,type:a,maxSelections:l,label:c}=e,d=void 0!==r&&r,u=void 0===a?"checkbox":a,m="radio"===u?"radiogroup":void 0;let h;t[0]!==n||t[1]!==u?(h="radio"===u?n.slice(0,1):n,t[0]=n,t[1]=u,t[2]=h):h=t[2];const p=h,[f,g]=mt.useState(!1);let x;t[3]!==o||t[4]!==u||t[5]!==p?(x=e=>{const{name:t,value:s}=e;if("checkbox"===u){const e=p.filter((e=>e!==t)),n=s?e.concat(t):e;o(n)}else o([t])},t[3]=o,t[4]=u,t[5]=p,t[6]=x):x=t[6];const _=x;let y,b,j,v;t[7]!==f||t[8]!==l||t[9]!==u||t[10]!==p.length?(y=()=>{"checkbox"===u&&(l&&p.length>=l&&!1===f?g(!0):l&&p.length<l&&!0===f&&g(!1))},b=[u,p.length,l,f,g],t[7]=f,t[8]=l,t[9]=u,t[10]=p.length,t[11]=y,t[12]=b):(y=t[11],b=t[12]),mt.useEffect(y,b),t[13]!==d||t[14]!==f||t[15]!==_||t[16]!==u||t[17]!==p?(v={values:p,type:u,disabled:d,maxSelectionsReached:f,setFieldValue:_},t[13]=d,t[14]=f,t[15]=_,t[16]=u,t[17]=p,t[18]=v):v=t[18],j=v;const w=j;let S,k,C,P;return t[19]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.w_full],t[19]=S):S=t[19],t[20]!==m||t[21]!==c?(k="radiogroup"===m?{"aria-label":c,accessibilityLabel:c,accessibilityRole:m}:{},t[20]=m,t[21]=c,t[22]=k):k=t[22],t[23]!==s||t[24]!==m||t[25]!==k?(C=(0,Ft.jsx)(wo.default,Object.assign({style:S,role:m},k,{children:s})),t[23]=s,t[24]=m,t[25]=k,t[26]=C):C=t[26],t[27]!==w||t[28]!==C?(P=(0,Ft.jsx)(nI.Provider,{value:w,children:C}),t[27]=w,t[28]=C,t[29]=P):P=t[29],P}function iI(e){let{children:t,name:s,value:n=!1,disabled:o=!1,onChange:r,isInvalid:i,style:a,type:l="checkbox",label:c}=e,d=(0,ls.default)(e,tI);const{values:u,type:m,disabled:h,setFieldValue:p,maxSelectionsReached:f}=mt.useContext(nI),{state:g,onIn:x,onOut:_}=Ki(),{state:y,onIn:b,onOut:j}=Ki(),{state:v,onIn:w,onOut:S}=Ki(),k="radio"===m?"radio":l,C=u.includes(s)||!!n,P=h||o||!C&&f,T=mt.useCallback((()=>{const e=!C;p({name:s,value:e}),r?.(e)}),[s,C,r,p]),L=mt.useMemo((()=>({name:s,selected:C,disabled:P??!1,isInvalid:i??!1,hovered:g,pressed:y,focused:v})),[s,C,P,g,y,v,i]);return(0,Ft.jsx)(sI.Provider,{value:L,children:(0,Ft.jsx)(tr.default,Object.assign({accessibilityHint:void 0,hitSlop:vi},d,{disabled:P,"aria-disabled":P??!1,"aria-checked":C,"aria-invalid":i,"aria-label":c,role:k,accessibilityRole:k,accessibilityState:{disabled:P??!1,selected:C},accessibilityLabel:c,onPress:T,onHoverIn:x,onHoverOut:_,onPressIn:b,onPressOut:j,onFocus:w,onBlur:S,style:[kl.flex_row,kl.align_center,kl.gap_sm,Wl(a)],children:"function"===typeof t?t(L):t}))})}function aI(e){const t=(0,i.c)(11),{children:s,style:n}=e,o=ec(),{disabled:r}=oI(),a=r?o.atoms.text_contrast_low.color:o.atoms.text_contrast_high.color;let l,c,d,u,m;return t[0]!==a?(l={userSelect:"none",color:a},t[0]=a,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=jo({paddingTop:2}),t[2]=c):c=t[2],t[3]!==n?(d=Wl(n),t[3]=n,t[4]=d):d=t[4],t[5]!==l||t[6]!==d?(u=[kl.font_bold,kl.leading_tight,l,c,d],t[5]=l,t[6]=d,t[7]=u):u=t[7],t[8]!==s||t[9]!==u?(m=(0,Ft.jsx)(fr,{style:u,children:s}),t[8]=s,t[9]=u,t[10]=m):m=t[10],m}function lI({theme:e,hovered:t,selected:s,disabled:n,isInvalid:o}){const r=[],i=[];return s?(r.push({backgroundColor:e.palette.primary_25,borderColor:e.palette.primary_500}),t&&i.push({backgroundColor:e.palette.primary_100,borderColor:e.palette.primary_600})):t&&i.push({backgroundColor:e.palette.contrast_50,borderColor:e.palette.contrast_500}),o&&(r.push({backgroundColor:e.palette.negative_25,borderColor:e.palette.negative_300}),t&&i.push({backgroundColor:e.palette.negative_25,borderColor:e.palette.negative_600})),n&&r.push({backgroundColor:e.palette.contrast_100,borderColor:e.palette.contrast_400}),{baseStyles:r,baseHoverStyles:n?[]:i,indicatorStyles:[]}}function cI(){const e=(0,i.c)(21),t=ec(),{selected:s,hovered:n,focused:o,disabled:r,isInvalid:a}=oI();let l;e[0]!==r||e[1]!==o||e[2]!==n||e[3]!==a||e[4]!==s||e[5]!==t?(l=lI({theme:t,hovered:n,focused:o,selected:s,disabled:r,isInvalid:a}),e[0]=r,e[1]=o,e[2]=n,e[3]=a,e[4]=s,e[5]=t,e[6]=l):l=e[6];const{baseStyles:c,baseHoverStyles:d}=l;let u,m,h,p,f;return e[7]===Symbol.for("react.memo_cache_sentinel")?(u={borderWidth:1,height:24,width:24},e[7]=u):u=e[7],e[8]!==d||e[9]!==n?(m=n?d:{},e[8]=d,e[9]=n,e[10]=m):m=e[10],e[11]!==c||e[12]!==t.atoms.border_contrast_high||e[13]!==m?(h=[kl.justify_center,kl.align_center,kl.rounded_xs,t.atoms.border_contrast_high,u,c,m],e[11]=c,e[12]=t.atoms.border_contrast_high,e[13]=m,e[14]=h):h=e[14],e[15]!==s||e[16]!==t.palette?(p=s?(0,Ft.jsx)(Zj,{size:"xs",fill:t.palette.primary_500}):null,e[15]=s,e[16]=t.palette,e[17]=p):p=e[17],e[18]!==h||e[19]!==p?(f=(0,Ft.jsx)(wo.default,{style:h,children:p}),e[18]=h,e[19]=p,e[20]=f):f=e[20],f}function dI(){const e=(0,i.c)(28),t=ec(),{selected:s,hovered:n,focused:o,disabled:r,isInvalid:a}=oI();let l;e[0]!==r||e[1]!==o||e[2]!==n||e[3]!==a||e[4]!==s||e[5]!==t?(l=lI({theme:t,hovered:n,focused:o,selected:s,disabled:r,isInvalid:a}),e[0]=r,e[1]=o,e[2]=n,e[3]=a,e[4]=s,e[5]=t,e[6]=l):l=e[6];const{baseStyles:c,baseHoverStyles:d,indicatorStyles:u}=l;let m,h,p,f,g,x,_,y;return e[7]===Symbol.for("react.memo_cache_sentinel")?(m={borderWidth:1,height:24,width:36,padding:3},e[7]=m):m=e[7],e[8]!==d||e[9]!==n?(h=n?d:{},e[8]=d,e[9]=n,e[10]=h):h=e[10],e[11]!==c||e[12]!==t.atoms.bg||e[13]!==t.atoms.border_contrast_high||e[14]!==h?(p=[kl.relative,kl.rounded_full,t.atoms.bg,t.atoms.border_contrast_high,m,c,h],e[11]=c,e[12]=t.atoms.bg,e[13]=t.atoms.border_contrast_high,e[14]=h,e[15]=p):p=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(f=ko.LinearTransition.duration(100),e[16]=f):f=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(g={height:16,width:16},e[17]=g):g=e[17],e[18]!==s||e[19]!==t.palette.contrast_400||e[20]!==t.palette.primary_500?(x=s?{backgroundColor:t.palette.primary_500,alignSelf:"flex-end"}:{backgroundColor:t.palette.contrast_400,alignSelf:"flex-start"},e[18]=s,e[19]=t.palette.contrast_400,e[20]=t.palette.primary_500,e[21]=x):x=e[21],e[22]!==u||e[23]!==x?(_=(0,Ft.jsx)(ko.default.View,{layout:f,style:[kl.rounded_full,g,x,u]}),e[22]=u,e[23]=x,e[24]=_):_=e[24],e[25]!==p||e[26]!==_?(y=(0,Ft.jsx)(wo.default,{style:p,children:_}),e[25]=p,e[26]=_,e[27]=y):y=e[27],y}function uI(){const e=(0,i.c)(22),t=ec(),{selected:s,hovered:n,focused:o,disabled:r,isInvalid:a}=mt.useContext(sI);let l;e[0]!==r||e[1]!==o||e[2]!==n||e[3]!==a||e[4]!==s||e[5]!==t?(l=lI({theme:t,hovered:n,focused:o,selected:s,disabled:r,isInvalid:a}),e[0]=r,e[1]=o,e[2]=n,e[3]=a,e[4]=s,e[5]=t,e[6]=l):l=e[6];const{baseStyles:c,baseHoverStyles:d,indicatorStyles:u}=l;let m,h,p,f,g;return e[7]===Symbol.for("react.memo_cache_sentinel")?(m={borderWidth:1,height:24,width:24},e[7]=m):m=e[7],e[8]!==d||e[9]!==n?(h=n?d:{},e[8]=d,e[9]=n,e[10]=h):h=e[10],e[11]!==c||e[12]!==t.atoms.border_contrast_high||e[13]!==h?(p=[kl.justify_center,kl.align_center,kl.rounded_full,t.atoms.border_contrast_high,m,c,h],e[11]=c,e[12]=t.atoms.border_contrast_high,e[13]=h,e[14]=p):p=e[14],e[15]!==u||e[16]!==s||e[17]!==t.palette?(f=s?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,{height:16,width:16},s?{backgroundColor:t.palette.primary_500}:{},u]}):null,e[15]=u,e[16]=s,e[17]=t.palette,e[18]=f):f=e[18],e[19]!==p||e[20]!==f?(g=(0,Ft.jsx)(wo.default,{style:p,children:f}),e[19]=p,e[20]=f,e[21]=g):g=e[21],g}const mI=kt?dI:cI,hI=["children","multiple"],pI=["children"];function fI(e){const t=(0,i.c)(14);let s,n,o;if(t[0]!==e){var r=e;({children:s,multiple:n}=r),o=(0,ls.default)(r,hI),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const a=ec(),l=n?"checkbox":"radio";let c,d,u,m;return t[4]===Symbol.for("react.memo_cache_sentinel")?(c={borderWidth:1},t[4]=c):c=t[4],t[5]!==a.atoms.border_contrast_low?(d=[kl.w_full,kl.flex_row,kl.rounded_sm,kl.overflow_hidden,a.atoms.border_contrast_low,c],t[5]=a.atoms.border_contrast_low,t[6]=d):d=t[6],t[7]!==s||t[8]!==d?(u=(0,Ft.jsx)(wo.default,{style:d,children:s}),t[7]=s,t[8]=d,t[9]=u):u=t[9],t[10]!==o||t[11]!==l||t[12]!==u?(m=(0,Ft.jsx)(rI,Object.assign({type:l},o,{children:u})),t[10]=o,t[11]=l,t[12]=u,t[13]=m):m=t[13],m}function gI(e){const t=(0,i.c)(9);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:s}=l),n=(0,ls.default)(l,pI),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_grow,kl.flex_1],t[3]=o):o=t[3],t[4]!==s?(r=(0,Ft.jsx)(xI,{children:s}),t[4]=s,t[5]=r):r=t[5],t[6]!==n||t[7]!==r?(a=(0,Ft.jsx)(iI,Object.assign({},n,{style:o,children:r})),t[6]=n,t[7]=r,t[8]=a):a=t[8],a}function xI(e){const t=(0,i.c)(26),{children:s}=e,n=ec(),o=oI();let r,a;if(t[0]!==o.disabled||t[1]!==o.selected||t[2]!==n.atoms.bg_contrast_100||t[3]!==n.atoms.bg_contrast_25||t[4]!==n.name||t[5]!==n.palette){const e=[],s=[],r=[];if(s.push("light"===n.name?n.atoms.bg_contrast_100:n.atoms.bg_contrast_25),o.selected){let e,i;if(t[7]!==n.palette.contrast_800?(e={backgroundColor:n.palette.contrast_800},t[7]=n.palette.contrast_800,t[8]=e):e=t[8],r.push(e),t[9]!==n.palette.contrast_800?(i={backgroundColor:n.palette.contrast_800},t[9]=n.palette.contrast_800,t[10]=i):i=t[10],s.push(i),o.disabled){let e;t[11]!==n.palette.contrast_500?(e={backgroundColor:n.palette.contrast_500},t[11]=n.palette.contrast_500,t[12]=e):e=t[12],r.push(e)}}if(o.disabled){let s;t[13]!==n.palette.contrast_100?(s={backgroundColor:n.palette.contrast_100},t[13]=n.palette.contrast_100,t[14]=s):s=t[14],e.push(s)}a={baseStyles:e,hoverStyles:s,activeStyles:r},t[0]=o.disabled,t[1]=o.selected,t[2]=n.atoms.bg_contrast_100,t[3]=n.atoms.bg_contrast_25,t[4]=n.name,t[5]=n.palette,t[6]=a}else a=t[6];r=a;const{baseStyles:l,hoverStyles:c,activeStyles:d}=r;let u,m;t[15]===Symbol.for("react.memo_cache_sentinel")?(u={borderLeftWidth:1,marginLeft:-1},t[15]=u):u=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(m=jo({paddingBottom:10}),t[16]=m):m=t[16];const h=(o.hovered||o.pressed)&&c;let p,f;return t[17]!==d||t[18]!==l||t[19]!==n.atoms.bg||t[20]!==n.atoms.border_contrast_low||t[21]!==h?(p=[u,kl.flex_grow,kl.py_md,m,kl.px_md,n.atoms.bg,n.atoms.border_contrast_low,l,d,h],t[17]=d,t[18]=l,t[19]=n.atoms.bg,t[20]=n.atoms.border_contrast_low,t[21]=h,t[22]=p):p=t[22],t[23]!==s||t[24]!==p?(f=(0,Ft.jsx)(wo.default,{style:p,children:s}),t[23]=s,t[24]=p,t[25]=f):f=t[25],f}function _I(e){const t=(0,i.c)(11),{children:s}=e,n=ec(),o=oI();let r,a;if(t[0]!==o.disabled||t[1]!==o.selected||t[2]!==n.atoms.text_inverted){if(a=[],o.selected&&a.push(n.atoms.text_inverted),o.disabled){let e;t[4]===Symbol.for("react.memo_cache_sentinel")?(e={opacity:.5},t[4]=e):e=t[4],a.push(e)}t[0]=o.disabled,t[1]=o.selected,t[2]=n.atoms.text_inverted,t[3]=a}else a=t[3];r=a;const l=r;let c,d;return t[5]!==n.atoms.text_contrast_medium||t[6]!==l?(c=[kl.text_center,kl.font_bold,n.atoms.text_contrast_medium,l],t[5]=n.atoms.text_contrast_medium,t[6]=l,t[7]=c):c=t[7],t[8]!==s||t[9]!==c?(d=(0,Ft.jsx)(fr,{style:c,children:s}),t[8]=s,t[9]=c,t[10]=d):d=t[10],d}function yI(e){const t=(0,i.c)(64),{testID:s,screenDescription:n,modui:o,style:r,containerStyle:a,children:l}=e,c=ec(),{_:d}=(0,ft.useLingui)(),[u,m]=mt.useState(!1),h=(0,va.useNavigation)(),{isMobile:p}=jx(),f=Ar(),g=o.blurs[0],x=DS(g);if(!g||u){let e;return t[0]!==l||t[1]!==r||t[2]!==s?(e=(0,Ft.jsx)(wo.default,{testID:s,style:r,children:l}),t[0]=l,t[1]=r,t[2]=s,t[3]=e):e=t[3],e}const _=!!o.blurs.find(jI);let y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N;return t[4]===Symbol.for("react.memo_cache_sentinel")?(y={paddingTop:100,paddingBottom:150},t[4]=y):y=t[4],t[5]!==a||t[6]!==c.atoms.bg?(b=[kl.flex_1,y,c.atoms.bg,a],t[5]=a,t[6]=c.atoms.bg,t[7]=b):b=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.align_center,kl.mb_md],t[8]=j):j=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(v={borderRadius:25,width:50,height:50},t[9]=v):v=t[9],t[10]!==c.atoms.bg_contrast_975?(w=[c.atoms.bg_contrast_975,kl.align_center,kl.justify_center,v],t[10]=c.atoms.bg_contrast_975,t[11]=w):w=t[11],t[12]!==x.icon||t[13]!==c.atoms.bg.backgroundColor?(S=(0,Ft.jsx)(x.icon,{width:24,fill:c.atoms.bg.backgroundColor}),t[12]=x.icon,t[13]=c.atoms.bg.backgroundColor,t[14]=S):S=t[14],t[15]!==w||t[16]!==S?(k=(0,Ft.jsx)(wo.default,{style:j,children:(0,Ft.jsx)(wo.default,{style:w,children:S})}),t[15]=w,t[16]=S,t[17]=k):k=t[17],t[18]!==c.atoms.text?(C=[kl.text_4xl,kl.font_bold,kl.text_center,kl.mb_md,c.atoms.text],t[18]=c.atoms.text,t[19]=C):C=t[19],t[20]!==_?(P=_?(0,Ft.jsx)(ft.Trans,{id:"E47zv9"}):(0,Ft.jsx)(ft.Trans,{id:"cogwXi"}),t[20]=_,t[21]=P):P=t[21],t[22]!==C||t[23]!==P?(T=(0,Ft.jsx)(fr,{style:C,children:P}),t[22]=C,t[23]=P,t[24]=T):T=t[24],t[25]!==c.atoms.text_contrast_medium?(L=[kl.text_lg,kl.mb_md,kl.px_lg,kl.text_center,kl.leading_snug,c.atoms.text_contrast_medium],t[25]=c.atoms.text_contrast_medium,t[26]=L):L=t[26],t[27]!==d||t[28]!==g||t[29]!==f||t[30]!==x.name||t[31]!==_||t[32]!==n||t[33]!==c.atoms.text||t[34]!==c.palette?(A=_?(0,Ft.jsx)(ft.Trans,{id:"rpPvUb"}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ft.Trans,{id:"KRYn8w",values:{screenDescription:n}})," ",(0,Ft.jsxs)(fr,{style:[kl.text_lg,kl.font_bold,kl.leading_snug,c.atoms.text,kl.ml_xs],children:[x.name,"."," "]}),(0,Ft.jsx)(Ao.default,{onPress:()=>{f.open()},accessibilityRole:"button",accessibilityLabel:d({id:"rj0Lke"}),accessibilityHint:"",children:(0,Ft.jsx)(fr,{style:[kl.text_lg,kl.leading_snug,{color:c.palette.primary_500},_o({cursor:"pointer"})],children:(0,Ft.jsx)(ft.Trans,{id:"NgeSlx"})})}),(0,Ft.jsx)(NS,{control:f,modcause:g})]}),t[27]=d,t[28]=g,t[29]=f,t[30]=x.name,t[31]=_,t[32]=n,t[33]=c.atoms.text,t[34]=c.palette,t[35]=A):A=t[35],t[36]!==L||t[37]!==A?(I=(0,Ft.jsxs)(fr,{style:L,children:[A," "]}),t[36]=L,t[37]=A,t[38]=I):I=t[38],t[39]!==p?(R=p&&(0,Ft.jsx)(wo.default,{style:kl.flex_1}),t[39]=p,t[40]=R):R=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.flex_row,kl.justify_center,kl.my_md,kl.gap_md],t[41]=D):D=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(F=[kl.rounded_full],t[42]=F):F=t[42],t[43]!==d?(E=d({id:"CKyk7Q"}),t[43]=d,t[44]=E):E=t[44],t[45]!==h?(M=()=>{h.canGoBack()?h.goBack():h.navigate("Home")},t[45]=h,t[46]=M):M=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"CKyk7Q"})}),t[47]=B):B=t[47],t[48]!==E||t[49]!==M?(O=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",style:F,label:E,onPress:M,children:B}),t[48]=E,t[49]=M,t[50]=O):O=t[50],t[51]!==d||t[52]!==o.noOverride?(z=!o.noOverride&&(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"large",style:[kl.rounded_full],label:d({id:"aWAdCb"}),onPress:()=>m(bI),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"aWAdCb"})})}),t[51]=d,t[52]=o.noOverride,t[53]=z):z=t[53],t[54]!==O||t[55]!==z?(H=(0,Ft.jsxs)(wo.default,{style:D,children:[O,z]}),t[54]=O,t[55]=z,t[56]=H):H=t[56],t[57]!==T||t[58]!==I||t[59]!==R||t[60]!==b||t[61]!==H||t[62]!==k?(N=(0,Ft.jsxs)(KP,{style:b,sideBorders:!0,children:[k,T,I,R,H]}),t[57]=T,t[58]=I,t[59]=R,t[60]=b,t[61]=H,t[62]=k,t[63]=N):N=t[63],N}function bI(e){return!e}function jI(e){return"label"===e.type&&"!no-unauthenticated"===e.labelDef.identifier}var vI=s(6740);const wI=({uri:e})=>["getFeedSourceInfo",e],SI={feed:"app.bsky.feed.generator",list:"app.bsky.graph.list"};function kI(e){const t=new Is.AtUri(e.uri),s="app.bsky.feed.generator"===t.collection?"feed":"lists",n=`/profile/${t.hostname}/${s}/${t.rkey}`,o=cv.matchPath(n);return{type:"feed",view:e,uri:e.uri,feedDescriptor:`feedgen|${e.uri}`,cid:e.cid,route:{href:n,name:o[0],params:o[1]},avatar:e.avatar,displayName:e.displayName?Qf(e.displayName):`Feed by ${su(e.creator.handle,"@")}`,description:new Is.RichText({text:e.description||"",facets:(e.descriptionFacets||[])?.slice()}),creatorDid:e.creator.did,creatorHandle:e.creator.handle,likeCount:e.likeCount,likeUri:e.viewer?.like,contentMode:e.contentMode}}function CI(e){const t=new Is.AtUri(e.uri),s="app.bsky.feed.generator"===t.collection?"feed":"lists",n=`/profile/${t.hostname}/${s}/${t.rkey}`,o=cv.matchPath(n);return{type:"list",view:e,uri:e.uri,feedDescriptor:`list|${e.uri}`,route:{href:n,name:o[0],params:o[1]},cid:e.cid,avatar:e.avatar,description:new Is.RichText({text:e.description||"",facets:(e.descriptionFacets||[])?.slice()}),creatorDid:e.creator.did,creatorHandle:e.creator.handle,displayName:e.name?Qf(e.name):`User List by ${su(e.creator.handle,"@")}`,contentMode:void 0}}function PI(e){const{pathname:t}=new Is.AtUri(e);return t.includes(SI.feed)?"feed":"list"}function TI(e){const t=(0,i.c)(11),{uri:s}=e;let n;t[0]!==s?(n=PI(s),t[0]=s,t[1]=n):n=t[1];const o=n,r=bh();let a,l,c;return t[2]!==s?(a=wI({uri:s}),t[2]=s,t[3]=a):a=t[3],t[4]!==r||t[5]!==o||t[6]!==s?(l=async()=>{let e;if("feed"===o){e=kI((await r.app.bsky.feed.getFeedGenerator({feed:s})).data.view)}else{e=CI((await r.app.bsky.graph.getList({list:s,limit:1})).data.list)}return e},t[4]=r,t[5]=o,t[6]=s,t[7]=l):l=t[7],t[8]!==a||t[9]!==l?(c={staleTime:Ld.INFINITY,queryKey:a,queryFn:l},t[8]=a,t[9]=l,t[10]=c):c=t[10],(0,vd.useQuery)(c)}const LI=["at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/with-friends","at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/mutuals","at://did:plc:tenurhgjptubkk5zf5qhi3og/app.bsky.feed.generator/only-posts","at://did:plc:wzsilnxf24ehtmmc3gssy5bu/app.bsky.feed.generator/mentions","at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/bangers","at://did:plc:z72i7hdynmk6r22z27h6tvur/app.bsky.feed.generator/mutuals","at://did:plc:q6gjnaw2blty4crticxkmujt/app.bsky.feed.generator/my-followers","at://did:plc:vpkhqolt662uhesyj6nxm7ys/app.bsky.feed.generator/followpics"];function AI(e){const t=(0,i.c)(23),{hasSession:s}=xh(),n=bh(),o=e?.limit||10,{data:r}=Fh(),a=(0,wd.useQueryClient)(),l=Op();let c,d,u;r?.savedFeeds,t[0]!==r?.savedFeeds?(d=r?.savedFeeds||[],t[0]=r?.savedFeeds,t[1]=d):d=t[1],t[2]!==s||t[3]!==l||t[4]!==d?(u={hasSession:s,savedFeeds:d,moderationOpts:l},t[2]=s,t[3]=l,t[4]=d,t[5]=u):u=t[5],c=u;const m=c,h=(0,mt.useRef)(0),p=Boolean(l)&&!1!==e?.enabled;let f,g,x;t[6]!==e?(f=function(e){return["getPopularFeeds",e?.limit]}(e),t[6]=e,t[7]=f):f=t[7],t[8]!==n||t[9]!==o||t[10]!==a?(g=async e=>{const{pageParam:t}=e,s=await n.app.bsky.unspecced.getPopularFeedGenerators({limit:o,cursor:t});for(const n of s.data.feeds){const e=kI(n);ZI(a,e)}return s.data},t[8]=n,t[9]=o,t[10]=a,t[11]=g):g=t[11],t[12]!==m?(x=e=>{const{savedFeeds:t,hasSession:s,moderationOpts:n}=m;return Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{feeds:e.feeds.filter((e=>{if(!s&&LI.includes(e.uri))return!1;const o=Boolean(t?.find((t=>t.value===e.uri))),r=(0,Is.moderateFeedGenerator)(e,n);return!o&&!r.ui("contentList").filter}))})))})},t[12]=m,t[13]=x):x=t[13];const _=x;let y;t[14]!==p||t[15]!==f||t[16]!==g||t[17]!==_?(y={enabled:p,queryKey:f,queryFn:g,initialPageParam:void 0,getNextPageParam:II,select:_},t[14]=p,t[15]=f,t[16]=g,t[17]=_,t[18]=y):y=t[18];const b=(0,Dp.useInfiniteQuery)(y);let j,v;return t[19]!==o||t[20]!==b?(v=()=>{const{isFetching:e,hasNextPage:t,data:s}=b;if(e||!t)return;if(0!==h.current&&h.current===s?.pages?.length)return;let n=0;for(const o of s?.pages||[])n+=o.feeds.length;n<o&&(s?.pages.length||0)<6&&(b.fetchNextPage(),h.current=s?.pages?.length||0)},j=[b,o],t[19]=o,t[20]=b,t[21]=j,t[22]=v):(j=t[21],v=t[22]),(0,mt.useEffect)(v,j),b}function II(e){return e.cursor}const RI=e=>["popularFeedsSearch",e];function DI(e){const t=(0,i.c)(10),{query:s,enabled:n}=e,o=bh(),r=Op(),a=n??Boolean(r);let l,c,d;return t[0]!==s?(l=RI(s),t[0]=s,t[1]=l):l=t[1],t[2]!==o||t[3]!==s?(c=async()=>(await o.app.bsky.unspecced.getPopularFeedGenerators({limit:15,query:s})).data.feeds,t[2]=o,t[3]=s,t[4]=c):c=t[4],t[5]!==a||t[6]!==r||t[7]!==l||t[8]!==c?(d={enabled:a,queryKey:l,queryFn:c,placeholderData:sg.keepPreviousData,select:e=>e.filter((e=>!(0,Is.moderateFeedGenerator)(e,r).ui("contentMedia").blur))},t[5]=a,t[6]=r,t[7]=l,t[8]=c,t[9]=d):d=t[9],(0,vd.useQuery)(d)}const FI={type:"feed",displayName:"Discover",uri:Ii,feedDescriptor:`feedgen|${Ii}`,route:{href:"/",name:"Home",params:{}},cid:"",avatar:"",description:new Is.RichText({text:""}),creatorDid:"",creatorHandle:"",likeCount:0,likeUri:"",savedFeed:Object.assign({id:"pwi-discover"},Fi),contentMode:void 0},EI="pinnedFeedsInfos";function MI(){const e=(0,i.c)(22),{hasSession:t}=xh(),s=bh(),{data:n,isLoading:o}=Fh();let r,a,l,c,d,u,m;e[0]!==t||e[1]!==o||e[2]!==n?.savedFeeds?(r=n?.savedFeeds.filter(NI)??[],m=vd.useQuery,d=Ld.INFINITY,u=!o,c=EI,a=t?"authed:":"unauthed:",l=r.map(HI).join(","),e[0]=t,e[1]=o,e[2]=n?.savedFeeds,e[3]=r,e[4]=a,e[5]=l,e[6]=c,e[7]=d,e[8]=u,e[9]=m):(r=e[3],a=e[4],l=e[5],c=e[6],d=e[7],u=e[8],m=e[9]);const h=a+l;let p,f,g;return e[10]!==c||e[11]!==h?(p=[c,h],e[10]=c,e[11]=h,e[12]=p):p=e[12],e[13]!==s||e[14]!==t||e[15]!==r?(f=async()=>{if(!t)return[FI];const e=new Map,n=r.filter(zI);let o=Promise.resolve();n.length>0&&(o=s.app.bsky.feed.getFeedGenerators({feeds:n.map(OI)}).then((t=>{for(let s=0;s<t.data.feeds.length;s++){const n=t.data.feeds[s];e.set(n.uri,kI(n))}})));const i=r.filter(BI).map((t=>s.app.bsky.graph.getList({list:t.value,limit:1}).then((t=>{const s=t.data.list;e.set(s.uri,CI(s))}))));await o,await Promise.allSettled(i);const a=[];for(const t of r){const s=e.get(t.value);s?a.push(Object.assign({},s,{savedFeed:t})):"timeline"===t.type&&a.push({type:"feed",displayName:"Following",uri:t.value,feedDescriptor:"following",route:{href:"/",name:"Home",params:{}},cid:"",avatar:"",description:new Is.RichText({text:""}),creatorDid:"",creatorHandle:"",likeCount:0,likeUri:"",savedFeed:t,contentMode:void 0})}return a},e[13]=s,e[14]=t,e[15]=r,e[16]=f):f=e[16],e[17]!==d||e[18]!==u||e[19]!==p||e[20]!==f?(g={staleTime:d,enabled:u,queryKey:p,queryFn:f},e[17]=d,e[18]=u,e[19]=p,e[20]=f,e[21]=g):g=e[21],m(g)}function BI(e){return"list"===e.type}function OI(e){return e.value}function zI(e){return"feed"===e.type}function HI(e){return e.value}function NI(e){return e.pinned}function VI(){const e=(0,i.c)(14),t=bh(),{data:s,isLoading:n}=Fh();let o;e[0]!==s?.savedFeeds?(o=s?.savedFeeds??[],e[0]=s?.savedFeeds,e[1]=o):o=e[1];const r=o,a=(0,wd.useQueryClient)(),l=!n;let c,d,u,m;return e[2]!==r?(c=[EI,...r],d=e=>e||{count:r.length,feeds:[]},e[2]=r,e[3]=c,e[4]=d):(c=e[3],d=e[4]),e[5]!==t||e[6]!==a||e[7]!==r?(u=async()=>{const e=new Map,s=new Map,n=r.filter(WI),o=r.filter(UI);let i=Promise.resolve();n.length>0&&(i=t.app.bsky.feed.getFeedGenerators({feeds:n.map(qI)}).then((t=>{t.data.feeds.forEach((t=>{e.set(t.uri,t)}))})));const l=o.map((e=>t.app.bsky.graph.getList({list:e.value,limit:1}).then((e=>{const t=e.data.list;s.set(t.uri,t)}))));await Promise.allSettled([i,...l]),e.forEach((e=>{const t=kI(e);ZI(a,t)})),s.forEach((e=>{QI(a,e)}));const c=[];for(const t of r)if("timeline"===t.type)c.push({type:"timeline",config:t,view:void 0});else if("feed"===t.type){const s=e.get(t.value);s&&c.push({type:"feed",config:t,view:s})}else if("list"===t.type){const e=s.get(t.value);e&&c.push({type:"list",config:t,view:e})}return{count:c.length,feeds:c}},e[5]=t,e[6]=a,e[7]=r,e[8]=u):u=e[8],e[9]!==l||e[10]!==c||e[11]!==d||e[12]!==u?(m={staleTime:Ld.INFINITY,enabled:l,queryKey:c,placeholderData:d,queryFn:u},e[9]=l,e[10]=c,e[11]=d,e[12]=u,e[13]=m):m=e[13],(0,vd.useQuery)(m)}function qI(e){return e.value}function UI(e){return"list"===e.type}function WI(e){return"feed"===e.type}function ZI(e,t){ek(e,t.creatorHandle,t.creatorDid),e.setQueryData(wI({uri:t.uri}),t)}function QI(e,t){ek(e,t.creator.handle,t.creator.did),e.setQueryData(Qw(t.uri),t)}function KI(e){const t=(0,i.c)(13),{feedUri:s,style:n,showSaveBtn:o,showDescription:r,showLikes:a,pinOnSave:l,showMinimalPlaceholder:c,hideTopBorder:d}=e,u=void 0!==o&&o,m=void 0!==r&&r,h=void 0!==a&&a,p=void 0!==l&&l,{data:f}=Fh();let g;t[0]!==s?(g={uri:s},t[0]=s,t[1]=g):g=t[1];const{data:x}=TI(g);let _;return t[2]!==x||t[3]!==s||t[4]!==d||t[5]!==p||t[6]!==f||t[7]!==m||t[8]!==h||t[9]!==c||t[10]!==u||t[11]!==n?(_=(0,Ft.jsx)($I,{feedUri:s,feed:x,preferences:f,style:n,showSaveBtn:u,showDescription:m,showLikes:h,pinOnSave:p,showMinimalPlaceholder:c,hideTopBorder:d}),t[2]=x,t[3]=s,t[4]=d,t[5]=p,t[6]=f,t[7]=m,t[8]=h,t[9]=c,t[10]=u,t[11]=n,t[12]=_):_=t[12],_}function $I(e){const t=(0,i.c)(114),{feedUri:s,feed:n,preferences:o,style:r,showSaveBtn:a,showDescription:l,showLikes:c,pinOnSave:d,showMinimalPlaceholder:u,hideTopBorder:m}=e,h=void 0!==a&&a,p=void 0!==l&&l,f=void 0!==c&&c,g=void 0!==d&&d,x=ec(),_=mx("default"),{_:y}=(0,ft.useLingui)(),b=Ar(),j=Gj(),{isPending:v,mutateAsync:w}=Hh(),{isPending:S,mutateAsync:k}=Nh();let C;t[0]!==s||t[1]!==o?.savedFeeds?(C=o?.savedFeeds?.find((e=>e.value===s)),t[0]=s,t[1]=o?.savedFeeds,t[2]=C):C=t[2];const P=C,T=Boolean(P);let L;t[3]!==y||t[4]!==w||t[5]!==n||t[6]!==T||t[7]!==g?(L=async()=>{if(n&&!T)try{await w([{type:"feed",value:n.uri,pinned:g}]),Zu(y({id:"/P4YHb"}))}catch(I){const t=I;Zu(y({id:"90yfdw"}),"xmark"),ys.error("Failed to save feed",{message:t})}},t[3]=y,t[4]=w,t[5]=n,t[6]=T,t[7]=g,t[8]=L):L=t[8];const A=L;let I;t[9]!==y||t[10]!==k||t[11]!==P?(I=async()=>{if(P)try{await k(P),Zu(y({id:"nEEr+G"}))}catch(D){const t=D;Zu(y({id:"90yfdw"}),"xmark"),ys.error("Failed to unsave feed",{message:t})}},t[9]=y,t[10]=k,t[11]=P,t[12]=I):I=t[12];const R=I;let D;t[13]!==T||t[14]!==A||t[15]!==b?(D=async()=>{T?b.open():await A()},t[13]=T,t[14]=A,t[15]=b,t[16]=D):D=t[16];const F=D;if(!n||!o){const e=u||m?0:Gn.default.hairlineWidth;let n,o,r,i,a;return t[17]!==e?(n={borderTopWidth:e,flexDirection:"row",alignItems:"center",flex:1,paddingRight:18},t[17]=e,t[18]=n):n=t[18],t[19]!==_.border||t[20]!==n?(o=[_.border,n],t[19]=_.border,t[20]=n,t[21]=o):o=t[21],t[22]!==u?(r=u?(0,Ft.jsx)(LT,{style:{flex:1},showTopBorder:!1,showLowerPlaceholder:!1}):(0,Ft.jsx)(LT,{style:{flex:1},showTopBorder:!1}),t[22]=u,t[23]=r):r=t[23],t[24]!==y||t[25]!==s||t[26]!==S||t[27]!==R||t[28]!==_.colors||t[29]!==h?(i=h&&(0,Ft.jsx)(tr.default,{testID:`feed-${s}-toggleSave`,disabled:S,accessibilityRole:"button",accessibilityLabel:y({id:"Yy3FzB"}),accessibilityHint:"",onPress:R,hitSlop:15,style:GI.btn,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:["far","trash-can"],size:19,color:_.colors.icon})}),t[24]=y,t[25]=s,t[26]=S,t[27]=R,t[28]=_.colors,t[29]=h,t[30]=i):i=t[30],t[31]!==o||t[32]!==r||t[33]!==i?(a=(0,Ft.jsxs)(wo.default,{style:o,children:[r,i]}),t[31]=o,t[32]=r,t[33]=i,t[34]=a):a=t[34],a}const E=`feed-${n.displayName}`,M=m?0:Gn.default.hairlineWidth;let B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re;return t[35]!==M?(B={borderTopWidth:M},t[35]=M,t[36]=B):B=t[36],t[37]!==_.border||t[38]!==r||t[39]!==B?(O=[GI.container,_.border,r,B],t[37]=_.border,t[38]=r,t[39]=B,t[40]=O):O=t[40],t[41]!==n.creatorDid||t[42]!==n.type||t[43]!==n.uri||t[44]!==j?(z=e=>{const t=jv(e);"feed"===n.type?t?Yj.default.openURL(`/profile/${n.creatorDid}/feed/${new Is.AtUri(n.uri).rkey}`):j.push("ProfileFeed",{name:n.creatorDid,rkey:new Is.AtUri(n.uri).rkey}):"list"===n.type&&(t?Yj.default.openURL(`/profile/${n.creatorDid}/lists/${new Is.AtUri(n.uri).rkey}`):j.push("ProfileList",{name:n.creatorDid,rkey:new Is.AtUri(n.uri).rkey}))},t[41]=n.creatorDid,t[42]=n.type,t[43]=n.uri,t[44]=j,t[45]=z):z=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(H=[GI.headerContainer,kl.align_center],t[46]=H):H=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(N=[oc.mr10],t[47]=N):N=t[47],t[48]!==n.avatar?(V=(0,Ft.jsx)(wo.default,{style:N,children:(0,Ft.jsx)(mP,{type:"algo",size:36,avatar:n.avatar})}),t[48]=n.avatar,t[49]=V):V=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(q=[GI.headerTextContainer],t[50]=q):q=t[50],t[51]!==_.text?(U=[_.text,oc.bold],t[51]=_.text,t[52]=U):U=t[52],t[53]!==n.displayName||t[54]!==U?(W=(0,Ft.jsx)(Tx,{emoji:!0,style:U,numberOfLines:1,children:n.displayName}),t[53]=n.displayName,t[54]=U,t[55]=W):W=t[55],t[56]!==_.textLight?(Z=[_.textLight],t[56]=_.textLight,t[57]=Z):Z=t[57],t[58]!==n.creatorHandle||t[59]!==n.type?(Q="feed"===n.type?(0,Ft.jsx)(ft.Trans,{id:"8BFAg0",values:{0:su(n.creatorHandle,"@")}}):(0,Ft.jsx)(ft.Trans,{id:"munnPn",values:{0:su(n.creatorHandle,"@")}}),t[58]=n.creatorHandle,t[59]=n.type,t[60]=Q):Q=t[60],t[61]!==Z||t[62]!==Q?(K=(0,Ft.jsx)(Tx,{style:Z,numberOfLines:1,children:Q}),t[61]=Z,t[62]=Q,t[63]=K):K=t[63],t[64]!==W||t[65]!==K?($=(0,Ft.jsxs)(wo.default,{style:q,children:[W,K]}),t[64]=W,t[65]=K,t[66]=$):$=t[66],t[67]!==y||t[68]!==n.displayName||t[69]!==v||t[70]!==S||t[71]!==T||t[72]!==F||t[73]!==_.colors||t[74]!==h?(G=h&&(0,Ft.jsx)(wo.default,{style:{alignSelf:"center"},children:(0,Ft.jsx)(tr.default,{testID:`feed-${n.displayName}-toggleSave`,disabled:v||S,accessibilityRole:"button",accessibilityLabel:y(T?{id:"Yy3FzB"}:{id:"hCrQ0L"}),accessibilityHint:"",onPress:F,hitSlop:15,style:GI.btn,children:T?(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:["far","trash-can"],size:19,color:_.colors.icon}):(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"plus",size:18,color:_.colors.link})})}),t[67]=y,t[68]=n.displayName,t[69]=v,t[70]=S,t[71]=T,t[72]=F,t[73]=_.colors,t[74]=h,t[75]=G):G=t[75],t[76]!==V||t[77]!==$||t[78]!==G?(Y=(0,Ft.jsxs)(wo.default,{style:H,children:[V,$,G]}),t[76]=V,t[77]=$,t[78]=G,t[79]=Y):Y=t[79],t[80]!==n.description||t[81]!==p||t[82]!==x?(J=p&&n.description?(0,Ft.jsx)(DC,{style:[x.atoms.text_contrast_high,GI.description],value:n.description,numberOfLines:3}):null,t[80]=n.description,t[81]=p,t[82]=x,t[83]=J):J=t[83],t[84]!==n.likeCount||t[85]!==n.type||t[86]!==_.text||t[87]!==_.textLight||t[88]!==f?(X=f&&"feed"===n.type?(0,Ft.jsx)(Tx,{type:"sm-medium",style:[_.text,_.textLight],children:(0,Ft.jsx)(ft.Trans,{id:"J0wwLX",values:{0:n.likeCount||0}})}):null,t[84]=n.likeCount,t[85]=n.type,t[86]=_.text,t[87]=_.textLight,t[88]=f,t[89]=X):X=t[89],t[90]!==n.uri||t[91]!==O||t[92]!==z||t[93]!==Y||t[94]!==J||t[95]!==X||t[96]!==E?(ee=(0,Ft.jsxs)(tr.default,{testID:E,accessibilityRole:"button",style:O,onPress:z,children:[Y,J,X]},n.uri),t[90]=n.uri,t[91]=O,t[92]=z,t[93]=Y,t[94]=J,t[95]=X,t[96]=E,t[97]=ee):ee=t[97],t[98]!==y?(te=y({id:"am/CTH"}),t[98]=y,t[99]=te):te=t[99],t[100]!==y||t[101]!==n.displayName?(se=y({id:"YLNqqE",values:{0:n.displayName}}),t[100]=y,t[101]=n.displayName,t[102]=se):se=t[102],t[103]!==y?(ne=y({id:"t/YqKh"}),t[103]=y,t[104]=ne):ne=t[104],t[105]!==R||t[106]!==b||t[107]!==te||t[108]!==se||t[109]!==ne?(oe=(0,Ft.jsx)(bx,{control:b,title:te,description:se,onConfirm:R,confirmButtonCta:ne,confirmButtonColor:"negative"}),t[105]=R,t[106]=b,t[107]=te,t[108]=se,t[109]=ne,t[110]=oe):oe=t[110],t[111]!==ee||t[112]!==oe?(re=(0,Ft.jsxs)(Ft.Fragment,{children:[ee,oe]}),t[111]=ee,t[112]=oe,t[113]=re):re=t[113],re}const GI=Gn.default.create({container:{paddingHorizontal:18,paddingVertical:20,flexDirection:"column",flex:1,gap:14},border:{borderTopWidth:Gn.default.hairlineWidth},headerContainer:{flexDirection:"row"},headerTextContainer:{flexDirection:"column",columnGap:4,flex:1},description:{flex:1,flexWrap:"wrap"},btn:{paddingVertical:6}}),YI=Symbol("PostTombstone"),JI=new At.default,XI=new WeakMap;function eR(e){const t=(0,i.c)(10);let s;t[0]!==e?(s=()=>XI.get(e),t[0]=e,t[1]=s):s=t[1];const[n,o]=(0,mt.useState)(s),[r,a]=(0,mt.useState)(e);let l,c,d;if(e!==r&&(a(e),o(XI.get(e))),t[2]!==e?(l=()=>{const t=function(){o(XI.get(e))};return JI.addListener(e.uri,t),()=>{JI.removeListener(e.uri,t)}},c=[e,o],t[2]=e,t[3]=l,t[4]=c):(l=t[3],c=t[4]),(0,mt.useEffect)(l,c),n){let s;t[5]!==e||t[6]!==n?(s=function(e,t){if(t.isDeleted)return YI;let s=e.likeCount??0;if("likeUri"in t){const n=!!e.viewer?.like,o=!!t.likeUri;n&&!o?s--:!n&&o&&s++,s=Math.max(0,s)}let n,o=e.repostCount??0;if("repostUri"in t){const s=!!e.viewer?.repost,n=!!t.repostUri;s&&!n?o--:!s&&n&&o++,o=Math.max(0,o)}"embed"in t&&(Is.AppBskyEmbedRecord.isView(e.embed)&&Is.AppBskyEmbedRecord.isView(t.embed)||Is.AppBskyEmbedRecordWithMedia.isView(e.embed)&&Is.AppBskyEmbedRecordWithMedia.isView(t.embed))&&(n=t.embed);return Object.assign({},e,{embed:n||e.embed,likeCount:s,repostCount:o,viewer:Object.assign({},e.viewer||{},{like:"likeUri"in t?t.likeUri:e.viewer?.like,repost:"repostUri"in t?t.repostUri:e.viewer?.repost,pinned:"pinned"in t?t.pinned:e.viewer?.pinned})})}(e,n),t[5]=e,t[6]=n,t[7]=s):s=t[7],d=s}else{let s;t[8]!==e?(s=e,t[8]=e,t[9]=s):s=t[9],d=s}return d}function tR(e,t,s){const n=function*(e,t){for(let s of $x(e,t))yield s;for(let s of Fb(e,t))yield s;for(let s of i_(e,t))"post"===s.type&&(yield s.post);for(let s of Hg(e,t))yield s;for(let s of Eg(e,t))yield s;for(let s of Cg(e,t))yield s}(e,t);for(let o of n)XI.set(o,Object.assign({},XI.get(o),s));(0,D_.unstable_batchedUpdates)((()=>{JI.emit(t)}))}var sR=s(55125);const nR=zr({path:"M6.5 3a1 1 0 0 1 1-1h9a1 1 0 0 1 1 1v3.997a6.25 6.25 0 0 0 1.83 4.42l.377.376A1 1 0 0 1 20 12.5V15a1 1 0 0 1-1 1h-6v5a1 1 0 1 1-2 0v-5H5a1 1 0 0 1-1-1v-2.5a1 1 0 0 1 .293-.707l.376-.377A6.25 6.25 0 0 0 6.5 6.996V3.001Zm2 1v2.997a8.25 8.25 0 0 1-2.416 5.834L6 12.914V14h12v-1.086l-.084-.083A8.25 8.25 0 0 1 15.5 6.997V4h-7Z"}),oR=zr({path:"M7.5 2a1 1 0 0 0-1 1v3.997a6.25 6.25 0 0 1-1.83 4.42l-.377.376A1 1 0 0 0 4 12.5V15a1 1 0 0 0 1 1h6v5a1 1 0 1 0 2 0v-5h6a1 1 0 0 0 1-1v-2.5a1 1 0 0 0-.293-.707l-.376-.377a6.25 6.25 0 0 1-1.831-4.42V3.001a1 1 0 0 0-1-1h-9Z"}),rR=["view","children"],iR=["description"],aR=["view","pin"],lR=["view","pin","text"];function cR(e){const t=(0,i.c)(22),{view:s}=e;let n,o,r,a,l;t[0]!==s.avatar?(n=(0,Ft.jsx)(hR,{src:s.avatar}),t[0]=s.avatar,t[1]=n):n=t[1],t[2]!==s.creator||t[3]!==s.displayName?(o=(0,Ft.jsx)(fR,{title:s.displayName,creator:s.creator}),t[2]=s.creator,t[3]=s.displayName,t[4]=o):o=t[4],t[5]!==s?(r=(0,Ft.jsx)(yR,{view:s,pin:!0}),t[5]=s,t[6]=r):r=t[6],t[7]!==n||t[8]!==o||t[9]!==r?(a=(0,Ft.jsxs)(mR,{children:[n,o,r]}),t[7]=n,t[8]=o,t[9]=r,t[10]=a):a=t[10],t[11]!==s.description?(l=(0,Ft.jsx)(xR,{description:s.description}),t[11]=s.description,t[12]=l):l=t[12];const c=s.likeCount||0;let d,u,m;return t[13]!==c?(d=(0,Ft.jsx)(_R,{count:c}),t[13]=c,t[14]=d):d=t[14],t[15]!==a||t[16]!==l||t[17]!==d?(u=(0,Ft.jsxs)(uR,{children:[a,l,d]}),t[15]=a,t[16]=l,t[17]=d,t[18]=u):u=t[18],t[19]!==e||t[20]!==u?(m=(0,Ft.jsx)(dR,Object.assign({},e,{children:u})),t[19]=e,t[20]=u,t[21]=m):m=t[21],m}function dR(e){const t=(0,i.c)(16);let s,n,o;if(t[0]!==e){var r=e;({view:o,children:s}=r),n=(0,ls.default)(r,rR),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const a=(0,wd.useQueryClient)();let l,c;t[4]!==o?(c=function({feed:e}){const t=new Is.AtUri(e.uri);return`/profile/${e.creator.handle||e.creator.did}/feed/${t.rkey}`}({feed:o}),t[4]=o,t[5]=c):c=t[5],l=c;const d=l;let u,m,h,p;return t[6]!==a||t[7]!==o?(u=()=>{!function(e,t){ZI(e,kI(t))}(a,o)},m=[o,a],t[6]=a,t[7]=o,t[8]=u,t[9]=m):(u=t[8],m=t[9]),mt.useEffect(u,m),t[10]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.flex_col],t[10]=h):h=t[10],t[11]!==s||t[12]!==d||t[13]!==n||t[14]!==o.displayName?(p=(0,Ft.jsx)(pv,Object.assign({label:o.displayName,to:d,style:h},n,{children:s})),t[11]=s,t[12]=d,t[13]=n,t[14]=o.displayName,t[15]=p):p=t[15],p}function uR(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.w_full,kl.gap_sm],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function mR(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_row,kl.align_center,kl.gap_sm],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function hR(e){const t=(0,i.c)(3),{src:s,size:n}=e,o=void 0===n?40:n;let r;return t[0]!==o||t[1]!==s?(r=(0,Ft.jsx)(mP,{type:"algo",size:o,avatar:s}),t[0]=o,t[1]=s,t[2]=r):r=t[2],r}function pR(e){const t=(0,i.c)(5),{size:s}=e,n=void 0===s?40:s,o=ec();let r,a;return t[0]!==n?(r={width:n,height:n,borderRadius:8},t[0]=n,t[1]=r):r=t[1],t[2]!==o.atoms.bg_contrast_25||t[3]!==r?(a=(0,Ft.jsx)(wo.default,{style:[o.atoms.bg_contrast_25,r]}),t[2]=o.atoms.bg_contrast_25,t[3]=r,t[4]=a):a=t[4],a}function fR(e){const t=(0,i.c)(10),{title:s,creator:n}=e,o=ec();let r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_1],t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.text_md,kl.font_bold,kl.leading_snug],t[1]=a):a=t[1],t[2]!==s?(l=(0,Ft.jsx)(fr,{emoji:!0,style:a,numberOfLines:1,children:s}),t[2]=s,t[3]=l):l=t[3],t[4]!==n||t[5]!==o?(c=n&&(0,Ft.jsx)(fr,{style:[kl.leading_snug,o.atoms.text_contrast_medium],numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"8BFAg0",values:{0:su(n.handle,"@")}})}),t[4]=n,t[5]=o,t[6]=c):c=t[6],t[7]!==l||t[8]!==c?(d=(0,Ft.jsxs)(wo.default,{style:r,children:[l,c]}),t[7]=l,t[8]=c,t[9]=d):d=t[9],d}function gR(e){const t=(0,i.c)(10),{creator:s}=e,n=ec();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1,kl.gap_xs],t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r={width:"60%",height:14},t[1]=r):r=t[1],t[2]!==n.atoms.bg_contrast_50?(a=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,n.atoms.bg_contrast_50,r]}),t[2]=n.atoms.bg_contrast_50,t[3]=a):a=t[3],t[4]!==s||t[5]!==n.atoms.bg_contrast_25?(l=s&&(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,n.atoms.bg_contrast_25,{width:"40%",height:10}]}),t[4]=s,t[5]=n.atoms.bg_contrast_25,t[6]=l):l=t[6],t[7]!==a||t[8]!==l?(c=(0,Ft.jsxs)(wo.default,{style:o,children:[a,l]}),t[7]=a,t[8]=l,t[9]=c):c=t[9],c}function xR(e){const t=(0,i.c)(9);let s,n,o;if(t[0]!==e){var r=e;({description:s}=r),n=(0,ls.default)(r,iR),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];e:{if(!s){o=void 0;break e}const e=s||"";let n;t[3]!==e?(n=new Is.RichText({text:e}),n.detectFacetsWithoutResolution(),t[3]=e,t[4]=n):n=t[4],o=n}const a=o;if(!a)return null;let l,c;return t[5]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.leading_snug],t[5]=l):l=t[5],t[6]!==n||t[7]!==a?(c=(0,Ft.jsx)(DC,Object.assign({value:a,style:l,disableLinks:!0},n)),t[6]=n,t[7]=a,t[8]=c):c=t[8],c}function _R(e){const t=(0,i.c)(7),{count:s}=e,n=ec();let o;t[0]!==n.atoms.text_contrast_medium?(o=[kl.text_sm,n.atoms.text_contrast_medium],t[0]=n.atoms.text_contrast_medium,t[1]=o):o=t[1];const r=s||0;let a,l;return t[2]!==r?(a=(0,Ft.jsx)(ft.Trans,{id:"J0wwLX",values:{0:r}}),t[2]=r,t[3]=a):a=t[3],t[4]!==o||t[5]!==a?(l=(0,Ft.jsx)(fr,{style:o,children:a}),t[4]=o,t[5]=a,t[6]=l):l=t[6],l}function yR(e){const t=(0,i.c)(8);let s,n,o;if(t[0]!==e){var r=e;({view:o,pin:s}=r),n=(0,ls.default)(r,aR),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const{hasSession:a}=xh();if(!a)return null;let l;return t[4]!==s||t[5]!==n||t[6]!==o?(l=(0,Ft.jsx)(bR,Object.assign({view:o,pin:s},n)),t[4]=s,t[5]=n,t[6]=o,t[7]=l):l=t[7],l}function bR(e){let{view:t,pin:s,text:n=!0}=e,o=(0,ls.default)(e,lR);const{_:r}=(0,ft.useLingui)(),{data:i}=Fh(),{isPending:a,mutateAsync:l}=Hh(),{isPending:c,mutateAsync:d}=Nh(),u=t.uri,m=t.uri.includes("app.bsky.feed.generator")?"feed":"list",h=mt.useMemo((()=>i?.savedFeeds?.find((e=>e.value===u))),[i?.savedFeeds,u]),p=Ar(),f=a||c,g=mt.useCallback((async e=>{e.preventDefault(),e.stopPropagation();try{h?await d(h):await l([{type:m,value:u,pinned:s||!1}]),Zu(r({id:"oIkrPj"}))}catch(t){ys.error(t,{message:"FeedCard: failed to update feeds",pin:s}),Zu(r({id:"fZjiHu"}),"xmark")}}),[r,s,l,d,u,h,m]),x=mt.useCallback((async e=>{e.preventDefault(),e.stopPropagation(),p.open()}),[p]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,Object.assign({disabled:f,label:r({id:"Rj4BN+"}),size:"small",variant:"solid",color:h?"secondary":"primary",onPress:h?x:g},o,{children:h?(0,Ft.jsxs)(Ft.Fragment,{children:[f?(0,Ft.jsx)(Pr,{size:"md",icon:wv}):!n&&(0,Ft.jsx)(Pr,{size:"md",icon:jS}),n&&(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6AOnq0"})})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Pr,{size:"md",icon:f?wv:nR}),n&&(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"GPwCPg"})})]})})),(0,Ft.jsx)(bx,{control:p,title:r({id:"am/CTH"}),description:r({id:"6VFU83"}),onConfirm:g,confirmButtonCta:r({id:"t/YqKh"}),confirmButtonColor:"negative"})]})}const jR=mt.createContext({}),vR=()=>mt.useContext(jR);function wR(e){const t=(0,i.c)(22),{modui:s,isContentVisibleInitialState:n,allowOverride:o,children:r}=e,a=Ar(),l=s?.blurs[0],[c,d]=mt.useState(n||!l),u=DS(l);let m;t[0]!==s?.blurs?(m=s?.blurs.find(SR),t[0]=s?.blurs,t[1]=m):m=t[1];const h=Boolean(m),p=o??!s?.noOverride;let f;t[2]!==h||t[3]!==p?(f={isNoPwi:h,allowOverride:p},t[2]=h,t[3]=p,t[4]=f):f=t[4];const g=f;let x;t[5]!==a?(x=()=>{a.open()},t[5]=a,t[6]=x):x=t[6];const _=x;let y;t[7]!==g?(y=e=>{g.allowOverride&&d(e)},t[7]=g,t[8]=y):y=t[8];const b=y;let j;t[9]!==u||t[10]!==c||t[11]!==g||t[12]!==b||t[13]!==_?(j={isContentVisible:c,setIsContentVisible:b,showInfoDialog:_,info:u,meta:g},t[9]=u,t[10]=c,t[11]=g,t[12]=b,t[13]=_,t[14]=j):j=t[14];const v=j;let w,S;return t[15]!==l||t[16]!==a?(w=(0,Ft.jsx)(NS,{control:a,modcause:l}),t[15]=l,t[16]=a,t[17]=w):w=t[17],t[18]!==r||t[19]!==v||t[20]!==w?(S=(0,Ft.jsxs)(jR.Provider,{value:v,children:[r,w]}),t[18]=r,t[19]=v,t[20]=w,t[21]=S):S=t[21],S}function SR(e){return"label"===e.type&&"!no-unauthenticated"===e.labelDef.identifier}function kR(e){const{children:t}=e;return vR().isContentVisible?t:null}function CR(e){const{children:t}=e;return vR().isContentVisible?null:t}const PR=["view","children"],TR="app.bsky.graph.defs#curatelist",LR="app.bsky.graph.defs#modlist";function AR(e){const t=(0,i.c)(39),{view:s,showPinButton:n}=e,o=Op();let r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j;if(t[0]!==o||t[1]!==e||t[2]!==s){const n=o?(0,Is.moderateUserList)(s,o):void 0;c=IR,f=e,l=uR,a=mR,t[13]!==s.avatar?(p=(0,Ft.jsx)(hR,{src:s.avatar}),t[13]=s.avatar,t[14]=p):p=t[14],r=RR,d=s.name,u=s.creator,m=s.purpose,h=n?.ui("contentView"),t[0]=o,t[1]=e,t[2]=s,t[3]=r,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f}else r=t[3],a=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12];return t[15]!==r||t[16]!==d||t[17]!==u||t[18]!==m||t[19]!==h?(g=(0,Ft.jsx)(r,{title:d,creator:u,purpose:m,modUi:h}),t[15]=r,t[16]=d,t[17]=u,t[18]=m,t[19]=h,t[20]=g):g=t[20],t[21]!==n||t[22]!==s?(x=n&&s.purpose===TR&&(0,Ft.jsx)(yR,{view:s,pin:!0}),t[21]=n,t[22]=s,t[23]=x):x=t[23],t[24]!==a||t[25]!==p||t[26]!==g||t[27]!==x?(_=(0,Ft.jsxs)(a,{children:[p,g,x]}),t[24]=a,t[25]=p,t[26]=g,t[27]=x,t[28]=_):_=t[28],t[29]!==s.description?(y=(0,Ft.jsx)(xR,{description:s.description}),t[29]=s.description,t[30]=y):y=t[30],t[31]!==l||t[32]!==_||t[33]!==y?(b=(0,Ft.jsxs)(l,{children:[_,y]}),t[31]=l,t[32]=_,t[33]=y,t[34]=b):b=t[34],t[35]!==c||t[36]!==b||t[37]!==f?(j=(0,Ft.jsx)(c,Object.assign({},f,{children:b})),t[35]=c,t[36]=b,t[37]=f,t[38]=j):j=t[38],j}function IR(e){const t=(0,i.c)(15);let s,n,o;if(t[0]!==e){var r=e;({view:o,children:s}=r),n=(0,ls.default)(r,PR),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const a=(0,wd.useQueryClient)();let l,c;t[4]!==o?(c=function({list:e}){const t=new Is.AtUri(e.uri);return`/profile/${e.creator.handle||e.creator.did}/lists/${t.rkey}`}({list:o}),t[4]=o,t[5]=c):c=t[5],l=c;const d=l;let u,m,h;return t[6]!==a||t[7]!==o?(u=()=>{QI(a,o)},m=[o,a],t[6]=a,t[7]=o,t[8]=u,t[9]=m):(u=t[8],m=t[9]),mt.useEffect(u,m),t[10]!==s||t[11]!==d||t[12]!==n||t[13]!==o.name?(h=(0,Ft.jsx)(pv,Object.assign({label:o.name,to:d},n,{children:s})),t[10]=s,t[11]=d,t[12]=n,t[13]=o.name,t[14]=h):h=t[14],h}function RR(e){const t=(0,i.c)(19),{title:s,creator:n,purpose:o,modUi:r}=e,a=void 0===o?TR:o,l=ec(),{_:c}=(0,ft.useLingui)(),{currentAccount:d}=xh();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_1],t[0]=u):u=t[0];const m=n&&d?.did===n.did,h=n&&d?.did===n.did;let p,f,g,x,_,y,b;return t[1]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.text_md,kl.font_bold,kl.leading_snug,kl.italic],t[1]=p):p=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(CR,{children:(0,Ft.jsx)(fr,{style:p,numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"ould6f"})})}),t[2]=f):f=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.text_md,kl.font_bold,kl.leading_snug],t[3]=g):g=t[3],t[4]!==s?(x=(0,Ft.jsx)(kR,{children:(0,Ft.jsx)(fr,{emoji:!0,style:g,numberOfLines:1,children:s})}),t[4]=s,t[5]=x):x=t[5],t[6]!==r||t[7]!==m||t[8]!==h||t[9]!==x?(_=(0,Ft.jsxs)(wR,{modui:r,isContentVisibleInitialState:m,allowOverride:h,children:[f,x]}),t[6]=r,t[7]=m,t[8]=h,t[9]=x,t[10]=_):_=t[10],t[11]!==c||t[12]!==n||t[13]!==a||t[14]!==l?(y=n&&(0,Ft.jsx)(fr,{emoji:!0,style:[kl.leading_snug,l.atoms.text_contrast_medium],numberOfLines:1,children:c(a===LR?{id:"h+3Tua",values:{0:su(n.handle,"@")}}:{id:"munnPn",values:{0:su(n.handle,"@")}})}),t[11]=c,t[12]=n,t[13]=a,t[14]=l,t[15]=y):y=t[15],t[16]!==y||t[17]!==_?(b=(0,Ft.jsxs)(wo.default,{style:u,children:[_,y]}),t[16]=y,t[17]=_,t[18]=b):b=t[18],b}function DR(e){const t=(0,i.c)(10),{testID:s,modui:n,ignoreMute:o,style:r,childContainerStyle:a,children:l}=e,c=n?.blurs[0];if(!c||o&&Yf(n)){let e;return t[0]!==l||t[1]!==r||t[2]!==s?(e=(0,Ft.jsx)(wo.default,{testID:s,style:r,children:l}),t[0]=l,t[1]=r,t[2]=s,t[3]=e):e=t[3],e}let d;return t[4]!==a||t[5]!==l||t[6]!==n||t[7]!==r||t[8]!==s?(d=(0,Ft.jsx)(FR,{testID:s,modui:n,style:r,childContainerStyle:a,children:l}),t[4]=a,t[5]=l,t[6]=n,t[7]=r,t[8]=s,t[9]=d):d=t[9],d}function FR({testID:e,modui:t,style:s,childContainerStyle:n,children:o}){const r=ec(),{_:i}=(0,ft.useLingui)(),{gtMobile:a}=ql(),[l,c]=mt.useState(!1),d=Ar(),{labelDefs:u}=Zh(),m=LS(),{i18n:h}=(0,ft.useLingui)(),p=t?.blurs[0],f=DS(p),g=mt.useMemo((()=>{if(!t?.blurs||!p)return;if("label"!==p.type||"label"===p.type&&"user"!==p.source.type)return f.name;let e=!1;const s=t.blurs.filter((t=>{if("label"!==t.type)return!1;if("user"!==t.source.type)return!1;if(Kf.includes(t.label.val)){if(e)return!1;e=!0}return!0})).slice(0,2).map((e=>{if("label"!==e.type)return;const t=e.labelDef||IS(u,e.label);return"porn"===t.identifier||"sexual"===t.identifier?i({id:"qLa52r"}):RS(h.locale,m,t).name}));return 0===s.length?f.name:[...new Set(s)].join(", ")}),[i,t?.blurs,p,f.name,u,h.locale,m]);return(0,Ft.jsxs)(wo.default,{testID:e,style:[kl.overflow_hidden,s],children:[(0,Ft.jsx)(NS,{control:d,modcause:p}),(0,Ft.jsx)(Sr,{onPress:e=>{e.preventDefault(),e.stopPropagation(),t.noOverride?d.open():c((e=>!e))},label:f.name,accessibilityHint:t.noOverride?i({id:"dyp7Hm"}):i(l?{id:"IbbZpm"}:{id:"X8XK4K"}),children:e=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.w_full,kl.justify_start,kl.align_center,kl.py_md,kl.px_lg,kl.gap_xs,kl.rounded_sm,r.atoms.bg_contrast_25,a&&[kl.gap_sm,kl.py_lg,kl.mt_xs,kl.px_xl],(e.hovered||e.pressed)&&r.atoms.bg_contrast_50],children:[(0,Ft.jsx)(f.icon,{size:"md",fill:r.atoms.text_contrast_medium.color,style:{marginLeft:-2}}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.text_left,kl.font_bold,kl.leading_snug,a&&[kl.font_bold],r.atoms.text_contrast_medium,_o({marginBottom:1})],numberOfLines:2,children:g}),!t.noOverride&&(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.leading_snug,a&&[kl.font_bold],r.atoms.text_contrast_high,_o({marginBottom:1})],children:l?(0,Ft.jsx)(ft.Trans,{id:"vLyv1R"}):(0,Ft.jsx)(ft.Trans,{id:"8vETh9"})})]})}),f.source&&"label"===p.type&&!l&&(0,Ft.jsx)(Sr,{onPress:e=>{e.preventDefault(),e.stopPropagation(),d.open()},label:i({id:"eOaUgD"}),style:[kl.pt_sm],children:e=>(0,Ft.jsxs)(fr,{style:[kl.flex_1,kl.text_sm,kl.font_normal,kl.leading_snug,r.atoms.text_contrast_medium,kl.text_left],children:["user"===f.sourceType?(0,Ft.jsx)(ft.Trans,{id:"WeiD66"}):(0,Ft.jsx)(ft.Trans,{id:"CaKI7F",values:{0:Qf(f.source)}})," ",(0,Ft.jsx)(fr,{style:[{color:r.palette.primary_500},kl.text_sm,e.hovered&&[_o({textDecoration:"underline"})]],children:(0,Ft.jsx)(ft.Trans,{id:"F6TdXL"})})]})}),l&&(0,Ft.jsx)(wo.default,{style:n,children:o})]})}const ER=zr({path:"M14 5a1 1 0 1 1 0-2h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14ZM4 13a1 1 0 0 1 1 1v3.586l4.293-4.293a1 1 0 0 1 1.414 1.414L6.414 19H10a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1v-6a1 1 0 0 1 1-1Z"}),MR=zr({path:"M20.957 3.043a1 1 0 0 1 0 1.414L16.414 9H20a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1V4a1 1 0 1 1 2 0v3.586l4.543-4.543a1 1 0 0 1 1.414 0ZM3 14a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 1 1-2 0v-3.586l-4.543 4.543a1 1 0 0 1-1.414-1.414L7.586 15H4a1 1 0 0 1-1-1Z"});zr({path:"M13 4a1 1 0 0 1 1-1h5a2 2 0 0 1 2 2v5a1 1 0 1 1-2 0V6.414l-4.293 4.293a1 1 0 0 1-1.414-1.414L17.586 5H14a1 1 0 0 1-1-1Zm-9 9a1 1 0 0 1 1 1v3.586l4.293-4.293a1 1 0 0 1 1.414 1.414L6.414 19H10a1 1 0 1 1 0 2H5a2 2 0 0 1-2-2v-5a1 1 0 0 1 1-1Z"}),zr({path:"M20.957 3.043a1 1 0 0 1 0 1.414L16.414 9H20a1 1 0 1 1 0 2h-5a2 2 0 0 1-2-2V4a1 1 0 1 1 2 0v3.586l4.543-4.543a1 1 0 0 1 1.414 0ZM3 14a1 1 0 0 1 1-1h5a2 2 0 0 1 2 2v5a1 1 0 1 1-2 0v-3.586l-4.543 4.543a1 1 0 0 1-1.414-1.414L7.586 15H4a1 1 0 0 1-1-1Z"});function BR(e){const t=(0,i.c)(16),{aspectRatio:s,fullBleed:n,children:o}=e,r=ec(),{gtMobile:a}=ql();let l;l=100*(kt||!a?Math.min(1/s,1.7777777777777777):Math.min(1/s,1))+"%";const c=l;let d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.w_full],t[0]=d):d=t[0],t[1]!==c?(u=[kl.overflow_hidden,{paddingTop:c}],t[1]=c,t[2]=u):u=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.absolute,kl.inset_0,kl.flex_row],t[3]=m):m=t[3],t[4]!==s||t[5]!==n?(h=n?kl.w_full:{aspectRatio:s},t[4]=s,t[5]=n,t[6]=h):h=t[6],t[7]!==r.atoms.bg_contrast_25||t[8]!==h?(p=[kl.h_full,kl.rounded_md,kl.overflow_hidden,r.atoms.bg_contrast_25,h],t[7]=r.atoms.bg_contrast_25,t[8]=h,t[9]=p):p=t[9],t[10]!==o||t[11]!==p?(f=(0,Ft.jsx)(wo.default,{style:m,children:(0,Ft.jsx)(wo.default,{style:p,children:o})}),t[10]=o,t[11]=p,t[12]=f):f=t[12],t[13]!==u||t[14]!==f?(g=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(wo.default,{style:u,children:f})}),t[13]=u,t[14]=f,t[15]=g):g=t[15],g}function OR(e){const t=(0,i.c)(55),{image:s,crop:n,hideBadge:o,onPress:r,onLongPress:a,onPressIn:l}=e,c=void 0===n?"constrained":n,d=ec(),{_:u}=(0,ft.useLingui)(),m=rd(),h=fA(),p=(0,mt.useRef)(null);let f;const g=s.aspectRatio;let x,_,y;g&&(f=g.width/g.height,Number.isNaN(f)&&(f=void 0)),void 0!==f&&(x=Math.max(f,.5),_=Math.max(f,.25),y=f<x);const b="none"===c,j=y&&!b,v=void 0===f,w=!!s.alt;let S;t[0]===Symbol.for("react.memo_cache_sentinel")?(S={flex:1},t[0]=S):S=t[0];const k=v?"contain":"cover";let C,P,T,L,A,I;t[1]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.w_full,kl.h_full],t[1]=C):C=t[1],t[2]!==v?(P=e=>{v||(p.current={width:e.source.width,height:e.source.height})},t[2]=v,t[3]=P):P=t[3],t[4]!==s.alt||t[5]!==s.thumb||t[6]!==k||t[7]!==P?(T=(0,Ft.jsx)(SS.Image,{contentFit:k,style:C,source:s.thumb,accessible:!0,accessibilityIgnoresInvertColors:!0,accessibilityLabel:s.alt,accessibilityHint:"",onLoad:P}),t[4]=s.alt,t[5]=s.thumb,t[6]=k,t[7]=P,t[8]=T):T=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(lP,{}),t[9]=L):L=t[9],t[10]!==w||t[11]!==o||t[12]!==j||t[13]!==m||t[14]!==d?(A=!w&&!j||o?null:(0,Ft.jsxs)(wo.default,{accessible:!1,style:[kl.absolute,kl.flex_row,{bottom:kl.p_xs.padding,right:kl.p_xs.padding,gap:3},m&&[{gap:4}]],children:[j&&(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,d.atoms.bg_contrast_25,{padding:3,opacity:.8},m&&[{padding:5}]],children:(0,Ft.jsx)(ER,{fill:d.atoms.text_contrast_high.color,width:m?18:12})}),w&&(0,Ft.jsx)(wo.default,{style:[kl.justify_center,kl.rounded_xs,d.atoms.bg_contrast_25,{padding:3,opacity:.8},m&&[{padding:5}]],children:(0,Ft.jsx)(fr,{style:[kl.font_heavy,m?kl.text_xs:{fontSize:8}],children:"ALT"})})]}),t[10]=w,t[11]=o,t[12]=j,t[13]=m,t[14]=d,t[15]=A):A=t[15],t[16]!==h||t[17]!==T||t[18]!==A?(I=(0,Ft.jsxs)(wo.default,{ref:h,collapsable:!1,style:S,children:[T,L,A]}),t[16]=h,t[17]=T,t[18]=A,t[19]=I):I=t[19];const R=I;if(b){let e;t[20]!==h||t[21]!==r?(e=()=>r?.(h,p.current),t[20]=h,t[21]=r,t[22]=e):e=t[22];const n=s.alt;let o;t[23]!==u?(o=u({id:"p117IV"}),t[23]=u,t[24]=o):o=t[24];const i=_??1;let c,m,f;return t[25]!==i?(c={aspectRatio:i},t[25]=i,t[26]=c):c=t[26],t[27]!==d.atoms.bg_contrast_25||t[28]!==c?(m=[kl.w_full,kl.rounded_md,kl.overflow_hidden,d.atoms.bg_contrast_25,c],t[27]=d.atoms.bg_contrast_25,t[28]=c,t[29]=m):m=t[29],t[30]!==R||t[31]!==s.alt||t[32]!==a||t[33]!==l||t[34]!==e||t[35]!==o||t[36]!==m?(f=(0,Ft.jsx)(tr.default,{onPress:e,onLongPress:a,onPressIn:l,accessibilityLabel:n,accessibilityHint:o,style:m,children:R}),t[30]=R,t[31]=s.alt,t[32]=a,t[33]=l,t[34]=e,t[35]=o,t[36]=m,t[37]=f):f=t[37],f}{const e="square"===c,n=x??1;let o;t[38]!==h||t[39]!==r?(o=()=>r?.(h,p.current),t[38]=h,t[39]=r,t[40]=o):o=t[40];const i=s.alt;let d,m,f,g;return t[41]!==u?(d=u({id:"p117IV"}),t[41]=u,t[42]=d):d=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.h_full],t[43]=m):m=t[43],t[44]!==R||t[45]!==s.alt||t[46]!==a||t[47]!==l||t[48]!==o||t[49]!==d?(f=(0,Ft.jsx)(tr.default,{onPress:o,onLongPress:a,onPressIn:l,accessibilityLabel:i,accessibilityHint:d,style:m,children:R}),t[44]=R,t[45]=s.alt,t[46]=a,t[47]=l,t[48]=o,t[49]=d,t[50]=f):f=t[50],t[51]!==e||t[52]!==n||t[53]!==f?(g=(0,Ft.jsx)(BR,{fullBleed:e,aspectRatio:n,children:f}),t[51]=e,t[52]=n,t[53]=f,t[54]=g):g=t[54],g}}let zR=function(e){return e.ThreadHighlighted="ThreadHighlighted",e.Feed="Feed",e.FeedEmbedRecordWithMedia="FeedEmbedRecordWithMedia",e}({}),HR=function(e){return e.FeedEmbedRecordWithMedia="FeedEmbedRecordWithMedia",e}({});function NR({images:e,index:t,imageStyle:s,onPress:n,onPressIn:o,onLongPress:r,viewContext:i,insetBorderStyle:a,containerRefs:l,thumbDimsRef:c}){const d=ec(),{_:u}=(0,ft.useLingui)(),m=rd(),h=e[t],p=!!h.alt,f=i===zR.FeedEmbedRecordWithMedia;return(0,Ft.jsxs)(wo.default,{style:kl.flex_1,ref:l[t],collapsable:!1,children:[(0,Ft.jsxs)(tr.default,{onPress:n?()=>n(t,l,c.current.slice()):void 0,onPressIn:o?()=>o(t):void 0,onLongPress:r?()=>r(t):void 0,style:[kl.flex_1,kl.overflow_hidden,d.atoms.bg_contrast_25,s],accessibilityRole:"button",accessibilityLabel:h.alt||u({id:"hG89Ed"}),accessibilityHint:"",children:[(0,Ft.jsx)(SS.Image,{source:{uri:h.thumb},style:[kl.flex_1],accessible:!0,accessibilityLabel:h.alt,accessibilityHint:"",accessibilityIgnoresInvertColors:!0,onLoad:e=>{c.current[t]={width:e.source.width,height:e.source.height}}}),(0,Ft.jsx)(lP,{style:a})]}),p&&!f?(0,Ft.jsx)(wo.default,{accessible:!1,style:[kl.absolute,kl.flex_row,kl.align_center,kl.rounded_xs,d.atoms.bg_contrast_25,{gap:3,padding:3,bottom:kl.p_xs.padding,right:kl.p_xs.padding,opacity:.8},m&&[{gap:4,padding:5}]],children:(0,Ft.jsx)(fr,{style:[kl.font_heavy,m?kl.text_xs:{fontSize:8}],children:"ALT"})}):null]})}const VR=["style"];function qR(e){const t=(0,i.c)(14);let s,n;if(t[0]!==e){var o=e;({style:n}=o),s=(0,ls.default)(o,VR),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const{gtMobile:r}=ql(),a=s.viewContext===zR.FeedEmbedRecordWithMedia?r?kl.gap_xs:kl.gap_2xs:kl.gap_xs;let l,c,d,u;return t[3]!==a?(l=[a,kl.rounded_md,kl.overflow_hidden],t[3]=a,t[4]=l):l=t[4],t[5]!==a||t[6]!==s?(c=(0,Ft.jsx)(UR,Object.assign({},s,{gap:a})),t[5]=a,t[6]=s,t[7]=c):c=t[7],t[8]!==l||t[9]!==c?(d=(0,Ft.jsx)(wo.default,{style:l,children:c}),t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==n||t[12]!==d?(u=(0,Ft.jsx)(wo.default,{style:n,children:d}),t[11]=n,t[12]=d,t[13]=u):u=t[13],u}function UR(e){const t=(0,i.c)(101),s=e.gap,n=e.images.length,o=fA(),r=fA(),a=fA(),l=fA();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[],t[0]=c):c=t[0];const d=mt.useRef(c);switch(n){case 2:{let n;t[1]!==o||t[2]!==r?(n=[o,r],t[1]=o,t[2]=r,t[3]=n):n=t[3];const i=n;let a,l,c,u,m,h,p,f;return t[4]!==s?(a=[kl.flex_1,kl.flex_row,s],t[4]=s,t[5]=a):a=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_1,{aspectRatio:1}],t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=WR(["topRight","bottomRight"]),t[7]=c):c=t[7],t[8]!==i||t[9]!==e||t[10]!==c?(u=(0,Ft.jsx)(wo.default,{style:l,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:0,insetBorderStyle:c,containerRefs:i,thumbDimsRef:d}))}),t[8]=i,t[9]=e,t[10]=c,t[11]=u):u=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.flex_1,{aspectRatio:1}],t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=WR(["topLeft","bottomLeft"]),t[13]=h):h=t[13],t[14]!==i||t[15]!==e||t[16]!==h?(p=(0,Ft.jsx)(wo.default,{style:m,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:1,insetBorderStyle:h,containerRefs:i,thumbDimsRef:d}))}),t[14]=i,t[15]=e,t[16]=h,t[17]=p):p=t[17],t[18]!==a||t[19]!==u||t[20]!==p?(f=(0,Ft.jsxs)(wo.default,{style:a,children:[u,p]}),t[18]=a,t[19]=u,t[20]=p,t[21]=f):f=t[21],f}case 3:{let n;t[22]!==o||t[23]!==r||t[24]!==a?(n=[o,r,a],t[22]=o,t[23]=r,t[24]=a,t[25]=n):n=t[25];const i=n;let l,c,u,m,h,p,f,g,x,_,y,b,j,v;return t[26]!==s?(l=[kl.flex_1,kl.flex_row,s],t[26]=s,t[27]=l):l=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_1,{aspectRatio:1}],t[28]=c):c=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(u=WR(["topRight","bottomRight"]),t[29]=u):u=t[29],t[30]!==i||t[31]!==e||t[32]!==u?(m=(0,Ft.jsx)(wo.default,{style:c,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:0,insetBorderStyle:u,containerRefs:i,thumbDimsRef:d}))}),t[30]=i,t[31]=e,t[32]=u,t[33]=m):m=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(h={aspectRatio:1},t[34]=h):h=t[34],t[35]!==s?(p=[kl.flex_1,h,s],t[35]=s,t[36]=p):p=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.flex_1],t[37]=f):f=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(g=WR(["topLeft","bottomLeft","bottomRight"]),t[38]=g):g=t[38],t[39]!==i||t[40]!==e||t[41]!==g?(x=(0,Ft.jsx)(wo.default,{style:f,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:1,insetBorderStyle:g,containerRefs:i,thumbDimsRef:d}))}),t[39]=i,t[40]=e,t[41]=g,t[42]=x):x=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_1],t[43]=_):_=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(y=WR(["topLeft","bottomLeft","topRight"]),t[44]=y):y=t[44],t[45]!==i||t[46]!==e||t[47]!==y?(b=(0,Ft.jsx)(wo.default,{style:_,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:2,insetBorderStyle:y,containerRefs:i,thumbDimsRef:d}))}),t[45]=i,t[46]=e,t[47]=y,t[48]=b):b=t[48],t[49]!==x||t[50]!==b||t[51]!==p?(j=(0,Ft.jsxs)(wo.default,{style:p,children:[x,b]}),t[49]=x,t[50]=b,t[51]=p,t[52]=j):j=t[52],t[53]!==j||t[54]!==l||t[55]!==m?(v=(0,Ft.jsxs)(wo.default,{style:l,children:[m,j]}),t[53]=j,t[54]=l,t[55]=m,t[56]=v):v=t[56],v}case 4:{let n;t[57]!==o||t[58]!==r||t[59]!==a||t[60]!==l?(n=[o,r,a,l],t[57]=o,t[58]=r,t[59]=a,t[60]=l,t[61]=n):n=t[61];const i=n;let c,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C;return t[62]!==s?(c=[kl.flex_row,s],t[62]=s,t[63]=c):c=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_1,{aspectRatio:1.5}],t[64]=u):u=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(m=WR(["bottomLeft","topRight","bottomRight"]),t[65]=m):m=t[65],t[66]!==i||t[67]!==e||t[68]!==m?(h=(0,Ft.jsx)(wo.default,{style:u,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:0,insetBorderStyle:m,containerRefs:i,thumbDimsRef:d}))}),t[66]=i,t[67]=e,t[68]=m,t[69]=h):h=t[69],t[70]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1,{aspectRatio:1.5}],t[70]=p):p=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(f=WR(["topLeft","bottomLeft","bottomRight"]),t[71]=f):f=t[71],t[72]!==i||t[73]!==e||t[74]!==f?(g=(0,Ft.jsx)(wo.default,{style:p,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:1,insetBorderStyle:f,containerRefs:i,thumbDimsRef:d}))}),t[72]=i,t[73]=e,t[74]=f,t[75]=g):g=t[75],t[76]!==c||t[77]!==h||t[78]!==g?(x=(0,Ft.jsxs)(wo.default,{style:c,children:[h,g]}),t[76]=c,t[77]=h,t[78]=g,t[79]=x):x=t[79],t[80]!==s?(_=[kl.flex_row,s],t[80]=s,t[81]=_):_=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.flex_1,{aspectRatio:1.5}],t[82]=y):y=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(b=WR(["topLeft","topRight","bottomRight"]),t[83]=b):b=t[83],t[84]!==i||t[85]!==e||t[86]!==b?(j=(0,Ft.jsx)(wo.default,{style:y,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:2,insetBorderStyle:b,containerRefs:i,thumbDimsRef:d}))}),t[84]=i,t[85]=e,t[86]=b,t[87]=j):j=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_1,{aspectRatio:1.5}],t[88]=v):v=t[88],t[89]===Symbol.for("react.memo_cache_sentinel")?(w=WR(["topLeft","bottomLeft","topRight"]),t[89]=w):w=t[89],t[90]!==i||t[91]!==e||t[92]!==w?(S=(0,Ft.jsx)(wo.default,{style:v,children:(0,Ft.jsx)(NR,Object.assign({},e,{index:3,insetBorderStyle:w,containerRefs:i,thumbDimsRef:d}))}),t[90]=i,t[91]=e,t[92]=w,t[93]=S):S=t[93],t[94]!==_||t[95]!==j||t[96]!==S?(k=(0,Ft.jsxs)(wo.default,{style:_,children:[j,S]}),t[94]=_,t[95]=j,t[96]=S,t[97]=k):k=t[97],t[98]!==k||t[99]!==x?(C=(0,Ft.jsxs)(Ft.Fragment,{children:[x,k]}),t[98]=k,t[99]=x,t[100]=C):C=t[100],C}default:return null}}function WR(e){const t=[];return e.includes("topLeft")&&t.push({borderTopLeftRadius:0}),e.includes("topRight")&&t.push({borderTopRightRadius:0}),e.includes("bottomLeft")&&t.push({borderBottomLeftRadius:0}),e.includes("bottomRight")&&t.push({borderBottomRightRadius:0}),Gn.default.flatten(t)}function ZR(e){const t=(0,i.c)(68),{control:s,source:n,onAccept:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),l=Ac(),{gtMobile:c}=ql();let d;t[0]!==s||t[1]!==o||t[2]!==l?(d=()=>{for(const e of um)l(e,"show");o(),s.close()},t[0]=s,t[1]=o,t[2]=l,t[3]=d):d=t[3];const u=d;let m;t[4]!==s||t[5]!==o||t[6]!==l||t[7]!==n?(m=()=>{l(n,"show"),o(),s.close()},t[4]=s,t[5]=o,t[6]=l,t[7]=n,t[8]=m):m=t[8];const h=m;let p;t[9]!==s||t[10]!==l||t[11]!==n?(p=()=>{l(n,"hide"),s.close()},t[9]=s,t[10]=l,t[11]=n,t[12]=p):p=t[12];const f=p;let g,x,_,y,b,j;t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(ha,{}),t[13]=g):g=t[13],t[14]!==r?(x=r({id:"aie5G2"}),t[14]=r,t[15]=x):x=t[15],t[16]!==c?(_=c?{width:"auto",maxWidth:400}:kl.w_full,t[16]=c,t[17]=_):_=t[17],t[18]!==_?(y=[_],t[18]=_,t[19]=y):y=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"aie5G2"})}),t[20]=b):b=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.mt_sm,kl.mb_2xl,kl.gap_lg],t[21]=j):j=t[21];const v=mm[n];let w,S,k,C;t[22]!==v?(w=(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"iCR89t",values:{0:v}})}),t[22]=v,t[23]=w):w=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(ft.Trans,{id:"n+JXGp"}),t[24]=S):S=t[24],t[25]!==a.atoms.text_contrast_medium?(k=(0,Ft.jsx)(fr,{style:a.atoms.text_contrast_medium,children:S}),t[25]=a.atoms.text_contrast_medium,t[26]=k):k=t[26],t[27]!==w||t[28]!==k?(C=(0,Ft.jsxs)(wo.default,{style:kl.gap_sm,children:[b,(0,Ft.jsxs)(wo.default,{style:j,children:[w,k]})]}),t[27]=w,t[28]=k,t[29]=C):C=t[29];const P=c&&kl.flex_1;let T,L,A;t[30]!==r?(T=r({id:"Va5mZi"}),t[30]=r,t[31]=T):T=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Va5mZi"})}),t[32]=L):L=t[32],t[33]!==s.close||t[34]!==u||t[35]!==P||t[36]!==T?(A=(0,Ft.jsx)(Sr,{style:P,label:T,onPress:u,onAccessibilityEscape:s.close,color:"primary",size:"large",variant:"solid",children:L}),t[33]=s.close,t[34]=u,t[35]=P,t[36]=T,t[37]=A):A=t[37];const I=c&&kl.flex_1;let R;t[38]!==r?(R=r({id:"EdCVUs"}),t[38]=r,t[39]=R):R=t[39];const D=mm[n];let F,E,M,B,O,z,H,N,V;return t[40]!==D?(F=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"xIKcx6",values:{0:D}})}),t[40]=D,t[41]=F):F=t[41],t[42]!==s.close||t[43]!==h||t[44]!==I||t[45]!==R||t[46]!==F?(E=(0,Ft.jsx)(Sr,{style:I,label:R,onPress:h,onAccessibilityEscape:s.close,color:"secondary",size:"large",variant:"solid",children:F}),t[42]=s.close,t[43]=h,t[44]=I,t[45]=R,t[46]=F,t[47]=E):E=t[47],t[48]!==r?(M=r({id:"tA4dAO"}),t[48]=r,t[49]=M):M=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tA4dAO"})}),t[50]=B):B=t[50],t[51]!==s.close||t[52]!==f||t[53]!==M?(O=(0,Ft.jsx)(Sr,{label:M,onAccessibilityEscape:s.close,onPress:f,color:"secondary",size:"large",variant:"ghost",children:B}),t[51]=s.close,t[52]=f,t[53]=M,t[54]=O):O=t[54],t[55]!==A||t[56]!==E||t[57]!==O?(z=(0,Ft.jsxs)(wo.default,{style:kl.gap_md,children:[A,E,O]}),t[55]=A,t[56]=E,t[57]=O,t[58]=z):z=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(ma,{}),t[59]=H):H=t[59],t[60]!==C||t[61]!==z||t[62]!==x||t[63]!==y?(N=(0,Ft.jsxs)(da,{label:x,style:y,children:[C,z,H]}),t[60]=C,t[61]=z,t[62]=x,t[63]=y,t[64]=N):N=t[64],t[65]!==s||t[66]!==N?(V=(0,Ft.jsxs)(aa,{control:s,children:[g,N]}),t[65]=s,t[66]=N,t[67]=V):V=t[67],V}zr({path:"M5.507 2.13a1 1 0 0 1 1.008.013l15 9a1 1 0 0 1 0 1.714l-15 9A1 1 0 0 1 5 21V3a1 1 0 0 1 .507-.87ZM7 4.766v14.468L19.056 12 7 4.766Z"});const QR=zr({path:"M6.514 2.143A1 1 0 0 0 5 3v18a1 1 0 0 0 1.514.858l15-9a1 1 0 0 0 0-1.716l-15-9Z"}),KR=zr({path:"M5 5.086C5 2.736 7.578 1.3 9.576 2.534L20.77 9.448c1.899 1.172 1.899 3.932 0 5.104L9.576 21.466C7.578 22.701 5 21.263 5 18.914V5.086Zm3.525-.85A1 1 0 0 0 7 5.085v13.828a1 1 0 0 0 1.525.85l11.194-6.913a1 1 0 0 0 0-1.702L8.525 4.235Z"});zr({path:"M9.576 2.534C7.578 1.299 5 2.737 5 5.086v13.828c0 2.35 2.578 3.787 4.576 2.552l11.194-6.914c1.899-1.172 1.899-3.932 0-5.104L9.576 2.534Z"});function $R(e){const t=(0,i.c)(10),{size:s}=e,n=void 0===s?32:s,o=ec(),r="light"===o.name?o.palette.contrast_25:o.palette.contrast_975,a="light"===o.name?o.palette.contrast_975:o.palette.contrast_25,l=n+n/1.5,c=n+n/1.5;let d,u,m;return t[0]!==r||t[1]!==l||t[2]!==c?(d=(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,{backgroundColor:r,shadowColor:"black",shadowRadius:32,shadowOpacity:.5,elevation:24,width:l,height:c,opacity:.7}]}),t[0]=r,t[1]=l,t[2]=c,t[3]=d):d=t[3],t[4]!==a||t[5]!==n?(u=(0,Ft.jsx)(QR,{width:n,fill:a,style:kl.absolute}),t[4]=a,t[5]=n,t[6]=u):u=t[6],t[7]!==d||t[8]!==u?(m=(0,Ft.jsxs)(Ft.Fragment,{children:[d,u]}),t[7]=d,t[8]=u,t[9]=m):m=t[9],m}function GR(e){const t=(0,i.c)(40),{link:s,params:n}=e,o=ec(),r=Lc(),{_:a}=(0,ft.useLingui)(),l=Ar(),[c,d]=mt.useState(!1),[u,m]=mt.useState(!1),[h,p]=mt.useState(!0),f=mt.useRef(null);let g;t[0]!==n.playerUri?(g=()=>{d(!0),SS.Image.prefetch(n.playerUri).then((()=>{m(!0)}))},t[0]=n.playerUri,t[1]=g):g=t[1];const x=g;let _;t[2]!==l||t[3]!==r||t[4]!==c||t[5]!==x||t[6]!==n.source?(_=e=>{e.preventDefault(),void 0!==r?.[n.source]?c?p((e=>e?(kt&&f.current?.stopAnimating(),!1):(kt&&f.current?.startAnimating(),!0))):x():l.open()},t[2]=l,t[3]=r,t[4]=c,t[5]=x,t[6]=n.source,t[7]=_):_=t[7];const y=_;let b,j,v,w,S;t[8]!==l||t[9]!==x||t[10]!==n.source?(b=(0,Ft.jsx)(ZR,{control:l,source:n.source,onAccept:x}),t[8]=l,t[9]=x,t[10]=n.source,t[11]=b):b=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(j={height:300},t[12]=j):j=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(v=[j,kl.w_full,kl.overflow_hidden,{borderBottomLeftRadius:0,borderBottomRightRadius:0}],t[13]=v):v=t[13],t[14]!==a?(w=a({id:"pmtcOG"}),t[14]=a,t[15]=w):w=t[15],t[16]!==a||t[17]!==s.title?(S=a({id:"HL7kZa",values:{0:s.title}}),t[16]=a,t[17]=s.title,t[18]=S):S=t[18];const k=!u||Pt&&!h?s.thumb:n.playerUri;let C,P,T,L,A,I;return t[19]!==k?(C={uri:k},t[19]=k,t[20]=C):C=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(P={flex:1},t[21]=P):P=t[21],t[22]!==h||t[23]!==s.title||t[24]!==C?(T=(0,Ft.jsx)(SS.Image,{source:C,style:P,ref:f,autoplay:h,contentFit:"contain",accessibilityIgnoresInvertColors:!0,accessibilityLabel:s.title,accessibilityHint:s.title,cachePolicy:wt?"disk":"memory-disk"}),t[22]=h,t[23]=s.title,t[24]=C,t[25]=T):T=t[25],t[26]!==h||t[27]!==c||t[28]!==u||t[29]!==o?(L=(!u||!h)&&(0,Ft.jsxs)(aP,{style:[kl.align_center,kl.justify_center],children:[(0,Ft.jsx)(aP,{style:["light"===o.name?o.atoms.bg_contrast_975:o.atoms.bg,{opacity:.3}]}),h&&c?(0,Ft.jsx)(Fx.default,{size:"large",color:"white"}):(0,Ft.jsx)($R,{})]}),t[26]=h,t[27]=c,t[28]=u,t[29]=o,t[30]=L):L=t[30],t[31]!==y||t[32]!==T||t[33]!==L||t[34]!==w||t[35]!==S?(A=(0,Ft.jsxs)(tr.default,{style:v,onPress:y,accessibilityRole:"button",accessibilityHint:w,accessibilityLabel:S,children:[T,L]}),t[31]=y,t[32]=T,t[33]=L,t[34]=w,t[35]=S,t[36]=A):A=t[36],t[37]!==A||t[38]!==b?(I=(0,Ft.jsxs)(Ft.Fragment,{children:[b,A]}),t[37]=A,t[38]=b,t[39]=I):I=t[39],I}var YR=s(54426);function JR(e){const t=(0,i.c)(13),{isLoading:s,isPlayerActive:n,onPress:o}=e,{_:r}=(0,ft.useLingui)();if(n&&!s)return null;let a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.absolute,kl.inset_0,sD.overlayLayer],t[0]=a):a=t[0],t[1]!==r?(l=r({id:"Jf3XqA"}),t[1]=r,t[2]=l):l=t[2],t[3]!==r?(c=r({id:"Y+VyL0"}),t[3]=r,t[4]=c):c=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(d=[sD.overlayContainer],t[5]=d):d=t[5],t[6]!==n?(u=n?(0,Ft.jsx)(Fx.default,{size:"large",color:"white"}):(0,Ft.jsx)($R,{}),t[6]=n,t[7]=u):u=t[7],t[8]!==o||t[9]!==l||t[10]!==c||t[11]!==u?(m=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsx)(tr.default,{accessibilityRole:"button",accessibilityLabel:l,accessibilityHint:c,onPress:o,style:d,children:u})}),t[8]=o,t[9]=l,t[10]=c,t[11]=u,t[12]=m):m=t[12],m}function XR(e){const t=(0,i.c)(10),{params:s,onLoad:n,isPlayerActive:o}=e;let r;t[0]!==s.playerUri||t[1]!==s.source?(r=e=>e.url===s.playerUri||s.source.startsWith("youtube")&&e.url.includes("www.youtube.com"),t[0]=s.playerUri,t[1]=s.source,t[2]=r):r=t[2];const a=r;if(!o)return null;let l,c,d;return t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.absolute,kl.inset_0,sD.playerLayer],t[3]=l):l=t[3],t[4]!==s.playerUri?(c={uri:s.playerUri},t[4]=s.playerUri,t[5]=c):c=t[5],t[6]!==n||t[7]!==a||t[8]!==c?(d=(0,Ft.jsx)(eT,{style:l,children:(0,Ft.jsx)(YR.WebView,{javaScriptEnabled:!0,onShouldStartLoadWithRequest:a,mediaPlaybackRequiresUserAction:!1,allowsInlineMediaPlayback:!0,bounces:!1,allowsFullscreenVideo:!0,nestedScrollEnabled:!0,source:c,onLoad:n,style:sD.webview,setSupportMultipleWindows:!1})}),t[6]=n,t[7]=a,t[8]=c,t[9]=d):d=t[9],d}const eD={code:"function ExternalPlayerEmbedTsx1(){const{measure,viewRef,windowDims,isNative,insets,runOnJS,setPlayerActive}=this.__closure;const measurement=measure(viewRef);if(!measurement){return;}const{height:winHeight,width:winWidth}=windowDims;const realWinHeight=isNative?winHeight>winWidth?winHeight:winWidth:winHeight;const top=measurement.pageY;const bot=measurement.pageY+measurement.height;const isVisible=top<=realWinHeight-insets.bottom&&bot>=insets.top;if(!isVisible){runOnJS(setPlayerActive)(false);}}"};function tD(e){const t=(0,i.c)(43),{link:s,params:n}=e,o=ec(),r=(0,va.useNavigation)(),a=(0,pt.useSafeAreaInsets)(),l=(0,Ny.default)(),c=Lc(),d=Ar(),[u,m]=mt.useState(!1),[h,p]=mt.useState(!0);let f;const g=!!s.thumb;let x;t[0]!==n.type||t[1]!==g||t[2]!==l.width?(x=function({type:e,hasThumb:t,width:s}){if(!t)return{aspectRatio:16/9};switch(e){case"youtube_video":case"twitch_video":case"vimeo_video":default:return{aspectRatio:16/9};case"youtube_short":return cm<600?{aspectRatio:.984375}:{aspectRatio:.84375};case"spotify_album":case"apple_music_album":case"apple_music_playlist":case"spotify_playlist":case"soundcloud_set":return{height:380};case"spotify_song":return s<=300?{height:155}:{height:232};case"soundcloud_track":return{height:165};case"apple_music_song":return{height:150}}}({type:n.type,width:l.width,hasThumb:g}),t[0]=n.type,t[1]=g,t[2]=l.width,t[3]=x):x=t[3],f=x;const _=f,y=(0,ko.useAnimatedRef)(),b=(0,ko.useFrameCallback)(function(){const e=function(){const e=(0,ko.measure)(y);if(!e)return;const{height:t,width:s}=l,n=kt?t>s?t:s:t,o=e.pageY,r=e.pageY+e.height;o<=n-a.bottom&&r>=a.top||(0,ko.runOnJS)(m)(!1)};return e.__closure={measure:ko.measure,viewRef:y,windowDims:l,isNative:kt,insets:a,runOnJS:ko.runOnJS,setPlayerActive:m},e.__workletHash=0xf874cc2b595,e.__initData=eD,e}(),!1);let j,v,w;t[4]!==b||t[5]!==u||t[6]!==r?(j=()=>{if(!u)return;const e=r.addListener("blur",(()=>{m(!1)}));return b.setActive(!0),()=>{e(),b.setActive(!1)}},v=[r,u,b],t[4]=b,t[5]=u,t[6]=r,t[7]=j,t[8]=v):(j=t[7],v=t[8]),mt.useEffect(j,v),t[9]===Symbol.for("react.memo_cache_sentinel")?(w=()=>{p(!1)},t[9]=w):w=t[9];const S=w;let k;t[10]!==d||t[11]!==c||t[12]!==n.source?(k=e=>{e.preventDefault(),void 0!==c?.[n.source]?m(!0):d.open()},t[10]=d,t[11]=c,t[12]=n.source,t[13]=k):k=t[13];const C=k;let P;t[14]===Symbol.for("react.memo_cache_sentinel")?(P=()=>{m(!0)},t[14]=P):P=t[14];const T=P;let L,A,I,R,D,F,E;return t[15]!==d||t[16]!==n.source?(L=(0,Ft.jsx)(ZR,{control:d,source:n.source,onAccept:T}),t[15]=d,t[16]=n.source,t[17]=L):L=t[17],t[18]!==_?(A=[_,kl.overflow_hidden],t[18]=_,t[19]=A):A=t[19],t[20]!==h||t[21]!==u||t[22]!==s.thumb||t[23]!==o.atoms||t[24]!==o.name||t[25]!==o.palette?(I=!s.thumb||u&&!h?(0,Ft.jsx)(aP,{style:[{backgroundColor:"light"===o.name?o.palette.contrast_975:"black",opacity:.3}]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(SS.Image,{style:[kl.flex_1],source:{uri:s.thumb},accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(aP,{style:["light"===o.name?o.atoms.bg_contrast_975:o.atoms.bg,{opacity:.3}]})]}),t[20]=h,t[21]=u,t[22]=s.thumb,t[23]=o.atoms,t[24]=o.name,t[25]=o.palette,t[26]=I):I=t[26],t[27]!==h||t[28]!==u||t[29]!==C?(R=(0,Ft.jsx)(JR,{isLoading:h,isPlayerActive:u,onPress:C}),t[27]=h,t[28]=u,t[29]=C,t[30]=R):R=t[30],t[31]!==u||t[32]!==n?(D=(0,Ft.jsx)(XR,{isPlayerActive:u,params:n,onLoad:S}),t[31]=u,t[32]=n,t[33]=D):D=t[33],t[34]!==A||t[35]!==I||t[36]!==R||t[37]!==D||t[38]!==y?(F=(0,Ft.jsxs)(ko.default.View,{ref:y,collapsable:!1,style:A,children:[I,R,D]}),t[34]=A,t[35]=I,t[36]=R,t[37]=D,t[38]=y,t[39]=F):F=t[39],t[40]!==F||t[41]!==L?(E=(0,Ft.jsxs)(Ft.Fragment,{children:[L,F]}),t[40]=F,t[41]=L,t[42]=E):E=t[42],E}const sD=Gn.default.create({overlayContainer:{flex:1,justifyContent:"center",alignItems:"center"},overlayLayer:{zIndex:2},playerLayer:{zIndex:3},webview:{backgroundColor:"transparent"},gifContainer:{width:"100%",overflow:"hidden"}});class nD extends mt.PureComponent{videoPlayerRef=mt.createRef();isLoaded=!1;constructor(e){super(e)}componentDidUpdate(e){e.autoplay!==this.props.autoplay&&(this.props.autoplay?this.playAsync():this.pauseAsync())}static async prefetchAsync(e){}firePlayerStateChangeEvent=()=>{this.props.onPlayerStateChange?.({nativeEvent:{isPlaying:!this.videoPlayerRef.current?.paused,isLoaded:this.isLoaded}})};onLoad=()=>{this.isLoaded||(this.isLoaded=!0,this.firePlayerStateChangeEvent())};async playAsync(){this.videoPlayerRef.current?.play()}async pauseAsync(){this.videoPlayerRef.current?.pause()}async toggleAsync(){this.videoPlayerRef.current?.paused?await this.playAsync():await this.pauseAsync()}render(){return(0,Ft.jsx)("video",{src:this.props.source,autoPlay:this.props.autoplay?"autoplay":void 0,preload:this.props.autoplay?"auto":void 0,playsInline:!0,loop:"loop",muted:"muted",style:Gn.default.flatten(this.props.style),onCanPlay:this.onLoad,onPlay:this.firePlayerStateChangeEvent,onPause:this.firePlayerStateChangeEvent,"aria-label":this.props.accessibilityLabel,ref:this.videoPlayerRef})}}function oD(e){const t=(0,i.c)(20),{onPress:s,isPlaying:n,isLoaded:o}=e,{_:r}=(0,ft.useLingui)(),a=ec();let l,c;t[0]!==r?(l=r({id:"HBvxx5"}),t[0]=r,t[1]=l):l=t[1],t[2]!==r||t[3]!==n?(c=r(n?{id:"IgrLD/"}:{id:"T91vKp"}),t[2]=r,t[3]=n,t[4]=c):c=t[4];const d=!o&&kl.border,u=o?void 0:a.atoms.bg_contrast_25.backgroundColor;let m,h,p,f;return t[5]!==u?(m={zIndex:2,backgroundColor:u},t[5]=u,t[6]=m):m=t[6],t[7]!==a.atoms.border_contrast_medium||t[8]!==d||t[9]!==m?(h=[kl.absolute,kl.align_center,kl.justify_center,d,a.atoms.border_contrast_medium,kl.inset_0,kl.w_full,kl.h_full,m],t[7]=a.atoms.border_contrast_medium,t[8]=d,t[9]=m,t[10]=h):h=t[10],t[11]!==o||t[12]!==n?(p=o?n?void 0:(0,Ft.jsx)($R,{}):(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.justify_center],children:(0,Ft.jsx)(wv,{size:"xl"})})}),t[11]=o,t[12]=n,t[13]=p):p=t[13],t[14]!==s||t[15]!==l||t[16]!==c||t[17]!==h||t[18]!==p?(f=(0,Ft.jsx)(tr.default,{accessibilityRole:"button",accessibilityHint:l,accessibilityLabel:c,style:h,onPress:s,children:p}),t[14]=s,t[15]=l,t[16]=c,t[17]=h,t[18]=p,t[19]=f):f=t[19],f}function rD(e){const t=(0,i.c)(42),{params:s,thumb:n,altText:o,isPreferredAltText:r,hideAlt:a,style:l}=e;let c;t[0]!==l?(c=void 0===l?{width:"100%"}:l,t[0]=l,t[1]=c):c=t[1];const d=c,u=ec(),{_:m}=(0,ft.useLingui)(),h=yc(),p=mt.useRef(null),f=!h;let g;t[2]!==f?(g={isPlaying:f,isLoaded:!1},t[2]=f,t[3]=g):g=t[3];const[x,_]=mt.useState(g);let y;t[4]===Symbol.for("react.memo_cache_sentinel")?(y=e=>{_(e.nativeEvent)},t[4]=y):y=t[4];const b=y;let j;t[5]===Symbol.for("react.memo_cache_sentinel")?(j=()=>{p.current?.toggleAsync()},t[5]=j):j=t[5];const v=j,w=s.dimensions.width/s.dimensions.height;let S,k,C,P;t[6]!==w?(S={aspectRatio:w},t[6]=w,t[7]=S):S=t[7],t[8]!==d||t[9]!==u.atoms.border_contrast_low||t[10]!==S?(k=[kl.rounded_md,kl.overflow_hidden,kl.border,u.atoms.border_contrast_low,S,d],t[8]=d,t[9]=u.atoms.border_contrast_low,t[10]=S,t[11]=k):k=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.absolute,{top:-2,bottom:-2,left:-2,right:-2}],t[12]=C):C=t[12],t[13]!==x.isLoaded||t[14]!==x.isPlaying?(P=(0,Ft.jsx)(oD,{onPress:v,isPlaying:x.isPlaying,isLoaded:x.isLoaded}),t[13]=x.isLoaded,t[14]=x.isPlaying,t[15]=P):P=t[15];const T=s.playerUri;let L;t[16]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.flex_1],t[16]=L):L=t[16];const A=!h;let I,R,D,F,E,M;return t[17]!==m?(I=m({id:"vJs+vu"}),t[17]=m,t[18]=I):I=t[18],t[19]!==o||t[20]!==s.playerUri||t[21]!==A||t[22]!==I||t[23]!==n?(R=(0,Ft.jsx)(nD,{source:T,placeholderSource:n,style:L,autoplay:A,onPlayerStateChange:b,ref:p,accessibilityHint:I,accessibilityLabel:o}),t[19]=o,t[20]=s.playerUri,t[21]=A,t[22]=I,t[23]=n,t[24]=R):R=t[24],t[25]!==x.isPlaying||t[26]!==u.atoms.bg||t[27]!==u.atoms.bg_contrast_975||t[28]!==u.name?(D=!x.isPlaying&&(0,Ft.jsx)(aP,{style:["light"===u.name?u.atoms.bg_contrast_975:u.atoms.bg,{opacity:.3}]}),t[25]=x.isPlaying,t[26]=u.atoms.bg,t[27]=u.atoms.bg_contrast_975,t[28]=u.name,t[29]=D):D=t[29],t[30]!==o||t[31]!==a||t[32]!==r?(F=!a&&r&&(0,Ft.jsx)(iD,{text:o}),t[30]=o,t[31]=a,t[32]=r,t[33]=F):F=t[33],t[34]!==P||t[35]!==R||t[36]!==D||t[37]!==F?(E=(0,Ft.jsxs)(wo.default,{style:C,children:[P,R,D,F]}),t[34]=P,t[35]=R,t[36]=D,t[37]=F,t[38]=E):E=t[38],t[39]!==E||t[40]!==k?(M=(0,Ft.jsx)(wo.default,{style:k,children:E}),t[39]=E,t[40]=k,t[41]=M):M=t[41],M}function iD(e){const t=(0,i.c)(28),{text:s}=e,n=Ar(),o=rd(),{_:r}=(0,ft.useLingui)();let a;t[0]!==r?(a=r({id:"bBlJ5F"}),t[0]=r,t[1]=a):a=t[1];const l=o&&kl.text_xs;let c,d,u,m,h,p,f,g,x,_,y;return t[2]!==l?(c=[aD.alt,l],t[2]=l,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"u2HO/d"}),t[4]=d):d=t[4],t[5]!==c?(u=(0,Ft.jsx)(fr,{style:c,accessible:!1,children:d}),t[5]=c,t[6]=u):u=t[6],t[7]!==n.open||t[8]!==a||t[9]!==u?(m=(0,Ft.jsx)(Ix.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:a,accessibilityHint:"",hitSlop:wi,onPress:n.open,style:aD.altContainer,children:u}),t[7]=n.open,t[8]=a,t[9]=u,t[10]=m):m=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(fx,{children:(0,Ft.jsx)(ft.Trans,{id:"TEAx2g"})}),t[11]=h):h=t[11],t[12]!==s?(p=(0,Ft.jsx)(gx,{selectable:!0,children:s}),t[12]=s,t[13]=p):p=t[13],t[14]!==n?(f=()=>n.close(),t[14]=n,t[15]=f):f=t[15],t[16]!==r?(g=r({id:"yz7wBu"}),t[16]=r,t[17]=g):g=t[17],t[18]!==g||t[19]!==f?(x=(0,Ft.jsx)(xx,{children:(0,Ft.jsx)(yx,{onPress:f,cta:g,color:"secondary"})}),t[18]=g,t[19]=f,t[20]=x):x=t[20],t[21]!==n||t[22]!==x||t[23]!==p?(_=(0,Ft.jsxs)(px,{control:n,children:[h,p,x]}),t[21]=n,t[22]=x,t[23]=p,t[24]=_):_=t[24],t[25]!==_||t[26]!==m?(y=(0,Ft.jsxs)(Ft.Fragment,{children:[m,_]}),t[25]=_,t[26]=m,t[27]=y):y=t[27],y}const aD=Gn.default.create({altContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:Pt?8:6,paddingVertical:Pt?6:3,position:"absolute",right:Pt?8:5,bottom:Pt?8:5,zIndex:2},alt:{color:"white",fontSize:Pt?10:7,fontWeight:"600"}}),lD=e=>{const t=(0,i.c)(52),{link:s,onOpen:n,style:o,hideAlt:r}=e,{_:a}=(0,ft.useLingui)(),l=ec(),c=lS(),d=Lc(),u=s.uri;let m,h,p,f,g,x,_,y,b,j;if(t[0]!==a||t[1]!==d||t[2]!==r||t[3]!==s||t[4]!==n||t[5]!==c||t[6]!==o){y=Symbol.for("react.early_return_sentinel");{const e=mu(u);let i,l,b;f=s.thumb;{let e;t[15]!==s.uri?(e=fm(s.uri),t[15]=s.uri,t[16]=e):e=t[16];const n=e;n&&"hide"!==d?.[n.source]?i=n:i=void 0}if(h=i,p=Boolean(f||h),t[17]!==n||t[18]!==c?(l=()=>{c("Light"),n?.()},t[17]=n,t[18]=c,t[19]=l):l=t[19],g=l,t[20]!==s.uri||t[21]!==c?(b=()=>{s.uri&&kt&&(c("Heavy"),iv(s.uri))},t[20]=s.uri,t[21]=c,t[22]=b):b=t[22],x=b,"tenor"!==h?.source)m=pv,_=s.title||a({id:"YBWMQi",values:{niceUrl:e}});else{let e;t[23]!==s.description?(e=Sm(s.description),t[23]=s.description,t[24]=e):e=t[24];const n=e;let i,a;t[25]!==h||t[26]!==r||t[27]!==s.thumb||t[28]!==n.alt||t[29]!==n.isPreferred?(i=(0,Ft.jsx)(rD,{params:h,thumb:s.thumb,altText:n.alt,isPreferredAltText:n.isPreferred,hideAlt:r}),t[25]=h,t[26]=r,t[27]=s.thumb,t[28]=n.alt,t[29]=n.isPreferred,t[30]=i):i=t[30],t[31]!==o||t[32]!==i?(a=(0,Ft.jsx)(wo.default,{style:o,children:i}),t[31]=o,t[32]=i,t[33]=a):a=t[33],y=a}}t[0]=a,t[1]=d,t[2]=r,t[3]=s,t[4]=n,t[5]=c,t[6]=o,t[7]=m,t[8]=h,t[9]=p,t[10]=f,t[11]=g,t[12]=x,t[13]=_,t[14]=y}else m=t[7],h=t[8],p=t[9],f=t[10],g=t[11],x=t[12],_=t[13],y=t[14];return y!==Symbol.for("react.early_return_sentinel")?y:(t[34]!==h||t[35]!==p||t[36]!==f||t[37]!==s||t[38]!==o||t[39]!==l.atoms.border_contrast_high||t[40]!==l.atoms.border_contrast_low||t[41]!==l.atoms.text_contrast_high||t[42]!==l.atoms.text_contrast_low||t[43]!==l.atoms.text_contrast_medium?(b=e=>{const{hovered:t}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.transition_color,kl.flex_col,kl.rounded_md,kl.overflow_hidden,kl.w_full,kl.border,o,t?l.atoms.border_contrast_high:l.atoms.border_contrast_low],children:[f&&!h?(0,Ft.jsx)(SS.Image,{style:{aspectRatio:1.91},source:{uri:f},accessibilityIgnoresInvertColors:!0}):void 0,h?.isGif?(0,Ft.jsx)(GR,{link:s,params:h}):h?(0,Ft.jsx)(tD,{link:s,params:h}):void 0,(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.pt_sm,{gap:3},p&&kl.border_t,t?l.atoms.border_contrast_high:l.atoms.border_contrast_low],children:[(0,Ft.jsxs)(wo.default,{style:[{gap:3},kl.pb_xs,kl.px_md],children:[!h?.isGif&&!h?.dimensions&&(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:3,style:[kl.text_md,kl.font_bold,kl.leading_snug],children:s.title||s.uri}),s.description?(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:s.thumb?2:4,style:[kl.text_sm,kl.leading_snug],children:s.description}):void 0]}),(0,Ft.jsxs)(wo.default,{style:[kl.px_md],children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_2xs,kl.pb_sm,{paddingTop:6}],children:[(0,Ft.jsx)(tP,{size:"xs",style:[kl.transition_color,t?l.atoms.text_contrast_medium:l.atoms.text_contrast_low]}),(0,Ft.jsx)(fr,{numberOfLines:1,style:[kl.transition_color,kl.text_xs,kl.leading_snug,t?l.atoms.text_contrast_high:l.atoms.text_contrast_medium],children:mu(s.uri)})]})]})]})]})},t[34]=h,t[35]=p,t[36]=f,t[37]=s,t[38]=o,t[39]=l.atoms.border_contrast_high,t[40]=l.atoms.border_contrast_low,t[41]=l.atoms.text_contrast_high,t[42]=l.atoms.text_contrast_low,t[43]=l.atoms.text_contrast_medium,t[44]=b):b=t[44],t[45]!==m||t[46]!==s.uri||t[47]!==g||t[48]!==x||t[49]!==_||t[50]!==b?(j=(0,Ft.jsx)(m,{label:_,to:s.uri,shouldProxy:!0,onPress:g,onLongPress:x,children:b}),t[45]=m,t[46]=s.uri,t[47]=g,t[48]=x,t[49]=_,t[50]=b,t[51]=j):j=t[51],j)};function cD(e){const t=(0,i.c)(6),{style:s,hover:n}=e,o=ec();if(am)return null;let r;e:switch(o.name){case"dark":r=.4;break e;case"dim":r=.45;break e;case"light":r=.5}const a=n?r:0;let l,c;return t[0]!==a?(l={opacity:a},t[0]=a,t[1]=l):l=t[1],t[2]!==s||t[3]!==o.atoms.bg_contrast_25||t[4]!==l?(c=(0,Ft.jsx)(wo.default,{style:[o.atoms.bg_contrast_25,dD.container,l,s]}),t[2]=s,t[3]=o.atoms.bg_contrast_25,t[4]=l,t[5]=c):c=t[5],c}const dD=Gn.default.create({container:{position:"absolute",left:0,right:0,bottom:0,top:0,pointerEvents:"none",transition:"0.15s ease-in-out opacity"}});function uD(e){const t=(0,i.c)(24),{modui:s,size:n,style:o,additionalCauses:r}=e,a=void 0===n?"sm":n;if(!s.alert&&!s.inform&&!r?.length)return null;let l,c,d,u,m,h;if(t[0]!==a?(l="sm"===a&&{marginLeft:-3},t[0]=a,t[1]=l):l=t[1],t[2]!==o||t[3]!==l?(c=[l,o],t[2]=o,t[3]=l,t[4]=c):c=t[4],t[5]!==s.alerts||t[6]!==a){let e;t[8]!==a?(e=e=>(0,Ft.jsx)(US,{cause:e,size:a,noBg:"sm"===a},Gf(e)),t[8]=a,t[9]=e):e=t[9],d=s.alerts.filter(tg).map(e),t[5]=s.alerts,t[6]=a,t[7]=d}else d=t[7];if(t[10]!==s.informs||t[11]!==a){let e;t[13]!==a?(e=e=>(0,Ft.jsx)(US,{cause:e,size:a,noBg:"sm"===a},Gf(e)),t[13]=a,t[14]=e):e=t[14],u=s.informs.filter(tg).map(e),t[10]=s.informs,t[11]=a,t[12]=u}else u=t[12];return t[15]!==r||t[16]!==a?(m=r?.map((e=>(0,Ft.jsx)(US,{cause:e,size:a,noBg:"sm"===a},Gf(e)))),t[15]=r,t[16]=a,t[17]=m):m=t[17],t[18]!==a||t[19]!==c||t[20]!==d||t[21]!==u||t[22]!==m?(h=(0,Ft.jsxs)(qS,{size:a,style:c,children:[d,u,m]}),t[18]=a,t[19]=c,t[20]=d,t[21]=u,t[22]=m,t[23]=h):h=t[23],h}function mD(e){const t=(0,i.c)(9),{timestamp:s,children:n,timeToString:o}=e,{i18n:r}=(0,ft.useLingui)(),a=HS(),l=Ja();let c;t[0]!==a||t[1]!==r||t[2]!==l||t[3]!==o||t[4]!==s?(c=()=>o?o(r,s):a(s,l),t[0]=a,t[1]=r,t[2]=l,t[3]=o,t[4]=s,t[5]=c):c=t[5];const[d,u]=mt.useState(c),[m,h]=mt.useState(l);let p;return m!==l&&(h(l),u(o?o(r,s):a(s,l))),t[6]!==n||t[7]!==d?(p=n({timeElapsed:d}),t[6]=n,t[7]=d,t[8]=p):p=t[8],p}let hD=e=>{const t=(0,i.c)(74),s=ec(),{i18n:n,_:o}=(0,ft.useLingui)(),r=Ry(e.author),a=r.displayName||r.handle,l=r.handle;let c;t[0]!==r?(c=cS(r),t[0]=r,t[1]=c):c=t[1];const d=c,u=(0,wd.useQueryClient)(),m=e.onOpenAuthor;let h;t[2]!==r||t[3]!==m||t[4]!==u?(h=()=>{ib(u,r),m?.()},t[2]=r,t[3]=m,t[4]=u,t[5]=h):h=t[5];const p=h;let f;t[6]!==r||t[7]!==u?(f=()=>{ib(u,r)},t[6]=r,t[7]=u,t[8]=f):f=t[8];const g=f;let x;t[9]!==n||t[10]!==e.timestamp?(x=kd(n,e.timestamp),t[9]=n,t[10]=e.timestamp,t[11]=x):x=t[11];const _=x;let y;t[12]!==r?(y={profile:r},t[12]=r,t[13]=y):y=t[13];const b=Nk(y),{isActive:j}=nS(r);let v,w,S;t[14]!==e.style?(v=[kl.flex_1,kl.flex_row,kl.align_center,kl.pb_xs,kl.gap_xs,kl.z_20,e.style],t[14]=e.style,t[15]=v):v=t[15],t[16]!==r||t[17]!==j||t[18]!==e.avatarSize||t[19]!==e.moderation||t[20]!==e.showAvatar?(w=e.showAvatar&&(0,Ft.jsx)(wo.default,{style:[kl.self_center,kl.mr_2xs],children:(0,Ft.jsx)(pP,{size:e.avatarSize||16,profile:r,moderation:e.moderation?.ui("avatar"),type:r.associated?.labeler?"labeler":"user",live:j,hideLiveBadge:!0})}),t[16]=r,t[17]=j,t[18]=e.avatarSize,t[19]=e.moderation,t[20]=e.showAvatar,t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_row,kl.align_end,kl.flex_shrink],t[22]=S):S=t[22];const k=r.did;let C,P,T,L,A,I,R,D,F,E;t[23]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.flex_row,kl.align_end,kl.flex_shrink],t[23]=C):C=t[23],t[24]!==o?(P=o({id:"73lp8c"}),t[24]=o,t[25]=P):P=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T={maxWidth:"70%",flexShrink:0},t[26]=T):T=t[26],t[27]!==s.atoms.text?(L=[kl.text_md,kl.font_bold,s.atoms.text,kl.leading_tight,T],t[27]=s.atoms.text,t[28]=L):L=t[28],t[29]!==a||t[30]!==e.moderation?(A=Yd(Qf(a,e.moderation?.ui("displayName"))),t[29]=a,t[30]=e.moderation,t[31]=A):A=t[31],t[32]!==p||t[33]!==d||t[34]!==P||t[35]!==L||t[36]!==A?(I=(0,Ft.jsx)(gv,{emoji:!0,numberOfLines:1,to:d,label:P,disableMismatchWarning:!0,onPress:p,style:L,children:A}),t[32]=p,t[33]=d,t[34]=P,t[35]=L,t[36]=A,t[37]=I):I=t[37],t[38]!==b.role||t[39]!==b.showBadge?(R=b.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_2xs,kl.self_center,{marginTop:vo({web:0,ios:0,android:-1})}],children:(0,Ft.jsx)(Qk,{width:vo({android:13,default:12}),verifier:"verifier"===b.role})}),t[38]=b.role,t[39]=b.showBadge,t[40]=R):R=t[40],t[41]!==o?(D=o({id:"73lp8c"}),t[41]=o,t[42]=D):D=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(F={flexShrink:10},t[43]=F):F=t[43],t[44]!==s.atoms.text_contrast_medium?(E=[kl.text_md,s.atoms.text_contrast_medium,kl.leading_tight,F],t[44]=s.atoms.text_contrast_medium,t[45]=E):E=t[45];const M="\xa0"+su(l,"@");let B,O,z,H,N,V,q;return t[46]!==p||t[47]!==d||t[48]!==D||t[49]!==E||t[50]!==M?(B=(0,Ft.jsx)(gv,{numberOfLines:1,to:d,label:D,disableMismatchWarning:!0,disableUnderline:!0,onPress:p,style:E,children:M}),t[46]=p,t[47]=d,t[48]=D,t[49]=E,t[50]=M,t[51]=B):B=t[51],t[52]!==I||t[53]!==R||t[54]!==B?(O=(0,Ft.jsxs)(wo.default,{style:C,children:[I,R,B]}),t[52]=I,t[53]=R,t[54]=B,t[55]=O):O=t[55],t[56]!==r.did||t[57]!==O?(z=(0,Ft.jsx)($k,{inline:!0,did:k,children:O}),t[56]=r.did,t[57]=O,t[58]=z):z=t[58],t[59]!==g||t[60]!==e.postHref||t[61]!==s.atoms.text_contrast_medium||t[62]!==_?(H=t=>{const{timeElapsed:n}=t;return(0,Ft.jsxs)(gv,{to:e.postHref,label:_,title:_,disableMismatchWarning:!0,disableUnderline:!0,onPress:g,style:[kl.pl_xs,kl.text_md,kl.leading_tight,St&&kl.flex_grow,kl.text_right,s.atoms.text_contrast_medium,_o({whiteSpace:"nowrap"})],children:[!St&&(0,Ft.jsxs)(fr,{style:[kl.text_md,kl.leading_tight,s.atoms.text_contrast_medium],accessible:!1,children:["\xb7"," "]}),n]})},t[59]=g,t[60]=e.postHref,t[61]=s.atoms.text_contrast_medium,t[62]=_,t[63]=H):H=t[63],t[64]!==e.timestamp||t[65]!==H?(N=(0,Ft.jsx)(mD,{timestamp:e.timestamp,children:H}),t[64]=e.timestamp,t[65]=H,t[66]=N):N=t[66],t[67]!==z||t[68]!==N?(V=(0,Ft.jsxs)(wo.default,{style:S,children:[z,N]}),t[67]=z,t[68]=N,t[69]=V):V=t[69],t[70]!==V||t[71]!==v||t[72]!==w?(q=(0,Ft.jsxs)(wo.default,{style:v,children:[w,V]}),t[70]=V,t[71]=v,t[72]=w,t[73]=q):q=t[73],q};hD=(0,mt.memo)(hD);const pD=["value","embeds"];function fD(e){const t=(0,i.c)(44),{embed:s,onOpen:n,style:o,allowNestedQuotes:r,viewContext:a}=e,l=ec(),c=mx("default"),{currentAccount:d}=xh();if(Is.AppBskyEmbedRecord.isViewRecord(s.record)&&Is.AppBskyFeedPost.isRecord(s.record.value)&&Is.AppBskyFeedPost.validateRecord(s.record.value).success){let e;return t[0]!==r||t[1]!==s.record||t[2]!==n||t[3]!==o||t[4]!==a?(e=(0,Ft.jsx)(gD,{viewRecord:s.record,onOpen:n,style:o,allowNestedQuotes:r,viewContext:a}),t[0]=r,t[1]=s.record,t[2]=n,t[3]=o,t[4]=a,t[5]=e):e=t[5],e}if(Is.AppBskyEmbedRecord.isViewBlocked(s.record)){let e,s,n,o,r;return t[6]!==l.atoms.border_contrast_low?(e=[bD.errorContainer,kl.border,l.atoms.border_contrast_low],t[6]=l.atoms.border_contrast_low,t[7]=e):e=t[7],t[8]!==c.text?(s=(0,Ft.jsx)(kx,{size:18,style:c.text}),t[8]=c.text,t[9]=s):s=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(ft.Trans,{id:"32TndD"}),t[10]=n):n=t[10],t[11]!==c.text?(o=(0,Ft.jsx)(Tx,{type:"lg",style:c.text,children:n}),t[11]=c.text,t[12]=o):o=t[12],t[13]!==e||t[14]!==s||t[15]!==o?(r=(0,Ft.jsxs)(wo.default,{style:e,children:[s,o]}),t[13]=e,t[14]=s,t[15]=o,t[16]=r):r=t[16],r}if(Is.AppBskyEmbedRecord.isViewNotFound(s.record)){let e,s,n,o,r;return t[17]!==l.atoms.border_contrast_low?(e=[bD.errorContainer,kl.border,l.atoms.border_contrast_low],t[17]=l.atoms.border_contrast_low,t[18]=e):e=t[18],t[19]!==c.text?(s=(0,Ft.jsx)(kx,{size:18,style:c.text}),t[19]=c.text,t[20]=s):s=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(ft.Trans,{id:"vGjmyl"}),t[21]=n):n=t[21],t[22]!==c.text?(o=(0,Ft.jsx)(Tx,{type:"lg",style:c.text,children:n}),t[22]=c.text,t[23]=o):o=t[23],t[24]!==e||t[25]!==s||t[26]!==o?(r=(0,Ft.jsxs)(wo.default,{style:e,children:[s,o]}),t[24]=e,t[25]=s,t[26]=o,t[27]=r):r=t[27],r}if(Is.AppBskyEmbedRecord.isViewDetached(s.record)){let e;t[28]!==d||t[29]!==s.record?(e=!!d?.did&&s.record.uri.includes(d.did),t[28]=d,t[29]=s.record,t[30]=e):e=t[30];const n=e;let o,r,i,a,u;return t[31]!==l.atoms.border_contrast_low?(o=[bD.errorContainer,kl.border,l.atoms.border_contrast_low],t[31]=l.atoms.border_contrast_low,t[32]=o):o=t[32],t[33]!==c.text?(r=(0,Ft.jsx)(kx,{size:18,style:c.text}),t[33]=c.text,t[34]=r):r=t[34],t[35]!==n?(i=n?(0,Ft.jsx)(ft.Trans,{id:"e8qFwn"}):(0,Ft.jsx)(ft.Trans,{id:"W71sdV"}),t[35]=n,t[36]=i):i=t[36],t[37]!==c.text||t[38]!==i?(a=(0,Ft.jsx)(Tx,{type:"lg",style:c.text,children:i}),t[37]=c.text,t[38]=i,t[39]=a):a=t[39],t[40]!==o||t[41]!==r||t[42]!==a?(u=(0,Ft.jsxs)(wo.default,{style:o,children:[r,a]}),t[40]=o,t[41]=r,t[42]=a,t[43]=u):u=t[43],u}return null}function gD({viewRecord:e,onOpen:t,style:s,allowNestedQuotes:n,viewContext:o}){const r=Op(),i=mt.useMemo((()=>function(e){const{value:t,embeds:s}=e,n=(0,ls.default)(e,pD);return Object.assign({},n,{$type:"app.bsky.feed.defs#postView",record:t,embed:s?.[0]})}(e)),[e]),a=mt.useMemo((()=>r?(0,Is.moderatePost)(i,r):void 0),[i,r]);return(0,Ft.jsx)(xD,{quote:i,moderation:a,onOpen:t,style:s,allowNestedQuotes:n,viewContext:o})}function xD({quote:e,moderation:t,onOpen:s,style:n,allowNestedQuotes:o}){const r=ec(),i=(0,wd.useQueryClient)(),a=mx("default"),l=new Is.AtUri(e.uri),c=cS(e.author,"post",l.rkey),d=`Post by ${e.author.handle}`,u=mt.useMemo((()=>{if(!If(e.record,Is.AppBskyFeedPost.isRecord))return;const{text:t,facets:s}=e.record;return t.trim()?new Is.RichText({text:t,facets:s}):void 0}),[e.record]),m=mt.useMemo((()=>{const t=e.embed;return o||Is.AppBskyEmbedImages.isView(t)||Is.AppBskyEmbedExternal.isView(t)||Is.AppBskyEmbedVideo.isView(t)?t:Is.AppBskyEmbedRecordWithMedia.isView(t)&&(Is.AppBskyEmbedImages.isView(t.media)||Is.AppBskyEmbedExternal.isView(t.media)||Is.AppBskyEmbedVideo.isView(t.media))?t.media:void 0}),[e.embed,o]),h=mt.useCallback((()=>{ib(i,e.author),s?.()}),[i,e.author,s]),[p,f]=mt.useState(!1);return(0,Ft.jsx)(wo.default,{onPointerEnter:()=>{f(!0)},onPointerLeave:()=>{f(!1)},children:(0,Ft.jsxs)(DR,{modui:t?.ui("contentList"),style:[kl.rounded_md,kl.p_md,kl.mt_sm,kl.border,r.atoms.border_contrast_low,n],childContainerStyle:[kl.pt_sm],children:[(0,Ft.jsx)(cD,{hover:p}),(0,Ft.jsxs)(HP,{hoverStyle:{borderColor:a.colors.borderLinkHover},href:c,title:d,onBeforePress:h,children:[(0,Ft.jsx)(wo.default,{pointerEvents:"none",children:(0,Ft.jsx)(hD,{author:e.author,moderation:t,showAvatar:!0,postHref:c,timestamp:e.indexedAt})}),t?(0,Ft.jsx)(uD,{modui:t.ui("contentView"),style:[kl.py_xs]}):null,u?(0,Ft.jsx)(DC,{value:u,style:kl.text_md,numberOfLines:20,disableLinks:!0}):null,m&&(0,Ft.jsx)(sF,{embed:m,moderation:t})]})]})})}function _D(e){const t=(0,i.c)(10),{onRemove:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.absolute,kl.p_xs,kl.rounded_full,kl.align_center,kl.justify_center,{top:16,right:10,backgroundColor:"rgba(0, 0, 0, 0.75)"}],t[0]=o):o=t[0],t[1]!==n?(r=n({id:"6nFc2C"}),t[1]=n,t[2]=r):r=t[2],t[3]!==n?(a=n({id:"YtUXXA"}),t[3]=n,t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(Nu.FontAwesomeIcon,{size:12,icon:"xmark",style:oc.white}),t[5]=l):l=t[5],t[6]!==s||t[7]!==r||t[8]!==a?(c=(0,Ft.jsx)(Ix.default,{style:o,onPress:s,accessibilityRole:"button",accessibilityLabel:r,accessibilityHint:a,onAccessibilityEscape:s,hitSlop:wi,children:l}),t[6]=s,t[7]=r,t[8]=a,t[9]=c):c=t[9],c}function yD(e){const t=(0,i.c)(6),{uri:s}=e,{data:n}=Im(s),o=Op();if(!n||"record"!==n.type||"post"!==n.kind)return null;let r;t[0]!==n.view||t[1]!==o?(r=o?(0,Is.moderatePost)(n.view,o):void 0,t[0]=n.view,t[1]=o,t[2]=r):r=t[2];const a=r;let l;return t[3]!==n.view||t[4]!==a?(l=(0,Ft.jsx)(xD,{quote:n.view,moderation:a}),t[3]=n.view,t[4]=a,t[5]=l):l=t[5],l}const bD=Gn.default.create({errorContainer:{flexDirection:"row",alignItems:"center",gap:4,borderRadius:8,marginTop:8,paddingVertical:14,paddingHorizontal:14,borderWidth:Gn.default.hairlineWidth},alert:{marginBottom:6}});function jD(e,t,s){return Math.min(s,Math.max(t,e))}const vD=mt.createContext(!1);function wD(e){const t=(0,i.c)(2),{children:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)(vD.Provider,{value:!0,children:s}),t[0]=s,t[1]=n):n=t[1],n}function SD(){return mt.useContext(vD)}function kD(e){return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}function CD(e){const t=(0,i.c)(10);if(!Pt)throw new Error("'useFullscreen' is a web-only hook");const s=(0,mt.useSyncExternalStore)(kD,PD),n=(0,mt.useRef)(null),[o,r]=(0,mt.useState)(s);let a;t[0]!==s||t[1]!==e?(a=()=>{if(s)document.exitFullscreen();else{if(!e)throw new Error("No ref provided");if(!e.current)return;n.current=window.scrollY,e.current.requestFullscreen()}},t[0]=s,t[1]=e,t[2]=a):a=t[2];const l=a;let c,d,u;return t[3]!==s||t[4]!==o?(c=()=>{o!==s&&(r(s),!o||im||rm||setTimeout((()=>{null!==n.current&&(window.scrollTo(0,n.current),n.current=null)}),100))},d=[s,o],t[3]=s,t[4]=o,t[5]=c,t[6]=d):(c=t[5],d=t[6]),(0,mt.useEffect)(c,d),t[7]!==s||t[8]!==l?(u=[s,l],t[7]=s,t[8]=l,t[9]=u):u=t[9],u}function PD(){return Boolean(document.fullscreenElement)}const TD=zr({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm2 1v14h14V5H5Zm10.957 6.293a1 1 0 1 0 0 1.414 1 1 0 0 1 1.414 1.414 3 3 0 1 1 0-4.242 1 1 0 0 1-1.414 1.414Zm-6.331-.22a1 1 0 1 0 .331 1.634 1 1 0 0 1 1.414 1.414 3 3 0 1 1 0-4.242 1 1 0 0 1-1.414 1.414.994.994 0 0 0-.331-.22Z"}),LD=zr({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm11.543 7.293a1 1 0 0 1 1.414 0 1 1 0 0 0 1.414-1.414 3 3 0 1 0 0 4.242 1 1 0 0 0-1.414-1.414 1 1 0 0 1-1.414-1.414Zm-6 0a1 1 0 0 1 1.414 0 1 1 0 0 0 1.414-1.414 3 3 0 1 0 0 4.243 1 1 0 0 0-1.414-1.415 1 1 0 0 1-1.414-1.414Z"}),AD=(zr({path:"M4 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4Zm2 1v14h2V5H6Zm8-1a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V4Zm2 1v14h2V5h-2Z"}),zr({path:"M4 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4ZM14 4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1V4Z"}));zr({path:"M4 6a3 3 0 0 1 6 0v12a3 3 0 1 1-6 0V6Zm3-1a1 1 0 0 0-1 1v12a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1Zm7 1a3 3 0 1 1 6 0v12a3 3 0 1 1-6 0V6Zm3-1a1 1 0 0 0-1 1v12a1 1 0 1 0 2 0V6a1 1 0 0 0-1-1Z"}),zr({path:"M4 6a3 3 0 0 1 6 0v12a3 3 0 1 1-6 0V6ZM14 6a3 3 0 1 1 6 0v12a3 3 0 1 1-6 0V6Z"});function ID(e){const t=(0,i.c)(19),{time:s,style:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();if(isNaN(s))return null;const a=Math.floor(s/60),l=String(s%60).padStart(2,"0"),c=Number(s)||0;let d,u,m,h,p,f,g;t[0]!==r||t[1]!==c?(d=r({id:"Brqi8s",values:{0:c}}),t[0]=r,t[1]=c,t[2]=d):d=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u={backgroundColor:"rgba(0, 0, 0, 0.5)",borderRadius:6,paddingHorizontal:6,paddingVertical:3,left:6,bottom:6,minHeight:21},t[3]=u):u=t[3],t[4]!==n?(m=[u,kl.absolute,kl.justify_center,n],t[4]=n,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=["tabular-nums"],t[6]=h):h=t[6],t[7]!==o.palette.white?(p={color:o.palette.white,fontSize:12,fontVariant:h},t[7]=o.palette.white,t[8]=p):p=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(f={lineHeight:1.25},t[9]=f):f=t[9],t[10]!==p?(g=[p,kl.font_bold,f],t[10]=p,t[11]=g):g=t[11];const x=`${a}:${l}`;let _,y;return t[12]!==g||t[13]!==x?(_=(0,Ft.jsx)(fr,{style:g,children:x}),t[12]=g,t[13]=x,t[14]=_):_=t[14],t[15]!==_||t[16]!==d||t[17]!==m?(y=(0,Ft.jsx)(wo.default,{pointerEvents:"none",accessibilityLabel:d,accessibilityHint:"",style:m,children:_}),t[15]=_,t[16]=d,t[17]=m,t[18]=y):y=t[18],y}function RD(e){const t=(0,i.c)(11),{active:s,activeLabel:n,inactiveLabel:o,activeIcon:r,inactiveIcon:a,onPress:l}=e,c=ec(),d=s?n:o;let u,m,h,p;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.p_xs,kl.rounded_full,_o({transition:"background-color 0.1s"})],m={backgroundColor:"rgba(255, 255, 255, 0.2)"},t[0]=u,t[1]=m):(u=t[0],m=t[1]),t[2]!==r||t[3]!==a||t[4]!==s||t[5]!==c.palette.white?(h=s?(0,Ft.jsx)(r,{fill:c.palette.white,width:20,"aria-hidden":!0}):(0,Ft.jsx)(a,{fill:c.palette.white,width:20,"aria-hidden":!0}),t[2]=r,t[3]=a,t[4]=s,t[5]=c.palette.white,t[6]=h):h=t[6],t[7]!==l||t[8]!==d||t[9]!==h?(p=(0,Ft.jsx)(MP,{accessibilityRole:"button",accessibilityLabel:d,accessibilityHint:"",onPress:l,style:u,hoverStyle:m,children:h}),t[7]=l,t[8]=d,t[9]=h,t[10]=p):p=t[10],p}function DD(e){if(isNaN(e))return"--";e=Math.round(e);return`${Math.floor(e/60)}:${String(e%60).padStart(2,"0")}`}function FD(e){const t=(0,i.c)(73),{duration:s,currentTime:n,onSeek:o,onSeekEnd:r,onSeekStart:a,seekLeft:l,seekRight:c,togglePlayPause:d,drawFocus:u}=e,{_:m}=(0,ft.useLingui)(),h=ec(),[p,f]=(0,mt.useState)(!1),{state:g,onIn:x,onOut:_}=Ki(),{state:y,onIn:b,onOut:j}=Ki(),[v,w]=(0,mt.useState)(0),S=(0,mt.useRef)(!1),k=(0,mt.useRef)(null),C=(0,mt.useRef)(null);let P;t[0]!==s||t[1]!==o?(P=e=>{if(!k.current)return;const{left:t,width:n}=k.current.getBoundingClientRect(),r=jD((e.clientX-t)/n,0,1)*s;o(r),w(r)},t[0]=s,t[1]=o,t[2]=P):P=t[2];const T=P;let L;t[3]!==a||t[4]!==T?(L=e=>{const t=e.target;t instanceof Element&&(e.preventDefault(),t.setPointerCapture(e.pointerId),S.current=!0,T(e),f(!0),a())},t[3]=a,t[4]=T,t[5]=L):L=t[5];const A=L;let I;t[6]!==T?(I=e=>{S.current&&(e.preventDefault(),T(e))},t[6]=T,t[7]=I):I=t[7];const R=I;let D;t[8]!==r?(D=e=>{const t=e.target;S.current&&t instanceof Element&&(e.preventDefault(),t.releasePointerCapture(e.pointerId),S.current=!1,r(),f(!1))},t[8]=r,t[9]=D):D=t[9];const F=D;let E,M,B,O;t[10]!==p?(E=()=>{if(im&&p)return document.body.classList.add("force-no-clicks"),ED},t[10]=p,t[11]=E):E=t[11],t[12]!==r||t[13]!==p?(M=[p,r],t[12]=r,t[13]=p,t[14]=M):M=t[14],(0,mt.useEffect)(E,M),t[15]!==u||t[16]!==y||t[17]!==l||t[18]!==c||t[19]!==d?(B=()=>{if(C.current&&y){const e=new AbortController,{signal:t}=e;return C.current.addEventListener("keydown",(e=>{" "===e.key?(e.preventDefault(),u(),d()):"ArrowLeft"===e.key?(e.preventDefault(),u(),l()):"ArrowRight"===e.key&&(e.preventDefault(),u(),c())}),{signal:t}),()=>e.abort()}},O=[y,l,c,d,u],t[15]=u,t[16]=y,t[17]=l,t[18]=c,t[19]=d,t[20]=B,t[21]=O):(B=t[20],O=t[21]),(0,mt.useEffect)(B,O);const z=(p?v:n)/s*100;let H;t[22]===Symbol.for("react.memo_cache_sentinel")?(H=[{height:am?32:18,width:"100%"},kl.flex_shrink_0,kl.px_xs],t[22]=H):H=t[22];const N=p?"grabbing":"grab";let V,q;t[23]!==N?(V={flex:1,display:"flex",alignItems:"center",position:"relative",cursor:N,padding:"4px 0"},t[23]=N,t[24]=V):V=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(q={backgroundColor:"rgba(255, 255, 255, 0.4)"},t[25]=q):q=t[25];const U=g||p?6:3;let W,Z,Q,K,$,G,Y;t[26]!==U?(W={height:U},t[26]=U,t[27]=W):W=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(Z=_o({transition:"height 0.1s ease"}),t[28]=Z):Z=t[28],t[29]!==W?(Q=[kl.w_full,kl.rounded_full,kl.overflow_hidden,q,W,Z],t[29]=W,t[30]=Q):Q=t[30],t[31]!==s||t[32]!==z||t[33]!==h.palette.white?(K=s>0&&(0,Ft.jsx)(wo.default,{style:[kl.h_full,{backgroundColor:h.palette.white},{width:`${z}%`}]}),t[31]=s,t[32]=z,t[33]=h.palette.white,t[34]=K):K=t[34],t[35]!==Q||t[36]!==K?($=(0,Ft.jsx)(wo.default,{style:Q,children:K}),t[35]=Q,t[36]=K,t[37]=$):$=t[37],t[38]!==m?(G=m({id:"ufWi5/"}),t[38]=m,t[39]=G):G=t[39],t[40]!==m||t[41]!==n||t[42]!==s?(Y=m({id:"FGOUAP",values:{0:DD(n),1:DD(s)}}),t[40]=m,t[41]=n,t[42]=s,t[43]=Y):Y=t[43];const J=`calc(${z}% - 8px)`;let X,ee;t[44]!==J?(X={position:"absolute",height:16,width:16,left:J,borderRadius:8,pointerEvents:"none"},t[44]=J,t[45]=X):X=t[45],t[46]!==h.palette.white?(ee={backgroundColor:h.palette.white},t[46]=h.palette.white,t[47]=ee):ee=t[47];const te=g||p||y?p?1:.6:0;let se,ne,oe,re,ie;return t[48]!==te?(se={transform:[{scale:te}]},t[48]=te,t[49]=se):se=t[49],t[50]!==ee||t[51]!==se?(ne=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.h_full,kl.rounded_full,ee,se]}),t[50]=ee,t[51]=se,t[52]=ne):ne=t[52],t[53]!==n||t[54]!==s||t[55]!==j||t[56]!==b||t[57]!==G||t[58]!==Y||t[59]!==X||t[60]!==ne?(oe=(0,Ft.jsx)("div",{ref:C,"aria-label":G,role:"slider","aria-valuemax":s,"aria-valuemin":0,"aria-valuenow":n,"aria-valuetext":Y,tabIndex:0,onFocus:b,onBlur:j,style:X,children:ne}),t[53]=n,t[54]=s,t[55]=j,t[56]=b,t[57]=G,t[58]=Y,t[59]=X,t[60]=ne,t[61]=oe):oe=t[61],t[62]!==A||t[63]!==R||t[64]!==F||t[65]!==V||t[66]!==$||t[67]!==oe?(re=(0,Ft.jsxs)("div",{ref:k,style:V,onPointerDown:A,onPointerMove:R,onPointerUp:F,onPointerCancel:F,children:[$,oe]}),t[62]=A,t[63]=R,t[64]=F,t[65]=V,t[66]=$,t[67]=oe,t[68]=re):re=t[68],t[69]!==_||t[70]!==x||t[71]!==re?(ie=(0,Ft.jsx)(wo.default,{testID:"scrubber",style:H,onPointerEnter:x,onPointerLeave:_,children:re}),t[69]=_,t[70]=x,t[71]=re,t[72]=ie):ie=t[72],ie}function ED(){document.body.classList.remove("force-no-clicks")}function MD(e){const t=(0,i.c)(32),{muted:s,changeMuted:n,hovered:o,onHover:r,onEndHover:a,drawFocus:l}=e,{_:c}=(0,ft.useLingui)(),[d,u]=yj();let m;t[0]!==n||t[1]!==l||t[2]!==u?(m=e=>{l();const t=(s=Number(e.target.value),Math.pow(s/100,4));var s;u(t),n(0===t)},t[0]=n,t[1]=l,t[2]=u,t[3]=m):m=t[3];const h=m;let p;var f;t[4]!==s||t[5]!==d?(p=s?0:(f=d,Math.round(100*Math.pow(f,1/4))),t[4]=s,t[5]=d,t[6]=p):p=t[6];const g=p,x=0===d;let _;t[7]!==n||t[8]!==l||t[9]!==x||t[10]!==u?(_=()=>{l(),x?(u(1),n(!1)):n(BD)},t[7]=n,t[8]=l,t[9]=x,t[10]=u,t[11]=_):_=t[11];const y=_;let b,j;t[12]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.relative],t[12]=b):b=t[12],t[13]!==c||t[14]!==o||t[15]!==h||t[16]!==g?(j=o&&!am&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn.duration(100),exiting:ko.FadeOut.duration(100),style:[kl.absolute,kl.w_full,{height:100,bottom:"100%"}],children:(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.mb_xs,kl.px_2xs,kl.py_xs,{backgroundColor:"rgba(0, 0, 0, 0.6)"},kl.rounded_xs,kl.align_center],children:(0,Ft.jsx)("input",{type:"range",min:0,max:100,value:g,"aria-label":c({id:"/cF7Rs"}),style:rm?{height:92,minHeight:"100%"}:{height:"100%"},onChange:h,orient:"vertical"})})}),t[13]=c,t[14]=o,t[15]=h,t[16]=g,t[17]=j):j=t[17];const v=s||0===d;let w,S,k,C;return t[18]!==c?(w=c({id:"bIW6kV"}),t[18]=c,t[19]=w):w=t[19],t[20]!==c?(S=c({id:"2/ig/T"}),t[20]=c,t[21]=S):S=t[21],t[22]!==y||t[23]!==v||t[24]!==w||t[25]!==S?(k=(0,Ft.jsx)(RD,{active:v,activeLabel:w,inactiveLabel:S,activeIcon:oC,inactiveIcon:hT,onPress:y}),t[22]=y,t[23]=v,t[24]=w,t[25]=S,t[26]=k):k=t[26],t[27]!==a||t[28]!==r||t[29]!==j||t[30]!==k?(C=(0,Ft.jsxs)(wo.default,{onPointerEnter:r,onPointerLeave:a,style:b,children:[j,k]}),t[27]=a,t[28]=r,t[29]=j,t[30]=k,t[31]=C):C=t[31],C}function BD(e){return!e}function OD({videoRef:e,hlsRef:t,active:s,setActive:n,focused:o,setFocused:r,onScreen:i,fullscreenRef:a,hlsLoading:l,hasSubtitleTrack:c}){const{play:d,pause:u,playing:m,muted:h,changeMuted:p,togglePlayPause:f,currentTime:g,duration:x,buffering:_,error:y,canPlay:b}=function(e){const[t,s]=(0,mt.useState)(!1),[n,o]=(0,mt.useState)(!0),[r,i]=(0,mt.useState)(0),[a,l]=yj(),[c,d]=(0,mt.useState)(0),[u,m]=(0,mt.useState)(!1),[h,p]=(0,mt.useState)(!1),[f,g]=(0,mt.useState)(!1),x=(0,mt.useRef)(!1);(0,mt.useEffect)((()=>{e.current&&(e.current.volume=a)}),[e,a]),(0,mt.useEffect)((()=>{if(!e.current)return;let t;function n(e){return Math.round(100*e)/100}i(n(e.current.currentTime)||0),d(n(e.current.duration)||0),o(e.current.muted),s(!e.current.paused),l(e.current.volume);const r=new AbortController;return e.current.addEventListener("timeupdate",(()=>{e.current&&(i(n(e.current.currentTime)||0),rm&&(t&&clearTimeout(t),m(!1)))}),{signal:r.signal}),e.current.addEventListener("durationchange",(()=>{e.current&&d(n(e.current.duration)||0)}),{signal:r.signal}),e.current.addEventListener("play",(()=>{s(!0)}),{signal:r.signal}),e.current.addEventListener("pause",(()=>{s(!1)}),{signal:r.signal}),e.current.addEventListener("volumechange",(()=>{e.current&&o(e.current.muted)}),{signal:r.signal}),e.current.addEventListener("error",(()=>{p(!0)}),{signal:r.signal}),e.current.addEventListener("canplay",(async()=>{if(t&&clearTimeout(t),m(!1),g(!0),e.current&&x.current){try{await e.current.play()}catch(s){if(!s.message?.includes("The request is not allowed by the user agent"))throw s}x.current=!1}}),{signal:r.signal}),e.current.addEventListener("canplaythrough",(()=>{t&&clearTimeout(t),m(!1)}),{signal:r.signal}),e.current.addEventListener("waiting",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{m(!0)}),500)}),{signal:r.signal}),e.current.addEventListener("playing",(()=>{t&&clearTimeout(t),m(!1),p(!1)}),{signal:r.signal}),e.current.addEventListener("stalled",(()=>{t&&clearTimeout(t),t=setTimeout((()=>{m(!0)}),500)}),{signal:r.signal}),e.current.addEventListener("ended",(()=>{s(!1),m(!1),p(!1)}),{signal:r.signal}),()=>{r.abort(),clearTimeout(t)}}),[e,l]);const _=(0,mt.useCallback)((()=>{if(e.current)if(e.current.ended&&(e.current.currentTime=0),e.current.readyState<HTMLMediaElement.HAVE_FUTURE_DATA)x.current=!0;else{const t=e.current.play();void 0!==t&&t.catch((e=>{}))}}),[e]),y=(0,mt.useCallback)((()=>{e.current&&(e.current.pause(),x.current=!1)}),[e]),b=(0,mt.useCallback)((()=>{e.current&&(e.current.paused?_():y())}),[e,_,y]),j=(0,mt.useCallback)((t=>{if(!e.current)return;const s="function"===typeof t?t(e.current.muted):t;e.current.muted=s}),[e]);return{play:_,pause:y,togglePlayPause:b,duration:c,currentTime:r,playing:t,muted:n,changeMuted:j,buffering:u,error:h,canPlay:f}}(e),j=ec(),{_:v}=(0,ft.useLingui)(),w=cd(),S=dd(),{state:k,onIn:C,onOut:P}=Ki(),[T,L]=CD(a),{state:A,onIn:I,onOut:R}=Ki(),[D,F]=(0,mt.useState)(!1),E=l||_,{state:M,onIn:B,onOut:O}=Ki(),z=(0,mt.useCallback)((()=>{F(!0)}),[]);(0,mt.useEffect)((()=>{if(D)return document.addEventListener("click",(()=>F(!1))),()=>{document.removeEventListener("click",(()=>F(!1)))}}),[D]),(0,mt.useEffect)((()=>{if(T)return document.documentElement.style.scrollbarGutter="unset",()=>{document.documentElement.style.removeProperty("scrollbar-gutter")}}),[T]),(0,mt.useEffect)((()=>{s||(u(),r(!1))}),[s,u,r]);const H=SD(),N=yc()||H;(0,mt.useEffect)((()=>{s&&(i?N||d():u())}),[i,u,s,d,N]),(0,mt.useEffect)((()=>{t.current&&(t.current.config.maxMaxBufferLength=o?30:10)}),[t,o]),(0,mt.useEffect)((()=>{t.current&&(t.current.subtitleTrack=c&&w&&b?0:-1)}),[c,w,t,b]);const V=(0,mt.useCallback)((()=>{s||n(),r(!0)}),[s,n,r]),q=(0,mt.useCallback)((()=>{o?f():(V(),N&&d())}),[f,V,o,N,d]),U=(0,mt.useCallback)((()=>{V(),f()}),[V,f]),W=(0,mt.useCallback)((()=>{V(),S(!w)}),[V,S,w]),Z=(0,mt.useCallback)((()=>{V(),L()}),[V,L]),Q=(0,mt.useCallback)((t=>{e.current&&(e.current.fastSeek?e.current.fastSeek(t):e.current.currentTime=t)}),[e]),K=(0,mt.useRef)(!1),$=(0,mt.useCallback)((()=>{V(),K.current=m,u()}),[m,u,V]),G=(0,mt.useCallback)((()=>{K.current&&d()}),[d]),Y=(0,mt.useCallback)((()=>{if(!e.current)return;const t=e.current.currentTime,s=e.current.duration||0;Q(jD(t-5,0,s))}),[Q,e]),J=(0,mt.useCallback)((()=>{if(!e.current)return;const t=e.current.currentTime,s=e.current.duration||0;Q(jD(t+5,0,s))}),[Q,e]),[X,ee]=(0,mt.useState)(!0),te=(0,mt.useRef)(),se=(0,mt.useCallback)((()=>{ee(!0),te.current&&clearTimeout(te.current),te.current=setTimeout((()=>{ee(!1),P()}),2e3)}),[P]),ne=(0,mt.useCallback)((()=>{ee(!1),te.current&&clearTimeout(te.current)}),[]),oe=(0,mt.useCallback)((e=>{"mouse"===e.pointerType||k||e.preventDefault(),clearTimeout(re.current)}),[k]),re=(0,mt.useRef)(),ie=(0,mt.useCallback)((()=>{C(),clearTimeout(re.current)}),[C]),ae=(0,mt.useCallback)((e=>{"mouse"!==e.pointerType?setTimeout(P,3e3):P()}),[P]),le=(o||N)&&!m||(D?A:k);return(0,Ft.jsxs)("div",{style:{position:"absolute",inset:0,overflow:"hidden",display:"flex",flexDirection:"column"},onClick:e=>{e.stopPropagation(),F(!1)},onPointerEnter:ie,onPointerMove:ie,onPointerLeave:ae,onPointerDown:oe,onFocus:I,onBlur:R,onKeyDown:z,children:[(0,Ft.jsx)(tr.default,{accessibilityRole:"button",onPointerEnter:se,onPointerMove:se,onPointerLeave:ne,accessibilityLabel:v(o?m?{id:"cG3912"}:{id:"7TkjAs"}:{id:"Zg5wXO"}),accessibilityHint:"",style:[kl.flex_1,_o({cursor:X||!m?"pointer":"none"})],onPress:q}),!le&&!o&&x>0&&(0,Ft.jsx)(ID,{time:Math.floor(x-g)}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_shrink_0,kl.w_full,kl.px_xs,_o({background:"linear-gradient(rgba(0, 0, 0, 0), rgba(0, 0, 0, 0.4), rgba(0, 0, 0, 0.7))"}),{opacity:le?1:0},{transition:"opacity 0.2s ease-in-out"}],children:[(!M||am)&&(0,Ft.jsx)(FD,{duration:x,currentTime:g,onSeek:Q,onSeekStart:$,onSeekEnd:G,seekLeft:Y,seekRight:J,togglePlayPause:f,drawFocus:V}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.px_xs,kl.pb_sm,kl.gap_sm,kl.flex_row,kl.align_center],children:[(0,Ft.jsx)(RD,{active:m,activeLabel:v({id:"IgrLD/"}),inactiveLabel:v({id:"T91vKp"}),activeIcon:AD,inactiveIcon:QR,onPress:U}),(0,Ft.jsx)(wo.default,{style:kl.flex_1}),(0,Ft.jsxs)(fr,{style:[kl.px_xs,{color:j.palette.white,fontVariant:["tabular-nums"]}],children:[DD(g)," / ",DD(x)]}),c&&(0,Ft.jsx)(RD,{active:w,activeLabel:v({id:"LdKJAe"}),inactiveLabel:v({id:"spRatm"}),activeIcon:LD,inactiveIcon:TD,onPress:W}),(0,Ft.jsx)(MD,{muted:h,changeMuted:p,hovered:M,onHover:B,onEndHover:O,drawFocus:V}),!Lt&&(0,Ft.jsx)(RD,{active:T,activeLabel:v({id:"sQpDn6"}),inactiveLabel:v({id:"JWj1N3"}),activeIcon:MR,inactiveIcon:ER,onPress:Z})]})]}),(E||y)&&(0,Ft.jsxs)(wo.default,{pointerEvents:"none",style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],children:[E&&(0,Ft.jsx)(wv,{fill:j.palette.white,size:"lg"}),y&&(0,Ft.jsx)(fr,{style:{color:j.palette.white},children:(0,Ft.jsx)(ft.Trans,{id:"Vw8l6h"})})]})]})}function zD({embed:e,active:t,setActive:s,onScreen:n,lastKnownTime:o}){const r=(0,mt.useRef)(null),a=(0,mt.useRef)(null),[l,c]=(0,mt.useState)(!1),[d,u]=(0,mt.useState)(!1),[m,h]=mt.useState(!1),p=(0,mt.useId)(),{_:f}=(0,ft.useLingui)(),[g,x]=(0,mt.useState)(null);if(g)throw g;const _=function(e){const t=(0,i.c)(27),{playlist:s,setHasSubtitleTrack:n,setError:o,videoRef:r,setHlsLoading:a}=e,[l,c]=(0,mt.useState)(qD);let d,u;t[0]!==l||t[1]!==a?(d=()=>{l||(a(!0),VD.then((e=>{c((()=>e)),a(!1)})))},u=[l,a],t[0]=l,t[1]=a,t[2]=d,t[3]=u):(d=t[2],u=t[3]);(0,mt.useEffect)(d,u);const m=(0,mt.useRef)(void 0);let h;t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[4]=h):h=t[4];const[p,f]=(0,mt.useState)(h);let g;t[5]!==l||t[6]!==p?(g=(e,t)=>{const{frag:s}=t;if(!l)return;if(!m.current)return;const n=m.current;if(n.nextAutoLevel>0){const e=[];for(const t of p)Math.abs(s.start-t.start)<.1||(n.trigger(l.Events.BUFFER_FLUSHING,{startOffset:t.start,endOffset:t.end,type:"video"}),e.push(t));f((t=>t.filter((t=>!e.includes(t)))))}},t[5]=l,t[6]=p,t[7]=g):g=t[7];const x=Ed(g);let _;t[8]!==l||t[9]!==p?(_=()=>{if(!l)return;if(!m.current)return;const e=m.current;if(e.nextAutoLevel>0&&1===p.length&&0===p[0].start){const t=p[0];e.trigger(l.Events.BUFFER_FLUSHING,{startOffset:t.start,endOffset:t.end,type:"video"}),f([])}},t[8]=l,t[9]=p,t[10]=_):_=t[10];const y=Ed(_);let b,j;t[11]!==l||t[12]!==y||t[13]!==x||t[14]!==s||t[15]!==o||t[16]!==n||t[17]!==r.current?(b=()=>{if(!r.current)return;if(!l)return;if(!l.isSupported())throw new HD;const e=new l({maxMaxBufferLength:10});m.current=e,e.attachMedia(r.current),e.loadSource(s);const t=new AbortController,{signal:i}=t,a=r.current;return a.addEventListener("ended",(()=>{y(),a.currentTime=0,a.play()}),{signal:i}),e.on(l.Events.SUBTITLE_TRACKS_UPDATED,((e,t)=>{t.subtitleTracks.length>0&&n(!0)})),e.on(l.Events.FRAG_BUFFERED,((e,t)=>{const{frag:s}=t;0===s.level&&f((e=>[...e,s]))})),e.on(l.Events.ERROR,((e,t)=>{t.fatal&&("manifestLoadError"===t.details&&404===t.response?.code?o(new ND):o(t.error))})),e.on(l.Events.FRAG_CHANGED,x),()=>{m.current=void 0,e.detachMedia(),e.destroy(),t.abort()}},t[11]=l,t[12]=y,t[13]=x,t[14]=s,t[15]=o,t[16]=n,t[17]=r.current,t[18]=b):b=t[18];t[19]!==l||t[20]!==y||t[21]!==x||t[22]!==s||t[23]!==o||t[24]!==n||t[25]!==r?(j=[s,o,n,r,x,y,l],t[19]=l,t[20]=y,t[21]=x,t[22]=s,t[23]=o,t[24]=n,t[25]=r,t[26]=j):j=t[26];return(0,mt.useEffect)(b,j),m}({playlist:e.playlist,setHasSubtitleTrack:u,setError:x,videoRef:a,setHlsLoading:h});return(0,mt.useEffect)((()=>{o.current&&a.current&&(a.current.currentTime=o.current)}),[o]),(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.rounded_md,kl.overflow_hidden],accessibilityLabel:f({id:"JuSZ7J"}),accessibilityHint:"",children:(0,Ft.jsxs)("div",{ref:r,style:{height:"100%",width:"100%"},children:[(0,Ft.jsxs)("figure",{style:{margin:0,position:"absolute",inset:0},children:[(0,Ft.jsx)("video",{ref:a,poster:e.thumbnail,style:{width:"100%",height:"100%",objectFit:"contain"},playsInline:!0,preload:"none",muted:!l,"aria-labelledby":e.alt?p:void 0,onTimeUpdate:e=>{o.current=e.currentTarget.currentTime}}),e.alt&&(0,Ft.jsx)("figcaption",{id:p,style:{position:"absolute",width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:0},children:e.alt})]}),(0,Ft.jsx)(OD,{videoRef:a,hlsRef:_,active:t,setActive:s,focused:l,setFocused:c,hlsLoading:m,onScreen:n,fullscreenRef:r,hasSubtitleTrack:d}),(0,Ft.jsx)(lP,{})]})})}class HD extends Error{constructor(){super("HLS is not supported")}}class ND extends Error{constructor(){super("Video not found")}}const VD=s.e(930).then(s.t.bind(s,48930,23)).then((e=>e.default));function qD(){return VD.value}function UD(e){const t=(0,i.c)(35),{title:s,message:n,details:o,onPressTryAgain:r,testID:a,showHeader:l}=e,c=ec(),d=mx("default"),{_:u}=(0,ft.useLingui)();let m,h,p,f,g;t[0]!==l?(m=l&&(0,Ft.jsxs)(il,{children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"SlfejT"})})}),(0,Ft.jsx)(cl,{})]}),t[0]=l,t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.px_xl,kl.py_2xl],t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.mb_md,kl.align_center],t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f={width:50,height:50},t[4]=f):f=t[4],t[5]!==c.palette.contrast_950?(g=[kl.rounded_full,f,kl.align_center,kl.justify_center,{backgroundColor:c.palette.contrast_950}],t[5]=c.palette.contrast_950,t[6]=g):g=t[6];const x=d.textInverted;let _,y,b,j,v,w,S,k,C,P;return t[7]!==x?(_=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"exclamation",style:x,size:24}),t[7]=x,t[8]=_):_=t[8],t[9]!==g||t[10]!==_?(y=(0,Ft.jsx)(wo.default,{style:p,children:(0,Ft.jsx)(wo.default,{style:g,children:_})}),t[9]=g,t[10]=_,t[11]=y):y=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.text_center,kl.font_heavy,kl.text_2xl,kl.mb_md],t[12]=b):b=t[12],t[13]!==s?(j=(0,Ft.jsx)(fr,{style:b,children:s}),t[13]=s,t[14]=j):j=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.text_center,kl.text_md,kl.mb_xl],t[15]=v):v=t[15],t[16]!==n?(w=(0,Ft.jsx)(fr,{style:v,children:n}),t[16]=n,t[17]=w):w=t[17],t[18]!==o||t[19]!==c.atoms||t[20]!==a?(S=o&&(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.border,c.atoms.border_contrast_medium,c.atoms.bg_contrast_25,kl.mb_xl,kl.py_sm,kl.px_lg,kl.rounded_xs,kl.overflow_hidden],children:(0,Ft.jsx)(fr,{testID:`${a}-details`,style:[kl.text_center,kl.text_md,c.atoms.text_contrast_high],children:o})}),t[18]=o,t[19]=c.atoms,t[20]=a,t[21]=S):S=t[21],t[22]!==u||t[23]!==r?(k=r&&(0,Ft.jsx)(wo.default,{style:[kl.align_center],children:(0,Ft.jsxs)(Sr,{testID:"errorScreenTryAgainButton",onPress:r,variant:"solid",color:"secondary_inverted",size:"small",label:u({id:"6gRgw8"}),accessibilityHint:u({id:"EBzg6u"}),children:[(0,Ft.jsx)(Pr,{icon:sw}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"EzJZ6f"})})]})}),t[22]=u,t[23]=r,t[24]=k):k=t[24],t[25]!==j||t[26]!==w||t[27]!==S||t[28]!==k||t[29]!==y?(C=(0,Ft.jsxs)(wo.default,{style:h,children:[y,j,w,S,k]}),t[25]=j,t[26]=w,t[27]=S,t[28]=k,t[29]=y,t[30]=C):C=t[30],t[31]!==m||t[32]!==C||t[33]!==a?(P=(0,Ft.jsxs)(wl,{testID:a,children:[m,C]}),t[31]=m,t[32]=C,t[33]=a,t[34]=P):P=t[34],P}VD.value=void 0,VD.then((e=>{VD.value=e}));class WD extends mt.Component{state={hasError:!1,error:void 0};static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,t){ys.error(e,{errorInfo:t})}render(){return this.state.hasError?this.props.renderError?this.props.renderError(this.state.error):(0,Ft.jsx)(KP,{style:[{height:"100%",flex:1},this.props.style],children:(0,Ft.jsx)(ZD,{details:this.state.error.toString()})}):this.props.children}}function ZD(e){const t=(0,i.c)(8),{details:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a;return t[0]!==n?(o=n({id:"5GGAqz"}),t[0]=n,t[1]=o):o=t[1],t[2]!==n?(r=n({id:"yUqcy2"}),t[2]=n,t[3]=r):r=t[3],t[4]!==s||t[5]!==o||t[6]!==r?(a=(0,Ft.jsx)(UD,{title:o,message:r,details:s}),t[4]=s,t[5]=o,t[6]=r,t[7]=a):a=t[7],a}function QD(e){const t=(0,i.c)(6),{children:s}=e,n=ec();let o,r;return t[0]!==n.atoms.bg_contrast_25||t[1]!==n.atoms.border_contrast_low?(o=[kl.flex_1,n.atoms.bg_contrast_25,kl.justify_center,kl.align_center,kl.px_lg,kl.border,n.atoms.border_contrast_low,kl.rounded_sm,kl.gap_lg],t[0]=n.atoms.bg_contrast_25,t[1]=n.atoms.border_contrast_low,t[2]=o):o=t[2],t[3]!==s||t[4]!==o?(r=(0,Ft.jsx)(wo.default,{style:o,children:s}),t[3]=s,t[4]=o,t[5]=r):r=t[5],r}function KD(e){const t=(0,i.c)(6),{children:s}=e,n=ec();let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={maxWidth:300},t[0]=o):o=t[0],t[1]!==n.atoms.text_contrast_high?(r=[kl.text_center,n.atoms.text_contrast_high,kl.text_md,kl.leading_snug,o],t[1]=n.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function $D(e){const t=(0,i.c)(6),{onPress:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a;return t[0]!==n?(o=n({id:"6gRgw8"}),t[0]=n,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),t[2]=r):r=t[2],t[3]!==s||t[4]!==o?(a=(0,Ft.jsx)(Sr,{onPress:s,size:"small",color:"secondary_inverted",variant:"solid",label:o,children:r}),t[3]=s,t[4]=o,t[5]=a):a=t[5],a}function GD(e){const t=(0,i.c)(27),{embed:s,crop:n}=e,o=(0,mt.useRef)(null),{active:r,setActive:a,sendPosition:l,currentActiveView:c}=function(){const e=(0,i.c)(11),t=mt.useContext(fj);if(!t)throw new Error("useActiveVideoWeb must be used within a ActiveVideoWebProvider");const{activeViewId:s,setActiveView:n,sendViewPosition:o}=t,r=(0,mt.useId)(),a=s===r;let l,c,d;return e[0]!==r||e[1]!==n?(l=()=>{n(r)},e[0]=r,e[1]=n,e[2]=l):l=e[2],e[3]!==r||e[4]!==o?(c=e=>o(r,e),e[3]=r,e[4]=o,e[5]=c):c=e[5],e[6]!==s||e[7]!==a||e[8]!==l||e[9]!==c?(d={active:a,setActive:l,currentActiveView:s,sendPosition:c},e[6]=s,e[7]=a,e[8]=l,e[9]=c,e[10]=d):d=e[10],d}(),[d,u]=(0,mt.useState)(!1),[m]=CD(),h=(0,mt.useRef)();let p,f;t[0]!==m||t[1]!==l?(p=()=>{if(!o.current)return;if(m&&!im)return;const e=new IntersectionObserver((e=>{const t=e[0];t&&(u(t.isIntersecting),l(t.boundingClientRect.y+t.boundingClientRect.height/2))}),{threshold:.5});return e.observe(o.current),()=>e.disconnect()},f=[l,m],t[0]=m,t[1]=l,t[2]=p,t[3]=f):(p=t[2],f=t[3]),(0,mt.useEffect)(p,f);const[g,x]=(0,mt.useState)(0);let _;t[4]!==g?(_=e=>(0,Ft.jsx)(eF,{error:e,retry:()=>x(g+1)}),t[4]=g,t[5]=_):_=t[5];const y=_;let b;const j=s.aspectRatio;let v,w;j&&(b=j.width/j.height,Number.isNaN(b)&&(b=void 0)),void 0!==b&&(v=Math.max(b,.5),w=Math.max(b,.25));const S="none"===n;let k;t[6]===Symbol.for("react.memo_cache_sentinel")?(k={display:"flex",flex:1,cursor:"default"},t[6]=k):k=t[6];const C=null!==c;let P,T,L;t[7]!==r||t[8]!==s||t[9]!==d||t[10]!==a?(P=(0,Ft.jsx)(zD,{embed:s,active:r,setActive:a,onScreen:d,lastKnownTime:h}),t[7]=r,t[8]=s,t[9]=d,t[10]=a,t[11]=P):P=t[11],t[12]!==l||t[13]!==C||t[14]!==P?(T=(0,Ft.jsx)(JD,{sendPosition:l,isAnyViewActive:C,children:P}),t[12]=l,t[13]=C,t[14]=P,t[15]=T):T=t[15],t[16]!==g||t[17]!==y||t[18]!==T?(L=(0,Ft.jsx)("div",{ref:o,style:k,onClick:YD,children:(0,Ft.jsx)(WD,{renderError:y,children:T},g)}),t[16]=g,t[17]=y,t[18]=T,t[19]=L):L=t[19];const A=L;let I,R;return t[20]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.pt_xs],t[20]=I):I=t[20],t[21]!==v||t[22]!==A||t[23]!==n||t[24]!==S||t[25]!==w?(R=(0,Ft.jsx)(wo.default,{style:I,children:S?(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.overflow_hidden,{aspectRatio:w??1}],children:A}):(0,Ft.jsx)(BR,{fullBleed:"square"===n,aspectRatio:v||1,children:A})}),t[21]=v,t[22]=A,t[23]=n,t[24]=S,t[25]=w,t[26]=R):R=t[26],R}function YD(e){return e.stopPropagation()}function JD(e){const t=(0,i.c)(14),{children:s,sendPosition:n,isAnyViewActive:o}=e,r=(0,mt.useRef)(null),[a,l]=(0,mt.useState)(!1),[c]=CD(),d=SD();let u,m,h,p,f;t[0]!==c||t[1]!==n?(u=()=>{if(!r.current)return;if(c&&!im)return;const e=new IntersectionObserver((e=>{const t=e[0];if(!t)return;const s=t.boundingClientRect.y+t.boundingClientRect.height/2;n(s),l(t.isIntersecting)}),{threshold:Array.from({length:101},XD)});return e.observe(r.current),()=>e.disconnect()},m=[n,c],t[0]=c,t[1]=n,t[2]=u,t[3]=m):(u=t[2],m=t[3]),(0,mt.useEffect)(u,m),t[4]!==o||t[5]!==n?(h=()=>{if(r.current&&!o){const e=r.current.getBoundingClientRect(),t=e.y+e.height/2;n(t)}},p=[o,n],t[4]=o,t[5]=n,t[6]=h,t[7]=p):(h=t[6],p=t[7]),(0,mt.useEffect)(h,p),t[8]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.flex_1,kl.flex_row],t[8]=f):f=t[8];const g=a&&s;let x,_;return t[9]!==d?(x=(0,Ft.jsx)("div",{ref:r,style:Object.assign({},d?{top:0,height:"100%"}:{top:"calc(50% - 50vh)",height:"100vh"},{position:"absolute",left:"50%",width:1,pointerEvents:"none"})}),t[9]=d,t[10]=x):x=t[10],t[11]!==g||t[12]!==x?(_=(0,Ft.jsxs)(wo.default,{style:f,children:[g,x]}),t[11]=g,t[12]=x,t[13]=_):_=t[13],_}function XD(e,t){return t/100}function eF(e){const t=(0,i.c)(14),{error:s,retry:n}=e,{_:o}=(0,ft.useLingui)();let r,a,l,c,d=!0;if(s instanceof ND){let e;t[0]!==o?(e=o({id:"n/s0oy"}),t[0]=o,t[1]=e):e=t[1],r=e}else if(s instanceof HD){let e;d=!1,t[2]!==o?(e=o({id:"Y8f6Xh"}),t[2]=o,t[3]=e):e=t[3],r=e}else{let e;t[4]!==o?(e=o({id:"xNDFpR"}),t[4]=o,t[5]=e):e=t[5],r=e}return t[6]!==r?(a=(0,Ft.jsx)(KD,{children:r}),t[6]=r,t[7]=a):a=t[7],t[8]!==n||t[9]!==d?(l=d&&(0,Ft.jsx)($D,{onPress:n}),t[8]=n,t[9]=d,t[10]=l):l=t[10],t[11]!==a||t[12]!==l?(c=(0,Ft.jsxs)(QD,{children:[a,l]}),t[11]=a,t[12]=l,t[13]=c):c=t[13],c}const tF={code:"function indexTsx1(){const{handles,measureHandle,runOnJS,_openLightbox,index_0,fetchedDims_0}=this.__closure;const rects=handles.map(measureHandle);runOnJS(_openLightbox)(index_0,rects,fetchedDims_0);}"};function sF(e){const t=(0,i.c)(88),{embed:s,moderation:n,onOpen:o,style:r,allowNestedQuotes:a,viewContext:l}=e,{openLightbox:c}=Hd();if(Is.AppBskyEmbedRecordWithMedia.isView(s)){let e;t[0]!==s.media||t[1]!==n||t[2]!==o||t[3]!==l?(e=(0,Ft.jsx)(sF,{embed:s.media,moderation:n,onOpen:o,viewContext:l}),t[0]=s.media,t[1]=n,t[2]=o,t[3]=l,t[4]=e):e=t[4];const i=l===zR.Feed?HR.FeedEmbedRecordWithMedia:void 0;let a,c;return t[5]!==s.record||t[6]!==o||t[7]!==i?(a=(0,Ft.jsx)(fD,{embed:s.record,onOpen:o,viewContext:i}),t[5]=s.record,t[6]=o,t[7]=i,t[8]=a):a=t[8],t[9]!==r||t[10]!==e||t[11]!==a?(c=(0,Ft.jsxs)(wo.default,{style:r,children:[e,a]}),t[9]=r,t[10]=e,t[11]=a,t[12]=c):c=t[12],c}if(Is.AppBskyEmbedRecord.isView(s)){if(Is.AppBskyFeedDefs.isGeneratorView(s.record)){let e;return t[13]!==s.record?(e=(0,Ft.jsx)(wo.default,{style:kl.mt_sm,children:(0,Ft.jsx)(iF,{view:s.record})}),t[13]=s.record,t[14]=e):e=t[14],e}if(Is.AppBskyGraphDefs.isListView(s.record)){let e;return t[15]!==s.record?(e=(0,Ft.jsx)(wo.default,{style:kl.mt_sm,children:(0,Ft.jsx)(aF,{view:s.record})}),t[15]=s.record,t[16]=e):e=t[16],e}if(Is.AppBskyGraphDefs.isStarterPackViewBasic(s.record)){let e;return t[17]!==s.record?(e=(0,Ft.jsx)(wo.default,{style:kl.mt_sm,children:(0,Ft.jsx)(Ck,{starterPack:s.record})}),t[17]=s.record,t[18]=e):e=t[18],e}let e;return t[19]!==a||t[20]!==s||t[21]!==o||t[22]!==r?(e=(0,Ft.jsx)(fD,{embed:s,style:r,onOpen:o,allowNestedQuotes:a}),t[19]=a,t[20]=s,t[21]=o,t[22]=r,t[23]=e):e=t[23],e}if(Is.AppBskyEmbedImages.isView(s)){const{images:e}=s;if(e.length>0){let o;t[24]!==s.images?(o=s.images.map(rF),t[24]=s.images,t[25]=o):o=t[25];const i=o;let a;t[26]!==i||t[27]!==c?(a=(e,t,s)=>{c({images:i.map(((e,n)=>Object.assign({},e,{thumbRect:t[n]??null,thumbDimensions:s[n]??null,type:"image"}))),index:e})},t[26]=i,t[27]=c,t[28]=a):a=t[28];const d=a;let u;t[29]!==d?(u=(e,t,s)=>{const n=t.map(oF);(0,ko.runOnUI)(function(){const t=function(){const t=n.map(_A);(0,ko.runOnJS)(d)(e,t,s)};return t.__closure={handles:n,measureHandle:_A,runOnJS:ko.runOnJS,_openLightbox:d,index_0:e,fetchedDims_0:s},t.__workletHash=249062792297,t.__initData=tF,t}())()},t[29]=d,t[30]=u):u=t[30];const m=u;let h;t[31]!==i?(h=e=>{sR.default.runAfterInteractions((()=>{SS.Image.prefetch(i.map(nF))}))},t[31]=i,t[32]=h):h=t[32];const p=h;if(1===e.length){const s=e[0];let o,i;t[33]!==n?(o=n?.ui("contentMedia"),t[33]=n,t[34]=o):o=t[34],t[35]!==r?(i=[kl.mt_sm,r],t[35]=r,t[36]=i):i=t[36];const a=l===zR.ThreadHighlighted?"none":l===zR.FeedEmbedRecordWithMedia?"square":"constrained";let c,d;t[37]!==m?(c=(e,t)=>m(0,[e],[t]),t[37]=m,t[38]=c):c=t[38],t[39]!==p?(d=()=>p(0),t[39]=p,t[40]=d):d=t[40];const u=l===zR.FeedEmbedRecordWithMedia;let h,f,g;return t[41]!==s||t[42]!==u||t[43]!==a||t[44]!==c||t[45]!==d?(h=(0,Ft.jsx)(OR,{crop:a,image:s,onPress:c,onPressIn:d,hideBadge:u}),t[41]=s,t[42]=u,t[43]=a,t[44]=c,t[45]=d,t[46]=h):h=t[46],t[47]!==h||t[48]!==i?(f=(0,Ft.jsx)(wo.default,{style:i,children:h}),t[47]=h,t[48]=i,t[49]=f):f=t[49],t[50]!==f||t[51]!==o?(g=(0,Ft.jsx)(DR,{modui:o,children:f}),t[50]=f,t[51]=o,t[52]=g):g=t[52],g}let f,g,x,_,y;return t[53]!==n?(f=n?.ui("contentMedia"),t[53]=n,t[54]=f):f=t[54],t[55]!==r?(g=[kl.mt_sm,r],t[55]=r,t[56]=g):g=t[56],t[57]!==s.images||t[58]!==m||t[59]!==p||t[60]!==l?(x=(0,Ft.jsx)(qR,{images:s.images,onPress:m,onPressIn:p,viewContext:l}),t[57]=s.images,t[58]=m,t[59]=p,t[60]=l,t[61]=x):x=t[61],t[62]!==g||t[63]!==x?(_=(0,Ft.jsx)(wo.default,{style:g,children:x}),t[62]=g,t[63]=x,t[64]=_):_=t[64],t[65]!==f||t[66]!==_?(y=(0,Ft.jsx)(DR,{modui:f,children:_}),t[65]=f,t[66]=_,t[67]=y):y=t[67],y}}if(Is.AppBskyEmbedExternal.isView(s)){const e=s.external;let i,a,l,c;return t[68]!==n?(i=n?.ui("contentMedia"),t[68]=n,t[69]=i):i=t[69],t[70]!==r?(a=[kl.mt_sm,r],t[70]=r,t[71]=a):a=t[71],t[72]!==e||t[73]!==o||t[74]!==a?(l=(0,Ft.jsx)(lD,{link:e,onOpen:o,style:a}),t[72]=e,t[73]=o,t[74]=a,t[75]=l):l=t[75],t[76]!==i||t[77]!==l?(c=(0,Ft.jsx)(DR,{modui:i,children:l}),t[76]=i,t[77]=l,t[78]=c):c=t[78],c}if(Is.AppBskyEmbedVideo.isView(s)){let e;t[79]!==n?(e=n?.ui("contentMedia"),t[79]=n,t[80]=e):e=t[80];const o=l===zR.ThreadHighlighted?"none":l===zR.FeedEmbedRecordWithMedia?"square":"constrained";let r,i;return t[81]!==s||t[82]!==o?(r=(0,Ft.jsx)(GD,{embed:s,crop:o}),t[81]=s,t[82]=o,t[83]=r):r=t[83],t[84]!==e||t[85]!==r?(i=(0,Ft.jsx)(DR,{modui:e,children:r}),t[84]=e,t[85]=r,t[86]=i):i=t[86],i}let d;return t[87]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(wo.default,{}),t[87]=d):d=t[87],d}function nF(e){return e.uri}function oF(e){return e.current}function rF(e){return{uri:e.fullsize,thumbUri:e.thumb,alt:e.alt,dimensions:e.aspectRatio??null}}function iF({view:e}){const t=mx("default"),s=Op(),n=mt.useMemo((()=>s?(0,Is.moderateFeedGenerator)(e,s):void 0),[e,s]);return(0,Ft.jsx)(DR,{modui:n?.ui("contentList"),children:(0,Ft.jsx)(KI,{feedUri:e.uri,style:[t.view,t.border,lF.customFeedOuter],showLikes:!0})})}function aF({view:e}){const t=Op(),s=mt.useMemo((()=>t?(0,Is.moderateUserList)(e,t):void 0),[e,t]),n=ec();return(0,Ft.jsx)(DR,{modui:s?.ui("contentList"),children:(0,Ft.jsx)(wo.default,{style:[kl.border,n.atoms.border_contrast_medium,kl.p_md,kl.rounded_sm],children:(0,Ft.jsx)(AR,{view:e})})})}const lF=Gn.default.create({altContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:6,paddingVertical:3,position:"absolute",right:6,bottom:6},alt:{color:"white",fontSize:7,fontWeight:"600"},customFeedOuter:{borderWidth:Gn.default.hairlineWidth,borderRadius:8,paddingHorizontal:12,paddingVertical:12}});function cF(e){const t=(0,i.c)(18);let{type:s,did:n,attr:o,failed:r,prefix:a,style:l}=e;const c=void 0===s?"md":s;let d;o=o||"handle",r=r||"user",t[0]!==n?(d={did:n,staleTime:Ld.INFINITY},t[0]=n,t[1]=d):d=t[1];const{data:u,isError:m}=ub(d);let h;if(m){let e;t[2]!==r||t[3]!==l||t[4]!==c?(e=(0,Ft.jsx)(Tx,{type:c,style:l,numberOfLines:1,children:r}),t[2]=r,t[3]=l,t[4]=c,t[5]=e):e=t[5],h=e}else if(u){const e=l;let s;t[6]!==u?(s=cS(u),t[6]=u,t[7]=s):s=t[7];const n=`${a||""}${Qf("string"===typeof u[o]&&u[o]?u[o]:su(u.handle))}`;let r,i;t[8]!==l||t[9]!==n||t[10]!==c?(r=(0,Ft.jsx)(Tx,{emoji:!0,type:c,style:l,lineHeight:1.2,children:n}),t[8]=l,t[9]=n,t[10]=c,t[11]=r):r=t[11],t[12]!==l||t[13]!==s||t[14]!==r||t[15]!==c?(i=(0,Ft.jsx)(VP,{type:c,style:e,lineHeight:1.2,numberOfLines:1,href:s,text:r}),t[12]=l,t[13]=s,t[14]=r,t[15]=c,t[16]=i):i=t[16],h=i}else{let e;t[17]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(vT,{width:80,height:8,style:dF.loadingPlaceholder}),t[17]=e):e=t[17],h=e}return h}const dF=Gn.default.create({loadingPlaceholder:{position:"relative",top:1,left:2}});const uF={duration:400,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"},mF=[{opacity:0,transform:"translateY(18px)"},{opacity:1,transform:"translateY(0)"}],hF=[{opacity:0,transform:"translateY(-18px)"},{opacity:1,transform:"translateY(0)"}],pF=[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(-18px)"}],fF=[{opacity:1,transform:"translateY(0)"},{opacity:0,transform:"translateY(18px)"}];function gF(e){const t=(0,i.c)(34),{likeCount:s,big:n,isLiked:o,hasBeenToggled:r}=e,a=ec(),l=!(0,ko.useReducedMotion)()&&r;let c;t[0]!==o||t[1]!==s?(c=function(e,t){let s=!1;if(e||1!==t){if(t>1&&t<1e3)s=!0;else if(t>0){const n=t%100;e&&0===n?s=!0:e||99!==n||(s=!0)}}else s=!0;return s}(o,s),t[0]=o,t[1]=s,t[2]=c):c=t[2];const d=c,u=mt.useRef(null),m=mt.useRef(null),[h,p]=mt.useState(s),f=mt.useRef(o);let g;t[3]!==s?(g=$S(cs.i18n,s),t[3]=s,t[4]=g):g=t[4];const x=g;let _;t[5]!==h?(_=$S(cs.i18n,h),t[5]=h,t[6]=_):_=t[6];const y=_;let b,j,v,w,S,k,C,P;return t[7]!==o||t[8]!==s||t[9]!==l||t[10]!==d?(b=()=>{if(o===f.current)return;const e=o?s-1:s+1;l&&d&&(u.current?.animate?.(o?mF:hF,uF),m.current?.animate?.(o?pF:fF,uF),p(e)),f.current=o},j=[o,s,l,d],t[7]=o,t[8]=s,t[9]=l,t[10]=d,t[11]=b,t[12]=j):(b=t[11],j=t[12]),mt.useEffect(b,j),s<1?null:(t[13]!==n?(v=n?kl.text_md:{fontSize:15},t[13]=n,t[14]=v):v=t[14],t[15]!==o||t[16]!==a?(w=o?[kl.font_bold,oc.likeColor]:{color:a.palette.contrast_500},t[15]=o,t[16]=a,t[17]=w):w=t[17],t[18]!==v||t[19]!==w?(S=[v,kl.user_select_none,w],t[18]=v,t[19]=w,t[20]=S):S=t[20],t[21]!==x||t[22]!==S?(k=(0,Ft.jsx)(wo.default,{ref:u,children:(0,Ft.jsx)(Tx,{testID:"likeCount",style:S,children:x})}),t[21]=x,t[22]=S,t[23]=k):k=t[23],t[24]!==n||t[25]!==y||t[26]!==o||t[27]!==s||t[28]!==l||t[29]!==a?(C=l&&(s>1||!o)?(0,Ft.jsx)(wo.default,{style:{position:"absolute",opacity:0},"aria-disabled":!0,ref:m,children:(0,Ft.jsx)(Tx,{style:[n?kl.text_md:{fontSize:15},kl.user_select_none,o?[kl.font_bold,oc.likeColor]:{color:a.palette.contrast_500}],children:y})}):null,t[24]=n,t[25]=y,t[26]=o,t[27]=s,t[28]=l,t[29]=a,t[30]=C):C=t[30],t[31]!==C||t[32]!==k?(P=(0,Ft.jsxs)(wo.default,{children:[k,C]}),t[31]=C,t[32]=k,t[33]=P):P=t[33],P)}const xF={duration:600,easing:"cubic-bezier(0.4, 0, 0.2, 1)",fill:"forwards"},_F=[{transform:"scale(1)"},{transform:"scale(0.7)"},{transform:"scale(1.2)"},{transform:"scale(1)"}],yF=[{opacity:0,transform:"scale(0)"},{opacity:.4},{transform:"scale(1.5)"},{opacity:.4},{opacity:0,transform:"scale(1.5)"}],bF=[{opacity:0,transform:"scale(0)"},{opacity:1},{transform:"scale(0)"},{opacity:1},{opacity:0,transform:"scale(1.5)"}];function jF(e){const t=(0,i.c)(19),{isLiked:s,big:n,hasBeenToggled:o}=e,r=ec(),a=n?22:18,l=!(0,ko.useReducedMotion)()&&o,c=mt.useRef(s),d=mt.useRef(null),u=mt.useRef(null),m=mt.useRef(null);let h,p,f;t[0]!==s||t[1]!==l?(h=()=>{c.current!==s&&(l&&s&&(d.current?.animate?.(_F,xF),u.current?.animate?.(yF,xF),m.current?.animate?.(bF,xF)),c.current=s)},p=[l,s],t[0]=s,t[1]=l,t[2]=h,t[3]=p):(h=t[2],p=t[3]),mt.useEffect(h,p),t[4]!==s||t[5]!==a||t[6]!==r.palette?(f=s?(0,Ft.jsx)(wo.default,{ref:d,children:(0,Ft.jsx)(bT,{style:oc.likeColor,width:a})}):(0,Ft.jsx)(yT,{style:[{color:r.palette.contrast_500},{pointerEvents:"none"}],width:a}),t[4]=s,t[5]=a,t[6]=r.palette,t[7]=f):f=t[7];const g=a/2;let x;t[8]!==a||t[9]!==g?(x=(0,Ft.jsx)(wo.default,{ref:u,style:{position:"absolute",backgroundColor:oc.likeColor.color,top:0,left:0,width:a,height:a,zIndex:-1,pointerEvents:"none",borderRadius:g,opacity:0}}),t[8]=a,t[9]=g,t[10]=x):x=t[10];const _=a/2;let y,b;return t[11]!==a||t[12]!==r.atoms.bg.backgroundColor||t[13]!==_?(y=(0,Ft.jsx)(wo.default,{ref:m,style:{position:"absolute",backgroundColor:r.atoms.bg.backgroundColor,top:0,left:0,width:a,height:a,zIndex:-1,pointerEvents:"none",borderRadius:_,opacity:0}}),t[11]=a,t[12]=r.atoms.bg.backgroundColor,t[13]=_,t[14]=y):y=t[14],t[15]!==f||t[16]!==x||t[17]!==y?(b=(0,Ft.jsxs)(wo.default,{children:[f,x,y]}),t[15]=f,t[16]=x,t[17]=y,t[18]=b):b=t[18],b}var vF=s(27963);function wF(e){const t=void 0===e?0:e,{isTabletOrDesktop:s}=jx(),{bottom:n}=(0,pt.useSafeAreaInsets)();return(Pt&&s?0:jD(60+n,60,75))+t}const SF=100;function kF(e){const{minItemHeight:t,screenHeightOffset:s}=void 0===e?{}:e,n=void 0===t?SF:t,o=void 0===s?0:s,{height:r}=(0,Ny.default)(),{top:i}=(0,pt.useSafeAreaInsets)(),a=r-o-i-wF(),l=Math.floor(a/n);return l<1?1:l}const CF=(0,mt.createContext)({onBeginDrag:void 0,onEndDrag:void 0,onScroll:void 0,onMomentumEnd:void 0});function PF(){return(0,mt.useContext)(CF)}function TF(e){const t=(0,i.c)(8),{children:s,onBeginDrag:n,onEndDrag:o,onScroll:r,onMomentumEnd:a}=e;let l,c;t[0]!==n||t[1]!==o||t[2]!==a||t[3]!==r?(c={onBeginDrag:n,onEndDrag:o,onScroll:r,onMomentumEnd:a},t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=c):c=t[4],l=c;const d=l;let u;return t[5]!==s||t[6]!==d?(u=(0,Ft.jsx)(CF.Provider,{value:d,children:s}),t[5]=s,t[6]=d,t[7]=u):u=t[7],u}const LF=["ListHeaderComponent","ListFooterComponent","ListEmptyComponent","disableFullWindowScroll","contentContainerStyle","data","desktopFixedHeight","headerOffset","keyExtractor","refreshing","onStartReached","onStartReachedThreshold","onEndReached","onEndReachedThreshold","onRefresh","onScrolledDownChange","onContentSizeChange","onItemSeen","renderItem","extraData","style"],AF={rootMargin:"-200px 0px -200px 0px"};function IF(e){const t=(0,i.c)(7),{root:s,topMargin:n,bottomMargin:o,containerRef:r,onVisibleChange:a}=e,[l,c]=mt.useState(0);let d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=(e,t)=>{c(t)},t[0]=d):d=t[0],RF(r,d),t[1]!==o||t[2]!==l||t[3]!==a||t[4]!==s||t[5]!==n?(u=(0,Ft.jsx)(EF,{root:s,topMargin:n,bottomMargin:o,onVisibleChange:a},l),t[1]=o,t[2]=l,t[3]=a,t[4]=s,t[5]=n,t[6]=u):u=t[6],u}function RF(e,t){const s=(0,i.c)(5),n=Ed(t??DF),o=!!t;let r,a;s[0]!==n||s[1]!==o||s[2]!==e?(r=()=>{if(!o)return;const t=new ResizeObserver((e=>{(0,D_.unstable_batchedUpdates)((()=>{for(const t of e){const e=t.contentRect;n(e.width,e.height)}}))})),s=e.current;return t.observe(s),()=>{t.unobserve(s)}},a=[n,o,e],s[0]=n,s[1]=o,s[2]=e,s[3]=r,s[4]=a):(r=s[3],a=s[4]),mt.useEffect(r,a)}function DF(){}let FF=function(e){const t=(0,i.c)(13),{item:s,index:n,renderItem:o,onItemSeen:r}=e,a=mt.useRef(null),l=mt.useRef(void 0);let c;t[0]!==s||t[1]!==r?(c=e=>{(0,D_.unstable_batchedUpdates)((()=>{r&&e.forEach((e=>{e.isIntersecting?l.current||(l.current=setTimeout((()=>{l.current=void 0,r(s)}),500)):l.current&&(clearTimeout(l.current),l.current=void 0)}))}))},t[0]=s,t[1]=r,t[2]=c):c=t[2];const d=Ed(c);let u,m,h,p;return t[3]!==d||t[4]!==r?(u=()=>{if(!r)return;const e=new IntersectionObserver(d,AF),t=a.current;return e.observe(t),()=>{e.unobserve(t)}},m=[d,r],t[3]=d,t[4]=r,t[5]=u,t[6]=m):(u=t[5],m=t[6]),mt.useEffect(u,m),o?(t[7]!==n||t[8]!==s||t[9]!==o?(h=o({item:s,index:n,separators:null}),t[7]=n,t[8]=s,t[9]=o,t[10]=h):h=t[10],t[11]!==h?(p=(0,Ft.jsx)(wo.default,{ref:a,children:h}),t[11]=h,t[12]=p):p=t[12],p):null};FF=mt.memo(FF);let EF=e=>{const t=(0,i.c)(16),{root:s,topMargin:n,bottomMargin:o,onVisibleChange:r,style:a}=e,l=void 0===n?"0px":n,c=void 0===o?"0px":o,d=mt.useRef(null),u=mt.useRef(!1);let m;t[0]!==r?(m=e=>{(0,D_.unstable_batchedUpdates)((()=>{e.forEach((e=>{e.isIntersecting!==u.current&&(u.current=e.isIntersecting,r(e.isIntersecting))}))}))},t[0]=r,t[1]=m):m=t[1];const h=Ed(m);let p,f,g,x;return t[2]!==c||t[3]!==h||t[4]!==s?.current||t[5]!==l?(p=()=>{const e=new IntersectionObserver(h,{root:s?.current??null,rootMargin:`${l} 0px ${c} 0px`}),t=d.current;return e.observe(t),()=>{e.unobserve(t)}},t[2]=c,t[3]=h,t[4]=s?.current,t[5]=l,t[6]=p):p=t[6],t[7]!==c||t[8]!==h||t[9]!==s||t[10]!==l?(f=[c,h,l,s],t[7]=c,t[8]=h,t[9]=s,t[10]=l,t[11]=f):f=t[11],mt.useEffect(p,f),t[12]!==a?(g=rc(BF.visibilityDetector,a),t[12]=a,t[13]=g):g=t[13],t[14]!==g?(x=(0,Ft.jsx)(wo.default,{ref:d,style:g}),t[14]=g,t[15]=x):x=t[15],x};EF=mt.memo(EF);const MF=(0,mt.memo)(mt.forwardRef((function(e,t){let{ListHeaderComponent:s,ListFooterComponent:n,ListEmptyComponent:o,disableFullWindowScroll:r,contentContainerStyle:i,data:a,desktopFixedHeight:l,headerOffset:c,keyExtractor:d,onStartReached:u,onStartReachedThreshold:m=2,onEndReached:h,onEndReachedThreshold:p=2,onScrolledDownChange:f,onContentSizeChange:g,onItemSeen:x,renderItem:_,extraData:y,style:b}=e,j=(0,ls.default)(e,LF);const v=PF(),w=!a||0===a.length;let S=null;null!=s&&(S=(0,mt.isValidElement)(s)?s:(0,Ft.jsx)(s,{}));let k=null;null!=n&&(k=(0,mt.isValidElement)(n)?n:(0,Ft.jsx)(n,{}));let C=null;null!=o&&(C=(0,mt.isValidElement)(o)?o:(0,Ft.jsx)(o,{})),null!=c&&(b=rc(b,{paddingTop:c}));const P=mt.useCallback((()=>{if(r){const e=T.current;if(!e)return;return{get scrollWidth(){return e.scrollWidth},get scrollHeight(){return e.scrollHeight},get clientWidth(){return e.clientWidth},get clientHeight(){return e.clientHeight},get scrollY(){return e.scrollTop},get scrollX(){return e.scrollLeft},scrollTo(t){e.scrollTo(t)},scrollBy(t){e.scrollBy(t)},addEventListener(t,s){e.addEventListener(t,s)},removeEventListener(t,s){e.removeEventListener(t,s)}}}return{get scrollWidth(){return document.documentElement.scrollWidth},get scrollHeight(){return document.documentElement.scrollHeight},get clientWidth(){return window.innerWidth},get clientHeight(){return window.innerHeight},get scrollY(){return window.scrollY},get scrollX(){return window.scrollX},scrollTo(e){window.scrollTo(e)},scrollBy(e){window.scrollBy(e)},addEventListener(e,t){window.addEventListener(e,t)},removeEventListener(e,t){window.removeEventListener(e,t)}}}),[r]),T=mt.useRef(null);mt.useImperativeHandle(t,(()=>({scrollToTop(){P()?.scrollTo({top:0})},scrollToOffset({animated:e,offset:t}){P()?.scrollTo({left:0,top:t,behavior:e?"smooth":"instant"})},scrollToEnd({animated:e=!0}){const t=P();t?.scrollTo({left:0,top:t.scrollHeight,behavior:e?"smooth":"instant"})}})),[P]);const L=(0,mt.useRef)(null);RF(L,g);const[A,I]=mt.useState(!1),R=Ed((()=>{if(!A)return;const e=P();v.onScroll?.({contentOffset:{x:Math.max(0,e?.scrollX??0),y:Math.max(0,e?.scrollY??0)},layoutMeasurement:{width:e?.clientWidth,height:e?.clientHeight},contentSize:{width:e?.scrollWidth,height:e?.scrollHeight}},null)}));mt.useEffect((()=>{if(!A)return;const e=P();return e?.addEventListener("scroll",R),()=>{e?.removeEventListener("scroll",R)}}),[A,R,r,P]);const D=(0,mt.useRef)(!1),F=Ed((e=>{e&&u?.({distanceFromStart:m||0})})),E=Ed((e=>{e&&h?.({distanceFromEnd:p||0})}));return(0,Ft.jsxs)(wo.default,Object.assign({},j,{style:[b,r&&{flex:1,"overflow-y":"scroll"}],ref:T,children:[(0,Ft.jsx)(EF,{onVisibleChange:I,style:BF.parentTreeVisibilityDetector}),(0,Ft.jsx)(wl,{children:(0,Ft.jsxs)(wo.default,{ref:L,style:[i,l?BF.minHeightViewport:null],children:[(0,Ft.jsx)(EF,{root:r?T:null,onVisibleChange:function(e){const t=!e;D.current!==t&&(D.current=t,(0,mt.startTransition)((()=>{f?.(t)})))},style:[BF.aboveTheFoldDetector,{height:c}]}),u&&!w&&(0,Ft.jsx)(IF,{root:r?T:null,onVisibleChange:F,topMargin:100*(m??0)+"%",containerRef:L}),S,w?C:a?.map(((e,t)=>{const s=d(e,t);return(0,Ft.jsx)(FF,{item:e,index:t,renderItem:_,extraData:y,onItemSeen:x},s)})),h&&!w&&(0,Ft.jsx)(IF,{root:r?T:null,onVisibleChange:E,bottomMargin:100*(p??0)+"%",containerRef:L}),k]})})]}))}))),BF=Gn.default.create({minHeightViewport:{minHeight:"100vh"},parentTreeVisibilityDetector:{position:"fixed",top:0,left:0,right:0,bottom:0},aboveTheFoldDetector:{position:"absolute",top:0,left:0,right:0},visibilityDetector:{pointerEvents:"none",zIndex:-1}});function OF(e){const t=(0,i.c)(11),{label:s,onPress:n}=e,o=mx("default"),r=o.textLight;let a,l,c,d;return t[0]!==r?(a=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrow-rotate-left",style:r,size:18}),t[0]=r,t[1]=a):a=t[1],t[2]!==o.textLight?(l=[o.textLight,zF.label],t[2]=o.textLight,t[3]=l):l=t[3],t[4]!==s||t[5]!==l?(c=(0,Ft.jsx)(Tx,{style:l,children:s}),t[4]=s,t[5]=l,t[6]=c):c=t[6],t[7]!==n||t[8]!==a||t[9]!==c?(d=(0,Ft.jsxs)(Ex,{type:"default-light",onPress:n,style:zF.loadMoreRetry,children:[a,c]}),t[7]=n,t[8]=a,t[9]=c,t[10]=d):d=t[10],d}const zF=Gn.default.create({loadMoreRetry:{flexDirection:"row",gap:14,alignItems:"center",borderRadius:0,marginTop:1,paddingVertical:12,paddingHorizontal:20},label:{flex:1}});var HF=s(18403),NF=s(35158);function VF(e){const t=(0,i.c)(5),{children:s}=e,n=(0,mt.useContext)(NF.DrawerGestureContext)??HF.Gesture.Native();let o;t[0]!==n?(o=HF.Gesture.Native().blocksExternalGesture(n),t[0]=n,t[1]=o):o=t[1];const r=o;let a;return t[2]!==s||t[3]!==r?(a=(0,Ft.jsx)(HF.GestureDetector,{gesture:r,children:s}),t[2]=s,t[3]=r,t[4]=a):a=t[4],a}const qF=zr({path:"M9.124 3.008a1 1 0 0 1 .868 1.116L9.632 7h5.985l.39-3.124a1 1 0 0 1 1.985.248L17.632 7H20a1 1 0 1 1 0 2h-2.617l-.75 6H20a1 1 0 1 1 0 2h-3.617l-.39 3.124a1 1 0 1 1-1.985-.248l.36-2.876H8.382l-.39 3.124a1 1 0 1 1-1.985-.248L6.368 17H4a1 1 0 1 1 0-2h2.617l.75-6H4a1 1 0 1 1 0-2h3.617l.39-3.124a1 1 0 0 1 1.117-.868ZM9.383 9l-.75 6h5.984l.75-6H9.383Z"}),UF=zr({path:"M9.186 2.512a1.5 1.5 0 0 0-1.674 1.302L7.176 6.5H4a1.5 1.5 0 1 0 0 3h2.8l-.624 5H4a1.5 1.5 0 0 0 0 3h1.8l-.288 2.314a1.5 1.5 0 1 0 2.976.372l.336-2.686h4.977l-.29 2.314a1.5 1.5 0 1 0 2.977.372l.336-2.686H20a1.5 1.5 0 0 0 0-3h-2.8l.624-5H20a1.5 1.5 0 0 0 0-3h-1.8l.288-2.314a1.5 1.5 0 1 0-2.976-.372L15.176 6.5h-4.977l.29-2.314a1.5 1.5 0 0 0-1.303-1.674ZM9.2 14.5l.625-5h4.977l-.625 5H9.199Z"}),WF=["art","gaming","sports","comics","music","politics","photography","science","news"];function ZF(){const e=(0,i.c)(70),{_:t}=(0,ft.useLingui)();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P;return e[0]!==t?(n=t({id:"rJytxG"}),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(o=t({id:"+QARA4"}),e[2]=t,e[3]=o):o=e[3],e[4]!==t?(r=t({id:"TGqTIz"}),e[4]=t,e[5]=r):r=e[5],e[6]!==t?(a=t({id:"CWk59I"}),e[6]=t,e[7]=a):a=e[7],e[8]!==t?(l=t({id:"Q70RyM"}),e[8]=t,e[9]=l):l=e[9],e[10]!==t?(c=t({id:"wFuUuH"}),e[10]=t,e[11]=c):c=e[11],e[12]!==t?(d=t({id:"cDg3lw"}),e[12]=t,e[13]=d):d=e[13],e[14]!==t?(u=t({id:"aqxYLv"}),e[14]=t,e[15]=u):u=e[15],e[16]!==t?(m=t({id:"uZCzGe"}),e[16]=t,e[17]=m):m=e[17],e[18]!==t?(h=t({id:"59Bkqw"}),e[18]=t,e[19]=h):h=e[19],e[20]!==t?(p=t({id:"VjZoPG"}),e[20]=t,e[21]=p):p=e[21],e[22]!==t?(f=t({id:"i9rcQ/"}),e[22]=t,e[23]=f):f=e[23],e[24]!==t?(g=t({id:"GfaxEk"}),e[24]=t,e[25]=g):g=e[25],e[26]!==t?(x=t({id:"PGt/mb"}),e[26]=t,e[27]=x):x=e[27],e[28]!==t?(_=t({id:"qdyV/M"}),e[28]=t,e[29]=_):_=e[29],e[30]!==t?(y=t({id:"nkqs9W"}),e[30]=t,e[31]=y):y=e[31],e[32]!==t?(b=t({id:"PDaunD"}),e[32]=t,e[33]=b):b=e[33],e[34]!==t?(j=t({id:"wGvJH+"}),e[34]=t,e[35]=j):j=e[35],e[36]!==t?(v=t({id:"5/lolt"}),e[36]=t,e[37]=v):v=e[37],e[38]!==t?(w=t({id:"7JFNej"}),e[38]=t,e[39]=w):w=e[39],e[40]!==t?(S=t({id:"vlf/In"}),e[40]=t,e[41]=S):S=e[41],e[42]!==t?(k=t({id:"JwFbe8"}),e[42]=t,e[43]=k):k=e[43],e[44]!==t?(C=t({id:"IUykiF"}),e[44]=t,e[45]=C):C=e[45],e[46]!==n||e[47]!==h||e[48]!==p||e[49]!==f||e[50]!==g||e[51]!==x||e[52]!==_||e[53]!==y||e[54]!==b||e[55]!==j||e[56]!==v||e[57]!==o||e[58]!==w||e[59]!==S||e[60]!==k||e[61]!==C||e[62]!==r||e[63]!==a||e[64]!==l||e[65]!==c||e[66]!==d||e[67]!==u||e[68]!==m?(P={animals:n,art:o,books:r,comedy:a,comics:l,culture:c,dev:d,education:u,food:m,gaming:h,journalism:p,movies:f,music:g,nature:x,news:_,pets:y,photography:b,politics:j,science:v,sports:w,tech:S,tv:k,writers:C},e[46]=n,e[47]=h,e[48]=p,e[49]=f,e[50]=g,e[51]=x,e[52]=_,e[53]=y,e[54]=b,e[55]=j,e[56]=v,e[57]=o,e[58]=w,e[59]=S,e[60]=k,e[61]=C,e[62]=r,e[63]=a,e[64]=l,e[65]=c,e[66]=d,e[67]=u,e[68]=m,e[69]=P):P=e[69],s=P,s}const QF={hasPrev:!1,totalSteps:3,activeStep:"profile",activeStepIndex:1,interestsStepResults:{selectedInterests:[],apiResponse:{interests:[],suggestedAccountDids:{},suggestedFeedUris:{}}},profileStepResults:{isCreatedAvatar:!1,image:void 0,imageUri:"",imageMime:""}},KF=mt.createContext({state:Object.assign({},QF),dispatch:()=>{}});function $F(e,t){let s=Object.assign({},e);switch(t.type){case"next":"profile"===e.activeStep?(s.activeStep="interests",s.activeStepIndex=2):"interests"===e.activeStep&&(s.activeStep="finished",s.activeStepIndex=3);break;case"prev":"interests"===e.activeStep?(s.activeStep="profile",s.activeStepIndex=1):"finished"===e.activeStep&&(s.activeStep="interests",s.activeStepIndex=2);break;case"finish":s=QF;break;case"setInterestsStepResults":s.interestsStepResults={selectedInterests:t.selectedInterests,apiResponse:t.apiResponse};break;case"setProfileStepResults":s.profileStepResults={isCreatedAvatar:t.isCreatedAvatar,image:t.image,imageUri:t.imageUri,imageMime:t.imageMime,creatorState:t.creatorState}}const n=Object.assign({},s,{hasPrev:"profile"!==s.activeStep});return ys.debug("onboarding",{hasPrev:n.hasPrev,activeStep:n.activeStep,activeStepIndex:n.activeStepIndex,interestsStepResults:{selectedInterests:n.interestsStepResults.selectedInterests},profileStepResults:n.profileStepResults}),e.activeStep!==n.activeStep&&ys.debug("onboarding: step changed",{activeStep:n.activeStep}),n}var GF=s(66142);function YF(e){const t=(0,i.c)(30),{current:s,total:n,title:o,subtitle:r,tabularNumsTitle:a}=e,l=ec(),c=!r&&kl.align_center;let d,u,m,h,p,f,g,x,_,y;return t[0]!==c?(d=[kl.flex_row,kl.gap_sm,c],t[0]=c,t[1]=d):d=t[1],t[2]!==s||t[3]!==l.palette.contrast_50||t[4]!==l.palette.primary_400||t[5]!==l.palette.primary_500||t[6]!==n?(u=s===n?(0,Ft.jsx)(Ky,{playOnMount:!0,fill:l.palette.primary_500,width:20}):(0,Ft.jsx)(GF.Circle,{progress:s/n,color:l.palette.primary_400,size:20,thickness:3,borderWidth:0,unfilledColor:l.palette.contrast_50}),t[2]=s,t[3]=l.palette.contrast_50,t[4]=l.palette.primary_400,t[5]=l.palette.primary_500,t[6]=n,t[7]=u):u=t[7],t[8]!==r?(m=r&&{marginTop:-2},t[8]=r,t[9]=m):m=t[9],t[10]!==m?(h=[kl.flex_col,kl.gap_2xs,m],t[10]=m,t[11]=h):h=t[11],t[12]!==a?(p=a&&{fontVariant:["tabular-nums"]},t[12]=a,t[13]=p):p=t[13],t[14]!==p?(f=[kl.text_sm,kl.font_bold,kl.leading_tight,p],t[14]=p,t[15]=f):f=t[15],t[16]!==f||t[17]!==o?(g=(0,Ft.jsx)(fr,{style:f,children:o}),t[16]=f,t[17]=o,t[18]=g):g=t[18],t[19]!==r||t[20]!==l.atoms?(x=r&&(0,Ft.jsx)(fr,{style:[kl.text_sm,l.atoms.text_contrast_medium,kl.leading_tight],children:r}),t[19]=r,t[20]=l.atoms,t[21]=x):x=t[21],t[22]!==h||t[23]!==g||t[24]!==x?(_=(0,Ft.jsxs)(wo.default,{style:h,children:[g,x]}),t[22]=h,t[23]=g,t[24]=x,t[25]=_):_=t[25],t[26]!==_||t[27]!==d||t[28]!==u?(y=(0,Ft.jsxs)(wo.default,{style:d,children:[u,_]}),t[26]=_,t[27]=d,t[28]=u,t[29]=y):y=t[29],y}function JF(e){const t=(0,i.c)(22),{guide:s}=e,{_:n}=(0,ft.useLingui)(),o=Ar(),{gtMobile:r}=ql(),{height:a}=(0,Ny.default)();let l,c;t[0]!==n?(l=n({id:"zjruXt"}),t[0]=n,t[1]=l):l=t[1],t[2]!==o?(c=()=>{o.open(),En("progressGuide:followDialog:open",{})},t[2]=o,t[3]=c):c=t[3];const d=r?"small":"large";let u,m,h,p,f,g,x,_;return t[4]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Pr,{icon:mC}),t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"zjruXt"})}),t[5]=m):m=t[5],t[6]!==l||t[7]!==c||t[8]!==d?(h=(0,Ft.jsxs)(Sr,{label:l,onPress:c,size:d,color:"primary",variant:"solid",children:[u,m]}),t[6]=l,t[7]=c,t[8]=d,t[9]=h):h=t[9],t[10]!==a?(p={minHeight:a},t[10]=a,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ha,{}),t[12]=f):f=t[12],t[13]!==s?(g=(0,Ft.jsx)(tE,{guide:s}),t[13]=s,t[14]=g):g=t[14],t[15]!==o||t[16]!==p||t[17]!==g?(x=(0,Ft.jsxs)(aa,{control:o,nativeOptions:p,children:[f,g]}),t[15]=o,t[16]=p,t[17]=g,t[18]=x):x=t[18],t[19]!==x||t[20]!==h?(_=(0,Ft.jsxs)(Ft.Fragment,{children:[h,x]}),t[19]=x,t[20]=h,t[21]=_):_=t[21],_}let XF="",eE="";function tE({guide:e}){const{_:t}=(0,ft.useLingui)(),s=ZF(),{data:n}=Fh(),o=n?.interests?.tags,r=Object.keys(s).sort(mE(WF)).sort(mE(o)),[i,a]=(0,mt.useState)((()=>XF||(o&&r.includes(o[0])?o[0]:r[0]))),[l,c]=(0,mt.useState)(eE),d=Op(),u=(0,mt.useRef)(null),m=(0,mt.useRef)(null),[h,p]=(0,mt.useState)(0),{currentAccount:f}=xh();(0,mt.useEffect)((()=>{eE=l,XF=i}),[l,i]);const{data:g,isFetching:x,error:_}=Ly({category:i,limit:50}),{data:y,isFetching:b,error:j,isError:v}=O_({enabled:!!l,query:l}),w=!!l,S=l||i,k=(0,mt.useMemo)((()=>{const e=w?y?.pages.flatMap((e=>e.actors)):g?.actors;let s=[];if(x||b){const e=Array(10).fill(0).map(((e,t)=>({type:"placeholder",key:t+""})));s.push(...e)}else if(w&&j||!w&&_||!e?.length)s.push({type:"empty",key:"empty",message:t({id:"zltW1E"})});else{const t=new Set;for(const n of e)t.has(n.did)||n.did!==f?.did&&(n.viewer?.following||(t.add(n.did),s.push({type:"profile",key:S+":"+n.did,profile:n})))}return s}),[t,g,_,x,y,j,b,f?.did,w,S]);!l||b||k.length||v||k.push({type:"empty",key:"empty",message:t({id:"Ev2r9A"})});const C=(0,mt.useCallback)((({item:e,index:t})=>{switch(e.type){case"profile":return(0,Ft.jsx)(iE,{profile:e.profile,moderationOpts:d,noBorder:0===t});case"placeholder":return(0,Ft.jsx)(dE,{},e.key);case"empty":return(0,Ft.jsx)(uE,{message:e.message},e.key);default:return null}}),[d]),P=(0,mt.useCallback)((e=>{a(e),m.current?.clear(),c(""),u.current?.scrollToOffset({offset:0,animated:!1})}),[a,c]),T=(0,Ft.jsx)(sE,{guide:e,inputRef:m,listRef:u,searchText:l,onSelectTab:P,setHeaderHeight:p,setSearchText:c,interests:r,selectedInterest:i,interestsDisplayNames:s});return(0,Ft.jsx)(ua,{ref:u,data:k,renderItem:C,ListHeaderComponent:T,stickyHeaderIndices:[0],keyExtractor:e=>e.key,style:[kl.px_0,_o([kl.py_0,{height:"100vh",maxHeight:600}]),jo({height:"100%"})],webInnerContentContainerStyle:kl.py_0,webInnerStyle:[kl.py_0,{maxWidth:500,minWidth:200}],keyboardDismissMode:"on-drag",scrollIndicatorInsets:{top:h},initialNumToRender:8,maxToRenderPerBatch:8})}let sE=e=>{const t=(0,i.c)(32),{guide:s,inputRef:n,listRef:o,searchText:r,onSelectTab:a,setHeaderHeight:l,setSearchText:c,interests:d,selectedInterest:u,interestsDisplayNames:m}=e,h=ec(),p=Lr();let f,g,x,_,y,b,j,v;t[0]!==l?(f=e=>l(e.nativeEvent.layout.height),t[0]=l,t[1]=f):f=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(g=_o(kl.pt_lg),x=jo(kl.pt_4xl),t[2]=g,t[3]=x):(g=t[2],x=t[3]),t[4]!==h.atoms.bg||t[5]!==h.atoms.border_contrast_low?(_=[kl.relative,g,x,kl.pb_xs,kl.border_b,h.atoms.border_contrast_low,h.atoms.bg],t[4]=h.atoms.bg,t[5]=h.atoms.border_contrast_low,t[6]=_):_=t[6],t[7]!==s?(y=(0,Ft.jsx)(nE,{guide:s}),t[7]=s,t[8]=y):y=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(b=[_o(kl.pt_xs),kl.pb_xs],t[9]=b):b=t[9],t[10]!==o.current||t[11]!==c?(j=e=>{c(e),o.current?.scrollToOffset({offset:0,animated:!1})},t[10]=o.current,t[11]=c,t[12]=j):j=t[12],t[13]!==p.close||t[14]!==n||t[15]!==r||t[16]!==j?(v=(0,Ft.jsx)(cE,{inputRef:n,defaultValue:r,onChangeText:j,onEscape:p.close}),t[13]=p.close,t[14]=n,t[15]=r,t[16]=j,t[17]=v):v=t[17];const w=!!r;let S,k,C;return t[18]!==d||t[19]!==m||t[20]!==a||t[21]!==u||t[22]!==w?(S=(0,Ft.jsx)(oE,{onSelectTab:a,interests:d,selectedInterest:u,hasSearchText:w,interestsDisplayNames:m}),t[18]=d,t[19]=m,t[20]=a,t[21]=u,t[22]=w,t[23]=S):S=t[23],t[24]!==S||t[25]!==v?(k=(0,Ft.jsxs)(wo.default,{style:b,children:[v,S]}),t[24]=S,t[25]=v,t[26]=k):k=t[26],t[27]!==f||t[28]!==k||t[29]!==_||t[30]!==y?(C=(0,Ft.jsxs)(wo.default,{onLayout:f,style:_,children:[y,k]}),t[27]=f,t[28]=k,t[29]=_,t[30]=y,t[31]=C):C=t[31],C};function nE(e){const t=(0,i.c)(17),{guide:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=Lr();let a,l,c,d,u;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.px_lg,kl.relative,kl.flex_row,kl.justify_between,kl.align_center],t[0]=a):a=t[0],t[1]!==o.atoms.text_contrast_high?(l=[kl.z_10,kl.text_lg,kl.font_heavy,kl.leading_tight,o.atoms.text_contrast_high],t[1]=o.atoms.text_contrast_high,t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ft.Trans,{id:"zjruXt"}),t[3]=c):c=t[3],t[4]!==l?(d=(0,Ft.jsx)(fr,{style:l,children:c}),t[4]=l,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u=Pt&&{paddingRight:36},t[6]=u):u=t[6];const m=s.numFollows+1,h=`${s.numFollows} / 10`;let p,f,g;return t[7]!==m||t[8]!==h?(p=(0,Ft.jsx)(wo.default,{style:u,children:(0,Ft.jsx)(YF,{current:m,total:11,title:h,tabularNumsTitle:!0})}),t[7]=m,t[8]=h,t[9]=p):p=t[9],t[10]!==n||t[11]!==r?(f=Pt?(0,Ft.jsx)(Sr,{label:n({id:"yz7wBu"}),size:"small",shape:"round",variant:Pt?"ghost":"solid",color:"secondary",style:[kl.absolute,kl.z_20,_o({right:-4}),jo({right:0}),jo({height:32,width:32,borderRadius:16})],onPress:()=>r.close(),children:(0,Ft.jsx)(Pr,{icon:Hr,size:"md"})}):null,t[10]=n,t[11]=r,t[12]=f):f=t[12],t[13]!==d||t[14]!==p||t[15]!==f?(g=(0,Ft.jsxs)(wo.default,{style:a,children:[d,p,f]}),t[13]=d,t[14]=p,t[15]=f,t[16]=g):g=t[16],g}sE=(0,mt.memo)(sE);let oE=e=>{const t=(0,i.c)(38),{onSelectTab:s,interests:n,selectedInterest:o,hasSearchText:r,interestsDisplayNames:a,TabComponent:l,contentContainerStyle:c}=e,d=void 0===l?rE:l,u=(0,mt.useRef)(null),[m,h]=(0,mt.useState)(0);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=[],t[0]=p):p=t[0];const f=(0,mt.useRef)(p);let g;t[1]===Symbol.for("react.memo_cache_sentinel")?(g=[],t[1]=g):g=t[1];const[x,_]=(0,mt.useState)(g),y=Ed((()=>{w(n.indexOf(o))}));let b,j,v;function w(e){const t=x[e];t&&u.current?.scrollTo({x:t.x-(m/2-t.width/2),animated:!0})}t[2]!==y||t[3]!==x?(b=()=>{x&&y()},j=[x,y],t[2]=y,t[3]=x,t[4]=b,t[5]=j):(b=t[4],j=t[5]),(0,mt.useEffect)(b,j),t[6]!==n||t[7]!==s||t[8]!==w?(v=function(e){const t=n[e];s(t),w(e)},t[6]=n,t[7]=s,t[8]=w,t[9]=v):v=t[9];const S=v;let k;t[10]!==n.length||t[11]!==x.length?(k=function(e,t,s){x.length||(f.current[e]={x:t,width:s},f.current.length===n.length&&_(f.current))},t[10]=n.length,t[11]=x.length,t[12]=k):k=t[12];const C=k;let P,T,L,A,I;if(t[13]!==c?(P=[kl.gap_sm,kl.px_lg,c],t[13]=c,t[14]=P):P=t[14],t[15]!==n.length||t[16]!==x?(T=x.length===n.length?x.map(hE):void 0,t[15]=n.length,t[16]=x,t[17]=T):T=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(L=e=>h(e.nativeEvent.layout.width),t[18]=L):L=t[18],t[19]!==d||t[20]!==S||t[21]!==C||t[22]!==r||t[23]!==n||t[24]!==a||t[25]!==o){let e;t[27]!==d||t[28]!==S||t[29]!==C||t[30]!==r||t[31]!==a||t[32]!==o?(e=(e,t)=>{const s=e===o&&!r;return(0,Ft.jsx)(d,{onSelectTab:S,active:s,index:t,interest:e,interestsDisplayName:a[e],onLayout:C},e)},t[27]=d,t[28]=S,t[29]=C,t[30]=r,t[31]=a,t[32]=o,t[33]=e):e=t[33],A=n.map(e),t[19]=d,t[20]=S,t[21]=C,t[22]=r,t[23]=n,t[24]=a,t[25]=o,t[26]=A}else A=t[26];return t[34]!==A||t[35]!==P||t[36]!==T?(I=(0,Ft.jsx)(Sw.default,{ref:u,horizontal:!0,contentContainerStyle:P,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToOffsets:T,onLayout:L,scrollEventThrottle:200,children:A}),t[34]=A,t[35]=P,t[36]=T,t[37]=I):I=t[37],I};oE=(0,mt.memo)(oE);let rE=e=>{const t=(0,i.c)(35),{onSelectTab:s,interest:n,active:o,index:r,interestsDisplayName:a,onLayout:l}=e,c=ec(),{_:d}=(0,ft.useLingui)();let u,m,h,p,f,g,x,_,y;if(t[0]!==d||t[1]!==o||t[2]!==r||t[3]!==n||t[4]!==a||t[5]!==l){const e=o?d({id:"AEPJ6q"}):"";m=wo.default,p=n,t[11]!==r||t[12]!==l?(f=e=>l(r,e.nativeEvent.layout.x,e.nativeEvent.layout.width),t[11]=r,t[12]=l,t[13]=f):f=t[13],u=Sr,h=d({id:"iT3q7o",values:{interestsDisplayName:a,activeText:e}}),t[0]=d,t[1]=o,t[2]=r,t[3]=n,t[4]=a,t[5]=l,t[6]=u,t[7]=m,t[8]=h,t[9]=p,t[10]=f}else u=t[6],m=t[7],h=t[8],p=t[9],f=t[10];return t[14]!==r||t[15]!==s?(g=()=>s(r),t[14]=r,t[15]=s,t[16]=g):g=t[16],t[17]!==o||t[18]!==a||t[19]!==c.atoms.bg||t[20]!==c.atoms.bg_contrast_25||t[21]!==c.atoms.border_contrast_low||t[22]!==c.atoms.text||t[23]!==c.atoms.text_contrast_medium?(x=e=>{const{hovered:t,pressed:s,focused:n}=e;return(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,kl.px_lg,kl.py_sm,kl.border,o||t||s||n?[c.atoms.bg_contrast_25,{borderColor:c.atoms.bg_contrast_25.backgroundColor}]:[c.atoms.bg,c.atoms.border_contrast_low]],children:(0,Ft.jsx)(fr,{style:[o||t||s||n?c.atoms.text:c.atoms.text_contrast_medium],children:a})})},t[17]=o,t[18]=a,t[19]=c.atoms.bg,t[20]=c.atoms.bg_contrast_25,t[21]=c.atoms.border_contrast_low,t[22]=c.atoms.text,t[23]=c.atoms.text_contrast_medium,t[24]=x):x=t[24],t[25]!==u||t[26]!==h||t[27]!==g||t[28]!==x?(_=(0,Ft.jsx)(u,{label:h,onPress:g,children:x}),t[25]=u,t[26]=h,t[27]=g,t[28]=x,t[29]=_):_=t[29],t[30]!==m||t[31]!==p||t[32]!==f||t[33]!==_?(y=(0,Ft.jsx)(m,{onLayout:f,children:_},p),t[30]=m,t[31]=p,t[32]=f,t[33]=_,t[34]=y):y=t[34],y};rE=(0,mt.memo)(rE);let iE=e=>{const t=(0,i.c)(4),{profile:s,moderationOpts:n,noBorder:o}=e;let r;return t[0]!==n||t[1]!==o||t[2]!==s?(r=(0,Ft.jsx)(aE,{profile:s,moderationOpts:n,noBorder:o}),t[0]=n,t[1]=o,t[2]=s,t[3]=r):r=t[3],r};function aE(e){const t=(0,i.c)(13),{profile:s,moderationOpts:n,onFollow:o,noBorder:r}=e,a=Lr(),l=ec();let c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_1],t[0]=c):c=t[0],t[1]!==a?(d=()=>a.close(),t[1]=a,t[2]=d):d=t[2],t[3]!==n||t[4]!==r||t[5]!==o||t[6]!==s||t[7]!==l?(u=e=>{const{hovered:t,pressed:i}=e;return(0,Ft.jsx)(lE,{style:[kl.flex_1,r&&kl.border_t_0,(t||i)&&l.atoms.bg_contrast_25],children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:n}),(0,Ft.jsx)(qC,{profile:s,moderationOpts:n}),(0,Ft.jsx)($C,{profile:s,moderationOpts:n,logContext:"PostOnboardingFindFollows",shape:"round",onPress:o,colorInverted:!0})]}),(0,Ft.jsx)(QC,{profile:s,numberOfLines:2})]})})},t[3]=n,t[4]=r,t[5]=o,t[6]=s,t[7]=l,t[8]=u):u=t[8],t[9]!==s||t[10]!==d||t[11]!==u?(m=(0,Ft.jsx)(HC,{profile:s,style:c,onPress:d,children:u}),t[9]=s,t[10]=d,t[11]=u,t[12]=m):m=t[12],m}function lE(e){const t=(0,i.c)(6),{children:s,style:n}=e,o=ec();let r,a;return t[0]!==n||t[1]!==o.atoms.border_contrast_low?(r=[kl.w_full,kl.py_md,kl.px_lg,kl.border_t,o.atoms.border_contrast_low,n],t[0]=n,t[1]=o.atoms.border_contrast_low,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(wo.default,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function cE(e){const t=(0,i.c)(33),{onChangeText:s,onEscape:n,inputRef:o,defaultValue:r}=e,a=ec(),{_:l}=(0,ft.useLingui)(),{state:c,onIn:d,onOut:u}=Ki(),{state:m,onIn:h,onOut:p}=Ki(),f=c||m;let g,x;t[0]!==d||t[1]!==u?(g=_o({onMouseEnter:d,onMouseLeave:u}),t[0]=d,t[1]=u,t[2]=g):g=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_row,kl.align_center,kl.gap_sm,kl.px_lg,kl.py_xs],t[3]=x):x=t[3];const _=f?a.palette.primary_500:a.palette.contrast_300;let y,b,j;t[4]!==_?(y=(0,Ft.jsx)(nC,{size:"md",fill:_}),t[4]=_,t[5]=y):y=t[5],t[6]!==l?(b=l({id:"OKweoj"}),t[6]=l,t[7]=b):b=t[7],t[8]!==a.atoms.text?(j=[kl.flex_1,kl.py_md,kl.text_md,a.atoms.text],t[8]=a.atoms.text,t[9]=j):j=t[9];const v=a.palette.contrast_500,w="light"===a.name?"light":"dark";let S,k,C,P,T;return t[10]!==n?(S=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&n()},t[10]=n,t[11]=S):S=t[11],t[12]!==l?(k=l({id:"/r0Dm5"}),t[12]=l,t[13]=k):k=t[13],t[14]!==l?(C=l({id:"XRcrP9"}),t[14]=l,t[15]=C):C=t[15],t[16]!==r||t[17]!==o||t[18]!==p||t[19]!==s||t[20]!==h||t[21]!==a.palette.contrast_500||t[22]!==k||t[23]!==C||t[24]!==b||t[25]!==j||t[26]!==w||t[27]!==S?(P=(0,Ft.jsx)(Kr.default,{ref:o,placeholder:b,defaultValue:r,onChangeText:s,onFocus:h,onBlur:p,style:j,placeholderTextColor:v,keyboardAppearance:w,returnKeyType:"search",clearButtonMode:"while-editing",maxLength:50,onKeyPress:S,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",accessibilityLabel:k,accessibilityHint:C}),t[16]=r,t[17]=o,t[18]=p,t[19]=s,t[20]=h,t[21]=a.palette.contrast_500,t[22]=k,t[23]=C,t[24]=b,t[25]=j,t[26]=w,t[27]=S,t[28]=P):P=t[28],t[29]!==g||t[30]!==P||t[31]!==y?(T=(0,Ft.jsxs)(wo.default,Object.assign({},g,{style:x,children:[y,P]})),t[29]=g,t[30]=P,t[31]=y,t[32]=T):T=t[32],T}function dE(){const e=(0,i.c)(17),t=ec();let s,n,o,r,a,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_1,kl.py_md,kl.px_lg,kl.gap_md,kl.align_center,kl.flex_row],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:42,height:42},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25?(o=(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,n,t.atoms.bg_contrast_25]}),e[2]=t.atoms.bg_contrast_25,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_1,kl.gap_sm],e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a={width:80,height:14},e[5]=a):a=e[5],e[6]!==t.atoms.bg_contrast_25?(l=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,a,t.atoms.bg_contrast_25]}),e[6]=t.atoms.bg_contrast_25,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c={width:120,height:10},e[8]=c):c=e[8],e[9]!==t.atoms.bg_contrast_25?(d=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,c,t.atoms.bg_contrast_25]}),e[9]=t.atoms.bg_contrast_25,e[10]=d):d=e[10],e[11]!==l||e[12]!==d?(u=(0,Ft.jsxs)(wo.default,{style:r,children:[l,d]}),e[11]=l,e[12]=d,e[13]=u):u=e[13],e[14]!==o||e[15]!==u?(m=(0,Ft.jsxs)(wo.default,{style:s,children:[o,u]}),e[14]=o,e[15]=u,e[16]=m):m=e[16],m}function uE(e){const t=(0,i.c)(11),{message:s}=e,n=ec();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.p_lg,kl.py_xl,kl.align_center,kl.gap_md],t[0]=o):o=t[0],t[1]!==n.atoms.text_contrast_high?(r=[kl.text_sm,kl.italic,n.atoms.text_contrast_high],t[1]=n.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],t[6]!==n.atoms.text_contrast_low?(l=(0,Ft.jsx)(fr,{style:[kl.text_xs,n.atoms.text_contrast_low],children:"(\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b"}),t[6]=n.atoms.text_contrast_low,t[7]=l):l=t[7],t[8]!==a||t[9]!==l?(c=(0,Ft.jsxs)(wo.default,{style:o,children:[a,l]}),t[8]=a,t[9]=l,t[10]=c):c=t[10],c}function mE(e){return(t,s)=>{const n=e?.indexOf(t)??-1,o=e?.indexOf(s)??-1;return(-1===n?1/0:n)-(-1===o?1/0:o)}}function hE(e){return e.x-eo.xl}function pE(e){const t=(0,i.c)(31),{style:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),r=nb("follow-10"),a=nb("like-10-and-follow-7"),l=r||a,{endProgressGuide:c}=ob();if(l){let e,r,i,a,d,u,m,h,p,f,g,x,_;return t[0]!==s?(e=[kl.flex_col,kl.gap_md,s],t[0]=s,t[1]=e):e=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_row,kl.align_center,kl.justify_between],t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(i={textTransform:"uppercase"},t[3]=i):i=t[3],t[4]!==n.atoms.text_contrast_medium?(a=[n.atoms.text_contrast_medium,kl.font_bold,kl.text_sm,i],t[4]=n.atoms.text_contrast_medium,t[5]=a):a=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"7hktsm"}),t[6]=d):d=t[6],t[7]!==a?(u=(0,Ft.jsx)(fr,{style:a,children:d}),t[7]=a,t[8]=u):u=t[8],t[9]!==o?(m=o({id:"uwkE+S"}),t[9]=o,t[10]=m):m=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(Pr,{icon:Hr,size:"sm"}),t[11]=h):h=t[11],t[12]!==c||t[13]!==m?(p=(0,Ft.jsx)(Sr,{variant:"ghost",size:"tiny",color:"secondary",shape:"round",label:m,onPress:c,children:h}),t[12]=c,t[13]=m,t[14]=p):p=t[14],t[15]!==u||t[16]!==p?(f=(0,Ft.jsxs)(wo.default,{style:r,children:[u,p]}),t[15]=u,t[16]=p,t[17]=f):f=t[17],t[18]!==o||t[19]!==l?(g="follow-10"===l.guide&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(YF,{current:l.numFollows+1,total:11,title:o({id:"kHYlRE"}),subtitle:o({id:"Pddc2S"})}),(0,Ft.jsx)(JF,{guide:l})]}),t[18]=o,t[19]=l,t[20]=g):g=t[20],t[21]!==o||t[22]!==l.guide||t[23]!==l.numFollows||t[24]!==l.numLikes?(x="like-10-and-follow-7"===l.guide&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(YF,{current:l.numLikes+1,total:11,title:o({id:"U4+xpl"}),subtitle:o({id:"rrAqb8"})}),(0,Ft.jsx)(YF,{current:l.numFollows+1,total:8,title:o({id:"6UV0sV"}),subtitle:o({id:"Pddc2S"})})]}),t[21]=o,t[22]=l.guide,t[23]=l.numFollows,t[24]=l.numLikes,t[25]=x):x=t[25],t[26]!==e||t[27]!==f||t[28]!==g||t[29]!==x?(_=(0,Ft.jsxs)(wo.default,{style:e,children:[f,g,x]}),t[26]=e,t[27]=f,t[28]=g,t[29]=x,t[30]=_):_=t[30],_}return null}iE=(0,mt.memo)(iE);const fE=300;function gE(e){const t=(0,i.c)(10),{children:s,style:n}=e,o=ec(),{gtMobile:r}=ql();let a,l,c;return t[0]!==r?(a=!r&&{width:fE},t[0]=r,t[1]=a):a=t[1],t[2]!==n||t[3]!==o.atoms.bg||t[4]!==o.atoms.border_contrast_low||t[5]!==a?(l=[kl.w_full,kl.p_lg,kl.rounded_md,kl.border,o.atoms.bg,o.atoms.border_contrast_low,a,n],t[2]=n,t[3]=o.atoms.bg,t[4]=o.atoms.border_contrast_low,t[5]=a,t[6]=l):l=t[6],t[7]!==s||t[8]!==l?(c=(0,Ft.jsx)(wo.default,{style:l,children:s}),t[7]=s,t[8]=l,t[9]=c):c=t[9],c}function xE(){const e=(0,i.c)(6),t=ec();let s,n,o,r;return e[0]!==t.atoms.border_contrast_low?(s=[kl.gap_md,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(VC,{}),(0,Ft.jsx)(ZC,{})]}),o=(0,Ft.jsx)(KC,{numberOfLines:2}),e[2]=n,e[3]=o):(n=e[2],o=e[3]),e[4]!==s?(r=(0,Ft.jsxs)(gE,{style:s,children:[n,o]}),e[4]=s,e[5]=r):r=e[5],r}function _E(e){let t;t="popfriends"===e.feedContext?"a":e.feedContext?.startsWith("cluster")?"b":"popcluster"===e.feedContext?"c":e.feedContext?.startsWith("ntpc")?"d":e.feedContext?.startsWith("t-")?"e":"nettop"===e.feedContext?"f":"g";let s=Math.round(Math.log(1+e.likeCount+e.repostCount+e.replyCount));(e.isFollowedBy||Math.random()>.9)&&(s*=2);return`${t}-${100-s}`}function yE(e,t){const s=_E(e),n=_E(t);return s>n?1:s<n?-1:0}function bE(){const{currentAccount:e}=xh(),t=mt.useState(ux)[0],s=mt.useMemo((()=>{const{likes:s,follows:n,followSuggestions:o,seen:r}=t,i=s.map((e=>new Is.AtUri(e))).map((e=>e.host)).filter((e=>!n.includes(e)));let a=[];o.length>0&&(a=[o[Math.floor(Math.random()*o.length)],o[Math.floor(Math.random()*o.length)],o[Math.floor(Math.random()*o.length)],o[Math.floor(Math.random()*o.length)]]);const l=r.sort(yE).map((e=>new Is.AtUri(e.uri))).map((e=>e.host));return[...new Set([...a,...i,...l])].filter((t=>t!==e?.did))}),[t,e]),{data:n,isLoading:o,error:r}=mb({handles:s.slice(0,16)});return{isLoading:o,error:r,profiles:(n?n.profiles.filter((e=>!e.viewer?.following)):[]).slice(0,6)}}function jE(e){const t=(0,i.c)(5),{feed:s}=e,{currentAccount:n}=xh();let o;t[0]!==s?(o=s.split("|"),t[0]=s,t[1]=o):o=t[1];const[r,a]=o;if("author"===r){if(n?.did===a)return null;{let e;return t[2]!==a?(e=(0,Ft.jsx)(vE,{did:a}),t[2]=a,t[3]=e):e=t[3],e}}{let e;return t[4]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(wE,{}),t[4]=e):e=t[4],e}}function vE(e){const t=(0,i.c)(9),{did:s}=e;let n;t[0]!==s?(n={did:s},t[0]=s,t[1]=n):n=t[1];const{isLoading:o,data:r,error:a}=function(e){const t=(0,i.c)(9),{did:s,enabled:n}=e,o=bh();let r,a,l;return t[0]!==s?(r=Sy(s),t[0]=s,t[1]=r):r=t[1],t[2]!==o||t[3]!==s?(a=async()=>{const e=await o.app.bsky.graph.getSuggestedFollowsByActor({actor:s});return{suggestions:e.data.isFallback?[]:e.data.suggestions.filter(ky),recId:e.data.recId}},t[2]=o,t[3]=s,t[4]=a):a=t[4],t[5]!==n||t[6]!==r||t[7]!==a?(l={queryKey:r,queryFn:a,enabled:n},t[5]=n,t[6]=r,t[7]=a,t[8]=l):l=t[8],(0,vd.useQuery)(l)}(n);let l;t[2]!==r?.suggestions?(l=r?.suggestions??[],t[2]=r?.suggestions,t[3]=l):l=t[3];const c=r?.recId;let d;return t[4]!==a||t[5]!==o||t[6]!==l||t[7]!==c?(d=(0,Ft.jsx)(SE,{isSuggestionsLoading:o,profiles:l,recId:c,error:a,viewContext:"profile"}),t[4]=a,t[5]=o,t[6]=l,t[7]=c,t[8]=d):d=t[8],d}function wE(){const e=(0,i.c)(4),{isLoading:t,profiles:s,error:n}=bE();let o;return e[0]!==n||e[1]!==t||e[2]!==s?(o=(0,Ft.jsx)(SE,{isSuggestionsLoading:t,profiles:s,error:n,viewContext:"feed"}),e[0]=n,e[1]=t,e[2]=s,e[3]=o):o=e[3],o}function SE(e){const t=(0,i.c)(36),{isSuggestionsLoading:s,error:n,profiles:o,recId:r,viewContext:a}=e,l=void 0===a?"feed":a,c=ec(),{_:d}=(0,ft.useLingui)(),u=Op(),m=(0,va.useNavigation)(),{gtMobile:h}=ql(),p=s||!u,f=h?4:6;let g;t[0]!==n||t[1]!==h||t[2]!==p||t[3]!==f||t[4]!==u||t[5]!==o||t[6]!==r||t[7]!==c||t[8]!==l?(g=p?Array(f).fill(0).map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[h&&_o([kl.flex_0,{width:"calc(50% - 6px)"}])],children:(0,Ft.jsx)(xE,{})},t))):n||!o.length?null:(0,Ft.jsx)(Ft.Fragment,{children:o.slice(0,f).map(((e,t)=>(0,Ft.jsx)(HC,{profile:e,onPress:()=>{En("suggestedUser:press",{logContext:"feed"===l?"InterstitialDiscover":"InterstitialProfile",recId:r,position:t})},style:[kl.flex_1,h&&_o([kl.flex_0,{width:"calc(50% - 6px)"}])],children:s=>{const{hovered:n,pressed:o}=s;return(0,Ft.jsx)(gE,{style:[kl.flex_1,(n||o)&&c.atoms.border_contrast_high],children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:e,moderationOpts:u}),(0,Ft.jsx)(qC,{profile:e,moderationOpts:u}),(0,Ft.jsx)($C,{profile:e,moderationOpts:u,logContext:"FeedInterstitial",shape:"round",colorInverted:!0,onFollow:()=>{En("suggestedUser:follow",{logContext:"feed"===l?"InterstitialDiscover":"InterstitialProfile",location:"Card",recId:r,position:t})}})]}),(0,Ft.jsx)(QC,{profile:e,numberOfLines:2})]})})}},e.did)))}),t[0]=n,t[1]=h,t[2]=p,t[3]=f,t[4]=u,t[5]=o,t[6]=r,t[7]=c,t[8]=l,t[9]=g):g=t[9];const x=g;if(n||!p&&o.length<4)return ys.debug("Not enough profiles to show suggested follows"),null;let _,y,b,j,v,w,S,k,C;return t[10]!==c.atoms.bg_contrast_25||t[11]!==c.atoms.border_contrast_low?(_=[kl.border_t,c.atoms.border_contrast_low,c.atoms.bg_contrast_25],t[10]=c.atoms.bg_contrast_25,t[11]=c.atoms.border_contrast_low,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.p_lg,kl.pb_xs,kl.flex_row,kl.align_center,kl.justify_between],t[13]=y):y=t[13],t[14]!==c.atoms.text_contrast_medium?(b=[kl.text_sm,kl.font_bold,c.atoms.text_contrast_medium],t[14]=c.atoms.text_contrast_medium,t[15]=b):b=t[15],t[16]!==l?(j="profile"===l?(0,Ft.jsx)(ft.Trans,{id:"f1CmQO"}):(0,Ft.jsx)(ft.Trans,{id:"LnPXX1"}),t[16]=l,t[17]=j):j=t[17],t[18]!==b||t[19]!==j?(v=(0,Ft.jsx)(fr,{style:b,children:j}),t[18]=b,t[19]=j,t[20]=v):v=t[20],t[21]!==c.atoms.text_contrast_low.color?(w=(0,Ft.jsx)(cC,{fill:c.atoms.text_contrast_low.color,size:"sm"}),t[21]=c.atoms.text_contrast_low.color,t[22]=w):w=t[22],t[23]!==v||t[24]!==w?(S=(0,Ft.jsxs)(wo.default,{style:y,children:[v,w]}),t[23]=v,t[24]=w,t[25]=S):S=t[25],t[26]!==d||t[27]!==x||t[28]!==h||t[29]!==m||t[30]!==c.atoms.text_contrast_medium?(k=h?(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.px_lg,kl.pt_sm,kl.pb_lg,kl.gap_md],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.flex_wrap,kl.gap_sm],children:x}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_end,kl.align_center,kl.gap_md],children:[(0,Ft.jsx)(fv,{label:d({id:"m88BQC"}),to:"/search",style:[c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"m88BQC"})}),(0,Ft.jsx)(nl,{size:"sm",fill:c.atoms.text_contrast_medium.color})]})]}):(0,Ft.jsx)(VF,{children:(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(HF.ScrollView,{horizontal:!0,showsHorizontalScrollIndicator:!1,snapToInterval:fE+kl.gap_md.gap,decelerationRate:"fast",children:(0,Ft.jsxs)(wo.default,{style:[kl.px_lg,kl.pt_sm,kl.pb_lg,kl.flex_row,kl.gap_md],children:[x,(0,Ft.jsx)(Sr,{label:d({id:"/ZHqyT"}),onPress:()=>{m.navigate("SearchTab")},children:(0,Ft.jsx)(gE,{style:[kl.flex_1,{borderWidth:0}],children:(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.justify_center],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.px_lg],children:[(0,Ft.jsx)(fr,{style:[kl.pr_xl,kl.flex_1,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"akSAFj"})}),(0,Ft.jsx)(nl,{size:"xl"})]})})})})]})})})}),t[26]=d,t[27]=x,t[28]=h,t[29]=m,t[30]=c.atoms.text_contrast_medium,t[31]=k):k=t[31],t[32]!==k||t[33]!==_||t[34]!==S?(C=(0,Ft.jsxs)(wo.default,{style:_,children:[S,k]}),t[32]=k,t[33]=_,t[34]=S,t[35]=C):C=t[35],C}function kE(){const e=(0,i.c)(5),t=ec();let s,n,o;return e[0]!==t.atoms.border_contrast_low?(s=[t.atoms.border_contrast_low,kl.px_lg,kl.py_lg,kl.pb_lg],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(pE,{}),e[2]=n):n=e[2],e[3]!==s?(o=(0,Ft.jsx)(wo.default,{style:s,children:n}),e[3]=s,e[4]=o):o=e[4],o}const CE=(0,mt.createContext)({gap:0});function PE(e){const t=(0,i.c)(14),{children:s,gap:n,style:o}=e,r=void 0===n?0:n;let a,l;t[0]!==r?(l={gap:r},t[0]=r,t[1]=l):l=t[1],a=l;const c=-r/2,d=-r/2;let u,m,h,p;return t[2]!==c||t[3]!==d?(u={marginLeft:c,marginRight:d},t[2]=c,t[3]=d,t[4]=u):u=t[4],t[5]!==o||t[6]!==u?(m=[kl.flex_row,kl.flex_1,u,o],t[5]=o,t[6]=u,t[7]=m):m=t[7],t[8]!==s||t[9]!==m?(h=(0,Ft.jsx)(wo.default,{style:m,children:s}),t[8]=s,t[9]=m,t[10]=h):h=t[10],t[11]!==a||t[12]!==h?(p=(0,Ft.jsx)(CE.Provider,{value:a,children:h}),t[11]=a,t[12]=h,t[13]=p):p=t[13],p}function TE(e){const t=(0,i.c)(10),{children:s,width:n,style:o}=e,r=void 0===n?1:n,{gap:a}=(0,mt.useContext)(CE),l=a/2,c=a/2,d=100*r+"%";let u,m,h;return t[0]!==l||t[1]!==c||t[2]!==d?(u={paddingLeft:l,paddingRight:c,width:d},t[0]=l,t[1]=c,t[2]=d,t[3]=u):u=t[3],t[4]!==o||t[5]!==u?(m=[kl.flex_col,u,o],t[4]=o,t[5]=u,t[6]=m):m=t[6],t[7]!==s||t[8]!==m?(h=(0,Ft.jsx)(wo.default,{style:m,children:s}),t[7]=s,t[8]=m,t[9]=h):h=t[9],h}function LE(e){return Zl(e.name,{light:e.palette.black,dark:e.atoms.bg_contrast_25.backgroundColor,dim:`hsl(${Cl}, 28%, 6%)`})}function AE(e){const t=(0,i.c)(123),{post:s,sourceContext:n,moderation:o,onInteract:r}=e,a=ec(),{_:l,i18n:c}=(0,ft.useLingui)(),d=s.embed,{state:u,onIn:m,onOut:h}=Ki();let p;t[0]!==o?(p=o.ui("contentList"),t[0]=o,t[1]=p):p=t[1];const f=p;let g,x;if(t[2]!==o){x=o.ui("contentList");const e=o.ui("contentMedia");x.alerts=[...x.alerts,...e.alerts],x.blurs=[...x.blurs,...e.blurs],x.filters=[...x.filters,...e.filters],x.informs=[...x.informs,...e.informs],t[2]=o,t[3]=x}else x=t[3];g=x;const _=g;if(!Is.AppBskyEmbedVideo.isView(d))return null;const y=s.author,b=If(s.record,Is.AppBskyFeedPost.isRecord)?s.record?.text:"",j=s?.likeCount??0,v=s?.repostCount??0,{thumbnail:w}=d;let S;t[4]!==a?(S=LE(a),t[4]=a,t[5]=S):S=t[5];const k=S;let C,P,T,L,A,I,R,D,F,E,M,B;t[6]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.pr_xs,{paddingTop:6,gap:4}],t[6]=C):C=t[6],t[7]!==b?(P=b&&(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],numberOfLines:2,emoji:!0,children:b}),t[7]=b,t[8]=P):P=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.flex_row,kl.gap_xs,kl.align_center],t[9]=T):T=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.relative,kl.rounded_full,{width:20,height:20}],t[10]=L):L=t[10],t[11]!==s.author.avatar?(A=(0,Ft.jsx)(mP,{type:"user",size:20,avatar:s.author.avatar}),t[11]=s.author.avatar,t[12]=A):A=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(lP,{}),t[13]=I):I=t[13],t[14]!==A?(R=(0,Ft.jsxs)(wo.default,{style:L,children:[A,I]}),t[14]=A,t[15]=R):R=t[15],t[16]!==a.atoms.text_contrast_medium?(D=[kl.flex_1,kl.text_sm,kl.leading_tight,a.atoms.text_contrast_medium],t[16]=a.atoms.text_contrast_medium,t[17]=D):D=t[17],t[18]!==s.author.handle?(F=su(s.author.handle,"@"),t[18]=s.author.handle,t[19]=F):F=t[19],t[20]!==D||t[21]!==F?(E=(0,Ft.jsx)(fr,{style:D,numberOfLines:1,children:F}),t[20]=D,t[21]=F,t[22]=E):E=t[22],t[23]!==R||t[24]!==E?(M=(0,Ft.jsxs)(wo.default,{style:T,children:[R,E]}),t[23]=R,t[24]=E,t[25]=M):M=t[25],t[26]!==M||t[27]!==P?(B=(0,Ft.jsxs)(wo.default,{style:C,children:[P,M]}),t[26]=M,t[27]=P,t[28]=B):B=t[28];const O=B;let z,H,N,V,q,U,W;t[29]!==l?(z=l({id:"vDuwWp"}),t[29]=l,t[30]=z):z=t[30],t[31]!==l||t[32]!==y.handle||t[33]!==b?(H=l({id:"26b5D5",values:{0:y.handle,text:b}}),t[31]=l,t[32]=y.handle,t[33]=b,t[34]=H):H=t[34],t[35]!==s.uri||t[36]!==n?(N={screen:"VideoFeed",params:Object.assign({},n,{initialPostUri:s.uri})},t[35]=s.uri,t[36]=n,t[37]=N):N=t[37],t[38]!==r?(V=()=>{r?.()},t[38]=r,t[39]=V):V=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(q=[kl.flex_col,{alignItems:void 0,justifyContent:void 0}],t[40]=q):q=t[40],t[41]!==k?(U=[kl.justify_center,kl.rounded_md,kl.overflow_hidden,{backgroundColor:k,aspectRatio:.5625}],t[41]=k,t[42]=U):U=t[42],t[43]!==w?(W={uri:w},t[43]=w,t[44]=W):W=t[44];const Z=u?.8:1;let Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae;t[45]!==Z?(Q=[kl.w_full,kl.h_full,{opacity:Z}],t[45]=Z,t[46]=Q):Q=t[46],t[47]!==W||t[48]!==Q?(K=(0,Ft.jsx)(SS.Image,{source:W,style:Q,accessibilityIgnoresInvertColors:!0,blurRadius:100}),t[47]=W,t[48]=Q,t[49]=K):K=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?($=(0,Ft.jsx)(lP,{}),t[50]=$):$=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(G=[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],t[51]=G):G=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center,{backgroundColor:"black",opacity:.2}]}),t[52]=Y):Y=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(J=[kl.align_center,kl.gap_xs],X=(0,Ft.jsx)(TS,{size:"lg",fill:"white"}),t[53]=J,t[54]=X):(J=t[53],X=t[54]),t[55]===Symbol.for("react.memo_cache_sentinel")?(ee=[kl.text_sm,{color:"white"}],t[55]=ee):ee=t[55],t[56]!==l?(te=l({id:"D+zLDD"}),t[56]=l,t[57]=te):te=t[57],t[58]!==te?(se=(0,Ft.jsxs)(wo.default,{style:G,children:[Y,(0,Ft.jsxs)(wo.default,{style:J,children:[X,(0,Ft.jsx)(fr,{style:ee,children:te})]})]}),t[58]=te,t[59]=se):se=t[59],t[60]!==U||t[61]!==K||t[62]!==se?(ne=(0,Ft.jsxs)(wo.default,{style:U,children:[K,$,se]}),t[60]=U,t[61]=K,t[62]=se,t[63]=ne):ne=t[63],t[64]!==f.blur||t[65]!==s.author||t[66]!==O?(oe=f.blur?(0,Ft.jsx)(RE,{author:s.author}):O,t[64]=f.blur,t[65]=s.author,t[66]=O,t[67]=oe):oe=t[67],t[68]!==ne||t[69]!==oe?(re=(0,Ft.jsxs)(CR,{children:[ne,oe]}),t[68]=ne,t[69]=oe,t[70]=re):re=t[70],t[71]!==k?(ie=[kl.justify_center,kl.rounded_md,kl.overflow_hidden,{backgroundColor:k,aspectRatio:.5625}],t[71]=k,t[72]=ie):ie=t[72],t[73]!==w?(ae={uri:w},t[73]=w,t[74]=ae):ae=t[74];const le=u?.8:1;let ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe,Te;return t[75]!==le?(ce=[kl.w_full,kl.h_full,{opacity:le}],t[75]=le,t[76]=ce):ce=t[76],t[77]!==ae||t[78]!==ce?(de=(0,Ft.jsx)(SS.Image,{source:ae,style:ce,accessibilityIgnoresInvertColors:!0}),t[77]=ae,t[78]=ce,t[79]=de):de=t[79],t[80]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,Ft.jsx)(lP,{}),t[80]=ue):ue=t[80],t[81]===Symbol.for("react.memo_cache_sentinel")?(me=[kl.absolute,kl.inset_0],t[81]=me):me=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(he=[kl.absolute,kl.inset_0,kl.pt_2xl,{top:"auto"}],t[82]=he):he=t[82],t[83]!==k?(pe=[k,"rgba(0, 0, 0, 0)"],t[83]=k,t[84]=pe):pe=t[84],t[85]===Symbol.for("react.memo_cache_sentinel")?(fe=[.02,1],ge={x:0,y:1},xe={x:0,y:0},t[85]=fe,t[86]=ge,t[87]=xe):(fe=t[85],ge=t[86],xe=t[87]),t[88]===Symbol.for("react.memo_cache_sentinel")?(_e=[kl.absolute,kl.inset_0,{opacity:.9}],t[88]=_e):_e=t[88],t[89]!==pe?(ye=(0,Ft.jsx)(sr.LinearGradient,{colors:pe,locations:fe,start:ge,end:xe,style:_e}),t[89]=pe,t[90]=ye):ye=t[90],t[91]===Symbol.for("react.memo_cache_sentinel")?(be=[kl.relative,kl.z_10,kl.p_md,kl.flex_row,kl.gap_md],t[91]=be):be=t[91],t[92]!==c||t[93]!==j?(je=j>0&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(yT,{size:"sm",fill:"white"}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.font_bold,{color:"white"}],children:$S(c,j)})]}),t[92]=c,t[93]=j,t[94]=je):je=t[94],t[95]!==c||t[96]!==v?(ve=v>0&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(jT,{size:"sm",fill:"white"}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.font_bold,{color:"white"}],children:$S(c,v)})]}),t[95]=c,t[96]=v,t[97]=ve):ve=t[97],t[98]!==je||t[99]!==ve?(we=(0,Ft.jsxs)(wo.default,{style:be,children:[je,ve]}),t[98]=je,t[99]=ve,t[100]=we):we=t[100],t[101]!==ye||t[102]!==we?(Se=(0,Ft.jsx)(wo.default,{style:me,children:(0,Ft.jsxs)(wo.default,{style:he,children:[ye,we]})}),t[101]=ye,t[102]=we,t[103]=Se):Se=t[103],t[104]!==ie||t[105]!==de||t[106]!==Se?(ke=(0,Ft.jsxs)(wo.default,{style:ie,children:[de,ue,Se]}),t[104]=ie,t[105]=de,t[106]=Se,t[107]=ke):ke=t[107],t[108]!==ke||t[109]!==O?(Ce=(0,Ft.jsxs)(kR,{children:[ke,O]}),t[108]=ke,t[109]=O,t[110]=Ce):Ce=t[110],t[111]!==_||t[112]!==re||t[113]!==Ce?(Pe=(0,Ft.jsxs)(wR,{modui:_,children:[re,Ce]}),t[111]=_,t[112]=re,t[113]=Ce,t[114]=Pe):Pe=t[114],t[115]!==m||t[116]!==h||t[117]!==z||t[118]!==H||t[119]!==N||t[120]!==V||t[121]!==Pe?(Te=(0,Ft.jsx)(pv,{accessibilityHint:z,label:H,to:N,onPress:V,onPressIn:m,onPressOut:h,style:q,children:Pe}),t[115]=m,t[116]=h,t[117]=z,t[118]=H,t[119]=N,t[120]=V,t[121]=Pe,t[122]=Te):Te=t[122],Te}function IE(){const e=(0,i.c)(11),t=ec();let s;e[0]!==t?(s=LE(t),e[0]=t,e[1]=s):s=e[1];const n=s;let o,r,a,l,c,d;return e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1],e[2]=o):o=e[2],e[3]!==n?(r=[kl.rounded_md,kl.overflow_hidden,{backgroundColor:n,aspectRatio:.5625}],e[3]=n,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(lP,{}),e[5]=a):a=e[5],e[6]!==r?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),e[6]=r,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(RE,{}),e[8]=c):c=e[8],e[9]!==l?(d=(0,Ft.jsxs)(wo.default,{style:o,children:[l,c]}),e[9]=l,e[10]=d):d=e[10],d}function RE(e){const t=(0,i.c)(17),{author:s}=e,n=ec();let o,r,a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1],t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.pr_xs,{paddingTop:8,gap:6}],t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a={height:14},t[2]=a):a=t[2],t[3]!==n.atoms.bg_contrast_50?(l=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.rounded_xs,n.atoms.bg_contrast_50,a]}),t[3]=n.atoms.bg_contrast_50,t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c={height:14,width:"70%"},t[5]=c):c=t[5],t[6]!==n.atoms.bg_contrast_50?(d=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.rounded_xs,n.atoms.bg_contrast_50,c]}),t[6]=n.atoms.bg_contrast_50,t[7]=d):d=t[7],t[8]!==s||t[9]!==n.atoms.bg_contrast_25||t[10]!==n.atoms.bg_contrast_50||t[11]!==n.atoms.text_contrast_medium?(u=s?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center],children:[(0,Ft.jsxs)(wo.default,{style:[kl.relative,kl.rounded_full,{width:20,height:20}],children:[(0,Ft.jsx)(mP,{type:"user",size:20,avatar:s.avatar}),(0,Ft.jsx)(lP,{})]}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.text_sm,kl.leading_tight,n.atoms.text_contrast_medium],numberOfLines:1,children:su(s.handle,"@")})]}):(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center],children:[(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,n.atoms.bg_contrast_50,{width:20,height:20}]}),(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,n.atoms.bg_contrast_25,{height:12,width:"75%"}]})]}),t[8]=s,t[9]=n.atoms.bg_contrast_25,t[10]=n.atoms.bg_contrast_50,t[11]=n.atoms.text_contrast_medium,t[12]=u):u=t[12],t[13]!==l||t[14]!==d||t[15]!==u?(m=(0,Ft.jsx)(wo.default,{style:o,children:(0,Ft.jsxs)(wo.default,{style:r,children:[l,d,u]})}),t[13]=l,t[14]=d,t[15]=u,t[16]=m):m=t[16],m}function DE(e){const t=(0,i.c)(89),{post:s,sourceContext:n,moderation:o,onInteract:r}=e,a=ec(),{_:l,i18n:c}=(0,ft.useLingui)(),d=s.embed,{state:u,onIn:m,onOut:h}=Ki();let p,f;if(t[0]!==o){f=o.ui("contentList");const e=o.ui("contentMedia");f.alerts=[...f.alerts,...e.alerts],f.blurs=[...f.blurs,...e.blurs],f.filters=[...f.filters,...e.filters],f.informs=[...f.informs,...e.informs],t[0]=o,t[1]=f}else f=t[1];p=f;const g=p;if(!Is.AppBskyEmbedVideo.isView(d))return null;const x=s?.likeCount??0,{thumbnail:_}=d;let y;t[2]!==a?(y=LE(a),t[2]=a,t[3]=y):y=t[3];const b=y;let j,v,w,S,k,C;t[4]!==l?(j=l({id:"puSNTr"}),t[4]=l,t[5]=j):j=t[5],t[6]!==s.uri||t[7]!==n?(v={screen:"VideoFeed",params:Object.assign({},n,{initialPostUri:s.uri})},t[6]=s.uri,t[7]=n,t[8]=v):v=t[8],t[9]!==r?(w=()=>{r?.()},t[9]=r,t[10]=w):w=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_col,{alignItems:void 0,justifyContent:void 0}],t[11]=S):S=t[11],t[12]!==b?(k=[kl.justify_center,kl.rounded_md,kl.overflow_hidden,{backgroundColor:b,aspectRatio:.5625}],t[12]=b,t[13]=k):k=t[13],t[14]!==_?(C={uri:_},t[14]=_,t[15]=C):C=t[15];const P=u?.8:1;let T,L,A,I,R,D,F,E,M,B,O,z,H;t[16]!==P?(T=[kl.w_full,kl.h_full,{opacity:P}],t[16]=P,t[17]=T):T=t[17],t[18]!==T||t[19]!==C?(L=(0,Ft.jsx)(SS.Image,{source:C,style:T,accessibilityIgnoresInvertColors:!0,blurRadius:100}),t[18]=T,t[19]=C,t[20]=L):L=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(lP,{}),t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],t[22]=I):I=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center,{backgroundColor:"black",opacity:.2}]}),t[23]=R):R=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.align_center,kl.gap_xs],F=(0,Ft.jsx)(TS,{size:"lg",fill:"white"}),t[24]=D,t[25]=F):(D=t[24],F=t[25]),t[26]===Symbol.for("react.memo_cache_sentinel")?(E=[kl.text_sm,{color:"white"}],t[26]=E):E=t[26],t[27]!==l?(M=l({id:"D+zLDD"}),t[27]=l,t[28]=M):M=t[28],t[29]!==M?(B=(0,Ft.jsxs)(wo.default,{style:I,children:[R,(0,Ft.jsxs)(wo.default,{style:D,children:[F,(0,Ft.jsx)(fr,{style:E,children:M})]})]}),t[29]=M,t[30]=B):B=t[30],t[31]!==L||t[32]!==B||t[33]!==k?(O=(0,Ft.jsx)(CR,{children:(0,Ft.jsxs)(wo.default,{style:k,children:[L,A,B]})}),t[31]=L,t[32]=B,t[33]=k,t[34]=O):O=t[34],t[35]!==b?(z=[kl.justify_center,kl.rounded_md,kl.overflow_hidden,{backgroundColor:b,aspectRatio:.5625}],t[35]=b,t[36]=z):z=t[36],t[37]!==_?(H={uri:_},t[37]=_,t[38]=H):H=t[38];const N=u?.8:1;let V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue;return t[39]!==N?(V=[kl.w_full,kl.h_full,{opacity:N}],t[39]=N,t[40]=V):V=t[40],t[41]!==H||t[42]!==V?(q=(0,Ft.jsx)(SS.Image,{source:H,style:V,accessibilityIgnoresInvertColors:!0}),t[41]=H,t[42]=V,t[43]=q):q=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(U=(0,Ft.jsx)(lP,{}),t[44]=U):U=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.absolute,kl.inset_0],t[45]=W):W=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.absolute,kl.inset_0,kl.p_sm,{bottom:"auto"}],t[46]=Z):Z=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(Q=[kl.relative,kl.rounded_full,{width:20,height:20}],t[47]=Q):Q=t[47],t[48]!==s.author.avatar?(K=(0,Ft.jsx)(mP,{type:"user",size:20,avatar:s.author.avatar}),t[48]=s.author.avatar,t[49]=K):K=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?($=(0,Ft.jsx)(lP,{}),t[50]=$):$=t[50],t[51]!==K?(G=(0,Ft.jsx)(wo.default,{style:Z,children:(0,Ft.jsxs)(wo.default,{style:Q,children:[K,$]})}),t[51]=K,t[52]=G):G=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(Y=[kl.absolute,kl.inset_0,kl.pt_2xl,{top:"auto"}],t[53]=Y):Y=t[53],t[54]!==b?(J=[b,"rgba(0, 0, 0, 0)"],t[54]=b,t[55]=J):J=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(X=[.02,1],ee={x:0,y:1},te={x:0,y:0},t[56]=X,t[57]=ee,t[58]=te):(X=t[56],ee=t[57],te=t[58]),t[59]===Symbol.for("react.memo_cache_sentinel")?(se=[kl.absolute,kl.inset_0,{opacity:.9}],t[59]=se):se=t[59],t[60]!==J?(ne=(0,Ft.jsx)(sr.LinearGradient,{colors:J,locations:X,start:ee,end:te,style:se}),t[60]=J,t[61]=ne):ne=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(oe=[kl.relative,kl.z_10,kl.p_sm,kl.flex_row,kl.gap_md],t[62]=oe):oe=t[62],t[63]!==c||t[64]!==x?(re=x>0&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(yT,{size:"sm",fill:"white"}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.font_bold,{color:"white"}],children:$S(c,x)})]}),t[63]=c,t[64]=x,t[65]=re):re=t[65],t[66]!==re?(ie=(0,Ft.jsx)(wo.default,{style:oe,children:re}),t[66]=re,t[67]=ie):ie=t[67],t[68]!==ne||t[69]!==ie?(ae=(0,Ft.jsxs)(wo.default,{style:Y,children:[ne,ie]}),t[68]=ne,t[69]=ie,t[70]=ae):ae=t[70],t[71]!==G||t[72]!==ae?(le=(0,Ft.jsxs)(wo.default,{style:W,children:[G,ae]}),t[71]=G,t[72]=ae,t[73]=le):le=t[73],t[74]!==z||t[75]!==q||t[76]!==le?(ce=(0,Ft.jsx)(kR,{children:(0,Ft.jsxs)(wo.default,{style:z,children:[q,U,le]})}),t[74]=z,t[75]=q,t[76]=le,t[77]=ce):ce=t[77],t[78]!==g||t[79]!==O||t[80]!==ce?(de=(0,Ft.jsxs)(wR,{modui:g,children:[O,ce]}),t[78]=g,t[79]=O,t[80]=ce,t[81]=de):de=t[81],t[82]!==m||t[83]!==h||t[84]!==j||t[85]!==v||t[86]!==de||t[87]!==w?(ue=(0,Ft.jsx)(pv,{label:j,to:v,onPress:w,onPressIn:m,onPressOut:h,style:S,children:de}),t[82]=m,t[83]=h,t[84]=j,t[85]=v,t[86]=de,t[87]=w,t[88]=ue):ue=t[88],ue}function FE(){const e=(0,i.c)(8),t=ec();let s;e[0]!==t?(s=LE(t),e[0]=t,e[1]=s):s=e[1];const n=s;let o,r,a,l;return e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1],e[2]=o):o=e[2],e[3]!==n?(r=[kl.rounded_md,kl.overflow_hidden,{backgroundColor:n,aspectRatio:.5625}],e[3]=n,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(lP,{}),e[5]=a):a=e[5],e[6]!==r?(l=(0,Ft.jsx)(wo.default,{style:o,children:(0,Ft.jsx)(wo.default,{style:r,children:a})}),e[6]=r,e[7]=l):l=e[7],l}function EE(e){const t=(0,i.c)(29),{items:s,sourceContext:n}=e;let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=["base","base",0,"base"],t[0]=o):o=t[0];const r=Kl(o);let a,l,c,d,u,m,h,p,f,g,x;if(t[1]!==r||t[2]!==s||t[3]!==n){p=Symbol.for("react.early_return_sentinel");e:{const e=s.filter(OE).map(BE);if(e.length!==s.length){p=null;break e}let o;c=wo.default,t[12]!==r?(h=[r],t[12]=r,t[13]=h):h=t[13],l=wo.default,t[14]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.flex_row,kl.gap_sm],t[14]=m):m=t[14],a=PE,d=kl.gap_sm.gap,t[15]!==n?(o=e=>(0,Ft.jsx)(TE,{width:.5,children:(0,Ft.jsx)(AE,{post:e.post,sourceContext:n,moderation:e.moderation,onInteract:ME})},e.post.uri),t[15]=n,t[16]=o):o=t[16],u=e.map(o)}t[1]=r,t[2]=s,t[3]=n,t[4]=a,t[5]=l,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p}else a=t[4],l=t[5],c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11];return p!==Symbol.for("react.early_return_sentinel")?p:(t[17]!==a||t[18]!==d||t[19]!==u?(f=(0,Ft.jsx)(a,{gap:d,children:u}),t[17]=a,t[18]=d,t[19]=u,t[20]=f):f=t[20],t[21]!==l||t[22]!==m||t[23]!==f?(g=(0,Ft.jsx)(l,{style:m,children:f}),t[21]=l,t[22]=m,t[23]=f,t[24]=g):g=t[24],t[25]!==c||t[26]!==h||t[27]!==g?(x=(0,Ft.jsx)(c,{style:h,children:g}),t[25]=c,t[26]=h,t[27]=g,t[28]=x):x=t[28],x)}function ME(){En("videoCard:click",{context:"feed"})}function BE(e){return{post:e.post,moderation:e.moderation}}function OE(e){return Is.AppBskyEmbedVideo.isView(e.post.embed)}function zE(){const e=(0,i.c)(6);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["base","base",0,"base"],e[0]=t):t=e[0];const s=Kl(t);let n,o,r;return e[1]!==s?(n=[s],e[1]=s,e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm],children:[(0,Ft.jsx)(IE,{}),(0,Ft.jsx)(IE,{})]}),e[3]=o):o=e[3],e[4]!==n?(r=(0,Ft.jsx)(wo.default,{style:n,children:o}),e[4]=n,e[5]=r):r=e[5],r}var HE=s(8756);const NE=14,VE=["trending-topics"];function qE(){const e=(0,i.c)(7),t=bh(),{data:s}=Fh();let n,o;s?.moderationPrefs,e[0]!==s?.moderationPrefs?.mutedWords?(o=s?.moderationPrefs?.mutedWords||[],e[0]=s?.moderationPrefs?.mutedWords,e[1]=o):o=e[1],n=o;const r=n;let a;if(e[2]!==t||e[3]!==r){let s;e[5]!==r?(s=e=>({topics:e.topics.filter((e=>!(0,HE.hasMutedWord)({mutedWords:r,text:e.topic+" "+e.displayName+" "+e.description}))),suggested:e.suggested.filter((e=>!(0,HE.hasMutedWord)({mutedWords:r,text:e.topic+" "+e.displayName+" "+e.description})))}),e[5]=r,e[6]=s):s=e[6],a={refetchOnWindowFocus:!0,staleTime:Ld.MINUTES.THREE,queryKey:VE,async queryFn(){const{data:e}=await t.api.app.bsky.unspecced.getTrendingTopics({limit:NE});return{topics:e.topics??[],suggested:e.suggested??[]}},select:s},e[2]=t,e[3]=r,e[4]=a}else a=e[4];return(0,vd.useQuery)(a)}const UE=zr({path:"m18.192 5.004 1.864 5.31a1 1 0 0 0 1.887-.662L20.08 4.34c-.665-1.893-3.378-1.741-3.834.207l-3.381 14.449-2.985-9.605C9.3 7.531 6.684 7.506 6.07 9.355l-1.18 3.56-.969-2.312a1 1 0 0 0-1.844.772l.97 2.315c.715 1.71 3.159 1.613 3.741-.144l1.18-3.56 2.985 9.605c.607 1.952 3.392 1.848 3.857-.138l3.381-14.449Z"}),WE=zr({path:"M15 7a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v5a1 1 0 1 1-2 0V9.414L14.414 15a2 2 0 0 1-2.828 0L9 12.414l-5.293 5.293a1 1 0 0 1-1.414-1.414L7.586 11a2 2 0 0 1 2.828 0L13 13.586 18.586 8H16a1 1 0 0 1-1-1Z"}),ZE=["targetScale","children","style","onPressIn","onPressOut"],QE=kt||am?.98:1,KE=ko.default.createAnimatedComponent(tr.default),$E={code:"function PressableScaleTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function GE(e){const t=(0,i.c)(23);let s,n,o,r,a,l;if(t[0]!==e){var c=e;({targetScale:l,children:s,style:a,onPressIn:n,onPressOut:o}=c),r=(0,ls.default)(c,ZE),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6];const d=void 0===l?QE:l,u=(0,ko.useReducedMotion)(),m=(0,ko.useSharedValue)(1),h=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:m.get()}]});return e.__closure={scale:m},e.__workletHash=0xe4aa5c8749f,e.__initData=$E,e}());let p,f;t[7]!==n||t[8]!==m||t[9]!==d?(p=e=>{n&&n(e),(0,ko.cancelAnimation)(m),m.set((()=>(0,ko.withTiming)(d,{duration:100})))},t[7]=n,t[8]=m,t[9]=d,t[10]=p):p=t[10],t[11]!==o||t[12]!==m?(f=e=>{o&&o(e),(0,ko.cancelAnimation)(m),m.set(YE)},t[11]=o,t[12]=m,t[13]=f):f=t[13];const g=!u&&h;let x,_;return t[14]!==a||t[15]!==g?(x=[g,a],t[14]=a,t[15]=g,t[16]=x):x=t[16],t[17]!==s||t[18]!==r||t[19]!==p||t[20]!==f||t[21]!==x?(_=(0,Ft.jsx)(KE,Object.assign({accessibilityRole:"button",onPressIn:p,onPressOut:f,style:x},r,{children:s})),t[17]=s,t[18]=r,t[19]=p,t[20]=f,t[21]=x,t[22]=_):_=t[22],_}function YE(){return(0,ko.withTiming)(1,{duration:100})}const JE=["topic","children"];function XE(e){const t=(0,i.c)(22),{topic:s,size:n,style:o}=e,r=ec(),a=sM(s),l="small"===n,c="starter-pack"===a.type&&!l;let d,u,m,h,p,f,g;return t[0]!==l?(d=l?[{paddingVertical:5,paddingHorizontal:10}]:[kl.py_sm,kl.px_md],t[0]=l,t[1]=d):d=t[1],t[2]!==c?(u=c&&{gap:6},t[2]=c,t[3]=u):u=t[3],t[4]!==o||t[5]!==r.atoms.bg||t[6]!==r.atoms.border_contrast_medium||t[7]!==d||t[8]!==u?(m=[kl.flex_row,kl.align_center,kl.rounded_full,kl.border,r.atoms.border_contrast_medium,r.atoms.bg,d,u,o],t[4]=o,t[5]=r.atoms.bg,t[6]=r.atoms.border_contrast_medium,t[7]=d,t[8]=u,t[9]=m):m=t[9],t[10]!==c||t[11]!==a.type?(h=c&&"starter-pack"===a.type&&(0,Ft.jsx)(jk,{gradient:"sky",width:20,style:{marginLeft:-3,marginVertical:-1}}),t[10]=c,t[11]=a.type,t[12]=h):h=t[12],t[13]!==l?(p=[kl.font_bold,kl.leading_tight,l?[kl.text_sm]:[kl.text_md,{paddingBottom:1}]],t[13]=l,t[14]=p):p=t[14],t[15]!==p||t[16]!==a.displayName?(f=(0,Ft.jsx)(fr,{style:p,numberOfLines:1,children:a.displayName}),t[15]=p,t[16]=a.displayName,t[17]=f):f=t[17],t[18]!==m||t[19]!==h||t[20]!==f?(g=(0,Ft.jsxs)(wo.default,{style:m,children:[h,f]}),t[18]=m,t[19]=h,t[20]=f,t[21]=g):g=t[21],g}function eM(e){const t=(0,i.c)(7),{size:s,index:n}=e,o=void 0===s?"large":s,r=void 0===n?0:n,a=ec(),l="small"===o;let c,d;return t[0]!==r||t[1]!==l?(c=l?{width:r%2===0?75:90,height:27}:{width:r%2===0?90:110,height:36},t[0]=r,t[1]=l,t[2]=c):c=t[2],t[3]!==a.atoms.bg_contrast_25||t[4]!==a.atoms.border_contrast_medium||t[5]!==c?(d=(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,kl.border,a.atoms.border_contrast_medium,a.atoms.bg_contrast_25,c]}),t[3]=a.atoms.bg_contrast_25,t[4]=a.atoms.border_contrast_medium,t[5]=c,t[6]=d):d=t[6],d}function tM(e){const t=(0,i.c)(10);let s,n,o;if(t[0]!==e){var r=e;({topic:n,children:s}=r),o=(0,ls.default)(r,JE),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];const a=sM(n),l=a.label,c=a.url;let d,u;return t[4]===Symbol.for("react.memo_cache_sentinel")?(d=jo(GE),t[4]=d):d=t[4],t[5]!==s||t[6]!==o||t[7]!==a.label||t[8]!==a.url?(u=(0,Ft.jsx)(pv,Object.assign({label:l,to:c,PressableComponent:d},o,{children:s})),t[5]=s,t[6]=o,t[7]=a.label,t[8]=a.url,t[9]=u):u=t[9],u}function sM(e){const{_:t}=(0,ft.useLingui)();return mt.useMemo((()=>{const{topic:s,link:n}=e;return n.startsWith("/search")?{type:"topic",label:t({id:"U7jGCR",values:{displayName:s}}),displayName:s,uri:void 0,url:n}:n.startsWith("/hashtag")?{type:"tag",label:t({id:"zlmzDf",values:{displayName:s}}),displayName:s,uri:void 0,url:n}:n.startsWith("/starter-pack")?{type:"starter-pack",label:t({id:"rf+TQ9",values:{displayName:s}}),displayName:s,uri:void 0,url:n}:{type:"unknown",label:t({id:"CURAna",values:{displayName:s}}),displayName:s,uri:void 0,url:n}}),[t,e])}function nM(){const e=(0,i.c)(3),{enabled:t}=Zb(),{trendingDisabled:s}=fd();let n;return e[0]!==t||e[1]!==s?(n=t&&!s?(0,Ft.jsx)(oM,{}):null,e[0]=t,e[1]=s,e[2]=n):n=e[2],n}function oM(){const e=(0,i.c)(13),t=ec(),{_:s}=(0,ft.useLingui)();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[0,"base",0,"base"],e[0]=n):n=e[0];const o=Kl(n),r=Ar(),{setTrendingDisabled:a}=gd(),{data:l,error:c,isLoading:d}=qE(),u=!d&&!c&&!l?.topics?.length;let m;e[1]!==a?(m=()=>{En("trendingTopics:hide",{context:"interstitial"}),a(!0)},e[1]=a,e[2]=m):m=e[2];const h=m;let p;return e[3]!==s||e[4]!==c||e[5]!==o||e[6]!==d||e[7]!==u||e[8]!==h||e[9]!==t||e[10]!==l||e[11]!==r?(p=c||u?null:(0,Ft.jsxs)(wo.default,{style:[t.atoms.border_contrast_low,kl.border_t],children:[(0,Ft.jsx)(VF,{children:(0,Ft.jsx)(Sw.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",children:(0,Ft.jsxs)(wo.default,{style:[o,kl.flex_row,kl.align_center,kl.gap_lg],children:[(0,Ft.jsx)(wo.default,{style:{paddingLeft:4,paddingRight:2},children:(0,Ft.jsx)(UE,{size:"sm"})}),d?(0,Ft.jsxs)(wo.default,{style:[kl.py_lg,kl.flex_row,kl.gap_lg,kl.align_center],children:[(0,Ft.jsx)(vT,{width:80,height:void 0,style:{alignSelf:"stretch"}}),(0,Ft.jsx)(vT,{width:50,height:void 0,style:{alignSelf:"stretch"}}),(0,Ft.jsx)(vT,{width:120,height:void 0,style:{alignSelf:"stretch"}}),(0,Ft.jsx)(vT,{width:30,height:void 0,style:{alignSelf:"stretch"}}),(0,Ft.jsx)(vT,{width:180,height:void 0,style:{alignSelf:"stretch"}}),(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.text_sm,kl.font_bold],children:" "})]}):l?.topics?(0,Ft.jsxs)(Ft.Fragment,{children:[l.topics.map((e=>(0,Ft.jsx)(tM,{topic:e,onPress:rM,children:(0,Ft.jsx)(wo.default,{style:[kl.py_lg],children:(0,Ft.jsx)(fr,{style:[t.atoms.text,kl.text_sm,kl.font_bold,{opacity:.7}],children:e.topic})})},e.link))),(0,Ft.jsx)(Sr,{label:s({id:"rht3N9"}),size:"tiny",variant:"ghost",color:"secondary",shape:"round",onPress:()=>r.open(),children:(0,Ft.jsx)(Pr,{icon:Hr})})]}):null]})})}),(0,Ft.jsx)(bx,{control:r,title:s({id:"DRuhGd"}),description:s({id:"wD+g5e"}),confirmButtonCta:s({id:"vLyv1R"}),onConfirm:h})]}),e[3]=s,e[4]=c,e[5]=o,e[6]=d,e[7]=u,e[8]=h,e[9]=t,e[10]=l,e[11]=r,e[12]=p):p=e[12],p}function rM(){En("trendingTopic:click",{context:"interstitial"})}const iM=100,aM=`feedgen|${Ri}`,lM={feedCacheKey:"discover"};function cM(){const e=(0,i.c)(52),t=ec(),{_:s}=(0,ft.useLingui)();let n;e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[0,"base"],e[0]=n):n=e[0];const o=Kl(n),{data:r,isLoading:a,error:l}=qx(aM,lM),c=(0,wd.useQueryClient)();let d,u;e[1]!==c?(d=()=>()=>{const e=c.getQueryCache().find({queryKey:Nx(aM,lM)});e&&e.getObserversCount()<=1&&e.fetch()},u=[c],e[1]=c,e[2]=d,e[3]=u):(d=e[2],u=e[3]),(0,mt.useEffect)(d,u);const{setTrendingVideoDisabled:m}=gd(),h=Ar();let p;e[4]!==m?(p=()=>{m(!0),En("trendingVideos:hide",{context:"interstitial:discover"})},e[4]=m,e[5]=p):p=e[5];const f=p;if(l)return null;let g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D;return e[6]!==t.atoms.bg_contrast_25||e[7]!==t.atoms.border_contrast_low?(g=[kl.pt_lg,kl.pb_lg,kl.border_t,t.atoms.border_contrast_low,t.atoms.bg_contrast_25],e[6]=t.atoms.bg_contrast_25,e[7]=t.atoms.border_contrast_low,e[8]=g):g=e[8],e[9]!==o?(x=[o,kl.pb_sm,kl.flex_row,kl.align_center,kl.justify_between],e[9]=o,e[10]=x):x=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_xs],y=(0,Ft.jsx)(UE,{}),e[11]=_,e[12]=y):(_=e[11],y=e[12]),e[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsxs)(wo.default,{style:_,children:[y,(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"L/4AeV"})})]}),e[13]=b):b=e[13],e[14]!==s?(j=s({id:"KVlcll"}),e[14]=s,e[15]=j):j=e[15],e[16]!==h?(v=()=>h.open(),e[16]=h,e[17]=v):v=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(Pr,{icon:Hr}),e[18]=w):w=e[18],e[19]!==v||e[20]!==j?(S=(0,Ft.jsx)(Sr,{label:j,size:"tiny",variant:"ghost",color:"secondary",shape:"round",onPress:v,children:w}),e[19]=v,e[20]=j,e[21]=S):S=e[21],e[22]!==S||e[23]!==x?(k=(0,Ft.jsxs)(wo.default,{style:x,children:[b,S]}),e[22]=S,e[23]=x,e[24]=k):k=e[24],e[25]!==o.paddingLeft||e[26]!==o.paddingRight?(C=[kl.flex_row,kl.gap_sm,{paddingLeft:o.paddingLeft,paddingRight:o.paddingRight}],e[25]=o.paddingLeft,e[26]=o.paddingRight,e[27]=C):C=e[27],e[28]!==r||e[29]!==l||e[30]!==a?(P=a?Array(10).fill(0).map(dM):l||!r?(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"SOQezB"})}):(0,Ft.jsx)(uM,{data:r}),e[28]=r,e[29]=l,e[30]=a,e[31]=P):P=e[31],e[32]!==C||e[33]!==P?(T=(0,Ft.jsx)(VF,{children:(0,Ft.jsx)(Sw.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToInterval:iM+kl.gap_sm.gap,children:(0,Ft.jsx)(wo.default,{style:C,children:P})})}),e[32]=C,e[33]=P,e[34]=T):T=e[34],e[35]!==s?(L=s({id:"o5WCAf"}),e[35]=s,e[36]=L):L=e[36],e[37]!==s?(A=s({id:"wD+g5e"}),e[37]=s,e[38]=A):A=e[38],e[39]!==s?(I=s({id:"vLyv1R"}),e[39]=s,e[40]=I):I=e[40],e[41]!==f||e[42]!==L||e[43]!==A||e[44]!==I||e[45]!==h?(R=(0,Ft.jsx)(bx,{control:h,title:L,description:A,confirmButtonCta:I,onConfirm:f}),e[41]=f,e[42]=L,e[43]=A,e[44]=I,e[45]=h,e[46]=R):R=e[46],e[47]!==k||e[48]!==T||e[49]!==R||e[50]!==g?(D=(0,Ft.jsxs)(wo.default,{style:g,children:[k,T,R]}),e[47]=k,e[48]=T,e[49]=R,e[50]=g,e[51]=D):D=e[51],D}function dM(e,t){return(0,Ft.jsx)(wo.default,{style:[{width:iM}],children:(0,Ft.jsx)(FE,{})},t)}function uM({data:e}){const t=ec(),{_:s}=(0,ft.useLingui)(),n=mt.useMemo((()=>e.pages.flatMap((e=>e.slices)).map((e=>e.items[0])).filter(Boolean).filter((e=>Is.AppBskyEmbedVideo.isView(e.post.embed))).slice(0,8)),[e]),o=mt.useMemo((()=>{const e=new Is.AtUri(Ri);return dS(e.host,e.rkey,void 0,"discover")}),[]);return(0,Ft.jsxs)(Ft.Fragment,{children:[n.map((e=>(0,Ft.jsx)(wo.default,{style:[{width:iM}],children:(0,Ft.jsx)(DE,{post:e.post,moderation:e.moderation,sourceContext:{type:"feedgen",uri:Ri,sourceInterstitial:"discover"},onInteract:()=>{En("videoCard:click",{context:"interstitial:discover"})}})},e.post.uri))),(0,Ft.jsx)(wo.default,{style:[{width:2*iM}],children:(0,Ft.jsx)(pv,{to:o,label:s({id:"4m3nxQ"}),style:[kl.justify_center,kl.align_center,kl.flex_1,kl.rounded_md,t.atoms.bg],children:({pressed:e})=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md,{opacity:e?.6:1}],children:[(0,Ft.jsx)(fr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"4m3nxQ"})}),(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.justify_center,kl.rounded_full,{width:34,height:34,backgroundColor:t.palette.primary_500}],children:(0,Ft.jsx)(Pr,{icon:QT})})]})})})]})}function mM(){const e=(0,i.c)(17),t=mx("default");let s,n,o,r,a,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={flexDirection:"row",alignItems:"center",paddingVertical:12,paddingHorizontal:12,borderTopWidth:1},e[0]=s):s=e[0],e[1]!==t.border||e[2]!==t.viewLight?(n=[s,t.border,t.viewLight],e[1]=t.border,e[2]=t.viewLight,e[3]=n):n=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(o={width:68,paddingLeft:12},e[4]=o):o=e[4],e[5]!==t.textLight?(r=(0,Ft.jsx)(wo.default,{style:o,children:(0,Ft.jsx)(kx,{size:36,style:t.textLight,strokeWidth:1.5})}),e[5]=t.textLight,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(a={flex:1},e[7]=a):a=e[7],e[8]!==t.link?(l=(0,Ft.jsx)(ft.Trans,{id:"Cq0UNG",components:{0:(0,Ft.jsx)(NP,{type:"md-medium",href:"/profile/bsky.app/feed/whats-hot",text:"Discover",style:t.link})}}),e[8]=t.link,e[9]=l):l=e[9],e[10]!==t.text||e[11]!==l?(c=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsx)(Tx,{type:"md",style:t.text,children:l})}),e[10]=t.text,e[11]=l,e[12]=c):c=e[12],e[13]!==n||e[14]!==r||e[15]!==c?(d=(0,Ft.jsxs)(wo.default,{style:n,children:[r,c]}),e[13]=n,e[14]=r,e[15]=c,e[16]=d):d=e[16],d}function hM(e){const t=(0,i.c)(45),{feedUri:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),r=dj(),{data:a}=Fh(),{mutateAsync:l,isPending:c}=Nh(),{mutateAsync:d,isPending:u}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{forYouFeedConfig:n,discoverFeedConfig:o}=e;n&&await s.removeSavedFeeds([n.id]),o?await s.updateSavedFeeds([Object.assign({},o,{pinned:!0})]):await s.addSavedFeeds([{type:"feed",value:mi("whats-hot"),pinned:!0}]),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}();let m;t[0]!==s||t[1]!==a?.savedFeeds?(m=a?.savedFeeds?.find((e=>e.value===s&&e.pinned)),t[0]=s,t[1]=a?.savedFeeds,t[2]=m):m=t[2];const h=m;let p;t[3]!==a?.savedFeeds?(p=a?.savedFeeds?.find(pM),t[3]=a?.savedFeeds,t[4]=p):p=t[4];const f=p,g=Boolean(h),x=Boolean(f?.pinned);let _;t[5]!==o||t[6]!==h||t[7]!==x||t[8]!==l||t[9]!==r?(_=async()=>{try{h&&(await l(h),Zu(o({id:"lLrUFY"}))),x&&r(`feedgen|${mi("whats-hot")}`)}catch(b){const t=b;Zu(o({id:"BUQ9V9"}),"exclamation-circle"),ys.error("Failed to update feeds",{message:t})}},t[5]=o,t[6]=h,t[7]=x,t[8]=l,t[9]=r,t[10]=_):_=t[10];const y=_;let b;t[11]!==o||t[12]!==f||t[13]!==h||t[14]!==d||t[15]!==r?(b=async()=>{try{await d({forYouFeedConfig:h,discoverFeedConfig:f}),r(`feedgen|${mi("whats-hot")}`),Zu(o({id:"/X+NF+"}))}catch(w){const t=w;Zu(o({id:"BUQ9V9"}),"exclamation-circle"),ys.error("Failed to update feeds",{message:t})}},t[11]=o,t[12]=f,t[13]=h,t[14]=d,t[15]=r,t[16]=b):b=t[16];const j=b,v=u||c;let w,S,k,C,P,T,L,A,I;return t[17]!==n.atoms.border_contrast_low?(w=[kl.py_3xl,kl.px_2xl,kl.gap_xl,n.atoms.border_contrast_low,kl.border_t],t[17]=n.atoms.border_contrast_low,t[18]=w):w=t[18],t[19]!==n.atoms.text?(S=(0,Ft.jsx)(fr,{style:[kl.text_5xl,kl.font_bold,n.atoms.text,kl.text_center],children:":("}),t[19]=n.atoms.text,t[20]=S):S=t[20],t[21]!==n.atoms.text?(k=[kl.text_md,kl.leading_snug,n.atoms.text,kl.text_center],t[21]=n.atoms.text,t[22]=k):k=t[22],t[23]!==o?(C=o({id:"bgd/oh"}),t[23]=o,t[24]=C):C=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.text_md],t[25]=P):P=t[25],t[26]!==C?(T=(0,Ft.jsx)(ft.Trans,{id:"DCBANM",components:{0:(0,Ft.jsx)(fv,{label:C,to:"/profile/bsky.app/feed/whats-hot",style:P})}}),t[26]=C,t[27]=T):T=t[27],t[28]!==T||t[29]!==k?(L=(0,Ft.jsx)(fr,{style:k,children:T}),t[28]=T,t[29]=k,t[30]=L):L=t[30],t[31]!==o||t[32]!==x||t[33]!==g||t[34]!==v||t[35]!==c||t[36]!==u||t[37]!==y||t[38]!==j?(A=g?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_center,kl.gap_sm],children:[(0,Ft.jsxs)(Sr,{variant:"outline",color:"primary",size:"small",label:o({id:"W44VX5"}),disabled:v,onPress:y,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"W44VX5"})}),c&&(0,Ft.jsx)(Pr,{icon:wv})]}),!x&&(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"small",label:o({id:"1rnHcc"}),disabled:v,onPress:j,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"1rnHcc"})}),u&&(0,Ft.jsx)(Pr,{icon:wv})]})]}):void 0,t[31]=o,t[32]=x,t[33]=g,t[34]=v,t[35]=c,t[36]=u,t[37]=y,t[38]=j,t[39]=A):A=t[39],t[40]!==L||t[41]!==A||t[42]!==w||t[43]!==S?(I=(0,Ft.jsxs)(wo.default,{style:w,children:[S,L,A]}),t[40]=L,t[41]=A,t[42]=w,t[43]=S,t[44]=I):I=t[44],I}function pM(e){return e.value===mi("whats-hot")}function fM(e){const t=(0,i.c)(15),{type:s,uri:n,href:o,lineHeight:r,numberOfLines:a,style:l}=e,c=void 0===s?"md":s;let d;t[0]!==n?(d={uri:n},t[0]=n,t[1]=d):d=t[1];const{data:u,isError:m}=TI(d);let h;if(u?.displayName||m){let e;t[2]!==u?.displayName||t[3]!==n?(e=u?.displayName||n.split("/").pop()||"",t[2]=u?.displayName,t[3]=n,t[4]=e):e=t[4];const s=e;let i,d;t[5]!==s?(i=Qf(s),t[5]=s,t[6]=i):i=t[6],t[7]!==o||t[8]!==r||t[9]!==a||t[10]!==l||t[11]!==i||t[12]!==c?(d=(0,Ft.jsx)(VP,{type:c,style:l,lineHeight:r,numberOfLines:a,href:o,text:i}),t[7]=o,t[8]=r,t[9]=a,t[10]=l,t[11]=i,t[12]=c,t[13]=d):d=t[13],h=d}else{let e;t[14]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(vT,{width:80,height:8,style:gM.loadingPlaceholder}),t[14]=e):e=t[14],h=e}return h}const gM=Gn.default.create({loadingPlaceholder:{position:"relative",top:1,left:2}});function xM(e){const t=(0,i.c)(8),{feedContext:s}=e,{currentAccount:n}=xh(),{gtMobile:o}=ql(),r=On();let a;t[0]!==n?.did||t[1]!==r?(a=Kt||oi[n?.did||""]||r("debug_show_feedcontext"),t[0]=n?.did,t[1]=r,t[2]=a):a=t[2];const l=a,c=ec();let d;return t[3]!==s||t[4]!==o||t[5]!==l||t[6]!==c?(d=l&&s&&(0,Ft.jsx)(tr.default,{accessible:!1,hitSlop:10,style:[kl.absolute,kl.bottom_0,{zIndex:1e3},o?kl.right_0:kl.left_0],onPress:e=>{e.stopPropagation(),rv.setStringAsync(s),Zu(cs.i18n._({id:"FxVG/l"}),"clipboard-check")},children:(0,Ft.jsx)(fr,{style:{color:c.palette.contrast_400,fontSize:7},children:s})}),t[3]=s,t[4]=o,t[5]=l,t[6]=c,t[7]=d):d=t[7],d}function _M(e){const t=(0,i.c)(21),{post:s,record:n,reason:o,feedContext:r,reqId:a,moderation:l,parentAuthor:c,showReplyTo:d,isThreadChild:u,isThreadLastChild:m,isThreadParent:h,hideTopBorder:p,isParentBlocked:f,isParentNotFound:g,rootPost:x,onShowLess:_}=e,y=eR(s);let b,j;t[0]!==n.facets||t[1]!==n.text?(j=new Is.RichText({text:n.text,facets:n.facets}),t[0]=n.facets,t[1]=n.text,t[2]=j):j=t[2],b=j;const v=b;if(y===YI)return null;if(v&&l){let e;return t[3]!==r||t[4]!==p||t[5]!==f||t[6]!==g||t[7]!==u||t[8]!==m||t[9]!==h||t[10]!==l||t[11]!==_||t[12]!==c||t[13]!==y||t[14]!==o||t[15]!==n||t[16]!==a||t[17]!==v||t[18]!==x||t[19]!==d?(e=(0,Ft.jsx)(yM,{post:y,record:n,reason:o,feedContext:r,reqId:a,richText:v,parentAuthor:c,showReplyTo:d,moderation:l,isThreadChild:u,isThreadLastChild:m,isThreadParent:h,hideTopBorder:p,isParentBlocked:f,isParentNotFound:g,rootPost:x,onShowLess:_},y.uri),t[3]=r,t[4]=p,t[5]=f,t[6]=g,t[7]=u,t[8]=m,t[9]=h,t[10]=l,t[11]=_,t[12]=c,t[13]=y,t[14]=o,t[15]=n,t[16]=a,t[17]=v,t[18]=x,t[19]=d,t[20]=e):e=t[20],e}return null}let yM=e=>{const t=(0,i.c)(140),{post:s,record:n,reason:o,feedContext:r,reqId:a,richText:l,moderation:c,parentAuthor:d,showReplyTo:u,isThreadChild:m,isThreadLastChild:h,isThreadParent:p,hideTopBorder:f,isParentBlocked:g,isParentNotFound:x,rootPost:_,onShowLess:y}=e,b=(0,wd.useQueryClient)(),{openComposer:j}=tw(),v=mx("default"),{_:w}=(0,ft.useLingui)(),[S,k]=(0,mt.useState)(!1);let C,P;if(t[0]!==s.author||t[1]!==s.uri){const e=new Is.AtUri(s.uri);P=cS(s.author,"post",e.rkey),t[0]=s.author,t[1]=s.uri,t[2]=P}else P=t[2];C=P;const T=C,{sendInteraction:L,feedDescriptor:A}=FM(),I=(0,mt.useContext)(uj);let R;t[3]!==r||t[4]!==c||t[5]!==j||t[6]!==s.author||t[7]!==s.cid||t[8]!==s.embed||t[9]!==s.uri||t[10]!==n.text||t[11]!==a||t[12]!==L?(R=()=>{L({item:s.uri,event:"app.bsky.feed.defs#interactionReply",feedContext:r,reqId:a}),j({replyTo:{uri:s.uri,cid:s.cid,text:n.text||"",author:s.author,embed:s.embed,moderation:c}})},t[3]=r,t[4]=c,t[5]=j,t[6]=s.author,t[7]=s.cid,t[8]=s.embed,t[9]=s.uri,t[10]=n.text,t[11]=a,t[12]=L,t[13]=R):R=t[13];const D=R;let F;t[14]!==r||t[15]!==s.uri||t[16]!==a||t[17]!==L?(F=()=>{L({item:s.uri,event:"app.bsky.feed.defs#clickthroughAuthor",feedContext:r,reqId:a})},t[14]=r,t[15]=s.uri,t[16]=a,t[17]=L,t[18]=F):F=t[18];const E=F;let M;t[19]!==r||t[20]!==s.uri||t[21]!==a||t[22]!==L?(M=()=>{L({item:s.uri,event:"app.bsky.feed.defs#clickthroughReposter",feedContext:r,reqId:a})},t[19]=r,t[20]=s.uri,t[21]=a,t[22]=L,t[23]=M):M=t[23];const B=M;let O;t[24]!==r||t[25]!==s.uri||t[26]!==a||t[27]!==L?(O=()=>{L({item:s.uri,event:"app.bsky.feed.defs#clickthroughEmbed",feedContext:r,reqId:a})},t[24]=r,t[25]=s.uri,t[26]=a,t[27]=L,t[28]=O):O=t[28];const z=O;let H;t[29]!==r||t[30]!==A||t[31]!==s||t[32]!==b||t[33]!==o||t[34]!==a||t[35]!==L||t[36]!==I?(H=()=>{L({item:s.uri,event:"app.bsky.feed.defs#clickthroughItem",feedContext:r,reqId:a}),By(b,s.author),I(s.uri,{feed:A,post:{post:s,reason:Is.AppBskyFeedDefs.isReasonRepost(o)?o:void 0,feedContext:r,reqId:a}})},t[29]=r,t[30]=A,t[31]=s,t[32]=b,t[33]=o,t[34]=a,t[35]=L,t[36]=I,t[37]=H):H=t[37];const N=H,V=h||!m&&!p?8:void 0,q=f||m?0:Gn.default.hairlineWidth;let U;t[38]!==v.colors.border||t[39]!==V||t[40]!==q?(U=[vM.outer,{borderColor:v.colors.border,paddingBottom:V,borderTopWidth:q}],t[38]=v.colors.border,t[39]=V,t[40]=q,t[41]=U):U=t[41];const W=U,{currentAccount:Z}=xh();let Q;t[42]!==Z?.did||t[43]!==o?(Q=Is.AppBskyFeedDefs.isReasonRepost(o)&&o.by.did===Z?.did,t[42]=Z?.did,t[43]=o,t[44]=Q):Q=t[44];const K=Q,$=If(_.threadgate?.record,Is.AppBskyFeedThreadgate.isRecord)?_.threadgate.record:void 0,{isActive:G}=nS(s.author);let Y;if(Is.AppBskyFeedDefs.isReasonRepost(o)&&o.uri&&o.cid){let e;t[45]!==o.cid||t[46]!==o.uri?(e={uri:o.uri,cid:o.cid},t[45]=o.cid,t[46]=o.uri,t[47]=e):e=t[47],Y=e}else Y=void 0;const J=Y,X=`feedItem-by-${s.author.handle}`;let ee,te,se,ne,oe,re,ie,ae,le,ce;var de;let ue,me;t[48]!==r?(ee={feedContext:r},t[48]=r,t[49]=ee):ee=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(te=()=>{k(!0)},se=()=>{k(!1)},t[50]=te,t[51]=se):(te=t[50],se=t[51]),t[52]!==S?(ne=(0,Ft.jsx)(cD,{hover:S}),t[52]=S,t[53]=ne):ne=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?(oe={flexDirection:"row",gap:10,paddingLeft:8},t[54]=oe):oe=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(re={width:42},t[55]=re):re=t[55],t[56]!==m||t[57]!==v.colors.replyLine?(ie=m&&(0,Ft.jsx)(wo.default,{style:[vM.replyLine,{flexGrow:1,backgroundColor:v.colors.replyLine,marginBottom:4}]}),t[56]=m,t[57]=v.colors.replyLine,t[58]=ie):ie=t[58],t[59]!==ie?(ae=(0,Ft.jsx)(wo.default,{style:re,children:ie}),t[59]=ie,t[60]=ae):ae=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(le={paddingTop:12,flexShrink:1},t[61]=le):le=t[61],t[62]!==w||t[63]!==K||t[64]!==c||t[65]!==B||t[66]!==v.colors.textLight||t[67]!==v.textLight||t[68]!==o?(ce=(de=o)&&"object"===typeof de&&"$type"in de&&"reasonFeedSource"===de.$type?(0,Ft.jsx)(HP,{href:o.href,children:(0,Ft.jsx)(Tx,{type:"sm-bold",style:v.textLight,lineHeight:1.2,numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"2iYrsp",components:{0:(0,Ft.jsx)(fM,{type:"sm-bold",uri:o.uri,href:o.href,lineHeight:1.2,numberOfLines:1,style:v.textLight})}})})}):Is.AppBskyFeedDefs.isReasonRepost(o)?(0,Ft.jsxs)(HP,{style:vM.includeReason,href:cS(o.by),title:w(K?{id:"2rP2Aj"}:{id:"saiP+K",values:{0:Qf(o.by.displayName||o.by.handle)}}),onBeforePress:B,children:[(0,Ft.jsx)(jT,{style:{color:v.colors.textLight,marginRight:3},width:13,height:13}),(0,Ft.jsx)(Tx,{type:"sm-bold",style:v.textLight,lineHeight:1.2,numberOfLines:1,children:K?(0,Ft.jsx)(ft.Trans,{id:"2rP2Aj"}):(0,Ft.jsx)(ft.Trans,{id:"43kxKd",components:{0:(0,Ft.jsx)($k,{inline:!0,did:o.by.did}),1:(0,Ft.jsx)(VP,{type:"sm-bold",style:v.textLight,lineHeight:1.2,numberOfLines:1,text:(0,Ft.jsx)(Tx,{emoji:!0,type:"sm-bold",style:v.textLight,lineHeight:1.2,children:Qf(o.by.displayName||su(o.by.handle),c.ui("displayName"))}),href:cS(o.by),onBeforePress:B})}})})]}):Is.AppBskyFeedDefs.isReasonPin(o)?(0,Ft.jsxs)(wo.default,{style:vM.includeReason,children:[(0,Ft.jsx)(nR,{style:{color:v.colors.textLight,marginRight:3},width:13,height:13}),(0,Ft.jsx)(Tx,{type:"sm-bold",style:v.textLight,lineHeight:1.2,numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"kNiQp6"})})]}):null,t[62]=w,t[63]=K,t[64]=c,t[65]=B,t[66]=v.colors.textLight,t[67]=v.textLight,t[68]=o,t[69]=ce):ce=t[69],t[70]!==ce?(ue=(0,Ft.jsx)(wo.default,{style:le,children:ce}),t[70]=ce,t[71]=ue):ue=t[71],t[72]!==ae||t[73]!==ue?(me=(0,Ft.jsxs)(wo.default,{style:oe,children:[ae,ue]}),t[72]=ae,t[73]=ue,t[74]=me):me=t[74];const he=s.author;let pe;t[75]!==c?(pe=c.ui("avatar"),t[75]=c,t[76]=pe):pe=t[76];const fe=s.author.associated?.labeler?"labeler":"user";let ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe;return t[77]!==G||t[78]!==E||t[79]!==s.author||t[80]!==pe||t[81]!==fe?(ge=(0,Ft.jsx)(pP,{size:42,profile:he,moderation:pe,type:fe,onBeforePress:E,live:G}),t[77]=G,t[78]=E,t[79]=s.author,t[80]=pe,t[81]=fe,t[82]=ge):ge=t[82],t[83]!==p||t[84]!==G||t[85]!==v.colors.replyLine?(xe=p&&(0,Ft.jsx)(wo.default,{style:[vM.replyLine,{flexGrow:1,backgroundColor:v.colors.replyLine,marginTop:G?8:4}]}),t[83]=p,t[84]=G,t[85]=v.colors.replyLine,t[86]=xe):xe=t[86],t[87]!==ge||t[88]!==xe?(_e=(0,Ft.jsxs)(wo.default,{style:vM.layoutAvi,children:[ge,xe]}),t[87]=ge,t[88]=xe,t[89]=_e):_e=t[89],t[90]!==T||t[91]!==c||t[92]!==E||t[93]!==s.author||t[94]!==s.indexedAt?(ye=(0,Ft.jsx)(hD,{author:s.author,moderation:c,timestamp:s.indexedAt,postHref:T,onOpenAuthor:E}),t[90]=T,t[91]=c,t[92]=E,t[93]=s.author,t[94]=s.indexedAt,t[95]=ye):ye=t[95],t[96]!==g||t[97]!==x||t[98]!==d||t[99]!==u?(be=u&&(d||g||x)&&(0,Ft.jsx)(jM,{blocked:g,notFound:x,profile:d}),t[96]=g,t[97]=x,t[98]=d,t[99]=u,t[100]=be):be=t[100],t[101]!==s?(je=(0,Ft.jsx)(kA,{post:s}),t[101]=s,t[102]=je):je=t[102],t[103]!==c||t[104]!==z||t[105]!==s||t[106]!==l||t[107]!==$?(ve=(0,Ft.jsx)(bM,{moderation:c,richText:l,postEmbed:s.embed,postAuthor:s.author,onOpenEmbed:z,post:s,threadgateRecord:$}),t[103]=c,t[104]=z,t[105]=s,t[106]=l,t[107]=$,t[108]=ve):ve=t[108],t[109]!==r||t[110]!==D||t[111]!==y||t[112]!==s||t[113]!==n||t[114]!==a||t[115]!==l||t[116]!==$||t[117]!==J?(we=(0,Ft.jsx)(rO,{post:s,record:n,richText:l,onPressReply:D,logContext:"FeedItem",feedContext:r,reqId:a,threadgateRecord:$,onShowLess:y,viaRepost:J}),t[109]=r,t[110]=D,t[111]=y,t[112]=s,t[113]=n,t[114]=a,t[115]=l,t[116]=$,t[117]=J,t[118]=we):we=t[118],t[119]!==ye||t[120]!==be||t[121]!==je||t[122]!==ve||t[123]!==we?(Se=(0,Ft.jsxs)(wo.default,{style:vM.layoutContent,children:[ye,be,je,ve,we]}),t[119]=ye,t[120]=be,t[121]=je,t[122]=ve,t[123]=we,t[124]=Se):Se=t[124],t[125]!==r?(ke=(0,Ft.jsx)(xM,{feedContext:r}),t[125]=r,t[126]=ke):ke=t[126],t[127]!==_e||t[128]!==Se||t[129]!==ke?(Ce=(0,Ft.jsxs)(wo.default,{style:vM.layout,children:[_e,Se,ke]}),t[127]=_e,t[128]=Se,t[129]=ke,t[130]=Ce):Ce=t[130],t[131]!==T||t[132]!==N||t[133]!==W||t[134]!==X||t[135]!==ee||t[136]!==ne||t[137]!==me||t[138]!==Ce?(Pe=(0,Ft.jsxs)(HP,{testID:X,style:W,href:T,noFeedback:!0,accessible:!1,onBeforePress:N,dataSet:ee,onPointerEnter:te,onPointerLeave:se,children:[ne,me,Ce]}),t[131]=T,t[132]=N,t[133]=W,t[134]=X,t[135]=ee,t[136]=ne,t[137]=me,t[138]=Ce,t[139]=Pe):Pe=t[139],Pe};yM=(0,mt.memo)(yM);let bM=e=>{const t=(0,i.c)(38),{post:s,moderation:n,richText:o,postEmbed:r,postAuthor:a,onOpenEmbed:l,threadgateRecord:c}=e,d=mx("default"),{_:u}=(0,ft.useLingui)(),{currentAccount:m}=xh();let h;t[0]!==o.text?(h=()=>Dw(o.text)>=Ti,t[0]=o.text,t[1]=h):h=t[1];const[p,f]=(0,mt.useState)(h);let g;t[2]!==c?(g={threadgateRecord:c},t[2]=c,t[3]=g):g=t[3];const x=Nf(g);let _,y;m?.did,t[4]!==s.uri||t[5]!==x?(y=x.has(s.uri),t[4]=s.uri,t[5]=x,t[6]=y):y=t[6];const b=y,j=If(s.record,Is.AppBskyFeedPost.isRecord)?s.record?.reply?.root?.uri||s.uri:void 0,v=j&&new Is.AtUri(j).host===m?.did;let w;t[7]!==m?.did||t[8]!==v||t[9]!==b?(w=v&&b?[{type:"reply-hidden",source:{type:"user",did:m?.did},priority:6}]:[],t[7]=m?.did,t[8]=v,t[9]=b,t[10]=w):w=t[10],_=w;const S=_;let k;t[11]===Symbol.for("react.memo_cache_sentinel")?(k=()=>{f(!1)},t[11]=k):k=t[11];const C=k;let P,T,L,A,I,R,D,F;return t[12]!==n?(P=n.ui("contentList"),t[12]=n,t[13]=P):P=t[13],t[14]!==n?(T=n.ui("contentList"),t[14]=n,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.py_2xs],t[16]=L):L=t[16],t[17]!==S||t[18]!==T?(A=(0,Ft.jsx)(uD,{modui:T,style:L,additionalCauses:S}),t[17]=S,t[18]=T,t[19]=A):A=t[19],t[20]!==p||t[21]!==a||t[22]!==o?(I=o.text?(0,Ft.jsx)(wo.default,{style:vM.postTextContainer,children:(0,Ft.jsx)(DC,{enableTags:!0,testID:"postText",value:o,numberOfLines:p?Ti:void 0,style:[kl.flex_1,kl.text_md],authorHandle:a.handle,shouldProxyLinks:!0})}):void 0,t[20]=p,t[21]=a,t[22]=o,t[23]=I):I=t[23],t[24]!==u||t[25]!==p||t[26]!==d?(R=p?(0,Ft.jsx)(NP,{text:u({id:"YHc0+l"}),style:d.link,onPress:C,href:"#"}):void 0,t[24]=u,t[25]=p,t[26]=d,t[27]=R):R=t[27],t[28]!==n||t[29]!==l||t[30]!==r?(D=r?(0,Ft.jsx)(wo.default,{style:[kl.pb_xs],children:(0,Ft.jsx)(sF,{embed:r,moderation:n,onOpen:l,viewContext:zR.Feed})}):null,t[28]=n,t[29]=l,t[30]=r,t[31]=D):D=t[31],t[32]!==A||t[33]!==I||t[34]!==R||t[35]!==D||t[36]!==P?(F=(0,Ft.jsxs)(DR,{testID:"contentHider-post",modui:P,ignoreMute:!0,childContainerStyle:vM.contentHiderChild,children:[A,I,R,D]}),t[32]=A,t[33]=I,t[34]=R,t[35]=D,t[36]=P,t[37]=F):F=t[37],F};function jM(e){const t=(0,i.c)(33),{profile:s,blocked:n,notFound:o}=e,r=mx("default"),{currentAccount:a}=xh();let l,c,d;if(n){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(ft.Trans,{id:"0OOQD1"}),t[0]=e):e=t[0],l=e}else if(o){let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(ft.Trans,{id:"b0bF9+"}),t[1]=e):e=t[1],l=e}else if(null!=s){if(s.did===a?.did){let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(ft.Trans,{id:"d0/J77"}),t[2]=e):e=t[2],l=e}else{let e;t[3]!==s.did?(e=(0,Ft.jsx)($k,{inline:!0,did:s.did}),t[3]=s.did,t[4]=e):e=t[4];const n=r.textLight;let o,i,a,c,d;t[5]!==s?(o=cS(s),t[5]=s,t[6]=o):o=t[6],t[7]!==s.displayName||t[8]!==s.handle?(i=s.displayName?Qf(s.displayName):su(s.handle),t[7]=s.displayName,t[8]=s.handle,t[9]=i):i=t[9],t[10]!==r.textLight||t[11]!==i?(a=(0,Ft.jsx)(Tx,{emoji:!0,type:"md",style:r.textLight,lineHeight:1.2,children:i}),t[10]=r.textLight,t[11]=i,t[12]=a):a=t[12],t[13]!==r.textLight||t[14]!==o||t[15]!==a?(c=(0,Ft.jsx)(VP,{type:"md",style:n,lineHeight:1.2,numberOfLines:1,href:o,text:a}),t[13]=r.textLight,t[14]=o,t[15]=a,t[16]=c):c=t[16],t[17]!==e||t[18]!==c?(d=(0,Ft.jsx)(ft.Trans,{id:"ZJAl5o",components:{0:e,1:c}}),t[17]=e,t[18]=c,t[19]=d):d=t[19],l=d}}if(!l)return null;t[20]===Symbol.for("react.memo_cache_sentinel")?(c=[oc.flexRow,oc.mb2,oc.alignCenter],t[20]=c):c=t[20],t[21]!==r.colors.textLight?(d={color:r.colors.textLight},t[21]=r.colors.textLight,t[22]=d):d=t[22];const u=d;let m,h,p,f;return t[23]!==u?(m=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"reply",size:9,style:[u,oc.mr5]}),t[23]=u,t[24]=m):m=t[24],t[25]!==r.textLight?(h=[r.textLight,oc.mr2],t[25]=r.textLight,t[26]=h):h=t[26],t[27]!==l||t[28]!==h?(p=(0,Ft.jsx)(Tx,{type:"md",style:h,lineHeight:1.2,numberOfLines:1,children:l}),t[27]=l,t[28]=h,t[29]=p):p=t[29],t[30]!==m||t[31]!==p?(f=(0,Ft.jsxs)(wo.default,{style:c,children:[m,p]}),t[30]=m,t[31]=p,t[32]=f):f=t[32],f}bM=(0,mt.memo)(bM);const vM=Gn.default.create({outer:{paddingLeft:10,paddingRight:15,cursor:"pointer"},replyLine:{width:2,marginLeft:"auto",marginRight:"auto"},includeReason:{flexDirection:"row",alignItems:"center",marginTop:2,marginBottom:2,marginLeft:-16},layout:{flexDirection:"row",marginTop:1},layoutAvi:{paddingLeft:8,paddingRight:10,position:"relative",zIndex:999},layoutContent:{position:"relative",flex:1,zIndex:0},alert:{marginTop:6,marginBottom:6},postTextContainer:{flexDirection:"row",alignItems:"center",flexWrap:"wrap",paddingBottom:2,overflow:"hidden"},contentHiderChild:{marginTop:6},embed:{marginBottom:6},translateLink:{marginBottom:6}});function wM(){const e=(0,i.c)(20),t=ec();let s,n,o,r,a,l,c,d;return e[0]!==t.atoms.bg_contrast_25||e[1]!==t.atoms.border_contrast_low?(s=[t.atoms.border_contrast_low,kl.border_t,t.atoms.bg_contrast_25,kl.p_sm],e[0]=t.atoms.bg_contrast_25,e[1]=t.atoms.border_contrast_low,e[2]=s):s=e[2],e[3]!==t.atoms.bg||e[4]!==t.atoms.border_contrast_low?(n=[t.atoms.bg,t.atoms.border_contrast_low,kl.border,kl.rounded_sm,kl.p_md,kl.flex_row,kl.gap_sm],e[3]=t.atoms.bg,e[4]=t.atoms.border_contrast_low,e[5]=n):n=e[5],e[6]!==t.atoms.text_contrast_low?(o=(0,Ft.jsx)(rT,{style:[t.atoms.text_contrast_low],size:"sm"}),e[6]=t.atoms.text_contrast_low,e[7]=o):o=e[7],e[8]!==t.atoms.text_contrast_medium?(r=[kl.flex_1,kl.text_sm,t.atoms.text_contrast_medium,kl.leading_snug],e[8]=t.atoms.text_contrast_medium,e[9]=r):r=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"XmAXuG"}),e[10]=a):a=e[10],e[11]!==r?(l=(0,Ft.jsx)(fr,{style:r,children:a}),e[11]=r,e[12]=l):l=e[12],e[13]!==n||e[14]!==o||e[15]!==l?(c=(0,Ft.jsxs)(wo.default,{style:n,children:[o,l]}),e[13]=n,e[14]=o,e[15]=l,e[16]=c):c=e[16],e[17]!==s||e[18]!==c?(d=(0,Ft.jsx)(wo.default,{style:s,children:c}),e[17]=s,e[18]=c,e[19]=d):d=e[19],d}function SM(e){const t=(0,i.c)(32),{uri:s}=e,{state:n,onIn:o,onOut:r}=Ki(),a=mx("default");let l,c;if(t[0]!==s){const e=new Is.AtUri(s);c=cS({did:e.hostname,handle:""},"post",e.rkey),t[0]=s,t[1]=c}else c=t[1];l=c;const d=l,{_:u}=(0,ft.useLingui)();let m,h,p,f,g,x,_,y,b,j,v,w,S;return t[2]===Symbol.for("react.memo_cache_sentinel")?(m=[kM.viewFullThread],t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(h={top:8,bottom:-5},t[3]=h):h=t[3],t[4]!==n?(p=(0,Ft.jsx)(cD,{hover:n,style:h}),t[4]=n,t[5]=p):p=t[5],t[6]!==a.colors.replyLine?(f=(0,Ft.jsx)(Ir.Line,{x1:"2",y1:"0",x2:"2",y2:"15",stroke:a.colors.replyLine,strokeWidth:"2"}),t[6]=a.colors.replyLine,t[7]=f):f=t[7],t[8]!==a.colors.replyLineDot?(g=(0,Ft.jsx)(Ir.Circle,{cx:"2",cy:"22",r:"1.5",fill:a.colors.replyLineDot}),x=(0,Ft.jsx)(Ir.Circle,{cx:"2",cy:"28",r:"1.5",fill:a.colors.replyLineDot}),_=(0,Ft.jsx)(Ir.Circle,{cx:"2",cy:"34",r:"1.5",fill:a.colors.replyLineDot}),t[8]=a.colors.replyLineDot,t[9]=g,t[10]=x,t[11]=_):(g=t[9],x=t[10],_=t[11]),t[12]!==f||t[13]!==g||t[14]!==x||t[15]!==_?(y=(0,Ft.jsx)(wo.default,{style:kM.viewFullThreadDots,children:(0,Ft.jsxs)(Ir.default,{width:"4",height:"40",children:[f,g,x,_]})}),t[12]=f,t[13]=g,t[14]=x,t[15]=_,t[16]=y):y=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b={paddingTop:18,paddingBottom:4},t[17]=b):b=t[17],t[18]!==a.link?(j=[a.link,b],t[18]=a.link,t[19]=j):j=t[19],t[20]!==u?(v=u({id:"F3IYDh"}),t[20]=u,t[21]=v):v=t[21],t[22]!==j||t[23]!==v?(w=(0,Ft.jsx)(Tx,{type:"md",style:j,children:v}),t[22]=j,t[23]=v,t[24]=w):w=t[24],t[25]!==d||t[26]!==o||t[27]!==r||t[28]!==y||t[29]!==w||t[30]!==p?(S=(0,Ft.jsxs)(HP,{style:m,href:d,asAnchor:!0,noFeedback:!0,onPointerEnter:o,onPointerLeave:r,children:[p,y,w]}),t[25]=d,t[26]=o,t[27]=r,t[28]=y,t[29]=w,t[30]=p,t[31]=S):S=t[31],S}const kM=Gn.default.create({viewFullThread:{flexDirection:"row",gap:10,paddingLeft:18},viewFullThreadDots:{width:42,alignItems:"center"}});const CM=Ld.SECONDS.THIRTY;let PM=({feed:e,feedParams:t,ignoreFilterFor:s,style:n,enabled:o,pollInterval:r,disablePoll:i,scrollElRef:a,onScrolledDownChange:l,onHasNew:c,renderEmptyState:d,renderEndOfFeed:u,testID:m,headerOffset:h=0,progressViewOffset:p,desktopFixedHeightOffset:f,ListHeaderComponent:g,extraData:x,savedFeedConfig:_,initialNumToRender:y,isVideoFeed:b=!1})=>{const{_:j}=(0,ft.useLingui)(),v=(0,wd.useQueryClient)(),{currentAccount:w,hasSession:S}=xh(),k=kF(),C=FM(),[P,T]=(0,mt.useState)(!1),L=(0,mt.useRef)(Date.now()),[A,I,R]=e.split("|"),{gtMobile:D}=ql(),{rightNavVisible:F}=Ul(),E=kt,[M,B]=(0,mt.useState)((()=>new Set)),O=(0,mt.useCallback)((e=>{if(e.item){const t=e.item;B((e=>new Set([...e,t]))),vF.default.configureNext(vF.default.Presets.easeInEaseOut)}}),[]),z=t?.feedCacheKey,H=(0,mt.useMemo)((()=>({enabled:o,ignoreFilterFor:s})),[o,s]),{data:N,isFetching:V,isFetched:q,isError:U,error:W,refetch:Z,hasNextPage:Q,isFetchingNextPage:K,fetchNextPage:$}=qx(e,t,H),G=N?.pages[0].fetchedAt;G&&(L.current=G);const Y=(0,mt.useMemo)((()=>!V&&!N?.pages?.some((e=>e.slices.length))),[V,N]),J=Ed((async()=>{if(N?.pages[0]&&!V&&c&&o&&!i){if(I===Ii)return c(!0);try{await async function(e){if(!e)return!1;if("active"!==gt.default.currentState)return;ys.debug("usePostFeedQuery: pollLatest");const t=await e.api.peekLatest();if(t&&e.tuner.tune([t],{dryRun:!0})[0])return!0;return!1}(N.pages[0])&&(Y?Z():c(!0))}catch(t){ys.error("Poll latest failed",{feed:e,message:String(t)})}}})),X=w?.did||"",ee=(0,mt.useCallback)((()=>{1!==N?.pages.length||"following"!==e&&e!==`author|${X}|posts_and_author_threads`||v.invalidateQueries({queryKey:Nx(e)})}),[v,e,N,X]);(0,mt.useEffect)((()=>function(e){return It.on("post-created",e),()=>It.off("post-created",e)}(ee)),[ee]),(0,mt.useEffect)((()=>{if(o&&!i){const e=Date.now()-L.current;(Y||e>CM)&&J()}}),[o,Y,i,J]),(0,mt.useEffect)((()=>{let e,t;const s=gt.default.addEventListener("change",(e=>{"active"===e&&J()}));if(e=()=>s.remove(),r){const e=setInterval((()=>{J()}),r);t=()=>clearInterval(e)}return()=>{e?.(),t?.()}}),[r,J]);const te=nb("follow-10"),se=nb("like-10-and-follow-7"),ne=(te||se)&&!F,{trendingDisabled:oe,trendingVideoDisabled:re}=fd(),ie=(0,mt.useMemo)((()=>{const e=e=>M.has(e.slice.items[e.indexInSlice]?.uri)?{type:"showLessFollowup",key:e.key}:e;let t;"following"===A?t="following":I===Ii?t="discover":"author"!==A||"posts_and_author_threads"!==R&&"posts_with_replies"!==R||(t="profile");let s=[];if(Oi.includes(I)&&s.push({type:"feedShutdownMsg",key:"feedShutdownMsg"}),q){if(U&&Y)s.push({type:"error",key:"error"});else if(Y)s.push({type:"empty",key:"empty"});else if(N){let n=-1;if(b){const e=[];for(const s of N.pages)for(const t of s.slices){const s=t.items.find((e=>e.uri===t.feedPostUri));s&&Is.AppBskyEmbedVideo.isView(s.post.embed)&&e.push({item:s,feedContext:t.feedContext,reqId:t.reqId})}const t=[];for(let s=0;s<e.length;s++){const n=e[s],o=n.item,r=D?3:2,i={item:o,feedContext:n.feedContext,reqId:n.reqId};s%r===0?t.push([i]):t[t.length-1].push(i)}for(const o of t)n++,s.push({type:"videoGridRow",key:o.map((e=>e.item._reactKey)).join("-"),items:o.map((e=>e.item)),sourceFeedUri:I,feedContexts:o.map((e=>e.feedContext)),reqIds:o.map((e=>e.reqId))})}else for(const o of N?.pages)for(const r of o.slices)if(n++,S&&("discover"===t?0===n?(ne&&s.push({type:"interstitialProgressGuide",key:"interstitial-"+n+"-"+G}),F||oe||s.push({type:"interstitialTrending",key:"interstitial2-"+n+"-"+G})):15===n?E&&!re&&s.push({type:"interstitialTrendingVideos",key:"interstitial-"+n+"-"+G}):30===n&&s.push({type:"interstitialFollows",key:"interstitial-"+n+"-"+G}):"profile"===t&&5===n&&s.push({type:"interstitialFollows",key:"interstitial-"+n+"-"+G})),r.isFallbackMarker)s.push({type:"fallbackMarker",key:"sliceFallbackMarker-"+n+"-"+G});else if(r.isIncompleteThread&&r.items.length>=3){const t=r.items.length-2,n=r.items.length-1;s.push(e({type:"sliceItem",key:r.items[0]._reactKey,slice:r,indexInSlice:0,showReplyTo:!1})),s.push({type:"sliceViewFullThread",key:r._reactKey+"-viewFullThread",uri:r.items[0].uri}),s.push(e({type:"sliceItem",key:r.items[t]._reactKey,slice:r,indexInSlice:t,showReplyTo:r.items[t].parentAuthor?.did!==r.items[t].post.author.did})),s.push(e({type:"sliceItem",key:r.items[n]._reactKey,slice:r,indexInSlice:n,showReplyTo:!1}))}else for(let t=0;t<r.items.length;t++)s.push(e({type:"sliceItem",key:r.items[t]._reactKey,slice:r,indexInSlice:t,showReplyTo:0===t}))}U&&!Y&&s.push({type:"loadMoreError",key:"loadMoreError"})}else b?s.push({type:"videoGridRowPlaceholder",key:"videoGridRowPlaceholder"}):s.push({type:"loading",key:"loading"});return s}),[q,U,Y,G,N,A,I,R,S,ne,oe,re,F,D,b,E,M]),ae=(0,mt.useCallback)((async()=>{En("feed:refresh",{feedType:A,feedUrl:e,reason:"pull-to-refresh"}),T(!0);try{await Z(),c?.(!1)}catch(t){ys.error("Failed to refresh posts feed",{message:t})}T(!1)}),[Z,T,c,e,A]),le=(0,mt.useCallback)((async()=>{if(!V&&Q&&!U){En("feed:endReached",{feedType:A,feedUrl:e,itemCount:ie.length});try{await $()}catch(t){ys.error("Failed to load more posts",{message:t})}}}),[V,Q,U,$,e,A,ie.length]),ce=(0,mt.useCallback)((()=>{Z(),c?.(!1)}),[Z,c]),de=(0,mt.useCallback)((()=>{$()}),[$]),ue=(0,mt.useCallback)((({item:t,index:s})=>{if("empty"===t.type)return d();if("error"===t.type)return(0,Ft.jsx)(Ox,{feedDesc:e,error:W??void 0,onPressTryAgain:ce,savedFeedConfig:_});if("loadMoreError"===t.type)return(0,Ft.jsx)(OF,{label:j({id:"P7AR2V"}),onPress:de});if("loading"===t.type)return(0,Ft.jsx)(ST,{});if("feedShutdownMsg"===t.type)return(0,Ft.jsx)(hM,{feedUri:I});if("interstitialFollows"===t.type)return(0,Ft.jsx)(jE,{feed:e});if("interstitialProgressGuide"===t.type)return(0,Ft.jsx)(kE,{});if("interstitialTrending"===t.type)return(0,Ft.jsx)(nM,{});if("interstitialTrendingVideos"===t.type)return(0,Ft.jsx)(cM,{});if("fallbackMarker"===t.type)return(0,Ft.jsx)(mM,{});if("sliceItem"===t.type){const e=t.slice,n=t.indexInSlice,o=e.items[n];return(0,Ft.jsx)(_M,{post:o.post,record:o.record,reason:0===n?e.reason:void 0,feedContext:e.feedContext,reqId:e.reqId,moderation:o.moderation,parentAuthor:o.parentAuthor,showReplyTo:t.showReplyTo,isThreadParent:LM(e.items,n),isThreadChild:AM(e.items,n),isThreadLastChild:AM(e.items,n)&&e.items.length===n+1,isParentBlocked:o.isParentBlocked,isParentNotFound:o.isParentNotFound,hideTopBorder:0===s&&0===n,rootPost:e.items[0].post,onShowLess:O})}if("sliceViewFullThread"===t.type)return(0,Ft.jsx)(SM,{uri:t.uri});if("videoGridRowPlaceholder"===t.type)return(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(zE,{}),(0,Ft.jsx)(zE,{}),(0,Ft.jsx)(zE,{})]});if("videoGridRow"===t.type){let e;return e="author"===A?{type:"author",did:I,filter:R}:{type:"feedgen",uri:t.sourceFeedUri,sourceInterstitial:z??"none"},(0,Ft.jsx)(EE,{items:t.items,sourceContext:e})}return"showLessFollowup"===t.type?(0,Ft.jsx)(wM,{}):null}),[d,e,W,ce,_,j,de,A,I,R,z,O]),me=!Q&&!Y&&!V&&!U&&!!u,he=(0,mt.useCallback)((()=>{const e=Math.max(h,32)*(Pt?1:2);return K?(0,Ft.jsxs)(wo.default,{style:[TM.feedFooter],children:[(0,Ft.jsx)(Fx.default,{}),(0,Ft.jsx)(wo.default,{style:{height:e}})]}):me?(0,Ft.jsx)(wo.default,{style:{minHeight:e},children:u()}):(0,Ft.jsx)(wo.default,{style:{height:e}})}),[K,me,u,h]),pe=Qb(),fe=(0,mt.useRef)(new Set),ge=(0,mt.useCallback)((t=>{if(C.onItemSeen(t),"sliceItem"===t.type){const s=t.slice.items[t.indexInSlice].post.author;s.status&&rS(s.did,s.status,pe)&&oS(s.status.expiresAt)&&(fe.current.has(s.did)||(fe.current.add(s.did),ys.metric("live:view:post",{subject:s.did,feed:e})))}}),[C,e,pe]);return(0,Ft.jsx)(wo.default,{testID:m,style:n,children:(0,Ft.jsx)(MF,{testID:m?`${m}-flatlist`:void 0,ref:a,data:ie,keyExtractor:e=>e.key,renderItem:ue,ListFooterComponent:he,ListHeaderComponent:g,refreshing:P,onRefresh:ae,headerOffset:h,progressViewOffset:p,contentContainerStyle:{minHeight:1.5*tc.default.get("window").height},onScrolledDownChange:l,onEndReached:le,onEndReachedThreshold:2,removeClippedSubviews:!0,extraData:x,desktopFixedHeight:f||!0,initialNumToRender:y??k,windowSize:9,maxToRenderPerBatch:wt?5:1,updateCellsBatchingPeriod:40,onItemSeen:ge})})};PM=(0,mt.memo)(PM);const TM=Gn.default.create({feedFooter:{paddingTop:20}});function LM(e,t){return 1!==e.length&&t<e.length-1}function AM(e,t){return 1!==e.length&&t>0}const IM=(0,mt.createContext)({enabled:!1,onItemSeen:e=>{},sendInteraction:e=>{},feedDescriptor:void 0});function RM(e,t){const s=bh(),n=function(e){return!!e&&gi.includes(e)}(e)&&t,o=(0,mt.useRef)(new Set),r=(0,mt.useRef)(new WeakSet),i=(0,mt.useRef)(null),a=(0,mt.useMemo)((()=>Ep()((()=>function(e){if(null===e)return;e.clickthroughCount>0&&(En("discover:clickthrough",{count:e.clickthroughCount}),e.clickthroughCount=0);e.engagedCount>0&&(En("discover:engaged",{count:e.engagedCount}),e.engagedCount=0);e.seenCount>0&&(En("discover:seen",{count:e.seenCount}),e.seenCount=0)}(i.current)),45e3,{leading:!0,trailing:!0})),[]),l=(0,mt.useCallback)((()=>{const t=Array.from(o.current).map(MM);o.current.clear();let n="did:web:discover.bsky.app";fi.includes(e??"")&&(n="did:web:algo.pop2.bsky.app"),s.app.bsky.feed.sendInteractions({interactions:t},{encoding:"application/json",headers:{"atproto-proxy":`${n}#bsky_fg`}}).catch((e=>{ys.warn("Failed to send feed interactions",{error:e})})),null===i.current&&(i.current={clickthroughCount:0,engagedCount:0,seenCount:0}),function(e,t){for(let s of t)switch(s.event){case"app.bsky.feed.defs#requestLess":En("discover:showLess",{feedContext:s.feedContext??""});break;case"app.bsky.feed.defs#requestMore":En("discover:showMore",{feedContext:s.feedContext??""});break;case"app.bsky.feed.defs#clickthroughAuthor":case"app.bsky.feed.defs#clickthroughEmbed":case"app.bsky.feed.defs#clickthroughItem":case"app.bsky.feed.defs#clickthroughReposter":e.clickthroughCount++;break;case"app.bsky.feed.defs#interactionLike":case"app.bsky.feed.defs#interactionQuote":case"app.bsky.feed.defs#interactionReply":case"app.bsky.feed.defs#interactionRepost":case"app.bsky.feed.defs#interactionShare":e.engagedCount++;break;case"app.bsky.feed.defs#interactionSeen":e.seenCount++}}(i.current,t),a()}),[s,a,e]),c=(0,mt.useMemo)((()=>Ep()(l,1e4,{leading:!1,trailing:!0})),[l]);(0,mt.useEffect)((()=>{if(!n)return;const e=gt.default.addEventListener("change",(e=>{"background"===e&&c.flush()}));return()=>e.remove()}),[n,c]);const d=(0,mt.useCallback)((e=>{if(!n)return;const t="sliceItem"===(s=e).type?s.slice.items.map((e=>({item:e,feedContext:s.slice.feedContext,reqId:s.slice.reqId}))):"videoGridRow"===s.type?s.items.map(((e,t)=>({item:e,feedContext:s.feedContexts[t],reqId:s.reqIds[t]}))):[];var s;for(const{item:n,feedContext:i,reqId:a}of t)r.current.has(n)||(r.current.add(n),o.current.add(EM({item:n.uri,event:"app.bsky.feed.defs#interactionSeen",feedContext:i,reqId:a})),c())}),[n,c]),u=(0,mt.useCallback)((e=>{n&&(r.current.has(e)||(r.current.add(e),o.current.add(EM(e)),c()))}),[n,c]);return(0,mt.useMemo)((()=>({enabled:n,onItemSeen:d,sendInteraction:u,feedDescriptor:e})),[n,d,u,e])}const DM=IM.Provider;function FM(){return(0,mt.useContext)(IM)}function EM(e){return`${e.item}|${e.event}|${e.feedContext||""}|${e.reqId||""}`}function MM(e){const[t,s,n,o]=e.split("|");return{item:t,event:s,feedContext:n,reqId:o}}const BM=e=>["post",e];function OM(e,t,s){const n=(0,i.c)(22),o=(0,wd.useQueryClient)(),r=e.uri,a=e.cid,l=e.viewer?.like,c=function(e,t){const s=(0,i.c)(9),{currentAccount:n}=xh(),o=(0,wd.useQueryClient)(),r=t.author,a=bh();let l;s[0]!==a||s[1]!==n||s[2]!==e||s[3]!==t.likeCount||s[4]!==t.replyCount||s[5]!==t.repostCount||s[6]!==r||s[7]!==o?(l={mutationFn:s=>{const{uri:i,cid:l,via:c}=s;let d;return n&&(d=jb(o,n.did)),En("post:like",{logContext:e,doesPosterFollowLiker:r.viewer?Boolean(r.viewer.followedBy):void 0,doesLikerFollowPoster:r.viewer?Boolean(r.viewer.following):void 0,likerClout:Fn(d?.followersCount),postClout:null!=t.likeCount&&null!=t.repostCount&&null!=t.replyCount?Fn(t.likeCount+t.repostCount+t.replyCount):void 0}),a.like(i,l,c)}},s[0]=a,s[1]=n,s[2]=e,s[3]=t.likeCount,s[4]=t.replyCount,s[5]=t.repostCount,s[6]=r,s[7]=o,s[8]=l):l=s[8];return(0,Sd.useMutation)(l)}(s,e),d=function(e){const t=(0,i.c)(3),s=bh();let n;t[0]!==s||t[1]!==e?(n={mutationFn:t=>{const{likeUri:n}=t;return En("post:unlike",{logContext:e}),s.deleteLike(n)}},t[0]=s,t[1]=e,t[2]=n):n=t[2];return(0,Sd.useMutation)(n)}(s);let u,m;n[0]!==c||n[1]!==a||n[2]!==r||n[3]!==d||n[4]!==t?(u=async(e,s)=>{if(s){const{uri:e}=await c.mutateAsync({uri:r,cid:a,via:t});return n=[r],dx.likes=dx.likes.concat(n).slice(-ix),e}var n;e&&(await d.mutateAsync({postUri:r,likeUri:e}),function(e){dx.likes=dx.likes.filter((t=>!e.includes(t)))}([r]))},n[0]=c,n[1]=a,n[2]=r,n[3]=d,n[4]=t,n[5]=u):u=n[5],n[6]!==l||n[7]!==r||n[8]!==o||n[9]!==u?(m={initialState:l,runMutation:u,onSuccess(e){tR(o,r,{likeUri:e})}},n[6]=l,n[7]=r,n[8]=o,n[9]=u,n[10]=m):m=n[10];const h=R_(m);let p;n[11]!==r||n[12]!==o||n[13]!==h?(p=()=>(tR(o,r,{likeUri:"pending"}),h(!0)),n[11]=r,n[12]=o,n[13]=h,n[14]=p):p=n[14];const f=p;let g;n[15]!==r||n[16]!==o||n[17]!==h?(g=()=>(tR(o,r,{likeUri:void 0}),h(!1)),n[15]=r,n[16]=o,n[17]=h,n[18]=g):g=n[18];const x=g;let _;return n[19]!==f||n[20]!==x?(_=[f,x],n[19]=f,n[20]=x,n[21]=_):_=n[21],_}function zM(e,t,s){const n=(0,i.c)(22),o=(0,wd.useQueryClient)(),r=e.uri,a=e.cid,l=e.viewer?.repost,c=function(e){const t=(0,i.c)(3),s=bh();let n;t[0]!==s||t[1]!==e?(n={mutationFn:t=>{const{uri:n,cid:o,via:r}=t;return En("post:repost",{logContext:e}),s.repost(n,o,r)}},t[0]=s,t[1]=e,t[2]=n):n=t[2];return(0,Sd.useMutation)(n)}(s),d=function(e){const t=(0,i.c)(3),s=bh();let n;t[0]!==s||t[1]!==e?(n={mutationFn:t=>{const{repostUri:n}=t;return En("post:unrepost",{logContext:e}),s.deleteRepost(n)}},t[0]=s,t[1]=e,t[2]=n):n=t[2];return(0,Sd.useMutation)(n)}(s);let u,m;n[0]!==a||n[1]!==r||n[2]!==c||n[3]!==d||n[4]!==t?(u=async(e,s)=>{if(s){const{uri:e}=await c.mutateAsync({uri:r,cid:a,via:t});return e}e&&await d.mutateAsync({postUri:r,repostUri:e})},n[0]=a,n[1]=r,n[2]=c,n[3]=d,n[4]=t,n[5]=u):u=n[5],n[6]!==l||n[7]!==r||n[8]!==o||n[9]!==u?(m={initialState:l,runMutation:u,onSuccess(e){tR(o,r,{repostUri:e})}},n[6]=l,n[7]=r,n[8]=o,n[9]=u,n[10]=m):m=n[10];const h=R_(m);let p;n[11]!==r||n[12]!==o||n[13]!==h?(p=()=>(tR(o,r,{repostUri:"pending"}),h(!0)),n[11]=r,n[12]=o,n[13]=h,n[14]=p):p=n[14];const f=p;let g;n[15]!==r||n[16]!==o||n[17]!==h?(g=()=>(tR(o,r,{repostUri:void 0}),h(!1)),n[15]=r,n[16]=o,n[17]=h,n[18]=g):g=n[18];const x=g;let _;return n[19]!==f||n[20]!==x?(_=[f,x],n[19]=f,n[20]=x,n[21]=_):_=n[21],_}function HM(e,t){const s=(0,i.c)(21),n=function(){const e=(0,i.c)(2),t=bh();let s;e[0]!==t?(s={mutationFn:e=>{const{uri:s}=e;return En("post:mute",{}),t.api.app.bsky.graph.muteThread({root:s})}},e[0]=t,e[1]=s):s=e[1];return(0,Sd.useMutation)(s)}(),o=function(){const e=(0,i.c)(2),t=bh();let s;e[0]!==t?(s={mutationFn:e=>{const{uri:s}=e;return En("post:unmute",{}),t.api.app.bsky.graph.unmuteThread({root:s})}},e[0]=t,e[1]=s):s=e[1];return(0,Sd.useMutation)(s)}(),r=function(e,t){const s=(0,i.c)(4),n=void 0!==t&&t,o=mt.useContext(Gh);let r;return s[0]!==n||s[1]!==o||s[2]!==e?(r=o.get(e)??n,s[0]=n,s[1]=o,s[2]=e,s[3]=r):r=s[3],r}(t,e.viewer?.threadMuted),a=mt.useContext(Yh);let l,c;s[0]!==t||s[1]!==n||s[2]!==o?(l=async(e,s)=>s?(await n.mutateAsync({uri:t}),!0):(await o.mutateAsync({uri:t}),!1),s[0]=t,s[1]=n,s[2]=o,s[3]=l):l=s[3],s[4]!==r||s[5]!==t||s[6]!==a||s[7]!==l?(c={initialState:r,runMutation:l,onSuccess(e){a(t,e)}},s[4]=r,s[5]=t,s[6]=a,s[7]=l,s[8]=c):c=s[8];const d=R_(c);let u;s[9]!==d||s[10]!==t||s[11]!==a?(u=()=>(a(t,!0),d(!0)),s[9]=d,s[10]=t,s[11]=a,s[12]=u):u=s[12];const m=u;let h;s[13]!==d||s[14]!==t||s[15]!==a?(h=()=>(a(t,!1),d(!1)),s[13]=d,s[14]=t,s[15]=a,s[16]=h):h=s[16];const p=h;let f;return s[17]!==r||s[18]!==m||s[19]!==p?(f=[r,m,p],s[17]=r,s[18]=m,s[19]=p,s[20]=f):f=s[20],f}const NM=["ref","onPress","onLongPress","children","big","active","activeColor"],VM=["style"],qM=(0,mt.createContext)({});function UM(e){const t=(0,i.c)(32);let s,n,o,r,a,l,c,d;if(t[0]!==e){var u=e;({ref:d,onPress:l,onLongPress:a,children:r,big:o,active:s,activeColor:n}=u),c=(0,ls.default)(u,NM),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8];const m=ec(),h=lS();let p;const f=n&&s?n:m.palette.contrast_500;let g,x;t[9]!==f?(g={color:f},t[9]=f,t[10]=g):g=t[10],t[11]!==s||t[12]!==o||t[13]!==g?(x={big:o,active:s,color:g},t[11]=s,t[12]=o,t[13]=g,t[14]=x):x=t[14],p=x;const _=p;let y,b;t[15]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_center,kl.gap_xs,kl.bg_transparent,{padding:5}],t[15]=b):b=t[15],y=b;const j=y;let v;e:{if(!l){v=void 0;break e}let e;t[16]!==l||t[17]!==h?(e=e=>{h("Light"),l(e)},t[16]=l,t[17]=h,t[18]=e):e=t[18],v=e}const w=v;let S;e:{if(!a){S=void 0;break e}let e;t[19]!==a||t[20]!==h?(e=e=>{h("Heavy"),a(e)},t[19]=a,t[20]=h,t[21]=e):e=t[21],S=e}const k=S;let C,P;return t[22]!==r||t[23]!==_?(C="function"===typeof r?e=>(0,Ft.jsx)(qM.Provider,{value:_,children:r(e)}):(0,Ft.jsx)(qM.Provider,{value:_,children:r}),t[22]=r,t[23]=_,t[24]=C):C=t[24],t[25]!==k||t[26]!==w||t[27]!==c||t[28]!==d||t[29]!==m.atoms.bg_contrast_25||t[30]!==C?(P=(0,Ft.jsx)(Sr,Object.assign({ref:d,onPress:w,onLongPress:k,style:j,hoverStyle:m.atoms.bg_contrast_25,shape:"round",variant:"ghost",color:"secondary",hitSlop:ki},c,{children:C})),t[25]=k,t[26]=w,t[27]=c,t[28]=d,t[29]=m.atoms.bg_contrast_25,t[30]=C,t[31]=P):P=t[31],P}function WM(e){const t=(0,i.c)(6),{icon:s}=e,{big:n,color:o}=(0,mt.useContext)(qM);let r;t[0]!==o?(r=[o,kl.pointer_events_none],t[0]=o,t[1]=r):r=t[1];const a=n?22:18;let l;return t[2]!==s||t[3]!==r||t[4]!==a?(l=(0,Ft.jsx)(s,{style:r,width:a}),t[2]=s,t[3]=r,t[4]=a,t[5]=l):l=t[5],l}function ZM(e){const t=(0,i.c)(13);let s,n;if(t[0]!==e){var o=e;({style:n}=o),s=(0,ls.default)(o,VM),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const{big:r,active:a,color:l}=(0,mt.useContext)(qM);let c;t[3]!==r?(c=r?kl.text_md:{fontSize:15},t[3]=r,t[4]=c):c=t[4];const d=a&&kl.font_bold;let u,m;return t[5]!==l||t[6]!==n||t[7]!==c||t[8]!==d?(u=[l,c,d,n],t[5]=l,t[6]=n,t[7]=c,t[8]=d,t[9]=u):u=t[9],t[10]!==s||t[11]!==u?(m=(0,Ft.jsx)(fr,Object.assign({style:u},s)),t[10]=s,t[11]=u,t[12]=m):m=t[12],m}const QM="app.bsky.feed.postgate";function KM(e){return{$type:QM,createdAt:(new Date).toISOString(),post:e.post,detachedEmbeddingUris:e.detachedEmbeddingUris||[],embeddingRules:e.embeddingRules||[]}}function $M(e,t){const s=Array.from(new Set([...e.detachedEmbeddingUris||[],...t.detachedEmbeddingUris||[]])),n=[...e.embeddingRules||[],...t.embeddingRules||[]].filter(((e,t,s)=>s.findIndex((t=>t.$type===e.$type))===t));return KM({post:e.post,detachedEmbeddingUris:s,embeddingRules:n})}function GM({uri:e}){return{$type:"app.bsky.embed.record#view",record:{$type:"app.bsky.embed.record#viewDetached",uri:e,detached:!0}}}function YM({post:e,quote:t,quoteUri:s,detached:n}){return Is.AppBskyEmbedRecord.isView(e.embed)?n?GM({uri:s}):function({post:e}){return{$type:"app.bsky.embed.record#view",record:JM(e)}}({post:t}):Is.AppBskyEmbedRecordWithMedia.isView(e.embed)?n?Object.assign({},e.embed,{record:GM({uri:s})}):function({post:e,quote:t}){if(!Is.AppBskyEmbedRecordWithMedia.isView(e.embed))return;return Object.assign({},e.embed||{},{record:{record:JM(t)}})}({post:e,quote:t}):void 0}function JM(e){return{$type:"app.bsky.embed.record#viewRecord",uri:e.uri,cid:e.cid,author:e.author,value:e.record,labels:e.labels,replyCount:e.replyCount,repostCount:e.repostCount,likeCount:e.likeCount,quoteCount:e.quoteCount,indexedAt:e.indexedAt}}const XM={disableRule:{$type:"app.bsky.feed.postgate#disableRule"}};async function eB({agent:e,postUri:t}){const s=new Is.AtUri(t);if(!s.host.startsWith("did:")){const t=await e.resolveHandle({handle:s.host});s.host=t.data.did}try{const{data:t}=await Hm(2,(e=>!e.message.includes("Could not locate record:")),(()=>e.api.com.atproto.repo.getRecord({repo:s.host,collection:QM,rkey:s.rkey})));return t.value&&Rf(t.value,Is.AppBskyFeedPostgate.validateRecord)?t.value:void 0}catch(n){if(n.message.includes("Could not locate record:"))return;throw n}}async function tB({agent:e,postUri:t,postgate:s}){const n=new Is.AtUri(t);await Nm(2,(()=>e.api.com.atproto.repo.putRecord({repo:e.session.did,collection:QM,rkey:n.rkey,record:s})))}async function sB({agent:e,postUri:t},s){const n=await eB({agent:e,postUri:t}),o=await s(n);o&&await tB({agent:e,postUri:t,postgate:o})}const nB=e=>["postgate-record",e];function oB(){const e=(0,i.c)(5),t=bh(),s=(0,wd.useQueryClient)();let n,o;return e[0]!==t?(n=async e=>{const{postUri:s,postgate:n}=e;return tB({agent:t,postUri:s,postgate:n})},e[0]=t,e[1]=n):n=e[1],e[2]!==s||e[3]!==n?(o={mutationFn:n,onSuccess(e,t){const{postUri:n}=t;s.invalidateQueries({queryKey:nB(n)})}},e[2]=s,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}function rB(){const e=(0,i.c)(7),t=bh(),s=(0,wd.useQueryClient)(),n=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n=async e=>{const{uris:n}=e;return t.fetchQuery({queryKey:BM(n.join(",")||""),async queryFn(){const e=await s.getPosts({uris:n});if(e.success)return e.data.posts;throw new Error("useGetPosts failed")}})},e[0]=s,e[1]=t,e[2]=n):n=e[2],n}(),o=mt.useRef();let r,a;return e[0]!==t||e[1]!==s?(r=async e=>{const{post:n,quoteUri:r,action:i}=e;o.current=n.embed,"detach"===i&&tR(s,n.uri,{embed:YM({post:n,quote:void 0,quoteUri:r,detached:!0})}),await sB({agent:t,postUri:r},(async e=>{if(e){if("detach"===i)return $M(e,{detachedEmbeddingUris:[n.uri]});if("reattach"===i)return Object.assign({},e,{detachedEmbeddingUris:e.detachedEmbeddingUris?.filter((e=>e!==n.uri))||[]})}else if("detach"===i)return KM({post:r,detachedEmbeddingUris:[n.uri]})}))},e[0]=t,e[1]=s,e[2]=r):r=e[2],e[3]!==n||e[4]!==s||e[5]!==r?(a={mutationFn:r,async onSuccess(e,t){const{post:o,quoteUri:r,action:i}=t;if("reattach"===i)try{const[e]=await n({uris:[r]});tR(s,o.uri,{embed:YM({post:o,quote:e,quoteUri:void 0,detached:!1})})}catch(a){const e=a;ys.error("Postgate: failed to get quote post for re-attachment",{safeMessage:e.message})}},onError(e,t){const{post:n,action:r}=t;"detach"===r&&o.current&&(Is.AppBskyEmbedRecord.isView(o.current)||Is.AppBskyEmbedRecordWithMedia.isView(o.current))&&tR(s,n.uri,{embed:o.current})},onSettled(){o.current=void 0}},e[3]=n,e[4]=s,e[5]=r,e[6]=a):a=e[6],(0,Sd.useMutation)(a)}var iB=s(89159),aB=s.n(iB);const lB=["control"];function cB(e){const t=(0,i.c)(28);let s,n;if(t[0]!==e){var o=e;({control:s}=o),n=(0,ls.default)(o,lB),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const r=ec(),{_:a}=(0,ft.useLingui)();let l,c,d,u,m,h,p,f,g,x,_,y,b;return t[3]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ha,{}),t[3]=l):l=t[3],t[4]!==a?(c=a({id:"TlT3VC"}),t[4]=a,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[{maxWidth:500},kl.w_full],t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.gap_md],m=(0,Ft.jsx)(dB,{}),t[7]=u,t[8]=m):(u=t[7],m=t[8]),t[9]!==n?(h=(0,Ft.jsx)(hB,Object.assign({},n)),t[9]=n,t[10]=h):h=t[10],t[11]!==r.atoms.text_contrast_medium?(p=[kl.pt_sm,kl.text_sm,kl.leading_snug,r.atoms.text_contrast_medium],t[11]=r.atoms.text_contrast_medium,t[12]=p):p=t[12],t[13]!==r.atoms.text_contrast_medium?(f=(0,Ft.jsx)(ft.Trans,{id:"rW4f9k",components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,r.atoms.text_contrast_medium]})}}),t[13]=r.atoms.text_contrast_medium,t[14]=f):f=t[14],t[15]!==p||t[16]!==f?(g=(0,Ft.jsx)(fr,{style:p,children:f}),t[15]=p,t[16]=f,t[17]=g):g=t[17],t[18]!==h||t[19]!==g?(x=(0,Ft.jsxs)(wo.default,{style:u,children:[m,h,g]}),t[18]=h,t[19]=g,t[20]=x):x=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(ma,{}),t[21]=_):_=t[21],t[22]!==x||t[23]!==c?(y=(0,Ft.jsxs)(da,{label:c,style:d,children:[x,_]}),t[22]=x,t[23]=c,t[24]=y):y=t[24],t[25]!==s||t[26]!==y?(b=(0,Ft.jsxs)(aa,{control:s,children:[l,y]}),t[25]=s,t[26]=y,t[27]=b):b=t[27],b}function dB(){const e=(0,i.c)(3);let t,s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[kl.gap_md,kl.pb_sm],e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"Q0ToY3"})}),e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsxs)(wo.default,{style:t,children:[s,(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_xs],children:(0,Ft.jsx)(ft.Trans,{id:"PTbPhB"})}),(0,Ft.jsx)(Iv,{})]}),e[2]=n):n=e[2],n}function uB(e){const t=(0,i.c)(6);let s,n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(mB,Object.assign({},e)),t[1]=e,t[2]=n):n=t[2],t[3]!==e.control||t[4]!==n?(o=(0,Ft.jsxs)(aa,{control:e.control,children:[s,n]}),t[3]=e.control,t[4]=n,t[5]=o):o=t[5],o}function mB(e){const{_:t}=(0,ft.useLingui)(),{currentAccount:s}=xh(),[n,o]=mt.useState(!1),{data:r,isLoading:a}=function(e){const t=(0,i.c)(10);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{postUri:n,initialData:o}=s,r=bh(),a=!!n,l=n||"";let c,d;return t[2]!==l?(c=x_(l),t[2]=l,t[3]=c):c=t[3],t[4]!==r||t[5]!==o||t[6]!==n||t[7]!==a||t[8]!==c?(d={enabled:a,queryKey:c,placeholderData:o,staleTime:Ld.MINUTES.ONE,queryFn:async()=>__({agent:r,postUri:n})},t[4]=r,t[5]=o,t[6]=n,t[7]=a,t[8]=c,t[9]=d):d=t[9],(0,vd.useQuery)(d)}({postUri:e.rootPostUri}),{data:l,isLoading:c}=function(e){const t=(0,i.c)(6),{postUri:s}=e,n=bh();let o,r;return t[0]!==s?(o=nB(s),t[0]=s,t[1]=o):o=t[1],t[2]!==n||t[3]!==s||t[4]!==o?(r={staleTime:Ld.SECONDS.THIRTY,queryKey:o,queryFn:async()=>await eB({agent:n,postUri:s})??null},t[2]=n,t[3]=s,t[4]=o,t[5]=r):r=t[5],(0,vd.useQuery)(r)}({postUri:e.postUri}),{mutateAsync:d}=oB(),{mutateAsync:u}=function(){const e=(0,i.c)(6),t=bh(),s=(0,wd.useQueryClient)();let n,o;return e[0]!==t?(n=async e=>{const{postUri:s,allow:n}=e;return b_({agent:t,postUri:s},(async e=>e?Object.assign({},e,{allow:h_(n)}):p_({post:s,allow:h_(n)})))},e[0]=t,e[1]=n):n=e[1],e[2]!==t||e[3]!==s||e[4]!==n?(o={mutationFn:n,async onSuccess(e,n){const{postUri:o,allow:r}=n;await lg(5,1e3,(e=>{const t=e.data.thread;if(Is.AppBskyFeedDefs.isThreadViewPost(t)){const e=u_(t.post.threadgate);return JSON.stringify(e)===JSON.stringify(r)}return!1}),(()=>t.app.bsky.feed.getPostThread({uri:o,depth:0}))),s.invalidateQueries({queryKey:[Xx]}),s.invalidateQueries({queryKey:[f_]}),s.invalidateQueries({queryKey:[g_]})}},e[2]=t,e[3]=s,e[4]=n,e[5]=o):o=e[5],(0,Sd.useMutation)(o)}(),[m,h]=mt.useState(),[p,f]=mt.useState(),g=a||c,x=r||e.initialThreadgateView,_=mt.useMemo((()=>s?.did===new Is.AtUri(e.rootPostUri).host),[e.rootPostUri,s?.did]),y=mt.useMemo((()=>m||l||KM({post:e.postUri})),[l,m,e.postUri]),b=mt.useMemo((()=>p||u_(x)),[x,p]),j=mt.useCallback((async()=>{if(m||p){o(!0);try{const t=[];m&&t.push(d({postUri:e.postUri,postgate:m})),p&&_&&t.push(u({postUri:e.rootPostUri,allow:p})),await Promise.all(t),e.control.close()}catch(s){ys.error("Failed to save post interaction settings",{source:"PostInteractionSettingsDialogControlledInner",safeMessage:s.message}),Zu(t({id:"zghcp1"}),"xmark")}finally{o(!1)}}else e.control.close()}),[t,e.postUri,e.rootPostUri,e.control,m,p,o,d,u,_]);return(0,Ft.jsx)(da,{label:t({id:"TlT3VC"}),style:[{maxWidth:500},kl.w_full],children:(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[(0,Ft.jsx)(dB,{}),g?(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.py_4xl,kl.align_center,kl.justify_center],children:(0,Ft.jsx)(wv,{size:"xl"})}):(0,Ft.jsx)(hB,{replySettingsDisabled:!_,isSaving:n,onSave:j,postgate:y,onChangePostgate:h,threadgateAllowUISettings:b,onChangeThreadgateAllowUISettings:f})]})})}function hB(e){const t=(0,i.c)(97),{canSave:s,onSave:n,isSaving:o,postgate:r,onChangePostgate:a,threadgateAllowUISettings:l,onChangeThreadgateAllowUISettings:c,replySettingsDisabled:d}=e,u=void 0===s||s,m=ec(),{_:h}=(0,ft.useLingui)(),{data:p}=Ow("curate"),[f,g]=mt.useState(!(r.embeddingRules&&r.embeddingRules.find(bB)));let x;t[0]!==c||t[1]!==l?(x=e=>{const t=l.filter(yB),s=t.findIndex((t=>aB()(t,e)));-1===s?t.push(e):t.splice(s,1),0===t.length&&t.push({type:"everybody"}),c(t)},t[0]=c,t[1]=l,t[2]=x):x=t[2];const _=x;let y;t[3]!==a||t[4]!==r?(y=e=>{g(e),a(KM(Object.assign({},r,{embeddingRules:e?[]:[XM.disableRule]})))},t[3]=a,t[4]=r,t[5]=y):y=t[5];const b=y,j=!!l.find(_B);let v,w,S,k,C,P,T,L,A,I,R,D,F;t[6]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_1,kl.gap_md],t[6]=v):v=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_lg],t[7]=w):w=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.gap_sm],t[8]=S):S=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"eKInue"})}),t[9]=k):k=t[9],t[10]!==h||t[11]!==f?(C=h(f?{id:"VI/KHg"}:{id:"LRBNvy"}),t[10]=h,t[11]=f,t[12]=C):C=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.justify_between,kl.pt_xs],t[13]=P):P=t[13],t[14]!==m.atoms.text_contrast_medium?(T=[m.atoms.text_contrast_medium],t[14]=m.atoms.text_contrast_medium,t[15]=T):T=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(ft.Trans,{id:"U4vCK0"}),t[16]=L):L=t[16],t[17]!==T?(A=(0,Ft.jsx)(fr,{style:T,children:L}),t[17]=T,t[18]=A):A=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(dI,{}),t[19]=I):I=t[19],t[20]!==b||t[21]!==f||t[22]!==A||t[23]!==C?(R=(0,Ft.jsxs)(wo.default,{style:S,children:[k,(0,Ft.jsxs)(iI,{name:"quoteposts",type:"checkbox",label:C,value:f,onChange:b,style:P,children:[A,I]})]}),t[20]=b,t[21]=f,t[22]=A,t[23]=C,t[24]=R):R=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(Iv,{}),t[25]=D):D=t[25],t[26]!==d||t[27]!==m.atoms.bg_contrast_25||t[28]!==m.atoms.text_contrast_low||t[29]!==m.atoms.text_contrast_medium?(F=d&&(0,Ft.jsxs)(wo.default,{style:[kl.px_md,kl.py_sm,kl.rounded_sm,kl.flex_row,kl.align_center,kl.gap_sm,m.atoms.bg_contrast_25],children:[(0,Ft.jsx)(Ij,{fill:m.atoms.text_contrast_low.color}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.leading_snug,m.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"rCcmIR"})})]}),t[26]=d,t[27]=m.atoms.bg_contrast_25,t[28]=m.atoms.text_contrast_low,t[29]=m.atoms.text_contrast_medium,t[30]=F):F=t[30];const E=d?.3:1;let M,B,O,z,H,N,V;t[31]!==E?(M=[kl.gap_sm,{opacity:E}],t[31]=E,t[32]=M):M=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"8I87Tu"})}),t[33]=B):B=t[33],t[34]!==m.atoms.text_contrast_medium?(O=[kl.pt_sm,m.atoms.text_contrast_medium],t[34]=m.atoms.text_contrast_medium,t[35]=O):O=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(ft.Trans,{id:"V7vmAk"}),t[36]=z):z=t[36],t[37]!==O?(H=(0,Ft.jsx)(fr,{style:O,children:z}),t[37]=O,t[38]=H):H=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(N=[kl.flex_row,kl.gap_sm],t[39]=N):N=t[39],t[40]!==h?(V=h({id:"wlzBtv"}),t[40]=h,t[41]=V):V=t[41];const q=!!l.find(xB);let U,W,Z,Q,K,$,G,Y,J,X,ee;t[42]!==c?(U=()=>c([{type:"everybody"}]),t[42]=c,t[43]=U):U=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(W={flex:1},t[44]=W):W=t[44],t[45]!==d||t[46]!==V||t[47]!==q||t[48]!==U?(Z=(0,Ft.jsx)(jB,{label:V,isSelected:q,onPress:U,style:W,disabled:d}),t[45]=d,t[46]=V,t[47]=q,t[48]=U,t[49]=Z):Z=t[49],t[50]!==h?(Q=h({id:"xpF9po"}),t[50]=h,t[51]=Q):Q=t[51],t[52]!==c?(K=()=>c([{type:"nobody"}]),t[52]=c,t[53]=K):K=t[53],t[54]===Symbol.for("react.memo_cache_sentinel")?($={flex:1},t[54]=$):$=t[54],t[55]!==j||t[56]!==d||t[57]!==Q||t[58]!==K?(G=(0,Ft.jsx)(jB,{label:Q,isSelected:j,onPress:K,style:$,disabled:d}),t[55]=j,t[56]=d,t[57]=Q,t[58]=K,t[59]=G):G=t[59],t[60]!==Z||t[61]!==G?(Y=(0,Ft.jsxs)(wo.default,{style:N,children:[Z,G]}),t[60]=Z,t[61]=G,t[62]=Y):Y=t[62],t[63]!==h||t[64]!==p||t[65]!==j||t[66]!==_||t[67]!==d||t[68]!==m.atoms.text_contrast_medium||t[69]!==l?(J=!j&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.pt_sm,m.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"STRyG7"})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsx)(jB,{label:h({id:"31/84x"}),isSelected:!!l.find(gB),onPress:()=>_({type:"mention"}),disabled:d}),(0,Ft.jsx)(jB,{label:h({id:"tfAhDc"}),isSelected:!!l.find(fB),onPress:()=>_({type:"following"}),disabled:d}),(0,Ft.jsx)(jB,{label:h({id:"pnEY+u"}),isSelected:!!l.find(pB),onPress:()=>_({type:"followers"}),disabled:d}),p&&p.length>0?p.map((e=>(0,Ft.jsx)(jB,{label:h({id:"9k1aoj",values:{0:e.name}}),isSelected:!!l.find((t=>"list"===t.type&&t.list===e.uri)),onPress:()=>_({type:"list",list:e.uri}),disabled:d},e.uri))):null]})]}),t[63]=h,t[64]=p,t[65]=j,t[66]=_,t[67]=d,t[68]=m.atoms.text_contrast_medium,t[69]=l,t[70]=J):J=t[70],t[71]!==M||t[72]!==H||t[73]!==Y||t[74]!==J?(X=(0,Ft.jsxs)(wo.default,{style:M,children:[B,H,Y,J]}),t[71]=M,t[72]=H,t[73]=Y,t[74]=J,t[75]=X):X=t[75],t[76]!==R||t[77]!==F||t[78]!==X?(ee=(0,Ft.jsx)(wo.default,{style:v,children:(0,Ft.jsxs)(wo.default,{style:w,children:[R,D,F,X]})}),t[76]=R,t[77]=F,t[78]=X,t[79]=ee):ee=t[79];const te=!u||o;let se,ne,oe,re,ie,ae;return t[80]!==h?(se=h({id:"tfDRzk"}),t[80]=h,t[81]=se):se=t[81],t[82]!==h?(ne=h({id:"tfDRzk"}),t[82]=h,t[83]=ne):ne=t[83],t[84]!==ne?(oe=(0,Ft.jsx)(Cr,{children:ne}),t[84]=ne,t[85]=oe):oe=t[85],t[86]!==o?(re=o&&(0,Ft.jsx)(Pr,{icon:wv,position:"right"}),t[86]=o,t[87]=re):re=t[87],t[88]!==n||t[89]!==te||t[90]!==se||t[91]!==oe||t[92]!==re?(ie=(0,Ft.jsxs)(Sr,{disabled:te,label:se,onPress:n,color:"primary",size:"large",variant:"solid",style:kl.mt_xl,children:[oe,re]}),t[88]=n,t[89]=te,t[90]=se,t[91]=oe,t[92]=re,t[93]=ie):ie=t[93],t[94]!==ee||t[95]!==ie?(ae=(0,Ft.jsxs)(wo.default,{children:[ee,ie]}),t[94]=ee,t[95]=ie,t[96]=ae):ae=t[96],ae}function pB(e){return"followers"===e.type}function fB(e){return"following"===e.type}function gB(e){return"mention"===e.type}function xB(e){return"everybody"===e.type}function _B(e){return"nobody"===e.type}function yB(e){return"nobody"!==e.type&&"everybody"!==e.type}function bB(e){return e.$type===XM.disableRule.$type}function jB(e){const t=(0,i.c)(16),{label:s,isSelected:n,onPress:o,style:r,disabled:a}=e,l=ec();let c,d,u;return t[0]!==n?(c={checked:n},t[0]=n,t[1]=c):c=t[1],t[2]!==n||t[3]!==s||t[4]!==r||t[5]!==l.atoms.bg_contrast_100||t[6]!==l.atoms.bg_contrast_50||t[7]!==l.palette?(d=e=>{const{hovered:t,focused:o}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.justify_between,kl.rounded_sm,kl.p_md,{minHeight:40},l.atoms.bg_contrast_50,(t||o)&&l.atoms.bg_contrast_100,n&&{backgroundColor:l.palette.primary_100},r],children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,n&&kl.font_bold],children:s}),n?(0,Ft.jsx)(Wj,{size:"sm",fill:l.palette.primary_500}):(0,Ft.jsx)(wo.default,{})]})},t[2]=n,t[3]=s,t[4]=r,t[5]=l.atoms.bg_contrast_100,t[6]=l.atoms.bg_contrast_50,t[7]=l.palette,t[8]=d):d=t[8],t[9]!==a||t[10]!==n||t[11]!==s||t[12]!==o||t[13]!==c||t[14]!==d?(u=(0,Ft.jsx)(Sr,{disabled:a,onPress:o,label:s,accessibilityRole:"checkbox","aria-checked":n,accessibilityState:c,style:kl.flex_1,children:d}),t[9]=a,t[10]=n,t[11]=s,t[12]=o,t[13]=c,t[14]=d,t[15]=u):u=t[15],u}function vB(e){const t=(0,i.c)(5),{postUri:s,rootPostUri:n}=e,o=(0,wd.useQueryClient)(),r=bh();let a;return t[0]!==r||t[1]!==s||t[2]!==o||t[3]!==n?(a=async()=>{try{await Promise.all([o.prefetchQuery({queryKey:nB(s),queryFn:()=>eB({agent:r,postUri:s}),staleTime:Ld.SECONDS.THIRTY}),o.prefetchQuery({queryKey:x_(n),queryFn:()=>__({agent:r,postUri:n}),staleTime:Ld.SECONDS.THIRTY})])}catch(e){const t=e;ys.error("Failed to prefetch post interaction settings",{safeMessage:t.message})}},t[0]=r,t[1]=s,t[2]=o,t[3]=n,t[4]=a):a=t[4],a}const wB=zr({path:"M6.17 5.004c-.553-.029-.814.107-.937.23-.122.122-.258.383-.23.936.03.552.222 1.28.611 2.15.282.628.655 1.304 1.112 2.005a28.26 28.26 0 0 1 1.72-1.88 28.258 28.258 0 0 1 1.88-1.719 14.886 14.886 0 0 0-2.007-1.112c-.868-.39-1.597-.581-2.15-.61Zm5.83.44c-.985-.688-1.953-1.247-2.863-1.655-.998-.447-1.978-.736-2.863-.782-.885-.047-1.791.148-2.455.812-.664.664-.859 1.57-.812 2.455.046.885.335 1.865.782 2.863.408.91.967 1.878 1.655 2.863-.688.985-1.247 1.953-1.655 2.863-.447.998-.736 1.978-.782 2.863-.047.885.148 1.791.812 2.455.664.663 1.57.859 2.455.812.885-.046 1.865-.335 2.863-.782.91-.408 1.878-.967 2.863-1.655.985.688 1.952 1.247 2.863 1.655.998.447 1.978.736 2.863.782.885.047 1.791-.148 2.455-.812.663-.664.859-1.57.812-2.455-.046-.885-.335-1.865-.782-2.863-.408-.91-.967-1.878-1.655-2.863.688-.985 1.247-1.952 1.655-2.863.447-.998.736-1.978.782-2.863.047-.885-.148-1.791-.812-2.455-.664-.664-1.57-.859-2.455-.812-.885.046-1.865.335-2.863.782-.91.408-1.878.967-2.863 1.655Zm0 2.497A25.9 25.9 0 0 0 9.86 9.86 25.899 25.899 0 0 0 7.94 12c.569.711 1.211 1.431 1.92 2.14.709.709 1.429 1.351 2.14 1.92a25.925 25.925 0 0 0 2.14-1.92A25.925 25.925 0 0 0 16.06 12a25.921 25.921 0 0 0-1.92-2.14A25.904 25.904 0 0 0 12 7.94Zm5.274 2.384a28.232 28.232 0 0 0-1.72-1.88 28.27 28.27 0 0 0-1.88-1.719 14.89 14.89 0 0 1 2.007-1.112c.868-.39 1.597-.581 2.15-.61.552-.029.813.107.936.23.123.122.258.383.23.936-.03.552-.222 1.28-.611 2.15a14.883 14.883 0 0 1-1.112 2.005Zm0 3.35a28.24 28.24 0 0 1-1.72 1.88 28.24 28.24 0 0 1-1.88 1.719c.702.457 1.378.83 2.007 1.112.868.39 1.597.581 2.15.61.552.03.813-.106.936-.23.123-.122.258-.383.23-.935-.03-.553-.222-1.282-.611-2.15a14.888 14.888 0 0 0-1.112-2.006Zm-6.949 3.599a28.23 28.23 0 0 1-1.88-1.72 28.27 28.27 0 0 1-1.719-1.88 14.89 14.89 0 0 0-1.112 2.007c-.39.868-.581 1.597-.61 2.15-.029.552.107.813.23.936.122.123.383.258.936.23.552-.03 1.28-.222 2.15-.611a14.884 14.884 0 0 0 2.005-1.112Z"}),SB=zr({path:"M6.343 6.343a8 8 0 1 1 11.314 11.314A8 8 0 0 1 6.343 6.343ZM19.071 4.93c-3.905-3.905-10.237-3.905-14.142 0-3.905 3.905-3.905 10.237 0 14.142 3.905 3.905 10.237 3.905 14.142 0 3.905-3.905 3.905-10.237 0-14.142Zm-3.537 9.535a5 5 0 0 0-7.07 0 1 1 0 1 0 1.413 1.415 3 3 0 0 1 4.243 0 1 1 0 0 0 1.414-1.415ZM16 9.5c0 .828-.56 1.5-1.25 1.5s-1.25-.672-1.25-1.5.56-1.5 1.25-1.5S16 8.672 16 9.5ZM9.25 11c.69 0 1.25-.672 1.25-1.5S9.94 8 9.25 8 8 8.672 8 9.5 8.56 11 9.25 11Z"}),kB=zr({path:"M17.657 6.343A8 8 0 1 0 6.343 17.657 8 8 0 0 0 17.657 6.343ZM4.929 4.93c3.905-3.905 10.237-3.905 14.142 0 3.905 3.905 3.905 10.237 0 14.142-3.905 3.905-10.237 3.905-14.142 0-3.905-3.905-3.905-10.237 0-14.142Zm3.536 9.192a1 1 0 0 1 1.414 0 3 3 0 0 0 4.243 0 1 1 0 0 1 1.414 1.415 5 5 0 0 1-7.071 0 1 1 0 0 1 0-1.415ZM10.5 9.5c0 .828-.56 1.5-1.25 1.5S8 10.328 8 9.5 8.56 8 9.25 8s1.25.672 1.25 1.5ZM16 9.5c0 .828-.56 1.5-1.25 1.5s-1.25-.672-1.25-1.5.56-1.5 1.25-1.5S16 8.672 16 9.5Z"}),CB=zr({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Zm8-5a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm4 0a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0V8a1 1 0 0 1 1-1Zm-5.894 7.803a1 1 0 0 1 1.341-.447c1.719.859 3.387.859 5.106 0a1 1 0 1 1 .894 1.788c-2.281 1.141-4.613 1.141-6.894 0a1 1 0 0 1-.447-1.341Z"}),PB=zr({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2ZM9.351 12.13c1.898-1.507 2.176-2.95 1.613-3.83a1.524 1.524 0 0 0-1.225-.707 1.562 1.562 0 0 0-1.218.53 1.561 1.561 0 0 0-1.326-.082c-.456.186-.8.588-.91 1.083-.227 1.02.527 2.282 2.826 3.048a.256.256 0 0 0 .24-.043Zm5.538.042c2.299-.766 3.053-2.027 2.826-3.048a1.524 1.524 0 0 0-.91-1.082 1.561 1.561 0 0 0-1.326.081 1.562 1.562 0 0 0-1.217-.53 1.524 1.524 0 0 0-1.226.706c-.563.881-.285 2.325 1.613 3.83.068.054.158.07.24.043Zm1.072 2.38a4 4 0 0 1-7.924 0c-.04-.293.218-.525.514-.499 2.309.206 4.587.206 6.896 0 .296-.026.555.206.514.5Z"}),TB=zr({path:"M3 4a1 1 0 0 1 1-1h16a1 1 0 0 1 1 1v4a1 1 0 0 1-.293.707L15 14.414V20a1 1 0 0 1-.758.97l-4 1A1 1 0 0 1 9 21v-6.586L3.293 8.707A1 1 0 0 1 3 8V4Zm2 1v2.586l5.707 5.707A1 1 0 0 1 11 14v5.72l2-.5V14a1 1 0 0 1 .293-.707L19 7.586V5H5Z"}),LB=zr({path:"M11.1 2a1 1 0 0 0-.832.445L8.851 4.57 6.6 4.05a1 1 0 0 0-.932.268l-1.35 1.35a1 1 0 0 0-.267.932l.52 2.251-2.126 1.417A1 1 0 0 0 2 11.1v1.8a1 1 0 0 0 .445.832l2.125 1.417-.52 2.251a1 1 0 0 0 .268.932l1.35 1.35a1 1 0 0 0 .932.267l2.251-.52 1.417 2.126A1 1 0 0 0 11.1 22h1.8a1 1 0 0 0 .832-.445l1.417-2.125 2.251.52a1 1 0 0 0 .932-.268l1.35-1.35a1 1 0 0 0 .267-.932l-.52-2.251 2.126-1.417A1 1 0 0 0 22 12.9v-1.8a1 1 0 0 0-.445-.832L19.43 8.851l.52-2.251a1 1 0 0 0-.268-.932l-1.35-1.35a1 1 0 0 0-.932-.267l-2.251.52-1.417-2.126A1 1 0 0 0 12.9 2h-1.8Zm-.968 4.255L11.635 4h.73l1.503 2.255a1 1 0 0 0 1.057.42l2.385-.551.566.566-.55 2.385a1 1 0 0 0 .42 1.057L20 11.635v.73l-2.255 1.503a1 1 0 0 0-.42 1.057l.551 2.385-.566.566-2.385-.55a1 1 0 0 0-1.057.42L12.365 20h-.73l-1.503-2.255a1 1 0 0 0-1.057-.42l-2.385.551-.566-.566.55-2.385a1 1 0 0 0-.42-1.057L4 12.365v-.73l2.255-1.503a1 1 0 0 0 .42-1.057L6.123 6.69l.566-.566 2.385.55a1 1 0 0 0 1.057-.42ZM8 12a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"}),AB=zr({path:"M9.996 2.869A1.951 1.951 0 0 1 11.62 2h.76c.653 0 1.262.326 1.624.869l1.141 1.712 1.749-.404a1.951 1.951 0 0 1 1.819.522l.588.589c.476.475.673 1.162.522 1.818l-.404 1.749 1.712 1.141c.543.362.869.971.869 1.624v.76c0 .653-.326 1.262-.869 1.624l-1.712 1.141.404 1.749a1.951 1.951 0 0 1-.522 1.819l-.588.588a1.951 1.951 0 0 1-1.819.522l-1.749-.404-1.141 1.712A1.951 1.951 0 0 1 12.38 22h-.76a1.951 1.951 0 0 1-1.624-.869L8.855 19.42l-1.749.404a1.951 1.951 0 0 1-1.818-.522l-.59-.588a1.951 1.951 0 0 1-.52-1.819l.403-1.749-1.712-1.141A1.951 1.951 0 0 1 2 12.38v-.76c0-.653.326-1.262.869-1.624L4.58 8.855l-.404-1.749A1.951 1.951 0 0 1 4.7 5.288l.589-.59a1.951 1.951 0 0 1 1.818-.52l1.749.403 1.141-1.712ZM8.5 12a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Z"});let IB=({post:e,postFeedContext:t,postReqId:s,record:n,richText:o,threadgateRecord:r,onShowLess:a})=>{const{hasSession:l,currentAccount:c}=xh(),{_:d}=(0,ft.useLingui)(),u=Yc(),{mutateAsync:m}=function(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;return e[0]!==s?(n=async e=>{const{uri:t}=e;await s.deletePost(t)},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(e,s){tR(t,s.uri,{isDeleted:!0})}},e[2]=t,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}(),{mutateAsync:h,isPending:p}=function(){const{_:e}=(0,ft.useLingui)(),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)(),{mutateAsync:o}=pb();return(0,Sd.useMutation)({mutationFn:async({postUri:r,postCid:i,action:a})=>{const l="pin"===a;let c;try{if(tR(n,r,{pinned:l}),!t)throw new Error("Not signed in");const{data:a}=await s.getProfile({actor:t.did});c=a.pinnedPost?.uri,c&&c!==r&&tR(n,c,{pinned:!1}),await o({profile:a,updates:e=>(e.pinnedPost=l?{uri:r,cid:i}:void 0,e),checkCommitted:e=>l?e.data.pinnedPost?.uri===r:!e.data.pinnedPost}),Zu(e(l?{id:"mMWAgA"}:{id:"LQ0OnR"})),n.invalidateQueries({queryKey:Nx(`author|${t.did}|posts_and_author_threads`)}),n.invalidateQueries({queryKey:Nx(`author|${t.did}|posts_with_replies`)})}catch(d){Zu(e({id:"0nCj3X"})),ys.error("Failed to pin post",{message:String(d)}),tR(n,r,{pinned:!l}),c&&c!==r&&tR(n,c,{pinned:!0})}}})}(),f=Oc(),{hidePost:g}=mt.useContext(Mc),x=FM(),_=nv(),y=(0,va.useNavigation)(),{mutedWordsDialogControl:b}=No(),j=Ar(),v=Ar(),w=Ar(),S=Ar(),k=Ar(),C=Ar(),P=Ar(),{mutateAsync:T}=j_(),L=e.uri,A=e.cid,I=Ry(e.author),R=(0,mt.useMemo)((()=>{if(c&&e.embed)return function({viewerDid:e,post:t}){if(Is.AppBskyEmbedRecord.isView(t.embed)){if(Is.AppBskyEmbedRecord.isViewDetached(t.embed.record)){const s=new Is.AtUri(t.embed.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!0}}if(Is.AppBskyEmbedRecord.isViewRecord(t.embed.record)){const s=new Is.AtUri(t.embed.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!1}}}else if(Is.AppBskyEmbedRecordWithMedia.isView(t.embed)){if(Is.AppBskyEmbedRecord.isViewDetached(t.embed.record.record)){const s=new Is.AtUri(t.embed.record.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!0}}if(Is.AppBskyEmbedRecord.isViewRecord(t.embed.record.record)){const s=new Is.AtUri(t.embed.record.record.uri);return{embed:t.embed,uri:s.toString(),isOwnedByViewer:s.host===e,isDetached:!1}}}}({viewerDid:c.did,post:e})}),[e,c]),D=n.reply?.root?.uri||L,F=Boolean(n.reply),[E,M,B]=HM(e,D),O=f&&f.includes(L),z=I.did===c?.did,H=new Is.AtUri(D).host===c?.did,N=Nf({threadgateRecord:r}).has(L),V=e.viewer?.pinned,{mutateAsync:q,isPending:U}=rB(),[W]=bb(I),[Z,Q]=yb(I),K=vB({postUri:e.uri,rootPostUri:D}),$=(0,mt.useMemo)((()=>{const e=new Is.AtUri(L);return cS(I,"post",e.rkey)}),[L,I]),G=Us(n.text,u.primaryLanguage),Y=!!I.labels?.find((e=>"!no-unauthenticated"===e.val)),J=async()=>{if(!R)return;const t=R.isDetached?"reattach":"detach",s="detach"===t;try{await q({post:e,quoteUri:R.uri,action:R.isDetached?"reattach":"detach"}),Zu(d(s?{id:"fj6x97"}:{id:"6ZPdY1"}))}catch(n){Zu(d({id:"JNBh/n"})),ys.error(`Failed to ${t} quote`,{safeMessage:n.message})}},X=!z&&!O,ee=!z&&H&&!O&&F,te=R&&R.isOwnedByViewer,se=async()=>{if(!ee)return;const e=N?"show":"hide",t="hide"===e;try{await T({postUri:D,replyUri:L,action:e}),Zu(d(t?{id:"MTaaPI"}:{id:"AF0xm8"}))}catch(s){Zu(d({id:"Ron617"})),ys.error(`Failed to ${e} reply`,{safeMessage:s.message})}};return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wC,{children:[z&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(LC,{children:(0,Ft.jsxs)(SC,{testID:"pinPostBtn",label:d(V?{id:"XQMQZw"}:{id:"QFR1aH"}),disabled:p,onPress:()=>{En(V?"post:unpin":"post:pin",{}),h({postUri:L,postCid:A,action:V?"unpin":"pin"})},children:[(0,Ft.jsx)(kC,{children:d(V?{id:"XQMQZw"}:{id:"QFR1aH"})}),(0,Ft.jsx)(CC,{icon:p?wv:nR,position:"right"})]})}),(0,Ft.jsx)(AC,{})]}),(0,Ft.jsx)(LC,{children:(!Y||l)&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(SC,{testID:"postDropdownTranslateBtn",label:d({id:"pi8x/S"}),onPress:async()=>{await _(G,!0),If(e.record,Is.AppBskyFeedPost.isRecord)&&ys.metric("translate",{sourceLanguages:e.record.langs??[],targetLanguage:u.primaryLanguage,textLength:e.record.text.length})},children:[(0,Ft.jsx)(kC,{children:d({id:"pi8x/S"})}),(0,Ft.jsx)(CC,{icon:gT,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"postDropdownCopyTextBtn",label:d({id:"iQgJaz"}),onPress:()=>{const e=Fw(o,!0);rv.setStringAsync(e),Zu(d({id:"FxVG/l"}),"clipboard-check")},children:[(0,Ft.jsx)(kC,{children:d({id:"iQgJaz"})}),(0,Ft.jsx)(CC,{icon:aT,position:"right"})]})]})}),l&&x.enabled&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{testID:"postDropdownShowMoreBtn",label:d({id:"jW1hzq"}),onPress:()=>{x.sendInteraction({event:"app.bsky.feed.defs#requestMore",item:L,feedContext:t,reqId:s}),Zu(d({id:"V8XrzN"}))},children:[(0,Ft.jsx)(kC,{children:d({id:"jW1hzq"})}),(0,Ft.jsx)(CC,{icon:kB,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"postDropdownShowLessBtn",label:d({id:"CQ/J8K"}),onPress:()=>{x.sendInteraction({event:"app.bsky.feed.defs#requestLess",item:L,feedContext:t,reqId:s}),a?a({item:L,feedContext:t}):Zu(d({id:"V8XrzN"}))},children:[(0,Ft.jsx)(kC,{children:d({id:"CQ/J8K"})}),(0,Ft.jsx)(CC,{icon:SB,position:"right"})]})]})]}),l&&Kt&&oi[c?.did??""]&&(0,Ft.jsxs)(SC,{testID:"postDropdownReportMisclassificationBtn",label:d({id:"SjjKyj"}),onPress:()=>{const e=`https://docs.google.com/forms/d/e/1FAIpQLSd0QPqhNFksDQf1YyOos7r1ofCLvmrKAH1lU042TaS3GAZaWQ/viewform?entry.1756031717=${pu($)}`;_(e)},children:[(0,Ft.jsx)(kC,{children:d({id:"SjjKyj"})}),(0,Ft.jsx)(CC,{icon:wB,position:"right"})]}),l&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{testID:"postDropdownMuteThreadBtn",label:d(E?{id:"s12/Py"}:{id:"jq7SjD"}),onPress:()=>{try{E?(B(),Zu(d({id:"pVj+Jp"}))):(M(),Zu(d({id:"L1+K6L"})))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to toggle thread mute",{message:e}),Zu(d({id:"ZfARMq"}),"xmark"))}},children:[(0,Ft.jsx)(kC,{children:d(E?{id:"s12/Py"}:{id:"jq7SjD"})}),(0,Ft.jsx)(CC,{icon:E?hT:oC,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"postDropdownMuteWordsBtn",label:d({id:"SLpzWX"}),onPress:()=>b.open(),children:[(0,Ft.jsx)(kC,{children:d({id:"SLpzWX"})}),(0,Ft.jsx)(CC,{icon:TB,position:"right"})]})]})]}),l&&(ee||te||X)&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[X&&(0,Ft.jsxs)(SC,{testID:"postDropdownHideBtn",label:d(F?{id:"Q8z5/C"}:{id:"vcb5vM"}),onPress:()=>S.open(),children:[(0,Ft.jsx)(kC,{children:d(F?{id:"Q8z5/C"}:{id:"vcb5vM"})}),(0,Ft.jsx)(CC,{icon:TS,position:"right"})]}),ee&&(0,Ft.jsxs)(SC,{testID:"postDropdownHideBtn",label:d(N?{id:"TPZXdh"}:{id:"pJwDYA"}),onPress:N?se:()=>P.open(),children:[(0,Ft.jsx)(kC,{children:d(N?{id:"TPZXdh"}:{id:"pJwDYA"})}),(0,Ft.jsx)(CC,{icon:N?Rj:TS,position:"right"})]}),te&&(0,Ft.jsxs)(SC,{disabled:U,testID:"postDropdownHideBtn",label:R.isDetached?d({id:"CA5w+T"}):d({id:"MGP2kL"}),onPress:R.isDetached?J:()=>C.open(),children:[(0,Ft.jsx)(kC,{children:R.isDetached?d({id:"CA5w+T"}):d({id:"MGP2kL"})}),(0,Ft.jsx)(CC,{icon:U?wv:R.isDetached?Rj:TS,position:"right"})]})]})]}),l&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[!z&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(SC,{testID:"postDropdownMuteBtn",label:I.viewer?.muted?d({id:"tGvT9+"}):d({id:"BT9ocQ"}),onPress:async()=>{if(I.viewer?.muted)try{await Q(),Zu(d({id:"QU/XdG"}))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to unmute account",{message:e}),Zu(d({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}else try{await Z(),Zu(d({id:"qWVN11"}))}catch(t){"AbortError"!==t?.name&&(ys.error("Failed to mute account",{message:t}),Zu(d({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}},children:[(0,Ft.jsx)(kC,{children:I.viewer?.muted?d({id:"tGvT9+"}):d({id:"BT9ocQ"})}),(0,Ft.jsx)(CC,{icon:I.viewer?.muted?hT:oC,position:"right"})]}),!I.viewer?.blocking&&(0,Ft.jsxs)(SC,{testID:"postDropdownBlockBtn",label:d({id:"ERffXY"}),onPress:()=>j.open(),children:[(0,Ft.jsx)(kC,{children:d({id:"ERffXY"})}),(0,Ft.jsx)(CC,{icon:lC,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"postDropdownReportBtn",label:d({id:"6IcSvC"}),onPress:()=>v.open(),children:[(0,Ft.jsx)(kC,{children:d({id:"6IcSvC"})}),(0,Ft.jsx)(CC,{icon:Fj,position:"right"})]})]}),z&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(SC,Object.assign({testID:"postDropdownEditPostInteractions",label:d({id:"8I6lte"}),onPress:()=>k.open()},z?{onHoverIn:K}:{},{children:[(0,Ft.jsx)(kC,{children:d({id:"8I6lte"})}),(0,Ft.jsx)(CC,{icon:LB,position:"right"})]})),(0,Ft.jsxs)(SC,{testID:"postDropdownDeleteBtn",label:d({id:"04G5Az"}),onPress:()=>w.open(),children:[(0,Ft.jsx)(kC,{children:d({id:"04G5Az"})}),(0,Ft.jsx)(CC,{icon:jS,position:"right"})]})]})]})]})]}),(0,Ft.jsx)(bx,{control:w,title:d({id:"FbPNuJ"}),description:d({id:"2QY2bw"}),onConfirm:()=>{m({uri:L}).then((()=>{Zu(d({id:"vD6zF/"}));const e=CP(y.getState());if("PostThread"===e.name){const t=e.params;if(c&&z&&(t.name===c.handle||t.name===c.did)){cS(I,"post",t.rkey)===$&&y.canGoBack()&&y.goBack()}}}),(e=>{ys.error("Failed to delete post",{message:e}),Zu(d({id:"ytX9qK"}),"xmark")}))},confirmButtonCta:d({id:"cnGeoo"}),confirmButtonColor:"negative"}),(0,Ft.jsx)(bx,{control:S,title:d(F?{id:"OzKITz"}:{id:"e0QoQq"}),description:d({id:"V+UxdB"}),onConfirm:()=>{g({uri:L})},confirmButtonCta:d({id:"vLyv1R"})}),(0,Ft.jsx)(jL,{control:v,subject:Object.assign({},e,{$type:"app.bsky.feed.defs#postView"})}),(0,Ft.jsx)(uB,{control:k,postUri:e.uri,rootPostUri:D,initialThreadgateView:e.threadgate}),(0,Ft.jsx)(bx,{control:C,title:d({id:"78rGCh"}),description:d({id:"M71yBf"}),onConfirm:J,confirmButtonCta:d({id:"/2cecn"})}),(0,Ft.jsx)(bx,{control:P,title:d({id:"OzKITz"}),description:d({id:"qOLU3K"}),onConfirm:se,confirmButtonCta:d({id:"4as9PU"})}),(0,Ft.jsx)(bx,{control:j,title:d({id:"9CjDMy"}),description:d({id:"HG4qt4"}),onConfirm:async()=>{try{await W(),Zu(d({id:"ZJdD7R"}))}catch(e){"AbortError"!==e?.name&&(ys.error("Failed to block account",{message:e}),Zu(d({id:"HTQWov",values:{0:e.toString()}}),"xmark"))}},confirmButtonCta:d({id:"CJkEfx"}),confirmButtonColor:"negative"})]})};IB=(0,mt.memo)(IB);let RB=e=>{const t=(0,i.c)(24),{testID:s,post:n,postFeedContext:o,postReqId:r,big:a,record:l,richText:c,timestamp:d,threadgateRecord:u,onShowLess:m}=e,{_:h}=(0,ft.useLingui)(),p=yC(),[f,g]=(0,mt.useState)(!1);let x,_;t[0]!==p?(_=Object.assign({},p,{open(){g(!0),setTimeout(p.open)}}),t[0]=p,t[1]=_):_=t[1],x=_;const y=x;let b,j,v,w,S;return t[2]!==h?(b=h({id:"BJ5/tY"}),t[2]=h,t[3]=b):b=t[3],t[4]!==a?(j=e=>{const{props:t}=e;return(0,Ft.jsx)(UM,Object.assign({testID:"postDropdownBtn",big:a,label:t.accessibilityLabel},t,{children:(0,Ft.jsx)(WM,{icon:lT})}))},t[4]=a,t[5]=j):j=t[5],t[6]!==b||t[7]!==j?(v=(0,Ft.jsx)(vC,{label:b,children:j}),t[6]=b,t[7]=j,t[8]=v):v=t[8],t[9]!==f||t[10]!==m||t[11]!==n||t[12]!==o||t[13]!==r||t[14]!==l||t[15]!==c||t[16]!==s||t[17]!==u||t[18]!==d?(w=f&&(0,Ft.jsx)(IB,{testID:s,post:n,postFeedContext:o,postReqId:r,record:l,richText:c,timestamp:d,threadgateRecord:u,onShowLess:m}),t[9]=f,t[10]=m,t[11]=n,t[12]=o,t[13]=r,t[14]=l,t[15]=c,t[16]=s,t[17]=u,t[18]=d,t[19]=w):w=t[19],t[20]!==y||t[21]!==v||t[22]!==w?(S=(0,Ft.jsx)(eT,{onKeyDown:!1,children:(0,Ft.jsxs)(bC,{control:y,children:[v,w]})}),t[20]=y,t[21]=v,t[22]=w,t[23]=S):S=t[23],S};RB=(0,mt.memo)(RB);zr({path:"M7.574 4.178a1 1 0 0 1 .43.822v5h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-8c0-2.585 1.162-4.335 2.316-5.417a8.163 8.163 0 0 1 1.569-1.15 7.029 7.029 0 0 1 .738-.36l.016-.005.005-.003h.003v-.001c.001 0 .002 0 .353.936l-.351-.936a1 1 0 0 1 .92.114Zm-1.57 2.588a5.99 5.99 0 0 0-.316.276C4.842 7.835 4.004 9.085 4.004 11v7h5v-6h-2a1 1 0 0 1-1-1V6.766Zm12.57-2.588a1 1 0 0 1 .43.822v5h2a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-7a1 1 0 0 1-1-1v-8c0-2.585 1.162-4.335 2.316-5.417a8.166 8.166 0 0 1 1.569-1.15 7.038 7.038 0 0 1 .738-.36l.016-.005.005-.003h.003v-.001c.001 0 .002 0 .353.936l-.351-.936a1 1 0 0 1 .92.114Zm-1.57 2.588c-.105.085-.21.177-.316.276-.846.793-1.684 2.043-1.684 3.958v7h5v-6h-2a1 1 0 0 1-1-1V6.766Z"}),zr({path:"M8.004 5a1 1 0 0 0-.43-.822c-.57-.395-1.176-.031-1.685.255-.428.24-.998.614-1.569 1.15C3.166 6.665 2.004 8.415 2.004 11v8a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-2V5ZM19.004 5a1 1 0 0 0-.43-.822c-.57-.395-1.176-.031-1.685.255-.428.24-.998.614-1.569 1.15-1.154 1.082-2.316 2.832-2.316 5.417v8a1 1 0 0 0 1 1h7a1 1 0 0 0 1-1v-8a1 1 0 0 0-1-1h-2V5Z"}),zr({path:"M2.004 5a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v8c0 2.585-1.162 4.335-2.316 5.417-.571.536-1.14.91-1.569 1.15a7.01 7.01 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001L6.004 19l.351.936A1 1 0 0 1 5.004 19v-5h-2a1 1 0 0 1-1-1V5Zm5 12.234c.104-.085.21-.177.316-.276.846-.793 1.684-2.043 1.684-3.958V6h-5v6h2a1 1 0 0 1 1 1v4.234Zm6-12.234a1 1 0 0 1 1-1h7a1 1 0 0 1 1 1v8c0 2.585-1.162 4.335-2.316 5.417-.571.536-1.14.91-1.569 1.15a7.018 7.018 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001-.352-.936.351.936A1 1 0 0 1 16.004 19v-5h-2a1 1 0 0 1-1-1V5Zm5 12.234V13a1 1 0 0 0-1-1h-2V6h5v7c0 1.915-.838 3.165-1.684 3.958-.106.1-.212.191-.316.276Z"});const DB=zr({path:"M2.003 5.999a2 2 0 0 1 2-1.999h5c1.104 0 2 .893 2 1.999V13c0 2.585-1.16 4.335-2.315 5.417-.571.536-1.14.91-1.569 1.15a7.01 7.01 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001L6.004 19l.351.936a1 1 0 0 1-1.351-.935L5 14H4a2 2 0 0 1-2-2.001l.002-6Zm5 11.236L7 12.999A1 1 0 0 0 6 12H4l.003-6h5v7c0 1.915-.837 3.165-1.683 3.958-.106.1-.213.192-.317.277Zm6-11.235a2 2 0 0 1 2-2h5c1.104 0 2 .893 2 1.999V13c0 2.585-1.16 4.335-2.315 5.417-.571.536-1.14.91-1.569 1.15a7.018 7.018 0 0 1-.738.36l-.016.006-.006.002h-.002l-.001.001-.352-.936.351.936A1 1 0 0 1 16.004 19v-5h-1a2 2 0 0 1-2-2V6Zm7 0h-5v6h2a1 1 0 0 1 1 1v4.234c.105-.085.211-.177.317-.276.846-.793 1.684-2.043 1.684-3.958V6Z"}),FB=(zr({path:"M3.004 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2v5a1 1 0 0 0 .43.822c.57.395 1.176.031 1.685-.255.428-.24.998-.614 1.569-1.15 1.154-1.082 2.316-2.832 2.316-5.417V5a1 1 0 0 0-1-1h-7ZM14.004 4a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h2v5a1 1 0 0 0 .43.822c.57.395 1.176.031 1.685-.255.428-.24.998-.614 1.569-1.15 1.154-1.082 2.316-2.832 2.316-5.417V5a1 1 0 0 0-1-1h-7Z"}),e=>{const t=(0,i.c)(12),{isReposted:s,repostCount:n,onRepost:o,onQuote:r,big:a,embeddingDisabled:l}=e,c=ec(),{_:d,i18n:u}=(0,ft.useLingui)(),{hasSession:m}=xh(),h=yh();let p;return t[0]!==d||t[1]!==a||t[2]!==l||t[3]!==m||t[4]!==u||t[5]!==s||t[6]!==r||t[7]!==o||t[8]!==n||t[9]!==h||t[10]!==c.palette.positive_600?(p=m?(0,Ft.jsx)(eT,{onKeyDown:!1,children:(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:d({id:"JOV5dR"}),children:e=>{const{props:t}=e;return(0,Ft.jsxs)(UM,Object.assign({testID:"repostBtn",active:s,activeColor:c.palette.positive_600,label:t.accessibilityLabel,big:a},t,{children:[(0,Ft.jsx)(WM,{icon:jT}),"undefined"!==typeof n&&n>0&&(0,Ft.jsx)(ZM,{testID:"repostCount",children:$S(u,n)})]}))}}),(0,Ft.jsxs)(wC,{style:{minWidth:170},children:[(0,Ft.jsxs)(SC,{label:d(s?{id:"6pYY4t"}:{id:"mkude1"}),testID:"repostDropdownRepostBtn",onPress:o,children:[(0,Ft.jsx)(kC,{children:d(s?{id:"6pYY4t"}:{id:"mkude1"})}),(0,Ft.jsx)(CC,{icon:jT,position:"right"})]}),(0,Ft.jsxs)(SC,{disabled:l,label:d(l?{id:"ttKDoG"}:{id:"8HFFRQ"}),testID:"repostDropdownQuoteBtn",onPress:r,children:[(0,Ft.jsx)(kC,{children:d(l?{id:"ttKDoG"}:{id:"8HFFRQ"})}),(0,Ft.jsx)(CC,{icon:DB,position:"right"})]})]})]})}):(0,Ft.jsxs)(UM,{onPress:()=>h(EB),active:s,activeColor:c.palette.positive_600,label:d({id:"JOV5dR"}),big:a,children:[(0,Ft.jsx)(WM,{icon:jT}),"undefined"!==typeof n&&n>0&&(0,Ft.jsx)(ZM,{testID:"repostCount",children:$S(u,n)})]}),t[0]=d,t[1]=a,t[2]=l,t[3]=m,t[4]=u,t[5]=s,t[6]=r,t[7]=o,t[8]=n,t[9]=h,t[10]=c.palette.positive_600,t[11]=p):p=t[11],p});function EB(){}const MB=zr({path:"M11.839 4.744c0-1.488 1.724-2.277 2.846-1.364l.107.094 7.66 7.256.128.134c.558.652.558 1.62 0 2.272l-.128.135-7.66 7.255c-1.115 1.057-2.953.267-2.953-1.27v-2.748c-3.503.055-5.417.41-6.592.97-.997.474-1.525 1.122-2.084 2.14l-.243.46c-.558 1.088-2.09.583-2.08-.515l.015-.748c.111-3.68.777-6.5 2.546-8.415 1.83-1.98 4.63-2.771 8.438-2.884V4.744Zm2 3.256c0 .79-.604 1.41-1.341 1.494l-.149.01c-3.9.057-6.147.813-7.48 2.254-.963 1.043-1.562 2.566-1.842 4.79.38-.327.826-.622 1.361-.877 1.656-.788 4.08-1.14 7.938-1.169l.153.007c.754.071 1.36.704 1.36 1.491v2.675L20.884 12l-7.045-6.676V8Z"}),BB=zr({path:"M14.242 3.03a1 1 0 0 1 .728 1.213l-4 16a1 1 0 1 1-1.94-.485l4-16a1 1 0 0 1 1.213-.728ZM6.707 7.293a1 1 0 0 1 0 1.414L3.414 12l3.293 3.293a1 1 0 1 1-1.414 1.414l-4-4a1 1 0 0 1 0-1.414l4-4a1 1 0 0 1 1.414 0Zm10.586 0a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1 0 1.414l-4 4a1 1 0 1 1-1.414-1.414L20.586 12l-3.293-3.293a1 1 0 0 1 0-1.414Z"}),OB=zr({path:"M14.243 3.03a1 1 0 0 1 .727 1.213l-4 16a1 1 0 1 1-1.94-.485l4-16a1 1 0 0 1 1.213-.728ZM6.707 7.293a1 1 0 0 1 0 1.414l-2.586 2.586a1 1 0 0 0 0 1.414l2.586 2.586a1 1 0 1 1-1.414 1.414l-2.586-2.586a3 3 0 0 1 0-4.242l2.586-2.586a1 1 0 0 1 1.414 0Zm10.586 0a1 1 0 0 1 1.414 0l2.586 2.586a3 3 0 0 1 0 4.242l-2.586 2.586a1 1 0 1 1-1.414-1.414l2.586-2.586a1 1 0 0 0 0-1.414l-2.586-2.586a1 1 0 0 1 0-1.414Z"}),zB=["control"];let HB=e=>{const t=(0,i.c)(9);let s,n,o,r,a;if(t[0]!==e){var l=e;({control:s}=l),n=(0,ls.default)(l,zB),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(ha,{}),t[3]=o):o=t[3],t[4]!==n?(r=(0,Ft.jsx)(NB,Object.assign({},n)),t[4]=n,t[5]=r):r=t[5],t[6]!==s||t[7]!==r?(a=(0,Ft.jsxs)(aa,{control:s,children:[o,r]}),t[6]=s,t[7]=r,t[8]=a):a=t[8],a};function NB(e){const t=(0,i.c)(70),{postAuthor:s,postCid:n,postUri:o,record:r,timestamp:a}=e,l=ec(),{_:c,i18n:d}=(0,ft.useLingui)(),[u,m]=(0,mt.useState)(!1),[h,p]=(0,mt.useState)(!1),[f,g]=(0,mt.useState)("system");let x,_,y;t[0]!==u?(x=()=>{if(u){const e=setTimeout((()=>{m(!1)}),2e3);return()=>clearTimeout(e)}},_=[u],t[0]=u,t[1]=x,t[2]=_):(x=t[1],_=t[2]),(0,mt.useEffect)(x,_);const b=function(e){return pu(e)+"?ref_src=embed"},j=r.langs&&r.langs.length>0?r.langs[0]:"",v=b(["/profile",s.did].join("/")),w=new Is.AtUri(o),S=b(["/profile",s.did,"post",w.rkey].join("/"));y=`<blockquote class="bluesky-embed" data-bluesky-uri="${UB(o)}" data-bluesky-cid="${UB(n)}" data-bluesky-embed-color-mode="${UB(f)}"><p lang="${UB(j)}">${UB(r.text)}${r.embed?`<br><br><a href="${UB(S)}">[image or embed]</a>`:""}</p>&mdash; ${UB(s.displayName||s.handle)} (<a href="${UB(v)}">@${UB(s.handle)}</a>) <a href="${UB(S)}">${UB(kd(d,a))}</a></blockquote><script async src="https://embed.bsky.app/static/embed.js" charset="utf-8"><\/script>`;const k=y;let C,P,T,L,A,I,R,D,F,E,M;t[3]!==c?(C=c({id:"jdVwsS"}),t[3]=c,t[4]=C):C=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(P=[{maxWidth:500}],t[5]=P):P=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.gap_lg],t[6]=T):T=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.gap_sm],t[7]=L):L=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"jdVwsS"})}),t[8]=A):A=t[8],t[9]!==l.atoms.text_contrast_medium?(I=[kl.text_md,l.atoms.text_contrast_medium,kl.leading_normal],t[9]=l.atoms.text_contrast_medium,t[10]=I):I=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(ft.Trans,{id:"ZhtGiY"}),t[11]=R):R=t[11],t[12]!==I?(D=(0,Ft.jsxs)(wo.default,{style:L,children:[A,(0,Ft.jsx)(fr,{style:I,children:R})]}),t[12]=I,t[13]=D):D=t[13],t[14]!==l.atoms.border_contrast_low?(F=[kl.border,l.atoms.border_contrast_low,kl.rounded_sm,kl.overflow_hidden],t[14]=l.atoms.border_contrast_low,t[15]=F):F=t[15],t[16]!==c||t[17]!==h?(E=c(h?{id:"pXvNd4"}:{id:"k1yn1C"}),t[16]=c,t[17]=h,t[18]=E):E=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(M=()=>p(VB),t[19]=M):M=t[19];const B=h&&l.atoms.bg_contrast_25;let O;t[20]!==B?(O=[kl.justify_start,B],t[20]=B,t[21]=O):O=t[21];const z=h?$T:QT;let H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe;return t[22]!==z?(H=(0,Ft.jsx)(Pr,{icon:z}),t[22]=z,t[23]=H):H=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Vw30se"})}),t[24]=N):N=t[24],t[25]!==E||t[26]!==O||t[27]!==H?(V=(0,Ft.jsxs)(Sr,{label:E,color:"secondary",variant:"ghost",size:"small",shape:"default",onPress:M,style:O,children:[H,N]}),t[25]=E,t[26]=O,t[27]=H,t[28]=V):V=t[28],t[29]!==c||t[30]!==f||t[31]!==h||t[32]!==l.atoms.text_contrast_medium?(q=h&&(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kl.p_md],children:[(0,Ft.jsx)(fr,{style:[l.atoms.text_contrast_medium,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"rFmBG3"})}),(0,Ft.jsxs)(fI,{label:c({id:"YDWhuY"}),values:[f],onChange:e=>{const[t]=e;return g(t)},children:[(0,Ft.jsx)(gI,{name:"system",label:c({id:"D+NlUC"}),children:(0,Ft.jsx)(_I,{children:(0,Ft.jsx)(ft.Trans,{id:"D+NlUC"})})}),(0,Ft.jsx)(gI,{name:"light",label:c({id:"1njn7W"}),children:(0,Ft.jsx)(_I,{children:(0,Ft.jsx)(ft.Trans,{id:"1njn7W"})})}),(0,Ft.jsx)(gI,{name:"dark",label:c({id:"pvnfJD"}),children:(0,Ft.jsx)(_I,{children:(0,Ft.jsx)(ft.Trans,{id:"pvnfJD"})})})]})]}),t[29]=c,t[30]=f,t[31]=h,t[32]=l.atoms.text_contrast_medium,t[33]=q):q=t[33],t[34]!==F||t[35]!==V||t[36]!==q?(U=(0,Ft.jsxs)(wo.default,{style:F,children:[V,q]}),t[34]=F,t[35]=V,t[36]=q,t[37]=U):U=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.flex_row,kl.gap_sm],t[38]=W):W=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.flex_1],t[39]=Z):Z=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,Ft.jsx)(sa,{icon:BB}),t[40]=Q):Q=t[40],t[41]!==c?(K=c({id:"Ah8XN6"}),t[41]=c,t[42]=K):K=t[42],t[43]!==k.length?($={start:0,end:k.length},t[43]=k.length,t[44]=$):$=t[44],t[45]!==k||t[46]!==K||t[47]!==$?(G=(0,Ft.jsx)(wo.default,{style:Z,children:(0,Ft.jsxs)(Yi,{children:[Q,(0,Ft.jsx)(ea,{label:K,editable:!1,selection:$,value:k})]})}),t[45]=k,t[46]=K,t[47]=$,t[48]=G):G=t[48],t[49]!==c?(Y=c({id:"NmPNJJ"}),t[49]=c,t[50]=Y):Y=t[50],t[51]!==k?(J=()=>{navigator.clipboard.writeText(k),m(!0)},t[51]=k,t[52]=J):J=t[52],t[53]!==u?(X=u?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Pr,{icon:Wj}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"PiH3UR"})})]}):(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"NmPNJJ"})}),t[53]=u,t[54]=X):X=t[54],t[55]!==Y||t[56]!==J||t[57]!==X?(ee=(0,Ft.jsx)(Sr,{label:Y,color:"primary",variant:"solid",size:"large",onPress:J,children:X}),t[55]=Y,t[56]=J,t[57]=X,t[58]=ee):ee=t[58],t[59]!==G||t[60]!==ee?(te=(0,Ft.jsxs)(wo.default,{style:W,children:[G,ee]}),t[59]=G,t[60]=ee,t[61]=te):te=t[61],t[62]!==D||t[63]!==U||t[64]!==te?(se=(0,Ft.jsxs)(wo.default,{style:T,children:[D,U,te]}),t[62]=D,t[63]=U,t[64]=te,t[65]=se):se=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,Ft.jsx)(ma,{}),t[66]=ne):ne=t[66],t[67]!==se||t[68]!==C?(oe=(0,Ft.jsxs)(la,{label:C,style:P,children:[se,ne]}),t[67]=se,t[68]=C,t[69]=oe):oe=t[69],oe}function VB(e){return!e}HB=(0,mt.memo)(HB);const qB=/["'&<>]/;function UB(e){const t=String(e),s=qB.exec(t);if(!s)return t;let n,o,r="",i=0;for(o=s.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}i!==o&&(r+=t.slice(i,o)),i=o+1,r+=n}return i!==o?r+t.slice(i,o):r}const WB={userDid:void 0,prefs:Rh.moderationPrefs},ZB=e=>["actor-autocomplete",e];function QB(e,t,s){const n=Op(),o=bh();return(e=e.toLowerCase().trim()).endsWith(".")&&(e=e.slice(0,-1)),(0,vd.useQuery)({staleTime:Ld.MINUTES.ONE,queryKey:ZB(e||""),async queryFn(){const t=e?await o.searchActorsTypeahead({q:e,limit:s||8}):void 0;return t?.data.actors||[]},select:mt.useCallback((t=>KB({q:e,searched:t,moderationOpts:n||WB})),[e,n]),placeholderData:t?sg.keepPreviousData:void 0})}function KB({q:e,searched:t=[],moderationOpts:s}){let n=[];for(const o of t)n.find((e=>e.handle===o.handle))||n.push(o);return n.filter((t=>{const n=(0,Is.moderateProfile)(t,s).ui("profileList");return e&&t.handle.toLowerCase()===e&&!function(e){const t=e.filters.at(0);return!(!t||"label"!==t.type)&&Jf(t.label)}(n)||!n.filter||Yf(n)}))}function $B({title:e,showRecentConvos:t,sortByMessageDeclaration:s,onSelectChat:n,renderProfileCard:o}){const r=ec(),{_:i}=(0,ft.useLingui)(),a=Op(),l=Lr(),[c,d]=(0,mt.useState)(0),u=(0,mt.useRef)(null),{currentAccount:m}=xh(),h=(0,mt.useRef)(null),[p,f]=(0,mt.useState)(""),{data:g,isError:x,isFetching:_}=QB(p,!0,12),{data:y}=by(m?.did),{data:b}=Gp({enabled:t,status:"accepted"}),j=(0,mt.useMemo)((()=>{let e=[];if(x)e.push({type:"empty",key:"empty",message:i({id:"zltW1E"})});else if(p.length){if(g?.length){for(const t of g)t.did!==m?.did&&e.push({type:"profile",key:t.did,profile:t});s&&(e=e.sort((e=>"profile"===e.type&&VL(e.profile)?-1:1)))}}else{const n=Array(10).fill(0).map(((e,t)=>({type:"placeholder",key:t+""})));if(t)if(b&&y){const t=new Set;for(const s of b.pages)for(const n of s.convos){const s=n.members.filter((e=>e.did!==m?.did));for(const n of s)t.has(n.did)||(t.add(n.did),e.push({type:"profile",key:n.did,profile:n}))}let n=[];for(const e of y.pages)for(const s of e.follows)t.has(s.did)||n.push({type:"profile",key:s.did,profile:s});s&&(n=n.sort((e=>VL(e.profile)?-1:1))),e.push(...n)}else e.push(...n);else if(y){for(const t of y.pages)for(const s of t.follows)e.push({type:"profile",key:s.did,profile:s});s&&(e=e.sort((e=>"profile"===e.type&&VL(e.profile)?-1:1)))}else e.push(...n)}return e}),[i,p,g,x,m?.did,y,b,t,s]);!p||_||j.length||x||j.push({type:"empty",key:"empty",message:i({id:"Ev2r9A"})});const v=(0,mt.useCallback)((({item:e})=>{switch(e.type){case"profile":return o?(0,Ft.jsx)(mt.Fragment,{children:o(e)},e.key):(0,Ft.jsx)(GB,{profile:e.profile,moderationOpts:a,onPress:n},e.key);case"placeholder":return(0,Ft.jsx)(YB,{},e.key);case"empty":return(0,Ft.jsx)(JB,{message:e.message},e.key);default:return null}}),[a,n,o]);(0,mt.useLayoutEffect)((()=>{Pt&&setImmediate((()=>{h?.current?.focus()}))}),[]);const w=(0,mt.useMemo)((()=>(0,Ft.jsxs)(wo.default,{onLayout:e=>d(e.nativeEvent.layout.height),style:[kl.relative,_o(kl.pt_lg),jo(kl.pt_4xl),bo({borderTopLeftRadius:kl.rounded_md.borderRadius,borderTopRightRadius:kl.rounded_md.borderRadius}),kl.pb_xs,kl.px_lg,kl.border_b,r.atoms.border_contrast_low,r.atoms.bg],children:[(0,Ft.jsxs)(wo.default,{style:[kl.relative,jo(kl.align_center),kl.justify_center],children:[(0,Ft.jsx)(fr,{style:[kl.z_10,kl.text_lg,kl.font_heavy,kl.leading_tight,r.atoms.text_contrast_high],children:e}),Pt?(0,Ft.jsx)(Sr,{label:i({id:"yz7wBu"}),size:"small",shape:"round",variant:Pt?"ghost":"solid",color:"secondary",style:[kl.absolute,kl.z_20,_o({right:-4}),jo({right:0}),jo({height:32,width:32,borderRadius:16})],onPress:()=>l.close(),children:(0,Ft.jsx)(Pr,{icon:Hr,size:"md"})}):null]}),(0,Ft.jsx)(wo.default,{style:_o([kl.pt_xs]),children:(0,Ft.jsx)(XB,{inputRef:h,value:p,onChangeText:e=>{f(e),u.current?.scrollToOffset({offset:0,animated:!1})},onEscape:l.close})})]})),[r.atoms.border_contrast_low,r.atoms.bg,r.atoms.text_contrast_high,i,e,p,l]);return(0,Ft.jsx)(ua,{ref:u,data:j,renderItem:v,ListHeaderComponent:w,stickyHeaderIndices:[0],keyExtractor:e=>e.key,style:[_o([kl.py_0,{height:"100vh",maxHeight:600},kl.px_0]),jo({height:"100%"})],webInnerContentContainerStyle:kl.py_0,webInnerStyle:[kl.py_0,{maxWidth:500,minWidth:200}],scrollIndicatorInsets:{top:c},keyboardDismissMode:"on-drag"})}function GB(e){const t=(0,i.c)(32),{profile:s,moderationOpts:n,onPress:o}=e,r=ec(),{_:a}=(0,ft.useLingui)();let l;t[0]!==s?(l=VL(s),t[0]=s,t[1]=l):l=t[1];const c=l;let d,u,m,h,p,f,g;if(t[2]!==a||t[3]!==c||t[4]!==n||t[5]!==o||t[6]!==s){const e=(0,Is.moderateProfile)(s,n);let r,i;t[12]!==s.handle?(r=su(s.handle,"@"),t[12]=s.handle,t[13]=r):r=t[13],u=r,t[14]!==s.displayName||t[15]!==s.handle?(i=s.displayName||su(s.handle),t[14]=s.displayName,t[15]=s.handle,t[16]=i):i=t[16];const l=Qf(i,e.ui("displayName"));let f;t[17]!==o||t[18]!==s.did?(f=()=>{o(s.did)},t[17]=o,t[18]=s.did,t[19]=f):f=t[19],m=f,d=Sr,h=!c,p=a({id:"C+NEPM",values:{displayName:l}}),t[2]=a,t[3]=c,t[4]=n,t[5]=o,t[6]=s,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p}else d=t[7],u=t[8],m=t[9],h=t[10],p=t[11];return t[20]!==c||t[21]!==u||t[22]!==n||t[23]!==s||t[24]!==r?(f=e=>{const{hovered:t,pressed:o,focused:i}=e;return(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.py_sm,kl.px_lg,c?o||i||t?r.atoms.bg_contrast_25:r.atoms.bg:{opacity:.5}],children:(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:n}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(UC,{profile:s,moderationOpts:n}),c?(0,Ft.jsx)(WC,{profile:s}):(0,Ft.jsx)(fr,{style:[kl.leading_snug,r.atoms.text_contrast_high],numberOfLines:2,children:(0,Ft.jsx)(ft.Trans,{id:"ZBas5k",values:{handle:u}})})]})]})})},t[20]=c,t[21]=u,t[22]=n,t[23]=s,t[24]=r,t[25]=f):f=t[25],t[26]!==d||t[27]!==m||t[28]!==h||t[29]!==p||t[30]!==f?(g=(0,Ft.jsx)(d,{disabled:h,label:p,onPress:m,children:f}),t[26]=d,t[27]=m,t[28]=h,t[29]=p,t[30]=f,t[31]=g):g=t[31],g}function YB(){const e=(0,i.c)(17),t=ec();let s,n,o,r,a,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_1,kl.py_md,kl.px_lg,kl.gap_md,kl.align_center,kl.flex_row],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={width:42,height:42},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25?(o=(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,n,t.atoms.bg_contrast_25]}),e[2]=t.atoms.bg_contrast_25,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_1,kl.gap_sm],e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a={width:80,height:14},e[5]=a):a=e[5],e[6]!==t.atoms.bg_contrast_25?(l=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,a,t.atoms.bg_contrast_25]}),e[6]=t.atoms.bg_contrast_25,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c={width:120,height:10},e[8]=c):c=e[8],e[9]!==t.atoms.bg_contrast_25?(d=(0,Ft.jsx)(wo.default,{style:[kl.rounded_xs,c,t.atoms.bg_contrast_25]}),e[9]=t.atoms.bg_contrast_25,e[10]=d):d=e[10],e[11]!==l||e[12]!==d?(u=(0,Ft.jsxs)(wo.default,{style:r,children:[l,d]}),e[11]=l,e[12]=d,e[13]=u):u=e[13],e[14]!==o||e[15]!==u?(m=(0,Ft.jsxs)(wo.default,{style:s,children:[o,u]}),e[14]=o,e[15]=u,e[16]=m):m=e[16],m}function JB(e){const t=(0,i.c)(11),{message:s}=e,n=ec();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.p_lg,kl.py_xl,kl.align_center,kl.gap_md],t[0]=o):o=t[0],t[1]!==n.atoms.text_contrast_high?(r=[kl.text_sm,kl.italic,n.atoms.text_contrast_high],t[1]=n.atoms.text_contrast_high,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{style:r,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],t[6]!==n.atoms.text_contrast_low?(l=(0,Ft.jsx)(fr,{style:[kl.text_xs,n.atoms.text_contrast_low],children:"(\u256f\xb0\u25a1\xb0)\u256f\ufe35 \u253b\u2501\u253b"}),t[6]=n.atoms.text_contrast_low,t[7]=l):l=t[7],t[8]!==a||t[9]!==l?(c=(0,Ft.jsxs)(wo.default,{style:o,children:[a,l]}),t[8]=a,t[9]=l,t[10]=c):c=t[10],c}function XB(e){const t=(0,i.c)(33),{value:s,onChangeText:n,onEscape:o,inputRef:r}=e,a=ec(),{_:l}=(0,ft.useLingui)(),{state:c,onIn:d,onOut:u}=Ki(),{state:m,onIn:h,onOut:p}=Ki(),f=c||m;let g,x;t[0]!==d||t[1]!==u?(g=_o({onMouseEnter:d,onMouseLeave:u}),t[0]=d,t[1]=u,t[2]=g):g=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_row,kl.align_center,kl.gap_sm],t[3]=x):x=t[3];const _=f?a.palette.primary_500:a.palette.contrast_300;let y,b,j;t[4]!==_?(y=(0,Ft.jsx)(nC,{size:"md",fill:_}),t[4]=_,t[5]=y):y=t[5],t[6]!==l?(b=l({id:"A1taO8"}),t[6]=l,t[7]=b):b=t[7],t[8]!==a.atoms.text?(j=[kl.flex_1,kl.py_md,kl.text_md,a.atoms.text],t[8]=a.atoms.text,t[9]=j):j=t[9];const v=a.palette.contrast_500,w="light"===a.name?"light":"dark";let S,k,C,P,T;return t[10]!==o?(S=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&o()},t[10]=o,t[11]=S):S=t[11],t[12]!==l?(k=l({id:"/r0Dm5"}),t[12]=l,t[13]=k):k=t[13],t[14]!==l?(C=l({id:"XRcrP9"}),t[14]=l,t[15]=C):C=t[15],t[16]!==r||t[17]!==p||t[18]!==n||t[19]!==h||t[20]!==a.palette.contrast_500||t[21]!==k||t[22]!==C||t[23]!==b||t[24]!==j||t[25]!==w||t[26]!==S||t[27]!==s?(P=(0,Ft.jsx)(Kr.default,{ref:r,placeholder:b,value:s,onChangeText:n,onFocus:h,onBlur:p,style:j,placeholderTextColor:v,keyboardAppearance:w,returnKeyType:"search",clearButtonMode:"while-editing",maxLength:50,onKeyPress:S,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",autoFocus:!0,accessibilityLabel:k,accessibilityHint:C}),t[16]=r,t[17]=p,t[18]=n,t[19]=h,t[20]=a.palette.contrast_500,t[21]=k,t[22]=C,t[23]=b,t[24]=j,t[25]=w,t[26]=S,t[27]=s,t[28]=P):P=t[28],t[29]!==g||t[30]!==P||t[31]!==y?(T=(0,Ft.jsxs)(wo.default,Object.assign({},g,{style:x,children:[y,P]})),t[29]=g,t[30]=P,t[31]=y,t[32]=T):T=t[32],T}function eO(e){const t=(0,i.c)(7),{control:s,onSelectChat:n}=e;let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(ha,{}),t[0]=o):o=t[0],t[1]!==s||t[2]!==n?(r=(0,Ft.jsx)(tO,{control:s,onSelectChat:n}),t[1]=s,t[2]=n,t[3]=r):r=t[3],t[4]!==s||t[5]!==r?(a=(0,Ft.jsxs)(aa,{control:s,testID:"sendViaChatChatDialog",children:[o,r]}),t[4]=s,t[5]=r,t[6]=a):a=t[6],a}function tO(e){const t=(0,i.c)(15),{control:s,onSelectChat:n}=e,{_:o}=(0,ft.useLingui)();let r,a,l;t[0]!==n?(r=e=>{n(e.convo.id),e.convo.lastMessage||En("chat:create",{logContext:"SendViaChatDialog"}),En("chat:open",{logContext:"SendViaChatDialog"})},t[0]=n,t[1]=r):r=t[1],t[2]!==o?(a=e=>{ys.error("Failed to share post to chat",{message:e}),Zu(o({id:"axIdRm"}),"xmark")},t[2]=o,t[3]=a):a=t[3],t[4]!==r||t[5]!==a?(l={onSuccess:r,onError:a},t[4]=r,t[5]=a,t[6]=l):l=t[6];const{mutate:c}=NL(l);let d;t[7]!==s||t[8]!==c?(d=e=>{s.close((()=>c([e])))},t[7]=s,t[8]=c,t[9]=d):d=t[9];const u=d;let m,h;return t[10]!==o?(m=o({id:"PjQ1J0"}),t[10]=o,t[11]=m):m=t[11],t[12]!==u||t[13]!==m?(h=(0,Ft.jsx)($B,{title:m,onSelectChat:u,showRecentConvos:!0,sortByMessageDeclaration:!0}),t[12]=u,t[13]=m,t[14]=h):h=t[14],h}let sO=e=>{const t=(0,i.c)(72),{post:s,record:n,timestamp:o,onShare:r}=e,{hasSession:a,currentAccount:l}=xh(),{gtMobile:c}=ql(),{_:d}=(0,ft.useLingui)(),u=(0,va.useNavigation)(),m=Ar(),h=Ar(),p=Ar(),[f]=FL(),g=s.uri,x=s.cid,_=Ry(s.author);let y,b;if(t[0]!==_||t[1]!==g){const e=new Is.AtUri(g);b=cS(_,"post",e.rkey),t[0]=_,t[1]=g,t[2]=b}else b=t[2];y=b;const j=y;let v;v=!!_.labels?.find(nO);const w=v,S=_.did!==l?.did&&w;let k;t[3]!==j||t[4]!==r?(k=()=>{ys.metric("share:press:copyLink",{},{statsig:!0});iv(pu(j)),r()},t[3]=j,t[4]=r,t[5]=k):k=t[5];const C=k;let P;t[6]!==u||t[7]!==g?(P=e=>{ys.metric("share:press:dmSelected",{},{statsig:!0}),u.navigate("MessagesConversation",{conversation:e,embed:g})},t[6]=u,t[7]=g,t[8]=P):P=t[8];const T=P,L=Pt&&c&&!w;let A;t[9]!==g?(A=()=>{av(g)},t[9]=g,t[10]=A):A=t[10];const I=A;let R;t[11]!==_.did?(R=()=>{av(_.did)},t[11]=_.did,t[12]=R):R=t[12];const D=R;let F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G;return t[13]!==d?(F=d({id:"dWsPi5"}),t[13]=d,t[14]=F):F=t[14],t[15]!==m||t[16]!==C||t[17]!==S?(E=()=>{S?m.open():C()},t[15]=m,t[16]=C,t[17]=S,t[18]=E):E=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"dWsPi5"})}),B=(0,Ft.jsx)(CC,{icon:oT,position:"right"}),t[19]=M,t[20]=B):(M=t[19],B=t[20]),t[21]!==F||t[22]!==E?(O=(0,Ft.jsxs)(SC,{testID:"postDropdownShareBtn",label:F,onPress:E,children:[M,B]}),t[21]=F,t[22]=E,t[23]=O):O=t[23],t[24]!==d||t[25]!==a||t[26]!==p?(z=a&&(0,Ft.jsxs)(SC,{testID:"postDropdownSendViaDMBtn",label:d({id:"VEt6rJ"}),onPress:()=>{ys.metric("share:press:openDmSearch",{},{statsig:!0}),p.open()},children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"VEt6rJ"})}),(0,Ft.jsx)(CC,{icon:gL,position:"right"})]}),t[24]=d,t[25]=a,t[26]=p,t[27]=z):z=t[27],t[28]!==d||t[29]!==L||t[30]!==h?(H=L&&(0,Ft.jsxs)(SC,{testID:"postDropdownEmbedBtn",label:d({id:"jdVwsS"}),onPress:()=>{ys.metric("share:press:embed",{},{statsig:!0}),h.open()},children:[(0,Ft.jsx)(kC,{children:d({id:"jdVwsS"})}),(0,Ft.jsx)(CC,{icon:BB,position:"right"})]}),t[28]=d,t[29]=L,t[30]=h,t[31]=H):H=t[31],t[32]!==O||t[33]!==z||t[34]!==H?(N=(0,Ft.jsxs)(LC,{children:[O,z,H]}),t[32]=O,t[33]=z,t[34]=H,t[35]=N):N=t[35],t[36]!==d||t[37]!==f||t[38]!==I||t[39]!==D?(V=f&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{testID:"postAtUriShareBtn",label:d({id:"MH/15R"}),onPress:I,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"MH/15R"})}),(0,Ft.jsx)(CC,{icon:aT,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"postAuthorDIDShareBtn",label:d({id:"tNf3ij"}),onPress:D,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"tNf3ij"})}),(0,Ft.jsx)(CC,{icon:aT,position:"right"})]})]})]}),t[36]=d,t[37]=f,t[38]=I,t[39]=D,t[40]=V):V=t[40],t[41]!==N||t[42]!==V?(q=(0,Ft.jsxs)(wC,{children:[N,V]}),t[41]=N,t[42]=V,t[43]=q):q=t[43],t[44]!==d?(U=d({id:"wILD8d"}),t[44]=d,t[45]=U):U=t[45],t[46]!==d?(W=d({id:"Ztw87L"}),t[46]=d,t[47]=W):W=t[47],t[48]!==d?(Z=d({id:"AnSqOp"}),t[48]=d,t[49]=Z):Z=t[49],t[50]!==m||t[51]!==C||t[52]!==U||t[53]!==W||t[54]!==Z?(Q=(0,Ft.jsx)(bx,{control:m,title:U,description:W,onConfirm:C,confirmButtonCta:Z}),t[50]=m,t[51]=C,t[52]=U,t[53]=W,t[54]=Z,t[55]=Q):Q=t[55],t[56]!==L||t[57]!==h||t[58]!==_||t[59]!==x||t[60]!==g||t[61]!==n||t[62]!==o?(K=L&&(0,Ft.jsx)(HB,{control:h,postCid:x,postUri:g,record:n,postAuthor:_,timestamp:o}),t[56]=L,t[57]=h,t[58]=_,t[59]=x,t[60]=g,t[61]=n,t[62]=o,t[63]=K):K=t[63],t[64]!==T||t[65]!==p?($=(0,Ft.jsx)(eO,{control:p,onSelectChat:T}),t[64]=T,t[65]=p,t[66]=$):$=t[66],t[67]!==q||t[68]!==Q||t[69]!==K||t[70]!==$?(G=(0,Ft.jsxs)(Ft.Fragment,{children:[q,Q,K,$]}),t[67]=q,t[68]=Q,t[69]=K,t[70]=$,t[71]=G):G=t[71],G};function nO(e){return"!no-unauthenticated"===e.val}sO=(0,mt.memo)(sO);let oO=e=>{const t=(0,i.c)(28),{testID:s,post:n,big:o,record:r,richText:a,timestamp:l,threadgateRecord:c,onShare:d}=e,{_:u}=(0,ft.useLingui)(),m=On()("alt_share_icon")?MB:nT,h=yC(),[p,f]=(0,mt.useState)(!1);let g,x;t[0]!==o||t[1]!==h?(x=Object.assign({},h,{open(){f(!0),setTimeout(h.open),ys.metric("share:open",{context:o?"thread":"feed"},{statsig:!0})}}),t[0]=o,t[1]=h,t[2]=x):x=t[2],g=x;const _=g;let y;t[3]!==d||t[4]!==n?(y=()=>{ys.metric("share:press:nativeShare",{},{statsig:!0});const e=new Is.AtUri(n.uri);iv(pu(cS(n.author,"post",e.rkey))),d()},t[3]=d,t[4]=n,t[5]=y):y=t[5];const b=y;let j,v,w,S,k;return t[6]!==u?(j=u({id:"KR08Bx"}),t[6]=u,t[7]=j):j=t[7],t[8]!==m||t[9]!==o||t[10]!==b?(v=e=>{const{props:t}=e;return(0,Ft.jsx)(UM,Object.assign({testID:"postShareBtn",big:o,label:t.accessibilityLabel},t,{onLongPress:jo(b),children:(0,Ft.jsx)(WM,{icon:m})}))},t[8]=m,t[9]=o,t[10]=b,t[11]=v):v=t[11],t[12]!==j||t[13]!==v?(w=(0,Ft.jsx)(vC,{label:j,children:v}),t[12]=j,t[13]=v,t[14]=w):w=t[14],t[15]!==p||t[16]!==d||t[17]!==n||t[18]!==r||t[19]!==a||t[20]!==s||t[21]!==c||t[22]!==l?(S=p&&(0,Ft.jsx)(sO,{testID:s,post:n,record:r,richText:a,timestamp:l,threadgateRecord:c,onShare:d}),t[15]=p,t[16]=d,t[17]=n,t[18]=r,t[19]=a,t[20]=s,t[21]=c,t[22]=l,t[23]=S):S=t[23],t[24]!==_||t[25]!==w||t[26]!==S?(k=(0,Ft.jsx)(eT,{onKeyDown:!1,children:(0,Ft.jsxs)(bC,{control:_,children:[w,S]})}),t[24]=_,t[25]=w,t[26]=S,t[27]=k):k=t[27],k};oO=(0,mt.memo)(oO);let rO=({big:e,post:t,record:s,richText:n,feedContext:o,reqId:r,style:i,onPressReply:a,onPostReply:l,logContext:c,threadgateRecord:d,onShowLess:u,viaRepost:m})=>{const{_:h,i18n:p}=(0,ft.useLingui)(),{gtMobile:f}=ql(),{openComposer:g}=tw(),[x,_]=OM(t,m,c),[y,b]=zM(t,m,c),j=yh(),{sendInteraction:v}=FM(),{captureAction:w}=ob(),S=lS(),k=Boolean(t.author.viewer?.blocking||t.author.viewer?.blockedBy||t.author.viewer?.blockingByList),C=t.viewer?.replyDisabled,[P,T]=(0,mt.useState)(!1);return(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_between,kl.align_center,i],children:[(0,Ft.jsx)(wo.default,{style:[e?kl.align_center:[kl.flex_1,kl.align_start,{marginLeft:-6}],C?{opacity:.5}:void 0],children:(0,Ft.jsxs)(UM,{testID:"replyBtn",onPress:C?void 0:()=>j((()=>a())),label:h({values:{0:t.replyCount||0},id:"0DZJ7T"}),big:e,children:[(0,Ft.jsx)(WM,{icon:xT}),"undefined"!==typeof t.replyCount&&t.replyCount>0&&(0,Ft.jsx)(ZM,{children:$S(p,t.replyCount)})]})}),(0,Ft.jsx)(wo.default,{style:e?kl.align_center:[kl.flex_1,kl.align_start],children:(0,Ft.jsx)(FB,{isReposted:!!t.viewer?.repost,repostCount:(t.repostCount??0)+(t.quoteCount??0),onRepost:async()=>{if(k)Zu(h({id:"v1v7Ny"}),"exclamation-circle");else try{t.viewer?.repost?await b():(v({item:t.uri,event:"app.bsky.feed.defs#interactionRepost",feedContext:o,reqId:r}),await y())}catch(e){if("AbortError"!==e?.name)throw e}},onQuote:()=>{k?Zu(h({id:"v1v7Ny"}),"exclamation-circle"):(v({item:t.uri,event:"app.bsky.feed.defs#interactionQuote",feedContext:o,reqId:r}),g({quote:t,onPost:l}))},big:e,embeddingDisabled:Boolean(t.viewer?.embeddingDisabled)})}),(0,Ft.jsx)(wo.default,{style:e?kl.align_center:[kl.flex_1,kl.align_start],children:(0,Ft.jsxs)(UM,{testID:"likeBtn",big:e,onPress:()=>j((()=>(async()=>{if(k)Zu(h({id:"v1v7Ny"}),"exclamation-circle");else try{T(!0),t.viewer?.like?await _():(S("Light"),v({item:t.uri,event:"app.bsky.feed.defs#interactionLike",feedContext:o,reqId:r}),w(eb.Like),await x())}catch(e){if("AbortError"!==e?.name)throw e}})())),label:t.viewer?.like?h({values:{0:t.likeCount||0},id:"2I4g1V"}):h({values:{0:t.likeCount||0},id:"lFPEpP"}),children:[(0,Ft.jsx)(jF,{isLiked:Boolean(t.viewer?.like),big:e,hasBeenToggled:P}),(0,Ft.jsx)(gF,{likeCount:t.likeCount??0,big:e,isLiked:Boolean(t.viewer?.like),hasBeenToggled:P})]})}),(0,Ft.jsx)(wo.default,{style:e?kl.align_center:[kl.flex_1,kl.align_start],children:(0,Ft.jsx)(wo.default,{style:[!e&&kl.ml_sm],children:(0,Ft.jsx)(oO,{testID:"postShareBtn",post:t,big:e,record:s,richText:n,timestamp:t.indexedAt,threadgateRecord:d,onShare:()=>{v({item:t.uri,event:"app.bsky.feed.defs#interactionShare",feedContext:o,reqId:r})}})})}),(0,Ft.jsx)(wo.default,{style:e?kl.align_center:[f&&kl.flex_1,kl.align_start],children:(0,Ft.jsx)(RB,{testID:"postDropdownBtn",post:t,postFeedContext:o,postReqId:r,big:e,record:s,richText:n,timestamp:t.indexedAt,threadgateRecord:d,onShowLess:u})})]})};function iO(e){const t=(0,i.c)(13),{post:s,showReplyLine:n,hideTopBorder:o,style:r}=e,a=Op();let l;l=Rf(s.record,Is.AppBskyFeedPost.validateRecord)?s.record:void 0;const c=l,d=eR(s);let u,m;t[0]!==c?(m=c?new Is.RichText({text:c.text,facets:c.facets}):void 0,t[0]=c,t[1]=m):m=t[1],u=m;const h=u;let p,f;t[2]!==a||t[3]!==s?(f=a?(0,Is.moderatePost)(s,a):void 0,t[2]=a,t[3]=s,t[4]=f):f=t[4],p=f;const g=p;if(d===YI)return null;if(c&&h&&g){let e;return t[5]!==o||t[6]!==g||t[7]!==d||t[8]!==c||t[9]!==h||t[10]!==n||t[11]!==r?(e=(0,Ft.jsx)(aO,{post:d,record:c,richText:h,moderation:g,showReplyLine:n,hideTopBorder:o,style:r}),t[5]=o,t[6]=g,t[7]=d,t[8]=c,t[9]=h,t[10]=n,t[11]=r,t[12]=e):e=t[12],e}return null}function aO(e){const t=(0,i.c)(93),{post:s,record:n,richText:o,moderation:r,showReplyLine:a,hideTopBorder:l,style:c}=e,d=(0,wd.useQueryClient)(),u=mx("default"),{_:m}=(0,ft.useLingui)(),{openComposer:h}=tw();let p;t[0]!==o.text?(p=()=>Dw(o?.text)>=Ti,t[0]=o.text,t[1]=p):p=t[1];const[f,g]=(0,mt.useState)(p);let x;if(t[2]!==s.author||t[3]!==s.uri){const e=new Is.AtUri(s.uri);x=cS(s.author,"post",e.rkey),t[2]=s.author,t[3]=s.uri,t[4]=x}else x=t[4];const _=x;let y,b="";if(n.reply){const e=n.reply.parent?.uri||n.reply.root.uri;let s;t[5]!==e?(s=new Is.AtUri(e),t[5]=e,t[6]=s):s=t[6];b=s.hostname}t[7]!==r||t[8]!==h||t[9]!==s.author||t[10]!==s.cid||t[11]!==s.embed||t[12]!==s.uri||t[13]!==n.text?(y=()=>{h({replyTo:{uri:s.uri,cid:s.cid,text:n.text,author:s.author,embed:s.embed,moderation:r}})},t[7]=r,t[8]=h,t[9]=s.author,t[10]=s.cid,t[11]=s.embed,t[12]=s.uri,t[13]=n.text,t[14]=y):y=t[14];const j=y;let v;t[15]===Symbol.for("react.memo_cache_sentinel")?(v=()=>{g(!1)},t[15]=v):v=t[15];const w=v;let S;t[16]!==s.author||t[17]!==d?(S=()=>{ib(d,s.author)},t[16]=s.author,t[17]=d,t[18]=S):S=t[18];const k=S,{currentAccount:C}=xh(),P=b===C?.did,[T,L]=mt.useState(!1);let A,I,R,D,F,E;t[19]!==l?(A=!l&&{borderTopWidth:Gn.default.hairlineWidth},t[19]=l,t[20]=A):A=t[20],t[21]!==u.border||t[22]!==c||t[23]!==A?(I=[lO.outer,u.border,A,c],t[21]=u.border,t[22]=c,t[23]=A,t[24]=I):I=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(R=()=>{L(!0)},D=()=>{L(!1)},t[25]=R,t[26]=D):(R=t[25],D=t[26]),t[27]!==T?(F=(0,Ft.jsx)(cD,{hover:T}),t[27]=T,t[28]=F):F=t[28],t[29]!==a?(E=a&&(0,Ft.jsx)(wo.default,{style:lO.replyLine}),t[29]=a,t[30]=E):E=t[30];const M=s.author;let B;t[31]!==r?(B=r.ui("avatar"),t[31]=r,t[32]=B):B=t[32];const O=s.author.associated?.labeler?"labeler":"user";let z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee;return t[33]!==s.author||t[34]!==B||t[35]!==O?(z=(0,Ft.jsx)(wo.default,{style:lO.layoutAvi,children:(0,Ft.jsx)(pP,{size:42,profile:M,moderation:B,type:O})}),t[33]=s.author,t[34]=B,t[35]=O,t[36]=z):z=t[36],t[37]!==_||t[38]!==r||t[39]!==s.author||t[40]!==s.indexedAt?(H=(0,Ft.jsx)(hD,{author:s.author,moderation:r,timestamp:s.indexedAt,postHref:_}),t[37]=_,t[38]=r,t[39]=s.author,t[40]=s.indexedAt,t[41]=H):H=t[41],t[42]!==P||t[43]!==u.textLight||t[44]!==b?(N=""!==b&&(0,Ft.jsxs)(wo.default,{style:[oc.flexRow,oc.mb2,oc.alignCenter],children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"reply",size:9,style:[u.textLight,oc.mr5]}),(0,Ft.jsx)(Tx,{type:"sm",style:[u.textLight,oc.mr2],lineHeight:1.2,numberOfLines:1,children:P?(0,Ft.jsx)(ft.Trans,{id:"d0/J77"}):(0,Ft.jsx)(ft.Trans,{id:"ZJAl5o",components:{0:(0,Ft.jsx)($k,{inline:!0,did:b}),1:(0,Ft.jsx)(cF,{type:"sm",did:b,attr:"displayName",style:[u.textLight]})}})})]}),t[42]=P,t[43]=u.textLight,t[44]=b,t[45]=N):N=t[45],t[46]!==s?(V=(0,Ft.jsx)(kA,{post:s}),t[46]=s,t[47]=V):V=t[47],t[48]!==r?(q=r.ui("contentView"),t[48]=r,t[49]=q):q=t[49],t[50]!==r?(U=r.ui("contentView"),t[50]=r,t[51]=U):U=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.py_xs],t[52]=W):W=t[52],t[53]!==U?(Z=(0,Ft.jsx)(uD,{modui:U,style:W}),t[53]=U,t[54]=Z):Z=t[54],t[55]!==f||t[56]!==s.author.handle||t[57]!==o?(Q=o.text?(0,Ft.jsx)(wo.default,{style:lO.postTextContainer,children:(0,Ft.jsx)(DC,{enableTags:!0,testID:"postText",value:o,numberOfLines:f?Ti:void 0,style:[kl.flex_1,kl.text_md],authorHandle:s.author.handle,shouldProxyLinks:!0})}):void 0,t[55]=f,t[56]=s.author.handle,t[57]=o,t[58]=Q):Q=t[58],t[59]!==m||t[60]!==f||t[61]!==u.link?(K=f?(0,Ft.jsx)(NP,{text:m({id:"YHc0+l"}),style:u.link,onPress:w,href:"#"}):void 0,t[59]=m,t[60]=f,t[61]=u.link,t[62]=K):K=t[62],t[63]!==r||t[64]!==s.embed?($=s.embed?(0,Ft.jsx)(sF,{embed:s.embed,moderation:r,viewContext:zR.Feed}):null,t[63]=r,t[64]=s.embed,t[65]=$):$=t[65],t[66]!==q||t[67]!==Z||t[68]!==Q||t[69]!==K||t[70]!==$?(G=(0,Ft.jsxs)(DR,{modui:q,style:lO.contentHider,childContainerStyle:lO.contentHiderChild,children:[Z,Q,K,$]}),t[66]=q,t[67]=Z,t[68]=Q,t[69]=K,t[70]=$,t[71]=G):G=t[71],t[72]!==j||t[73]!==s||t[74]!==n||t[75]!==o?(Y=(0,Ft.jsx)(rO,{post:s,record:n,richText:o,onPressReply:j,logContext:"Post"}),t[72]=j,t[73]=s,t[74]=n,t[75]=o,t[76]=Y):Y=t[76],t[77]!==H||t[78]!==N||t[79]!==V||t[80]!==G||t[81]!==Y?(J=(0,Ft.jsxs)(wo.default,{style:lO.layoutContent,children:[H,N,V,G,Y]}),t[77]=H,t[78]=N,t[79]=V,t[80]=G,t[81]=Y,t[82]=J):J=t[82],t[83]!==z||t[84]!==J?(X=(0,Ft.jsxs)(wo.default,{style:lO.layout,children:[z,J]}),t[83]=z,t[84]=J,t[85]=X):X=t[85],t[86]!==_||t[87]!==k||t[88]!==F||t[89]!==E||t[90]!==X||t[91]!==I?(ee=(0,Ft.jsxs)(HP,{href:_,style:I,onBeforePress:k,onPointerEnter:R,onPointerLeave:D,children:[F,E,X]}),t[86]=_,t[87]=k,t[88]=F,t[89]=E,t[90]=X,t[91]=I,t[92]=ee):ee=t[92],ee}rO=(0,mt.memo)(rO);const lO=Gn.default.create({outer:{paddingTop:10,paddingRight:15,paddingBottom:5,paddingLeft:10,cursor:"pointer"},layout:{flexDirection:"row",gap:10},layoutAvi:{paddingLeft:8},layoutContent:{flex:1},alert:{marginBottom:6},postTextContainer:{flexDirection:"row",alignItems:"center",flexWrap:"wrap",overflow:"hidden"},replyLine:{position:"absolute",left:36,top:70,bottom:0,borderLeftWidth:2,borderLeftColor:sc.gray2},contentHider:{marginBottom:2},contentHiderChild:{marginTop:6}});function cO(e){const t=(0,i.c)(16),{embed:s,style:n}=e;let o;if(t[0]!==s||t[1]!==n){o=Symbol.for("react.early_return_sentinel");e:{const e=Af(s);if(e)if("images"!==e.type)if("link"!==e.type)if("video"!==e.type)if("post_with_media"!==e.type||"post_with_media"===e.media.type||null===e.media.view);else{let s;t[13]!==e||t[14]!==n?(s=(0,Ft.jsx)(cO,{embed:e.media.view,style:n}),t[13]=e,t[14]=n,t[15]=s):s=t[15],o=s}else{let s,r;t[8]!==e?(s=(0,Ft.jsx)(pO,{thumbnail:e.view.thumbnail,alt:e.view.alt}),t[8]=e,t[9]=s):s=t[9],t[10]!==n||t[11]!==s?(r=(0,Ft.jsx)(uO,{style:n,children:s}),t[10]=n,t[11]=s,t[12]=r):r=t[12],o=r}else{if(!e.view.external.thumb){o=null;break e}if(!function(e){try{return gm("string"===typeof e?new URL(e):e).success}catch{return!1}}(e.view.external.uri)){o=null;break e}let s,r;t[3]!==e?(s=(0,Ft.jsx)(hO,{thumbnail:e.view.external.thumb,alt:e.view.external.title}),t[3]=e,t[4]=s):s=t[4],t[5]!==n||t[6]!==s?(r=(0,Ft.jsx)(uO,{style:n,children:s}),t[5]=n,t[6]=s,t[7]=r):r=t[7],o=r}else o=(0,Ft.jsx)(uO,{style:n,children:e.view.images.map(dO)});else o=null}t[0]=s,t[1]=n,t[2]=o}else o=t[2];return o!==Symbol.for("react.early_return_sentinel")?o:null}function dO(e){return(0,Ft.jsx)(mO,{thumbnail:e.thumb,alt:e.alt},e.thumb)}function uO(e){const t=(0,i.c)(5),{children:s,style:n}=e;let o,r;return t[0]!==n?(o=[kl.flex_row,kl.gap_xs,n],t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(r=(0,Ft.jsx)(wo.default,{style:o,children:s}),t[2]=s,t[3]=o,t[4]=r):r=t[4],r}function mO(e){const t=(0,i.c)(14),{thumbnail:s,alt:n,children:o}=e,r=ec();let a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.relative,kl.flex_1,{aspectRatio:1,maxWidth:100}],t[0]=a):a=t[0],t[1]!==s?(l={uri:s},t[1]=s,t[2]=l):l=t[2],t[3]!==r.atoms.bg_contrast_25?(c=[kl.flex_1,kl.rounded_xs,r.atoms.bg_contrast_25],t[3]=r.atoms.bg_contrast_25,t[4]=c):c=t[4],t[5]!==n||t[6]!==l||t[7]!==c||t[8]!==s?(d=(0,Ft.jsx)(SS.Image,{source:l,style:c,contentFit:"cover",accessible:!0,accessibilityIgnoresInvertColors:!0,accessibilityHint:n,accessibilityLabel:""},s),t[5]=n,t[6]=l,t[7]=c,t[8]=s,t[9]=d):d=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(lP,{style:[kl.rounded_xs]}),t[10]=u):u=t[10],t[11]!==o||t[12]!==d?(m=(0,Ft.jsxs)(wo.default,{style:a,children:[d,u,o]}),t[11]=o,t[12]=d,t[13]=m):m=t[13],m}function hO(e){const t=(0,i.c)(5),{thumbnail:s,alt:n}=e;let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],children:(0,Ft.jsx)($R,{size:24})}),t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(wo.default,{style:fO.altContainer,children:(0,Ft.jsx)(fr,{style:fO.alt,children:(0,Ft.jsx)(ft.Trans,{id:"wRkP2d"})})}),t[1]=r):r=t[1],t[2]!==n||t[3]!==s?(a=(0,Ft.jsxs)(mO,{thumbnail:s,alt:n,children:[o,r]}),t[2]=n,t[3]=s,t[4]=a):a=t[4],a}function pO(e){const t=(0,i.c)(6),{thumbnail:s,alt:n}=e;if(!s){let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e={backgroundColor:"black"},t[0]=e):e=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(wo.default,{style:[e,kl.flex_1,{aspectRatio:1,maxWidth:100},kl.justify_center,kl.align_center],children:(0,Ft.jsx)($R,{size:24})}),t[1]=s):s=t[1],s}let o,r;return t[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],children:(0,Ft.jsx)($R,{size:24})}),t[2]=o):o=t[2],t[3]!==n||t[4]!==s?(r=(0,Ft.jsx)(mO,{thumbnail:s,alt:n,children:o}),t[3]=n,t[4]=s,t[5]=r):r=t[5],r}const fO=Gn.default.create({altContainer:{backgroundColor:"rgba(0, 0, 0, 0.75)",borderRadius:6,paddingHorizontal:6,paddingVertical:3,position:"absolute",right:5,bottom:5,zIndex:2},alt:{color:"white",fontSize:7,fontWeight:"600"}});let gO=({item:e,moderationOpts:t,highlightUnread:s,hideTopBorder:n})=>{const o=(0,wd.useQueryClient)(),r=mx("default"),i=ec(),{_:a,i18n:l}=(0,ft.useLingui)(),[c,d]=(0,mt.useState)(!1),u=(0,mt.useMemo)((()=>{if("post-like"===e.type||"repost"===e.type){if(e.subjectUri){const t=new Is.AtUri(e.subjectUri);return`/profile/${t.host}/post/${t.rkey}`}}else{if("follow"===e.type||"verified"===e.type||"unverified"===e.type)return cS(e.notification.author);if("reply"===e.type){const t=new Is.AtUri(e.notification.uri);return`/profile/${t.host}/post/${t.rkey}`}if(("feedgen-like"===e.type||"starterpack-joined"===e.type)&&e.subjectUri){const t=new Is.AtUri(e.subjectUri);return`/profile/${t.host}/feed/${t.rkey}`}}return""}),[e]),m=e=>{e&&(e.preventDefault(),e.stopPropagation()),d((e=>!e))},h=(0,mt.useCallback)((()=>{By(o,e.notification.author)}),[o,e.notification.author]),p=(0,mt.useMemo)((()=>[{profile:e.notification.author,href:cS(e.notification.author),moderation:(0,Is.moderateProfile)(e.notification.author,t)},...e.additional?.map((({author:e})=>({profile:e,href:cS(e),moderation:(0,Is.moderateProfile)(e,t)})))||[]]),[e,t]),f=kd(l,e.notification.indexedAt),g=p[0],x=Nk({profile:g.profile}),_=Qf(g.profile.displayName||g.profile.handle);if(e.subjectUri&&!e.subject&&"feedgen-like"!==e.type)return(0,Ft.jsx)(wo.default,{});if("reply"===e.type||"mention"===e.type||"quote"===e.type){if(!e.subject)return null;const t=s&&!e.notification.isRead;return(0,Ft.jsx)(iO,{post:e.subject,style:t&&{backgroundColor:r.colors.unreadNotifBg,borderColor:r.colors.unreadNotifBorder},hideTopBorder:n})}const y=(0,Ft.jsxs)(fv,{style:[i.atoms.text,kl.font_bold,kl.text_md,kl.leading_tight],to:g.href,disableMismatchWarning:!0,emoji:!0,label:a({id:"B70faV",values:{firstAuthorName:_}}),children:[Yd(_),x.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.relative,{paddingTop:vo({android:2}),marginBottom:vo({ios:-7}),top:vo({web:1}),paddingLeft:3,paddingRight:2}],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===x.role})})]},g.href),b=p.length-1,j=b>0,v=j?$S(l,b):"";let w,S="",k=(0,Ft.jsx)(bT,{size:"xl",style:[oc.likeColor]});if("post-like"===e.type)S=a(j?{id:"1oayLJ",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"7pwEEM",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"Nb5tHi",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"goN6m3",values:{firstAuthorLink:y}});else if("repost"===e.type)S=a(j?{id:"HbVwZG",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"HXp+Ic",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"SHE2gD",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"h+VoCB",values:{firstAuthorLink:y}}),k=(0,Ft.jsx)(jT,{size:"xl",style:{color:i.palette.positive_600}});else if("follow"===e.type){let t=!1;if(e.notification.author.viewer?.following&&If(e.notification.record,Is.AppBskyGraphFollow.isRecord)){let s;try{const t=new Is.AtUri(e.notification.author.viewer.following).rkey;s=zm.TID.fromStr(t).timestamp()}catch(C){}if(s){t=1e3*new Date(e.notification.record.createdAt).getTime()>s}}t&&!j?(S=a({id:"CA5xov",values:{firstAuthorName:_}}),w=(0,Ft.jsx)(ft.Trans,{id:"gX2bMs",values:{firstAuthorLink:y}})):(S=a(j?{id:"9weqpT",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"P3dp6k",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"pRv8UW",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"ikWqP4",values:{firstAuthorLink:y}})),k=(0,Ft.jsx)(dC,{size:"xl",style:{color:i.palette.primary_500}})}else if("feedgen-like"===e.type)S=a(j?{id:"M3PXAW",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"hyDBEW",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"Ah6OCl",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"j6gy2F",values:{firstAuthorLink:y}});else if("starterpack-joined"===e.type)S=a(j?{id:"QsYggP",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"QzRFdE",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"ickTSn",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"5+TlP6",values:{firstAuthorLink:y}}),k=(0,Ft.jsx)(wo.default,{style:{height:30,width:30},children:(0,Ft.jsx)(jk,{width:30,gradient:"sky"})});else if("verified"===e.type)S=a(j?{id:"4ykJmj",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"Q09dtK",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"sd/rq4",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[r.text,oc.bold]})}}):(0,Ft.jsx)(ft.Trans,{id:"ZxSZvT",values:{firstAuthorLink:y}}),k=(0,Ft.jsx)(qk,{size:"xl"});else if("unverified"===e.type)S=a(j?{id:"aLeqkJ",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"21X78t",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"D8a3JF",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[r.text,oc.bold]})}}):(0,Ft.jsx)(ft.Trans,{id:"Y5AVN1",values:{firstAuthorLink:y}}),k=(0,Ft.jsx)(qk,{size:"xl",fill:i.palette.contrast_500});else if("like-via-repost"===e.type)S=a(j?{id:"lKSwAS",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"gw/BX0",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"3ZEc/D",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"aJWJsp",values:{firstAuthorLink:y}});else{if("repost-via-repost"!==e.type)return null;S=a(j?{id:"EOGhjr",values:{firstAuthorName:_,additionalAuthorsCount:b,formattedAuthorsCount:v}}:{id:"RuT41o",values:{firstAuthorName:_}}),w=j?(0,Ft.jsx)(ft.Trans,{id:"MbbLnZ",values:{firstAuthorLink:y,additionalAuthorsCount:b,formattedAuthorsCount:v},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_snug]})}}):(0,Ft.jsx)(ft.Trans,{id:"SWlrji",values:{firstAuthorLink:y}}),k=(0,Ft.jsx)(jT,{size:"xl",style:{color:i.palette.positive_600}})}return S+=` \xb7 ${f}`,(0,Ft.jsx)(pv,{label:S,testID:`feedItem-by-${e.notification.author.handle}`,style:[kl.flex_row,kl.align_start,{padding:10},kl.pr_lg,i.atoms.border_contrast_low,e.notification.isRead?void 0:{backgroundColor:r.colors.unreadNotifBg,borderColor:r.colors.unreadNotifBorder},!n&&kl.border_t,kl.overflow_hidden],to:u,accessible:!c,accessibilityActions:j?[{name:"toggleAuthorsExpanded",label:a(c?{id:"61lH2O"}:{id:"AUIc6G"})}]:[{name:"viewProfile",label:a({id:"tBW0ZQ",values:{0:p[0].profile.displayName||p[0].profile.handle}})}],onAccessibilityAction:e=>{"activate"===e.nativeEvent.actionName&&h(),"toggleAuthorsExpanded"===e.nativeEvent.actionName&&m()},children:({hovered:t})=>(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(cD,{hover:t}),(0,Ft.jsx)(wo.default,{style:[kO.layoutIcon,kl.pr_sm],children:k}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsxs)(xO,{hasMultipleAuthors:j,onToggleAuthorsExpanded:m,children:[(0,Ft.jsx)(yO,{visible:!c,authors:p,onToggleAuthorsExpanded:m,showDmButton:"starterpack-joined"===e.type}),(0,Ft.jsx)(jO,{visible:c,authors:p}),(0,Ft.jsxs)(fr,{style:[kl.flex_row,kl.flex_wrap,{paddingTop:6},kl.self_start,kl.text_md,kl.leading_snug],accessibilityHint:"",accessibilityLabel:S,children:[w,(0,Ft.jsx)(mD,{timestamp:e.notification.indexedAt,children:({timeElapsed:e})=>(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(fr,{style:[kl.text_md,i.atoms.text_contrast_medium],children:[" ","\xb7"," "]}),(0,Ft.jsx)(fr,{style:[kl.text_md,i.atoms.text_contrast_medium],title:f,children:e})]})})]})]}),"post-like"===e.type||"repost"===e.type||"like-via-repost"===e.type||"repost-via-repost"===e.type?(0,Ft.jsx)(wo.default,{style:[kl.pt_2xs],children:(0,Ft.jsx)(SO,{post:e.subject})}):null,"feedgen-like"===e.type&&e.subjectUri?(0,Ft.jsx)(KI,{feedUri:e.subjectUri,style:[i.atoms.bg,i.atoms.border_contrast_low,kl.border,kO.feedcard],showLikes:!0}):null,"starterpack-joined"===e.type?(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(wo.default,{style:[kl.border,kl.p_sm,kl.rounded_sm,kl.mt_sm,i.atoms.border_contrast_low],children:(0,Ft.jsx)(wk,{starterPack:e.subject})})}):null]})]})})};function xO(e){const t=(0,i.c)(6),{hasMultipleAuthors:s,children:n,onToggleAuthorsExpanded:o}=e;if(s){let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[kO.expandedAuthorsTrigger],t[0]=e):e=t[0],t[1]!==n||t[2]!==o?(s=(0,Ft.jsx)(tr.default,{onPress:o,style:e,accessible:!1,children:n}),t[1]=n,t[2]=o,t[3]=s):s=t[3],s}{let e;return t[4]!==n?(e=(0,Ft.jsx)(Ft.Fragment,{children:n}),t[4]=n,t[5]=e):e=t[5],e}}function _O({profile:e}){const{_:t}=(0,ft.useLingui)(),s=bh(),n=(0,va.useNavigation)(),[o,r]=(0,mt.useState)(!1);return"none"===e.associated?.chat?.allowIncoming||"following"===e.associated?.chat?.allowIncoming&&!e.viewer?.followedBy?null:(0,Ft.jsx)(Sr,{label:t({id:"z0lIxU"}),variant:"ghost",color:"primary",size:"small",style:[kl.self_center,{marginLeft:"auto"}],disabled:o,onPress:async()=>{try{r(!0);const t=await s.api.chat.bsky.convo.getConvoForMembers({members:[e.did,s.session.did]},{headers:kp});n.navigate("MessagesConversation",{conversation:t.data.convo.id})}catch(t){ys.error("Failed to get conversation",{safeMessage:t})}finally{r(!1)}},children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"z0lIxU"})})})}function yO(e){const t=(0,i.c)(46),{visible:s,authors:n,onToggleAuthorsExpanded:o,showDmButton:r}=e,a=void 0===r||r,l=ec(),{_:c}=(0,ft.useLingui)();if(!s){let e,s,n,r,i,a,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.flex_row,kl.align_center],t[0]=e):e=t[0],t[1]!==c?(s=c({id:"qdOx2q"}),t[1]=c,t[2]=s):s=t[2],t[3]!==c?(n=c({id:"Fhl0A4"}),t[3]=c,t[4]=n):n=t[4],t[5]!==l.atoms.text_contrast_high?(r=(0,Ft.jsx)(KT,{size:"md",style:[kl.ml_xs,kl.mr_md,l.atoms.text_contrast_high]}),t[5]=l.atoms.text_contrast_high,t[6]=r):r=t[6],t[7]!==l.atoms.text_contrast_high?(i=[kl.text_md,l.atoms.text_contrast_high],t[7]=l.atoms.text_contrast_high,t[8]=i):i=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"8QCYhn"}),t[9]=a):a=t[9],t[10]!==i?(d=(0,Ft.jsx)(fr,{style:i,children:a}),t[10]=i,t[11]=d):d=t[11],t[12]!==o||t[13]!==s||t[14]!==n||t[15]!==r||t[16]!==d?(u=(0,Ft.jsx)(wo.default,{style:e,children:(0,Ft.jsxs)(Ix.default,{style:kO.expandedAuthorsCloseBtn,onPress:o,accessibilityRole:"button",accessibilityLabel:s,accessibilityHint:n,children:[r,d]})}),t[12]=o,t[13]=s,t[14]=n,t[15]=r,t[16]=d,t[17]=u):u=t[17],u}if(1===n.length){let e;t[18]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.flex_row,kl.align_center],t[18]=e):e=t[18];const s=n[0].profile;let o;t[19]!==n[0].moderation?(o=n[0].moderation.ui("avatar"),t[19]=n[0].moderation,t[20]=o):o=t[20];const r=n[0].profile.associated?.labeler?"labeler":"user";let i,l,c;return t[21]!==n[0].profile||t[22]!==o||t[23]!==r?(i=(0,Ft.jsx)(pP,{size:35,profile:s,moderation:o,type:r}),t[21]=n[0].profile,t[22]=o,t[23]=r,t[24]=i):i=t[24],t[25]!==n[0].profile||t[26]!==a?(l=a?(0,Ft.jsx)(_O,{profile:n[0].profile}):null,t[25]=n[0].profile,t[26]=a,t[27]=l):l=t[27],t[28]!==i||t[29]!==l?(c=(0,Ft.jsxs)(wo.default,{style:e,children:[i,l]}),t[28]=i,t[29]=l,t[30]=c):c=t[30],c}let d,u,m,h,p,f;return t[31]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.flex_row,kl.align_center],t[31]=d):d=t[31],t[32]!==n?(u=n.slice(0,5).map(bO),t[32]=n,t[33]=u):u=t[33],t[34]!==n.length||t[35]!==l.atoms.text_contrast_medium?(m=n.length>5?(0,Ft.jsxs)(fr,{style:[kl.font_bold,{paddingLeft:6},l.atoms.text_contrast_medium],children:["+",n.length-5]}):void 0,t[34]=n.length,t[35]=l.atoms.text_contrast_medium,t[36]=m):m=t[36],t[37]!==l.atoms.text_contrast_medium?(h=(0,Ft.jsx)($T,{size:"md",style:[kl.mx_xs,l.atoms.text_contrast_medium]}),t[37]=l.atoms.text_contrast_medium,t[38]=h):h=t[38],t[39]!==u||t[40]!==m||t[41]!==h?(p=(0,Ft.jsxs)(wo.default,{style:d,children:[u,m,h]}),t[39]=u,t[40]=m,t[41]=h,t[42]=p):p=t[42],t[43]!==o||t[44]!==p?(f=(0,Ft.jsx)(Ix.default,{accessibilityRole:"none",onPress:o,children:p}),t[43]=o,t[44]=p,t[45]=f):f=t[45],f}function bO(e){return(0,Ft.jsx)(wo.default,{style:oc.mr5,children:(0,Ft.jsx)(pP,{size:35,profile:e.profile,moderation:e.moderation.ui("avatar"),type:e.profile.associated?.labeler?"labeler":"user"})},e.href)}function jO(e){const t=(0,i.c)(17),{visible:s,authors:n}=e,o=function(e){const t=mt.useRef();return void 0===t.current&&(t.current=new vI.default.Value(e)),t.current}(s?1:0),r=45*n.length;let a,l;t[0]!==o||t[1]!==r?(a=vI.default.multiply(o,r),t[0]=o,t[1]=r,t[2]=a):a=t[2],t[3]!==a?(l={height:a},t[3]=a,t[4]=l):l=t[4];const c=l;let d,u,m,h,p;return t[5]!==o||t[6]!==s?(d=()=>{vI.default.timing(o,{toValue:s?1:0,duration:200,useNativeDriver:!1}).start()},u=[o,s],t[5]=o,t[6]=s,t[7]=d,t[8]=u):(d=t[7],u=t[8]),(0,mt.useEffect)(d,u),t[9]!==c?(m=[kl.overflow_hidden,c],t[9]=c,t[10]=m):m=t[10],t[11]!==n||t[12]!==s?(h=s&&n.map(vO),t[11]=n,t[12]=s,t[13]=h):h=t[13],t[14]!==m||t[15]!==h?(p=(0,Ft.jsx)(vI.default.View,{style:m,children:h}),t[14]=m,t[15]=h,t[16]=p):p=t[16],p}function vO(e){return(0,Ft.jsx)(wO,{author:e},e.profile.did)}function wO(e){const t=(0,i.c)(45),{author:s}=e,n=ec(),{_:o}=(0,ft.useLingui)();let r;t[0]!==s.profile?(r={profile:s.profile},t[0]=s.profile,t[1]=r):r=t[1];const a=Nk(r),l=s.profile.did,c=s.profile.displayName||s.profile.handle;let d,u,m;t[2]!==o?(d=o({id:"0xfAvQ"}),t[2]=o,t[3]=d):d=t[3],t[4]!==s.profile.did||t[5]!==s.profile.handle?(u=cS({did:s.profile.did,handle:s.profile.handle}),t[4]=s.profile.did,t[5]=s.profile.handle,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.mr_sm],t[7]=m):m=t[7];const h=s.profile.did,p=s.profile.avatar;let f;t[8]!==s.moderation?(f=s.moderation.ui("avatar"),t[8]=s.moderation,t[9]=f):f=t[9];const g=s.profile.associated?.labeler?"labeler":"user";let x,_,y,b,j;t[10]!==s.profile.avatar||t[11]!==g||t[12]!==f?(x=(0,Ft.jsx)(mP,{size:35,avatar:p,moderation:f,type:g}),t[10]=s.profile.avatar,t[11]=g,t[12]=f,t[13]=x):x=t[13],t[14]!==s.profile.did||t[15]!==x?(_=(0,Ft.jsx)(wo.default,{style:m,children:(0,Ft.jsx)($k,{did:h,children:x})}),t[14]=s.profile.did,t[15]=x,t[16]=_):_=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.flex_1],t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_end],t[18]=b):b=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.text_md,kl.font_bold,kl.leading_tight,{maxWidth:"70%"}],t[19]=j):j=t[19];const v=s.profile.displayName||s.profile.handle;let w,S,k,C,P,T,L,A;return t[20]!==v?(w=Qf(v),t[20]=v,t[21]=w):w=t[21],t[22]!==w?(S=(0,Ft.jsx)(fr,{numberOfLines:1,emoji:!0,style:j,children:w}),t[22]=w,t[23]=S):S=t[23],t[24]!==a.role||t[25]!==a.showBadge?(k=a.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs,kl.self_center],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===a.role})}),t[24]=a.role,t[25]=a.showBadge,t[26]=k):k=t[26],t[27]!==n.atoms.text_contrast_medium?(C=[kl.pl_xs,kl.text_md,kl.leading_tight,kl.flex_shrink,n.atoms.text_contrast_medium],t[27]=n.atoms.text_contrast_medium,t[28]=C):C=t[28],t[29]!==s.profile.handle?(P=su(s.profile.handle,"@"),t[29]=s.profile.handle,t[30]=P):P=t[30],t[31]!==C||t[32]!==P?(T=(0,Ft.jsx)(fr,{numberOfLines:1,style:C,children:P}),t[31]=C,t[32]=P,t[33]=T):T=t[33],t[34]!==S||t[35]!==k||t[36]!==T?(L=(0,Ft.jsx)(wo.default,{style:y,children:(0,Ft.jsxs)(wo.default,{style:b,children:[S,k,T]})}),t[34]=S,t[35]=k,t[36]=T,t[37]=L):L=t[37],t[38]!==s.profile.did||t[39]!==_||t[40]!==L||t[41]!==c||t[42]!==d||t[43]!==u?(A=(0,Ft.jsxs)(pv,{label:c,accessibilityHint:d,to:u,style:kO.expandedAuthor,children:[_,L]},l),t[38]=s.profile.did,t[39]=_,t[40]=L,t[41]=c,t[42]=d,t[43]=u,t[44]=A):A=t[44],A}function SO(e){const t=(0,i.c)(8),{post:s}=e,n=ec();if(s&&If(s?.record,Is.AppBskyFeedPost.isRecord)){const e=s.record.text;let o,r,i;return t[0]!==n||t[1]!==e?(o=e?.length>0&&(0,Ft.jsx)(fr,{emoji:!0,style:[kl.text_sm,kl.leading_snug,n.atoms.text_contrast_medium],children:e}),t[0]=n,t[1]=e,t[2]=o):o=t[2],t[3]!==s.embed?(r=(0,Ft.jsx)(cO,{embed:s.embed,style:kO.additionalPostImages}),t[3]=s.embed,t[4]=r):r=t[4],t[5]!==o||t[6]!==r?(i=(0,Ft.jsxs)(Ft.Fragment,{children:[o,r]}),t[5]=o,t[6]=r,t[7]=i):i=t[7],i}}gO=(0,mt.memo)(gO);const kO=Gn.default.create({layoutIcon:{width:60,alignItems:"flex-end",paddingTop:2},icon:{marginRight:10,marginTop:4},additionalPostImages:{marginTop:5,marginLeft:2,opacity:.8},feedcard:{borderRadius:8,paddingVertical:12,marginTop:6},addedContainer:{paddingTop:4,paddingLeft:36},expandedAuthorsTrigger:{zIndex:1},expandedAuthorsCloseBtn:{flexDirection:"row",alignItems:"center",paddingTop:10,paddingBottom:6},expandedAuthor:{flexDirection:"row",alignItems:"center",marginTop:10,height:35}});function CO(e){const t=(0,i.c)(4),{did:s}=e;let n;t[0]!==s?(n={did:s},t[0]=s,t[1]=n):n=t[1];const{data:o,isLoading:r}=ub(n);if(r||!o)return null;let a;return t[2]!==o?(a=(0,Ft.jsx)(PO,{profile:o}),t[2]=o,t[3]=a):a=t[3],a}function PO(e){const t=(0,i.c)(27),{profile:s}=e,n=(0,va.useNavigation)(),{_:o}=(0,ft.useLingui)(),{gtMobile:r}=ql(),a=Ry(s),[l,c]=fb(a,"PostThreadItem"),d=yh(),u=!!a.viewer?.following,m=!!a.viewer?.followedBy,[h,p]=mt.useState(u);let f;f=!u||!h;const g=f;let x,_,y;t[0]!==u||t[1]!==n||t[2]!==h?(x=()=>{const e=()=>{h!==u&&p(u)},t=n.addListener("focus",e),s=n.addListener("blur",e);return()=>{t(),s()}},_=[u,h,n],t[0]=u,t[1]=n,t[2]=h,t[3]=x,t[4]=_):(x=t[3],_=t[4]),mt.useEffect(x,_),t[5]!==o||t[6]!==u||t[7]!==l||t[8]!==c||t[9]!==d?(y=()=>{d(u?async()=>{try{await c()}catch(v){const t=v;"AbortError"!==t?.name&&(ys.error("Failed to unfollow",{message:String(t)}),Zu(o({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}}:async()=>{try{await l()}catch(j){const t=j;"AbortError"!==t?.name&&(ys.error("Failed to follow",{message:String(t)}),Zu(o({id:"HTQWov",values:{0:t.toString()}}),"xmark"))}})},t[5]=o,t[6]=u,t[7]=l,t[8]=c,t[9]=d,t[10]=y):y=t[10];const b=y;if(!g)return null;let j;t[11]!==o||t[12]!==a.handle?(j=o({id:"bjYkUM",values:{0:a.handle}}),t[11]=o,t[12]=a.handle,t[13]=j):j=t[13];const v=u?"secondary":"secondary_inverted";let w,S,k,C;return t[14]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.rounded_full],t[14]=w):w=t[14],t[15]!==r||t[16]!==u?(S=r&&(0,Ft.jsx)(Pr,{icon:u?Wj:kS,position:"left",size:"sm"}),t[15]=r,t[16]=u,t[17]=S):S=t[17],t[18]!==m||t[19]!==u?(k=(0,Ft.jsx)(Cr,{children:u?(0,Ft.jsx)(ft.Trans,{id:"y6sq5j"}):m?(0,Ft.jsx)(ft.Trans,{id:"S3iVwO"}):(0,Ft.jsx)(ft.Trans,{id:"MKEPCY"})}),t[18]=m,t[19]=u,t[20]=k):k=t[20],t[21]!==b||t[22]!==j||t[23]!==v||t[24]!==S||t[25]!==k?(C=(0,Ft.jsxs)(Sr,{testID:"followBtn",label:j,onPress:b,size:"small",variant:"solid",color:v,style:w,children:[S,k]}),t[21]=b,t[22]=j,t[23]=v,t[24]=S,t[25]=k,t[26]=C):C=t[26],C}const TO=zr({path:"M15.439 3.148a1 1 0 0 1 .41.645l.568 3.22a7 7 0 1 1-6.174 10.97L4.32 19.027a1 1 0 0 1-1.159-.811L1.078 6.398a1 1 0 0 1 .81-1.158l12.803-2.258a1 1 0 0 1 .748.166ZM9.325 16.114A7 7 0 0 1 9 14c0-1.56.51-3 1.372-4.164l-6.456 1.139 1.041 5.909 4.368-.77ZM3.568 9.005l10.833-1.91-.347-1.97L3.22 7.036l.347 1.97ZM16 9a5 5 0 1 0 0 10 5 5 0 0 0 0-10Zm0 2a1 1 0 0 1 1 1v1.586l1.374 1.374a1 1 0 0 1-1.414 1.414l-1.667-1.667A1 1 0 0 1 15 14v-2a1 1 0 0 1 1-1Z"}),LO=["testID","href","disabled","modui","style","children","iconSize","iconStyles","profile","interpretFilterAsBlur"];function AO(e){const t=(0,i.c)(40);let s,n,o,r,a,l,c,d,u,m,h;if(t[0]!==e){var p=e;({testID:h,href:o,disabled:n,modui:c,style:m,children:s,iconSize:r,iconStyles:a,profile:d,interpretFilterAsBlur:l}=p),u=(0,ls.default)(p,LO),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u,t[10]=m,t[11]=h}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9],m=t[10],h=t[11];const f=(0,wd.useQueryClient)(),g=ec(),{_:x}=(0,ft.useLingui)(),[_,y]=mt.useState(!1),b=Ar();let j;t[12]!==l||t[13]!==c?(j=c.blurs[0]||(l?function(e){return e.filters.find((e=>!e.downgraded))}(c):void 0),t[12]=l,t[13]=c,t[14]=j):j=t[14];const v=j,w=DS(v);let S;t[15]!==d||t[16]!==f?(S=()=>{ib(f,d)},t[15]=d,t[16]=f,t[17]=S):S=t[17];const k=S;if(!v||n&&!c.noOverride){let e;return t[18]!==s||t[19]!==o||t[20]!==k||t[21]!==u||t[22]!==m||t[23]!==h?(e=(0,Ft.jsx)(HP,Object.assign({testID:h,style:m,href:o,accessible:!1,onBeforePress:k},u,{children:s})),t[18]=s,t[19]=o,t[20]=k,t[21]=u,t[22]=m,t[23]=h,t[24]=e):e=t[24],e}let C;return t[25]!==x||t[26]!==v||t[27]!==s||t[28]!==b||t[29]!==w||t[30]!==o||t[31]!==r||t[32]!==a||t[33]!==c.noOverride||t[34]!==_||t[35]!==u||t[36]!==m||t[37]!==g||t[38]!==h?(C=_?(0,Ft.jsx)(HP,Object.assign({testID:h,style:rc(m,RO.child),href:o,accessible:!1},u,{children:s})):(0,Ft.jsxs)(tr.default,{onPress:()=>{c.noOverride||y(IO)},accessibilityRole:"button",accessibilityHint:x(_?{id:"IbbZpm"}:{id:"X8XK4K"}),accessibilityLabel:"",style:[kl.flex_row,kl.align_center,kl.gap_sm,kl.py_md,{paddingLeft:6,paddingRight:18},_?{paddingBottom:0}:void 0,g.atoms.bg],children:[(0,Ft.jsx)(NS,{control:b,modcause:v}),(0,Ft.jsx)(tr.default,{onPress:()=>{b.open()},accessibilityRole:"button",accessibilityLabel:x({id:"rj0Lke"}),accessibilityHint:"",children:(0,Ft.jsx)(wo.default,{style:[g.atoms.bg_contrast_25,kl.align_center,kl.justify_center,{width:r,height:r,borderRadius:r},a],children:(0,Ft.jsx)(w.icon,{size:"sm",fill:g.atoms.text_contrast_medium.color})})}),(0,Ft.jsx)(fr,{style:[g.atoms.text_contrast_medium,kl.flex_1,kl.leading_snug],numberOfLines:1,children:w.name}),!c.noOverride&&(0,Ft.jsx)(fr,{style:[{color:g.palette.primary_500}],children:_?(0,Ft.jsx)(ft.Trans,{id:"vLyv1R"}):(0,Ft.jsx)(ft.Trans,{id:"8vETh9"})})]}),t[25]=x,t[26]=v,t[27]=s,t[28]=b,t[29]=w,t[30]=o,t[31]=r,t[32]=a,t[33]=c.noOverride,t[34]=_,t[35]=u,t[36]=m,t[37]=g,t[38]=h,t[39]=C):C=t[39],C}function IO(e){return!e}const RO=Gn.default.create({child:{borderWidth:0,borderTopWidth:0,borderRadius:8}}),DO=zr({path:"M8 5a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM4 7a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm13-1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3Zm-3.5 1.5a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0Zm5.826 7.376c-.919-.779-2.052-1.03-3.1-.787a1 1 0 0 1-.451-1.949c1.671-.386 3.45.028 4.844 1.211 1.397 1.185 2.348 3.084 2.524 5.579a1 1 0 0 1-.997 1.07H18a1 1 0 1 1 0-2h3.007c-.29-1.47-.935-2.49-1.681-3.124ZM3.126 19h9.747c-.61-3.495-2.867-5-4.873-5-2.006 0-4.263 1.505-4.873 5ZM8 12c3.47 0 6.64 2.857 6.998 7.93A1 1 0 0 1 14 21H2a1 1 0 0 1-.998-1.07C1.36 14.857 4.53 12 8 12Z"}),FO=zr({path:"M13.586 1.5a2 2 0 0 1 2.828 0L19.5 4.586a2 2 0 0 1 0 2.828l-13 13A2 2 0 0 1 5.086 21H1a1 1 0 0 1-1-1v-4.086A2 2 0 0 1 .586 14.5l13-13ZM15 2.914l-13 13V19h3.086l13-13L15 2.914ZM11 20a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),EO=zr({path:"M15.586 2.5a2 2 0 0 1 2.828 0L21.5 5.586a2 2 0 0 1 0 2.828l-13 13A2 2 0 0 1 7.086 22H3a1 1 0 0 1-1-1v-4.086a2 2 0 0 1 .586-1.414l13-13ZM17 3.914l-13 13V20h3.086l13-13L17 3.914ZM13 21a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),MO=zr({path:"M15.379 2.707a3 3 0 0 1 4.242 0l1.672 1.672a3 3 0 0 1 0 4.242l-12.5 12.5A3 3 0 0 1 6.672 22H3a1 1 0 0 1-1-1v-3.672a3 3 0 0 1 .879-2.121l12.5-12.5Zm2.828 1.414a1 1 0 0 0-1.414 0l-12.5 12.5a1 1 0 0 0-.293.707V20h2.672a1 1 0 0 0 .707-.293l12.5-12.5.707.707-.707-.707a1 1 0 0 0 0-1.414L18.207 4.12ZM13 21a1 1 0 0 1 1-1h7a1 1 0 0 1 0 2h-7a1 1 0 0 1-1-1Z"});function BO(e){const t=(0,i.c)(42),{post:s,isThreadAuthor:n,style:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),l=Ar(),c=Ar(),d=If(s.record,Is.AppBskyFeedPost.isRecord)&&s.record.reply?.root?s.record.reply.root.uri:s.uri;let u,m;t[0]!==s.threadgate?(m=u_(s.threadgate),t[0]=s.threadgate,t[1]=m):m=t[1],u=m;const h=u;let p;t[2]!==s.uri||t[3]!==d?(p={postUri:s.uri,rootPostUri:d},t[2]=s.uri,t[3]=d,t[4]=p):p=t[4];const f=vB(p),g=1===h.length&&"everybody"===h[0].type,x=1===h.length&&"nobody"===h[0].type;let _;t[5]!==r||t[6]!==g||t[7]!==x?(_=r(g?{id:"RRRRK3"}:x?{id:"eY3hzv"}:{id:"LrO8R3"}),t[5]=r,t[6]=g,t[7]=x,t[8]=_):_=t[8];const y=_;let b;t[9]!==c||t[10]!==l||t[11]!==n?(b=()=>{kt&&ja.default.isVisible()&&ja.default.dismiss(),n?c.open():l.open()},t[9]=c,t[10]=l,t[11]=n,t[12]=b):b=t[12];const j=b;let v,w,S,k,C,P;return t[13]!==r||t[14]!==n?(v=r(n?{id:"4EiV1O"}:{id:"yvDWMs"}),t[13]=r,t[14]=n,t[15]=v):v=t[15],t[16]!==n||t[17]!==f?(w=n?{onHoverIn:f}:{},t[16]=n,t[17]=f,t[18]=w):w=t[18],t[19]!==y||t[20]!==n||t[21]!==h||t[22]!==o||t[23]!==a.atoms.text_contrast_medium||t[24]!==a.palette.contrast_400||t[25]!==a.palette.primary_500?(S=e=>{const{hovered:t}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs,o],children:[(0,Ft.jsx)(OO,{color:a.palette.contrast_400,width:16,settings:h}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_tight,a.atoms.text_contrast_medium,t&&kl.underline],children:y}),n&&(0,Ft.jsx)(EO,{width:12,fill:a.palette.primary_500})]})},t[19]=y,t[20]=n,t[21]=h,t[22]=o,t[23]=a.atoms.text_contrast_medium,t[24]=a.palette.contrast_400,t[25]=a.palette.primary_500,t[26]=S):S=t[26],t[27]!==j||t[28]!==v||t[29]!==w||t[30]!==S?(k=(0,Ft.jsx)(Sr,Object.assign({label:v,onPress:j},w,{hitSlop:vi,children:S})),t[27]=j,t[28]=v,t[29]=w,t[30]=S,t[31]=k):k=t[31],t[32]!==c||t[33]!==l||t[34]!==n||t[35]!==s||t[36]!==d||t[37]!==h?(C=n?(0,Ft.jsx)(uB,{postUri:s.uri,rootPostUri:d,control:c,initialThreadgateView:s.threadgate}):(0,Ft.jsx)(HO,{control:l,post:s,settings:h,embeddingDisabled:Boolean(s.viewer?.embeddingDisabled)}),t[32]=c,t[33]=l,t[34]=n,t[35]=s,t[36]=d,t[37]=h,t[38]=C):C=t[38],t[39]!==C||t[40]!==k?(P=(0,Ft.jsxs)(Ft.Fragment,{children:[k,C]}),t[39]=C,t[40]=k,t[41]=P):P=t[41],P}function OO(e){const t=(0,i.c)(4),{color:s,width:n,settings:o}=e,r=0===o.length,a=!!o.find(zO),l=r?tP:a?PS:DO;let c;return t[0]!==l||t[1]!==s||t[2]!==n?(c=(0,Ft.jsx)(l,{fill:s,width:n}),t[0]=l,t[1]=s,t[2]=n,t[3]=c):c=t[3],c}function zO(e){return"nobody"===e.type}function HO(e){const t=(0,i.c)(16),{control:s,post:n,settings:o,embeddingDisabled:r}=e,{_:a}=(0,ft.useLingui)();let l,c,d,u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ha,{}),t[0]=l):l=t[0],t[1]!==a?(c=a({id:"S2SV1Z"}),t[1]=a,t[2]=c):c=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(d=[{width:"auto",maxWidth:400,minWidth:200}],t[3]=d):d=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.gap_sm],t[4]=u):u=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xl,kl.pb_sm],children:(0,Ft.jsx)(ft.Trans,{id:"U/GUHF"})}),t[5]=m):m=t[5],t[6]!==r||t[7]!==n||t[8]!==o?(h=(0,Ft.jsxs)(wo.default,{style:u,children:[m,(0,Ft.jsx)(NO,{post:n,settings:o,embeddingDisabled:r})]}),t[6]=r,t[7]=n,t[8]=o,t[9]=h):h=t[9],t[10]!==c||t[11]!==h?(p=(0,Ft.jsx)(da,{label:c,style:d,children:h}),t[10]=c,t[11]=h,t[12]=p):p=t[12],t[13]!==s||t[14]!==p?(f=(0,Ft.jsxs)(aa,{control:s,children:[l,p]}),t[13]=s,t[14]=p,t[15]=f):f=t[15],f}function NO(e){const t=(0,i.c)(14),{post:s,settings:n,embeddingDisabled:o}=e,r=ec();let a,l,c,d,u;return t[0]!==r.atoms.text_contrast_medium?(a=[kl.text_sm,kl.leading_snug,kl.flex_wrap,r.atoms.text_contrast_medium],t[0]=r.atoms.text_contrast_medium,t[1]=a):a=t[1],t[2]!==s||t[3]!==n?(l=0===n.length?(0,Ft.jsx)(ft.Trans,{id:"HC7BQk"}):"everybody"===n[0].type?(0,Ft.jsx)(ft.Trans,{id:"+hUsMV"}):"nobody"===n[0].type?(0,Ft.jsx)(ft.Trans,{id:"TYeoUg"}):(0,Ft.jsx)(ft.Trans,{id:"Kq2/SU",values:{0:n.map(((e,t)=>(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(VO,{rule:e,post:s,lists:s.threadgate.lists}),(0,Ft.jsx)(qO,{i:t,length:n.length})]},`rule-${t}`)))}}),t[2]=s,t[3]=n,t[4]=l):l=t[4],t[5]!==a||t[6]!==l?(c=(0,Ft.jsxs)(fr,{style:a,children:[l," "]}),t[5]=a,t[6]=l,t[7]=c):c=t[7],t[8]!==o||t[9]!==r.atoms.text_contrast_medium?(d=o&&(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,kl.flex_wrap,r.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"/yF5Q/"})}),t[8]=o,t[9]=r.atoms.text_contrast_medium,t[10]=d):d=t[10],t[11]!==c||t[12]!==d?(u=(0,Ft.jsxs)(Ft.Fragment,{children:[c,d]}),t[11]=c,t[12]=d,t[13]=u):u=t[13],u}function VO(e){const t=(0,i.c)(34),{rule:s,post:n,lists:o}=e;if("mention"===s.type){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(ft.Trans,{id:"S9V0C/"}),t[0]=e):e=t[0],e}if("followers"===s.type){let e;t[1]!==n.author.handle?(e={0:n.author.handle},t[1]=n.author.handle,t[2]=e):e=t[2];const s=`@${n.author.handle}`;let o,r,i,a;return t[3]!==n.author?(o=cS(n.author),t[3]=n.author,t[4]=o):o=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.text_sm,kl.leading_snug],t[5]=r):r=t[5],t[6]!==s||t[7]!==o?(i={0:(0,Ft.jsx)(fv,{label:s,to:o,style:r})},t[6]=s,t[7]=o,t[8]=i):i=t[8],t[9]!==e||t[10]!==i?(a=(0,Ft.jsx)(ft.Trans,{id:"sDwobD",values:e,components:i}),t[9]=e,t[10]=i,t[11]=a):a=t[11],a}if("following"===s.type){let e;t[12]!==n.author.handle?(e={0:n.author.handle},t[12]=n.author.handle,t[13]=e):e=t[13];const s=`@${n.author.handle}`;let o,r,i,a;return t[14]!==n.author?(o=cS(n.author),t[14]=n.author,t[15]=o):o=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.text_sm,kl.leading_snug],t[16]=r):r=t[16],t[17]!==s||t[18]!==o?(i={0:(0,Ft.jsx)(fv,{label:s,to:o,style:r})},t[17]=s,t[18]=o,t[19]=i):i=t[19],t[20]!==e||t[21]!==i?(a=(0,Ft.jsx)(ft.Trans,{id:"/t+8XK",values:e,components:i}),t[20]=e,t[21]=i,t[22]=a):a=t[22],a}if("list"===s.type){let e;if(t[23]!==o||t[24]!==s.list){e=Symbol.for("react.early_return_sentinel");{const n=o?.find((e=>e.uri===s.list));if(n){const s=new Is.AtUri(n.uri);let o,r;t[26]!==n?(o={0:n.name},t[26]=n,t[27]=o):o=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.text_sm,kl.leading_snug],t[28]=r):r=t[28];const i=(0,Ft.jsx)(fv,{label:n.name,to:uS(s.hostname,s.rkey),style:r});let a,l;t[29]!==i?(a={0:i},t[29]=i,t[30]=a):a=t[30],t[31]!==o||t[32]!==a?(l=(0,Ft.jsx)(ft.Trans,{id:"a4TDv7",values:o,components:a}),t[31]=o,t[32]=a,t[33]=l):l=t[33],e=l}else;}t[23]=o,t[24]=s.list,t[25]=e}else e=t[25];if(e!==Symbol.for("react.early_return_sentinel"))return e}}function qO(e){const t=(0,i.c)(4),{i:s,length:n}=e;if(n<2||s===n-1)return null;if(s===n-2){const e=n>2?",":"";let s,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ft.Trans,{id:"HZFm5R"}),t[0]=s):s=t[0],t[1]!==e?(o=(0,Ft.jsxs)(Ft.Fragment,{children:[e," ",s," "]}),t[1]=e,t[2]=o):o=t[2],o}let o;return t[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(Ft.Fragment,{children:", "}),t[3]=o):o=t[3],o}function UO(e){const t=(0,i.c)(23),{post:s,record:n,moderation:o,treeView:r,depth:a,prevPost:l,nextPost:c,isHighlightedPost:d,hasMore:u,showChildReplyLine:m,showParentReplyLine:h,hasPrecedingItem:p,overrideBlur:f,onPostReply:g,hideTopBorder:x,threadgateRecord:_}=e,y=eR(s);let b,j;t[0]!==n.facets||t[1]!==n.text?(j=new Is.RichText({text:n.text,facets:n.facets}),t[0]=n.facets,t[1]=n.text,t[2]=j):j=t[2],b=j;const v=b;if(y===YI){let e;return t[3]!==x?(e=(0,Ft.jsx)(WO,{hideTopBorder:x}),t[3]=x,t[4]=e):e=t[4],e}if(v&&o){let e;return t[5]!==a||t[6]!==u||t[7]!==p||t[8]!==x||t[9]!==d||t[10]!==o||t[11]!==c||t[12]!==g||t[13]!==f||t[14]!==y||t[15]!==l||t[16]!==n||t[17]!==v||t[18]!==m||t[19]!==h||t[20]!==_||t[21]!==r?(e=(0,Ft.jsx)(ZO,{post:y,prevPost:l,nextPost:c,record:n,richText:v,moderation:o,treeView:r,depth:a,isHighlightedPost:d,hasMore:u,showChildReplyLine:m,showParentReplyLine:h,hasPrecedingItem:p,overrideBlur:f,onPostReply:g,hideTopBorder:x,threadgateRecord:_},y.uri),t[5]=a,t[6]=u,t[7]=p,t[8]=x,t[9]=d,t[10]=o,t[11]=c,t[12]=g,t[13]=f,t[14]=y,t[15]=l,t[16]=n,t[17]=v,t[18]=m,t[19]=h,t[20]=_,t[21]=r,t[22]=e):e=t[22],e}return null}function WO(e){const t=(0,i.c)(15),{hideTopBorder:s}=e,n=ec(),o=!s&&kl.border_t;let r,a,l,c,d,u;return t[0]!==n.atoms.bg||t[1]!==n.atoms.border_contrast_low||t[2]!==o?(r=[n.atoms.bg,n.atoms.border_contrast_low,kl.p_xl,kl.pl_lg,kl.flex_row,kl.gap_md,o],t[0]=n.atoms.bg,t[1]=n.atoms.border_contrast_low,t[2]=o,t[3]=r):r=t[3],t[4]!==n.atoms.text?(a=(0,Ft.jsx)(jS,{style:[n.atoms.text]}),t[4]=n.atoms.text,t[5]=a):a=t[5],t[6]!==n.atoms.text_contrast_medium?(l=[n.atoms.text_contrast_medium,kl.mt_2xs],t[6]=n.atoms.text_contrast_medium,t[7]=l):l=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ft.Trans,{id:"WKrUVy"}),t[8]=c):c=t[8],t[9]!==l?(d=(0,Ft.jsx)(fr,{style:l,children:c}),t[9]=l,t[10]=d):d=t[10],t[11]!==r||t[12]!==a||t[13]!==d?(u=(0,Ft.jsxs)(wo.default,{style:r,children:[a,d]}),t[11]=r,t[12]=a,t[13]=d,t[14]=u):u=t[14],u}let ZO=e=>{const t=(0,i.c)(299),{post:s,record:n,richText:o,moderation:r,treeView:a,depth:l,prevPost:c,nextPost:d,isHighlightedPost:u,hasMore:m,showChildReplyLine:h,showParentReplyLine:p,hasPrecedingItem:f,overrideBlur:g,onPostReply:x,hideTopBorder:_,threadgateRecord:y}=e,{currentAccount:b,hasSession:j}=xh(),v=function(e){const t=(0,i.c)(3),s=(0,mt.useContext)(mj);let n;t[0]!==s||t[1]!==e?(n=()=>s(e),t[0]=s,t[1]=e,t[2]=n):n=t[2];const[o]=(0,mt.useState)(n);return o}(s.uri),w=RM(v?.feed,j),S=ec(),k=mx("default"),{_:C,i18n:P}=(0,ft.useLingui)(),T=Yc(),{openComposer:L}=tw();let A;t[0]!==o?.text?(A=()=>Dw(o?.text)>=Ti,t[0]=o?.text,t[1]=A):A=t[1];const[I,R]=(0,mt.useState)(A),D=Ry(s.author),F=n.reply?.root?.uri||s.uri;let E,M;if(t[2]!==s.author||t[3]!==s.uri){const e=new Is.AtUri(s.uri);M=cS(s.author,"post",e.rkey),t[2]=s.author,t[3]=s.uri,t[4]=M}else M=t[4];E=M;const B=E;let O;t[5]!==C||t[6]!==s.author.handle?(O=C({id:"h0/6nA",values:{0:s.author.handle}}),t[5]=C,t[6]=s.author.handle,t[7]=O):O=t[7];const z=O;let H;t[8]!==s.author?(H=cS(s.author),t[8]=s.author,t[9]=H):H=t[9];const N=H,V=s.author.handle,q=function(e,t){if(!t.reply)return e.author.did;try{return new Is.AtUri(t.reply.root.uri).host}catch{return""}}(s,n)===b?.did;let U,W;if(t[10]!==s.author||t[11]!==s.uri){const e=new Is.AtUri(s.uri);W=cS(s.author,"post",e.rkey,"liked-by"),t[10]=s.author,t[11]=s.uri,t[12]=W}else W=t[12];U=W;const Z=U;let Q;t[13]!==C?(Q=C({id:"hKCvor"}),t[13]=C,t[14]=Q):Q=t[14];const K=Q;let $,G;if(t[15]!==s.author||t[16]!==s.uri){const e=new Is.AtUri(s.uri);G=cS(s.author,"post",e.rkey,"reposted-by"),t[15]=s.author,t[16]=s.uri,t[17]=G}else G=t[17];$=G;const Y=$;let J;t[18]!==C?(J=C({id:"zbE/c9"}),t[18]=C,t[19]=J):J=t[19];const X=J;let ee;t[20]!==y?(ee={threadgateRecord:y},t[20]=y,t[21]=ee):ee=t[21];const te=Nf(ee);let se,ne;t[22]!==b?.did||t[23]!==s.uri||t[24]!==F||t[25]!==te?(se=()=>{const e=te.has(s.uri);return new Is.AtUri(F).host===b?.did&&e?[{type:"reply-hidden",source:{type:"user",did:b?.did},priority:6}]:[]},t[22]=b?.did,t[23]=s.uri,t[24]=F,t[25]=te,t[26]=se):se=t[26],b?.did,t[27]!==se?(ne=se(),t[27]=se,t[28]=ne):ne=t[28];const oe=ne;let re,ie;if(t[29]!==s.author||t[30]!==s.uri){const e=new Is.AtUri(s.uri);ie=cS(s.author,"post",e.rkey,"quotes"),t[29]=s.author,t[30]=s.uri,t[31]=ie}else ie=t[31];re=ie;const ae=re;let le;t[32]!==C?(le=C({id:"Nzo3Va"}),t[32]=C,t[33]=le):le=t[33];const ce=le,de=!!y?.allow?.find(JO),ue=b?.did!==s.author.did&&!de,me=n?.text||"";let he;t[34]!==T.primaryLanguage||t[35]!==me?(he=Us(me,T.primaryLanguage),t[34]=T.primaryLanguage,t[35]=me,t[36]=he):he=t[36];const pe=he;let fe,ge;t[37]!==T.primaryLanguage||t[38]!==s?(ge=T.primaryLanguage&&!qs(s,[T.primaryLanguage]),t[37]=T.primaryLanguage,t[38]=s,t[39]=ge):ge=t[39],fe=Boolean(ge);const xe=fe;let _e;t[40]!==w||t[41]!==r||t[42]!==x||t[43]!==L||t[44]!==s.author||t[45]!==s.cid||t[46]!==s.embed||t[47]!==s.uri||t[48]!==n.text||t[49]!==v?(_e=()=>{v&&w.sendInteraction({item:s.uri,event:"app.bsky.feed.defs#interactionReply",feedContext:v.post.feedContext,reqId:v.post.reqId}),L({replyTo:{uri:s.uri,cid:s.cid,text:n.text,author:s.author,embed:s.embed,moderation:r},onPost:x})},t[40]=w,t[41]=r,t[42]=x,t[43]=L,t[44]=s.author,t[45]=s.cid,t[46]=s.embed,t[47]=s.uri,t[48]=n.text,t[49]=v,t[50]=_e):_e=t[50];const ye=_e;let be;t[51]!==w||t[52]!==s.uri||t[53]!==v?(be=()=>{v&&w.sendInteraction({item:s.uri,event:"app.bsky.feed.defs#clickthroughAuthor",feedContext:v.post.feedContext,reqId:v.post.reqId})},t[51]=w,t[52]=s.uri,t[53]=v,t[54]=be):be=t[54];const je=be;let ve;t[55]!==w||t[56]!==s.uri||t[57]!==v?(ve=()=>{v&&w.sendInteraction({item:s.uri,event:"app.bsky.feed.defs#clickthroughEmbed",feedContext:v.post.feedContext,reqId:v.post.reqId})},t[55]=w,t[56]=s.uri,t[57]=v,t[58]=ve):ve=t[58];const we=ve;let Se;t[59]===Symbol.for("react.memo_cache_sentinel")?(Se=()=>{R(!1)},t[59]=Se):Se=t[59];const ke=Se,{isActive:Ce}=nS(s.author),Pe=v?.post.reason;let Te;if(Is.AppBskyFeedDefs.isReasonRepost(Pe)&&Pe.uri&&Pe.cid){let e;t[60]!==Pe.cid||t[61]!==Pe.uri?(e={uri:Pe.uri,cid:Pe.cid},t[60]=Pe.cid,t[61]=Pe.uri,t[62]=e):e=t[62],Te=e}else Te=void 0;const Le=Te;if(!n){let e,s;return t[63]!==C?(e=C({id:"6DTIMj"}),t[63]=C,t[64]=e):e=t[64],t[65]!==e?(s=(0,Ft.jsx)(Rx,{message:e}),t[65]=e,t[66]=s):s=t[66],s}if(u){let e;t[67]!==k||t[68]!==s.uri||t[69]!==F?(e=F!==s.uri&&(0,Ft.jsx)(wo.default,{style:[kl.pl_lg,kl.flex_row,kl.pb_xs,{height:kl.pt_lg.paddingTop}],children:(0,Ft.jsx)(wo.default,{style:{width:42},children:(0,Ft.jsx)(wo.default,{style:[YO.replyLine,kl.flex_grow,{backgroundColor:k.colors.replyLine}]})})}),t[67]=k,t[68]=s.uri,t[69]=F,t[70]=e):e=t[70];const i=`postThreadItem-by-${s.author.handle}`;let a,l,c;t[71]!==s.uri||t[72]!==F?(a=F===s.uri&&[kl.pt_lg],t[71]=s.uri,t[72]=F,t[73]=a):a=t[73],t[74]!==S.atoms.border_contrast_low||t[75]!==a?(l=[kl.px_lg,S.atoms.border_contrast_low,a],t[74]=S.atoms.border_contrast_low,t[75]=a,t[76]=l):l=t[76],t[77]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_row,kl.gap_md,kl.pb_md],t[77]=c):c=t[77];const d=s.author;let u;t[78]!==r?(u=r.ui("avatar"),t[78]=r,t[79]=u):u=t[79];const m=s.author.associated?.labeler?"labeler":"user";let h,p,f,g,_,b,j,C,T,L,A,I,R,E,M,B,O,z,H,U,W,Q,$,G,J,ee,te,se,ne,re,ie,le,de;t[80]!==Ce||t[81]!==je||t[82]!==s.author||t[83]!==u||t[84]!==m?(h=(0,Ft.jsx)(pP,{size:42,profile:d,moderation:u,type:m,live:Ce,onBeforePress:je}),t[80]=Ce,t[81]=je,t[82]=s.author,t[83]=u,t[84]=m,t[85]=h):h=t[85],t[86]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1],t[86]=p):p=t[86],t[87]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.flex_row,kl.align_center],t[87]=f):f=t[87],t[88]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_shrink],t[88]=g):g=t[88],t[89]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.text_lg,kl.font_bold,kl.leading_snug,kl.self_start],t[89]=_):_=t[89],t[90]!==s.author.displayName||t[91]!==s.author.handle?(b=s.author.displayName||su(s.author.handle),t[90]=s.author.displayName,t[91]=s.author.handle,t[92]=b):b=t[92],t[93]!==r||t[94]!==b?(j=Qf(b,r.ui("displayName")),t[93]=r,t[94]=b,t[95]=j):j=t[95],t[96]!==j?(C=(0,Ft.jsx)(fr,{emoji:!0,style:_,numberOfLines:1,children:j}),t[96]=j,t[97]=C):C=t[97],t[98]!==N||t[99]!==V||t[100]!==je||t[101]!==C?(T=(0,Ft.jsx)(HP,{style:g,href:N,title:V,onBeforePress:je,children:C}),t[98]=N,t[99]=V,t[100]=je,t[101]=C,t[102]=T):T=t[102],t[103]===Symbol.for("react.memo_cache_sentinel")?(L=[{paddingLeft:3,top:-1}],t[103]=L):L=t[103],t[104]!==D?(A=(0,Ft.jsx)(wo.default,{style:L,children:(0,Ft.jsx)(oA,{profile:D,size:"md"})}),t[104]=D,t[105]=A):A=t[105],t[106]!==T||t[107]!==A?(I=(0,Ft.jsxs)(wo.default,{style:f,children:[T,A]}),t[106]=T,t[107]=A,t[108]=I):I=t[108],t[109]!==S.atoms.text_contrast_medium?(R=[kl.text_md,kl.leading_snug,S.atoms.text_contrast_medium],t[109]=S.atoms.text_contrast_medium,t[110]=R):R=t[110],t[111]!==s.author.handle?(E=su(s.author.handle,"@"),t[111]=s.author.handle,t[112]=E):E=t[112],t[113]!==R||t[114]!==E?(M=(0,Ft.jsx)(fr,{emoji:!0,style:R,numberOfLines:1,children:E}),t[113]=R,t[114]=E,t[115]=M):M=t[115],t[116]!==N||t[117]!==V||t[118]!==M?(B=(0,Ft.jsx)(HP,{style:oc.flex1,href:N,title:V,children:M}),t[116]=N,t[117]=V,t[118]=M,t[119]=B):B=t[119],t[120]!==I||t[121]!==B?(O=(0,Ft.jsxs)(wo.default,{style:p,children:[I,B]}),t[120]=I,t[121]=B,t[122]=O):O=t[122],t[123]!==s.author.did||t[124]!==ue?(z=ue&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(CO,{did:s.author.did})}),t[123]=s.author.did,t[124]=ue,t[125]=z):z=t[125],t[126]!==h||t[127]!==O||t[128]!==z?(H=(0,Ft.jsxs)(wo.default,{style:c,children:[h,O,z]}),t[126]=h,t[127]=O,t[128]=z,t[129]=H):H=t[129],t[130]===Symbol.for("react.memo_cache_sentinel")?(U=[kl.pb_sm],t[130]=U):U=t[130],t[131]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.pb_sm],t[131]=W):W=t[131],t[132]!==s?(Q=(0,Ft.jsx)(kA,{post:s,style:W}),t[132]=s,t[133]=Q):Q=t[133],t[134]!==r?($=r.ui("contentView"),t[134]=r,t[135]=$):$=t[135],t[136]===Symbol.for("react.memo_cache_sentinel")?(G=[kl.pt_sm],t[136]=G):G=t[136],t[137]!==r?(J=r.ui("contentView"),t[137]=r,t[138]=J):J=t[138],t[139]===Symbol.for("react.memo_cache_sentinel")?(ee=[kl.pb_sm],t[139]=ee):ee=t[139],t[140]!==oe||t[141]!==J?(te=(0,Ft.jsx)(uD,{modui:J,size:"lg",includeMute:!0,style:ee,additionalCauses:oe}),t[140]=oe,t[141]=J,t[142]=te):te=t[142],t[143]!==s.author.handle||t[144]!==o?(se=o?.text?(0,Ft.jsx)(DC,{enableTags:!0,selectable:!0,value:o,style:[kl.flex_1,kl.text_xl],authorHandle:s.author.handle,shouldProxyLinks:!0}):void 0,t[143]=s.author.handle,t[144]=o,t[145]=se):se=t[145],t[146]!==r||t[147]!==we||t[148]!==s.embed?(ne=s.embed&&(0,Ft.jsx)(wo.default,{style:[kl.py_xs],children:(0,Ft.jsx)(sF,{embed:s.embed,moderation:r,viewContext:zR.ThreadHighlighted,onOpen:we})}),t[146]=r,t[147]=we,t[148]=s.embed,t[149]=ne):ne=t[149],t[150]!==$||t[151]!==te||t[152]!==se||t[153]!==ne?(re=(0,Ft.jsxs)(DR,{modui:$,ignoreMute:!0,childContainerStyle:G,children:[te,se,ne]}),t[150]=$,t[151]=te,t[152]=se,t[153]=ne,t[154]=re):re=t[154],t[155]!==q||t[156]!==xe||t[157]!==s||t[158]!==pe?(ie=(0,Ft.jsx)(KO,{post:s,isThreadAuthor:q,translatorUrl:pe,needsTranslation:xe}),t[155]=q,t[156]=xe,t[157]=s,t[158]=pe,t[159]=ie):ie=t[159],t[160]!==P||t[161]!==Z||t[162]!==K||t[163]!==s.likeCount||t[164]!==s.quoteCount||t[165]!==s.repostCount||t[166]!==s.viewer?.embeddingDisabled||t[167]!==ae||t[168]!==ce||t[169]!==Y||t[170]!==X||t[171]!==S.atoms.border_contrast_low||t[172]!==S.atoms.text||t[173]!==S.atoms.text_contrast_medium?(le=0!==s.repostCount||0!==s.likeCount||0!==s.quoteCount?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_lg,kl.border_t,kl.border_b,kl.mt_md,kl.py_md,S.atoms.border_contrast_low],children:[null!=s.repostCount&&0!==s.repostCount?(0,Ft.jsx)(HP,{href:Y,title:X,children:(0,Ft.jsxs)(fr,{testID:"repostCount-expanded",style:[kl.text_md,S.atoms.text_contrast_medium],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,S.atoms.text],children:$S(P,s.repostCount)})," ",(0,Ft.jsx)(ft.Trans,{id:"e+A73X",values:{0:s.repostCount}})]})}):null,null==s.quoteCount||0===s.quoteCount||s.viewer?.embeddingDisabled?null:(0,Ft.jsx)(HP,{href:ae,title:ce,children:(0,Ft.jsxs)(fr,{testID:"quoteCount-expanded",style:[kl.text_md,S.atoms.text_contrast_medium],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,S.atoms.text],children:$S(P,s.quoteCount)})," ",(0,Ft.jsx)(ft.Trans,{id:"7v0+cj",values:{0:s.quoteCount}})]})}),null!=s.likeCount&&0!==s.likeCount?(0,Ft.jsx)(HP,{href:Z,title:K,children:(0,Ft.jsxs)(fr,{testID:"likeCount-expanded",style:[kl.text_md,S.atoms.text_contrast_medium],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,S.atoms.text],children:$S(P,s.likeCount)})," ",(0,Ft.jsx)(ft.Trans,{id:"zOYN4l",values:{0:s.likeCount}})]})}):null]}):null,t[160]=P,t[161]=Z,t[162]=K,t[163]=s.likeCount,t[164]=s.quoteCount,t[165]=s.repostCount,t[166]=s.viewer?.embeddingDisabled,t[167]=ae,t[168]=ce,t[169]=Y,t[170]=X,t[171]=S.atoms.border_contrast_low,t[172]=S.atoms.text,t[173]=S.atoms.text_contrast_medium,t[174]=le):le=t[174],t[175]===Symbol.for("react.memo_cache_sentinel")?(de=[kl.pt_sm,kl.pb_2xs,{marginLeft:-5}],t[175]=de):de=t[175];const me=v?.post?.feedContext,he=v?.post?.reqId;let fe,ge,_e,be,ve;return t[176]!==x||t[177]!==ye||t[178]!==s||t[179]!==n||t[180]!==o||t[181]!==me||t[182]!==he||t[183]!==y||t[184]!==Le?(fe=(0,Ft.jsx)(rO,{big:!0,post:s,record:n,richText:o,onPressReply:ye,onPostReply:x,logContext:"PostThreadItem",threadgateRecord:y,feedContext:me,reqId:he,viaRepost:Le}),t[176]=x,t[177]=ye,t[178]=s,t[179]=n,t[180]=o,t[181]=me,t[182]=he,t[183]=y,t[184]=Le,t[185]=fe):fe=t[185],t[186]!==w||t[187]!==fe?(ge=(0,Ft.jsx)(wo.default,{style:de,children:(0,Ft.jsx)(DM,{value:w,children:fe})}),t[186]=w,t[187]=fe,t[188]=ge):ge=t[188],t[189]!==Q||t[190]!==re||t[191]!==ie||t[192]!==le||t[193]!==ge?(_e=(0,Ft.jsxs)(wo.default,{style:U,children:[Q,re,ie,le,ge]}),t[189]=Q,t[190]=re,t[191]=ie,t[192]=le,t[193]=ge,t[194]=_e):_e=t[194],t[195]!==i||t[196]!==l||t[197]!==H||t[198]!==_e?(be=(0,Ft.jsxs)(wo.default,{testID:i,style:l,children:[H,_e]}),t[195]=i,t[196]=l,t[197]=H,t[198]=_e,t[199]=be):be=t[199],t[200]!==e||t[201]!==be?(ve=(0,Ft.jsxs)(Ft.Fragment,{children:[e,be]}),t[200]=e,t[201]=be,t[202]=ve):ve=t[202],ve}{const e=a&&l>0,i=e&&c?.ctx.depth===l&&1!==l,u=e&&d?.ctx.depth===l,x=!!p,b=`postThreadItem-by-${s.author.handle}`;let j;t[203]!==r?(j=r.ui("contentList"),t[203]=r,t[204]=j):j=t[204];const v=e?24:42;let w;t[205]!==e?(w=e?{marginRight:4}:{marginLeft:2,marginRight:2},t[205]=e,t[206]=w):w=t[206];const P=s.author,T=i?8:16;let L,A,R,D,F;t[207]!==T?(L={flexDirection:"row",gap:10,paddingLeft:8,height:T},t[207]=T,t[208]=L):L=t[208],t[209]===Symbol.for("react.memo_cache_sentinel")?(A={width:42},t[209]=A):A=t[209],t[210]!==e||t[211]!==k||t[212]!==p?(R=!e&&p&&(0,Ft.jsx)(wo.default,{style:[YO.replyLine,{flexGrow:1,backgroundColor:k.colors.replyLine,marginBottom:4}]}),t[210]=e,t[211]=k,t[212]=p,t[213]=R):R=t[213],t[214]!==R?(D=(0,Ft.jsx)(wo.default,{style:A,children:R}),t[214]=R,t[215]=D):D=t[215],t[216]!==L||t[217]!==D?(F=(0,Ft.jsx)(wo.default,{style:L,children:D}),t[216]=L,t[217]=D,t[218]=F):F=t[218];const E=h&&!e?0:u?4:8;let M,O,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se;return t[219]!==E?(M=[kl.flex_row,kl.px_sm,kl.gap_md,{paddingBottom:E}],t[219]=E,t[220]=M):M=t[220],t[221]!==e||t[222]!==Ce||t[223]!==r||t[224]!==k||t[225]!==s.author||t[226]!==h?(O=!e&&(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(pP,{size:42,profile:s.author,moderation:r.ui("avatar"),type:s.author.associated?.labeler?"labeler":"user",live:Ce}),h&&(0,Ft.jsx)(wo.default,{style:[YO.replyLine,{flexGrow:1,backgroundColor:k.colors.replyLine,marginTop:4}]})]}),t[221]=e,t[222]=Ce,t[223]=r,t[224]=k,t[225]=s.author,t[226]=h,t[227]=O):O=t[227],t[228]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.flex_1],t[228]=H):H=t[228],t[229]===Symbol.for("react.memo_cache_sentinel")?(N=[kl.pb_xs],t[229]=N):N=t[229],t[230]!==e||t[231]!==r||t[232]!==s.author||t[233]!==s.indexedAt||t[234]!==B?(V=(0,Ft.jsx)(hD,{author:s.author,moderation:r,timestamp:s.indexedAt,postHref:B,showAvatar:e,avatarSize:24,style:N}),t[230]=e,t[231]=r,t[232]=s.author,t[233]=s.indexedAt,t[234]=B,t[235]=V):V=t[235],t[236]===Symbol.for("react.memo_cache_sentinel")?(q=[kl.pb_xs],t[236]=q):q=t[236],t[237]!==s?(U=(0,Ft.jsx)(kA,{post:s,style:q}),t[237]=s,t[238]=U):U=t[238],t[239]!==r?(W=r.ui("contentList"),t[239]=r,t[240]=W):W=t[240],t[241]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.pb_2xs],t[241]=Z):Z=t[241],t[242]!==oe||t[243]!==W?(Q=(0,Ft.jsx)(uD,{modui:W,style:Z,additionalCauses:oe}),t[242]=oe,t[243]=W,t[244]=Q):Q=t[244],t[245]!==I||t[246]!==s.author.handle||t[247]!==o?(K=o?.text?(0,Ft.jsx)(wo.default,{style:[kl.pb_2xs,kl.pr_sm],children:(0,Ft.jsx)(DC,{enableTags:!0,value:o,style:[kl.flex_1,kl.text_md],numberOfLines:I?Ti:void 0,authorHandle:s.author.handle,shouldProxyLinks:!0})}):void 0,t[245]=I,t[246]=s.author.handle,t[247]=o,t[248]=K):K=t[248],t[249]!==C||t[250]!==I||t[251]!==k?($=I?(0,Ft.jsx)(NP,{text:C({id:"YHc0+l"}),style:k.link,onPress:ke,href:"#"}):void 0,t[249]=C,t[250]=I,t[251]=k,t[252]=$):$=t[252],t[253]!==r||t[254]!==s.embed?(G=s.embed&&(0,Ft.jsx)(wo.default,{style:[kl.pb_xs],children:(0,Ft.jsx)(sF,{embed:s.embed,moderation:r,viewContext:zR.Feed})}),t[253]=r,t[254]=s.embed,t[255]=G):G=t[255],t[256]!==ye||t[257]!==s||t[258]!==n||t[259]!==o||t[260]!==y?(Y=(0,Ft.jsx)(rO,{post:s,record:n,richText:o,onPressReply:ye,logContext:"PostThreadItem",threadgateRecord:y}),t[256]=ye,t[257]=s,t[258]=n,t[259]=o,t[260]=y,t[261]=Y):Y=t[261],t[262]!==V||t[263]!==U||t[264]!==Q||t[265]!==K||t[266]!==$||t[267]!==G||t[268]!==Y?(J=(0,Ft.jsxs)(wo.default,{style:H,children:[V,U,Q,K,$,G,Y]}),t[262]=V,t[263]=U,t[264]=Q,t[265]=K,t[266]=$,t[267]=G,t[268]=Y,t[269]=J):J=t[269],t[270]!==M||t[271]!==O||t[272]!==J?(X=(0,Ft.jsxs)(wo.default,{style:M,children:[O,J]}),t[270]=M,t[271]=O,t[272]=J,t[273]=X):X=t[273],t[274]!==m||t[275]!==z||t[276]!==B||t[277]!==S||t[278]!==a?(ee=m?(0,Ft.jsxs)(HP,{style:[YO.loadMore,{paddingLeft:a?8:70,paddingTop:0,paddingBottom:a?4:12}],href:B,title:z,noFeedback:!0,children:[(0,Ft.jsx)(fr,{style:[S.atoms.text_contrast_medium,kl.font_bold,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"2FYpfJ"})}),(0,Ft.jsx)(QT,{size:"xs",style:[S.atoms.text_contrast_medium]})]}):void 0,t[274]=m,t[275]=z,t[276]=B,t[277]=S,t[278]=a,t[279]=ee):ee=t[279],t[280]!==g||t[281]!==s.author||t[282]!==B||t[283]!==b||t[284]!==j||t[285]!==v||t[286]!==w||t[287]!==F||t[288]!==X||t[289]!==ee?(te=(0,Ft.jsxs)(AO,{testID:b,href:B,disabled:g,modui:j,iconSize:v,iconStyles:w,profile:P,interpretFilterAsBlur:!0,children:[F,X,ee]}),t[280]=g,t[281]=s.author,t[282]=B,t[283]=b,t[284]=j,t[285]=v,t[286]=w,t[287]=F,t[288]=X,t[289]=ee,t[290]=te):te=t[290],t[291]!==l||t[292]!==f||t[293]!==_||t[294]!==s||t[295]!==x||t[296]!==te||t[297]!==a?(se=(0,Ft.jsx)(QO,{post:s,depth:l,showParentReplyLine:x,treeView:a,hasPrecedingItem:f,hideTopBorder:_,children:te}),t[291]=l,t[292]=f,t[293]=_,t[294]=s,t[295]=x,t[296]=te,t[297]=a,t[298]=se):se=t[298],se}};function QO(e){const t=(0,i.c)(35),{post:s,treeView:n,depth:o,showParentReplyLine:r,hasPrecedingItem:a,hideTopBorder:l,children:c}=e,d=ec(),{state:u,onIn:m,onOut:h}=Ki();if(n&&o>0){const e=1===o&&kl.border_t;let n,r,i;t[0]!==d.atoms.border_contrast_low||t[1]!==e?(n=[kl.flex_row,kl.px_sm,kl.flex_row,d.atoms.border_contrast_low,YO.cursor,e],t[0]=d.atoms.border_contrast_low,t[1]=e,t[2]=n):n=t[2],t[3]!==o?(r=Array.from(Array(o-1)),t[3]=o,t[4]=r):r=t[4],t[5]!==s||t[6]!==d.atoms.border_contrast_low||t[7]!==r?(i=r.map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.ml_sm,d.atoms.border_contrast_low,{borderLeftWidth:2,paddingLeft:kl.pl_sm.paddingLeft-2}]},`${s.uri}-padding-${t}`))),t[5]=s,t[6]=d.atoms.border_contrast_low,t[7]=r,t[8]=i):i=t[8];const a=(1===o?0:2)-kl.pl_sm.paddingLeft;let l,p,f,g;return t[9]!==a?(l={left:a,right:-kl.pr_sm.paddingRight},t[9]=a,t[10]=l):l=t[10],t[11]!==u||t[12]!==l?(p=(0,Ft.jsx)(cD,{hover:u,style:l}),t[11]=u,t[12]=l,t[13]=p):p=t[13],t[14]!==c||t[15]!==p?(f=(0,Ft.jsxs)(wo.default,{style:kl.flex_1,children:[p,c]}),t[14]=c,t[15]=p,t[16]=f):f=t[16],t[17]!==m||t[18]!==h||t[19]!==n||t[20]!==i||t[21]!==f?(g=(0,Ft.jsxs)(wo.default,{style:n,onPointerEnter:m,onPointerLeave:h,children:[i,f]}),t[17]=m,t[18]=h,t[19]=n,t[20]=i,t[21]=f,t[22]=g):g=t[22],g}const p=r&&a&&YO.noTopBorder,f=l&&YO.noTopBorder;let g,x,_;return t[23]!==d.atoms.border_contrast_low||t[24]!==p||t[25]!==f?(g=[kl.border_t,kl.px_sm,d.atoms.border_contrast_low,p,f,YO.cursor],t[23]=d.atoms.border_contrast_low,t[24]=p,t[25]=f,t[26]=g):g=t[26],t[27]!==u?(x=(0,Ft.jsx)(cD,{hover:u}),t[27]=u,t[28]=x):x=t[28],t[29]!==c||t[30]!==m||t[31]!==h||t[32]!==g||t[33]!==x?(_=(0,Ft.jsxs)(wo.default,{onPointerEnter:m,onPointerLeave:h,style:g,children:[x,c]}),t[29]=c,t[30]=m,t[31]=h,t[32]=g,t[33]=x,t[34]=_):_=t[34],_}function KO(e){const t=(0,i.c)(35),{post:s,isThreadAuthor:n,needsTranslation:o,translatorUrl:r}=e,a=ec(),l=mx("default"),{_:c,i18n:d}=(0,ft.useLingui)(),u=nv(),m=!("reply"in s.record),h=Yc();let p;t[0]!==h||t[1]!==u||t[2]!==s.record||t[3]!==r?(p=e=>(e.preventDefault(),u(r,!0),If(s.record,Is.AppBskyFeedPost.isRecord)&&ys.metric("translate",{sourceLanguages:s.record.langs??[],targetLanguage:h.primaryLanguage,textLength:s.record.text.length}),!1),t[0]=h,t[1]=u,t[2]=s.record,t[3]=r,t[4]=p):p=t[4];const f=p;let g,x,_,y,b,j,v,w,S,k;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.gap_md,kl.pt_md,kl.align_start],t[5]=g):g=t[5],t[6]!==s?(x=(0,Ft.jsx)($O,{post:s}),t[6]=s,t[7]=x):x=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_row,kl.align_center,kl.flex_wrap,kl.gap_sm],t[8]=_):_=t[8],t[9]!==a.atoms.text_contrast_medium?(y=[kl.text_sm,a.atoms.text_contrast_medium],t[9]=a.atoms.text_contrast_medium,t[10]=y):y=t[10],t[11]!==d||t[12]!==s.indexedAt?(b=kd(d,s.indexedAt),t[11]=d,t[12]=s.indexedAt,t[13]=b):b=t[13],t[14]!==y||t[15]!==b?(j=(0,Ft.jsx)(fr,{style:y,children:b}),t[14]=y,t[15]=b,t[16]=j):j=t[16],t[17]!==m||t[18]!==n||t[19]!==s?(v=m&&(0,Ft.jsx)(BO,{post:s,isThreadAuthor:n}),t[17]=m,t[18]=n,t[19]=s,t[20]=v):v=t[20],t[21]!==c||t[22]!==o||t[23]!==f||t[24]!==l||t[25]!==a.atoms.text_contrast_medium||t[26]!==r?(w=o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,a.atoms.text_contrast_medium],children:"\xb7"}),(0,Ft.jsx)(fv,{to:r,label:c({id:"pi8x/S"}),style:[kl.text_sm,l.link],onPress:f,children:(0,Ft.jsx)(ft.Trans,{id:"pi8x/S"})})]}),t[21]=c,t[22]=o,t[23]=f,t[24]=l,t[25]=a.atoms.text_contrast_medium,t[26]=r,t[27]=w):w=t[27],t[28]!==j||t[29]!==v||t[30]!==w?(S=(0,Ft.jsxs)(wo.default,{style:_,children:[j,v,w]}),t[28]=j,t[29]=v,t[30]=w,t[31]=S):S=t[31],t[32]!==S||t[33]!==x?(k=(0,Ft.jsxs)(wo.default,{style:g,children:[x,S]}),t[32]=S,t[33]=x,t[34]=k):k=t[34],k}function $O(e){const t=(0,i.c)(69),{post:s}=e,n=ec(),{_:o,i18n:r}=(0,ft.useLingui)(),a=Ar(),l=s.indexedAt;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A;if(t[0]!==o||t[1]!==a||t[2]!==r||t[3]!==s.indexedAt||t[4]!==s.record||t[5]!==n){_=Symbol.for("react.early_return_sentinel");e:{const e=new Date(l),i=If(s.record,Is.AppBskyFeedPost.isRecord)?new Date(s.record.createdAt):new Date(s.indexedAt);if(!(e.getTime()-i.getTime()>864e5)){_=null;break e}const y="light"===n.name?Bj.warning.dark:Bj.warning.light;let b,j,v,w;t[16]!==o?(b=o({id:"EjUStI"}),t[16]=o,t[17]=b):b=t[17],t[18]!==o?(j=o({id:"RguqUs"}),t[18]=o,t[19]=j):j=t[19],t[20]!==a?(v=e=>{e.preventDefault(),e.stopPropagation(),a.open()},t[20]=a,t[21]=v):v=t[21],t[22]!==i||t[23]!==r||t[24]!==y||t[25]!==n.atoms.bg_contrast_25||t[26]!==n.atoms.bg_contrast_50||t[27]!==n.atoms.text_contrast_medium?(w=e=>{const{hovered:t,pressed:s}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.rounded_full,n.atoms.bg_contrast_25,(t||s)&&n.atoms.bg_contrast_50,{gap:3,paddingHorizontal:6,paddingVertical:3}],children:[(0,Ft.jsx)(TO,{fill:y,size:"sm","aria-hidden":!0}),(0,Ft.jsx)(fr,{style:[kl.text_xs,kl.font_bold,kl.leading_tight,n.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"DaAIfw",values:{0:kd(r,i)}})})]})},t[22]=i,t[23]=r,t[24]=y,t[25]=n.atoms.bg_contrast_25,t[26]=n.atoms.bg_contrast_50,t[27]=n.atoms.text_contrast_medium,t[28]=w):w=t[28],t[29]!==j||t[30]!==v||t[31]!==w||t[32]!==b?(x=(0,Ft.jsx)(Sr,{label:b,accessibilityHint:j,onPress:v,children:w}),t[29]=j,t[30]=v,t[31]=w,t[32]=b,t[33]=x):x=t[33],u=px,f=a,t[34]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(fx,{children:(0,Ft.jsx)(ft.Trans,{id:"EjUStI"})}),t[34]=g):g=t[34],d=gx,c=ft.Trans,p="QPZ2Bk",t[35]!==i||t[36]!==r?(m=kd(r,i),t[35]=i,t[36]=r,t[37]=m):m=t[37],h=kd(r,e)}t[0]=o,t[1]=a,t[2]=r,t[3]=s.indexedAt,t[4]=s.record,t[5]=n,t[6]=c,t[7]=d,t[8]=u,t[9]=m,t[10]=h,t[11]=p,t[12]=f,t[13]=g,t[14]=x,t[15]=_}else c=t[6],d=t[7],u=t[8],m=t[9],h=t[10],p=t[11],f=t[12],g=t[13],x=t[14],_=t[15];return _!==Symbol.for("react.early_return_sentinel")?_:(t[38]!==m||t[39]!==h?(y={0:m,1:h},t[38]=m,t[39]=h,t[40]=y):y=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ur.default,{style:[kl.font_bold]}),t[41]=b):b=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(j={0:b,1:(0,Ft.jsx)(ur.default,{style:[kl.font_bold]})},t[42]=j):j=t[42],t[43]!==c||t[44]!==p||t[45]!==y?(v=(0,Ft.jsx)(c,{id:p,values:y,components:j}),t[43]=c,t[44]=p,t[45]=y,t[46]=v):v=t[46],t[47]!==d||t[48]!==v?(w=(0,Ft.jsx)(d,{children:v}),t[47]=d,t[48]=v,t[49]=w):w=t[49],t[50]!==n.atoms.text_contrast_high?(S=[kl.text_md,kl.leading_snug,n.atoms.text_contrast_high,kl.pb_xl],t[50]=n.atoms.text_contrast_high,t[51]=S):S=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(ft.Trans,{id:"f4olkV"}),t[52]=k):k=t[52],t[53]!==S?(C=(0,Ft.jsx)(fr,{style:S,children:k}),t[53]=S,t[54]=C):C=t[54],t[55]!==o?(P=o({id:"UaXeX3"}),t[55]=o,t[56]=P):P=t[56],t[57]!==P?(T=(0,Ft.jsx)(xx,{children:(0,Ft.jsx)(yx,{cta:P,onPress:GO})}),t[57]=P,t[58]=T):T=t[58],t[59]!==u||t[60]!==w||t[61]!==C||t[62]!==T||t[63]!==f||t[64]!==g?(L=(0,Ft.jsxs)(u,{control:f,children:[g,w,C,T]}),t[59]=u,t[60]=w,t[61]=C,t[62]=T,t[63]=f,t[64]=g,t[65]=L):L=t[65],t[66]!==L||t[67]!==x?(A=(0,Ft.jsxs)(Ft.Fragment,{children:[x,L]}),t[66]=L,t[67]=x,t[68]=A):A=t[68],A)}function GO(){}ZO=(0,mt.memo)(ZO);const YO=Gn.default.create({outer:{borderTopWidth:Gn.default.hairlineWidth,paddingLeft:8},noTopBorder:{borderTopWidth:0},meta:{flexDirection:"row",paddingVertical:2},metaExpandedLine1:{paddingVertical:0},loadMore:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start",gap:4,paddingHorizontal:20},replyLine:{width:2,marginLeft:"auto",marginRight:"auto"},cursor:{cursor:"pointer"}});function JO(e){return"app.bsky.feed.threadgate#followerRule"===e.$type}const XO=Object.keys(Is.LABELS),ez=({})=>{const e=ec(),[t,s]=mt.useState(["label"]),[n,o]=mt.useState([]),[r,i]=mt.useState([XO[0]]),[a,l]=mt.useState(["account"]),[c,d]=mt.useState(["warn"]),[u,m]=mt.useState({identifier:"custom",blurs:"content",severity:"alert",defaultSetting:"warn",locales:[{lang:"en",name:"Custom label",description:"A custom label created in this test environment"}]}),[h,p]=mt.useState(["post"]),f=LS(),{currentAccount:g}=xh(),x="label"===t[0]&&n.includes("targetMe"),_="label"===t[0]&&n.includes("selfLabel"),y="label"===t[0]&&n.includes("noAdult"),b="label"===t[0]&&n.includes("loggedOut"),j=n.includes("following"),v=x&&g?g.did:"did:web:bob.test",w=mt.useMemo((()=>{const e=Is.mock.profileViewBasic({handle:"bob.test",displayName:"Bob Robertson",description:"User with this as their bio",labels:"label"===t[0]&&"account"===a[0]?[Is.mock.label({src:_?v:void 0,val:r[0],uri:`at://${v}/`})]:"label"===t[0]&&"profile"===a[0]?[Is.mock.label({src:_?v:void 0,val:r[0],uri:`at://${v}/app.bsky.actor.profile/self`})]:void 0,viewer:Is.mock.actorViewerState({following:j?`at://${g?.did||""}/app.bsky.graph.follow/1234`:void 0,muted:"mute"===t[0],mutedByList:void 0,blockedBy:void 0,blocking:"block"===t[0]?"at://did:web:alice.test/app.bsky.actor.block/fake":void 0,blockingByList:void 0})});return e.did=v,e.avatar="https://bsky.social/about/images/favicon-32x32.png",e.banner="https://bsky.social/about/images/social-card-default-gradient.png",e}),[t,a,r,_,v,j,g]),S=mt.useMemo((()=>Is.mock.postView({record:Is.mock.post({text:"This is the body of the post. It's where the text goes. You get the idea."}),author:w,labels:"label"===t[0]&&"post"===a[0]?[Is.mock.label({src:_?v:void 0,val:r[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0,embed:"embed"===a[0]?Is.mock.embedRecordView({record:Is.mock.post({text:"Embed"}),labels:"label"===t[0]&&"embed"===a[0]?[Is.mock.label({src:_?v:void 0,val:r[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0,author:w}):{$type:"app.bsky.embed.images#view",images:[{thumb:"https://bsky.social/about/images/social-card-default-gradient.png",fullsize:"https://bsky.social/about/images/social-card-default-gradient.png",alt:""}]}})),[t,r,a,w,_,v]),k=mt.useMemo((()=>{const e=Is.mock.replyNotification({record:Is.mock.post({text:"This is the body of the post. It's where the text goes. You get the idea.",reply:{parent:{uri:`at://${v}/app.bsky.feed.post/fake-parent`,cid:"bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq"},root:{uri:`at://${v}/app.bsky.feed.post/fake-parent`,cid:"bafyreiclp443lavogvhj3d2ob2cxbfuscni2k5jk7bebjzg7khl3esabwq"}}}),author:w,labels:"label"===t[0]&&"post"===a[0]?[Is.mock.label({src:_?v:void 0,val:r[0],uri:`at://${v}/app.bsky.feed.post/fake`})]:void 0}),[s]=Cb([e]);return s.subject=Is.mock.postView({record:e.record,author:w,labels:e.labels}),s}),[t,r,a,w,_,v]),C=mt.useMemo((()=>{const e=Is.mock.followNotification({author:w,subjectDid:g?.did||""}),[t]=Cb([e]);return t}),[w,g]),P=mt.useMemo((()=>({userDid:b?"":x?v:"did:web:alice.test",prefs:{adultContentEnabled:!y,labels:{[r[0]]:c[0]},labelers:[{did:"did:plc:fake-labeler",labels:{[r[0]]:c[0]}}],mutedWords:[],hiddenPosts:[]},labelDefs:{"did:plc:fake-labeler":[(0,Is.interpretLabelValueDefinition)(u,"did:plc:fake-labeler")]}})),[r,c,y,b,x,v,u]),T=mt.useMemo((()=>(0,Is.moderateProfile)(w,P)),[w,P]),L=mt.useMemo((()=>(0,Is.moderatePost)(S,P)),[S,P]);return(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(Bp.Provider,{value:P,children:(0,Ft.jsx)($P,{children:(0,Ft.jsxs)(KP,{style:[e.atoms.bg,kl.px_lg,kl.py_lg],children:[(0,Ft.jsx)(xr,{style:[kl.text_5xl,kl.font_bold,kl.pb_lg],children:"Moderation states"}),(0,Ft.jsx)(tz,{title:"",subtitle:"Scenario"}),(0,Ft.jsxs)(fI,{label:"Scenario",values:t,onChange:s,children:[(0,Ft.jsx)(gI,{name:"label",label:"Label",children:(0,Ft.jsx)(_I,{children:"Label"})}),(0,Ft.jsx)(gI,{name:"block",label:"Block",children:(0,Ft.jsx)(_I,{children:"Block"})}),(0,Ft.jsx)(gI,{name:"mute",label:"Mute",children:(0,Ft.jsx)(_I,{children:"Mute"})})]}),"label"===t[0]&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.border,kl.rounded_sm,kl.mt_lg,kl.mb_lg,kl.p_lg,e.atoms.border_contrast_medium],children:[(0,Ft.jsx)(rI,{label:"Toggle",type:"radio",values:r,onChange:i,children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.flex_wrap],children:[XO.map((e=>{let t=a[0];"account"!==t&&"profile"!==t&&(t="content");const s=_&&Is.LABELS[e].flags.includes("no-self");return(0,Ft.jsxs)(iI,{name:e,label:f[e].name,disabled:s,style:s?{opacity:.5}:void 0,children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:e})]},e)})),(0,Ft.jsxs)(iI,{name:"custom",label:"Custom label",disabled:_,style:_?{opacity:.5}:void 0,children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Custom label"})]})]})}),"custom"===r[0]?(0,Ft.jsx)(sz,{def:u,setDef:m}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:{height:10}}),(0,Ft.jsx)(Iv,{})]}),(0,Ft.jsx)(wo.default,{style:{height:10}}),(0,Ft.jsxs)(oz,{label:"Advanced",children:[(0,Ft.jsx)(rI,{label:"Toggle",type:"checkbox",values:n,onChange:o,children:(0,Ft.jsxs)(wo.default,{style:[kl.gap_md,kl.flex_row,kl.flex_wrap,kl.pt_md],children:[(0,Ft.jsxs)(iI,{name:"targetMe",label:"Target is me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Target is me"})]}),(0,Ft.jsxs)(iI,{name:"following",label:"Following target",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Following target"})]}),(0,Ft.jsxs)(iI,{name:"selfLabel",label:"Self label",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Self label"})]}),(0,Ft.jsxs)(iI,{name:"noAdult",label:"Adult disabled",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Adult disabled"})]}),(0,Ft.jsxs)(iI,{name:"loggedOut",label:"Signed out",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Signed out"})]})]})}),!1!==Is.LABELS[r[0]]?.configurable&&(0,Ft.jsxs)(wo.default,{style:[kl.mt_md],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xs,e.atoms.text,kl.pb_sm],children:"Preference"}),(0,Ft.jsx)(rI,{label:"Preference",type:"radio",values:c,onChange:d,children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.flex_wrap,kl.align_center],children:[(0,Ft.jsxs)(iI,{name:"hide",label:"Hide",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Hide"})]}),(0,Ft.jsxs)(iI,{name:"warn",label:"Warn",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Warn"})]}),(0,Ft.jsxs)(iI,{name:"ignore",label:"Ignore",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Ignore"})]})]})})]})]})]}),(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.gap_md],children:(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xs,e.atoms.text,kl.pl_md,kl.pb_xs],children:"Target"}),(0,Ft.jsx)(wo.default,{style:[kl.border,kl.rounded_full,kl.px_md,kl.py_sm,e.atoms.border_contrast_medium,e.atoms.bg],children:(0,Ft.jsx)(rI,{label:"Target",type:"radio",values:a,onChange:l,children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.flex_wrap],children:[(0,Ft.jsxs)(iI,{name:"account",label:"Account",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Account"})]}),(0,Ft.jsxs)(iI,{name:"profile",label:"Profile",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Profile"})]}),(0,Ft.jsxs)(iI,{name:"post",label:"Post",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Post"})]}),(0,Ft.jsxs)(iI,{name:"embed",label:"Embed",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Embed"})]})]})})})]})})]}),(0,Ft.jsx)(az,{}),(0,Ft.jsx)(tz,{title:"",subtitle:"Results"}),(0,Ft.jsxs)(fI,{label:"Results",values:h,onChange:p,children:[(0,Ft.jsx)(gI,{name:"post",label:"Post",children:(0,Ft.jsx)(_I,{children:"Post"})}),(0,Ft.jsx)(gI,{name:"notifications",label:"Notifications",children:(0,Ft.jsx)(_I,{children:"Notifications"})}),(0,Ft.jsx)(gI,{name:"account",label:"Account",children:(0,Ft.jsx)(_I,{children:"Account"})}),(0,Ft.jsx)(gI,{name:"data",label:"Data",children:(0,Ft.jsx)(_I,{children:"Data"})})]}),(0,Ft.jsxs)(wo.default,{style:[kl.border,kl.rounded_sm,kl.mt_lg,kl.p_md,e.atoms.border_contrast_medium],children:["post"===h[0]&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(tz,{title:"Post",subtitle:"in feed"}),(0,Ft.jsx)(lz,{post:S,moderation:L}),(0,Ft.jsx)(tz,{title:"Post",subtitle:"viewed directly"}),(0,Ft.jsx)(cz,{post:S,moderation:L}),(0,Ft.jsx)(tz,{title:"Post",subtitle:"reply in thread"}),(0,Ft.jsx)(cz,{post:S,moderation:L,reply:!0})]}),"notifications"===h[0]&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(tz,{title:"Notification",subtitle:"quote or reply"}),(0,Ft.jsx)(uz,{notif:k,moderationOpts:P}),(0,Ft.jsx)(wo.default,{style:{height:20}}),(0,Ft.jsx)(tz,{title:"Notification",subtitle:"follow or like"}),(0,Ft.jsx)(uz,{notif:C,moderationOpts:P})]}),"account"===h[0]&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(tz,{title:"Account",subtitle:"in listing"}),(0,Ft.jsx)(mz,{profile:w,moderation:T}),(0,Ft.jsx)(tz,{title:"Account",subtitle:"viewing directly"}),(0,Ft.jsx)(hz,{profile:w,moderation:T,moderationOpts:P})]}),"data"===h[0]&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(iz,{label:"Profile Moderation UI",mod:T}),(0,Ft.jsx)(iz,{label:"Post Moderation UI",mod:L}),(0,Ft.jsx)(rz,{label:r[0],data:Is.LABELS[r[0]]}),(0,Ft.jsx)(rz,{label:"Profile Moderation Data",data:T}),(0,Ft.jsx)(rz,{label:"Post Moderation Data",data:L})]})]}),(0,Ft.jsx)(wo.default,{style:{height:400}})]})})})})};function tz(e){const t=(0,i.c)(7),{title:s,subtitle:n}=e,o=ec();let r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.text_3xl,kl.font_bold,kl.pb_md],t[0]=r):r=t[0],t[1]!==n||t[2]!==o?(a=!!n&&(0,Ft.jsx)(_r,{style:[o.atoms.text_contrast_medium,kl.text_lg],children:n}),t[1]=n,t[2]=o,t[3]=a):a=t[3],t[4]!==a||t[5]!==s?(l=(0,Ft.jsxs)(_r,{style:r,children:[s," ",a]}),t[4]=a,t[5]=s,t[6]=l):l=t[6],l}function sz(e){const t=(0,i.c)(50),{def:s,setDef:n}=e,o=ec();let r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;return t[0]!==o.atoms.bg_contrast_25?(r=[kl.flex_row,kl.flex_wrap,kl.gap_md,o.atoms.bg_contrast_25,kl.rounded_md,kl.p_md,kl.mt_md],t[0]=o.atoms.bg_contrast_25,t[1]=r):r=t[1],t[2]!==o.atoms.text?(a=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xs,o.atoms.text,kl.pl_md,kl.pb_xs],children:"Blurs"}),t[2]=o.atoms.text,t[3]=a):a=t[3],t[4]!==o.atoms.bg||t[5]!==o.atoms.border_contrast_medium?(l=[kl.border,kl.rounded_full,kl.px_md,kl.py_sm,o.atoms.border_contrast_medium,o.atoms.bg],t[4]=o.atoms.bg,t[5]=o.atoms.border_contrast_medium,t[6]=l):l=t[6],t[7]!==s.blurs?(c=[s.blurs],t[7]=s.blurs,t[8]=c):c=t[8],t[9]!==n?(d=e=>n((t=>Object.assign({},t,{blurs:e[0]}))),t[9]=n,t[10]=d):d=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_row,kl.gap_md,kl.flex_wrap],t[11]=u):u=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(iI,{name:"content",label:"Content",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Content"})]}),t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(iI,{name:"media",label:"Media",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Media"})]}),t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsxs)(wo.default,{style:u,children:[m,h,(0,Ft.jsxs)(iI,{name:"none",label:"None",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"None"})]})]}),t[14]=p):p=t[14],t[15]!==c||t[16]!==d?(f=(0,Ft.jsx)(rI,{label:"Blurs",type:"radio",values:c,onChange:d,children:p}),t[15]=c,t[16]=d,t[17]=f):f=t[17],t[18]!==f||t[19]!==l?(g=(0,Ft.jsx)(wo.default,{style:l,children:f}),t[18]=f,t[19]=l,t[20]=g):g=t[20],t[21]!==g||t[22]!==a?(x=(0,Ft.jsxs)(wo.default,{children:[a,g]}),t[21]=g,t[22]=a,t[23]=x):x=t[23],t[24]!==o.atoms.text?(_=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xs,o.atoms.text,kl.pl_md,kl.pb_xs],children:"Severity"}),t[24]=o.atoms.text,t[25]=_):_=t[25],t[26]!==o.atoms.bg||t[27]!==o.atoms.border_contrast_medium?(y=[kl.border,kl.rounded_full,kl.px_md,kl.py_sm,o.atoms.border_contrast_medium,o.atoms.bg],t[26]=o.atoms.bg,t[27]=o.atoms.border_contrast_medium,t[28]=y):y=t[28],t[29]!==s.severity?(b=[s.severity],t[29]=s.severity,t[30]=b):b=t[30],t[31]!==n?(j=e=>n((t=>Object.assign({},t,{severity:e[0]}))),t[31]=n,t[32]=j):j=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_row,kl.gap_md,kl.flex_wrap,kl.align_center],t[33]=v):v=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsxs)(iI,{name:"alert",label:"Alert",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Alert"})]}),t[34]=w):w=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsxs)(iI,{name:"inform",label:"Inform",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Inform"})]}),t[35]=S):S=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsxs)(wo.default,{style:v,children:[w,S,(0,Ft.jsxs)(iI,{name:"none",label:"None",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"None"})]})]}),t[36]=k):k=t[36],t[37]!==b||t[38]!==j?(C=(0,Ft.jsx)(rI,{label:"Severity",type:"radio",values:b,onChange:j,children:k}),t[37]=b,t[38]=j,t[39]=C):C=t[39],t[40]!==y||t[41]!==C?(P=(0,Ft.jsx)(wo.default,{style:y,children:C}),t[40]=y,t[41]=C,t[42]=P):P=t[42],t[43]!==_||t[44]!==P?(T=(0,Ft.jsxs)(wo.default,{children:[_,P]}),t[43]=_,t[44]=P,t[45]=T):T=t[45],t[46]!==r||t[47]!==x||t[48]!==T?(L=(0,Ft.jsxs)(wo.default,{style:r,children:[x,T]}),t[46]=r,t[47]=x,t[48]=T,t[49]=L):L=t[49],L}function nz(e){const t=(0,i.c)(16),{label:s,children:n}=e,o=ec(),[r,a]=mt.useState(!1);let l,c,d;t[0]!==o.atoms.border_contrast_medium?(l=[o.atoms.border_contrast_medium,kl.border,kl.rounded_sm,kl.p_xs],t[0]=o.atoms.border_contrast_medium,t[1]=l):l=t[1],t[2]!==r?(c=()=>a(!r),t[2]=r,t[3]=c):c=t[3],t[4]!==s?(d=(0,Ft.jsx)(Cr,{children:s}),t[4]=s,t[5]=d):d=t[5];const u=r?KT:$T;let m,h;t[6]!==u?(m=(0,Ft.jsx)(Pr,{icon:u,position:"right"}),t[6]=u,t[7]=m):m=t[7],t[8]!==c||t[9]!==d||t[10]!==m?(h=(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",label:"Toggle visibility",size:"small",onPress:c,children:[d,m]}),t[8]=c,t[9]=d,t[10]=m,t[11]=h):h=t[11];const p=r&&n;let f;return t[12]!==l||t[13]!==h||t[14]!==p?(f=(0,Ft.jsx)(wo.default,{style:kl.mb_md,children:(0,Ft.jsxs)(wo.default,{style:l,children:[h,p]})}),t[12]=l,t[13]=h,t[14]=p,t[15]=f):f=t[15],f}function oz(e){const t=(0,i.c)(14),{label:s,children:n}=e,[o,r]=mt.useState(!1);let a,l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_row],t[0]=a):a=t[0],t[1]!==o?(l=()=>r(!o),t[1]=o,t[2]=l):l=t[2],t[3]!==s?(c=(0,Ft.jsx)(Cr,{children:s}),t[3]=s,t[4]=c):c=t[4];const d=o?KT:$T;let u,m;t[5]!==d?(u=(0,Ft.jsx)(Pr,{icon:d,position:"right"}),t[5]=d,t[6]=u):u=t[6],t[7]!==l||t[8]!==c||t[9]!==u?(m=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsxs)(Sr,{variant:"ghost",color:"secondary",label:"Toggle visibility",size:"tiny",onPress:l,children:[c,u]})}),t[7]=l,t[8]=c,t[9]=u,t[10]=m):m=t[10];const h=o&&n;let p;return t[11]!==m||t[12]!==h?(p=(0,Ft.jsxs)(wo.default,{children:[m,h]}),t[11]=m,t[12]=h,t[13]=p):p=t[13],p}function rz(e){const t=(0,i.c)(8),{label:s,data:n}=e;let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[{fontFamily:"monospace"},kl.p_md],t[0]=o):o=t[0],t[1]!==n?(r=JSON.stringify(n,null,2),t[1]=n,t[2]=r):r=t[2],t[3]!==r?(a=(0,Ft.jsx)(fr,{style:o,children:r}),t[3]=r,t[4]=a):a=t[4],t[5]!==s||t[6]!==a?(l=(0,Ft.jsx)(nz,{label:s,children:a}),t[5]=s,t[6]=a,t[7]=l):l=t[7],l}function iz(e){const t=(0,i.c)(5),{mod:s,label:n}=e;let o,r;return t[0]!==s?(o=(0,Ft.jsx)(wo.default,{style:kl.p_lg,children:["profileList","profileView","avatar","banner","displayName","contentList","contentView","contentMedia"].map((e=>{const t=s.ui(e);return(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_md],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,{width:100}],children:e}),(0,Ft.jsx)(pz,{v:t.filter,label:"Filter"}),(0,Ft.jsx)(pz,{v:t.blur,label:"Blur"}),(0,Ft.jsx)(pz,{v:t.alert,label:"Alert"}),(0,Ft.jsx)(pz,{v:t.inform,label:"Inform"}),(0,Ft.jsx)(pz,{v:t.noOverride,label:"No-override"})]},e)}))}),t[0]=s,t[1]=o):o=t[1],t[2]!==n||t[3]!==o?(r=(0,Ft.jsx)(nz,{label:n,children:o}),t[2]=n,t[3]=o,t[4]=r):r=t[4],r}function az(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsx)(wo.default,{style:{height:30}}),e[0]=t):t=e[0],t}function lz(e){const t=(0,i.c)(6),{post:s,moderation:n}=e,o=ec();if(n.ui("contentList").filter){let e;return t[0]!==o.atoms.bg_contrast_25?(e=(0,Ft.jsx)(yr,{style:[o.atoms.bg_contrast_25,kl.px_lg,kl.py_md,kl.mb_lg],children:"Filtered from the feed"}),t[0]=o.atoms.bg_contrast_25,t[1]=e):e=t[1],e}const r=s.record;let a;return t[2]!==n||t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(_M,{post:s,record:r,moderation:n,parentAuthor:void 0,showReplyTo:!1,reason:void 0,feedContext:"",reqId:void 0,rootPost:s}),t[2]=n,t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function cz(e){const t=(0,i.c)(6),{post:s,moderation:n,reply:o}=e,r=s.record,a=o?1:0,l=!o;let c;return t[0]!==n||t[1]!==s||t[2]!==r||t[3]!==a||t[4]!==l?(c=(0,Ft.jsx)(UO,{post:s,record:r,moderation:n,depth:a,isHighlightedPost:l,treeView:!1,prevPost:void 0,nextPost:void 0,hasPrecedingItem:!1,overrideBlur:!1,onPostReply:dz}),t[0]=n,t[1]=s,t[2]=r,t[3]=a,t[4]=l,t[5]=c):c=t[5],c}function dz(){}function uz(e){const t=(0,i.c)(5),{notif:s,moderationOpts:n}=e,o=ec();if(kb(s.notification,n)){let e;return t[0]!==o.atoms.bg_contrast_25?(e=(0,Ft.jsx)(yr,{style:[o.atoms.bg_contrast_25,kl.px_lg,kl.py_md],children:"Filtered from the feed"}),t[0]=o.atoms.bg_contrast_25,t[1]=e):e=t[1],e}let r;return t[2]!==n||t[3]!==s?(r=(0,Ft.jsx)(gO,{item:s,moderationOpts:n,highlightUnread:!0}),t[2]=n,t[3]=s,t[4]=r):r=t[4],r}function mz(e){const t=(0,i.c)(5),{profile:s,moderation:n}=e,o=ec(),r=Op();if(!r)return null;if(n.ui("profileList").filter){let e;return t[0]!==o.atoms.bg_contrast_25?(e=(0,Ft.jsx)(yr,{style:[o.atoms.bg_contrast_25,kl.px_lg,kl.py_md,kl.mb_lg],children:"Filtered from the listing"}),t[0]=o.atoms.bg_contrast_25,t[1]=e):e=t[1],e}let a;return t[2]!==r||t[3]!==s?(a=(0,Ft.jsx)(BC,{profile:s,moderationOpts:r}),t[2]=r,t[3]=s,t[4]=a):a=t[4],a}function hz(e){const t=(0,i.c)(20),{profile:s,moderation:n,moderationOpts:o}=e,r=ec(),{_:a}=(0,ft.useLingui)();let l,c,d,u;t[0]!==r.atoms.border_contrast_medium?(l=[r.atoms.border_contrast_medium,kl.border,kl.mb_md],t[0]=r.atoms.border_contrast_medium,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c={},t[2]=c):c=t[2],t[3]!==a?(d=a({id:"bbvfbr"}),t[3]=a,t[4]=d):d=t[4],t[5]!==n?(u=n.ui("profileView"),t[5]=n,t[6]=u):u=t[6];const m=s.description;let h,p,f,g;return t[7]!==m?(h=new Is.RichText({text:m}),t[7]=m,t[8]=h):h=t[8],t[9]!==o||t[10]!==s||t[11]!==h?(p=(0,Ft.jsx)(eI,{profile:s,moderationOpts:o,descriptionRT:h}),t[9]=o,t[10]=s,t[11]=h,t[12]=p):p=t[12],t[13]!==d||t[14]!==u||t[15]!==p?(f=(0,Ft.jsx)(yI,{style:c,screenDescription:d,modui:u,children:p}),t[13]=d,t[14]=u,t[15]=p,t[16]=f):f=t[16],t[17]!==l||t[18]!==f?(g=(0,Ft.jsx)(wo.default,{style:l,children:f}),t[17]=l,t[18]=f,t[19]=g):g=t[19],g}function pz(e){const t=(0,i.c)(17),{v:s,label:n}=e,o=ec();let r,a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_row,kl.align_center,kl.gap_xs],t[0]=r):r=t[0],t[1]!==o.palette.contrast_25?(a={backgroundColor:o.palette.contrast_25,width:14,height:14},t[1]=o.palette.contrast_25,t[2]=a):a=t[2],t[3]!==o.atoms.border_contrast_medium||t[4]!==a?(l=[kl.justify_center,kl.align_center,kl.rounded_xs,kl.border,o.atoms.border_contrast_medium,a],t[3]=o.atoms.border_contrast_medium,t[4]=a,t[5]=l):l=t[5],t[6]!==o.palette.contrast_900||t[7]!==s?(c=s&&(0,Ft.jsx)(Wj,{size:"xs",fill:o.palette.contrast_900}),t[6]=o.palette.contrast_900,t[7]=s,t[8]=c):c=t[8],t[9]!==l||t[10]!==c?(d=(0,Ft.jsx)(wo.default,{style:l,children:c}),t[9]=l,t[10]=c,t[11]=d):d=t[11],t[12]!==n?(u=(0,Ft.jsx)(yr,{style:kl.text_xs,children:n}),t[12]=n,t[13]=u):u=t[13],t[14]!==d||t[15]!==u?(m=(0,Ft.jsxs)(wo.default,{style:r,children:[d,u]}),t[14]=d,t[15]=u,t[16]=m):m=t[16],m}var fz=s(73432),gz=s.n(fz);const xz={code:'function useMinimalShellTransformTs1(){const{headerMode,interpolate,headerHeight}=this.__closure;const headerModeValue=headerMode.get();return{pointerEvents:headerModeValue===0?"auto":"none",opacity:Math.pow(1-headerModeValue,2),transform:[{translateY:interpolate(headerModeValue,[0,1],[0,-headerHeight.get()])}]};}'};const _z={code:'function useMinimalShellTransformTs2(){const{footerMode,interpolate,footerHeight}=this.__closure;const footerModeValue=footerMode.get();return{pointerEvents:footerModeValue===0?"auto":"none",opacity:Math.pow(1-footerModeValue,2),transform:[{translateY:interpolate(footerModeValue,[0,1],[0,footerHeight.get()])}]};}'};function yz(){const{footerMode:e}=Ha(),{footerHeight:t}=To();return(0,ko.useAnimatedStyle)(function(){const s=function(){const s=e.get();return{pointerEvents:0===s?"auto":"none",opacity:Math.pow(1-s,2),transform:[{translateY:(0,ko.interpolate)(s,[0,1],[0,t.get()])}]}};return s.__closure={footerMode:e,interpolate:ko.interpolate,footerHeight:t},s.__workletHash=2541385304907,s.__initData=_z,s}())}const bz={code:"function useMinimalShellTransformTs3(){const{interpolate,footerMode}=this.__closure;return{transform:[{translateY:interpolate(footerMode.get(),[0,1],[-44,0])}]};}"};function jz(){const{footerMode:e}=Ha();return(0,ko.useAnimatedStyle)(function(){const t=()=>({transform:[{translateY:(0,ko.interpolate)(e.get(),[0,1],[-44,0])}]});return t.__closure={interpolate:ko.interpolate,footerMode:e},t.__workletHash=0xffaf6ceb2b4,t.__initData=bz,t}())}const vz=["testID","icon","onPress"];function wz(e){const t=(0,i.c)(38);let s,n,o,r;if(t[0]!==e){var a=e;({testID:r,icon:s,onPress:n}=a),o=(0,ls.default)(a,vz),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];const l=(0,pt.useSafeAreaInsets)(),{isMobile:c,isTablet:d}=jx(),u=lS(),m=jz(),h=d?Sz.sizeLarge:Sz.sizeRegular;let p;t[5]!==l||t[6]!==d?(p=d?{right:50,bottom:50}:{right:24,bottom:jD(l.bottom,15,60)+15},t[5]=l,t[6]=d,t[7]=p):p=t[7];const f=p,g=c&&m;let x,_,y,b,j,v,w,S,k,C,P;return t[8]!==h||t[9]!==g||t[10]!==f?(x=[Sz.outer,h,f,g],t[8]=h,t[9]=g,t[10]=f,t[11]=x):x=t[11],t[12]!==u?(_=yo((()=>u("Light"))),t[12]=u,t[13]=_):_=t[13],t[14]!==n||t[15]!==u?(y=e=>{n?.(e),u("Light")},t[14]=n,t[15]=u,t[16]=y):y=t[16],t[17]!==n||t[18]!==u?(b=yo((e=>{n?.(e),u("Heavy")})),t[17]=n,t[18]=u,t[19]=b):b=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(j=[nc.blueLight.start,nc.blueLight.end],v={x:0,y:0},w={x:1,y:1},t[20]=j,t[21]=v,t[22]=w):(j=t[20],v=t[21],w=t[22]),t[23]!==h?(S=[Sz.inner,h],t[23]=h,t[24]=S):S=t[24],t[25]!==s||t[26]!==S?(k=(0,Ft.jsx)(sr.LinearGradient,{colors:j,start:v,end:w,style:S,children:s}),t[25]=s,t[26]=S,t[27]=k):k=t[27],t[28]!==o||t[29]!==k||t[30]!==_||t[31]!==y||t[32]!==b||t[33]!==r?(C=(0,Ft.jsx)(GE,Object.assign({testID:r,onPressIn:_,onPress:y,onLongPress:b,targetScale:.9},o,{children:k})),t[28]=o,t[29]=k,t[30]=_,t[31]=y,t[32]=b,t[33]=r,t[34]=C):C=t[34],t[35]!==C||t[36]!==x?(P=(0,Ft.jsx)(ko.default.View,{style:x,children:C}),t[35]=C,t[36]=x,t[37]=P):P=t[37],P}const Sz=Gn.default.create({sizeRegular:{width:60,height:60,borderRadius:30},sizeLarge:{width:70,height:70,borderRadius:35},outer:{position:Pt?"fixed":"absolute",zIndex:1,cursor:"pointer"},inner:{justifyContent:"center",alignItems:"center"}}),kz=e=>{const t=(0,i.c)(3),{isDesktop:s}=jx();if(!s){let s;return t[0]!==e?(s=(0,Ft.jsx)(wz,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}let n;return t[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(wo.default,{}),t[2]=n):n=t[2],n};function Cz(){const e=(0,i.c)(14),t=ec(),{_:s}=(0,ft.useLingui)(),{mutateAsync:n}=Hh();let o;e[0]!==n?(o=e=>(e.preventDefault(),n([Object.assign({},Ei,{pinned:!0})]),!1),e[0]=n,e[1]=o):o=e[1];const r=o;let a,l,c,d,u,m;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_row,kl.flex_wrap,kl.align_center,kl.py_md,kl.px_lg],e[2]=a):a=e[2],e[3]!==t.atoms.text_contrast_medium?(l=[kl.leading_snug,t.atoms.text_contrast_medium],e[3]=t.atoms.text_contrast_medium,e[4]=l):l=e[4],e[5]!==s?(c=s({id:"4ob45l"}),e[5]=s,e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.leading_snug],e[7]=d):d=e[7],e[8]!==r||e[9]!==c?(u=(0,Ft.jsx)(ft.Trans,{id:"SmZpBz",components:{0:(0,Ft.jsx)(fv,{to:"/",label:c,onPress:r,style:d})}}),e[8]=r,e[9]=c,e[10]=u):u=e[10],e[11]!==l||e[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsx)(fr,{style:l,children:u})}),e[11]=l,e[12]=u,e[13]=m):m=e[13],m}function Pz(){const e=(0,i.c)(24),t=ec(),{_:s}=(0,ft.useLingui)(),{isPending:n,mutateAsync:o}=zh();let r;e[0]!==o?(r=async()=>{await o(Bi.map(Tz))},e[0]=o,e[1]=r):r=e[1];const a=r;let l,c,d,u,m,h,p,f,g,x,_;return e[2]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_row,kl.flex_wrap,kl.justify_between,kl.p_xl,kl.gap_md],e[2]=l):l=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(c={maxWidth:310},e[3]=c):c=e[3],e[4]!==t.atoms.text_contrast_medium?(d=[kl.leading_snug,t.atoms.text_contrast_medium,c],e[4]=t.atoms.text_contrast_medium,e[5]=d):d=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"MlaGL7"}),e[6]=u):u=e[6],e[7]!==d?(m=(0,Ft.jsx)(fr,{style:d,children:u}),e[7]=d,e[8]=m):m=e[8],e[9]!==s?(h=s({id:"d9Y8Uw"}),e[9]=s,e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Pr,{icon:kS,position:"left"}),e[11]=p):p=e[11],e[12]!==s?(f=s({id:"GEQ5Mf"}),e[12]=s,e[13]=f):f=e[13],e[14]!==f?(g=(0,Ft.jsx)(Cr,{children:f}),e[14]=f,e[15]=g):g=e[15],e[16]!==a||e[17]!==n||e[18]!==h||e[19]!==g?(x=(0,Ft.jsxs)(Sr,{disabled:n,label:h,size:"small",variant:"solid",color:"primary",onPress:a,children:[p,g]}),e[16]=a,e[17]=n,e[18]=h,e[19]=g,e[20]=x):x=e[20],e[21]!==x||e[22]!==m?(_=(0,Ft.jsxs)(wo.default,{style:l,children:[m,x]}),e[21]=x,e[22]=m,e[23]=_):_=e[23],_}function Tz(e){return Object.assign({},e,{id:zm.TID.nextStr()})}const Lz=["value","label","onClearText"],Az=mt.forwardRef((function(e,t){const s=(0,i.c)(29);let n,o,r,a;if(s[0]!==e){var l=e;({value:a,label:n,onClearText:o}=l),r=(0,ls.default)(l,Lz),s[0]=e,s[1]=n,s[2]=o,s[3]=r,s[4]=a}else n=s[1],o=s[2],r=s[3],a=s[4];const c=ec(),{_:d}=(0,ft.useLingui)(),u=a&&a.length>0;let m,h,p,f,g,x,_,y;return s[5]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.w_full,kl.relative],s[5]=m):m=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(sa,{icon:nC}),s[6]=h):h=s[6],s[7]!==d||s[8]!==n?(p=n||d({id:"A1taO8"}),s[7]=d,s[8]=n,s[9]=p):p=s[9],s[10]!==d?(f=d({id:"A1taO8"}),s[10]=d,s[11]=f):f=s[11],s[12]!==u?(g=[u?{paddingRight:24}:{}],s[12]=u,s[13]=g):g=s[13],s[14]!==t||s[15]!==r||s[16]!==c.scheme||s[17]!==p||s[18]!==f||s[19]!==g||s[20]!==a?(x=(0,Ft.jsxs)(Yi,{children:[h,(0,Ft.jsx)(ea,Object.assign({inputRef:t,label:p,value:a,placeholder:f,returnKeyType:"search",keyboardAppearance:c.scheme,selectTextOnFocus:kt,autoFocus:!1,accessibilityRole:"search",autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",style:g},r))]}),s[14]=t,s[15]=r,s[16]=c.scheme,s[17]=p,s[18]=f,s[19]=g,s[20]=a,s[21]=x):x=s[21],s[22]!==d||s[23]!==o||s[24]!==u?(_=u&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.z_20,kl.my_auto,kl.inset_0,kl.justify_center,kl.pr_sm,{left:"auto"}],children:(0,Ft.jsx)(Sr,{testID:"searchTextInputClearBtn",onPress:o,label:d({id:"QbvBNV"}),hitSlop:vi,size:"tiny",shape:"round",variant:"ghost",color:"secondary",children:(0,Ft.jsx)(Pr,{icon:Hr,size:"xs"})})}),s[22]=d,s[23]=o,s[24]=u,s[25]=_):_=s[25],s[26]!==x||s[27]!==_?(y=(0,Ft.jsxs)(wo.default,{style:m,children:[x,_]}),s[26]=x,s[27]=_,s[28]=y):y=s[28],y}));function Iz(e){const t=(0,i.c)(23),{icon:s,size:n,style:o,iconStyle:r}=e,a=void 0===n?"xl":n,l=ec(),c="lg"===a?52:64,d="lg"===a?52:64;let u,m,h,p,f,g,x,_;return t[0]!==l.palette.primary_50||t[1]!==c||t[2]!==d?(u={width:c,height:d,backgroundColor:l.palette.primary_50},t[0]=l.palette.primary_50,t[1]=c,t[2]=d,t[3]=u):u=t[3],t[4]!==o?(m=Wl(o),t[4]=o,t[5]=m):m=t[5],t[6]!==u||t[7]!==m?(h=[kl.justify_center,kl.align_center,kl.rounded_full,u,m],t[6]=u,t[7]=m,t[8]=h):h=t[8],t[9]!==l.palette.primary_500?(p={color:l.palette.primary_500},t[9]=l.palette.primary_500,t[10]=p):p=t[10],t[11]!==r?(f=Wl(r),t[11]=r,t[12]=f):f=t[12],t[13]!==p||t[14]!==f?(g=[p,f],t[13]=p,t[14]=f,t[15]=g):g=t[15],t[16]!==s||t[17]!==a||t[18]!==g?(x=(0,Ft.jsx)(s,{size:a,style:g}),t[16]=s,t[17]=a,t[18]=g,t[19]=x):x=t[19],t[20]!==x||t[21]!==h?(_=(0,Ft.jsx)(wo.default,{style:h,children:x}),t[20]=x,t[21]=h,t[22]=_):_=t[22],_}const Rz=zr({path:"M7.002 5a1 1 0 0 0-2 0v11.587l-1.295-1.294a1 1 0 0 0-1.414 1.414l3.002 3a1 1 0 0 0 1.414 0l2.998-3a1 1 0 0 0-1.414-1.414l-1.291 1.292V5ZM16 16a1 1 0 1 0 0 2h4a1 1 0 1 0 0-2h-4Zm-3-4a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1Zm-1-6a1 1 0 1 0 0 2h8a1 1 0 1 0 0-2h-8Z"}),Dz=zr({path:"M3 4a1 1 0 0 1 1-1h13a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm1 4a1 1 0 0 0 0 2h5a1 1 0 0 0 0-2H4Zm-1 7a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm0 5a1 1 0 0 1 1-1h13a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1Zm9-8a4 4 0 1 1 7.446 2.032l.99.989a1 1 0 1 1-1.415 1.414l-.99-.989A4 4 0 0 1 12 12Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4Z"});function Fz(e){const t=mx("default"),{openComposer:s}=tw(),{isMobile:n}=jx(),[o,r]=mt.useState(""),[a,l]=mt.useState(!1),{data:c,isPlaceholderData:d,error:u,refetch:m}=VI(),{data:h,isFetching:p,error:f,refetch:g,fetchNextPage:x,isFetchingNextPage:_,hasNextPage:y}=AI(),{_:b}=(0,ft.useLingui)(),j=Na(),{data:v,mutate:w,reset:S,isPending:k,error:C}=function(){const e=(0,i.c)(3),t=bh(),s=Op();let n;return e[0]!==t||e[1]!==s?(n={mutationFn:async e=>{const n=await t.app.bsky.unspecced.getPopularFeedGenerators({limit:10,query:e});return s?n.data.feeds.filter((e=>!(0,Is.moderateFeedGenerator)(e,s).ui("contentMedia").blur)):n.data.feeds}},e[0]=t,e[1]=s,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),{hasSession:P}=xh(),T=mt.useRef(null),L=o.length>1,A=mt.useMemo((()=>gz()((e=>w(e)),500)),[w]),I=mt.useCallback((()=>{s({})}),[s]),R=mt.useCallback((e=>{r(e),e.length>1?A(e):(g(),S())}),[r,g,A,S]),D=mt.useCallback((()=>{r(""),g(),S()}),[g,r,S]),F=mt.useCallback((()=>{A(o)}),[o,A]),E=mt.useCallback((async()=>{l(!0),await Promise.all([m().catch((e=>{})),g().catch((e=>{}))]),l(!1)}),[l,m,g]),M=mt.useCallback((()=>{p||L||!y||f||x()}),[p,L,f,y,x]);(0,va.useFocusEffect)(mt.useCallback((()=>{j(!1)}),[j]));const B=mt.useMemo((()=>{let e=[];const t=!P||P&&(!d||d&&(c?.count||0)>0);if(P)if(e.push({key:"savedFeedsHeader",type:"savedFeedsHeader"}),u)e.push({key:"savedFeedsError",type:"error",error:ds(u.toString())});else if(d&&!c?.feeds.length){const t=8,s=c?0===c.count?t:c.count:t;Array(s).fill(0).forEach(((t,s)=>{e.push({key:"savedFeedPlaceholder"+s,type:"savedFeedPlaceholder"})}))}else if(c?.feeds?.length){const t=c.feeds.every((e=>"timeline"!==e.type));e=e.concat(c.feeds.filter((e=>e.config.pinned)).map((e=>({key:`savedFeed:${e.view?.uri}:${e.config.id}`,type:"savedFeed",savedFeed:e})))),e=e.concat(c.feeds.filter((e=>!e.config.pinned)).map((e=>({key:`savedFeed:${e.view?.uri}:${e.config.id}`,type:"savedFeed",savedFeed:e})))),t&&e.push({key:"noFollowingFeed",type:"noFollowingFeed"})}else e.push({key:"savedFeedNoResults",type:"savedFeedNoResults"});if(!P||P&&t)if(e.push({key:"popularFeedsHeader",type:"popularFeedsHeader"}),f||C)e.push({key:"popularFeedsError",type:"error",error:ds(f?.toString()??C?.toString()??"")});else if(L)k||!v?e.push({key:"popularFeedsLoading",type:"popularFeedsLoading"}):v&&0!==v?.length?e=e.concat(v.map((e=>({key:`popularFeed:${e.uri}`,type:"popularFeed",feedUri:e.uri,feed:e})))):e.push({key:"popularFeedsNoResults",type:"popularFeedsNoResults"});else if(p&&!h?.pages)e.push({key:"popularFeedsLoading",type:"popularFeedsLoading"});else if(h?.pages){for(const t of h.pages||[])e=e.concat(t.feeds.map((e=>({key:`popularFeed:${e.uri}`,type:"popularFeed",feedUri:e.uri,feed:e}))));_&&e.push({key:"popularFeedsLoadingMore",type:"popularFeedsLoadingMore"})}else e.push({key:"popularFeedsNoResults",type:"popularFeedsNoResults"});return e}),[P,c,d,u,h,p,f,_,v,k,C,L]),O=B.findIndex((e=>"popularFeedsHeader"===e.type)),z=mt.useCallback((e=>{if(e&&O>-1)if(kt)T.current?.scrollToIndex({index:O,animated:!0});else{const e=n?43:53,t=n?49:58;T.current?.scrollToOffset({offset:O*t-e,animated:!0})}}),[O,n]),H=mt.useCallback((({item:e})=>"error"===e.type?(0,Ft.jsx)(Rx,{message:e.error}):"popularFeedsLoadingMore"===e.type?(0,Ft.jsx)(wo.default,{style:oc.p10,children:(0,Ft.jsx)(Fx.default,{size:"large"})}):"savedFeedsHeader"===e.type?(0,Ft.jsx)(zz,{}):"savedFeedNoResults"===e.type?(0,Ft.jsx)(wo.default,{style:[t.border,{borderBottomWidth:1}],children:(0,Ft.jsx)(Pz,{})}):"savedFeedPlaceholder"===e.type?(0,Ft.jsx)(Oz,{}):"savedFeed"===e.type?(0,Ft.jsx)(Ez,{savedFeed:e.savedFeed}):"popularFeedsHeader"===e.type?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Hz,{}),(0,Ft.jsx)(wo.default,{style:{paddingHorizontal:12,paddingBottom:4},children:(0,Ft.jsx)(Az,{placeholder:b({id:"X3ibUG"}),value:o,onChangeText:R,onClearText:D,onSubmitEditing:F,onFocus:()=>z(!0),onBlur:()=>z(!1)})})]}):"popularFeedsLoading"===e.type?(0,Ft.jsx)(AT,{}):"popularFeed"===e.type?(0,Ft.jsxs)(wo.default,{style:[kl.px_lg,kl.pt_lg,kl.gap_lg],children:[(0,Ft.jsx)(cR,{view:e.feed}),(0,Ft.jsx)(Iv,{})]}):"popularFeedsNoResults"===e.type?(0,Ft.jsx)(wo.default,{style:{paddingHorizontal:16,paddingTop:10,paddingBottom:"150%"},children:(0,Ft.jsx)(Tx,{type:"lg",style:t.textLight,children:(0,Ft.jsx)(ft.Trans,{id:"fOlAiK",values:{query:o}})})}):"noFollowingFeed"===e.type?(0,Ft.jsx)(wo.default,{style:[t.border,{borderBottomWidth:1}],children:(0,Ft.jsx)(Cz,{})}):null),[b,t.border,t.textLight,o,R,D,F,z]);return(0,Ft.jsxs)(_l,{testID:"FeedsScreen",children:[(0,Ft.jsxs)(wl,{children:[(0,Ft.jsxs)(il,{children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"2DoBvq"})})}),(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(pv,{testID:"editFeedsBtn",to:"/settings/saved-feeds",label:b({id:"cLmurE"}),size:"small",variant:"ghost",color:"secondary",shape:"round",style:[kl.justify_center,{right:-3}],children:(0,Ft.jsx)(Pr,{icon:LB,size:"lg"})})})]}),(0,Ft.jsx)(MF,{ref:T,data:B,keyExtractor:e=>e.key,contentContainerStyle:Nz.contentContainer,renderItem:H,refreshing:a,onRefresh:L?void 0:E,initialNumToRender:10,onEndReached:M,desktopFixedHeight:!0,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",sideBorders:!1})]}),P&&(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:I,icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:oc.white}),accessibilityRole:"button",accessibilityLabel:b({id:"2B7HLH"}),accessibilityHint:""})]})}function Ez(e){const t=(0,i.c)(2),{savedFeed:s}=e;let n;return t[0]!==s?(n="timeline"===s.type?(0,Ft.jsx)(Mz,{}):(0,Ft.jsx)(Bz,{savedFeed:s}),t[0]=s,t[1]=n):n=t[1],n}function Mz(){const e=(0,i.c)(20),t=ec(),{_:s}=(0,ft.useLingui)();let n,o,r,a,l,c,d,u,m;return e[0]!==t.atoms.border_contrast_low?(n=[kl.flex_1,kl.px_lg,kl.py_md,kl.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=n):n=e[1],e[2]!==t.palette.primary_500?(o=[kl.align_center,kl.justify_center,{width:28,height:28,borderRadius:3,backgroundColor:t.palette.primary_500}],e[2]=t.palette.primary_500,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[{width:18,height:18}],e[4]=r):r=e[4],e[5]!==t.palette.white?(a=(0,Ft.jsx)(Rz,{style:r,fill:t.palette.white}),e[5]=t.palette.white,e[6]=a):a=e[6],e[7]!==o||e[8]!==a?(l=(0,Ft.jsx)(wo.default,{style:o,children:a}),e[7]=o,e[8]=a,e[9]=l):l=e[9],e[10]!==s?(c=s({id:"y6sq5j"}),e[10]=s,e[11]=c):c=e[11],e[12]!==c?(d=(0,Ft.jsx)(fR,{title:c}),e[12]=c,e[13]=d):d=e[13],e[14]!==l||e[15]!==d?(u=(0,Ft.jsxs)(mR,{children:[l,d]}),e[14]=l,e[15]=d,e[16]=u):u=e[16],e[17]!==n||e[18]!==u?(m=(0,Ft.jsx)(wo.default,{style:n,children:u}),e[17]=n,e[18]=u,e[19]=m):m=e[19],m}function Bz(e){const t=(0,i.c)(7),{savedFeed:s}=e,n=ec();let o;t[0]!==n.atoms.border_contrast_low?(o=[kl.w_full,kl.flex_1,kl.px_lg,kl.py_md,kl.border_b,n.atoms.border_contrast_low],t[0]=n.atoms.border_contrast_low,t[1]=o):o=t[1];const r=o;let a;return t[2]!==r||t[3]!==s||t[4]!==n.atoms.bg_contrast_25||t[5]!==n.atoms.text_contrast_low.color?(a="feed"===s.type?(0,Ft.jsx)(dR,Object.assign({testID:`saved-feed-${s.view.displayName}`},s,{children:e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsx)(wo.default,{style:[r,(t||o)&&n.atoms.bg_contrast_25],children:(0,Ft.jsxs)(mR,{children:[(0,Ft.jsx)(hR,{src:s.view.avatar,size:28}),(0,Ft.jsx)(fR,{title:s.view.displayName}),(0,Ft.jsx)(QT,{size:"sm",fill:n.atoms.text_contrast_low.color})]})})}})):(0,Ft.jsx)(IR,Object.assign({testID:`saved-feed-${s.view.name}`},s,{children:e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsx)(wo.default,{style:[r,(t||o)&&n.atoms.bg_contrast_25],children:(0,Ft.jsxs)(mR,{children:[(0,Ft.jsx)(hR,{src:s.view.avatar,size:28}),(0,Ft.jsx)(RR,{title:s.view.name}),(0,Ft.jsx)(QT,{size:"sm",fill:n.atoms.text_contrast_low.color})]})})}})),t[2]=r,t[3]=s,t[4]=n.atoms.bg_contrast_25,t[5]=n.atoms.text_contrast_low.color,t[6]=a):a=t[6],a}function Oz(){const e=(0,i.c)(5),t=ec();let s,n,o;return e[0]!==t.atoms.border_contrast_low?(s=[kl.flex_1,kl.px_lg,kl.py_md,kl.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsxs)(mR,{children:[(0,Ft.jsx)(pR,{size:28}),(0,Ft.jsx)(gR,{})]}),e[2]=n):n=e[2],e[3]!==s?(o=(0,Ft.jsx)(wo.default,{style:s,children:n}),e[3]=s,e[4]=o):o=e[4],o}function zz(){const e=(0,i.c)(20),t=ec();let s,n,o,r,a,l,c,d,u,m,h;return e[0]!==t.atoms.border_contrast_low?(s=Pt?[kl.flex_row,kl.px_md,kl.py_lg,kl.gap_md,kl.border_b,t.atoms.border_contrast_low]:[{flexDirection:"row-reverse"},kl.p_lg,kl.gap_md,kl.border_b,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(Iz,{icon:dT,size:"lg"}),e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1,kl.gap_xs],e[3]=o):o=e[3],e[4]!==t.atoms.text?(r=[kl.flex_1,kl.text_2xl,kl.font_heavy,t.atoms.text],e[4]=t.atoms.text,e[5]=r):r=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"6MBNS/"}),e[6]=a):a=e[6],e[7]!==r?(l=(0,Ft.jsx)(Tx,{style:r,children:a}),e[7]=r,e[8]=l):l=e[8],e[9]!==t.atoms.text_contrast_high?(c=[t.atoms.text_contrast_high],e[9]=t.atoms.text_contrast_high,e[10]=c):c=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"OMY6Uw"}),e[11]=d):d=e[11],e[12]!==c?(u=(0,Ft.jsx)(Tx,{style:c,children:d}),e[12]=c,e[13]=u):u=e[13],e[14]!==l||e[15]!==u?(m=(0,Ft.jsxs)(wo.default,{style:o,children:[l,u]}),e[14]=l,e[15]=u,e[16]=m):m=e[16],e[17]!==s||e[18]!==m?(h=(0,Ft.jsxs)(wo.default,{style:s,children:[n,m]}),e[17]=s,e[18]=m,e[19]=h):h=e[19],h}function Hz(){const e=(0,i.c)(16),t=ec();let s,n,o,r,a,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Pt?[kl.flex_row,kl.px_md,kl.pt_lg,kl.pb_lg,kl.gap_md]:[{flexDirection:"row-reverse"},kl.p_lg,kl.gap_md],n=(0,Ft.jsx)(Iz,{icon:Dz,size:"lg"}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1,kl.gap_sm],e[2]=o):o=e[2],e[3]!==t.atoms.text?(r=[kl.flex_1,kl.text_2xl,kl.font_heavy,t.atoms.text],e[3]=t.atoms.text,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"j89vnL"}),e[5]=a):a=e[5],e[6]!==r?(l=(0,Ft.jsx)(Tx,{style:r,children:a}),e[6]=r,e[7]=l):l=e[7],e[8]!==t.atoms.text_contrast_high?(c=[t.atoms.text_contrast_high],e[8]=t.atoms.text_contrast_high,e[9]=c):c=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"kFJxcC"}),e[10]=d):d=e[10],e[11]!==c?(u=(0,Ft.jsx)(Tx,{style:c,children:d}),e[11]=c,e[12]=u):u=e[12],e[13]!==l||e[14]!==u?(m=(0,Ft.jsxs)(wo.default,{style:s,children:[n,(0,Ft.jsxs)(wo.default,{style:o,children:[l,u]})]}),e[13]=l,e[14]=u,e[15]=m):m=e[15],m}const Nz=Gn.default.create({contentContainer:{paddingBottom:100},header:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",gap:16,paddingHorizontal:18,paddingVertical:12},savedFeed:{flexDirection:"row",alignItems:"center",paddingHorizontal:16,paddingVertical:14,gap:12,borderBottomWidth:Gn.default.hairlineWidth},savedFeedMobile:{paddingVertical:10},offlineSlug:{borderWidth:Gn.default.hairlineWidth,borderRadius:4,paddingHorizontal:4,paddingVertical:2},headerBtnGroup:{flexDirection:"row",gap:15,alignItems:"center"}});function Vz(e){const t=(0,i.c)(5),s=(0,va.useNavigation)(),n=Nb();let o,r;t[0]!==s||t[1]!==n||t[2]!==e?(o=()=>{e&&s.setOptions({title:IP(e,n)})},r=[e,s,n],t[0]=s,t[1]=n,t[2]=e,t[3]=o,t[4]=r):(o=t[3],r=t[4]),(0,mt.useEffect)(o,r)}function qz(){const{isDesktop:e,isTablet:t}=jx(),{fontScale:s}=(0,Ny.default)();if(e||t)return 0;return 75+20*s-4}function Uz(e){const t=(0,i.c)(38),{onPress:s,label:n,showIndicator:o}=e,{hasSession:r}=xh(),{isDesktop:a,isTablet:l,isMobile:c,isTabletOrMobile:d}=jx(),{centerColumnOffset:u}=Ul(),m=jz(),h=(0,pt.useSafeAreaInsets)(),p=ec(),{state:f,onIn:g,onOut:x}=Ki();let _;t[0]===Symbol.for("react.memo_cache_sentinel")?(_={minHeight:700},t[0]=_):_=t[0];const y=(0,Vl.useMediaQuery)(_);if(On()("remove_show_latest_button"))return null;const b=r?c:d;let j;t[1]!==h||t[2]!==l?(j=l?{bottom:50}:{bottom:jD(h.bottom,15,60)+15},t[1]=h,t[2]=l,t[3]=j):j=t[3];const v=j;let w;t[4]===Symbol.for("react.memo_cache_sentinel")?(w={left:18},t[4]=w):w=t[4];const S=a&&(y?Wz.loadLatestOutOfLine:Wz.loadLatestInline),k=l&&(u?Wz.loadLatestInlineOffset:Wz.loadLatestInline),C=b&&m;let P,T,L,A,I,R,D,F,E,M;return t[5]!==v||t[6]!==S||t[7]!==k||t[8]!==C?(P=[kl.fixed,kl.z_20,w,S,k,v,C],t[5]=v,t[6]=S,t[7]=k,t[8]=C,t[9]=P):P=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(T={width:42,height:42},t[10]=T):T=t[10],t[11]!==o||t[12]!==p.atoms.bg||t[13]!==p.palette?(L=o?{backgroundColor:p.palette.primary_50}:p.atoms.bg,t[11]=o,t[12]=p.atoms.bg,t[13]=p.palette,t[14]=L):L=t[14],t[15]!==p.atoms.border_contrast_low||t[16]!==L?(A=[T,kl.rounded_full,kl.align_center,kl.justify_center,kl.border,p.atoms.border_contrast_low,L],t[15]=p.atoms.border_contrast_low,t[16]=L,t[17]=A):A=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.rounded_full],t[18]=I):I=t[18],t[19]!==f?(R=(0,Ft.jsx)(cD,{hover:f,style:I}),t[19]=f,t[20]=R):R=t[20],t[21]!==o||t[22]!==p.atoms.text_contrast_medium||t[23]!==p.palette?(D=o?{color:p.palette.primary_500}:p.atoms.text_contrast_medium,t[21]=o,t[22]=p.atoms.text_contrast_medium,t[23]=p.palette,t[24]=D):D=t[24],t[25]!==D?(F=(0,Ft.jsx)(tl,{size:"md",style:[kl.z_10,D]}),t[25]=D,t[26]=F):F=t[26],t[27]!==n||t[28]!==g||t[29]!==x||t[30]!==s||t[31]!==A||t[32]!==R||t[33]!==F?(E=(0,Ft.jsxs)(GE,{style:A,onPress:s,hitSlop:wi,accessibilityLabel:n,accessibilityHint:"",targetScale:.9,onPointerEnter:g,onPointerLeave:x,children:[R,F]}),t[27]=n,t[28]=g,t[29]=x,t[30]=s,t[31]=A,t[32]=R,t[33]=F,t[34]=E):E=t[34],t[35]!==E||t[36]!==P?(M=(0,Ft.jsx)(ko.default.View,{testID:"loadLatestBtn",style:P,children:E}),t[35]=E,t[36]=P,t[37]=M):M=t[37],M}const Wz=Gn.default.create({loadLatestInline:{left:_o("calc(50vw - 282px)")},loadLatestInlineOffset:{left:_o(`calc(50vw - 282px + ${ya}px)`)},loadLatestOutOfLine:{left:_o("calc(50vw - 382px)")}}),Zz=200,Qz={code:"function clamp_MainScrollProviderTsx1(num,min,max){return Math.min(Math.max(num,min),max);}"},Kz=function(){const e=function(e,t,s){return Math.min(Math.max(e,t),s)};return e.__closure={},e.__workletHash=598933044680,e.__initData=Qz,e}(),$z={code:"function MainScrollProviderTsx2(v){const{headerMode,withSpring}=this.__closure;headerMode.set(function(){return withSpring(v?1:0,{overshootClamping:true});});}"},Gz={code:"function MainScrollProviderTsx3(e){const{isNative,startDragOffset,startMode,headerHeight,setMode,headerMode}=this.__closure;const offsetY=Math.max(0,e.contentOffset.y);if(isNative){const startDragOffsetValue=startDragOffset.get();if(startDragOffsetValue===null){return;}const didScrollDown=offsetY>startDragOffsetValue;startDragOffset.set(null);startMode.set(null);if(offsetY<headerHeight.get()){setMode(false);}else{if(didScrollDown){setMode(true);}else{setMode(Math.round(headerMode.get())===1);}}}}"},Yz={code:"function MainScrollProviderTsx4(e_0){const{isNative,startDragOffset,startMode,headerMode}=this.__closure;const offsetY_0=Math.max(0,e_0.contentOffset.y);if(isNative){startDragOffset.set(offsetY_0);startMode.set(headerMode.get());}}"},Jz={code:"function MainScrollProviderTsx5(e_1){const{isNative,snapToClosestState}=this.__closure;if(isNative){if(e_1.velocity&&e_1.velocity.y!==0){return;}snapToClosestState(e_1);}}"},Xz={code:"function MainScrollProviderTsx6(e_2){const{isNative,snapToClosestState}=this.__closure;if(isNative){snapToClosestState(e_2);}}"},eH={code:"function MainScrollProviderTsx7(e_3){const{isNative,startDragOffset,startMode,headerMode,headerHeight,setMode,interpolate,clamp,didJustRestoreScroll,WEB_HIDE_SHELL_THRESHOLD}=this.__closure;const offsetY_1=Math.max(0,e_3.contentOffset.y);if(isNative){const startDragOffsetValue_0=startDragOffset.get();const startModeValue=startMode.get();if(startDragOffsetValue_0===null||startModeValue===null){if(headerMode.get()!==0&&offsetY_1<headerHeight.get()){setMode(false);}return;}const dy=offsetY_1-startDragOffsetValue_0;const dProgress=interpolate(dy,[-headerHeight.get(),headerHeight.get()],[-1,1]);const newValue=clamp(startModeValue+dProgress,0,1);if(newValue!==headerMode.get()){headerMode.set(newValue);}}else{var _startDragOffset$get;if(didJustRestoreScroll.get()){didJustRestoreScroll.set(false);return;}const dy_0=offsetY_1-((_startDragOffset$get=startDragOffset.get())!==null&&_startDragOffset$get!==void 0?_startDragOffset$get:0);startDragOffset.set(offsetY_1);if(dy_0<0||offsetY_1<WEB_HIDE_SHELL_THRESHOLD){setMode(false);}else{if(dy_0>0){setMode(true);}}}}"};function tH(e){const t=(0,i.c)(33),{children:s}=e,{headerHeight:n}=To(),{headerMode:o}=Ha(),r=(0,ko.useSharedValue)(null),a=(0,ko.useSharedValue)(null),l=(0,ko.useSharedValue)(!1);let c;t[0]!==o?(c=function(){const e=function(e){o.set((()=>(0,ko.withSpring)(e?1:0,{overshootClamping:!0})))};return e.__closure={headerMode:o,withSpring:ko.withSpring},e.__workletHash=6072180900171,e.__initData=$z,e}(),t[0]=o,t[1]=c):c=t[1];const d=c;let u,m;t[2]!==l||t[3]!==r||t[4]!==a?(u=()=>{if(Pt)return e=()=>{r.set(null),a.set(null),l.set(!0)},sH.addListener("forced-scroll",e),()=>{sH.removeListener("forced-scroll",e)};var e},t[2]=l,t[3]=r,t[4]=a,t[5]=u):u=t[5],(0,mt.useEffect)(u),t[6]!==n||t[7]!==o||t[8]!==d||t[9]!==r||t[10]!==a?(m=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);if(kt){const e=r.get();if(null===e)return;const s=t>e;r.set(null),a.set(null),t<n.get()?d(!1):d(!!s||1===Math.round(o.get()))}};return e.__closure={isNative:kt,startDragOffset:r,startMode:a,headerHeight:n,setMode:d,headerMode:o},e.__workletHash=3304428388387,e.__initData=Gz,e}(),t[6]=n,t[7]=o,t[8]=d,t[9]=r,t[10]=a,t[11]=m):m=t[11];const h=m;let p;t[12]!==o||t[13]!==r||t[14]!==a?(p=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);kt&&(r.set(t),a.set(o.get()))};return e.__closure={isNative:kt,startDragOffset:r,startMode:a,headerMode:o},e.__workletHash=0xe361115e326,e.__initData=Yz,e}(),t[12]=o,t[13]=r,t[14]=a,t[15]=p):p=t[15];const f=p;let g;t[16]!==h?(g=function(){const e=function(e){if(kt){if(e.velocity&&0!==e.velocity.y)return;h(e)}};return e.__closure={isNative:kt,snapToClosestState:h},e.__workletHash=0xb3e4d2a32f2,e.__initData=Jz,e}(),t[16]=h,t[17]=g):g=t[17];const x=g;let _;t[18]!==h?(_=function(){const e=function(e){kt&&h(e)};return e.__closure={isNative:kt,snapToClosestState:h},e.__workletHash=6015285452110,e.__initData=Xz,e}(),t[18]=h,t[19]=_):_=t[19];const y=_;let b;t[20]!==l||t[21]!==n||t[22]!==o||t[23]!==d||t[24]!==r||t[25]!==a?(b=function(){const e=function(e){const t=Math.max(0,e.contentOffset.y);if(kt){const e=r.get(),s=a.get();if(null===e||null===s)return void(0!==o.get()&&t<n.get()&&d(!1));const i=t-e,l=(0,ko.interpolate)(i,[-n.get(),n.get()],[-1,1]),c=Kz(s+l,0,1);c!==o.get()&&o.set(c)}else{if(l.get())return void l.set(!1);const e=t-(r.get()??0);r.set(t),e<0||t<Zz?d(!1):e>0&&d(!0)}};return e.__closure={isNative:kt,startDragOffset:r,startMode:a,headerMode:o,headerHeight:n,setMode:d,interpolate:ko.interpolate,clamp:Kz,didJustRestoreScroll:l,WEB_HIDE_SHELL_THRESHOLD:Zz},e.__workletHash=1838208266515,e.__initData=eH,e}(),t[20]=l,t[21]=n,t[22]=o,t[23]=d,t[24]=r,t[25]=a,t[26]=b):b=t[26];const j=b;let v;return t[27]!==s||t[28]!==f||t[29]!==x||t[30]!==y||t[31]!==j?(v=(0,Ft.jsx)(TF,{onBeginDrag:f,onEndDrag:x,onScroll:j,onMomentumEnd:y,children:s}),t[27]=s,t[28]=f,t[29]=x,t[30]=y,t[31]=j,t[32]=v):v=t[32],v}const sH=new At.default;if(Pt){const e=window.scroll;window.scroll=function(){return sH.emit("forced-scroll"),e.apply(this,arguments)};const t=window.scrollTo;window.scrollTo=function(){return sH.emit("forced-scroll"),t.apply(this,arguments)}}const nH=6e4;function oH(e){const t=(0,i.c)(54),{testID:s,isPageFocused:n,isPageAdjacent:o,feed:r,feedParams:a,renderEmptyState:l,renderEndOfFeed:c,savedFeedConfig:d,feedInfo:u}=e,{hasSession:m}=xh(),{_:h}=(0,ft.useLingui)(),p=(0,va.useNavigation)(),f=(0,wd.useQueryClient)(),{openComposer:g}=tw(),[x,_]=(0,mt.useState)(!1),y=Na(),b=qz(),j=RM(r,m),v=(0,mt.useRef)(null),[w,S]=(0,mt.useState)(!1),k=mt.useContext(mp);let C,P;t[0]!==u.uri?(P=Di.includes(u.uri),t[0]=u.uri,t[1]=P):P=t[1];const T=P,L=u.contentMode===Is.AppBskyFeedDefs.CONTENTMODEVIDEO;C=kt&&(T||L);const A=C;let I,R,D;t[2]!==w||t[3]!==n||t[4]!==k?(I=()=>{n&&k(w)},R=[n,w,k],t[2]=w,t[3]=n,t[4]=k,t[5]=I,t[6]=R):(I=t[5],R=t[6]),(0,mt.useEffect)(I,R),t[7]!==b||t[8]!==y?(D=()=>{v.current?.scrollToOffset({animated:kt,offset:-b}),y(!1)},t[7]=b,t[8]=y,t[9]=D):D=t[9];const F=D;let E;t[10]!==r||t[11]!==n||t[12]!==p||t[13]!==f||t[14]!==F?(E=()=>{LP(function(e){for(;e.getParent();)e=e.getParent();return e}(p).getState(),"Home")===TP.InsideAtRoot&&n&&(F(),Df(f,Nx(r)),S(!1),En("feed:refresh",{feedType:r.split("|")[0],feedUrl:r,reason:"soft-reset"}))},t[10]=r,t[11]=n,t[12]=p,t[13]=f,t[14]=F,t[15]=E):E=t[15];const M=E;let B,O,z;t[16]!==n||t[17]!==M?(B=()=>{if(n)return Dt(M)},O=[M,n],t[16]=n,t[17]=M,t[18]=B,t[19]=O):(B=t[18],O=t[19]),(0,mt.useEffect)(B,O),t[20]!==g?(z=()=>{g({})},t[20]=g,t[21]=z):z=t[21];const H=z;let N;t[22]!==r||t[23]!==f||t[24]!==F?(N=()=>{F(),Df(f,Nx(r)),S(!1),En("feed:refresh",{feedType:r.split("|")[0],feedUrl:r,reason:"load-latest"})},t[22]=r,t[23]=f,t[24]=F,t[25]=N):N=t[25];const V=N,q=s?`${s}-feed`:void 0,U=n||kt&&o,W=w||!n;let Z,Q,K,$,G;return t[26]!==r||t[27]!==a||t[28]!==b||t[29]!==A||t[30]!==l||t[31]!==c||t[32]!==d||t[33]!==q||t[34]!==U||t[35]!==W?(Z=(0,Ft.jsx)(PM,{testID:q,enabled:U,feed:r,feedParams:a,pollInterval:nH,disablePoll:W,scrollElRef:v,onScrolledDownChange:_,onHasNew:S,renderEmptyState:l,renderEndOfFeed:c,headerOffset:b,savedFeedConfig:d,isVideoFeed:A}),t[26]=r,t[27]=a,t[28]=b,t[29]=A,t[30]=l,t[31]=c,t[32]=d,t[33]=q,t[34]=U,t[35]=W,t[36]=Z):Z=t[36],t[37]!==j||t[38]!==Z?(Q=(0,Ft.jsx)(tH,{children:(0,Ft.jsx)(DM,{value:j,children:Z})}),t[37]=j,t[38]=Z,t[39]=Q):Q=t[39],t[40]!==h||t[41]!==w||t[42]!==x||t[43]!==V?(K=(x||w)&&(0,Ft.jsx)(Uz,{onPress:V,label:h({id:"VkLESX"}),showIndicator:w}),t[40]=h,t[41]=w,t[42]=x,t[43]=V,t[44]=K):K=t[44],t[45]!==h||t[46]!==m||t[47]!==H?($=m&&(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:H,icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:oc.white}),accessibilityRole:"button",accessibilityLabel:h({id:"49SEhe"}),accessibilityHint:""}),t[45]=h,t[46]=m,t[47]=H,t[48]=$):$=t[48],t[49]!==Q||t[50]!==K||t[51]!==$||t[52]!==s?(G=(0,Ft.jsxs)(wo.default,{testID:s,children:[Q,K,$]}),t[49]=Q,t[50]=K,t[51]=$,t[52]=s,t[53]=G):G=t[53],G}const rH=["ref","style"];function iH(e){const t=(0,i.c)(13);let s,n,o,r;if(t[0]!==e){var a=e;({ref:n,style:o}=a),s=(0,ls.default)(a,rH),t[0]=e,t[1]=s,t[2]=n,t[3]=o}else s=t[1],n=t[2],o=t[3];t[4]!==n?(r={outerRef:n,cursor:"grab"},t[4]=n,t[5]=r):r=t[5];const{refs:l}=function({outerRef:e,cursor:t="grab"}={}){const s=(0,mt.useRef)(null);return(0,mt.useEffect)((()=>{if(!s.current)return;const e=s.current;if(!e)return;let n=!1,o=!1,r=0,i=0;const a=s=>{o=!0,r=s.pageX-e.offsetLeft,i=e.scrollLeft,e.style.cursor=t},l=()=>{n&&e.addEventListener("click",(e=>e.stopPropagation()),{once:!0}),o=!1,n=!1,e.style.cursor="default"},c=t=>{if(!o)return;const s=t.pageX-e.offsetLeft;if(Math.abs(s-r)<3)return;n=!0,t.preventDefault();const a=s-r;e.scrollLeft=i-a};return e.addEventListener("mousedown",a),window.addEventListener("mouseup",l),window.addEventListener("mousemove",c),()=>{e.removeEventListener("mousedown",a),window.removeEventListener("mouseup",l),window.removeEventListener("mousemove",c)}}),[t]),{refs:(0,mt.useMemo)((()=>Qi(e?[s,e]:[s])),[s,e])}}(r);let c,d,u;return t[6]===Symbol.for("react.memo_cache_sentinel")?(c=_o(kl.user_select_none),t[6]=c):c=t[6],t[7]!==o?(d=[o,c],t[7]=o,t[8]=d):d=t[8],t[9]!==s||t[10]!==l||t[11]!==d?(u=(0,Ft.jsx)(Sw.default,Object.assign({ref:l,style:d,horizontal:!0},s)),t[9]=s,t[10]=l,t[11]=d,t[12]=u):u=t[12],u}const aH=20;function lH(e){const t=(0,i.c)(50),{testID:s,selectedPage:n,items:o,onSelect:r,onPressSelected:a}=e,l=ec(),c=(0,mt.useRef)(null);let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[0]=d):d=t[0];const u=(0,mt.useRef)(d),{gtMobile:m}=ql(),h=m?cH:dH;let p,f,g;t[1]!==n?(p=()=>{const e=c?.current?.getScrollableNode?.();if(!e)return;const t=e.getBoundingClientRect();if(!t)return;const{left:s,right:o,width:r}=t,i=u.current[n];if(!i)return;const a=i.getBoundingClientRect?.();if(!a)return;const{left:l,right:d,width:m}=a;let h=0;d>=o?(h=d-o+0,h+=r-m-aH):l<=s&&(h=0-(s-l),h-=r-m-aH);let p=e.scrollLeft+h;p=Math.max(0,p),p=Math.min(p,e.scrollWidth-r),0!==h&&e.scroll({left:p,behavior:"smooth"})},t[1]=n,t[2]=p):p=t[2],t[3]!==n||t[4]!==h?(f=[c,n,h],t[3]=n,t[4]=h,t[5]=f):f=t[5],(0,mt.useEffect)(p,f),t[6]!==a||t[7]!==r||t[8]!==n?(g=e=>{r?.(e),e===n&&a?.(e)},t[6]=a,t[7]=r,t[8]=n,t[9]=g):g=t[9];const x=g;let _;t[10]!==h.outer||t[11]!==l.atoms.bg?(_=[l.atoms.bg,h.outer],t[10]=h.outer,t[11]=l.atoms.bg,t[12]=_):_=t[12];const y=`${s}-selector`,b=h.contentContainer;let j,v,w,S;if(t[13]!==o||t[14]!==x||t[15]!==n||t[16]!==h.item||t[17]!==h.itemIndicator||t[18]!==h.itemInner||t[19]!==h.itemText||t[20]!==l.atoms.bg_contrast_25||t[21]!==l.atoms.text||t[22]!==l.atoms.text_contrast_medium||t[23]!==l.palette||t[24]!==s){let e;t[26]!==x||t[27]!==n||t[28]!==h.item||t[29]!==h.itemIndicator||t[30]!==h.itemInner||t[31]!==h.itemText||t[32]!==l.atoms.bg_contrast_25||t[33]!==l.atoms.text||t[34]!==l.atoms.text_contrast_medium||t[35]!==l.palette||t[36]!==s?(e=(e,t)=>{const o=t===n;return(0,Ft.jsx)(MP,{testID:`${s}-selector-${t}`,ref:e=>u.current[t]=e,style:h.item,hoverStyle:l.atoms.bg_contrast_25,onPress:()=>x(t),accessibilityRole:"tab",children:(0,Ft.jsx)(wo.default,{style:h.itemInner,children:(0,Ft.jsxs)(fr,{emoji:!0,testID:s?`${s}-${e}`:void 0,style:[h.itemText,o?l.atoms.text:l.atoms.text_contrast_medium,kl.text_md,kl.font_bold,{lineHeight:20}],children:[e,(0,Ft.jsx)(wo.default,{style:[h.itemIndicator,o&&{backgroundColor:l.palette.primary_500}]})]})})},`${e}-${t}`)},t[26]=x,t[27]=n,t[28]=h.item,t[29]=h.itemIndicator,t[30]=h.itemInner,t[31]=h.itemText,t[32]=l.atoms.bg_contrast_25,t[33]=l.atoms.text,t[34]=l.atoms.text_contrast_medium,t[35]=l.palette,t[36]=s,t[37]=e):e=t[37],j=o.map(e),t[13]=o,t[14]=x,t[15]=n,t[16]=h.item,t[17]=h.itemIndicator,t[18]=h.itemInner,t[19]=h.itemText,t[20]=l.atoms.bg_contrast_25,t[21]=l.atoms.text,t[22]=l.atoms.text_contrast_medium,t[23]=l.palette,t[24]=s,t[25]=j}else j=t[25];return t[38]!==h.contentContainer||t[39]!==y||t[40]!==j?(v=(0,Ft.jsx)(iH,{testID:y,horizontal:!0,showsHorizontalScrollIndicator:!1,ref:c,contentContainerStyle:b,children:j}),t[38]=h.contentContainer,t[39]=y,t[40]=j,t[41]=v):v=t[41],t[42]!==h.outerBottomBorder||t[43]!==l.atoms.border_contrast_low?(w=(0,Ft.jsx)(wo.default,{style:[l.atoms.border_contrast_low,h.outerBottomBorder]}),t[42]=h.outerBottomBorder,t[43]=l.atoms.border_contrast_low,t[44]=w):w=t[44],t[45]!==w||t[46]!==_||t[47]!==v||t[48]!==s?(S=(0,Ft.jsxs)(wo.default,{testID:s,style:_,accessibilityRole:"tablist",children:[v,w]}),t[45]=w,t[46]=_,t[47]=v,t[48]=s,t[49]=S):S=t[49],S}const cH=Gn.default.create({outer:{flexDirection:"row",width:600},contentContainer:{flexGrow:1,paddingHorizontal:0,backgroundColor:"transparent"},item:{flexGrow:1,alignItems:"stretch",paddingTop:14,paddingHorizontal:14,justifyContent:"center"},itemInner:Object.assign({alignItems:"center"},_o({overflowX:"hidden"})),itemText:{textAlign:"center",paddingBottom:13},itemIndicator:{position:"absolute",bottom:0,height:3,left:"50%",transform:"translateX(-50%)",minWidth:45,width:"100%"},outerBottomBorder:{position:"absolute",left:0,right:0,top:"100%",borderBottomWidth:Gn.default.hairlineWidth}}),dH=Gn.default.create({outer:{flexDirection:"row"},contentContainer:{flexGrow:1,backgroundColor:"transparent",paddingHorizontal:6},item:{flexGrow:1,alignItems:"stretch",paddingTop:10,paddingHorizontal:10,justifyContent:"center"},itemInner:Object.assign({flexGrow:1,alignItems:"center"},_o({overflowX:"hidden"})),itemText:{textAlign:"center",paddingBottom:13},itemIndicator:{position:"absolute",bottom:0,height:3,left:"50%",transform:"translateX(-50%)",minWidth:45,width:"100%"},outerBottomBorder:{position:"absolute",left:0,right:0,top:"100%",borderBottomWidth:Gn.default.hairlineWidth}}),uH=["fill"],mH=mt.forwardRef((function(e,t){const n=(0,i.c)(28);let o,r;if(n[0]!==e){var a=e;({fill:o}=a),r=(0,ls.default)(a,uH),n[0]=e,n[1]=o,n[2]=r}else o=n[1],r=n[2];const l="sky"===o;let c;n[3]!==e.style?(c=Gn.default.flatten(e.style),n[3]=e.style,n[4]=c):c=n[4];const d=c,u=l?"url(#sky)":o||d?.color||sc.blue3,m=parseInt(r.width||32);if(Wc()){let e,t,o;return n[5]!==m?(e=s(m>100?99044:51805),n[5]=m,n[6]=e):e=n[6],n[7]!==m?(t=[{height:m,aspectRatio:1.4}],n[7]=m,n[8]=t):t=n[8],n[9]!==e||n[10]!==t?(o=(0,Ft.jsx)(SS.Image,{source:e,accessibilityLabel:"Bluesky",accessibilityHint:"",accessibilityIgnoresInvertColors:!0,style:t}),n[9]=e,n[10]=t,n[11]=o):o=n[11],o}const h=.890625*m;let p,f,g,x,_;return n[12]!==m||n[13]!==h?(p={width:m,height:h},n[12]=m,n[13]=h,n[14]=p):p=n[14],n[15]!==d||n[16]!==p?(f=[p,d],n[15]=d,n[16]=p,n[17]=f):f=n[17],n[18]!==l?(g=l&&(0,Ft.jsx)(Ir.Defs,{children:(0,Ft.jsxs)(Ir.LinearGradient,{id:"sky",x1:"0",y1:"0",x2:"0",y2:"1",children:[(0,Ft.jsx)(Ir.Stop,{offset:"0",stopColor:"#0A7AFF",stopOpacity:"1"}),(0,Ft.jsx)(Ir.Stop,{offset:"1",stopColor:"#59B9FF",stopOpacity:"1"})]})}),n[18]=l,n[19]=g):g=n[19],n[20]!==u?(x=(0,Ft.jsx)(Ir.Path,{fill:u,d:"M13.873 3.805C21.21 9.332 29.103 20.537 32 26.55v15.882c0-.338-.13.044-.41.867-1.512 4.456-7.418 21.847-20.923 7.944-7.111-7.32-3.819-14.64 9.125-16.85-7.405 1.264-15.73-.825-18.014-9.015C1.12 23.022 0 8.51 0 6.55 0-3.268 8.579-.182 13.873 3.805ZM50.127 3.805C42.79 9.332 34.897 20.537 32 26.55v15.882c0-.338.13.044.41.867 1.512 4.456 7.418 21.847 20.923 7.944 7.111-7.32 3.819-14.64-9.125-16.85 7.405 1.264 15.73-.825 18.014-9.015C62.88 23.022 64 8.51 64 6.55c0-9.818-8.578-6.732-13.873-2.745Z"}),n[20]=u,n[21]=x):x=n[21],n[22]!==t||n[23]!==r||n[24]!==f||n[25]!==g||n[26]!==x?(_=(0,Ft.jsxs)(Ir.default,Object.assign({fill:"none",ref:t,viewBox:"0 0 64 57"},r,{style:f,children:[g,x]})),n[22]=t,n[23]=r,n[24]=f,n[25]=g,n[26]=x,n[27]=_):_=n[27],_}));function hH(e){const t=(0,i.c)(28),{children:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),{headerHeight:r}=To(),a=function(){const{headerMode:e}=Ha(),{headerHeight:t}=To();return(0,ko.useAnimatedStyle)(function(){const s=function(){const s=e.get();return{pointerEvents:0===s?"auto":"none",opacity:Math.pow(1-s,2),transform:[{translateY:(0,ko.interpolate)(s,[0,1],[0,-t.get()])}]}};return s.__closure={headerMode:e,interpolate:ko.interpolate,headerHeight:t},s.__workletHash=0xc8f9ad3e745,s.__initData=xz,s}())}(),{hasSession:l}=xh(),c=lS();let d,u,m,h,p,f,g,x,_,y,b,j,v;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d={top:0,left:0,right:0},t[0]=d):d=t[0],t[1]!==a||t[2]!==n.atoms.bg?(u=[kl.fixed,kl.z_10,n.atoms.bg,d,a],t[1]=a,t[2]=n.atoms.bg,t[3]=u):u=t[3],t[4]!==r?(m=e=>{r.set(e.nativeEvent.layout.height)},t[4]=r,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(ul,{})}),t[6]=h):h=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1,kl.align_center],t[7]=p):p=t[7],t[8]!==c?(f=()=>{c("Heavy")},g=()=>{c("Light")},t[8]=c,t[9]=f,t[10]=g):(f=t[9],g=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(mH,{width:30}),t[11]=x):x=t[11],t[12]!==f||t[13]!==g?(_=(0,Ft.jsx)(wo.default,{style:p,children:(0,Ft.jsx)(GE,{targetScale:.9,onPress:pH,onPressIn:f,onPressOut:g,children:x})}),t[12]=f,t[13]=g,t[14]=_):_=t[14],t[15]!==o||t[16]!==l?(y=l&&(0,Ft.jsx)(pv,{testID:"viewHeaderHomeFeedPrefsBtn",to:"/feeds",hitSlop:vi,label:o({id:"/5HcOy"}),size:"small",variant:"ghost",color:"secondary",shape:"square",style:[kl.justify_center,{marginRight:-xa}],children:(0,Ft.jsx)(Pr,{icon:qF,size:"lg"})}),t[15]=o,t[16]=l,t[17]=y):y=t[17],t[18]!==y?(b=(0,Ft.jsx)(cl,{children:y}),t[18]=y,t[19]=b):b=t[19],t[20]!==b||t[21]!==_?(j=(0,Ft.jsxs)(il,{noBottomBorder:!0,children:[h,_,b]}),t[20]=b,t[21]=_,t[22]=j):j=t[22],t[23]!==s||t[24]!==j||t[25]!==u||t[26]!==m?(v=(0,Ft.jsxs)(ko.default.View,{style:u,onLayout:m,children:[j,s]}),t[23]=s,t[24]=j,t[25]=u,t[26]=m,t[27]=v):v=t[27],v}function pH(){Rt()}function fH(e){const t=(0,i.c)(4),{gtMobile:s}=ql();if(s){let s;return t[2]!==e?(s=(0,Ft.jsx)(gH,Object.assign({},e)),t[2]=e,t[3]=s):s=t[3],s}{let s;return t[0]!==e?(s=(0,Ft.jsx)(hH,Object.assign({},e)),t[0]=e,t[1]=s):s=t[1],s}}function gH(e){const t=(0,i.c)(20),{children:s,tabBarAnchor:n}=e,o=ec(),{headerHeight:r}=To(),{hasSession:a}=xh(),{_:l}=(0,ft.useLingui)(),c=Wc();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[0,"base"],t[0]=d):d=t[0];const u=Kl(d);let m,h,p,f,g,x;return t[1]!==l||t[2]!==u||t[3]!==a||t[4]!==c||t[5]!==o.atoms.bg?(m=a&&(0,Ft.jsx)(wl,{children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,u,kl.pt_md,o.atoms.bg],children:[(0,Ft.jsx)(wo.default,{style:{width:34}}),(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.align_center,kl.justify_center],children:(0,Ft.jsx)(mH,{width:c?60:28})}),(0,Ft.jsx)(pv,{to:"/feeds",hitSlop:10,label:l({id:"/5HcOy"}),size:"small",variant:"ghost",color:"secondary",shape:"square",style:[kl.justify_center],children:(0,Ft.jsx)(Pr,{icon:qF,size:"lg"})})]})}),t[1]=l,t[2]=u,t[3]=a,t[4]=c,t[5]=o.atoms.bg,t[6]=m):m=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(h={top:0},t[7]=h):h=t[7],t[8]!==o.atoms.bg?(p=[kl.sticky,kl.z_10,kl.align_center,o.atoms.bg,h],t[8]=o.atoms.bg,t[9]=p):p=t[9],t[10]!==r?(f=e=>{r.set(e.nativeEvent.layout.height)},t[10]=r,t[11]=f):f=t[11],t[12]!==s||t[13]!==p||t[14]!==f?(g=(0,Ft.jsx)(wl,{style:p,onLayout:f,children:s}),t[12]=s,t[13]=p,t[14]=f,t[15]=g):g=t[15],t[16]!==m||t[17]!==g||t[18]!==n?(x=(0,Ft.jsxs)(Ft.Fragment,{children:[m,n,g]}),t[16]=m,t[17]=g,t[18]=n,t[19]=x):x=t[19],x}function xH(e){const{feeds:t}=e,{hasSession:s}=xh(),n=(0,va.useNavigation)(),o=mt.useMemo((()=>!!s&&t.some((e=>!("following"===e.uri)))),[t,s]),r=mt.useMemo((()=>{const e=t.map((e=>e.displayName));return o?e:e.concat("Feeds \u2728")}),[o,t]),i=mt.useCallback((()=>{n.navigate("Feeds")}),[n]),a=mt.useCallback((t=>{o||t!==r.length-1?e.onSelect&&e.onSelect(t):i()}),[r.length,i,e,o]);return(0,Ft.jsx)(fH,{tabBarAnchor:e.tabBarAnchor,children:(0,Ft.jsx)(lH,{onPressSelected:e.onPressSelected,selectedPage:e.selectedPage,onSelect:a,testID:e.testID,items:r,dragProgress:e.dragProgress,dragState:e.dragState},r.join(","))})}const _H=mt.forwardRef((function({children:e,initialPage:t=0,renderTabBar:s,onPageSelected:n},o){const[r,i]=mt.useState(t),a=mt.useRef([]),l=mt.useRef(null);mt.useImperativeHandle(o,(()=>({setPage:e=>{c(e)}})));const c=mt.useCallback((e=>{const t=window.scrollY;let s=l.current?l.current.getBoundingClientRect().top:-t;const o=s<=5;if(a.current[r]=o?window.scrollY:null,(0,D_.flushSync)((()=>{i(e),n?.(e)})),o){const n=a.current[e];null!=n?window.scrollTo(0,n):window.scrollTo(0,t+s)}}),[r,i,n]);return(0,Ft.jsxs)(wo.default,{style:oc.hContentRegion,children:[s({selectedPage:r,tabBarAnchor:(0,Ft.jsx)(wo.default,{ref:l}),onSelect:e=>c(e)}),mt.Children.map(e,((e,t)=>(0,Ft.jsx)(wo.default,{style:r===t?oc.flex1:oc.hidden,children:e},`page-${t}`)))]})}));function yH(){const e=(0,i.c)(22),t=mx("default"),s=mx("inverted"),n=(0,va.useNavigation)();let o;e[0]!==n?(o=()=>{Pt?n.navigate("Search",{}):(n.navigate("SearchTab"),n.popToTop())},e[0]=n,e[1]=o):o=e[1];const r=o;let a,l,c,d,u,m;e[2]!==t.text?(a=(0,Ft.jsx)(wo.default,{style:bH.emptyIconContainer,children:(0,Ft.jsx)(vx,{style:[bH.emptyIcon,t.text],size:62})}),e[2]=t.text,e[3]=a):a=e[3],e[4]!==t.text?(l=[oc.textCenter,t.text],e[4]=t.text,e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ft.Trans,{id:"DH9pth"}),e[6]=c):c=e[6],e[7]!==l?(d=(0,Ft.jsx)(Tx,{type:"xl-medium",style:l,children:c}),e[7]=l,e[8]=d):d=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"vrCFbA"}),e[9]=u):u=e[9],e[10]!==s.text?(m=(0,Ft.jsx)(Tx,{type:"lg-medium",style:s.text,children:u}),e[10]=s.text,e[11]=m):m=e[11];const h=s.text;let p,f,g;return e[12]!==h?(p=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:h,size:14}),e[12]=h,e[13]=p):p=e[13],e[14]!==r||e[15]!==m||e[16]!==p?(f=(0,Ft.jsxs)(Ex,{type:"inverted",style:bH.emptyBtn,onPress:r,children:[m,p]}),e[14]=r,e[15]=m,e[16]=p,e[17]=f):f=e[17],e[18]!==a||e[19]!==d||e[20]!==f?(g=(0,Ft.jsxs)(wo.default,{style:bH.emptyContainer,children:[a,d,f]}),e[18]=a,e[19]=d,e[20]=f,e[21]=g):g=e[21],g}const bH=Gn.default.create({emptyContainer:{height:"100%",paddingVertical:40,paddingHorizontal:30},emptyIconContainer:{marginBottom:16},emptyIcon:{marginLeft:"auto",marginRight:"auto"},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30},feedsTip:{position:"absolute",left:22},feedsTipArrow:{marginLeft:32,marginTop:8}});function jH(){const e=(0,i.c)(41),t=mx("default"),s=mx("inverted"),n=(0,va.useNavigation)();let o;e[0]!==n?(o=()=>{Pt?n.navigate("Search",{}):(n.navigate("SearchTab"),n.popToTop())},e[0]=n,e[1]=o):o=e[1];const r=o;let a;e[2]!==n?(a=()=>{n.navigate("Feeds")},e[2]=n,e[3]=a):a=e[3];const l=a;let c,d,u,m,h,p;e[4]!==t.text?(c=(0,Ft.jsx)(wo.default,{style:vH.iconContainer,children:(0,Ft.jsx)(vx,{style:[vH.icon,t.text],size:62})}),e[4]=t.text,e[5]=c):c=e[5],e[6]!==t.text?(d=[oc.textCenter,t.text],e[6]=t.text,e[7]=d):d=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"J6KOqm"}),e[8]=u):u=e[8],e[9]!==d?(m=(0,Ft.jsx)(Tx,{type:"xl-medium",style:d,children:u}),e[9]=d,e[10]=m):m=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(ft.Trans,{id:"vrCFbA"}),e[11]=h):h=e[11],e[12]!==s.text?(p=(0,Ft.jsx)(Tx,{type:"lg-medium",style:s.text,children:h}),e[12]=s.text,e[13]=p):p=e[13];const f=s.text;let g,x,_,y,b,j,v,w;e[14]!==f?(g=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:f,size:14}),e[14]=f,e[15]=g):g=e[15],e[16]!==r||e[17]!==p||e[18]!==g?(x=(0,Ft.jsxs)(Ex,{type:"inverted",style:vH.emptyBtn,onPress:r,children:[p,g]}),e[16]=r,e[17]=p,e[18]=g,e[19]=x):x=e[19],e[20]!==t.text?(_=[oc.textCenter,t.text,oc.mt20],e[20]=t.text,e[21]=_):_=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(ft.Trans,{id:"jrtslv"}),e[22]=y):y=e[22],e[23]!==_?(b=(0,Ft.jsx)(Tx,{type:"xl-medium",style:_,children:y}),e[23]=_,e[24]=b):b=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(j=[vH.emptyBtn,oc.mt10],e[25]=j):j=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"7qCVEX"}),e[26]=v):v=e[26],e[27]!==s.text?(w=(0,Ft.jsx)(Tx,{type:"lg-medium",style:s.text,children:v}),e[27]=s.text,e[28]=w):w=e[28];const S=s.text;let k,C,P;return e[29]!==S?(k=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:S,size:14}),e[29]=S,e[30]=k):k=e[30],e[31]!==l||e[32]!==w||e[33]!==k?(C=(0,Ft.jsxs)(Ex,{type:"inverted",style:j,onPress:l,children:[w,k]}),e[31]=l,e[32]=w,e[33]=k,e[34]=C):C=e[34],e[35]!==x||e[36]!==b||e[37]!==C||e[38]!==c||e[39]!==m?(P=(0,Ft.jsx)(wo.default,{style:vH.container,children:(0,Ft.jsxs)(wo.default,{style:vH.inner,children:[c,m,x,b,C]})}),e[35]=x,e[36]=b,e[37]=C,e[38]=c,e[39]=m,e[40]=P):P=e[40],P}const vH=Gn.default.create({container:{height:"100%",flexDirection:"row",justifyContent:"center",paddingVertical:40,paddingHorizontal:30},inner:{width:"100%",maxWidth:460},iconContainer:{marginBottom:16},icon:{marginLeft:"auto",marginRight:"auto"},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30}});function wH(){const e=(0,i.c)(44),t=mx("default"),s=mx("inverted"),n=(0,va.useNavigation)();let o;e[0]!==n?(o=()=>{Pt?n.navigate("Search",{}):(n.navigate("SearchTab"),n.popToTop())},e[0]=n,e[1]=o):o=e[1];const r=o;let a;e[2]!==n?(a=()=>{n.navigate("Feeds")},e[2]=n,e[3]=a):a=e[3];const l=a;let c,d,u,m,h,p,f;e[4]===Symbol.for("react.memo_cache_sentinel")?(c={minHeight:.75*tc.default.get("window").height},e[4]=c):c=e[4],e[5]!==t.border?(d=[SH.container,t.border,c],e[5]=t.border,e[6]=d):d=e[6],e[7]!==t.text?(u=[oc.textCenter,t.text],e[7]=t.text,e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ft.Trans,{id:"wEboyp"}),e[9]=m):m=e[9],e[10]!==u?(h=(0,Ft.jsx)(Tx,{type:"xl-medium",style:u,children:m}),e[10]=u,e[11]=h):h=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ft.Trans,{id:"vrCFbA"}),e[12]=p):p=e[12],e[13]!==s.text?(f=(0,Ft.jsx)(Tx,{type:"lg-medium",style:s.text,children:p}),e[13]=s.text,e[14]=f):f=e[14];const g=s.text;let x,_,y,b,j,v,w,S;e[15]!==g?(x=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:g,size:14}),e[15]=g,e[16]=x):x=e[16],e[17]!==r||e[18]!==x||e[19]!==f?(_=(0,Ft.jsxs)(Ex,{type:"inverted",style:SH.emptyBtn,onPress:r,children:[f,x]}),e[17]=r,e[18]=x,e[19]=f,e[20]=_):_=e[20],e[21]!==t.text?(y=[oc.textCenter,t.text,oc.mt20],e[21]=t.text,e[22]=y):y=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ft.Trans,{id:"jrtslv"}),e[23]=b):b=e[23],e[24]!==y?(j=(0,Ft.jsx)(Tx,{type:"xl-medium",style:y,children:b}),e[24]=y,e[25]=j):j=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(v=[SH.emptyBtn,oc.mt10],e[26]=v):v=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(ft.Trans,{id:"7qCVEX"}),e[27]=w):w=e[27],e[28]!==s.text?(S=(0,Ft.jsx)(Tx,{type:"lg-medium",style:s.text,children:w}),e[28]=s.text,e[29]=S):S=e[29];const k=s.text;let C,P,T,L;return e[30]!==k?(C=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"angle-right",style:k,size:14}),e[30]=k,e[31]=C):C=e[31],e[32]!==l||e[33]!==S||e[34]!==C?(P=(0,Ft.jsxs)(Ex,{type:"inverted",style:v,onPress:l,children:[S,C]}),e[32]=l,e[33]=S,e[34]=C,e[35]=P):P=e[35],e[36]!==_||e[37]!==j||e[38]!==P||e[39]!==h?(T=(0,Ft.jsxs)(wo.default,{style:SH.inner,children:[h,_,j,P]}),e[36]=_,e[37]=j,e[38]=P,e[39]=h,e[40]=T):T=e[40],e[41]!==T||e[42]!==d?(L=(0,Ft.jsx)(wo.default,{style:d,children:T}),e[41]=T,e[42]=d,e[43]=L):L=e[43],L}const SH=Gn.default.create({container:{flexDirection:"row",justifyContent:"center",paddingTop:40,paddingBottom:80,paddingHorizontal:30,borderTopWidth:1},inner:{width:"100%",maxWidth:460},emptyBtn:{marginVertical:20,flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingVertical:18,paddingHorizontal:24,borderRadius:30}});function kH(e){const t=(0,i.c)(38),{preferences:s}=e,{_:n}=(0,ft.useLingui)(),o=qz(),{isPending:r,mutateAsync:a}=zh();let l;t[0]!==a||t[1]!==s.savedFeeds?(l=async()=>{let e=!1,t=!1;const n=[];for(const r of s.savedFeeds)"timeline"!==r.type||e?r.value!==Fi.value||t?n.push(r):t=!0:e=!0;const o=[Object.assign({},Fi,{pinned:!0,id:zm.TID.nextStr()}),Object.assign({},Ei,{pinned:!0,id:zm.TID.nextStr()}),...n];await a(o)},t[0]=a,t[1]=s.savedFeeds,t[2]=l):l=t[2];const c=l;let d;t[3]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.h_full_vh],t[3]=d):d=t[3];const u=o+kl.py_3xl.paddingTop;let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T;return t[4]!==u?(m=[kl.align_center,kl.h_full_vh,kl.py_3xl,kl.px_xl,{paddingTop:u}],t[4]=u,t[5]=m):m=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.align_center,kl.gap_sm,kl.pb_xl],t[6]=h):h=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"wXgOPE"})}),t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsxs)(wo.default,{style:h,children:[p,(0,Ft.jsx)(fr,{style:[kl.text_md,kl.text_center,kl.leading_snug,{maxWidth:340}],children:(0,Ft.jsx)(ft.Trans,{id:"+TxFN1"})})]}),t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_row,kl.gap_md,kl.justify_center,kl.flex_wrap],t[9]=g):g=t[9],t[10]!==n?(x=n({id:"d9Y8Uw"}),t[10]=n,t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(Pr,{icon:kS,position:"left"}),t[12]=_):_=t[12],t[13]!==n?(y=n({id:"S2UXDg"}),t[13]=n,t[14]=y):y=t[14],t[15]!==y?(b=(0,Ft.jsx)(Cr,{children:y}),t[15]=y,t[16]=b):b=t[16],t[17]!==c||t[18]!==r||t[19]!==b||t[20]!==x?(j=(0,Ft.jsxs)(Sr,{disabled:r,label:x,size:"large",variant:"solid",color:"primary",onPress:c,children:[_,b]}),t[17]=c,t[18]=r,t[19]=b,t[20]=x,t[21]=j):j=t[21],t[22]!==n?(v=n({id:"T2htj5"}),t[22]=n,t[23]=v):v=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(Pr,{icon:dT,position:"left"}),t[24]=w):w=t[24],t[25]!==n?(S=n({id:"T2htj5"}),t[25]=n,t[26]=S):S=t[26],t[27]!==S?(k=(0,Ft.jsx)(Cr,{children:S}),t[27]=S,t[28]=k):k=t[28],t[29]!==v||t[30]!==k?(C=(0,Ft.jsxs)(pv,{label:v,to:"/feeds",size:"large",variant:"solid",color:"secondary",children:[w,k]}),t[29]=v,t[30]=k,t[31]=C):C=t[31],t[32]!==j||t[33]!==C?(P=(0,Ft.jsxs)(wo.default,{style:g,children:[j,C]}),t[32]=j,t[33]=C,t[34]=P):P=t[34],t[35]!==P||t[36]!==m?(T=(0,Ft.jsx)(KP,{sideBorders:!0,style:d,children:(0,Ft.jsxs)(wo.default,{style:m,children:[f,P]})}),t[35]=P,t[36]=m,t[37]=T):T=t[37],T}function CH(){const e=(0,i.c)(4);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["demoMode"],e[0]=t):t=e[0];const[s,n]=Pn(Tn,t),o=void 0!==s&&s;let r;return e[1]!==o||e[2]!==n?(r=[o,n],e[1]=o,e[2]=n,e[3]=r):r=e[3],r}function PH(e){const t=(0,i.c)(12),{setShowLoggedOut:s}=oj(),{data:n}=Fh(),{currentAccount:o}=xh(),{data:r,isLoading:a}=MI();let l,c;if(t[0]!==o||t[1]!==e.navigation||t[2]!==e.route.name||t[3]!==e.route.params||t[4]!==s?(l=()=>{if(Pt&&!o){if("true"===new URLSearchParams(window.location.search).get("splash"))return void s(!0)}const t=e.route.params;o&&"Start"===e.route.name&&t?.name&&t?.rkey&&e.navigation.navigate("StarterPack",{rkey:t.rkey,name:t.name})},c=[o,e.navigation,e.route.name,e.route.params,s],t[0]=o,t[1]=e.navigation,t[2]=e.route.name,t[3]=e.route.params,t[4]=s,t[5]=l,t[6]=c):(l=t[5],c=t[6]),mt.useEffect(l,c),n&&r&&!a){let s;return t[7]!==r||t[8]!==n||t[9]!==e?(s=(0,Ft.jsx)(_l,{testID:"HomeScreen",children:(0,Ft.jsx)(LH,Object.assign({},e,{preferences:n,pinnedFeedInfos:r}))}),t[7]=r,t[8]=n,t[9]=e,t[10]=s):s=t[10],s}{let e;return t[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(wl,{style:AH.loading,children:(0,Ft.jsx)(Fx.default,{size:"large"})})}),t[11]=e):e=t[11],e}}const TH={code:"function HomeTsx1(state){const{setMinimalShellMode}=this.__closure;if(state==='dragging'){setMinimalShellMode(false);}}"};function LH({preferences:e,pinnedFeedInfos:t}){const s=mt.useMemo((()=>t.map((e=>e.feedDescriptor))),[t]),n=cj()??s[0],o=dj(),r=s.indexOf(n),i=Math.max(0,r),a=s[i],l=Tf();Vz(t[i]?.displayName),mt.useEffect((()=>{l("Home")}),[l]);const c=mt.useRef(null),d=mt.useRef(i);mt.useLayoutEffect((()=>{i!==d.current&&(d.current=i,c.current?.setPage(i))}),[i]);const{hasSession:u}=xh(),m=Na();(0,va.useFocusEffect)(mt.useCallback((()=>{m(!1)}),[m])),(0,va.useFocusEffect)(Ed((()=>{a&&En("home:feedDisplayed",{index:i,feedType:a.split("|")[0],feedUrl:a,reason:"focus"})})));const h=mt.useCallback((e=>{m(!1);const t=s[e];d.current=e,o(t),t&&En("home:feedDisplayed",{index:e,feedType:t.split("|")[0],feedUrl:t})}),[o,m,s]),p=mt.useCallback((()=>{Rt()}),[]),f=mt.useCallback(function(){const e=function(e){"dragging"===e&&m(!1)};return e.__closure={setMinimalShellMode:m},e.__workletHash=0xa7baf82e93a,e.__initData=TH,e}(),[m]),[g]=CH(),x=mt.useCallback((e=>g?(0,Ft.jsx)(xH,Object.assign({},e,{testID:"homeScreenFeedTabs",onPressSelected:p,feeds:[{displayName:"Following"},{displayName:"Discover"}]}),"FEEDS_TAB_BAR"):(0,Ft.jsx)(xH,Object.assign({},e,{testID:"homeScreenFeedTabs",onPressSelected:p,feeds:t}),"FEEDS_TAB_BAR")),[p,t,g]),_=mt.useCallback((()=>(0,Ft.jsx)(jH,{})),[]),y=mt.useCallback((()=>(0,Ft.jsx)(yH,{})),[]),b=mt.useMemo((()=>({mergeFeedEnabled:Boolean(e.feedViewPrefs.lab_mergeFeedEnabled),mergeFeedSources:e.feedViewPrefs.lab_mergeFeedEnabled?e.savedFeeds.filter((e=>"feed"===e.type||"list"===e.type)).map((e=>e.value)):[]})),[e]);return g?(0,Ft.jsxs)(_H,{ref:c,testID:"homeScreen",onPageSelected:h,onPageScrollStateChanged:f,renderTabBar:x,initialPage:i,children:[(0,Ft.jsx)(oH,{testID:"demoFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:"demo",renderEmptyState:y,feedInfo:t[0]}),(0,Ft.jsx)(oH,{testID:"customFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:`feedgen|${mi("whats-hot")}`,renderEmptyState:y,feedInfo:t[0]})]}):u?(0,Ft.jsx)(_H,{ref:c,testID:"homeScreen",initialPage:i,onPageSelected:h,onPageScrollStateChanged:f,renderTabBar:x,children:t.length?t.map(((e,t)=>{const s=e.feedDescriptor;if("following"===s)return(0,Ft.jsx)(oH,{testID:"followingFeedPage",isPageFocused:a===s,isPageAdjacent:1===Math.abs(i-t),feed:s,feedParams:b,renderEmptyState:_,renderEndOfFeed:wH,feedInfo:e},s);const n=e.savedFeed;return(0,Ft.jsx)(oH,{testID:"customFeedPage",isPageFocused:a===s,isPageAdjacent:1===Math.abs(i-t),feed:s,renderEmptyState:y,savedFeedConfig:n,feedInfo:e},s)})):(0,Ft.jsx)(kH,{preferences:e})},s.join(",")):(0,Ft.jsx)(_H,{testID:"homeScreen",onPageSelected:h,onPageScrollStateChanged:f,renderTabBar:x,children:(0,Ft.jsx)(oH,{testID:"customFeedPage",isPageFocused:!0,isPageAdjacent:!1,feed:`feedgen|${mi("whats-hot")}`,renderEmptyState:y,feedInfo:t[0]})})}const AH=Gn.default.create({loading:{height:"100%",alignContent:"center",justifyContent:"center",paddingBottom:100}});var IH=s(80346);const RH=zr({path:"M6 6a1 1 0 1 0 0 2 1 1 0 0 0 0-2ZM3 7a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm9 0a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Zm-6 9a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-3 1a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm9 0a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),DH=zr({path:"M3 7a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm0 10a3 3 0 1 1 6 0 3 3 0 0 1-6 0Zm10-1a1 1 0 1 0 0 2h7a1 1 0 1 0 0-2h-7Zm-1-9a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2h-7a1 1 0 0 1-1-1Z"}),FH={_reactKey:"__loading__"},EH={_reactKey:"__empty__"},MH={_reactKey:"__error__"};function BH(e){const t=(0,i.c)(43),{filter:s,inline:n,style:o,renderItem:r,testID:a}=e,l=mx("default"),c=ec(),{_:d}=(0,ft.useLingui)(),u=Op(),[m,h]=mt.useState(!1),{data:p,isFetching:f,isFetched:g,isError:x,error:_,refetch:y}=Ow(s),b=!f&&!p?.length;let j,v;t[0]===Symbol.for("react.memo_cache_sentinel")?(v=[],t[0]=v):v=t[0];let w=v;if(x&&b){let e;t[1]===Symbol.for("react.memo_cache_sentinel")?(e=w.concat([MH]),t[1]=e):e=t[1],w=e}if(!g&&f||!u){let e;if(t[2]!==w){let s;t[4]===Symbol.for("react.memo_cache_sentinel")?(s=[FH],t[4]=s):s=t[4],e=w.concat(s),t[2]=w,t[3]=e}else e=t[3];w=e}else if(b){let e;if(t[5]!==w){let s;t[7]===Symbol.for("react.memo_cache_sentinel")?(s=[EH],t[7]=s):s=t[7],e=w.concat(s),t[5]=w,t[6]=e}else e=t[6];w=e}else{let e;t[8]!==p||t[9]!==w?(e=w.concat(p),t[8]=p,t[9]=w,t[10]=e):e=t[10],w=e}j=w;const S=j;let k,C;if(t[11]!==d||t[12]!==s){e:switch(s){case"curate":k=d({id:"nPgGiV"});break e;case"mod":k=d({id:"JU9+bQ"});break e;default:k=d({id:"tCLJ9E"})}t[11]=d,t[12]=s,t[13]=k}else k=t[13];t[14]!==y?(C=async()=>{h(!0);try{await y()}catch(T){const t=T;ys.error("Failed to refresh lists",{message:t})}h(!1)},t[14]=y,t[15]=C):C=t[15];const P=C;let T;t[16]!==k||t[17]!==_||t[18]!==P||t[19]!==r||t[20]!==c?(T=e=>{const{item:t,index:s}=e;return t===EH?(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.align_center,kl.gap_sm,kl.px_xl,kl.pt_xl],children:[(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.justify_center,kl.rounded_full,c.atoms.bg_contrast_25,{width:32,height:32}],children:(0,Ft.jsx)(RH,{size:"md",fill:c.atoms.text_contrast_low.color})}),(0,Ft.jsx)(fr,{style:[kl.text_center,kl.flex_1,kl.text_sm,kl.leading_snug,c.atoms.text_contrast_medium,{maxWidth:200}],children:k})]}):t===MH?(0,Ft.jsx)(Rx,{message:ds(_),onPressTryAgain:P}):t===FH?(0,Ft.jsx)(wo.default,{style:{padding:20},children:(0,Ft.jsx)(Fx.default,{})}):r?r(t,s):(0,Ft.jsx)(wo.default,{style:[0!==s&&kl.border_t,c.atoms.border_contrast_low,kl.px_lg,kl.py_lg],children:(0,Ft.jsx)(AR,{view:t})})},t[16]=k,t[17]=_,t[18]=P,t[19]=r,t[20]=c,t[21]=T):T=t[21];const L=T;if(n){let e,s;return t[22]!==m||t[23]!==S||t[24]!==P||t[25]!==l||t[26]!==L||t[27]!==a?(e=S.length>0&&(0,Ft.jsx)(Lo.default,{testID:a?`${a}-flatlist`:void 0,data:S,keyExtractor:zH,renderItem:L,refreshControl:(0,Ft.jsx)(IH.default,{refreshing:m,onRefresh:P,tintColor:l.colors.text,titleColor:l.colors.text}),contentContainerStyle:[oc.contentContainer],removeClippedSubviews:!0}),t[22]=m,t[23]=S,t[24]=P,t[25]=l,t[26]=L,t[27]=a,t[28]=e):e=t[28],t[29]!==o||t[30]!==e||t[31]!==a?(s=(0,Ft.jsx)(wo.default,{testID:a,style:o,children:e}),t[29]=o,t[30]=e,t[31]=a,t[32]=s):s=t[32],s}{let e,s;return t[33]!==m||t[34]!==S||t[35]!==P||t[36]!==L||t[37]!==a?(e=S.length>0&&(0,Ft.jsx)(MF,{testID:a?`${a}-flatlist`:void 0,data:S,keyExtractor:OH,renderItem:L,refreshing:m,onRefresh:P,contentContainerStyle:[oc.contentContainer],removeClippedSubviews:!0,desktopFixedHeight:!0,sideBorders:!1}),t[33]=m,t[34]=S,t[35]=P,t[36]=L,t[37]=a,t[38]=e):e=t[38],t[39]!==o||t[40]!==e||t[41]!==a?(s=(0,Ft.jsx)(wo.default,{testID:a,style:o,children:e}),t[39]=o,t[40]=e,t[41]=a,t[42]=s):s=t[42],s}}function OH(e){return e.uri?e.uri:e._reactKey}function zH(e){return e.uri?e.uri:e._reactKey}function HH(e){const t=(0,i.c)(21),{_:s}=(0,ft.useLingui)(),n=Na(),o=(0,va.useNavigation)(),{openModal:r}=Zd(),a=ew();let l,c;t[0]!==n?(l=()=>{n(!1)},t[0]=n,t[1]=l):l=t[1],(0,va.useFocusEffect)(l),t[2]!==o||t[3]!==r?(c=()=>{r({name:"create-or-edit-list",purpose:"app.bsky.graph.defs#curatelist",onSave:e=>{try{const t=new Is.AtUri(e);o.navigate("ProfileList",{name:t.hostname,rkey:t.rkey})}catch{}}})},t[2]=o,t[3]=r,t[4]=c):c=t[4];const d=c;let u,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"ggPpXZ"},"lists"),t[5]=u):u=t[5],t[6]!==d||t[7]!==a?(m=a(d,{instructions:[u]}),t[6]=d,t[7]=a,t[8]=m):m=t[8];const h=m;let p,f,g,x,_,y,b,j;return t[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(dl,{}),t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ll,{align:"left",children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"h16FyT"})})}),t[10]=f):f=t[10],t[11]!==s?(g=s({id:"Sb2gYF"}),t[11]=s,t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Pr,{icon:kS}),t[13]=x):x=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"EM0Ehn"})}),t[14]=_):_=t[14],t[15]!==g||t[16]!==h?(y=(0,Ft.jsxs)(il,{children:[p,f,(0,Ft.jsxs)(Sr,{label:g,testID:"newUserListBtn",color:"secondary",variant:"solid",size:"small",onPress:h,children:[x,_]})]}),t[15]=g,t[16]=h,t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(BH,{filter:"curate",style:kl.flex_grow}),t[18]=b):b=t[18],t[19]!==y?(j=(0,Ft.jsxs)(_l,{testID:"listsScreen",children:[y,b]}),t[19]=y,t[20]=j):j=t[20],j}function NH(e){const t=(0,i.c)(16),s=mx("default"),{_:n}=(0,ft.useLingui)(),o=Na();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[],t[0]=r):r=t[0];const[a,l]=mt.useState(r),c=HS(),d=Ja();let u,m;t[1]!==o?(u=()=>{o(!1)},t[1]=o,t[2]=u):u=t[2],(0,va.useFocusEffect)(u),t[3]!==a?(m=e=>()=>{a.includes(e)?l(a.filter((t=>t!==e))):l([...a,e])},t[3]=a,t[4]=m):m=t[4];const h=m;let p,f,g,x;return t[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(YP,{title:"Log"}),t[5]=p):p=t[5],t[6]!==n||t[7]!==a||t[8]!==s||t[9]!==d||t[10]!==c||t[11]!==h?(f=es.slice(0).map((e=>(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsxs)(Ix.default,{style:[VH.entry,s.border,s.view],onPress:h(e.id),accessibilityLabel:n({id:"nHsQde"}),accessibilityHint:n({id:"JFO1MY"}),children:["debug"===e.level?(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"info"}):(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"exclamation",style:oc.red3}),(0,Ft.jsx)(Tx,{type:"sm",style:[VH.summary,s.text],children:String(e.message)}),e.metadata&&Object.keys(e.metadata).length?(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:a.includes(e.id)?"angle-up":"angle-down",style:oc.mr5}):void 0,(0,Ft.jsx)(Tx,{type:"sm",style:[VH.ts,s.textLight],children:c(e.timestamp,d)})]}),a.includes(e.id)?(0,Ft.jsx)(wo.default,{style:[s.view,oc.pl10,oc.pr10,oc.pb10],children:(0,Ft.jsx)(wo.default,{style:[s.btn,VH.details],children:(0,Ft.jsx)(Tx,{type:"mono",style:s.text,children:JSON.stringify(e.metadata,null,2)})})}):void 0]},`entry-${e.id}`))),t[6]=n,t[7]=a,t[8]=s,t[9]=d,t[10]=c,t[11]=h,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(wo.default,{style:oc.footerSpacer}),t[13]=g):g=t[13],t[14]!==f?(x=(0,Ft.jsxs)(_l,{children:[p,(0,Ft.jsxs)($P,{style:oc.flex1,children:[f,g]})]}),t[14]=f,t[15]=x):x=t[15],x}const VH=Gn.default.create({entry:{flexDirection:"row",borderTopWidth:1,paddingVertical:10,paddingHorizontal:6},summary:{flex:1},ts:{width:40},details:{paddingVertical:10,paddingHorizontal:6}});function qH(e){const t=(0,i.c)(3),s=(0,va.useNavigation)();let n;return t[0]!==s||t[1]!==e?(n=()=>{e?.(),s.canGoBack()?s.goBack():(s.navigate("HomeTab"),s.getState()?.routes?s.dispatch(va.StackActions.push(...cv.matchPath("/"))):(s.navigate("HomeTab"),s.dispatch(va.StackActions.popToTop())))},t[0]=s,t[1]=e,t[2]=n):n=t[2],n}function UH(e){const t=(0,i.c)(41),{title:s,message:n,onRetry:o,onGoBack:r,hideBackButton:a,sideBorders:l}=e,c=void 0===l||l,{_:d}=(0,ft.useLingui)(),u=ec(),{gtMobile:m}=ql(),h=qH(r),p=!m&&kl.justify_between;let f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A;return t[0]===Symbol.for("react.memo_cache_sentinel")?(f={paddingTop:175,paddingBottom:110},t[0]=f):f=t[0],t[1]!==u.atoms.border_contrast_low||t[2]!==p?(g=[kl.h_full_vh,kl.align_center,kl.gap_5xl,p,u.atoms.border_contrast_low,f],t[1]=u.atoms.border_contrast_low,t[2]=p,t[3]=g):g=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.w_full,kl.align_center,kl.gap_lg],t[4]=x):x=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.font_bold,kl.text_3xl],t[5]=_):_=t[5],t[6]!==s?(y=(0,Ft.jsx)(fr,{style:_,children:s}),t[6]=s,t[7]=y):y=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(b={lineHeight:1.4},t[8]=b):b=t[8],t[9]!==m?(j=m?{width:450}:[kl.w_full,kl.px_lg],t[9]=m,t[10]=j):j=t[10],t[11]!==u.atoms.text_contrast_high||t[12]!==j?(v=[kl.text_md,kl.text_center,u.atoms.text_contrast_high,b,j],t[11]=u.atoms.text_contrast_high,t[12]=j,t[13]=v):v=t[13],t[14]!==n||t[15]!==v?(w=(0,Ft.jsx)(fr,{style:v,children:n}),t[14]=n,t[15]=v,t[16]=w):w=t[16],t[17]!==w||t[18]!==y?(S=(0,Ft.jsxs)(wo.default,{style:x,children:[y,w]}),t[17]=w,t[18]=y,t[19]=S):S=t[19],t[20]!==m?(k=m?{width:350}:[kl.w_full,kl.px_lg],t[20]=m,t[21]=k):k=t[21],t[22]!==k?(C=[kl.gap_md,k],t[22]=k,t[23]=C):C=t[23],t[24]!==d||t[25]!==o?(P=o&&(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",label:d({id:"Mey1Kb"}),onPress:o,size:"large",style:[kl.rounded_sm,kl.overflow_hidden,{paddingVertical:10}],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})})}),t[24]=d,t[25]=o,t[26]=P):P=t[26],t[27]!==d||t[28]!==h||t[29]!==a||t[30]!==o?(T=!a&&(0,Ft.jsx)(Sr,{variant:"solid",color:o?"secondary":"primary",label:d({id:"/lgEIe"}),onPress:h,size:"large",style:[kl.rounded_sm,kl.overflow_hidden,{paddingVertical:10}],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"})})}),t[27]=d,t[28]=h,t[29]=a,t[30]=o,t[31]=T):T=t[31],t[32]!==C||t[33]!==P||t[34]!==T?(L=(0,Ft.jsxs)(wo.default,{style:C,children:[P,T]}),t[32]=C,t[33]=P,t[34]=T,t[35]=L):L=t[35],t[36]!==c||t[37]!==S||t[38]!==L||t[39]!==g?(A=(0,Ft.jsxs)(KP,{style:g,sideBorders:c,children:[S,L]}),t[36]=c,t[37]=S,t[38]=L,t[39]=g,t[40]=A):A=t[40],A}function WH(e){const t=(0,i.c)(20),{isFetchingNextPage:s,hasNextPage:n,error:o,onRetry:r,height:a,style:l,showEndMessage:c,endMessageText:d,renderEndMessage:u}=e,m=void 0!==c&&c,h=ec(),p=h.atoms.border_contrast_low,f=a??180;let g,x,_,y,b;return t[0]!==f?(g={height:f,paddingTop:30},t[0]=f,t[1]=g):g=t[1],t[2]!==l?(x=Wl(l),t[2]=l,t[3]=x):x=t[3],t[4]!==h.atoms.border_contrast_low||t[5]!==g||t[6]!==x?(_=[kl.w_full,kl.align_center,kl.border_t,kl.pb_lg,p,g,x],t[4]=h.atoms.border_contrast_low,t[5]=g,t[6]=x,t[7]=_):_=t[7],t[8]!==d||t[9]!==o||t[10]!==n||t[11]!==s||t[12]!==r||t[13]!==u||t[14]!==m||t[15]!==h.atoms.text_contrast_low?(y=s?(0,Ft.jsx)(wv,{size:"xl"}):o?(0,Ft.jsx)(ZH,{error:o,onRetry:r}):!n&&m?u?u():(0,Ft.jsx)(fr,{style:[kl.text_sm,h.atoms.text_contrast_low],children:d??(0,Ft.jsx)(ft.Trans,{id:"dxlMS+"})}):null,t[8]=d,t[9]=o,t[10]=n,t[11]=s,t[12]=r,t[13]=u,t[14]=m,t[15]=h.atoms.text_contrast_low,t[16]=y):y=t[16],t[17]!==_||t[18]!==y?(b=(0,Ft.jsx)(wo.default,{style:_,children:y}),t[17]=_,t[18]=y,t[19]=b):b=t[19],b}function ZH(e){const t=(0,i.c)(21),{error:s,onRetry:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();if(!s)return null;let a,l,c,d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.w_full,kl.px_lg],t[0]=a):a=t[0],t[1]!==o.atoms.bg_contrast_25?(l=[kl.flex_row,kl.gap_md,kl.p_md,kl.rounded_sm,kl.align_center,o.atoms.bg_contrast_25],t[1]=o.atoms.bg_contrast_25,t[2]=l):l=t[2],t[3]!==o.atoms.text_contrast_medium?(c=[kl.flex_1,kl.text_sm,o.atoms.text_contrast_medium],t[3]=o.atoms.text_contrast_medium,t[4]=c):c=t[4],t[5]!==s?(d=s?ds(s):(0,Ft.jsx)(ft.Trans,{id:"Wnz/MU"}),t[5]=s,t[6]=d):d=t[6],t[7]!==c||t[8]!==d?(u=(0,Ft.jsx)(fr,{style:c,numberOfLines:2,children:d}),t[7]=c,t[8]=d,t[9]=u):u=t[9],t[10]!==r?(m=r({id:"Mey1Kb"}),t[10]=r,t[11]=m):m=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.align_center,kl.justify_center,kl.rounded_sm,kl.overflow_hidden,kl.px_md,kl.py_sm],t[12]=h):h=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),t[13]=p):p=t[13],t[14]!==n||t[15]!==m?(f=(0,Ft.jsx)(Sr,{variant:"gradient",label:m,style:h,onPress:n,children:p}),t[14]=n,t[15]=m,t[16]=f):f=t[16],t[17]!==l||t[18]!==u||t[19]!==f?(g=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsxs)(wo.default,{style:l,children:[u,f]})}),t[17]=l,t[18]=u,t[19]=f,t[20]=g):g=t[20],g}let QH=e=>{const t=(0,i.c)(36),{isLoading:s,noEmpty:n,isError:o,emptyTitle:r,emptyMessage:a,errorTitle:l,errorMessage:c,emptyType:d,onRetry:u,onGoBack:m,hideBackButton:h,sideBorders:p,topBorder:f}=e,g=void 0===d?"page":d,x=void 0!==f&&f,_=ec(),{_:y}=(0,ft.useLingui)(),{gtMobile:b,gtTablet:j}=ql();if(s){const e=b?kl.gap_5xl:kl.justify_between;let s,n;t[0]===Symbol.for("react.memo_cache_sentinel")?(s={paddingTop:175,paddingBottom:110},t[0]=s):s=t[0],t[1]!==_.atoms.border_contrast_low||t[2]!==e?(n=[kl.h_full_vh,kl.align_center,e,_.atoms.border_contrast_low,s],t[1]=_.atoms.border_contrast_low,t[2]=e,t[3]=n):n=t[3];const o=p??b,r=x&&!j;let i,a;return t[4]===Symbol.for("react.memo_cache_sentinel")?(i=(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.align_center,{top:100}],children:(0,Ft.jsx)(wv,{size:"xl"})}),t[4]=i):i=t[4],t[5]!==n||t[6]!==o||t[7]!==r?(a=(0,Ft.jsx)(KP,{style:n,sideBorders:o,topBorder:r,children:i}),t[5]=n,t[6]=o,t[7]=r,t[8]=a):a=t[8],a}if(o){let e,s,n;return t[9]!==y||t[10]!==l?(e=l??y({id:"5yIPLp"}),t[9]=y,t[10]=l,t[11]=e):e=t[11],t[12]!==y||t[13]!==c?(s=c??y({id:"ywDBfs"}),t[12]=y,t[13]=c,t[14]=s):s=t[14],t[15]!==h||t[16]!==m||t[17]!==u||t[18]!==p||t[19]!==e||t[20]!==s?(n=(0,Ft.jsx)(UH,{title:e,message:s,onRetry:u,onGoBack:m,sideBorders:p,hideBackButton:h}),t[15]=h,t[16]=m,t[17]=u,t[18]=p,t[19]=e,t[20]=s,t[21]=n):n=t[21],n}if(!n){let e,s,n;return t[22]!==y||t[23]!==r||t[24]!==g?(e=r??y("results"===g?{id:"AxPAXW"}:{id:"8F1i42"}),t[22]=y,t[23]=r,t[24]=g,t[25]=e):e=t[25],t[26]!==y||t[27]!==a?(s=a??y({id:"/mVVX2"}),t[26]=y,t[27]=a,t[28]=s):s=t[28],t[29]!==h||t[30]!==m||t[31]!==u||t[32]!==p||t[33]!==e||t[34]!==s?(n=(0,Ft.jsx)(UH,{title:e,message:s,onRetry:u,onGoBack:m,hideBackButton:h,sideBorders:p}),t[29]=h,t[30]=m,t[31]=u,t[32]=p,t[33]=e,t[34]=s,t[35]=n):n=t[35],n}return null};function KH(e){const t=(0,i.c)(30),s=ec(),n=Na(),o=Op(),[r,a]=(0,mt.useState)(!1),{data:l,isFetching:c,isError:d,error:u,refetch:m,hasNextPage:h,fetchNextPage:p,isFetchingNextPage:f}=function(){const e=(0,i.c)(3),t=bh();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=X_(),e[0]=s):s=e[0],e[1]!==t?(n={queryKey:s,async queryFn(e){const{pageParam:s}=e;return(await t.app.bsky.graph.getBlocks({limit:30,cursor:s})).data},initialPageParam:void 0,getNextPageParam:ey},e[1]=t,e[2]=n):n=e[2],(0,Dp.useInfiniteQuery)(n)}(),g=!c&&!l?.pages[0]?.blocks.length;let x;e:{if(l?.pages){let e;t[0]!==l.pages?(e=l.pages.flatMap(GH),t[0]=l.pages,t[1]=e):e=t[1],x=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],x=e}const _=x;let y,b;t[3]!==n?(y=()=>{n(!1)},t[3]=n,t[4]=y):y=t[4],(0,va.useFocusEffect)(y),t[5]!==m?(b=async()=>{a(!0);try{await m()}catch(v){const t=v;ys.error("Failed to refresh my muted accounts",{message:t})}a(!1)},t[5]=m,t[6]=b):b=t[6];const j=b;let v;t[7]!==p||t[8]!==h||t[9]!==d||t[10]!==c?(v=async()=>{if(!c&&h&&!d)try{await p()}catch(S){const t=S;ys.error("Failed to load more of my muted accounts",{message:t})}},t[7]=p,t[8]=h,t[9]=d,t[10]=c,t[11]=v):v=t[11];const w=v;let S;t[12]!==o||t[13]!==s?(S=e=>{const{item:t,index:n}=e;return o?(0,Ft.jsx)(wo.default,{style:[kl.py_md,kl.px_xl,kl.border_t,s.atoms.border_contrast_low],children:(0,Ft.jsx)(MC,{testID:`blockedAccount-${n}`,profile:t,moderationOpts:o})},t.did):null},t[12]=o,t[13]=s,t[14]=S):S=t[14];const k=S;let C,P,T;return t[15]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(dl,{}),t[15]=C):C=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsxs)(il,{children:[C,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"JuqQpF"})})}),(0,Ft.jsx)(cl,{})]}),t[16]=P):P=t[16],t[17]!==u||t[18]!==p||t[19]!==h||t[20]!==g||t[21]!==d||t[22]!==f||t[23]!==r||t[24]!==w||t[25]!==j||t[26]!==_||t[27]!==m||t[28]!==k?(T=(0,Ft.jsx)(_l,{testID:"blockedAccountsScreen",children:(0,Ft.jsxs)(wl,{children:[P,g?(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(JH,{style:[kl.border_b]}),d?(0,Ft.jsx)(UD,{title:"Oops!",message:ds(u),onPressTryAgain:m}):(0,Ft.jsx)(YH,{})]}):(0,Ft.jsx)(MF,{data:_,keyExtractor:$H,refreshing:r,onRefresh:j,onEndReached:w,renderItem:k,initialNumToRender:15,ListHeaderComponent:JH,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:f,hasNextPage:h,error:ds(u),onRetry:p})})]})}),t[17]=u,t[18]=p,t[19]=h,t[20]=g,t[21]=d,t[22]=f,t[23]=r,t[24]=w,t[25]=j,t[26]=_,t[27]=m,t[28]=k,t[29]=T):T=t[29],T}function $H(e){return e.did}function GH(e){return e.blocks}function YH(){const e=(0,i.c)(13),t=ec();let s,n,o,r,a,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.pt_2xl,kl.px_xl,kl.align_center],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={maxWidth:400},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25||e[3]!==t.atoms.border_contrast_low?(o=[kl.py_md,kl.px_lg,kl.rounded_sm,t.atoms.bg_contrast_25,kl.border,t.atoms.border_contrast_low,n],e[2]=t.atoms.bg_contrast_25,e[3]=t.atoms.border_contrast_low,e[4]=o):o=e[4],e[5]!==t.atoms.text_contrast_high?(r=[kl.text_sm,kl.text_center,t.atoms.text_contrast_high],e[5]=t.atoms.text_contrast_high,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"NzoLJ0"}),e[7]=a):a=e[7],e[8]!==r?(l=(0,Ft.jsx)(fr,{style:r,children:a}),e[8]=r,e[9]=l):l=e[9],e[10]!==o||e[11]!==l?(c=(0,Ft.jsx)(wo.default,{style:s,children:(0,Ft.jsx)(wo.default,{style:o,children:l})}),e[10]=o,e[11]=l,e[12]=c):c=e[12],c}function JH(e){const t=(0,i.c)(13),{style:s}=e,n=ec();let o,r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={marginTop:-1*kl.border.borderWidth},t[0]=o):o=t[0],t[1]!==s||t[2]!==n.atoms.bg_contrast_25||t[3]!==n.atoms.border_contrast_low?(r=[kl.w_full,n.atoms.bg_contrast_25,kl.py_md,kl.px_xl,kl.border_t,o,n.atoms.border_contrast_low,s],t[1]=s,t[2]=n.atoms.bg_contrast_25,t[3]=n.atoms.border_contrast_low,t[4]=r):r=t[4],t[5]!==n.atoms.text_contrast_high?(a=[kl.text_center,kl.text_sm,n.atoms.text_contrast_high],t[5]=n.atoms.text_contrast_high,t[6]=a):a=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ft.Trans,{id:"8LNSUt"}),t[7]=l):l=t[7],t[8]!==a?(c=(0,Ft.jsx)(fr,{style:a,children:l}),t[8]=a,t[9]=c):c=t[9],t[10]!==r||t[11]!==c?(d=(0,Ft.jsx)(wo.default,{style:r,children:c}),t[10]=r,t[11]=c,t[12]=d):d=t[12],d}function XH(e){const t=(0,i.c)(21),{_:s}=(0,ft.useLingui)(),n=Na(),o=(0,va.useNavigation)(),{openModal:r}=Zd(),a=ew();let l,c;t[0]!==n?(l=()=>{n(!1)},t[0]=n,t[1]=l):l=t[1],(0,va.useFocusEffect)(l),t[2]!==o||t[3]!==r?(c=()=>{r({name:"create-or-edit-list",purpose:"app.bsky.graph.defs#modlist",onSave:e=>{try{const t=new Is.AtUri(e);o.navigate("ProfileList",{name:t.hostname,rkey:t.rkey})}catch{}}})},t[2]=o,t[3]=r,t[4]=c):c=t[4];const d=c;let u,m;t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"ggPpXZ"},"modlist"),t[5]=u):u=t[5],t[6]!==d||t[7]!==a?(m=a(d,{instructions:[u]}),t[6]=d,t[7]=a,t[8]=m):m=t[8];const h=m;let p,f,g,x,_,y,b,j;return t[9]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(dl,{}),t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ll,{align:"left",children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"3j2OjF"})})}),t[10]=f):f=t[10],t[11]!==s?(g=s({id:"Sb2gYF"}),t[11]=s,t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Pr,{icon:kS}),t[13]=x):x=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"EM0Ehn"})}),t[14]=_):_=t[14],t[15]!==g||t[16]!==h?(y=(0,Ft.jsxs)(il,{children:[p,f,(0,Ft.jsxs)(Sr,{label:g,testID:"newModListBtn",color:"secondary",variant:"solid",size:"small",onPress:h,children:[x,_]})]}),t[15]=g,t[16]=h,t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(BH,{filter:"mod",style:kl.flex_grow}),t[18]=b):b=t[18],t[19]!==y?(j=(0,Ft.jsxs)(_l,{testID:"moderationModlistsScreen",children:[y,b]}),t[19]=y,t[20]=j):j=t[20],j}function eN(e){const t=(0,i.c)(30),s=ec(),n=Op();(0,ft.useLingui)();const o=Na(),[r,a]=(0,mt.useState)(!1),{data:l,isFetching:c,isError:d,error:u,refetch:m,hasNextPage:h,fetchNextPage:p,isFetchingNextPage:f}=function(){const e=(0,i.c)(3),t=bh();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=sy(),e[0]=s):s=e[0],e[1]!==t?(n={queryKey:s,async queryFn(e){const{pageParam:s}=e;return(await t.app.bsky.graph.getMutes({limit:30,cursor:s})).data},initialPageParam:void 0,getNextPageParam:ny},e[1]=t,e[2]=n):n=e[2],(0,Dp.useInfiniteQuery)(n)}(),g=!c&&!l?.pages[0]?.mutes.length;let x;e:{if(l?.pages){let e;t[0]!==l.pages?(e=l.pages.flatMap(sN),t[0]=l.pages,t[1]=e):e=t[1],x=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],x=e}const _=x;let y,b;t[3]!==o?(y=()=>{o(!1)},t[3]=o,t[4]=y):y=t[4],(0,va.useFocusEffect)(y),t[5]!==m?(b=async()=>{a(!0);try{await m()}catch(v){const t=v;ys.error("Failed to refresh my muted accounts",{message:t})}a(!1)},t[5]=m,t[6]=b):b=t[6];const j=b;let v;t[7]!==p||t[8]!==h||t[9]!==d||t[10]!==c?(v=async()=>{if(!c&&h&&!d)try{await p()}catch(S){const t=S;ys.error("Failed to load more of my muted accounts",{message:t})}},t[7]=p,t[8]=h,t[9]=d,t[10]=c,t[11]=v):v=t[11];const w=v;let S;t[12]!==n||t[13]!==s?(S=e=>{const{item:t,index:o}=e;return n?(0,Ft.jsx)(wo.default,{style:[kl.py_md,kl.px_xl,kl.border_t,s.atoms.border_contrast_low],children:(0,Ft.jsx)(HC,{profile:t,testID:`mutedAccount-${o}`,children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:t,moderationOpts:n}),(0,Ft.jsx)(qC,{profile:t,moderationOpts:n})]}),(0,Ft.jsx)(YC,{profile:t,moderationOpts:n}),(0,Ft.jsx)(QC,{profile:t})]})})},t.did):null},t[12]=n,t[13]=s,t[14]=S):S=t[14];const k=S;let C,P,T;return t[15]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(dl,{}),t[15]=C):C=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsxs)(il,{children:[C,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"qUa+lV"})})}),(0,Ft.jsx)(cl,{})]}),t[16]=P):P=t[16],t[17]!==u||t[18]!==p||t[19]!==h||t[20]!==g||t[21]!==d||t[22]!==f||t[23]!==r||t[24]!==w||t[25]!==j||t[26]!==_||t[27]!==m||t[28]!==k?(T=(0,Ft.jsxs)(_l,{testID:"mutedAccountsScreen",children:[P,(0,Ft.jsx)(wl,{children:g?(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(oN,{style:[kl.border_b]}),d?(0,Ft.jsx)(UD,{title:"Oops!",message:ds(u),onPressTryAgain:m}):(0,Ft.jsx)(nN,{})]}):(0,Ft.jsx)(MF,{data:_,keyExtractor:tN,refreshing:r,onRefresh:j,onEndReached:w,renderItem:k,initialNumToRender:15,ListHeaderComponent:oN,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:f,hasNextPage:h,error:ds(u),onRetry:p})})})]}),t[17]=u,t[18]=p,t[19]=h,t[20]=g,t[21]=d,t[22]=f,t[23]=r,t[24]=w,t[25]=j,t[26]=_,t[27]=m,t[28]=k,t[29]=T):T=t[29],T}function tN(e){return e.did}function sN(e){return e.mutes}function nN(){const e=(0,i.c)(13),t=ec();let s,n,o,r,a,l,c;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.pt_2xl,kl.px_xl,kl.align_center],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={maxWidth:400},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25||e[3]!==t.atoms.border_contrast_low?(o=[kl.py_md,kl.px_lg,kl.rounded_sm,t.atoms.bg_contrast_25,kl.border,t.atoms.border_contrast_low,n],e[2]=t.atoms.bg_contrast_25,e[3]=t.atoms.border_contrast_low,e[4]=o):o=e[4],e[5]!==t.atoms.text_contrast_high?(r=[kl.text_sm,kl.text_center,t.atoms.text_contrast_high],e[5]=t.atoms.text_contrast_high,e[6]=r):r=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"1cGBmf"}),e[7]=a):a=e[7],e[8]!==r?(l=(0,Ft.jsx)(fr,{style:r,children:a}),e[8]=r,e[9]=l):l=e[9],e[10]!==o||e[11]!==l?(c=(0,Ft.jsx)(wo.default,{style:s,children:(0,Ft.jsx)(wo.default,{style:o,children:l})}),e[10]=o,e[11]=l,e[12]=c):c=e[12],c}function oN(e){const t=(0,i.c)(13),{style:s}=e,n=ec();let o,r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={marginTop:-1*kl.border.borderWidth},t[0]=o):o=t[0],t[1]!==s||t[2]!==n.atoms.bg_contrast_25||t[3]!==n.atoms.border_contrast_low?(r=[kl.w_full,n.atoms.bg_contrast_25,kl.py_md,kl.px_xl,kl.border_t,o,n.atoms.border_contrast_low,s],t[1]=s,t[2]=n.atoms.bg_contrast_25,t[3]=n.atoms.border_contrast_low,t[4]=r):r=t[4],t[5]!==n.atoms.text_contrast_high?(a=[kl.text_center,kl.text_sm,n.atoms.text_contrast_high],t[5]=n.atoms.text_contrast_high,t[6]=a):a=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ft.Trans,{id:"gA0D9A"}),t[7]=l):l=t[7],t[8]!==a?(c=(0,Ft.jsx)(fr,{style:a,children:l}),t[8]=a,t[9]=c):c=t[9],t[10]!==r||t[11]!==c?(d=(0,Ft.jsx)(wo.default,{style:r,children:c}),t[10]=r,t[11]=c,t[12]=d):d=t[12],d}QH=(0,mt.memo)(QH);const rN=()=>{const e=(0,i.c)(42),t=mx("default"),{_:s}=(0,ft.useLingui)(),n=(0,va.useNavigation)(),o=Na();let r,a;e[0]!==o?(r=()=>{o(!1)},e[0]=o,e[1]=r):r=e[1],(0,va.useFocusEffect)(r),e[2]!==n?(a=n.canGoBack(),e[2]=n,e[3]=a):a=e[3];const l=a;let c;e[4]!==l||e[5]!==n?(c=()=>{l?n.goBack():(n.navigate("HomeTab"),n.dispatch(va.StackActions.popToTop()))},e[4]=l,e[5]=n,e[6]=c):c=e[6];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,w,S;return e[7]!==s?(u=s({id:"boJlGf"}),e[7]=s,e[8]=u):u=e[8],e[9]!==u?(m=(0,Ft.jsx)(YP,{title:u}),e[9]=u,e[10]=m):m=e[10],e[11]!==t.text?(h=[t.text,oc.mb10],e[11]=t.text,e[12]=h):h=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ft.Trans,{id:"8F1i42"}),e[13]=p):p=e[13],e[14]!==h?(f=(0,Ft.jsx)(Tx,{type:"title-2xl",style:h,children:p}),e[14]=h,e[15]=f):f=e[15],e[16]!==t.text?(g=[t.text,oc.mb10],e[16]=t.text,e[17]=g):g=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(ft.Trans,{id:"/mVVX2"}),e[18]=x):x=e[18],e[19]!==g?(_=(0,Ft.jsx)(Tx,{type:"md",style:g,children:x}),e[19]=g,e[20]=_):_=e[20],e[21]!==s||e[22]!==l?(y=s(l?{id:"sr0UJD"}:{id:"7eMo+U"}),e[21]=s,e[22]=l,e[23]=y):y=e[23],e[24]!==s||e[25]!==l?(b=s(l?{id:"CKyk7Q"}:{id:"iWpEwy"}),e[24]=s,e[25]=l,e[26]=b):b=e[26],e[27]!==s||e[28]!==l?(j=s(l?{id:"wpAjsg"}:{id:"I22o1c"}),e[27]=s,e[28]=l,e[29]=j):j=e[29],e[30]!==d||e[31]!==y||e[32]!==b||e[33]!==j?(v=(0,Ft.jsx)(Ex,{type:"primary",label:y,accessibilityLabel:b,accessibilityHint:j,onPress:d}),e[30]=d,e[31]=y,e[32]=b,e[33]=j,e[34]=v):v=e[34],e[35]!==_||e[36]!==v||e[37]!==f?(w=(0,Ft.jsxs)(wo.default,{style:iN.container,children:[f,_,v]}),e[35]=_,e[36]=v,e[37]=f,e[38]=w):w=e[38],e[39]!==w||e[40]!==m?(S=(0,Ft.jsxs)(_l,{testID:"notFoundView",children:[m,w]}),e[39]=w,e[40]=m,e[41]=S):S=e[41],S},iN=Gn.default.create({container:{paddingTop:100,paddingHorizontal:20,alignItems:"center",height:"100%"}}),aN={_reactKey:"__empty__"},lN={_reactKey:"__load_more_error__"},cN={_reactKey:"__loading__"};function dN({filter:e,enabled:t,scrollElRef:s,onPressTryAgain:n,onScrolledDownChange:o,ListHeaderComponent:r,refreshNotifications:i}){const a=kF(),[l,c]=mt.useState(!1),{_:d}=(0,ft.useLingui)(),u=Op(),{data:m,isFetching:h,isFetched:p,isError:f,error:g,hasNextPage:x,isFetchingNextPage:_,fetchNextPage:y}=Rb({enabled:t&&!!u,filter:e}),b=!h&&!m?.pages[0]?.items.length,j=mt.useMemo((()=>{let e=[];if(p){if(b)e=e.concat([aN]);else if(m)for(const t of m?.pages)e=e.concat(t.items);f&&!b&&(e=e.concat([lN]))}else e.push(cN);return e}),[p,f,b,m]),v=mt.useCallback((async()=>{try{c(!0),await i()}catch(e){ys.error("Failed to refresh notifications feed",{message:e})}finally{c(!1)}}),[i,c]),w=mt.useCallback((async()=>{if(!h&&x&&!f)try{await y()}catch(e){ys.error("Failed to load more notifications",{message:e})}}),[h,x,f,y]),S=mt.useCallback((()=>{y()}),[y]),k=mt.useCallback((({item:t,index:s})=>t===aN?(0,Ft.jsx)(Lx,{icon:"bell",message:d({id:"YRa4bw"}),style:uN.emptyState}):t===lN?(0,Ft.jsx)(OF,{label:d({id:"UDDYdf"}),onPress:S}):t===cN?(0,Ft.jsx)(CT,{}):(0,Ft.jsx)(gO,{highlightUnread:"all"===e,item:t,moderationOpts:u,hideTopBorder:0===s})),[u,d,S,e]),C=mt.useCallback((()=>_?(0,Ft.jsx)(wo.default,{style:uN.feedFooter,children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsx)(wo.default,{})),[_]);return(0,Ft.jsxs)(wo.default,{style:oc.hContentRegion,children:[g&&(0,Ft.jsx)(Rx,{message:ds(g),onPressTryAgain:n}),(0,Ft.jsx)(MF,{testID:"notifsFeed",ref:s,data:j,keyExtractor:e=>e._reactKey,renderItem:k,ListHeaderComponent:r,ListFooterComponent:C,refreshing:l,onRefresh:v,onEndReached:w,onEndReachedThreshold:2,onScrolledDownChange:o,contentContainerStyle:oc.contentContainer,desktopFixedHeight:!0,initialNumToRender:a,windowSize:11,sideBorders:!1,removeClippedSubviews:!0})]})}const uN=Gn.default.create({feedFooter:{paddingTop:20},emptyState:{paddingVertical:40}});let mN=0;function hN(e){const t=(0,i.c)(54),{_:s}=(0,ft.useLingui)(),{openComposer:n}=tw(),o=!!Nb(),{checkUnread:r}=Vb(),[a,l]=mt.useState(!1),[c,d]=mt.useState(!1),[u,m]=mt.useState(mN),h=0===u?a:c;let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=e=>{m(e),mN=e},t[0]=p):p=t[0];const f=p,g=(0,wd.useQueryClient)();let x;t[1]!==g?(x=async e=>{const{invalidate:t}=e;if(t)return Df(g,Ib("mentions"))},t[1]=g,t[2]=x):x=t[2];const _=x;let y,b;t[3]!==s?(b=s({id:"N40H+G"}),t[3]=s,t[4]=b):b=t[4];const j=0===u;let v,w,S;t[5]!==r||t[6]!==o||t[7]!==a||t[8]!==j?(v=(0,Ft.jsx)(xN,{filter:"all",isActive:j,isLoading:a,hasNew:o,setIsLoadingLatest:l,checkUnread:r}),t[5]=r,t[6]=o,t[7]=a,t[8]=j,t[9]=v):v=t[9],t[10]!==b||t[11]!==v?(w={title:b,component:v},t[10]=b,t[11]=v,t[12]=w):w=t[12],t[13]!==s?(S=s({id:"/bZzdR"}),t[13]=s,t[14]=S):S=t[14];const k=1===u;let C,P,T;t[15]!==_||t[16]!==c||t[17]!==k?(C=(0,Ft.jsx)(xN,{filter:"mentions",isActive:k,isLoading:c,hasNew:!1,setIsLoadingLatest:d,checkUnread:_}),t[15]=_,t[16]=c,t[17]=k,t[18]=C):C=t[18],t[19]!==C||t[20]!==S?(P={title:S,component:C},t[19]=C,t[20]=S,t[21]=P):P=t[21],t[22]!==P||t[23]!==w?(T=[w,P],t[22]=P,t[23]=w,t[24]=T):T=t[24],y=T;const L=y;let A,I,R,D;t[25]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(ul,{}),t[25]=A):A=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"iDNBZe"})})}),t[26]=I):I=t[26],t[27]!==s?(R=s({id:"qqzVv6"}),t[27]=s,t[28]=R):R=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.justify_center],t[29]=D):D=t[29];const F=h?wv:LB;let E,M,B,O,z,H,N,V,q,U;return t[30]!==F?(E=(0,Ft.jsx)(Pr,{icon:F,size:"lg"}),t[30]=F,t[31]=E):E=t[31],t[32]!==R||t[33]!==E?(M=(0,Ft.jsxs)(il,{noBottomBorder:!0,sticky:!1,children:[A,I,(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(pv,{to:"/notifications/settings",label:R,size:"small",variant:"ghost",color:"secondary",shape:"round",style:D,children:E})})]}),t[32]=R,t[33]=E,t[34]=M):M=t[34],t[35]!==L?(B=e=>(0,Ft.jsx)(wl,{style:[kl.z_10,_o([kl.sticky,{top:0}])],children:(0,Ft.jsx)(lH,Object.assign({},e,{items:L.map(gN),onPressSelected:fN}))}),t[35]=L,t[36]=B):B=t[36],t[37]!==L?(O=L.map(pN),t[37]=L,t[38]=O):O=t[38],t[39]!==B||t[40]!==O?(z=(0,Ft.jsx)(_H,{onPageSelected:f,renderTabBar:B,initialPage:mN,children:O}),t[39]=B,t[40]=O,t[41]=z):z=t[41],t[42]!==n?(H=()=>n({}),t[42]=n,t[43]=H):H=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:oc.white}),t[44]=N):N=t[44],t[45]!==s?(V=s({id:"2B7HLH"}),t[45]=s,t[46]=V):V=t[46],t[47]!==H||t[48]!==V?(q=(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:H,icon:N,accessibilityRole:"button",accessibilityLabel:V,accessibilityHint:""}),t[47]=H,t[48]=V,t[49]=q):q=t[49],t[50]!==M||t[51]!==z||t[52]!==q?(U=(0,Ft.jsxs)(_l,{testID:"notificationsScreen",children:[M,z,q]}),t[50]=M,t[51]=z,t[52]=q,t[53]=U):U=t[53],U}function pN(e,t){return(0,Ft.jsx)(wo.default,{children:e.component},t)}function fN(){return Rt()}function gN(e){return e.title}function xN(e){const t=(0,i.c)(35),{filter:s,isActive:n,isLoading:o,hasNew:r,checkUnread:a,setIsLoadingLatest:l}=e,{_:c}=(0,ft.useLingui)(),d=Na(),[u,m]=mt.useState(!1),h=mt.useRef(null),p=(0,wd.useQueryClient)(),f=(0,va.useIsFocused)()&&n;let g;t[0]!==d?(g=()=>{h.current?.scrollToOffset({animated:kt,offset:0}),d(!1)},t[0]=d,t[1]=g):g=t[1];const x=g;let _;t[2]!==a||t[3]!==s||t[4]!==r||t[5]!==o||t[6]!==p||t[7]!==x||t[8]!==l?(_=()=>{x(),r?Df(p,Ib(s)):o||(l(!0),a({invalidate:!0}).catch(_N).then((()=>l(!1))))},t[2]=a,t[3]=s,t[4]=r,t[5]=o,t[6]=p,t[7]=x,t[8]=l,t[9]=_):_=t[9];const y=_;let b;t[10]!==a||t[11]!==u?(b=()=>{let e;e=kt?u:window.scrollY>200,a({invalidate:!e})},t[10]=a,t[11]=u,t[12]=b):b=t[12];const j=Ed(b);let v,w,S,k,C,P,T;return t[13]!==f||t[14]!==j||t[15]!==d?(v=()=>{f&&(d(!1),ys.debug("NotificationsScreen: Focus"),j())},t[13]=f,t[14]=j,t[15]=d,t[16]=v):v=t[16],(0,va.useFocusEffect)(v),t[17]!==f||t[18]!==y?(w=()=>{if(f)return Dt(y)},S=[y,f],t[17]=f,t[18]=y,t[19]=w,t[20]=S):(w=t[19],S=t[20]),mt.useEffect(w,S),t[21]!==a?(k=()=>a({invalidate:!0}),t[21]=a,t[22]=k):k=t[22],t[23]!==s||t[24]!==f||t[25]!==k?(C=(0,Ft.jsx)(tH,{children:(0,Ft.jsx)(dN,{enabled:f,filter:s,refreshNotifications:k,onScrolledDownChange:m,scrollElRef:h})}),t[23]=s,t[24]=f,t[25]=k,t[26]=C):C=t[26],t[27]!==c||t[28]!==r||t[29]!==u||t[30]!==y?(P=(u||r)&&(0,Ft.jsx)(Uz,{onPress:y,label:c({id:"7EHsGr"}),showIndicator:r}),t[27]=c,t[28]=r,t[29]=u,t[30]=y,t[31]=P):P=t[31],t[32]!==C||t[33]!==P?(T=(0,Ft.jsxs)(Ft.Fragment,{children:[C,P]}),t[32]=C,t[33]=P,t[34]=T):T=t[34],T}function _N(){}const yN=zr({path:"M7 3a1 1 0 0 1 1 1v1.126a4 4 0 0 1 0 7.748V20a1 1 0 1 1-2 0v-7.126a4 4 0 0 1 0-7.748V4a1 1 0 0 1 1-1Zm10 0a1 1 0 0 1 1 1v9.126a4 4 0 1 1-2 0V4a1 1 0 0 1 1-1ZM7 7a2 2 0 1 0 0 4 2 2 0 1 0 0-4Zm10 8a2 2 0 1 0 0 4 2 2 0 1 0 0-4Z"});function bN(e){const t=(0,i.c)(42),{onPressCompose:s}=e,{currentAccount:n}=xh(),o=n?.did;let r;t[0]!==o?(r={did:o},t[0]=o,t[1]=r):r=t[1];const{data:a}=ub(r),{_:l}=(0,ft.useLingui)(),{gtMobile:c}=ql(),d=ec(),u=lS(),{state:m,onIn:h,onOut:p}=Ki();let f,g,x,_,y,b;t[2]!==l?(f=l({id:"o8UUti"}),t[2]=l,t[3]=f):f=t[3],t[4]!==l?(g=l({id:"SY0R9B"}),t[4]=l,t[5]=g):g=t[5],t[6]!==c?(x=c?kl.py_xs:{paddingTop:8,paddingBottom:11},t[6]=c,t[7]=x):x=t[7],t[8]!==d.atoms.bg||t[9]!==d.atoms.border_contrast_low||t[10]!==x?(_=[x,kl.px_sm,kl.border_t,d.atoms.border_contrast_low,d.atoms.bg],t[8]=d.atoms.bg,t[9]=d.atoms.border_contrast_low,t[10]=x,t[11]=_):_=t[11],t[12]!==s||t[13]!==u?(y=()=>{s(),u("Light")},t[12]=s,t[13]=u,t[14]=y):y=t[14],t[15]!==s||t[16]!==u?(b=yo((()=>{s(),u("Heavy")})),t[15]=s,t[16]=u,t[17]=b):b=t[17];const j=(!c||m)&&d.atoms.bg_contrast_25;let v;t[18]!==j?(v=[kl.flex_row,kl.align_center,kl.p_sm,kl.gap_sm,kl.rounded_full,j,kl.transition_color],t[18]=j,t[19]=v):v=t[19];const w=c?24:22,S=a?.avatar,k=a?.associated?.labeler?"labeler":"user";let C,P,T,L,A,I;return t[20]!==w||t[21]!==S||t[22]!==k?(C=(0,Ft.jsx)(mP,{size:w,avatar:S,type:k}),t[20]=w,t[21]=S,t[22]=k,t[23]=C):C=t[23],t[24]!==d.atoms.text_contrast_medium?(P=[kl.text_md,d.atoms.text_contrast_medium],t[24]=d.atoms.text_contrast_medium,t[25]=P):P=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(ft.Trans,{id:"6ckZRB"}),t[26]=T):T=t[26],t[27]!==P?(L=(0,Ft.jsx)(fr,{style:P,children:T}),t[27]=P,t[28]=L):L=t[28],t[29]!==v||t[30]!==C||t[31]!==L?(A=(0,Ft.jsxs)(wo.default,{style:v,children:[C,L]}),t[29]=v,t[30]=C,t[31]=L,t[32]=A):A=t[32],t[33]!==h||t[34]!==p||t[35]!==A||t[36]!==f||t[37]!==g||t[38]!==_||t[39]!==y||t[40]!==b?(I=(0,Ft.jsx)(GE,{accessibilityRole:"button",accessibilityLabel:f,accessibilityHint:g,style:_,onPress:y,onLongPress:b,onHoverIn:h,onHoverOut:p,children:A}),t[33]=h,t[34]=p,t[35]=A,t[36]=f,t[37]=g,t[38]=_,t[39]=y,t[40]=b,t[41]=I):I=t[41],I}function jN(e){const t=(0,i.c)(37),{post:s}=e,n=ec();let o,r;if(t[0]!==s.author||t[1]!==s.uri){const e=new Is.AtUri(s.uri);r=cS(s.author,"post",e.rkey),t[0]=s.author,t[1]=s.uri,t[2]=r}else r=t[2];o=r;const a=o;let l,c,d,u;t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_row,kl.align_center,kl.py_md,{paddingHorizontal:14}],t[3]=l):l=t[3],t[4]!==n.atoms.bg_contrast_25?(c=[n.atoms.bg_contrast_25],t[4]=n.atoms.bg_contrast_25,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.flex_row],t[6]=d):d=t[6],t[7]!==n.atoms.bg.backgroundColor?(u={alignItems:"center",justifyContent:"center",width:34,height:34,borderRadius:18,backgroundColor:n.atoms.bg.backgroundColor,marginRight:-20},t[7]=n.atoms.bg.backgroundColor,t[8]=u):u=t[8];const m=s.author.associated?.labeler?"labeler":"user";let h,p,f;t[9]!==s.author.avatar||t[10]!==m?(h=(0,Ft.jsx)(mP,{avatar:s.author.avatar,size:30,type:m}),t[9]=s.author.avatar,t[10]=m,t[11]=h):h=t[11],t[12]!==u||t[13]!==h?(p=(0,Ft.jsx)(wo.default,{style:u,children:h}),t[12]=u,t[13]=h,t[14]=p):p=t[14],t[15]!==n.atoms.bg.backgroundColor?(f={alignItems:"center",justifyContent:"center",width:34,height:34,borderRadius:18,backgroundColor:n.atoms.bg.backgroundColor},t[15]=n.atoms.bg.backgroundColor,t[16]=f):f=t[16];const g=s.author.associated?.labeler?"labeler":"user";let x,_,y,b,j,v,w,S;return t[17]!==s.author.avatar||t[18]!==g?(x=(0,Ft.jsx)(mP,{avatar:s.author.avatar,size:30,type:g}),t[17]=s.author.avatar,t[18]=g,t[19]=x):x=t[19],t[20]!==f||t[21]!==x?(_=(0,Ft.jsx)(wo.default,{style:f,children:x}),t[20]=f,t[21]=x,t[22]=_):_=t[22],t[23]!==_||t[24]!==p?(y=(0,Ft.jsxs)(wo.default,{style:d,children:[p,_]}),t[23]=_,t[24]=p,t[25]=y):y=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.px_sm],t[26]=b):b=t[26],t[27]!==n.palette.primary_500?(j=[{color:n.palette.primary_500},kl.text_md],t[27]=n.palette.primary_500,t[28]=j):j=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"p2ms8f"}),t[29]=v):v=t[29],t[30]!==j?(w=(0,Ft.jsx)(wo.default,{style:b,children:(0,Ft.jsx)(fr,{style:j,children:v})}),t[30]=j,t[31]=w):w=t[31],t[32]!==a||t[33]!==y||t[34]!==w||t[35]!==c?(S=(0,Ft.jsxs)(HP,{href:a,style:l,hoverStyle:c,children:[y,w]}),t[32]=a,t[33]=y,t[34]=w,t[35]=c,t[36]=S):S=t[36],S}function vN(e){const t=(0,i.c)(14),{type:s,onPress:n,hideTopBorder:o}=e,{_:r}=(0,ft.useLingui)(),a=ec();let l;t[0]!==r||t[1]!==s?(l=r("muted"===s?{id:"Mpi4D5"}:{id:"jmfh9n"}),t[0]=r,t[1]=s,t[2]=l):l=t[2];const c=l;let d,u;return t[3]!==o||t[4]!==c||t[5]!==a.atoms.bg||t[6]!==a.atoms.bg_contrast_25||t[7]!==a.atoms.border_contrast_low||t[8]!==a.atoms.text_contrast_medium?(d=e=>{const{hovered:t,pressed:s}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm,kl.py_lg,kl.px_xl,!o&&kl.border_t,a.atoms.border_contrast_low,t||s?a.atoms.bg_contrast_25:a.atoms.bg],children:[(0,Ft.jsx)(wo.default,{style:[a.atoms.bg_contrast_25,kl.align_center,kl.justify_center,{width:26,height:26,borderRadius:13,marginRight:4}],children:(0,Ft.jsx)(TS,{size:"sm",fill:a.atoms.text_contrast_medium.color})}),(0,Ft.jsx)(fr,{style:[a.atoms.text_contrast_medium,kl.flex_1,kl.leading_snug],numberOfLines:1,children:c})]})},t[3]=o,t[4]=c,t[5]=a.atoms.bg,t[6]=a.atoms.bg_contrast_25,t[7]=a.atoms.border_contrast_low,t[8]=a.atoms.text_contrast_medium,t[9]=d):d=t[9],t[10]!==c||t[11]!==n||t[12]!==d?(u=(0,Ft.jsx)(Sr,{onPress:n,label:c,children:d}),t[10]=c,t[11]=n,t[12]=d,t[13]=u):u=t[13],u}const wN=15,SN={minIndexForVisible:0},kN={_reactKey:"__reply__"},CN={_reactKey:"__show_hidden_replies__"},PN={_reactKey:"__show_muted_replies__"};var TN=function(e){return e[e.Hide=0]="Hide",e[e.Show=1]="Show",e[e.ShowAndOverridePostHider=2]="ShowAndOverridePostHider",e}(TN||{});const LN=e=>e._reactKey,AN={code:"function PostThreadTsx1(){const{runOnJS,bumpMaxParentsIfNeeded}=this.__closure;runOnJS(bumpMaxParentsIfNeeded)();}"};function IN({uri:e}){const{hasSession:t,currentAccount:s}=xh(),{_:n}=(0,ft.useLingui)(),o=ec(),{isMobile:r}=jx(),i=kF(),{height:a}=(0,Ny.default)(),[l,c]=mt.useState(TN.Hide),d=mt.useRef(null),{data:u}=Fh(),{isFetching:m,isError:h,error:p,refetch:f,data:{thread:g,threadgate:x}={},dataUpdatedAt:_}=t_(e),y=u?.threadViewPrefs,b=y?.prioritizeFollowedUsers??!0,j=y?.lab_treeViewEnabled??!1,v=y?.sort??"hotness",w=b,[S,k]=(0,mt.useState)(j),[C,P]=(0,mt.useState)(v),[T,L]=(0,mt.useState)(y);T!==y&&(L(y),k(j),P(v));const{mutate:A}=Oh();const I=mt.useMemo((()=>S&&ON(g)),[S,g]),R="post"===g?.type?g.post:void 0,D="post"===g?.type?g.record:void 0,F=x?.record,E=Nf({threadgateRecord:F}),M=Op(),B=mt.useMemo((()=>{const e=R&&M?(0,Is.moderatePost)(R,M):void 0;return!!e?.ui("contentList").blurs.find((e=>"label"===e.type&&"!no-unauthenticated"===e.labelDef.identifier))}),[R,M]),O=(0,mt.useRef)(null),z=(0,mt.useRef)(null),[H,N]=mt.useState(Pt?1/0:wN),[V,q]=mt.useState(50);Vz(R&&!B?`${Qf(R.author.displayName||`@${R.author.handle}`)}: "${D.text}"`:"");const[U,W]=mt.useState(kt),Z=s?.did,Q=mt.useMemo((()=>{const e=new WeakMap;return g&&M&&s_(e,g,M),e}),[g,M]),[K,$]=mt.useState((()=>new Set)),[G]=mt.useState((()=>new Map)),[Y]=mt.useState((()=>new Map)),J=mt.useMemo((()=>g?function(e,t,s,n,o,r){return e?{parents:Array.from(EN(e,!!t)),highlightedPost:e,replies:Array.from(BN(e,t,s,n,o,r))}:null}(n_(g,{sort:C,lab_treeViewEnabled:S,prioritizeFollowedUsers:w},Q,Z,K,E,G,_,Y),Z,I,Q,l!==TN.Hide,E):null),[g,w,C,S,Z,I,Q,l,K,E,G,_,Y]),X=mt.useMemo((()=>Is.AppBskyFeedDefs.isNotFoundPost(g)?{title:n({id:"tJFPmV"}),message:n({id:"G4EksE"})}:"blocked"===J?.highlightedPost.type?{title:n({id:"h5RcXU"}),message:n({id:"RkXibf"})}:p?.message.startsWith("Post not found")?{title:n({id:"tJFPmV"}),message:n({id:"G4EksE"})}:h?{message:p?ds(p):void 0}:null),[g,J?.highlightedPost,h,n,p]),ee=mt.useMemo((()=>{if(!J)return[];const{parents:e,highlightedPost:t,replies:s}=J;let n=[];if("post"===t.type){if(!t.ctx.isParentLoading&&!U){for(let t=Math.max(0,e.length-H);t<e.length;t++)n.push(e[t])}n.push(t),t.post.viewer?.replyDisabled||n.push(kN);for(let e=0;e<s.length&&(n.push(s[e]),e!==V);e++);}return n}),[J,U,H,V]),te=(0,mt.useRef)(!1),se=mt.useCallback((()=>{if(!te.current&&"post"===g?.type&&g.parent){const e=z.current,t=d.current;if(e&&t){let s=e.getBoundingClientRect().top;s-=t.getBoundingClientRect().height,s=Math.max(0,s),O.current?.scrollToOffset({animated:!1,offset:s})}te.current=!0}}),[g]),ne=mt.useRef(!1),oe=mt.useCallback((()=>{J?.parents&&H<J.parents.length&&(ne.current=!0)}),[H,J?.parents]),re=mt.useCallback((()=>{kt&&ne.current&&(ne.current=!1,N((e=>e+wN)))}),[]),ie=re,ae=mt.useCallback(function(){const e=function(){(0,ko.runOnJS)(re)()};return e.__closure={runOnJS:ko.runOnJS,bumpMaxParentsIfNeeded:re},e.__workletHash=0xb3048ede931,e.__initData=AN,e}(),[re]),le=mt.useCallback((()=>{m||ee.length<V||q((e=>e+50))}),[m,V,ee.length]),ce=mt.useCallback((e=>{f(),e&&$((t=>{const s=new Set(t);return s.add(e),s}))}),[f]),{openComposer:de}=tw(),ue=mt.useCallback((()=>{"post"===g?.type&&de({replyTo:{uri:g.post.uri,cid:g.post.cid,text:g.record.text,author:g.post.author,embed:g.post.embed,moderation:Q.get(g)},onPost:ce})}),[de,g,ce,Q]),me=!X&&R&&!R.viewer?.replyDisabled,he="post"===J?.highlightedPost?.type&&(J.highlightedPost.ctx.isParentLoading||Boolean(J?.parents&&J.parents.length>0));return g&&u&&!X?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(il,{headerRef:d,children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"+pGC91"})})}),(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(RN,{sortReplies:C,treeViewEnabled:S,setSortReplies:function(e){P(e),t&&A({sort:e})},setTreeViewEnabled:function(e){k(e),t&&A({lab_treeViewEnabled:e})}})})]}),(0,Ft.jsx)(TF,{onMomentumEnd:ae,children:(0,Ft.jsx)(MF,{ref:O,data:ee,renderItem:({item:e,index:s})=>{if(e===kN&&t)return(0,Ft.jsx)(wo.default,{children:!r&&(0,Ft.jsx)(bN,{onPressCompose:ue})});if(e===CN||e===PN)return(0,Ft.jsx)(vN,{type:e===CN?"hidden":"muted",onPress:()=>c(e===CN?TN.Show:TN.ShowAndOverridePostHider),hideTopBorder:0===s});if((n=e)&&"object"===typeof n&&"type"in n&&"not-found"===n.type)return(0,Ft.jsx)(wo.default,{style:[kl.p_lg,0!==s&&kl.border_t,o.atoms.border_contrast_low,o.atoms.bg_contrast_25],children:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_md,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"u+1OHY"})})});if(function(e){return!!e&&"object"===typeof e&&"type"in e&&"blocked"===e.type}(e))return(0,Ft.jsx)(wo.default,{style:[kl.p_lg,0!==s&&kl.border_t,o.atoms.border_contrast_low,o.atoms.bg_contrast_25],children:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_md,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"HFCE4A"})})});if(FN(e)){const t=FN(ee[s-1])?ee[s-1]:void 0,n=FN(ee[s+1])?ee[s+1]:void 0,o=(n?.ctx.depth||0)>e.ctx.depth,r=e.ctx.depth<0&&!!e.parent||e.ctx.depth>1,i=0===s&&J?.parents&&H<J.parents.length;return!I&&t&&e.ctx.hasMoreSelfThread?(0,Ft.jsx)(jN,{post:t.post}):(0,Ft.jsx)(wo.default,{ref:e.ctx.isHighlightedPost?z:void 0,onLayout:U?()=>W(!1):void 0,children:(0,Ft.jsx)(UO,{post:e.post,record:e.record,threadgateRecord:F??void 0,moderation:Q.get(e),treeView:I,depth:e.ctx.depth,prevPost:t,nextPost:n,isHighlightedPost:e.ctx.isHighlightedPost,hasMore:e.ctx.hasMore,showChildReplyLine:o,showParentReplyLine:r,hasPrecedingItem:r||!!i,overrideBlur:l===TN.ShowAndOverridePostHider&&e.ctx.depth>0,onPostReply:ce,hideTopBorder:0===s&&!e.ctx.isParentLoading})})}var n;return null},keyExtractor:LN,onContentSizeChange:kt?void 0:se,onStartReached:oe,onEndReached:le,onEndReachedThreshold:2,onScrollToTop:ie,maintainVisibleContentPosition:kt&&he?SN:void 0,desktopFixedHeight:!0,removeClippedSubviews:!St&&void 0,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:m,error:ds(p),onRetry:f,height:a-200}),initialNumToRender:i,windowSize:11,sideBorders:!1})}),r&&me&&t&&(0,Ft.jsx)(DN,{onPressReply:ue})]}):(0,Ft.jsx)(QH,{isLoading:!X,isError:Boolean(X),noEmpty:!0,onRetry:f,errorTitle:X?.title,errorMessage:X?.message})}let RN=e=>{const t=(0,i.c)(102),{sortReplies:s,treeViewEnabled:n,setSortReplies:o,setTreeViewEnabled:r}=e,{_:a}=(0,ft.useLingui)();let l,c,d,u,m,h,p;t[0]!==a?(l=a({id:"CtmGxM"}),t[0]=a,t[1]=l):l=t[1],t[2]!==a?(c=e=>{const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({label:a({id:"CtmGxM"}),size:"small",variant:"ghost",color:"secondary",shape:"round",hitSlop:vi},t,{children:(0,Ft.jsx)(Pr,{icon:yN,size:"md"})}))},t[2]=a,t[3]=c):c=t[3],t[4]!==l||t[5]!==c?(d=(0,Ft.jsx)(vC,{label:l,children:c}),t[4]=l,t[5]=c,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(TC,{children:(0,Ft.jsx)(ft.Trans,{id:"EhPeAC"})}),t[7]=u):u=t[7],t[8]!==a?(m=a({id:"ih+n6S"}),t[8]=a,t[9]=m):m=t[9],t[10]!==r?(h=()=>{r(!1)},t[10]=r,t[11]=h):h=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ih+n6S"})}),t[12]=p):p=t[12];const f=!n;let g,x,_,y,b,j,v,w,S,k,C,P,T;t[13]!==f?(g=(0,Ft.jsx)(PC,{selected:f}),t[13]=f,t[14]=g):g=t[14],t[15]!==m||t[16]!==h||t[17]!==g?(x=(0,Ft.jsxs)(SC,{label:m,onPress:h,children:[p,g]}),t[15]=m,t[16]=h,t[17]=g,t[18]=x):x=t[18],t[19]!==a?(_=a({id:"+7vrMN"}),t[19]=a,t[20]=_):_=t[20],t[21]!==r?(y=()=>{r(!0)},t[21]=r,t[22]=y):y=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"+7vrMN"})}),t[23]=b):b=t[23],t[24]!==n?(j=(0,Ft.jsx)(PC,{selected:n}),t[24]=n,t[25]=j):j=t[25],t[26]!==_||t[27]!==y||t[28]!==j?(v=(0,Ft.jsxs)(SC,{label:_,onPress:y,children:[b,j]}),t[26]=_,t[27]=y,t[28]=j,t[29]=v):v=t[29],t[30]!==x||t[31]!==v?(w=(0,Ft.jsxs)(LC,{children:[x,v]}),t[30]=x,t[31]=v,t[32]=w):w=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(AC,{}),t[33]=S):S=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(TC,{children:(0,Ft.jsx)(ft.Trans,{id:"ivnZD1"})}),t[34]=k):k=t[34],t[35]!==a?(C=a({id:"COI0L3"}),t[35]=a,t[36]=C):C=t[36],t[37]!==o?(P=()=>{o("hotness")},t[37]=o,t[38]=P):P=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"COI0L3"})}),t[39]=T):T=t[39];const L="hotness"===s;let A,I,R,D,F;t[40]!==L?(A=(0,Ft.jsx)(PC,{selected:L}),t[40]=L,t[41]=A):A=t[41],t[42]!==C||t[43]!==P||t[44]!==A?(I=(0,Ft.jsxs)(SC,{label:C,onPress:P,children:[T,A]}),t[42]=C,t[43]=P,t[44]=A,t[45]=I):I=t[45],t[46]!==a?(R=a({id:"wuAcR7"}),t[46]=a,t[47]=R):R=t[47],t[48]!==o?(D=()=>{o("oldest")},t[48]=o,t[49]=D):D=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"wuAcR7"})}),t[50]=F):F=t[50];const E="oldest"===s;let M,B,O,z,H;t[51]!==E?(M=(0,Ft.jsx)(PC,{selected:E}),t[51]=E,t[52]=M):M=t[52],t[53]!==R||t[54]!==D||t[55]!==M?(B=(0,Ft.jsxs)(SC,{label:R,onPress:D,children:[F,M]}),t[53]=R,t[54]=D,t[55]=M,t[56]=B):B=t[56],t[57]!==a?(O=a({id:"l8y6yR"}),t[57]=a,t[58]=O):O=t[58],t[59]!==o?(z=()=>{o("newest")},t[59]=o,t[60]=z):z=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"l8y6yR"})}),t[61]=H):H=t[61];const N="newest"===s;let V,q,U,W,Z;t[62]!==N?(V=(0,Ft.jsx)(PC,{selected:N}),t[62]=N,t[63]=V):V=t[63],t[64]!==O||t[65]!==z||t[66]!==V?(q=(0,Ft.jsxs)(SC,{label:O,onPress:z,children:[H,V]}),t[64]=O,t[65]=z,t[66]=V,t[67]=q):q=t[67],t[68]!==a?(U=a({id:"ecFGsb"}),t[68]=a,t[69]=U):U=t[69],t[70]!==o?(W=()=>{o("most-likes")},t[70]=o,t[71]=W):W=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ecFGsb"})}),t[72]=Z):Z=t[72];const Q="most-likes"===s;let K,$,G,Y,J;t[73]!==Q?(K=(0,Ft.jsx)(PC,{selected:Q}),t[73]=Q,t[74]=K):K=t[74],t[75]!==U||t[76]!==W||t[77]!==K?($=(0,Ft.jsxs)(SC,{label:U,onPress:W,children:[Z,K]}),t[75]=U,t[76]=W,t[77]=K,t[78]=$):$=t[78],t[79]!==a?(G=a({id:"Kn0pj/"}),t[79]=a,t[80]=G):G=t[80],t[81]!==o?(Y=()=>{o("random")},t[81]=o,t[82]=Y):Y=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(J=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"Kn0pj/"})}),t[83]=J):J=t[83];const X="random"===s;let ee,te,se,ne,oe;return t[84]!==X?(ee=(0,Ft.jsx)(PC,{selected:X}),t[84]=X,t[85]=ee):ee=t[85],t[86]!==G||t[87]!==Y||t[88]!==ee?(te=(0,Ft.jsxs)(SC,{label:G,onPress:Y,children:[J,ee]}),t[86]=G,t[87]=Y,t[88]=ee,t[89]=te):te=t[89],t[90]!==I||t[91]!==B||t[92]!==q||t[93]!==$||t[94]!==te?(se=(0,Ft.jsxs)(LC,{children:[I,B,q,$,te]}),t[90]=I,t[91]=B,t[92]=q,t[93]=$,t[94]=te,t[95]=se):se=t[95],t[96]!==w||t[97]!==se?(ne=(0,Ft.jsxs)(wC,{children:[u,w,S,k,se]}),t[96]=w,t[97]=se,t[98]=ne):ne=t[98],t[99]!==d||t[100]!==ne?(oe=(0,Ft.jsxs)(bC,{children:[d,ne]}),t[99]=d,t[100]=ne,t[101]=oe):oe=t[101],oe};function DN(e){const t=(0,i.c)(12),{onPressReply:s}=e,n=(0,pt.useSafeAreaInsets)(),o=jz();let r,a,l,c,d;return t[0]!==n.bottom?(r=jD(n.bottom,13,60),t[0]=n.bottom,t[1]=r):r=t[1],t[2]!==r?(a={bottom:r},t[2]=r,t[3]=a):a=t[3],t[4]!==o||t[5]!==a?(l=[zN.prompt,o,a],t[4]=o,t[5]=a,t[6]=l):l=t[6],t[7]!==s?(c=(0,Ft.jsx)(bN,{onPressCompose:s}),t[7]=s,t[8]=c):c=t[8],t[9]!==l||t[10]!==c?(d=(0,Ft.jsx)(ko.default.View,{style:l,children:c}),t[9]=l,t[10]=c,t[11]=d):d=t[11],d}function FN(e){return!!e&&"object"===typeof e&&"type"in e&&"post"===e.type}function*EN(e,t){"post"===e.type?(e.parent&&(yield*EN(e.parent,t)),e.ctx.isHighlightedPost||(yield e)):("not-found"===e.type||"blocked"===e.type)&&(yield e)}RN=(0,mt.memo)(RN);var MN=function(e){return e[e.None=0]="None",e[e.Muted=1]="Muted",e[e.Hidden=2]="Hidden",e}(MN||{});function*BN(e,t,s,n,o,r){if("post"===e.type){if(!t&&function(e){return!!e.post.author.labels?.find((e=>"!no-unauthenticated"===e.val))}(e))return MN.None;if(e.ctx.depth>0){const s=n.get(e)?.ui("contentList");if((s?.blur||s?.filter)&&(!o||e.ctx.depth>1))return"muted"===(s.blurs[0]||s.filters[0]).type?MN.Muted:MN.Hidden;if(!o){const s=r.has(e.post.uri),n=e.post.author.did===t;if(s&&!n)return MN.Hidden}}if(e.ctx.isHighlightedPost||(yield e),e.replies?.length){let i=MN.None;for(const a of e.replies){let l=yield*BN(a,t,s,n,o,r);if(l>i&&(i=l),!s&&!e.ctx.isHighlightedPost)break}0===e.ctx.depth&&(i===MN.Muted?yield PN:i===MN.Hidden&&(yield CN))}}else("not-found"===e.type||"blocked"===e.type)&&(yield e);return MN.None}function ON(e){return!!e&&("post"===e.type&&(!!e.replies&&(1!==e.replies.length||ON(e.replies[0]))))}const zN=Gn.default.create({prompt:{position:Pt?"fixed":"absolute",left:0,right:0}});function HN(e){const t=(0,i.c)(7),{route:s}=e,n=Na(),{name:o,rkey:r}=s.params;let a;t[0]!==o||t[1]!==r?(a=uu(o,"app.bsky.feed.post",r),t[0]=o,t[1]=r,t[2]=a):a=t[2];const l=a;let c,d;return t[3]!==n?(c=()=>{n(!1)},t[3]=n,t[4]=c):c=t[4],(0,va.useFocusEffect)(c),t[5]!==l?(d=(0,Ft.jsx)(_l,{testID:"postThreadScreen",children:(0,Ft.jsx)(IN,{uri:l})}),t[5]=l,t[6]=d):d=t[6],d}const NN=e=>{const t=(0,i.c)(21),s=mx("default"),{_:n}=(0,ft.useLingui)(),o=Na();let r,a,l,c,d,u,m,h,p,f;return t[0]!==o?(r=()=>{o(!1)},t[0]=o,t[1]=r):r=t[1],(0,va.useFocusEffect)(r),t[2]!==n?(a=n({id:"LcET2C"}),t[2]=n,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(YP,{title:a}),t[4]=a,t[5]=l):l=t[5],t[6]!==s.view?(c=[oc.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[oc.p20],t[8]=d):d=t[8],t[9]!==s.link?(u=(0,Ft.jsx)(ft.Trans,{id:"WNR9db",components:{0:(0,Ft.jsx)(NP,{style:s.link,href:"https://bsky.social/about/support/privacy-policy",text:"bsky.social/about/support/privacy-policy"})}}),t[9]=s.link,t[10]=u):u=t[10],t[11]!==s.text||t[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Tx,{style:s.text,children:u})}),t[11]=s.text,t[12]=u,t[13]=m):m=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(wo.default,{style:oc.footerSpacer}),t[14]=h):h=t[14],t[15]!==c||t[16]!==m?(p=(0,Ft.jsxs)($P,{style:c,children:[m,h]}),t[15]=c,t[16]=m,t[17]=p):p=t[17],t[18]!==l||t[19]!==p?(f=(0,Ft.jsxs)(_l,{children:[l,p]}),t[18]=l,t[19]=p,t[20]=f):f=t[20],f};var VN=s(3903);const qN={_reactKey:"__loading__"},UN={_reactKey:"__empty__"},WN={_reactKey:"__error__"},ZN={_reactKey:"__load_more_error__"},QN=mt.forwardRef((function(e,t){const s=(0,i.c)(60),{did:n,scrollElRef:o,headerOffset:r,enabled:a,style:l,testID:c,setScrollViewTag:d}=e,{_:u}=(0,ft.useLingui)(),m=ec(),[h,p]=mt.useState(!1);let f,g;s[0]!==a?(g={enabled:a},s[0]=a,s[1]=g):g=s[1],f=g;const x=f,{data:_,isPending:y,isFetchingNextPage:b,hasNextPage:j,fetchNextPage:v,isError:w,error:S,refetch:k}=function(e,t){const s=(0,i.c)(8),n=Op(),o=!1!==t?.enabled&&Boolean(n),r=bh();let a,l;return s[0]!==e?(a=BA(e),s[0]=e,s[1]=a):a=s[1],s[2]!==r||s[3]!==e||s[4]!==o||s[5]!==n||s[6]!==a?(l={queryKey:a,async queryFn(t){const{pageParam:s}=t,n=await r.app.bsky.feed.getActorFeeds({actor:e,limit:50,cursor:s});return n.data.feeds.sort(zA),n.data},initialPageParam:void 0,getNextPageParam:OA,enabled:o,select:e=>Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{feeds:e.feeds.filter((e=>!(0,Is.moderateFeedGenerator)(e,n).ui("contentList").filter))})))})},s[2]=r,s[3]=e,s[4]=o,s[5]=n,s[6]=a,s[7]=l):l=s[7],(0,Dp.useInfiniteQuery)(l)}(n,x),C=!y&&!_?.pages[0]?.feeds.length,{data:P}=Fh();let T,L;if(s[2]!==_?.pages||s[3]!==C||s[4]!==w||s[5]!==y){if(L=[],w&&C&&(L=L.concat([WN])),y)L=L.concat([qN]);else if(C)L=L.concat([UN]);else if(_?.pages)for(const e of _?.pages)L=L.concat(e.feeds);else if(w&&!C){let e;if(s[7]!==L){let t;s[9]===Symbol.for("react.memo_cache_sentinel")?(t=[ZN],s[9]=t):t=s[9],e=L.concat(t),s[7]=L,s[8]=e}else e=s[8];L=e}s[2]=_?.pages,s[3]=C,s[4]=w,s[5]=y,s[6]=L}else L=s[6];T=L;const A=T,I=(0,wd.useQueryClient)();let R;s[10]!==n||s[11]!==r||s[12]!==I||s[13]!==o?(R=()=>{o.current?.scrollToOffset({animated:kt,offset:-r}),I.invalidateQueries({queryKey:BA(n)})},s[10]=n,s[11]=r,s[12]=I,s[13]=o,s[14]=R):R=s[14];const D=R;let F,E;s[15]!==D?(F=()=>({scrollToTop:D}),s[15]=D,s[16]=F):F=s[16],mt.useImperativeHandle(t,F),s[17]!==k?(E=async()=>{p(!0);try{await k()}catch(B){const t=B;ys.error("Failed to refresh feeds",{message:t})}p(!1)},s[17]=k,s[18]=E):E=s[18];const M=E;let B;s[19]!==v||s[20]!==j||s[21]!==w||s[22]!==b?(B=async()=>{if(!b&&j&&!w)try{await v()}catch(z){const t=z;ys.error("Failed to load more feeds",{message:t})}},s[19]=v,s[20]=j,s[21]=w,s[22]=b,s[23]=B):B=s[23];const O=B;let z;s[24]!==v?(z=()=>{v()},s[24]=v,s[25]=z):z=s[25];const H=z;let N;s[26]!==u||s[27]!==S||s[28]!==H||s[29]!==P||s[30]!==k||s[31]!==m?(N=e=>{const{item:t,index:s}=e;return t===UN?(0,Ft.jsx)(Lx,{icon:"hashtag",message:u({id:"CbrOgr"}),testID:"listsEmpty"}):t===WN?(0,Ft.jsx)(Rx,{message:ds(S),onPressTryAgain:k}):t===ZN?(0,Ft.jsx)(OF,{label:u({id:"lno7N1"}),onPress:H}):t===qN?(0,Ft.jsx)(LT,{}):P?(0,Ft.jsx)(wo.default,{style:[(0!==s||Pt)&&kl.border_t,m.atoms.border_contrast_low,kl.px_lg,kl.py_lg],children:(0,Ft.jsx)(cR,{view:t})}):null},s[26]=u,s[27]=S,s[28]=H,s[29]=P,s[30]=k,s[31]=m,s[32]=N):N=s[32];const V=N;let q,U,W;s[33]!==a||s[34]!==o||s[35]!==d?(q=()=>{if(wt&&a&&o.current){const e=(0,VN.default)(o.current);d(e)}},U=[a,o,d],s[33]=a,s[34]=o,s[35]=d,s[36]=q,s[37]=U):(q=s[36],U=s[37]),mt.useEffect(q,U),s[38]!==S||s[39]!==v||s[40]!==j||s[41]!==r||s[42]!==C||s[43]!==b?(W=()=>C?null:(0,Ft.jsx)(WH,{hasNextPage:j,isFetchingNextPage:b,onRetry:v,error:ds(S),height:180+r}),s[38]=S,s[39]=v,s[40]=j,s[41]=r,s[42]=C,s[43]=b,s[44]=W):W=s[44];const Z=W,Q=c?`${c}-flatlist`:void 0;let K,$,G;return s[45]===Symbol.for("react.memo_cache_sentinel")?(K=yo(0),s[45]=K):K=s[45],s[46]!==Z||s[47]!==r||s[48]!==h||s[49]!==A||s[50]!==O||s[51]!==M||s[52]!==V||s[53]!==o||s[54]!==Q?($=(0,Ft.jsx)(MF,{testID:Q,ref:o,data:A,keyExtractor:KN,renderItem:V,ListFooterComponent:Z,refreshing:h,onRefresh:M,headerOffset:r,progressViewOffset:K,removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:O}),s[46]=Z,s[47]=r,s[48]=h,s[49]=A,s[50]=O,s[51]=M,s[52]=V,s[53]=o,s[54]=Q,s[55]=$):$=s[55],s[56]!==l||s[57]!==$||s[58]!==c?(G=(0,Ft.jsx)(wo.default,{testID:c,style:l,children:$}),s[56]=l,s[57]=$,s[58]=c,s[59]=G):G=s[59],G}));function KN(e){return e._reactKey||e.uri}const $N={_reactKey:"__loading__"},GN={_reactKey:"__empty__"},YN={_reactKey:"__error__"},JN={_reactKey:"__load_more_error__"},XN=mt.forwardRef((function({did:e,scrollElRef:t,headerOffset:s,enabled:n,style:o,testID:r,setScrollViewTag:a},l){const c=ec(),{_:d}=(0,ft.useLingui)(),[u,m]=mt.useState(!1),h=mt.useMemo((()=>({enabled:n})),[n]),{data:p,isPending:f,hasNextPage:g,fetchNextPage:x,isFetchingNextPage:_,isError:y,error:b,refetch:j}=function(e,t){const s=(0,i.c)(8),n=Op(),o=!1!==t?.enabled&&Boolean(n),r=bh();let a,l;return s[0]!==e?(a=Uw(e),s[0]=e,s[1]=a):a=s[1],s[2]!==r||s[3]!==e||s[4]!==o||s[5]!==n||s[6]!==a?(l={queryKey:a,async queryFn(t){const{pageParam:s}=t;return(await r.app.bsky.graph.getLists({actor:e,limit:30,cursor:s})).data},initialPageParam:void 0,getNextPageParam:Ww,enabled:o,select:e=>Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{lists:e.lists.filter((e=>!(0,Is.moderateUserList)(e,n).ui("contentList").filter))})))})},s[2]=r,s[3]=e,s[4]=o,s[5]=n,s[6]=a,s[7]=l):l=s[7],(0,Dp.useInfiniteQuery)(l)}(e,h),v=!f&&!p?.pages[0]?.lists.length,w=mt.useMemo((()=>{let e=[];if(y&&v&&(e=e.concat([YN])),f)e=e.concat([$N]);else if(v)e=e.concat([GN]);else if(p?.pages)for(const t of p?.pages)e=e.concat(t.lists);return y&&!v&&(e=e.concat([JN])),e}),[y,v,f,p]),S=(0,wd.useQueryClient)(),k=mt.useCallback((()=>{t.current?.scrollToOffset({animated:kt,offset:-s}),S.invalidateQueries({queryKey:Uw(e)})}),[t,S,s,e]);mt.useImperativeHandle(l,(()=>({scrollToTop:k})));const C=mt.useCallback((async()=>{m(!0);try{await j()}catch(e){ys.error("Failed to refresh lists",{message:e})}m(!1)}),[j,m]),P=mt.useCallback((async()=>{if(!_&&g&&!y)try{await x()}catch(e){ys.error("Failed to load more lists",{message:e})}}),[_,g,y,x]),T=mt.useCallback((()=>{x()}),[x]),L=mt.useCallback((({item:e,index:t})=>e===GN?(0,Ft.jsx)(Lx,{icon:"list-ul",message:d({id:"tCLJ9E"}),testID:"listsEmpty"}):e===YN?(0,Ft.jsx)(Rx,{message:ds(b),onPressTryAgain:j}):e===JN?(0,Ft.jsx)(OF,{label:d({id:"lno7N1"}),onPress:T}):e===$N?(0,Ft.jsx)(LT,{}):(0,Ft.jsx)(wo.default,{style:[(0!==t||Pt)&&kl.border_t,c.atoms.border_contrast_low,kl.px_lg,kl.py_lg],children:(0,Ft.jsx)(AR,{view:e})})),[b,j,T,d,c.atoms.border_contrast_low]);mt.useEffect((()=>{if(wt&&n&&t.current){const e=(0,VN.default)(t.current);a(e)}}),[n,t,a]);const A=mt.useCallback((()=>v?null:(0,Ft.jsx)(WH,{hasNextPage:g,isFetchingNextPage:_,onRetry:x,error:ds(b),height:180+s})),[g,b,_,s,x,v]);return(0,Ft.jsx)(wo.default,{testID:r,style:o,children:(0,Ft.jsx)(MF,{testID:r?`${r}-flatlist`:void 0,ref:t,data:w,keyExtractor:eV,renderItem:L,ListFooterComponent:A,refreshing:u,onRefresh:C,headerOffset:s,progressViewOffset:yo(0),removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:P})})}));function eV(e){return e._reactKey||e.uri}const tV=mt.forwardRef((function(e,t){const s=(0,i.c)(23),{children:n,testID:o,items:r,isHeaderReady:a,renderHeader:l,initialPage:c,onPageSelected:d,onCurrentPageSelected:u}=e,[m,h]=mt.useState(0);let p;s[0]!==m||s[1]!==a||s[2]!==r||s[3]!==u||s[4]!==l||s[5]!==o?(p=e=>(0,Ft.jsx)(sV,{items:r,renderHeader:l,isHeaderReady:a,currentPage:m,onCurrentPageSelected:u,onSelect:e.onSelect,tabBarAnchor:e.tabBarAnchor,testID:o}),s[0]=m,s[1]=a,s[2]=r,s[3]=u,s[4]=l,s[5]=o,s[6]=p):p=s[6];const f=p;let g;s[7]!==d?(g=e=>{h(e),d?.(e)},s[7]=d,s[8]=g):g=s[8];const x=g;let _,y;if(s[9]!==n||s[10]!==m||s[11]!==a){let e;s[13]!==m||s[14]!==a?(e=(e,t)=>{const s=a;return(0,Ft.jsx)(wo.default,{collapsable:!1,style:{display:s?void 0:"none"},children:(0,Ft.jsx)(nV,{isFocused:t===m,renderTab:e})},t)},s[13]=m,s[14]=a,s[15]=e):e=s[15],_=function(e){if(Array.isArray(e))return e;return[e]}(n).filter(Boolean).map(e),s[9]=n,s[10]=m,s[11]=a,s[12]=_}else _=s[12];return s[16]!==c||s[17]!==x||s[18]!==t||s[19]!==f||s[20]!==_||s[21]!==o?(y=(0,Ft.jsx)(_H,{ref:t,testID:o,initialPage:c,onPageSelected:x,renderTabBar:f,children:_}),s[16]=c,s[17]=x,s[18]=t,s[19]=f,s[20]=_,s[21]=o,s[22]=y):y=s[22],y}));let sV=e=>{const t=(0,i.c)(21),{currentPage:s,items:n,isHeaderReady:o,testID:r,renderHeader:a,onCurrentPageSelected:l,onSelect:c,tabBarAnchor:d}=e;let u,m;t[0]!==a?(u=a?.({setMinimumHeight:oV}),t[0]=a,t[1]=u):u=t[1],t[2]!==u?(m=(0,Ft.jsx)(wl,{children:u}),t[2]=u,t[3]=m):m=t[3];const h=o?void 0:"none";let p,f,g,x,_;return t[4]!==h?(p=_o([kl.sticky,{top:0,display:h}]),t[4]=h,t[5]=p):p=t[5],t[6]!==p?(f=[kl.z_10,p],t[6]=p,t[7]=f):f=t[7],t[8]!==s||t[9]!==n||t[10]!==l||t[11]!==c||t[12]!==r?(g=(0,Ft.jsx)(lH,{testID:r,items:n,selectedPage:s,onSelect:c,onPressSelected:l,dragProgress:void 0,dragState:void 0}),t[8]=s,t[9]=n,t[10]=l,t[11]=c,t[12]=r,t[13]=g):g=t[13],t[14]!==f||t[15]!==g?(x=(0,Ft.jsx)(wl,{style:f,children:g}),t[14]=f,t[15]=g,t[16]=x):x=t[16],t[17]!==m||t[18]!==x||t[19]!==d?(_=(0,Ft.jsxs)(Ft.Fragment,{children:[m,d,x]}),t[17]=m,t[18]=x,t[19]=d,t[20]=_):_=t[20],_};function nV(e){const t=(0,i.c)(4),{isFocused:s,renderTab:n}=e,o=(0,ko.useAnimatedRef)();if(null==n)return null;const r=o;let a;return t[0]!==s||t[1]!==n||t[2]!==r?(a=n({headerHeight:0,isFocused:s,scrollElRef:r}),t[0]=s,t[1]=n,t[2]=r,t[3]=a):a=t[3],a}function oV(){}function rV(){const e=(0,i.c)(2),t=bh();let s;return e[0]!==t?(s={mutationFn:async e=>{const{uri:s,cid:n}=e;return{uri:(await t.like(s,n)).uri}}},e[0]=t,e[1]=s):s=e[1],(0,Sd.useMutation)(s)}function iV(){const e=(0,i.c)(2),t=bh();let s;return e[0]!==t?(s={mutationFn:async e=>{const{uri:s}=e;await t.deleteLike(s)}},e[0]=t,e[1]=s):s=e[1],(0,Sd.useMutation)(s)}function aV(e){const t=(0,i.c)(12),{profile:s,moderation:n}=e,o=ec(),{gtMobile:r}=ql(),a=r?kl.text_4xl:kl.text_3xl;let l,c,d,u;return t[0]!==o.atoms.text||t[1]!==a?(l=[o.atoms.text,a,kl.self_start,kl.font_heavy],t[0]=o.atoms.text,t[1]=a,t[2]=l):l=t[2],t[3]!==s.displayName||t[4]!==s.handle?(c=s.displayName||su(s.handle),t[3]=s.displayName,t[4]=s.handle,t[5]=c):c=t[5],t[6]!==n||t[7]!==c?(d=Qf(c,n.ui("displayName")),t[6]=n,t[7]=c,t[8]=d):d=t[8],t[9]!==l||t[10]!==d?(u=(0,Ft.jsx)(wo.default,{pointerEvents:"none",children:(0,Ft.jsx)(fr,{emoji:!0,testID:"profileHeaderDisplayName",style:l,children:d})}),t[9]=l,t[10]=d,t[11]=u):u=t[11],u}sV=mt.memo(sV);let lV=({profile:e,labeler:t,descriptionRT:s,moderationOpts:n,hideBackButton:o=!1,isPlaceholderProfile:r})=>{const a=Ry(e),l=ec(),{_:c}=(0,ft.useLingui)(),{currentAccount:d,hasSession:u}=xh(),m=yh(),h=lS(),p=Ar(),f=d?.did===a.did,g=(0,mt.useMemo)((()=>(0,Is.moderateProfile)(a,n)),[a,n]),{data:x}=Fh(),{mutateAsync:_,variables:y,reset:b}=function(){const e=(0,i.c)(4),t=(0,wd.useQueryClient)(),s=bh(),n=Fh();let o;return e[0]!==s||e[1]!==n||e[2]!==t?(o={async mutationFn(e){const{did:t,subscribe:o}=e;js.z.object({did:js.z.string(),subscribe:js.z.boolean()}).parse({did:t,subscribe:o});const r=(n.data?.moderationPrefs?.labelers??[]).map(Sh),i=[];if(r.length){const e=await s.getProfiles({actors:r});if(e.data)for(const t of r){const s=e.data.profiles.find((e=>e.did===t));s?s.associated&&!s.associated.labeler&&i.push(t):i.push(t)}}if(i.length&&await Promise.all(i.map((e=>s.removeLabeler(e)))),o){if(r.length-i.length>=20)throw new Error("MAX_LABELERS");await s.addLabeler(t)}else await s.removeLabeler(t)},async onSuccess(){await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=n,e[2]=t,e[3]=o):o=e[3],(0,Sd.useMutation)(o)}(),j=y?.subscribe??x?.moderationPrefs.labelers.find((e=>e.did===a.did)),{mutateAsync:v,isPending:w}=rV(),{mutateAsync:S,isPending:k}=iV(),[C,P]=mt.useState(t.viewer?.like||""),[T,L]=mt.useState(t.likeCount||0),A=mt.useCallback((async()=>{if(t)try{if(h(),C)await S({uri:C}),L((e=>e-1)),P("");else{const e=await v({uri:t.uri,cid:t.cid});L((e=>e+1)),P(e.uri)}}catch(e){Zu(c({id:"9sa1PU"}),"xmark"),ys.error("Failed to toggle labeler like",{message:e.message})}}),[t,h,C,S,v,c]),I=Ar(),R=mt.useCallback((()=>m((async()=>{const e=!j;try{await _({did:a.did,subscribe:e}),ys.metric(e?"moderation:subscribedToLabeler":"moderation:unsubscribedFromLabeler",{},{statsig:!0})}catch(t){if(b(),"MAX_LABELERS"===t.message)return void p.open();ys.error("Failed to subscribe to labeler",{message:t.message})}}))),[m,_,j,a,p,b]),D=mt.useMemo((()=>d?.did===a.did),[d,a]);return(0,Ft.jsxs)(JA,{profile:a,moderation:g,hideBackButton:o,isPlaceholderProfile:r,children:[(0,Ft.jsxs)(wo.default,{style:[kl.px_lg,kl.pt_md,kl.pb_sm],pointerEvents:wt?"auto":"box-none",children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.justify_end,kl.align_center,kl.gap_xs,kl.pb_lg],pointerEvents:wt?"auto":"box-none",children:[D?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,{testID:"profileHeaderEditProfileButton",size:"small",color:"secondary",variant:"solid",onPress:I.open,label:c({id:"9OpVZg"}),style:kl.rounded_full,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"QJQd1J"})})}),(0,Ft.jsx)(uA,{profile:a,control:I})]}):eg(a.did)?null:(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(Sr,{testID:"toggleSubscribeBtn",label:c(j?{id:"B72PaX"}:{id:"ySzfz3"}),onPress:R,children:e=>(0,Ft.jsx)(wo.default,{style:[{paddingVertical:9,paddingHorizontal:12,borderRadius:6,gap:6,backgroundColor:j?e.hovered||e.pressed?l.palette.contrast_50:l.palette.contrast_25:e.hovered||e.pressed?Xn:Jn}],children:(0,Ft.jsx)(fr,{style:[{color:j?l.palette.contrast_700:l.palette.white},kl.font_bold,kl.text_center,kl.leading_tight],children:j?(0,Ft.jsx)(ft.Trans,{id:"SMaFdc"}):(0,Ft.jsx)(ft.Trans,{id:"MWdBya"})})})})}),(0,Ft.jsx)(EL,{profile:a})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_col,kl.gap_2xs,kl.pt_2xs,kl.pb_md],children:[(0,Ft.jsx)(aV,{profile:a,moderation:g}),(0,Ft.jsx)(Ak,{profile:a})]}),!r&&(0,Ft.jsxs)(Ft.Fragment,{children:[f&&(0,Ft.jsx)(pA,{profile:a}),s&&!g.ui("profileView").blur?(0,Ft.jsx)(wo.default,{pointerEvents:"auto",children:(0,Ft.jsx)(DC,{testID:"profileHeaderDescription",style:[kl.text_md],numberOfLines:15,value:s,enableTags:!0,authorHandle:a.handle})}):void 0,!eg(a.did)&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center,kl.pt_lg],children:[(0,Ft.jsx)(Sr,{testID:"toggleLikeBtn",size:"small",color:"secondary",variant:"solid",shape:"round",label:c({id:"Yo3PBg"}),disabled:!u||w||k,onPress:A,children:C?(0,Ft.jsx)(bT,{fill:l.palette.negative_400}):(0,Ft.jsx)(yT,{fill:l.atoms.text_contrast_medium.color})}),"number"===typeof T&&(0,Ft.jsx)(pv,{to:{screen:"ProfileLabelerLikedBy",params:{name:t.creator.handle||t.creator.did}},size:"tiny",label:c({id:"YD7py1",values:{likeCount:T}}),children:({hovered:e,focused:t,pressed:s})=>(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_sm,l.atoms.text_contrast_medium,(e||t||s)&&l.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"YD7py1",values:{likeCount:T}})})})]})]})]}),(0,Ft.jsx)(cV,{control:p})]})};function cV(e){const t=(0,i.c)(12),{control:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(fx,{children:"Unable to subscribe"}),t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(gx,{children:(0,Ft.jsx)(ft.Trans,{id:"LWQ3qB"})}),t[1]=r):r=t[1],t[2]!==s?(a=()=>s.close(),t[2]=s,t[3]=a):a=t[3],t[4]!==n?(l=n({id:"zga9sT"}),t[4]=n,t[5]=l):l=t[5],t[6]!==a||t[7]!==l?(c=(0,Ft.jsx)(xx,{children:(0,Ft.jsx)(yx,{onPress:a,cta:l})}),t[6]=a,t[7]=l,t[8]=c):c=t[8],t[9]!==s||t[10]!==c?(d=(0,Ft.jsxs)(px,{control:s,children:[o,r,c]}),t[9]=s,t[10]=c,t[11]=d):d=t[11],d}lV=(0,mt.memo)(lV);const dV=["setMinimumHeight"];let uV=e=>{const t=(0,i.c)(13),s=ec();let n,o,r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(vT,{width:"100%",height:150,style:{borderRadius:0}}),t[0]=n):n=t[0],t[1]!==s.atoms.bg.backgroundColor?(o={borderColor:s.atoms.bg.backgroundColor},t[1]=s.atoms.bg.backgroundColor,t[2]=o):o=t[2],t[3]!==s.atoms.bg||t[4]!==o?(r=[s.atoms.bg,o,xV.avi],t[3]=s.atoms.bg,t[4]=o,t[5]=r):r=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(vT,{width:90,height:90,style:xV.br45}),t[6]=a):a=t[6],t[7]!==r?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),t[7]=r,t[8]=l):l=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(wo.default,{style:xV.content,children:(0,Ft.jsx)(wo.default,{style:[xV.buttonsLine],children:(0,Ft.jsx)(vT,{width:140,height:34,style:xV.br50})})}),t[9]=c):c=t[9],t[10]!==s.atoms.bg||t[11]!==l?(d=(0,Ft.jsxs)(wo.default,{style:s.atoms.bg,children:[n,l,c]}),t[10]=s.atoms.bg,t[11]=l,t[12]=d):d=t[12],d};uV=(0,mt.memo)(uV);let mV=e=>{const t=(0,i.c)(15);let s,n,o,r,a;if(t[0]!==e){var l=e;({setMinimumHeight:n}=l),s=(0,ls.default)(l,dV),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];if(s.profile.associated?.labeler)if(s.labeler){let e;t[4]!==s?(e=(0,Ft.jsx)(lV,Object.assign({},s,{labeler:s.labeler})),t[4]=s,t[5]=e):e=t[5],o=e}else{let e;t[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(uV,{}),t[3]=e):e=t[3],o=e}else{let e;t[6]!==s?(e=(0,Ft.jsx)(eI,Object.assign({},s)),t[6]=s,t[7]=e):e=t[7],o=e}return t[8]!==s.hideBackButton||t[9]!==s.profile||t[10]!==n?(r=kt&&(0,Ft.jsx)(gV,{onLayout:e=>n(e.nativeEvent.layout.height),profile:s.profile,hideBackButton:s.hideBackButton}),t[8]=s.hideBackButton,t[9]=s.profile,t[10]=n,t[11]=r):r=t[11],t[12]!==o||t[13]!==r?(a=(0,Ft.jsxs)(Ft.Fragment,{children:[r,o]}),t[12]=o,t[13]=r,t[14]=a):a=t[14],a};mV=(0,mt.memo)(mV);const hV={code:"function indexTsx1(){const{minimalHeaderHeight,scrollY,withTiming,headerHeight}=this.__closure;if(!_WORKLET||minimalHeaderHeight===0){return{opacity:0};}const pastThreshold=scrollY.get()>100;return{opacity:pastThreshold?withTiming(1,{duration:75}):withTiming(0,{duration:75}),transform:[{translateY:Math.min(scrollY.get(),headerHeight-minimalHeaderHeight)}]};}"},pV={code:"function indexTsx2(){const{scrollY}=this.__closure;return scrollY.get()>100;}"},fV={code:"function indexTsx3(value,prev){const{runOnJS,setVisible}=this.__closure;if(prev!==value){runOnJS(setVisible)(value);}}"},gV=mt.memo((function(e){const t=(0,i.c)(15),{onLayout:s}=e,n=ec(),o=(0,pt.useSafeAreaInsets)(),r=AA(),[a,l]=(0,mt.useState)(!1),[c,d]=mt.useState(0),u=(0,va.useIsFocused)();if(!r)throw new Error("MinimalHeader cannot be used on web");const{scrollY:m,headerHeight:h}=r,p=(0,ko.useAnimatedStyle)(function(){const e=function(){if(!_WORKLET||0===c)return{opacity:0};return{opacity:m.get()>100?(0,ko.withTiming)(1,{duration:75}):(0,ko.withTiming)(0,{duration:75}),transform:[{translateY:Math.min(m.get(),h-c)}]}};return e.__closure={minimalHeaderHeight:c,scrollY:m,withTiming:ko.withTiming,headerHeight:h},e.__workletHash=0xf48affbadb3,e.__initData=hV,e}());(0,ko.useAnimatedReaction)(function(){const e=()=>m.get()>100;return e.__closure={scrollY:m},e.__workletHash=0xf6e5324a40a,e.__initData=pV,e}(),function(){const e=function(e,t){t!==e&&(0,ko.runOnJS)(l)(e)};return e.__closure={runOnJS:ko.runOnJS,setVisible:l},e.__workletHash=0x9aac6a24135,e.__initData=fV,e}()),function(e){const t=(0,i.c)(3);let s,n;t[0]!==e?(s=()=>{if(e){const e=ev.SystemBars.pushStackEntry({style:{statusBar:"light"}});return()=>{ev.SystemBars.popStackEntry(e)}}},n=[e],t[0]=e,t[1]=s,t[2]=n):(s=t[1],n=t[2]),(0,mt.useEffect)(s,n)}(u&&!a);const f=a?"auto":"none",g=!a,x=!a,_=a?"auto":"no-hide-descendants";let y,b,j,v;return t[0]!==s?(y=e=>{d(e.nativeEvent.layout.height),s(e)},t[0]=s,t[1]=y):y=t[1],t[2]!==o.top?(b={top:0,left:0,right:0,paddingTop:o.top},t[2]=o.top,t[3]=b):b=t[3],t[4]!==p||t[5]!==n.atoms.bg||t[6]!==b?(j=[kl.absolute,kl.z_50,n.atoms.bg,b,p],t[4]=p,t[5]=n.atoms.bg,t[6]=b,t[7]=j):j=t[7],t[8]!==f||t[9]!==g||t[10]!==x||t[11]!==_||t[12]!==y||t[13]!==j?(v=(0,Ft.jsx)(ko.default.View,{pointerEvents:f,"aria-hidden":g,accessibilityElementsHidden:x,importantForAccessibility:_,onLayout:y,style:j}),t[8]=f,t[9]=g,t[10]=x,t[11]=_,t[12]=y,t[13]=j,t[14]=v):v=t[14],v}));gV.displayName="MinimalHeader";const xV=Gn.default.create({avi:{position:"absolute",top:110,left:10,width:94,height:94,borderRadius:47,borderWidth:2},content:{paddingTop:12,paddingHorizontal:16,paddingBottom:8},buttonsLine:{flexDirection:"row",marginLeft:"auto"},br45:{borderRadius:45},br50:{borderRadius:50}}),_V=mt.forwardRef((function({feed:e,headerHeight:t,isFocused:s,scrollElRef:n,ignoreFilterFor:o,setScrollViewTag:r},i){const{_:a}=(0,ft.useLingui)(),l=(0,wd.useQueryClient)(),[c,d]=mt.useState(!1),[u,m]=mt.useState(!1),h=e.endsWith("posts_and_author_threads"),p=kt&&e.endsWith("posts_with_video"),f=kF({screenHeightOffset:t}),g=mt.useCallback((()=>{n.current?.scrollToOffset({animated:kt,offset:-t}),Df(l,Nx(e)),d(!1)}),[n,t,l,e,d]);mt.useImperativeHandle(i,(()=>({scrollToTop:g})));const x=mt.useCallback((()=>(0,Ft.jsx)(Lx,{icon:"growth",message:a({id:"ODiSoW"})})),[a]);return mt.useEffect((()=>{if(wt&&s&&n.current){const e=(0,VN.default)(n.current);r(e)}}),[s,n,r]),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(PM,{testID:"postsFeed",enabled:s,feed:e,scrollElRef:n,onHasNew:d,onScrolledDownChange:m,renderEmptyState:x,headerOffset:t,progressViewOffset:yo(0),renderEndOfFeed:p?void 0:yV,ignoreFilterFor:o,initialNumToRender:h?f:void 0,isVideoFeed:p}),(u||c)&&(0,Ft.jsx)(Uz,{onPress:g,label:a({id:"VkLESX"}),showIndicator:c})]})}));function yV(){const e=(0,i.c)(10),t=ec();let s,n,o,r,a;return e[0]!==t.atoms.border_contrast_medium?(s=[kl.w_full,kl.py_5xl,kl.border_t,t.atoms.border_contrast_medium],e[0]=t.atoms.border_contrast_medium,e[1]=s):s=e[1],e[2]!==t.atoms.text_contrast_medium?(n=[t.atoms.text_contrast_medium,kl.text_center],e[2]=t.atoms.text_contrast_medium,e[3]=n):n=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(ft.Trans,{id:"9xK+YC"}),e[4]=o):o=e[4],e[5]!==n?(r=(0,Ft.jsx)(fr,{style:n,children:o}),e[5]=n,e[6]=r):r=e[6],e[7]!==s||e[8]!==r?(a=(0,Ft.jsx)(wo.default,{style:s,children:r}),e[7]=s,e[8]=r,e[9]=a):a=e[9],a}const bV=(e,t)=>{const s=(0,i.c)(2),n=(0,mt.useRef)(e);let o;return s[0]!==e?(o=()=>{n.current=e},s[0]=e,s[1]=o):o=s[1],(0,mt.useEffect)(o),(0,ko.useAnimatedScrollHandler)({onBeginDrag(e,t){"function"!==typeof n.current&&n.current.onBeginDrag&&n.current.onBeginDrag(e,t)},onEndDrag(e,t){"function"!==typeof n.current&&n.current.onEndDrag&&n.current.onEndDrag(e,t)},onMomentumBegin(e,t){"function"!==typeof n.current&&n.current.onMomentumBegin&&n.current.onMomentumBegin(e,t)},onMomentumEnd(e,t){"function"!==typeof n.current&&n.current.onMomentumEnd&&n.current.onMomentumEnd(e,t)},onScroll(e,t){"function"===typeof n.current?n.current(e,t):n.current.onScroll&&n.current.onScroll(e,t)}},t)};function jV(e,t){const s=(0,i.c)(18),{_:n}=(0,ft.useLingui)();if("ignore"===t){let e;return s[0]!==n?(e=n({id:"az8lvo"}),s[0]=n,s[1]=e):e=s[1],e}if("content"===e.blurs||"media"===e.blurs){if("hide"===t){let e;return s[2]!==n?(e=n({id:"vLyv1R"}),s[2]=n,s[3]=e):e=s[3],e}let e;return s[4]!==n?(e=n({id:"FVVJhm"}),s[4]=n,s[5]=e):e=s[5],e}if("alert"===e.severity){if("hide"===t){let e;return s[6]!==n?(e=n({id:"vLyv1R"}),s[6]=n,s[7]=e):e=s[7],e}let e;return s[8]!==n?(e=n({id:"FVVJhm"}),s[8]=n,s[9]=e):e=s[9],e}if("inform"===e.severity){if("hide"===t){let e;return s[10]!==n?(e=n({id:"vLyv1R"}),s[10]=n,s[11]=e):e=s[11],e}let e;return s[12]!==n?(e=n({id:"PRYwnA"}),s[12]=n,s[13]=e):e=s[13],e}{if("hide"===t){let e;return s[14]!==n?(e=n({id:"vLyv1R"}),s[14]=n,s[15]=e):e=s[15],e}let e;return s[16]!==n?(e=n({id:"E/QGRL"}),s[16]=n,s[17]=e):e=s[17],e}}function vV(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_row,kl.gap_sm,kl.px_lg,kl.py_lg,kl.justify_between,kl.flex_wrap],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function wV(e){const t=(0,i.c)(15),{children:s,name:n,description:o}=e,r=ec(),{gtPhone:a}=ql();let l;t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.gap_xs,kl.flex_1],t[0]=l):l=t[0];const c=a?kl.text_sm:kl.text_md;let d,u,m,h,p;return t[1]!==c?(d=[kl.font_bold,c],t[1]=c,t[2]=d):d=t[2],t[3]!==n||t[4]!==d?(u=(0,Ft.jsx)(fr,{emoji:!0,style:d,children:n}),t[3]=n,t[4]=d,t[5]=u):u=t[5],t[6]!==r.atoms.text_contrast_medium?(m=[r.atoms.text_contrast_medium,kl.leading_snug],t[6]=r.atoms.text_contrast_medium,t[7]=m):m=t[7],t[8]!==o||t[9]!==m?(h=(0,Ft.jsx)(fr,{emoji:!0,style:m,children:o}),t[8]=o,t[9]=m,t[10]=h):h=t[10],t[11]!==s||t[12]!==u||t[13]!==h?(p=(0,Ft.jsxs)(wo.default,{style:l,children:[u,h,s]}),t[11]=s,t[12]=u,t[13]=h,t[14]=p):p=t[14],p}function SV(e){const t=(0,i.c)(17),{name:s,values:n,onChange:o,ignoreLabel:r,warnLabel:a,hideLabel:l}=e,{_:c}=(0,ft.useLingui)();let d,u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[{minHeight:35},kl.w_full],t[0]=d):d=t[0],t[1]!==c||t[2]!==s?(u=c({id:"lwgSB+",values:{name:s}}),t[1]=c,t[2]=s,t[3]=u):u=t[3],t[4]!==r?(m=r&&(0,Ft.jsx)(gI,{name:"ignore",label:r,children:(0,Ft.jsx)(_I,{children:r})}),t[4]=r,t[5]=m):m=t[5],t[6]!==a?(h=a&&(0,Ft.jsx)(gI,{name:"warn",label:a,children:(0,Ft.jsx)(_I,{children:a})}),t[6]=a,t[7]=h):h=t[7],t[8]!==l?(p=l&&(0,Ft.jsx)(gI,{name:"hide",label:l,children:(0,Ft.jsx)(_I,{children:l})}),t[8]=l,t[9]=p):p=t[9],t[10]!==o||t[11]!==u||t[12]!==m||t[13]!==h||t[14]!==p||t[15]!==n?(f=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsxs)(fI,{label:u,values:n,onChange:o,children:[m,h,p]})}),t[10]=o,t[11]=u,t[12]=m,t[13]=h,t[14]=p,t[15]=n,t[16]=f):f=t[16],f}function kV(e){const t=(0,i.c)(26),{labelDefinition:s,disabled:n}=e,{_:o}=(0,ft.useLingui)(),{identifier:r}=s,{data:a}=Fh(),{mutate:l,variables:c}=Bh(),d=a?.moderationPrefs.labels[r],u=c?.visibility??d??"warn",m=LS();let h;t[0]!==m||t[1]!==s.identifier?(h=s.identifier in m?m[s.identifier]:{name:s.identifier,description:`Labeled "${s.identifier}"`},t[0]=m,t[1]=s.identifier,t[2]=h):h=t[2];const p=h;let f,g,x,_;t[3]!==o?(f=o({id:"vLyv1R"}),t[3]=o,t[4]=f):f=t[4],t[5]!==o?(g=o({id:"FVVJhm"}),t[5]=o,t[6]=g):g=t[6],t[7]!==o?(x=o({id:"8vETh9"}),t[7]=o,t[8]=x):x=t[8],t[9]!==f||t[10]!==g||t[11]!==x?(_={hide:f,warn:g,ignore:x},t[9]=f,t[10]=g,t[11]=x,t[12]=_):_=t[12];const y=_;let b,j,v;return t[13]!==p.description||t[14]!==p.name?(b=(0,Ft.jsx)(wV,{name:p.name,description:p.description}),t[13]=p.description,t[14]=p.name,t[15]=b):b=t[15],t[16]!==n||t[17]!==r||t[18]!==y||t[19]!==p.name||t[20]!==l||t[21]!==u?(j=!n&&(0,Ft.jsx)(SV,{name:p.name.toLowerCase(),values:[u],onChange:e=>{l({label:r,visibility:e[0],labelerDid:void 0})},ignoreLabel:y.ignore,warnLabel:y.warn,hideLabel:y.hide}),t[16]=n,t[17]=r,t[18]=y,t[19]=p.name,t[20]=l,t[21]=u,t[22]=j):j=t[22],t[23]!==b||t[24]!==j?(v=(0,Ft.jsxs)(vV,{children:[b,j]}),t[23]=b,t[24]=j,t[25]=v):v=t[25],v}function CV(e){const t=(0,i.c)(33),{labelDefinition:s,disabled:n,labelerDid:o}=e,{_:r,i18n:a}=(0,ft.useLingui)(),l=ec(),{gtPhone:c}=ql(),d=!s.definedBy,{identifier:u}=s,{data:m}=Fh(),{mutate:h,variables:p}=Bh();let f;t[0]!==u||t[1]!==d||t[2]!==o||t[3]!==m?.moderationPrefs.labelers||t[4]!==m?.moderationPrefs.labels?(f=o&&!d?m?.moderationPrefs.labelers.find((e=>e.did===o))?.labels[u]:m?.moderationPrefs.labels[u],t[0]=u,t[1]=d,t[2]=o,t[3]=m?.moderationPrefs.labelers,t[4]=m?.moderationPrefs.labels,t[5]=f):f=t[5];const g=f,x=p?.visibility??g??s.defaultSetting??"warn",_=!("none"===s.blurs&&"none"===s.severity);let y;t[6]!==s.flags?(y=s.flags.includes("adult"),t[6]=s.flags,t[7]=y):y=t[7];const b=y&&!m?.moderationPrefs.adultContentEnabled,j=d||b,v=!n&&(c||!j);let w=x;b?w="hide":_||"warn"!==x||(w="ignore");const S=jV(s,w),k=jV(s,"hide"),C=jV(s,"warn"),P=jV(s,"ignore"),T=LS();let L;if(t[8]!==r||t[9]!==b||t[10]!==_||t[11]!==j||t[12]!==S||t[13]!==T||t[14]!==k||t[15]!==a.locale||t[16]!==u||t[17]!==P||t[18]!==d||t[19]!==s||t[20]!==o||t[21]!==h||t[22]!==x||t[23]!==v||t[24]!==l||t[25]!==C){const e=RS(a.locale,T,s);let n;t[27]!==r||t[28]!==b||t[29]!==j||t[30]!==d||t[31]!==l?(n=j&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs,kl.align_center,kl.mt_xs],children:[(0,Ft.jsx)(Ij,{size:"sm",fill:l.atoms.text_contrast_high.color}),(0,Ft.jsx)(fr,{style:[l.atoms.text_contrast_medium,kl.font_bold,kl.italic],children:b?(0,Ft.jsx)(ft.Trans,{id:"fmw3zQ"}):d?(0,Ft.jsx)(ft.Trans,{id:"xWQHgY",components:{0:(0,Ft.jsx)(fv,{label:r({id:"QCFgcZ"}),to:"/moderation",style:kl.text_sm})}}):null})]}),t[27]=r,t[28]=b,t[29]=j,t[30]=d,t[31]=l,t[32]=n):n=t[32],L=(0,Ft.jsxs)(vV,{children:[(0,Ft.jsx)(wV,{name:e.name,description:e.description,children:n}),v&&(0,Ft.jsx)(Ft.Fragment,{children:j?(0,Ft.jsx)(wo.default,{style:[{minHeight:35},kl.px_md,kl.py_md,kl.rounded_sm,kl.border,l.atoms.border_contrast_low,kl.self_start],children:(0,Ft.jsx)(fr,{emoji:!0,style:[kl.font_bold,l.atoms.text_contrast_low],children:S})}):(0,Ft.jsx)(SV,{name:e.name.toLowerCase(),values:[x],onChange:e=>{h({label:u,visibility:e[0],labelerDid:o})},ignoreLabel:P,warnLabel:_?C:void 0,hideLabel:k})})]}),t[8]=r,t[9]=b,t[10]=_,t[11]=j,t[12]=S,t[13]=T,t[14]=k,t[15]=a.locale,t[16]=u,t[17]=P,t[18]=d,t[19]=s,t[20]=o,t[21]=h,t[22]=x,t[23]=v,t[24]=l,t[25]=C,t[26]=L}else L=t[26];return L}function PV(e){const t=(0,i.c)(31),{error:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),r=(0,va.useNavigation)();let a;t[0]!==r?(a=()=>{r.canGoBack()?r.goBack():r.navigate("Home")},t[0]=r,t[1]=a):a=t[1];const l=a;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,w;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.px_xl],t[2]=c):c=t[2],t[3]!==n.atoms.text_contrast_low?(d=(0,Ft.jsx)(Ij,{width:48,style:[n.atoms.text_contrast_low]}),t[3]=n.atoms.text_contrast_low,t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,kl.pb_md,kl.pt_xl],children:(0,Ft.jsx)(ft.Trans,{id:"HbGWjb"})}),t[5]=u):u=t[5],t[6]!==n.atoms.text_contrast_medium?(m=[kl.text_md,kl.leading_normal,kl.pb_md,n.atoms.text_contrast_medium],t[6]=n.atoms.text_contrast_medium,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(ft.Trans,{id:"HmqFOJ"}),t[8]=h):h=t[8],t[9]!==m?(p=(0,Ft.jsx)(fr,{style:m,children:h}),t[9]=m,t[10]=p):p=t[10],t[11]!==n.atoms.bg_contrast_25?(f=[kl.relative,kl.py_md,kl.px_lg,kl.rounded_md,kl.mb_2xl,n.atoms.bg_contrast_25],t[11]=n.atoms.bg_contrast_25,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.text_md,kl.leading_normal],t[13]=g):g=t[13],t[14]!==s?(x=(0,Ft.jsx)(fr,{style:g,children:s}),t[14]=s,t[15]=x):x=t[15],t[16]!==x||t[17]!==f?(_=(0,Ft.jsx)(wo.default,{style:f,children:x}),t[16]=x,t[17]=f,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y={flexDirection:"row"},t[19]=y):y=t[19],t[20]!==o?(b=o({id:"sr0UJD"}),t[20]=o,t[21]=b):b=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"})}),t[22]=j):j=t[22],t[23]!==l||t[24]!==b?(v=(0,Ft.jsx)(wo.default,{style:y,children:(0,Ft.jsx)(Sr,{size:"small",color:"secondary",variant:"solid",label:b,accessibilityHint:"Returns to previous page",onPress:l,children:j})}),t[23]=l,t[24]=b,t[25]=v):v=t[25],t[26]!==_||t[27]!==v||t[28]!==d||t[29]!==p?(w=(0,Ft.jsxs)(wo.default,{style:c,children:[d,u,p,_,v]}),t[26]=_,t[27]=v,t[28]=d,t[29]=p,t[30]=w):w=t[30],w}const TV={code:"function onBeginDrag_LabelsTsx1(e,ctx){const{onBeginDragFromContext}=this.__closure;var _onBeginDragFromConte;(_onBeginDragFromConte=onBeginDragFromContext)===null||_onBeginDragFromConte===void 0||_onBeginDragFromConte(e,ctx);}"},LV={code:"function onEndDrag_LabelsTsx2(e_0,ctx_0){const{onEndDragFromContext}=this.__closure;var _onEndDragFromContext;(_onEndDragFromContext=onEndDragFromContext)===null||_onEndDragFromContext===void 0||_onEndDragFromContext(e_0,ctx_0);}"},AV={code:"function onScroll_LabelsTsx3(e_1,ctx_1){const{onScrollFromContext}=this.__closure;var _onScrollFromContext;(_onScrollFromContext=onScrollFromContext)===null||_onScrollFromContext===void 0||_onScrollFromContext(e_1,ctx_1);}"},IV={code:"function onMomentumEnd_LabelsTsx4(e_2,ctx_2){const{onMomentumEndFromContext}=this.__closure;var _onMomentumEndFromCon;(_onMomentumEndFromCon=onMomentumEndFromContext)===null||_onMomentumEndFromCon===void 0||_onMomentumEndFromCon(e_2,ctx_2);}"},RV=mt.forwardRef((function(e,t){const s=(0,i.c)(36),{isLabelerLoading:n,labelerInfo:o,labelerError:r,moderationOpts:a,scrollElRef:l,headerHeight:c,isFocused:d,setScrollViewTag:u}=e,{_:m}=(0,ft.useLingui)(),{height:h}=(0,pt.useSafeAreaFrame)(),{onBeginDrag:p,onEndDrag:f,onScroll:g,onMomentumEnd:x}=PF();let _;s[0]!==p||s[1]!==f||s[2]!==x||s[3]!==g?(_={onBeginDrag:function(){const e=function(e,t){p?.(e,t)};return e.__closure={onBeginDragFromContext:p},e.__workletHash=0xddc1b2cec8b,e.__initData=TV,e}(),onEndDrag:function(){const e=function(e,t){f?.(e,t)};return e.__closure={onEndDragFromContext:f},e.__workletHash=0xc06da0d74c0,e.__initData=LV,e}(),onScroll:function(){const e=function(e,t){g?.(e,t)};return e.__closure={onScrollFromContext:g},e.__workletHash=9505509592531,e.__initData=AV,e}(),onMomentumEnd:function(){const e=function(e,t){x?.(e,t)};return e.__closure={onMomentumEndFromContext:x},e.__workletHash=0xdfe26f4127e,e.__initData=IV,e}()},s[0]=p,s[1]=f,s[2]=x,s[3]=g,s[4]=_):_=s[4];const y=bV(_);let b;s[5]!==c||s[6]!==l?(b=()=>{l.current?.scrollTo({animated:kt,x:0,y:-c})},s[5]=c,s[6]=l,s[7]=b):b=s[7];const j=b;let v,w,S,k;s[8]!==j?(v=()=>({scrollToTop:j}),s[8]=j,s[9]=v):v=s[9],mt.useImperativeHandle(t,v),s[10]!==d||s[11]!==l||s[12]!==u?(w=()=>{if(wt&&d&&l.current){const e=(0,VN.default)(l.current);u(e)}},S=[d,l,u],s[10]=d,s[11]=l,s[12]=u,s[13]=w,s[14]=S):(w=s[13],S=s[14]),mt.useEffect(w,S),s[15]!==h?(k={minHeight:h},s[15]=h,s[16]=k):k=s[16];const C=l;let P;s[17]!==c?(P={paddingTop:c,borderWidth:0},s[17]=c,s[18]=P):P=s[18];const T=-1*c;let L,A,I,R;return s[19]!==T?(L={x:0,y:T},s[19]=T,s[20]=L):L=s[20],s[21]!==m||s[22]!==n||s[23]!==r||s[24]!==o||s[25]!==a?(A=n?(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.align_center,kl.py_4xl],children:(0,Ft.jsx)(wv,{size:"xl"})}):r||!o?(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.align_center,kl.py_4xl],children:(0,Ft.jsx)(PV,{error:r?.toString()||m({id:"y47vGS"})})}):(0,Ft.jsx)(DV,{moderationOpts:a,labelerInfo:o}),s[21]=m,s[22]=n,s[23]=r,s[24]=o,s[25]=a,s[26]=A):A=s[26],s[27]!==y||s[28]!==L||s[29]!==A||s[30]!==C||s[31]!==P?(I=(0,Ft.jsx)(bl,{ref:C,scrollEventThrottle:1,contentContainerStyle:P,contentOffset:L,onScroll:y,children:A}),s[27]=y,s[28]=L,s[29]=A,s[30]=C,s[31]=P,s[32]=I):I=s[32],s[33]!==I||s[34]!==k?(R=(0,Ft.jsx)(wl,{style:k,children:I}),s[33]=I,s[34]=k,s[35]=R):R=s[35],R}));function DV({moderationOpts:e,labelerInfo:t}){const s=ec(),{labelValues:n}=t.policies,o=(i=e,!!eg(r="string"===typeof(r=t)?r:r.creator.did)||i.prefs.labelers.find((e=>e.did===r)));var r,i;const a=mt.useMemo((()=>{const e=(0,Is.interpretLabelValueDefinitions)(t);return n.map((t=>function(e,t){let s;return!e.startsWith("!")&&t&&(s=t.find((t=>t.identifier===e))),s||(s=Is.LABELS[e]),s}(t,e))).filter((e=>e&&e?.configurable))}),[t,n]);return(0,Ft.jsxs)(wo.default,{style:[kl.pt_xl,kl.px_lg,kl.border_t,s.atoms.border_contrast_low],children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(fr,{style:[s.atoms.text_contrast_high,kl.leading_snug,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"A93cBU"})}),t.creator.viewer?.blocking?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,kl.mt_md],children:[(0,Ft.jsx)(Ij,{size:"sm",fill:s.atoms.text_contrast_medium.color}),(0,Ft.jsx)(fr,{style:[s.atoms.text_contrast_high,kl.leading_snug,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"Hxj2HM"})})]}):null,0===n.length?(0,Ft.jsx)(fr,{style:[kl.pt_xl,s.atoms.text_contrast_high,kl.leading_snug,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"XU6PGV"})}):o?null:(0,Ft.jsx)(fr,{style:[kl.pt_xl,s.atoms.text_contrast_high,kl.leading_snug,kl.text_sm],children:(0,Ft.jsx)(ft.Trans,{id:"P1eYvx",values:{0:t.creator.handle}})})]}),a.length>0&&(0,Ft.jsx)(wo.default,{style:[kl.mt_xl,kl.w_full,kl.rounded_md,kl.overflow_hidden,s.atoms.bg_contrast_25],children:a.map(((e,s)=>(0,Ft.jsxs)(mt.Fragment,{children:[0!==s&&(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(CV,{disabled:!o||void 0,labelDefinition:e,labelerDid:t.creator.did})]},e.identifier)))})]})}function FV(e){const t=(0,i.c)(8),{style:s,gradient:n,children:o,start:r,end:a}=e,l=void 0===n?"sky":n,c=go[l];let d;t[0]!==c.values?(d=c.values.map(EV),t[0]=c.values,t[1]=d):d=t[1];const u=d;if(l.length<2)throw new Error("Gradient must have at least 2 colors");let m;return t[2]!==o||t[3]!==u||t[4]!==a||t[5]!==r||t[6]!==s?(m=(0,Ft.jsx)(sr.LinearGradient,{colors:u,style:s,start:r,end:a,children:o}),t[2]=o,t[3]=u,t[4]=a,t[5]=r,t[6]=s,t[7]=m):m=t[7],m}function EV(e){const[,t]=e;return t}function MV(e){return e.uri}const BV=mt.forwardRef((function(e,t){const s=(0,i.c)(39),{scrollElRef:n,did:o,headerOffset:r,enabled:a,style:l,testID:c,setScrollViewTag:d,isMe:u}=e,m=ec(),h=wF(100),[p,f]=(0,mt.useState)(!1);let g;s[0]!==o||s[1]!==a?(g={did:o,enabled:a},s[0]=o,s[1]=a,s[2]=g):g=s[2];const{data:x,refetch:_,isError:y,hasNextPage:b,isFetchingNextPage:j,fetchNextPage:v}=function(e){const t=(0,i.c)(9),{did:s,enabled:n}=e,o=void 0===n||n,r=bh();let a,l;t[0]!==s?(a=ak(s),t[0]=s,t[1]=a):a=t[1],t[2]!==r||t[3]!==s?(l=async e=>{const{pageParam:t}=e;return(await r.app.bsky.graph.getActorStarterPacks({actor:s,limit:10,cursor:t})).data},t[2]=r,t[3]=s,t[4]=l):l=t[4];const c=Boolean(s)&&o;let d;return t[5]!==a||t[6]!==l||t[7]!==c?(d={queryKey:a,queryFn:l,enabled:c,initialPageParam:void 0,getNextPageParam:lk},t[5]=a,t[6]=l,t[7]=c,t[8]=d):d=t[8],(0,Dp.useInfiniteQuery)(d)}(g),{isTabletOrDesktop:w}=jx();let S;s[3]!==x?.pages?(S=x?.pages.flatMap(NV),s[3]=x?.pages,s[4]=S):S=s[4];const k=S;let C;(0,mt.useImperativeHandle)(t,qV),s[5]!==_?(C=async()=>{f(!0);try{await _()}catch(T){const t=T;ys.error("Failed to refresh starter packs",{message:t})}f(!1)},s[5]=_,s[6]=C):C=s[6];const P=C;let T;s[7]!==v||s[8]!==b||s[9]!==y||s[10]!==j?(T=async()=>{if(!j&&b&&!y)try{await v()}catch(A){const t=A;ys.error("Failed to load more starter packs",{message:t})}},s[7]=v,s[8]=b,s[9]=y,s[10]=j,s[11]=T):T=s[11];const L=T;let A,I,R;s[12]!==a||s[13]!==n||s[14]!==d?(A=()=>{if(wt&&a&&n.current){const e=(0,VN.default)(n.current);d(e)}},I=[a,n,d],s[12]=a,s[13]=n,s[14]=d,s[15]=A,s[16]=I):(A=s[15],I=s[16]),(0,mt.useEffect)(A,I),s[17]!==w||s[18]!==m.atoms.border_contrast_low?(R=e=>{const{item:t,index:s}=e;return(0,Ft.jsx)(wo.default,{style:[kl.p_lg,(w||0!==s)&&kl.border_t,m.atoms.border_contrast_low],children:(0,Ft.jsx)(vk,{starterPack:t})})},s[17]=w,s[18]=m.atoms.border_contrast_low,s[19]=R):R=s[19];const D=R,F=c?`${c}-flatlist`:void 0;let E;s[20]===Symbol.for("react.memo_cache_sentinel")?(E=yo(0),s[20]=E):E=s[20];const M=r+h;let B;s[21]!==M?(B={paddingBottom:M},s[21]=M,s[22]=B):B=s[22];const O=x?u?zV:void 0:LT,z=x&&0!==k?.length&&u?OV:void 0;let H,N;return s[23]!==r||s[24]!==p||s[25]!==k||s[26]!==L||s[27]!==P||s[28]!==D||s[29]!==n||s[30]!==B||s[31]!==O||s[32]!==z||s[33]!==F?(H=(0,Ft.jsx)(MF,{testID:F,ref:n,data:k,renderItem:D,keyExtractor:MV,refreshing:p,headerOffset:r,progressViewOffset:E,contentContainerStyle:B,removeClippedSubviews:!0,desktopFixedHeight:!0,onEndReached:L,onRefresh:P,ListEmptyComponent:O,ListFooterComponent:z}),s[23]=r,s[24]=p,s[25]=k,s[26]=L,s[27]=P,s[28]=D,s[29]=n,s[30]=B,s[31]=O,s[32]=z,s[33]=F,s[34]=H):H=s[34],s[35]!==l||s[36]!==H||s[37]!==c?(N=(0,Ft.jsx)(wo.default,{testID:c,style:l,children:H}),s[35]=l,s[36]=H,s[37]=c,s[38]=N):N=s[38],N}));function OV(){const e=(0,i.c)(15),{_:t}=(0,ft.useLingui)(),s=ec(),n=(0,va.useNavigation)();let o,r,a,l,c,d,u,m;return e[0]!==s.atoms.border_contrast_low?(o=[kl.pr_md,kl.pt_lg,kl.gap_lg,kl.border_t,s.atoms.border_contrast_low],e[0]=s.atoms.border_contrast_low,e[1]=o):o=e[1],e[2]!==t?(r=t({id:"3AuP5f"}),e[2]=t,e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.self_center],e[4]=a):a=e[4],e[5]!==n?(l=()=>n.navigate("StarterPackWizard"),e[5]=n,e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"vgdzLf"})}),d=(0,Ft.jsx)(Pr,{icon:CS,position:"right"}),e[7]=c,e[8]=d):(c=e[7],d=e[8]),e[9]!==r||e[10]!==l?(u=(0,Ft.jsxs)(Sr,{label:r,variant:"solid",color:"secondary",size:"small",style:a,onPress:l,children:[c,d]}),e[9]=r,e[10]=l,e[11]=u):u=e[11],e[12]!==o||e[13]!==u?(m=(0,Ft.jsx)(wo.default,{style:o,children:u}),e[12]=o,e[13]=u,e[14]=m):m=e[14],m}function zV(){const e=(0,i.c)(95),{_:t}=(0,ft.useLingui)(),s=(0,va.useNavigation)(),n=Ar(),o=Ar(),r=Ar(),a=ew(),[l,c]=(0,mt.useState)(!1);let d,u,m;e[0]!==s?(d=e=>{const{uri:t}=e,n=ou(t);n&&s.push("StarterPack",{name:n.name,rkey:n.rkey}),c(!1)},e[0]=s,e[1]=d):d=e[1],e[2]!==r||e[3]!==o?(u=e=>{ys.error("Failed to generate starter pack",{safeMessage:e}),c(!1),"NOT_ENOUGH_FOLLOWERS"===e.name?o.open():r.open()},e[2]=r,e[3]=o,e[4]=u):u=e[4],e[5]!==d||e[6]!==u?(m={onSuccess:d,onError:u},e[5]=d,e[6]=u,e[7]=m):m=e[7];const{mutate:h}=sk(m);let p;e[8]!==h?(p=()=>{c(!0),h()},e[8]=h,e[9]=p):p=e[9];const f=p;let g;e[10]!==n?(g=()=>{n.open()},e[10]=n,e[11]=g):g=e[11];const x=g;let _,y;e[12]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(ft.Trans,{id:"KDnS5B"},"confirm"),e[12]=_):_=e[12],e[13]!==x||e[14]!==a?(y=a(x,{instructions:[_]}),e[13]=x,e[14]=a,e[15]=y):y=e[15];const b=y;let j;e[16]!==s?(j=()=>{s.navigate("StarterPackWizard")},e[16]=s,e[17]=j):j=e[17];const v=j;let w,S;e[18]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(ft.Trans,{id:"KDnS5B"},"nav"),e[18]=w):w=e[18],e[19]!==v||e[20]!==a?(S=a(v,{instructions:[w]}),e[19]=v,e[20]=a,e[21]=S):S=e[21];const k=S;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe;return e[22]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.px_lg,kl.py_lg,kl.justify_between,kl.gap_lg,kl.shadow_lg,{marginTop:kl.border.borderWidth}],e[22]=C):C=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.gap_xs],e[23]=P):P=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg,{color:"white"}],children:(0,Ft.jsx)(ft.Trans,{id:"CD/DCp"})}),e[24]=T):T=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsxs)(wo.default,{style:P,children:[T,(0,Ft.jsx)(fr,{style:[kl.text_md,{color:"white"}],children:(0,Ft.jsx)(ft.Trans,{id:"aAdXV0"})})]}),e[25]=L):L=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.flex_row,kl.gap_md,{marginLeft:"auto"}],e[26]=A):A=e[26],e[27]!==t?(I=t({id:"zcyp9E"}),e[27]=t,e[28]=I):I=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(R={backgroundColor:"transparent"},e[29]=R):R=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(Cr,{style:{color:"white"},children:(0,Ft.jsx)(ft.Trans,{id:"YVfJEa"})}),e[30]=D):D=e[30],e[31]!==l?(F=l&&(0,Ft.jsx)(wv,{size:"md"}),e[31]=l,e[32]=F):F=e[32],e[33]!==l||e[34]!==I||e[35]!==F||e[36]!==b?(E=(0,Ft.jsxs)(Sr,{label:I,variant:"ghost",color:"primary",size:"small",disabled:l,onPress:b,style:R,children:[D,F]}),e[33]=l,e[34]=I,e[35]=F,e[36]=b,e[37]=E):E=e[37],e[38]!==t?(M=t({id:"3AuP5f"}),e[38]=t,e[39]=M):M=e[39],e[40]===Symbol.for("react.memo_cache_sentinel")?(B={backgroundColor:"white",borderColor:"white",width:100},O=[{backgroundColor:"#dfdfdf"}],e[40]=B,e[41]=O):(B=e[40],O=e[41]),e[42]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hYgDIe"})}),e[42]=z):z=e[42],e[43]!==l||e[44]!==M||e[45]!==k?(H=(0,Ft.jsx)(Sr,{label:M,variant:"ghost",color:"primary",size:"small",disabled:l,onPress:k,style:B,hoverStyle:O,children:z}),e[43]=l,e[44]=M,e[45]=k,e[46]=H):H=e[46],e[47]!==E||e[48]!==H?(N=(0,Ft.jsxs)(wo.default,{style:A,children:[E,H]}),e[47]=E,e[48]=H,e[49]=N):N=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(fx,{children:(0,Ft.jsx)(ft.Trans,{id:"f/pBtT"})}),e[50]=V):V=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsx)(gx,{children:(0,Ft.jsx)(ft.Trans,{id:"TtIdRW"})}),e[51]=q):q=e[51],e[52]!==t?(U=t({id:"pMBdo7"}),e[52]=t,e[53]=U):U=e[53],e[54]!==f||e[55]!==U?(W=(0,Ft.jsx)(yx,{color:"primary",cta:U,onPress:f}),e[54]=f,e[55]=U,e[56]=W):W=e[56],e[57]!==t?(Z=t({id:"XwrMb0"}),e[57]=t,e[58]=Z):Z=e[58],e[59]!==s?(Q=()=>{s.navigate("StarterPackWizard")},e[59]=s,e[60]=Q):Q=e[60],e[61]!==Z||e[62]!==Q?(K=(0,Ft.jsx)(yx,{color:"secondary",cta:Z,onPress:Q}),e[61]=Z,e[62]=Q,e[63]=K):K=e[63],e[64]!==W||e[65]!==K?($=(0,Ft.jsxs)(xx,{children:[W,K]}),e[64]=W,e[65]=K,e[66]=$):$=e[66],e[67]!==n||e[68]!==$?(G=(0,Ft.jsxs)(px,{control:n,children:[V,q,$]}),e[67]=n,e[68]=$,e[69]=G):G=e[69],e[70]!==t?(Y=t({id:"5yIPLp"}),e[70]=t,e[71]=Y):Y=e[71],e[72]!==t?(J=t({id:"x2MuKw"}),e[72]=t,e[73]=J):J=e[73],e[74]!==o||e[75]!==Y||e[76]!==J?(X=(0,Ft.jsx)(bx,{control:o,title:Y,description:J,onConfirm:HV,showCancel:!1}),e[74]=o,e[75]=Y,e[76]=J,e[77]=X):X=e[77],e[78]!==t?(ee=t({id:"5yIPLp"}),e[78]=t,e[79]=ee):ee=e[79],e[80]!==t?(te=t({id:"yo/HQv"}),e[80]=t,e[81]=te):te=e[81],e[82]!==t?(se=t({id:"6gRgw8"}),e[82]=t,e[83]=se):se=e[83],e[84]!==r||e[85]!==f||e[86]!==ee||e[87]!==te||e[88]!==se?(ne=(0,Ft.jsx)(bx,{control:r,title:ee,description:te,onConfirm:f,confirmButtonCta:se}),e[84]=r,e[85]=f,e[86]=ee,e[87]=te,e[88]=se,e[89]=ne):ne=e[89],e[90]!==N||e[91]!==G||e[92]!==X||e[93]!==ne?(oe=(0,Ft.jsxs)(FV,{style:C,children:[L,N,G,X,ne]}),e[90]=N,e[91]=G,e[92]=X,e[93]=ne,e[94]=oe):oe=e[94],oe}function HV(){}function NV(e){return e.starterPacks}function VV(){}function qV(){return{scrollToTop:VV}}function UV({children:e}){return e}function WV(e){const t=(0,i.c)(3);let s,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.pt_0],t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(_l,{testID:"profileScreen",style:s,children:(0,Ft.jsx)(ZV,Object.assign({},e))}),t[1]=e,t[2]=n):n=t[2],n}function ZV(e){const t=(0,i.c)(37),{route:s}=e,{_:n}=(0,ft.useLingui)(),{currentAccount:o}=xh(),r=(0,wd.useQueryClient)(),a="me"===s.params.name?o?.did:s.params.name,l=Op(),{data:c,error:d,refetch:u,isLoading:m}=XS(a);let h;t[0]!==c?(h={did:c},t[0]=c,t[1]=h):h=t[1];const{data:p,error:f,refetch:g,isLoading:x,isPlaceholderData:_}=ub(h);let y;t[2]!==u||t[3]!==g||t[4]!==d?(y=()=>{d?u():g()},t[2]=u,t[3]=g,t[4]=d,t[5]=y):y=t[5];const b=y;let j,v,w;t[6]!==a||t[7]!==d?(j=()=>{d&&"lulaoficial.bsky.social"===a&&J2("Profile",{name:"lula.com.br"})},v=[a,d],t[6]=a,t[7]=d,t[8]=j,t[9]=v):(j=t[8],v=t[9]),mt.useEffect(j,v),t[10]!==p?.viewer?.blockedBy||t[11]!==r||t[12]!==c?(w=()=>{c&&p?.viewer?.blockedBy&&Yx(r,c)},t[10]=p?.viewer?.blockedBy,t[11]=r,t[12]=c,t[13]=w):w=t[13];const S=p?.viewer?.blockedBy;let k,C,P;if(t[14]!==r||t[15]!==c||t[16]!==S?(k=[r,S,c],t[14]=r,t[15]=c,t[16]=S,t[17]=k):k=t[17],mt.useEffect(w,k),m||x){let e;return t[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(uV,{})}),t[18]=e):e=t[18],e}if(d||f){let e,s;t[19]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.flex_1],t[19]=e):e=t[19],t[20]!==n||t[21]!==f?(s=n(f?{id:"pAtylB"}:{id:"5yIPLp"}),t[20]=n,t[21]=f,t[22]=s):s=t[22];const o=d||f;let r,i;return t[23]!==o?(r=ds(o),t[23]=o,t[24]=r):r=t[24],t[25]!==b||t[26]!==r||t[27]!==s?(i=(0,Ft.jsx)(pw.SafeAreaView,{style:e,children:(0,Ft.jsx)(UD,{testID:"profileErrorScreen",title:s,message:r,onPressTryAgain:b,showHeader:!0})}),t[25]=b,t[26]=r,t[27]=s,t[28]=i):i=t[28],i}if(p&&l){const e=!!s.params.hideBackButton;let n;return t[29]!==_||t[30]!==l||t[31]!==p||t[32]!==e?(n=(0,Ft.jsx)(QV,{profile:p,moderationOpts:l,isPlaceholderProfile:_,hideBackButton:e}),t[29]=_,t[30]=l,t[31]=p,t[32]=e,t[33]=n):n=t[33],n}return t[34]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.flex_1],t[34]=C):C=t[34],t[35]!==b?(P=(0,Ft.jsx)(pw.SafeAreaView,{style:C,children:(0,Ft.jsx)(UD,{testID:"profileErrorScreen",title:"Oops!",message:"Something went wrong and we're not sure what.",onPressTryAgain:b,showHeader:!0})}),t[35]=b,t[36]=P):P=t[36],P}function QV({profile:e,isPlaceholderProfile:t,moderationOpts:s,hideBackButton:n}){const o=Ry(e),{hasSession:r,currentAccount:a}=xh(),l=Na(),{openComposer:c}=tw(),{data:d,error:u,isLoading:m}=wh({did:o.did,enabled:!!o.associated?.labeler}),[h,p]=mt.useState(0),{_:f}=(0,ft.useLingui)(),[g,x]=mt.useState(null),_=mt.useRef(null),y=mt.useRef(null),b=mt.useRef(null),j=mt.useRef(null),v=mt.useRef(null),w=mt.useRef(null),S=mt.useRef(null),k=mt.useRef(null),C=mt.useRef(null);Vz(function({handle:e,displayName:t}){return e?t?`${Qf(t)} (@${e})`:`@${e}`:""}(o));const P=o.description??"",T=""!==P,[L,A]=function(e){const t=(0,i.c)(9),s=bh(),[n,o]=mt.useState(e);let r;t[0]!==e?(r=()=>new Is.RichText({text:e}),t[0]=e,t[1]=r):r=t[1];const[a,l]=mt.useState(r),[c,d]=mt.useState(null);e!==n&&(o(e),l(new Is.RichText({text:e})),d(null));let u,m;t[2]!==s||t[3]!==e?(u=()=>{let t;t=!1;return async function(){const n=new Is.RichText({text:e});await n.detectFacets(s),t||d(n)}(),()=>{t=!0}},m=[e,s],t[2]=s,t[3]=e,t[4]=u,t[5]=m):(u=t[4],m=t[5]);mt.useEffect(u,m);const h=null===c,p=c??a;let f;t[6]!==h||t[7]!==p?(f=[p,h],t[6]=h,t[7]=p,t[8]=f):f=t[8];return f}(P),I=t||A,R=(0,mt.useMemo)((()=>(0,Is.moderateProfile)(o,s)),[o,s]),D=o.did===a?.did,F=!!o.associated?.labeler,E=F,M=r,B=!F,O=!F,z=D,H=o.associated?.feedgens||0,N=D||H>0,V=o.associated?.starterPacks||0,q=D||V>0,U=(o.associated?.lists||0)-V,W=r&&(D||U>0),Z=[E?f({id:"h8DugX"}):void 0,W&&F?f({id:"h16FyT"}):void 0,f({id:"+owNNn"}),M?f({id:"N8UzTV"}):void 0,B?f({id:"xYilR2"}):void 0,O?f({id:"RKuImK"}):void 0,z?f({id:"zZOZj7"}):void 0,N?f({id:"2DoBvq"}):void 0,q?f({id:"vKtclE"}):void 0,W&&!F?f({id:"h16FyT"}):void 0].filter(Boolean);let Q=0,K=null,$=null,G=null,Y=null,J=null,X=null,ee=null,te=null,se=null;E&&(K=Q++),$=Q++,M&&(G=Q++),B&&(Y=Q++),O&&(J=Q++),z&&(X=Q++),N&&(ee=Q++),q&&(te=Q++),W&&(se=Q++);const ne=(0,mt.useCallback)((e=>{e===K?C.current?.scrollToTop():e===$?_.current?.scrollToTop():e===G?y.current?.scrollToTop():e===Y?b.current?.scrollToTop():e===J?j.current?.scrollToTop():e===X?v.current?.scrollToTop():e===ee?w.current?.scrollToTop():e===te?k.current?.scrollToTop():e===se&&S.current?.scrollToTop()}),[K,$,G,Y,J,X,ee,se,te]);(0,va.useFocusEffect)(mt.useCallback((()=>(l(!1),Dt((()=>{ne(h)})))),[l,h,ne]));return(0,Ft.jsxs)(yI,{testID:"profileView",style:KV.container,screenDescription:f({id:"bbvfbr"}),modui:R.ui("profileView"),children:[(0,Ft.jsxs)(tV,{testID:"profilePager",isHeaderReady:!I,items:Z,onPageSelected:e=>{p(e)},onCurrentPageSelected:e=>{ne(e)},renderHeader:({setMinimumHeight:e})=>(0,Ft.jsx)(UV,{scrollViewTag:g,children:(0,Ft.jsx)(mV,{profile:o,labeler:d,descriptionRT:T?L:null,moderationOpts:s,hideBackButton:n,isPlaceholderProfile:I,setMinimumHeight:e})}),allowHeaderOverScroll:!0,children:[E?({headerHeight:e,isFocused:t,scrollElRef:n})=>(0,Ft.jsx)(RV,{ref:C,labelerInfo:d,labelerError:u,isLabelerLoading:m,moderationOpts:s,scrollElRef:n,headerHeight:e,isFocused:t,setScrollViewTag:x}):null,W&&o.associated?.labeler?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(XN,{ref:S,did:o.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:x}):null,({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(_V,{ref:_,feed:`author|${o.did}|posts_and_author_threads`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:o.did,setScrollViewTag:x}),M?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(_V,{ref:y,feed:`author|${o.did}|posts_with_replies`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:o.did,setScrollViewTag:x}):null,B?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(_V,{ref:b,feed:`author|${o.did}|posts_with_media`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:o.did,setScrollViewTag:x}):null,O?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(_V,{ref:j,feed:`author|${o.did}|posts_with_video`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:o.did,setScrollViewTag:x}):null,z?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(_V,{ref:v,feed:`likes|${o.did}`,headerHeight:e,isFocused:t,scrollElRef:s,ignoreFilterFor:o.did,setScrollViewTag:x}):null,N?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(QN,{ref:w,did:o.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:x}):null,q?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(BV,{ref:k,did:o.did,isMe:D,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:x}):null,W&&!o.associated?.labeler?({headerHeight:e,isFocused:t,scrollElRef:s})=>(0,Ft.jsx)(XN,{ref:S,did:o.did,scrollElRef:s,headerOffset:e,enabled:t,setScrollViewTag:x}):null]}),r&&(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:()=>{const e=o.handle===a?.handle||tu(o.handle)?void 0:o.handle;c({mention:e})},icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:oc.white}),accessibilityRole:"button",accessibilityLabel:f({id:"2B7HLH"}),accessibilityHint:""})]})}const KV=Gn.default.create({container:{flexDirection:"column",height:"100%",overflowAnchor:"none"},loading:{paddingVertical:10,paddingHorizontal:14},emptyState:{paddingVertical:40},loadingMoreFooter:{paddingVertical:20},endItem:{paddingTop:20,paddingBottom:30,color:sc.gray5,textAlign:"center"}});function $V(e){const t=(0,i.c)(12),{profile:s,noBorder:n,logContext:o}=e,r=void 0===o?"ProfileCard":o,a=ec(),l=Op();if(!l)return null;let c,d,u,m;return t[0]!==n||t[1]!==a?(c=!n&&[kl.border_t,a.atoms.border_contrast_low],t[0]=n,t[1]=a,t[2]=c):c=t[2],t[3]!==c?(d=[kl.py_md,kl.px_xl,c],t[3]=c,t[4]=d):d=t[4],t[5]!==r||t[6]!==l||t[7]!==s?(u=(0,Ft.jsx)(MC,{profile:s,moderationOpts:l,logContext:r}),t[5]=r,t[6]=l,t[7]=s,t[8]=u):u=t[8],t[9]!==d||t[10]!==u?(m=(0,Ft.jsx)(wo.default,{style:d,children:u}),t[9]=d,t[10]=u,t[11]=m):m=t[11],m}function GV({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e.actor,noBorder:0===t},e.actor.did)}function YV(e){return e.actor.did}function JV(e){const t=(0,i.c)(35),{uri:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),[r,a]=(0,mt.useState)(!1),{data:l,error:c,isLoading:d}=JS(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=ay(l?.uri),_=Boolean(c||g);let y;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(XV),t[0]=u.pages,t[1]=e):e=t[1],y=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],y=e}const b=y;let j;t[3]!==x?(j=async()=>{a(!0);try{await x()}catch(w){const t=w;ys.error("Failed to refresh likes",{message:t})}a(!1)},t[3]=x,t[4]=j):j=t[4];const v=j;let w;t[5]!==f||t[6]!==p||t[7]!==_||t[8]!==h?(w=async()=>{if(!h&&p&&!_)try{await f()}catch(k){const t=k;ys.error("Failed to load more likes",{message:t})}},t[5]=f,t[6]=p,t[7]=_,t[8]=h,t[9]=w):w=t[9];const S=w;if(b.length<1){const e=d||m;let s,o;t[10]!==n?(s=n({id:"LFwnn2"}),t[10]=n,t[11]=s):s=t[11],t[12]!==n?(o=n({id:"o6HS3Q"}),t[12]=n,t[13]=o):o=t[13];const r=c||g;let i,a;return t[14]!==r?(i=ds(r),t[14]=r,t[15]=i):i=t[15],t[16]!==_||t[17]!==e||t[18]!==s||t[19]!==o||t[20]!==i?(a=(0,Ft.jsx)(QH,{isLoading:e,isError:_,emptyType:"results",emptyTitle:s,emptyMessage:o,errorMessage:i,sideBorders:!1,topBorder:!1}),t[16]=_,t[17]=e,t[18]=s,t[19]=o,t[20]=i,t[21]=a):a=t[21],a}let k,C,P;return t[22]!==g?(k=ds(g),t[22]=g,t[23]=k):k=t[23],t[24]!==f||t[25]!==h||t[26]!==k?(C=(0,Ft.jsx)(WH,{isFetchingNextPage:h,error:k,onRetry:f}),t[24]=f,t[25]=h,t[26]=k,t[27]=C):C=t[27],t[28]!==o||t[29]!==r||t[30]!==b||t[31]!==S||t[32]!==v||t[33]!==C?(P=(0,Ft.jsx)(MF,{data:b,renderItem:GV,keyExtractor:YV,refreshing:r,onRefresh:v,onEndReached:S,onEndReachedThreshold:4,ListFooterComponent:C,desktopFixedHeight:!0,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[28]=o,t[29]=r,t[30]=b,t[31]=S,t[32]=v,t[33]=C,t[34]=P):P=t[34],P}function XV(e){return e.likes}const eq=e=>{const t=(0,i.c)(14),{route:s}=e,n=Na(),{name:o,rkey:r}=s.params;let a;t[0]!==o||t[1]!==r?(a=uu(o,"app.bsky.feed.generator",r),t[0]=o,t[1]=r,t[2]=a):a=t[2];const l=a,{_:c}=(0,ft.useLingui)();let d,u,m,h,p;return t[3]!==n?(d=()=>{n(!1)},t[3]=n,t[4]=d):d=t[4],(0,va.useFocusEffect)(d),t[5]!==c?(u=c({id:"d2RphL"}),t[5]=c,t[6]=u):u=t[6],t[7]!==u?(m=(0,Ft.jsx)(YP,{title:u}),t[7]=u,t[8]=m):m=t[8],t[9]!==l?(h=(0,Ft.jsx)(JV,{uri:l}),t[9]=l,t[10]=h):h=t[10],t[11]!==m||t[12]!==h?(p=(0,Ft.jsx)(_l,{testID:"postLikedByScreen",children:(0,Ft.jsxs)(KP,{sideBorders:!0,children:[m,h]})}),t[11]=m,t[12]=h,t[13]=p):p=t[13],p},tq={_reactKey:"__loading__"},sq={_reactKey:"__empty__"},nq={_reactKey:"__error__"},oq={_reactKey:"__load_more_error__"};function rq(e){const t=(0,i.c)(55),{list:s,style:n,scrollElRef:o,onScrolledDownChange:r,onPressTryAgain:a,renderHeader:l,renderEmptyState:c,testID:d,headerOffset:u,desktopFixedHeightOffset:m}=e,h=void 0===u?0:u,p=ec(),{_:f}=(0,ft.useLingui)(),[g,x]=mt.useState(!1),{openModal:_}=Zd(),{currentAccount:y}=xh(),b=Op(),{data:j,isFetching:v,isFetched:w,isError:S,error:k,refetch:C,fetchNextPage:P,hasNextPage:T,isFetchingNextPage:L}=function(e,t){const s=(0,i.c)(7),n=void 0===t?q_:t,o=bh(),r=e??"";let a,l;return s[0]!==r?(a=Z_(r),s[0]=r,s[1]=a):a=s[1],s[2]!==o||s[3]!==n||s[4]!==a||s[5]!==e?(l={staleTime:Ld.MINUTES.ONE,queryKey:a,async queryFn(t){const{pageParam:s}=t;return(await o.app.bsky.graph.getList({list:e,limit:n,cursor:s})).data},initialPageParam:void 0,getNextPageParam:K_,enabled:Boolean(e)},s[2]=o,s[3]=n,s[4]=a,s[5]=e,s[6]=l):l=s[6],(0,Dp.useInfiniteQuery)(l)}(s),A=!v&&!j?.pages[0].items.length,I=y&&j?.pages[0].list.creator.did===y.did;let R,D;if(t[0]!==j||t[1]!==A||t[2]!==S||t[3]!==w||t[4]!==v){if(D=[],w){if(A&&S&&(D=D.concat([nq])),A)D=D.concat([sq]);else if(j)for(const e of j.pages)D=D.concat(e.items);!A&&S&&(D=D.concat([oq]))}else if(v){let e;if(t[6]!==D){let s;t[8]===Symbol.for("react.memo_cache_sentinel")?(s=[tq],t[8]=s):s=t[8],e=D.concat(s),t[6]=D,t[7]=e}else e=t[7];D=e}t[0]=j,t[1]=A,t[2]=S,t[3]=w,t[4]=v,t[5]=D}else D=t[5];R=D;const F=R;let E;t[9]!==C?(E=async()=>{x(!0);try{await C()}catch(B){const t=B;ys.error("Failed to refresh lists",{message:t})}x(!1)},t[9]=C,t[10]=E):E=t[10];const M=E;let B;t[11]!==P||t[12]!==T||t[13]!==S||t[14]!==v?(B=async()=>{if(!v&&T&&!S)try{await P()}catch(z){const t=z;ys.error("Failed to load more lists",{message:t})}},t[11]=P,t[12]=T,t[13]=S,t[14]=v,t[15]=B):B=t[15];const O=B;let z;t[16]!==P?(z=()=>{P()},t[16]=P,t[17]=z):z=t[17];const H=z;let N;t[18]!==_?(N=e=>{_({name:"user-add-remove-lists",subject:e.did,displayName:e.displayName||e.handle,handle:e.handle})},t[18]=_,t[19]=N):N=t[19];const V=N;let q;t[20]!==f||t[21]!==k||t[22]!==I||t[23]!==b||t[24]!==V||t[25]!==H||t[26]!==a||t[27]!==c||t[28]!==p?(q=e=>{const{item:t}=e;if(t===sq)return c();if(t===nq)return(0,Ft.jsx)(Rx,{message:ds(k),onPressTryAgain:a});if(t===oq)return(0,Ft.jsx)(OF,{label:f({id:"32IlWM"}),onPress:H});if(t===tq)return(0,Ft.jsx)(TT,{});const s=t.subject;return b?(0,Ft.jsx)(wo.default,{style:[kl.py_md,kl.px_xl,kl.border_t,p.atoms.border_contrast_low],children:(0,Ft.jsx)(HC,{profile:s,children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:b}),(0,Ft.jsx)(qC,{profile:s,moderationOpts:b}),I&&(0,Ft.jsx)(Sr,{testID:`user-${s.handle}-editBtn`,label:f({id:"Yqmf1T"}),onPress:()=>V(s),size:"small",variant:"solid",color:"secondary",children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Yqmf1T"})})})]}),(0,Ft.jsx)(YC,{profile:s,moderationOpts:b}),(0,Ft.jsx)(QC,{profile:s})]})})}):null},t[20]=f,t[21]=k,t[22]=I,t[23]=b,t[24]=V,t[25]=H,t[26]=a,t[27]=c,t[28]=p,t[29]=q):q=t[29];const U=q;let W;t[30]!==k||t[31]!==P||t[32]!==T||t[33]!==h||t[34]!==A||t[35]!==L?(W=()=>A?null:(0,Ft.jsx)(WH,{hasNextPage:T,error:ds(k),isFetchingNextPage:L,onRetry:P,height:180+h}),t[30]=k,t[31]=P,t[32]=T,t[33]=h,t[34]=A,t[35]=L,t[36]=W):W=t[36];const Z=W,Q=d?`${d}-flatlist`:void 0,K=A?void 0:l;let $;t[37]===Symbol.for("react.memo_cache_sentinel")?($={minHeight:1.5*tc.default.get("window").height},t[37]=$):$=t[37];const G=m||!0;let Y,J;return t[38]!==h||t[39]!==g||t[40]!==F||t[41]!==O||t[42]!==M||t[43]!==r||t[44]!==Z||t[45]!==U||t[46]!==o||t[47]!==K||t[48]!==G||t[49]!==Q?(Y=(0,Ft.jsx)(MF,{testID:Q,ref:o,data:F,keyExtractor:iq,renderItem:U,ListHeaderComponent:K,ListFooterComponent:Z,refreshing:g,onRefresh:M,headerOffset:h,contentContainerStyle:$,onScrolledDownChange:r,onEndReached:O,onEndReachedThreshold:.6,removeClippedSubviews:!0,desktopFixedHeight:G}),t[38]=h,t[39]=g,t[40]=F,t[41]=O,t[42]=M,t[43]=r,t[44]=Z,t[45]=U,t[46]=o,t[47]=K,t[48]=G,t[49]=Q,t[50]=Y):Y=t[50],t[51]!==n||t[52]!==Y||t[53]!==d?(J=(0,Ft.jsx)(wo.default,{testID:d,style:n,children:Y}),t[51]=n,t[52]=Y,t[53]=d,t[54]=J):J=t[54],J}function iq(e){return e.subject?.did||e._reactKey}const aq={code:"function ProfileSubpageHeaderTsx1(){const{measureHandle,aviHandle,runOnJS,_openLightbox,avatar}=this.__closure;const rect=measureHandle(aviHandle);runOnJS(_openLightbox)(avatar,rect);}"};function lq(e){const t=(0,i.c)(51),{isLoading:s,href:n,title:o,avatar:r,isOwner:a,purpose:l,creator:c,avatarType:d,children:u}=e,m=(0,va.useNavigation)(),{_:h}=(0,ft.useLingui)(),{isMobile:p}=jx(),{openLightbox:f}=Hd(),g=mx("default");let x;t[0]!==m?(x=m.canGoBack(),t[0]=m,t[1]=x):x=t[1];const _=x,y=fA();let b;t[2]!==f?(b=(e,t)=>{f({images:[{uri:e,thumbUri:e,thumbRect:t,dimensions:{height:1e3,width:1e3},thumbDimensions:null,type:"rect-avi"}],index:0})},t[2]=f,t[3]=b):b=t[3];const j=b;let v;t[4]!==j||t[5]!==r||t[6]!==y?(v=()=>{if(r){const e=y.current;(0,ko.runOnUI)(function(){const t=function(){const t=_A(e);(0,ko.runOnJS)(j)(r,t)};return t.__closure={measureHandle:_A,aviHandle:e,runOnJS:ko.runOnJS,_openLightbox:j,avatar:r},t.__workletHash=0xa145d19e686,t.__initData=aq,t}())()}},t[4]=j,t[5]=r,t[6]=y,t[7]=v):v=t[7];const w=v;let S,k,C;t[8]!==_?(S=_?(0,Ft.jsx)(dl,{}):(0,Ft.jsx)(ul,{}),t[8]=_,t[9]=S):S=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(ll,{}),t[10]=k):k=t[10],t[11]!==u||t[12]!==S?(C=(0,Ft.jsxs)(il,{children:[S,k,u]}),t[11]=u,t[12]=S,t[13]=C):C=t[13];const P=p?12:14;let T,L,A,I,R,D,F,E,M,B,O,z;return t[14]!==P?(T={flexDirection:"row",alignItems:"flex-start",gap:10,paddingTop:14,paddingBottom:14,paddingHorizontal:P},t[14]=P,t[15]=T):T=t[15],t[16]!==h?(L=h({id:"47jzzd"}),t[16]=h,t[17]=L):L=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(A={width:58},t[18]=A):A=t[18],t[19]!==r||t[20]!==d?(I="starter-pack"===d?(0,Ft.jsx)(jk,{width:58,gradient:"sky"}):(0,Ft.jsx)(mP,{type:d,size:58,avatar:r}),t[19]=r,t[20]=d,t[21]=I):I=t[21],t[22]!==w||t[23]!==I||t[24]!==L?(R=(0,Ft.jsx)(tr.default,{testID:"headerAviButton",onPress:w,accessibilityRole:"image",accessibilityLabel:L,accessibilityHint:"",style:A,children:I}),t[22]=w,t[23]=I,t[24]=L,t[25]=R):R=t[25],t[26]!==y||t[27]!==R?(D=(0,Ft.jsx)(wo.default,{ref:y,collapsable:!1,children:R}),t[26]=y,t[27]=R,t[28]=D):D=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(F={flex:1,gap:4},t[29]=F):F=t[29],t[30]!==n||t[31]!==s||t[32]!==g||t[33]!==o?(E=s?(0,Ft.jsx)(vT,{width:200,height:32,style:{marginVertical:6}}):(0,Ft.jsx)(NP,{testID:"headerTitle",type:"title-xl",href:n,style:[g.text,{fontWeight:"600"}],text:o||"",onPress:Rt,numberOfLines:4}),t[30]=n,t[31]=s,t[32]=g,t[33]=o,t[34]=E):E=t[34],t[35]!==c||t[36]!==s||t[37]!==a||t[38]!==g||t[39]!==l?(M=s||!c?(0,Ft.jsx)(vT,{width:50,height:8}):(0,Ft.jsx)(Tx,{type:"lg",style:[g.textLight],numberOfLines:1,children:"app.bsky.graph.defs#curatelist"===l?a?(0,Ft.jsx)(ft.Trans,{id:"pHvply"}):(0,Ft.jsx)(ft.Trans,{id:"iqM1lC",components:{0:(0,Ft.jsx)(NP,{text:su(c.handle||"","@"),href:cS(c),style:g.textLight})}}):"app.bsky.graph.defs#modlist"===l?a?(0,Ft.jsx)(ft.Trans,{id:"q1sOfA"}):(0,Ft.jsx)(ft.Trans,{id:"91w5Hh",components:{0:(0,Ft.jsx)(NP,{text:su(c.handle||"","@"),href:cS(c),style:g.textLight})}}):"app.bsky.graph.defs#referencelist"===l?a?(0,Ft.jsx)(ft.Trans,{id:"kjPWUY"}):(0,Ft.jsx)(ft.Trans,{id:"ewY+uL",components:{0:(0,Ft.jsx)(NP,{text:su(c.handle||"","@"),href:cS(c),style:g.textLight})}}):null}),t[35]=c,t[36]=s,t[37]=a,t[38]=g,t[39]=l,t[40]=M):M=t[40],t[41]!==E||t[42]!==M?(B=(0,Ft.jsxs)(wo.default,{style:F,children:[E,M]}),t[41]=E,t[42]=M,t[43]=B):B=t[43],t[44]!==D||t[45]!==B||t[46]!==T?(O=(0,Ft.jsxs)(wo.default,{style:T,children:[D,B]}),t[44]=D,t[45]=B,t[46]=T,t[47]=O):O=t[47],t[48]!==O||t[49]!==C?(z=(0,Ft.jsxs)(Ft.Fragment,{children:[C,O]}),t[48]=O,t[49]=C,t[50]=z):z=t[50],z}const cq=hC.Root,dq=(hC.Content,e=>{const t=(0,i.c)(8),s=dc(),[n,o]=mt.useState(!1),r="dark"===s.colorScheme?"#fff1":"#0001";let a,l,c,d;return t[0]!==r||t[1]!==n?(a=Gn.default.flatten([gq.item,n&&{backgroundColor:r}]),t[0]=r,t[1]=n,t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=()=>{o(!0)},c=()=>{o(!1)},t[3]=l,t[4]=c):(l=t[3],c=t[4]),t[5]!==e||t[6]!==a?(d=(0,Ft.jsx)(hC.Item,Object.assign({className:"nativeDropdown-item"},e,{style:a,onFocus:l,onBlur:c})),t[5]=e,t[6]=a,t[7]=d):d=t[7],d});function uq(e){const t=(0,i.c)(17),{items:s,children:n,testID:o,accessibilityLabel:r,accessibilityHint:a,triggerStyle:l}=e,[c,d]=mt.useState(!1),u=mt.useRef(null),m=mt.useRef(null);let h,p,f,g,x,_,y;return t[0]!==c?(h=()=>{if(!c)return;const e=function(e){const t=e.target;c&&t&&u.current&&m.current&&(t===u.current||u.current.contains(t)||t===m.current||m.current.contains(t)||(e.preventDefault(),e.stopPropagation(),d(!1)))},t=function(e){"Escape"===e.key&&c&&d(!1)};return document.addEventListener("click",e,!0),window.addEventListener("keydown",t,!0),()=>{document.removeEventListener("click",e,!0),window.removeEventListener("keydown",t,!0)}},p=[c,d],t[0]=c,t[1]=h,t[2]=p):(h=t[1],p=t[2]),mt.useEffect(h,p),t[3]===Symbol.for("react.memo_cache_sentinel")?(f=e=>d(e),t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=()=>{window.event instanceof KeyboardEvent||d(mq)},t[4]=g):g=t[4],t[5]!==a||t[6]!==r||t[7]!==n||t[8]!==o||t[9]!==l?(x=(0,Ft.jsx)(hC.Trigger,{asChild:!0,children:(0,Ft.jsx)(tr.default,{ref:u,testID:o,accessibilityRole:"button",accessibilityLabel:r,accessibilityHint:a,onPointerDown:hq,onPress:g,hitSlop:vi,style:l,children:n})}),t[5]=a,t[6]=r,t[7]=n,t[8]=o,t[9]=l,t[10]=x):x=t[10],t[11]!==s?(_=(0,Ft.jsx)(hC.Portal,{children:(0,Ft.jsx)(pq,{items:s,menuRef:m})}),t[11]=s,t[12]=_):_=t[12],t[13]!==c||t[14]!==x||t[15]!==_?(y=(0,Ft.jsxs)(cq,{open:c,onOpenChange:f,children:[x,_]}),t[13]=c,t[14]=x,t[15]=_,t[16]=y):y=t[16],y}function mq(e){return!e}function hq(e){e.preventDefault()}function pq(e){const t=(0,i.c)(11),{items:s,menuRef:n}=e,o=mx("default"),r=dc(),a="dark"===r.colorScheme?o.btn:o.view,{borderColor:l}="dark"===r.colorScheme?o.borderDark:o.border;let c;t[0]!==a?(c=Gn.default.flatten([gq.content,a]),t[0]=a,t[1]=c):c=t[1];const d=c;let u,m;return t[2]!==s||t[3]!==o.colors||t[4]!==o.text||t[5]!==l?(u=s.map(((e,t)=>"separator"===e.label?(0,Ft.jsx)(hC.Separator,{style:Gn.default.flatten([gq.separator,{backgroundColor:l}])},fq(e.label,t,e.testID)):t>1&&"separator"===s[t-1].label?(0,Ft.jsx)(hC.Group,{children:(0,Ft.jsxs)(dq,{onSelect:e.onPress,children:[(0,Ft.jsx)(ur.default,{selectable:!1,style:[o.text,gq.itemTitle],children:e.label}),e.icon&&(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:e.icon.web,size:20,color:o.colors.textLight})]},fq(e.label,t,e.testID))},fq(e.label,t,e.testID)):(0,Ft.jsxs)(dq,{onSelect:e.onPress,children:[(0,Ft.jsx)(ur.default,{selectable:!1,style:[o.text,gq.itemTitle],children:e.label}),e.icon&&(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:e.icon.web,size:20,color:o.colors.textLight})]},fq(e.label,t,e.testID)))),t[2]=s,t[3]=o.colors,t[4]=o.text,t[5]=l,t[6]=u):u=t[6],t[7]!==n||t[8]!==d||t[9]!==u?(m=(0,Ft.jsx)(hC.Content,{ref:n,style:d,loop:!0,children:u}),t[7]=n,t[8]=d,t[9]=u,t[10]=m):m=t[10],m}const fq=(e,t,s)=>s||`${e}_${t}`,gq=Gn.default.create({separator:{height:1,marginTop:4,marginBottom:4},content:{backgroundColor:"#f0f0f0",borderRadius:8,paddingTop:4,paddingBottom:4,paddingLeft:4,paddingRight:4,marginTop:6,boxShadow:"rgba(0, 0, 0, 0.3) 0px 5px 20px"},item:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",columnGap:20,cursor:"pointer",paddingTop:8,paddingBottom:8,paddingLeft:12,paddingRight:12,borderRadius:8,fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Liberation Sans", Helvetica, Arial, sans-serif',outline:0,border:0},itemTitle:{fontSize:16,fontWeight:"600",paddingRight:10}});function xq(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(wo.default,{style:oc.p20,children:(0,Ft.jsx)(Fx.default,{size:"large"})})}),e[0]=t):t=e[0],t}function _q({list:e,preferences:t}){const{_:s}=(0,ft.useLingui)(),n=ec(),{currentAccount:o}=xh(),{gtMobile:r}=ql(),i=o?.did===e.creator.did,a=qH(),l=(0,wd.useQueryClient)(),c=e.purpose===Is.AppBskyGraphDefs.MODLIST,[d,u]=mt.useState(!1),m=Xw(),h=Jw(),{mutateAsync:p}=Nh(),{setIsContentVisible:f}=vR(),g=t.savedFeeds.find((t=>t.value===e.uri)),x=async()=>{if(g)try{await p(g),Zu(s({id:"uymP/+"}))}catch(e){ys.error("Failed to remove list from saved feeds",{message:e}),Zu(s({id:"zghcp1"}))}finally{u(!1)}};return(0,Ft.jsxs)(KP,{style:[kl.flex_1,kl.align_center,kl.gap_5xl,!r&&kl.justify_between,n.atoms.border_contrast_low,{paddingTop:175,paddingBottom:110}],sideBorders:!0,children:[(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.align_center,kl.gap_lg],children:[(0,Ft.jsx)(TS,{style:{color:n.atoms.text_contrast_medium.color},height:42,width:42}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kl.align_center],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_3xl],children:e.creator.viewer?.blocking||e.creator.viewer?.blockedBy?(0,Ft.jsx)(ft.Trans,{id:"1CeoQP"}):(0,Ft.jsx)(ft.Trans,{id:"CBZUm8"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.text_center,kl.px_md,n.atoms.text_contrast_high,{lineHeight:1.4}],children:e.creator.viewer?.blocking||e.creator.viewer?.blockedBy?(0,Ft.jsx)(ft.Trans,{id:"FIU6Pm"}):i?(0,Ft.jsx)(ft.Trans,{id:"BKWeBU"}):(0,Ft.jsx)(ft.Trans,{id:"tBlmFu",values:{0:su(e.creator.handle,"@")},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold]})}})})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_md,r?{width:350}:[kl.w_full,kl.px_lg]],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[g?(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:"large",label:s({id:"KhoznC"}),onPress:x,disabled:d,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"KhoznC"})}),d?(0,Ft.jsx)(Pr,{icon:wv,position:"right"}):null]}):null,i?(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"large",label:s({id:"3UFzY7"}),onPress:()=>f(!0),disabled:d,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"aWAdCb"})})}):e.viewer?.muted||e.viewer?.blocked?(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:"large",label:s({id:"hBI+vy"}),onPress:()=>{c?(async()=>{if(u(!0),e.viewer?.muted)try{await h.mutateAsync({uri:e.uri,mute:!1})}catch(t){return u(!1),ys.error("Failed to unmute list",{message:t}),void Zu(s({id:"zghcp1"}))}if(e.viewer?.blocked)try{await m.mutateAsync({uri:e.uri,block:!1})}catch(n){return u(!1),ys.error("Failed to unblock list",{message:n}),void Zu(s({id:"zghcp1"}))}l.invalidateQueries({queryKey:[Zw]}),Zu(s({id:"OHHMDK"})),u(!1)})():x()},disabled:d,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hBI+vy"})}),d?(0,Ft.jsx)(Pr,{icon:wv,position:"right"}):null]}):null]}),(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",label:s({id:"/lgEIe"}),onPress:a,size:"large",disabled:d,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"})})})]})]})}const yq=1e3,bq=100,jq=()=>["list-memberships"];function vq(){const e=(0,i.c)(4),{currentAccount:t}=xh(),s=bh();let n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=jq(),e[0]=n):n=e[0],e[1]!==s||e[2]!==t?(o={staleTime:Ld.MINUTES.FIVE,queryKey:n,async queryFn(){if(!t)return[];let e,n=[];for(let o=0;o<yq;o++){const o=await s.app.bsky.graph.listitem.list({repo:t.did,limit:bq,cursor:e});if(n=n.concat(o.records.map(wq)),e=o.cursor,!e)break}return n}},e[1]=s,e[2]=t,e[3]=o):o=e[3],(0,vd.useQuery)(o)}function wq(e){return{membershipUri:e.uri,listUri:e.value.list,actorDid:e.value.subject}}function Sq(e,t,s){if(!e)return;const n=e.find((e=>e.listUri===t&&e.actorDid===s));return!!n&&n.membershipUri}function kq(e){const t=(0,i.c)(12);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{onSuccess:n,onError:o}=s,{currentAccount:r}=xh(),a=bh(),l=(0,wd.useQueryClient)();let c,d,u;return t[2]!==a||t[3]!==r?(c=async e=>{const{listUri:t,actorDid:s}=e;if(!r)throw new Error("Not signed in");return await a.app.bsky.graph.listitem.create({repo:r.did},{subject:s,list:t,createdAt:(new Date).toISOString()})},t[2]=a,t[3]=r,t[4]=c):c=t[4],t[5]!==n||t[6]!==l?(d=(e,t)=>{let s=l.getQueryData(jq());s&&(s=s.filter((e=>!(e.actorDid===t.actorDid&&e.listUri===t.listUri))).concat([Object.assign({},t,{membershipUri:e.uri})]),l.setQueryData(jq(),s)),setTimeout((()=>{l.invalidateQueries({queryKey:Z_(t.listUri)})}),1e3),n?.(e)},t[5]=n,t[6]=l,t[7]=d):d=t[7],t[8]!==o||t[9]!==c||t[10]!==d?(u={mutationFn:c,onSuccess:d,onError:o},t[8]=o,t[9]=c,t[10]=d,t[11]=u):u=t[11],(0,Sd.useMutation)(u)}function Cq(e){const t=(0,i.c)(12);let s;t[0]!==e?(s=void 0===e?{}:e,t[0]=e,t[1]=s):s=t[1];const{onSuccess:n,onError:o}=s,{currentAccount:r}=xh(),a=bh(),l=(0,wd.useQueryClient)();let c,d,u;return t[2]!==a||t[3]!==r?(c=async e=>{const{membershipUri:t}=e;if(!r)throw new Error("Not signed in");const s=new Is.AtUri(t);await a.app.bsky.graph.listitem.delete({repo:r.did,rkey:s.rkey})},t[2]=a,t[3]=r,t[4]=c):c=t[4],t[5]!==n||t[6]!==l?(d=(e,t)=>{let s=l.getQueryData(jq());s&&(s=s.filter((e=>!(e.actorDid===t.actorDid&&e.listUri===t.listUri))),l.setQueryData(jq(),s)),setTimeout((()=>{l.invalidateQueries({queryKey:Z_(t.listUri)})}),1e3),n?.(e)},t[5]=n,t[6]=l,t[7]=d):d=t[7],t[8]!==o||t[9]!==c||t[10]!==d?(u={mutationFn:c,onSuccess:d,onError:o},t[8]=o,t[9]=c,t[10]=d,t[11]=u):u=t[11],(0,Sd.useMutation)(u)}function Pq(e){const t=(0,i.c)(7),{control:s,list:n,onChange:o}=e;let r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(ha,{}),t[0]=r):r=t[0],t[1]!==n||t[2]!==o?(a=(0,Ft.jsx)(Tq,{list:n,onChange:o}),t[1]=n,t[2]=o,t[3]=a):a=t[3],t[4]!==s||t[5]!==a?(l=(0,Ft.jsxs)(aa,{control:s,testID:"listAddRemoveUsersDialog",children:[r,a]}),t[4]=s,t[5]=a,t[6]=l):l=t[6],l}function Tq(e){const t=(0,i.c)(10),{list:s,onChange:n}=e,{_:o}=(0,ft.useLingui)(),r=Op(),{data:a}=vq();let l;t[0]!==s||t[1]!==a||t[2]!==r||t[3]!==n?(l=e=>(0,Ft.jsx)(Lq,{profile:e.profile,onChange:n,memberships:a,list:s,moderationOpts:r}),t[0]=s,t[1]=a,t[2]=r,t[3]=n,t[4]=l):l=t[4];const c=l;let d,u;return t[5]!==o?(d=o({id:"DKUfUF"}),t[5]=o,t[6]=d):d=t[6],t[7]!==c||t[8]!==d?(u=(0,Ft.jsx)($B,{title:d,renderProfileCard:c}),t[7]=c,t[8]=d,t[9]=u):u=t[9],u}function Lq(e){const t=(0,i.c)(40),{profile:s,list:n,memberships:o,onChange:r,moderationOpts:a}=e,{_:l}=(0,ft.useLingui)();let c,d;t[0]!==n.uri||t[1]!==o||t[2]!==s.did?(d=Sq(o,n.uri,s.did),t[0]=n.uri,t[1]=o,t[2]=s.did,t[3]=d):d=t[3],c=d;const u=c;let m;t[4]!==l||t[5]!==r||t[6]!==s?(m={onSuccess:()=>{Zu(l({id:"GluCXm"})),r?.("add",s)},onError:Iq},t[4]=l,t[5]=r,t[6]=s,t[7]=m):m=t[7];const{mutate:h,isPending:p}=kq(m);let f;t[8]!==l||t[9]!==r||t[10]!==s?(f={onSuccess:()=>{Zu(l({id:"Obm5+c"})),r?.("remove",s)},onError:Aq},t[8]=l,t[9]=r,t[10]=s,t[11]=f):f=t[11];const{mutate:g,isPending:x}=Cq(f),_=p||x;let y;t[12]!==n.uri||t[13]!==h||t[14]!==g||t[15]!==u||t[16]!==s.did?(y=()=>{"undefined"!==typeof u&&(!1===u?h({listUri:n.uri,actorDid:s.did}):g({listUri:n.uri,actorDid:s.did,membershipUri:u}))},t[12]=n.uri,t[13]=h,t[14]=g,t[15]=u,t[16]=s.did,t[17]=y):y=t[17];const b=y;if(!a)return null;let j,v,w,S,k,C,P,T;return t[18]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.flex_1,kl.py_sm,kl.px_lg],t[18]=j):j=t[18],t[19]!==a||t[20]!==s?(v=(0,Ft.jsx)(NC,{profile:s,moderationOpts:a}),t[19]=a,t[20]=s,t[21]=v):v=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.flex_1],t[22]=w):w=t[22],t[23]!==a||t[24]!==s?(S=(0,Ft.jsx)(UC,{profile:s,moderationOpts:a}),t[23]=a,t[24]=s,t[25]=S):S=t[25],t[26]!==s?(k=(0,Ft.jsx)(WC,{profile:s}),t[26]=s,t[27]=k):k=t[27],t[28]!==k||t[29]!==S?(C=(0,Ft.jsxs)(wo.default,{style:w,children:[S,k]}),t[28]=k,t[29]=S,t[30]=C):C=t[30],t[31]!==l||t[32]!==_||t[33]!==u||t[34]!==b?(P=void 0!==u&&(0,Ft.jsx)(Sr,{label:l(!1===u?{id:"j57DK5"}:{id:"3snmy8"}),onPress:b,disabled:_,size:"small",variant:"solid",color:"secondary",children:_?(0,Ft.jsx)(Pr,{icon:wv}):(0,Ft.jsx)(Cr,{children:!1===u?(0,Ft.jsx)(ft.Trans,{id:"m16xKo"}):(0,Ft.jsx)(ft.Trans,{id:"t/YqKh"})})}),t[31]=l,t[32]=_,t[33]=u,t[34]=b,t[35]=P):P=t[35],t[36]!==C||t[37]!==P||t[38]!==v?(T=(0,Ft.jsx)(wo.default,{style:j,children:(0,Ft.jsxs)(zC,{children:[v,C,P]})}),t[36]=C,t[37]=P,t[38]=v,t[39]=T):T=t[39],T}function Aq(e){return Zu(ds(e),"xmark")}function Iq(e){return Zu(ds(e),"xmark")}function Rq(e){const t=(0,i.c)(2);let s;return t[0]!==e?(s=(0,Ft.jsx)(_l,{testID:"profileListScreen",children:(0,Ft.jsx)(Dq,Object.assign({},e))}),t[0]=e,t[1]=s):s=t[1],s}function Dq(e){const t=(0,i.c)(18),{_:s}=(0,ft.useLingui)(),{name:n,rkey:o}=e.route.params;let r;t[0]!==n||t[1]!==o?(r=Is.AtUri.make(n,"app.bsky.graph.list",o).toString(),t[0]=n,t[1]=o,t[2]=r):r=t[2];const{data:a,error:l}=JS(r),{data:c}=Fh(),{data:d,error:u}=function(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=Qw(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o||t[4]!==e?(r={staleTime:Ld.MINUTES.ONE,queryKey:o,async queryFn(){if(!e)throw new Error("URI not provided");return(await s.app.bsky.graph.getList({list:e,limit:1})).data.list},enabled:!!e},t[2]=s,t[3]=o,t[4]=e,t[5]=r):r=t[5],(0,vd.useQuery)(r)}(a?.uri),m=Op();if(l){let e,o;return t[3]!==s||t[4]!==n?(e=s({id:"AHBzub",values:{handleOrDid:n}}),t[3]=s,t[4]=n,t[5]=e):e=t[5],t[6]!==e?(o=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(Oq,{error:e})}),t[6]=e,t[7]=o):o=t[7],o}if(u){let e,s;return t[8]!==u?(e=ds(u),t[8]=u,t[9]=e):e=t[9],t[10]!==e?(s=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(Oq,{error:e})}),t[10]=e,t[11]=s):s=t[11],s}let h;return t[12]!==d||t[13]!==m||t[14]!==c||t[15]!==e||t[16]!==a?(h=a&&d&&m&&c?(0,Ft.jsx)(Fq,Object.assign({},e,{uri:a.uri,list:d,moderationOpts:m,preferences:c})):(0,Ft.jsx)(xq,{}),t[12]=d,t[13]=m,t[14]=c,t[15]=e,t[16]=a,t[17]=h):h=t[17],h}function Fq({route:e,uri:t,list:s,moderationOpts:n,preferences:o}){const{_:r}=(0,ft.useLingui)(),i=(0,wd.useQueryClient)(),{openComposer:a}=tw(),l=Na(),{currentAccount:c}=xh(),{rkey:d}=e.params,u=mt.useRef(null),m=mt.useRef(null),h=s.purpose===Is.AppBskyGraphDefs.CURATELIST,p=(0,va.useIsFocused)(),f=-1!==s.labels?.findIndex((e=>"!hide"===e.val)),g=c?.did===s.creator.did,x=(0,ko.useAnimatedRef)(),_=Ar(),y=[r({id:"+owNNn"}),r({id:"1wdjme"})],b=mt.useMemo((()=>(0,Is.moderateUserList)(s,n)),[s,n]);Vz(f?r({id:"6kYfCl"}):s.name),(0,va.useFocusEffect)((0,mt.useCallback)((()=>{l(!1)}),[l]));const j=(0,mt.useCallback)((()=>{h&&Df(i,Nx(`list|${s.uri}`))}),[s.uri,h,i]),v=mt.useCallback((e=>{0===e?u.current?.scrollToTop():1===e&&m.current?.scrollToTop()}),[u]),w=(0,mt.useCallback)((()=>(0,Ft.jsx)(Eq,{rkey:d,list:s,preferences:o})),[d,s,o]);return h?(0,Ft.jsxs)(wR,{modui:b.ui("contentView"),allowOverride:g,children:[(0,Ft.jsx)(CR,{children:(0,Ft.jsx)(_q,{list:s,preferences:o})}),(0,Ft.jsxs)(kR,{children:[(0,Ft.jsxs)(wo.default,{style:oc.hContentRegion,children:[(0,Ft.jsxs)(tV,{items:y,isHeaderReady:!0,renderHeader:w,onCurrentPageSelected:v,children:[({headerHeight:e,scrollElRef:s,isFocused:n})=>(0,Ft.jsx)(Mq,{ref:u,feed:`list|${t}`,scrollElRef:s,headerHeight:e,isFocused:p&&n,isOwner:g,onPressAddUser:_.open}),({headerHeight:e,scrollElRef:t})=>(0,Ft.jsx)(Bq,{ref:m,scrollElRef:t,list:s,onPressAddUser:_.open,headerHeight:e})]}),(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:()=>a({}),icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:r({id:"2B7HLH"}),accessibilityHint:""})]}),(0,Ft.jsx)(Pq,{control:_,list:s,onChange:j})]})]}):(0,Ft.jsxs)(wR,{modui:b.ui("contentView"),allowOverride:g,children:[(0,Ft.jsx)(CR,{children:(0,Ft.jsx)(_q,{list:s,preferences:o})}),(0,Ft.jsxs)(kR,{children:[(0,Ft.jsxs)(wo.default,{style:oc.hContentRegion,children:[(0,Ft.jsx)(wl,{children:w()}),(0,Ft.jsx)(Bq,{list:s,scrollElRef:x,onPressAddUser:_.open,headerHeight:0}),(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:()=>a({}),icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:r({id:"2B7HLH"}),accessibilityHint:""})]}),(0,Ft.jsx)(Pq,{control:_,list:s,onChange:j})]})]})}function Eq({rkey:e,list:t,preferences:s}){const n=mx("default"),o=mx("inverted"),{_:r}=(0,ft.useLingui)(),a=(0,va.useNavigation)(),{currentAccount:l}=xh(),c=Ar(),{openModal:d}=Zd(),u=Jw(),m=Xw(),h=function(){const e=(0,i.c)(7),{currentAccount:t}=xh(),s=bh(),n=(0,wd.useQueryClient)();let o,r;return e[0]!==s||e[1]!==t?(o=async e=>{const{uri:n}=e;if(!t)return;let o,r=[];for(let l=0;l<100;l++){const e=await s.app.bsky.graph.listitem.list({repo:t.did,cursor:o,limit:100});if(r=r.concat(e.records.filter((e=>e.value.list===n)).map(Yw)),o=e.cursor,!o)break}const i=Gw,a=r.map((e=>i(e))).concat([i(n)]);for(const l of qf()(a,10))await s.com.atproto.repo.applyWrites({repo:t.did,writes:l});await eS(s,n,$w)},e[0]=s,e[1]=t,e[2]=o):o=e[2],e[3]!==t||e[4]!==n||e[5]!==o?(r={mutationFn:o,onSuccess(){Vw(n),n.invalidateQueries({queryKey:Uw(t.did)})}},e[3]=t,e[4]=n,e[5]=o,e[6]=r):r=e[6],(0,Sd.useMutation)(r)}(),p="app.bsky.graph.defs#curatelist"===t.purpose,f="app.bsky.graph.defs#modlist"===t.purpose,g=!!t.viewer?.blocked,x=!!t.viewer?.muted,_=t.creator.did===l?.did,y=lS(),{mutateAsync:b,isPending:j}=Hh(),{mutateAsync:v,isPending:w}=Nh(),{mutateAsync:S,isPending:k}=Vh(),C=j||w||k,P=Ar(),T=Ar(),L=Ar(),A=s?.savedFeeds?.find((e=>e.value===t.uri)),I=Boolean(A?.pinned),R=mt.useCallback((async()=>{y();try{if(A){const e=!A.pinned;await S([Object.assign({},A,{pinned:e})]),Zu(r(e?{id:"gdFob6"}:{id:"G8TSOA"}))}else await b([{type:"list",value:t.uri,pinned:!0}]),Zu(r({id:"faoc1p"}))}catch(e){Zu(r({id:"6bZi7H"}),"xmark"),ys.error("Failed to toggle pinned feed",{message:e})}}),[y,b,S,t.uri,r,A]),D=mt.useCallback((async()=>{if(y(),A)try{await v(A),Zu(r({id:"lLrUFY"}))}catch(e){Zu(r({id:"6bZi7H"}),"xmark"),ys.error("Failed to remove pinned list",{message:e})}}),[y,v,r,A]),F=(0,mt.useCallback)((async()=>{try{await u.mutateAsync({uri:t.uri,mute:!0}),Zu(r({id:"GPt/ZL"})),ys.metric("moderation:subscribedToList",{listType:"mute"},{statsig:!0})}catch{Zu(r({id:"zghcp1"}))}}),[t,u,r]),E=(0,mt.useCallback)((async()=>{try{await u.mutateAsync({uri:t.uri,mute:!1}),Zu(r({id:"OfphAR"})),ys.metric("moderation:unsubscribedFromList",{listType:"mute"},{statsig:!0})}catch{Zu(r({id:"zghcp1"}))}}),[t,u,r]),M=(0,mt.useCallback)((async()=>{try{await m.mutateAsync({uri:t.uri,block:!0}),Zu(r({id:"Q42Dr4"})),ys.metric("moderation:subscribedToList",{listType:"block"},{statsig:!0})}catch{Zu(r({id:"zghcp1"}))}}),[t,m,r]),B=(0,mt.useCallback)((async()=>{try{await m.mutateAsync({uri:t.uri,block:!1}),Zu(r({id:"u+/2ah"})),ys.metric("moderation:unsubscribedFromList",{listType:"block"},{statsig:!0})}catch{Zu(r({id:"zghcp1"}))}}),[t,m,r]),O=(0,mt.useCallback)((()=>{d({name:"create-or-edit-list",list:t})}),[d,t]),z=(0,mt.useCallback)((async()=>{await h.mutateAsync({uri:t.uri}),A&&await v(A),Zu(r({id:"MdgA95"})),a.canGoBack()?a.goBack():a.navigate("Home")}),[t,h,a,r,v,A]),H=(0,mt.useCallback)((()=>{c.open()}),[c]),N=(0,mt.useCallback)((()=>{iv(pu(`/profile/${t.creator.did}/lists/${e}`))}),[t,e]),V=(0,mt.useMemo)((()=>{let e=[{testID:"listHeaderDropdownShareBtn",label:r(Pt?{id:"7LTXf4"}:{id:"Z8lGw6"}),onPress:N,icon:{ios:{name:"square.and.arrow.up"},android:"",web:"share"}}];return A&&e.push({testID:"listHeaderDropdownRemoveFromFeedsBtn",label:r({id:"Yy3FzB"}),onPress:D,icon:{ios:{name:"trash"},android:"",web:["far","trash-can"]}}),_?(e.push({label:"separator"}),e.push({testID:"listHeaderDropdownEditBtn",label:r({id:"S7M0uU"}),onPress:O,icon:{ios:{name:"pencil"},android:"",web:"pen"}}),e.push({testID:"listHeaderDropdownDeleteBtn",label:r({id:"lYT7pQ"}),onPress:P.open,icon:{ios:{name:"trash"},android:"",web:["far","trash-can"]}})):(e.push({label:"separator"}),e.push({testID:"listHeaderDropdownReportBtn",label:r({id:"svXvA9"}),onPress:H,icon:{ios:{name:"exclamationmark.triangle"},android:"",web:"circle-exclamation"}})),f&&I&&(e.push({label:"separator"}),e.push({testID:"listHeaderDropdownUnpinBtn",label:r({id:"EvGmWj"}),onPress:C||!A?void 0:()=>v(A),icon:{ios:{name:"pin"},android:"",web:"thumbtack"}})),p&&(g||x)&&(e.push({label:"separator"}),x&&e.push({testID:"listHeaderDropdownMuteBtn",label:r({id:"Hp6Aoq"}),onPress:E,icon:{ios:{name:"eye"},android:"",web:"eye"}}),g&&e.push({testID:"listHeaderDropdownBlockBtn",label:r({id:"KXAXeV"}),onPress:B,icon:{ios:{name:"person.fill.xmark"},android:"",web:"user-slash"}})),e}),[r,N,_,f,I,p,O,P.open,H,C,g,x,E,B,v,A,D]),q=(0,mt.useMemo)((()=>[{testID:"subscribeDropdownMuteBtn",label:r({id:"du0opt"}),onPress:T.open,icon:{ios:{name:"speaker.slash"},android:"",web:"user-slash"}},{testID:"subscribeDropdownBlockBtn",label:r({id:"ffIfdM"}),onPress:L.open,icon:{ios:{name:"person.fill.xmark"},android:"",web:"ban"}}]),[r,T.open,L.open]),U=(0,mt.useMemo)((()=>t.description?new Is.RichText({text:t.description,facets:t.descriptionFacets}):void 0),[t]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(lq,{href:uS(t.creator.handle||t.creator.did||"",e),title:t.name,avatar:t.avatar,isOwner:t.creator.did===l?.did,creator:t.creator,purpose:t.purpose,avatarType:"list",children:[(0,Ft.jsx)(jL,{control:c,subject:Object.assign({},t,{$type:"app.bsky.graph.defs#listView"})}),p?(0,Ft.jsx)(Ex,{testID:I?"unpinBtn":"pinBtn",type:I?"default":"inverted",label:r(I?{id:"nWMRxa"}:{id:"yoM4Y/"}),onPress:R,disabled:C}):f?g?(0,Ft.jsx)(Ex,{testID:"unblockBtn",type:"default",label:r({id:"tuS5Jz"}),onPress:B}):x?(0,Ft.jsx)(Ex,{testID:"unmuteBtn",type:"default",label:r({id:"rn6SBY"}),onPress:E}):(0,Ft.jsx)(uq,{testID:"subscribeBtn",items:q,accessibilityLabel:r({id:"5z3ICN"}),accessibilityHint:"",children:(0,Ft.jsx)(wo.default,{style:[o.view,zq.btn],children:(0,Ft.jsx)(Tx,{style:o.text,children:(0,Ft.jsx)(ft.Trans,{id:"EDl9kS"})})})}):null,(0,Ft.jsx)(uq,{testID:"headerDropdownBtn",items:V,accessibilityLabel:r({id:"3Siwmw"}),accessibilityHint:"",children:(0,Ft.jsx)(wo.default,{style:[n.viewLight,zq.btn],children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"ellipsis",size:20,color:n.colors.text})})}),(0,Ft.jsx)(bx,{control:P,title:r({id:"+kQ/cY"}),description:r({id:"+l6Ur/"}),onConfirm:z,confirmButtonCta:r({id:"cnGeoo"}),confirmButtonColor:"negative"}),(0,Ft.jsx)(bx,{control:T,title:r({id:"izOxJM"}),description:r({id:"1QJzM7"}),onConfirm:F,confirmButtonCta:r({id:"25PHAB"})}),(0,Ft.jsx)(bx,{control:L,title:r({id:"fdYcMy"}),description:r({id:"zl+QbX"}),onConfirm:M,confirmButtonCta:r({id:"hIysMc"}),confirmButtonColor:"negative"})]}),U?(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pt_sm,kl.pb_sm,kl.gap_md],children:(0,Ft.jsx)(DC,{value:U,style:[kl.text_md,kl.leading_snug]})}):null]})}const Mq=mt.forwardRef((function({feed:e,scrollElRef:t,headerHeight:s,isFocused:n,isOwner:o,onPressAddUser:r},i){const a=(0,wd.useQueryClient)(),[l,c]=mt.useState(!1),[d,u]=mt.useState(!1),m=(0,va.useIsFocused)(),{_:h}=(0,ft.useLingui)(),p=(0,mt.useCallback)((()=>{t.current?.scrollToOffset({animated:kt,offset:-s}),a.resetQueries({queryKey:Nx(e)}),c(!1)}),[t,s,a,e,c]);mt.useImperativeHandle(i,(()=>({scrollToTop:p}))),mt.useEffect((()=>{if(m)return Dt(p)}),[p,m]);const f=(0,mt.useCallback)((()=>(0,Ft.jsxs)(wo.default,{style:[kl.gap_xl,kl.align_center],children:[(0,Ft.jsx)(Lx,{icon:"hashtag",message:h({id:"KD13F8"})}),o&&(0,Ft.jsxs)(Sr,{label:h({id:"A3BCK8"}),onPress:r,color:"primary",size:"small",variant:"solid",children:[(0,Ft.jsx)(Pr,{icon:cC}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"vjUnLD"})})]})]})),[h,r,o]);return(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(PM,{testID:"listFeed",enabled:n,feed:e,pollInterval:6e4,disablePoll:l,scrollElRef:t,onHasNew:c,onScrolledDownChange:u,renderEmptyState:f,headerOffset:s}),(d||l)&&(0,Ft.jsx)(Uz,{onPress:p,label:h({id:"VkLESX"}),showIndicator:l})]})})),Bq=mt.forwardRef((function({list:e,onPressAddUser:t,headerHeight:s,scrollElRef:n},o){const{_:r}=(0,ft.useLingui)(),{currentAccount:i}=xh(),{isMobile:a}=jx(),[l,c]=mt.useState(!1),d=e.creator.did===i?.did,u=(0,mt.useCallback)((()=>{n.current?.scrollToOffset({animated:kt,offset:-s})}),[n,s]);mt.useImperativeHandle(o,(()=>({scrollToTop:u})));const m=mt.useCallback((()=>d?a?(0,Ft.jsx)(wo.default,{style:[kl.px_sm,kl.py_sm],children:(0,Ft.jsxs)(Sr,{testID:"addUserBtn",label:r({id:"JU3hs2"}),onPress:t,color:"primary",size:"small",variant:"outline",style:[kl.py_md],children:[(0,Ft.jsx)(Pr,{icon:cC}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"+1O5zr"})})]})}):(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.py_md,kl.flex_row_reverse],children:(0,Ft.jsxs)(Sr,{testID:"addUserBtn",label:r({id:"JU3hs2"}),onPress:t,color:"primary",size:"small",variant:"ghost",style:[kl.py_sm],children:[(0,Ft.jsx)(Pr,{icon:cC}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"+1O5zr"})})]})}):(0,Ft.jsx)(wo.default,{})),[d,r,t,a]),h=(0,mt.useCallback)((()=>(0,Ft.jsxs)(wo.default,{style:[kl.gap_xl,kl.align_center],children:[(0,Ft.jsx)(Lx,{icon:"users-slash",message:r({id:"50YuyB"})}),d&&(0,Ft.jsxs)(Sr,{testID:"emptyStateAddUserBtn",label:r({id:"A3BCK8"}),onPress:t,color:"primary",size:"small",variant:"solid",children:[(0,Ft.jsx)(Pr,{icon:cC}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"vjUnLD"})})]})]})),[r,t,d]);return(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(rq,{testID:"listItems",list:e.uri,scrollElRef:n,renderHeader:m,renderEmptyState:h,headerOffset:s,onScrolledDownChange:c}),l&&(0,Ft.jsx)(Uz,{onPress:u,label:r({id:"bUUv3P"}),showIndicator:!1})]})}));function Oq(e){const t=(0,i.c)(35),{error:s}=e,n=mx("default"),o=(0,va.useNavigation)(),{_:r}=(0,ft.useLingui)();let a;t[0]!==o?(a=()=>{o.canGoBack()?o.goBack():o.navigate("Home")},t[0]=o,t[1]=a):a=t[1];const l=a;let c,d,u,m,h,p,f,g,x,_,y,b,j,v,w;return t[2]===Symbol.for("react.memo_cache_sentinel")?(c={paddingHorizontal:18,paddingVertical:14,borderTopWidth:Gn.default.hairlineWidth},t[2]=c):c=t[2],t[3]!==n.border||t[4]!==n.view?(d=[n.view,n.border,c],t[3]=n.border,t[4]=n.view,t[5]=d):d=t[5],t[6]!==n.text?(u=[n.text,oc.mb10],t[6]=n.text,t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ft.Trans,{id:"8NNr/O"}),t[8]=m):m=t[8],t[9]!==u?(h=(0,Ft.jsx)(Tx,{type:"title-lg",style:u,children:m}),t[9]=u,t[10]=h):h=t[10],t[11]!==n.text?(p=[n.text,oc.mb20],t[11]=n.text,t[12]=p):p=t[12],t[13]!==s||t[14]!==p?(f=(0,Ft.jsx)(Tx,{type:"md",style:p,children:s}),t[13]=s,t[14]=p,t[15]=f):f=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(g={flexDirection:"row"},t[16]=g):g=t[16],t[17]!==r?(x=r({id:"CKyk7Q"}),t[17]=r,t[18]=x):x=t[18],t[19]!==r?(_=r({id:"wpAjsg"}),t[19]=r,t[20]=_):_=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(y={flexShrink:1},t[21]=y):y=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"}),t[22]=b):b=t[22],t[23]!==n.text?(j=(0,Ft.jsx)(Tx,{type:"button",style:n.text,children:b}),t[23]=n.text,t[24]=j):j=t[24],t[25]!==l||t[26]!==x||t[27]!==_||t[28]!==j?(v=(0,Ft.jsx)(wo.default,{style:g,children:(0,Ft.jsx)(Ex,{type:"default",accessibilityLabel:x,accessibilityHint:_,onPress:l,style:y,children:j})}),t[25]=l,t[26]=x,t[27]=_,t[28]=j,t[29]=v):v=t[29],t[30]!==v||t[31]!==d||t[32]!==h||t[33]!==f?(w=(0,Ft.jsxs)(wo.default,{style:d,children:[h,f,v]}),t[30]=v,t[31]=d,t[32]=h,t[33]=f,t[34]=w):w=t[34],w}const zq=Gn.default.create({btn:{flexDirection:"row",alignItems:"center",gap:6,paddingVertical:7,paddingHorizontal:14,borderRadius:50,marginLeft:6}}),Hq=zr({path:"M3 4a1 1 0 0 1 1-1h13a1 1 0 0 1 .707.293l3 3A1 1 0 0 1 21 7v13a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Zm6 15h6v-5H9v5Zm8 0v-6a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v6H5V5h2v3a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V5.414l2 2V19h-2ZM15 5H9v2h6V5Z"});function Nq(e){const t=(0,i.c)(3),{data:s}=Fh();if(!s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(wo.default,{}),t[0]=e):e=t[0],e}let n;return t[1]!==s?(n=(0,Ft.jsx)(Vq,{preferences:s}),t[1]=s,t[2]=n):n=t[2],n}function Vq(e){const t=(0,i.c)(73),{preferences:s}=e,n=mx("default"),{_:r}=(0,ft.useLingui)(),{isMobile:a,isDesktop:l}=jx(),c=Na(),{mutateAsync:d,isPending:u}=zh(),m=(0,va.useNavigation)();let h;t[0]!==s.savedFeeds?(h=()=>s.savedFeeds||[],t[0]=s.savedFeeds,t[1]=h):h=t[1];const[p,f]=mt.useState(h),g=p!==s.savedFeeds,x=p.filter(Wq),_=p.filter(Uq),y=x.length+_.length===0;let b;t[2]!==p||t[3]!==y?(b=p.every(qq)&&!y,t[2]=p,t[3]=y,t[4]=b):b=t[4];const j=b;let v,w;t[5]!==c?(v=()=>{c(!1)},t[5]=c,t[6]=v):v=t[6],(0,va.useFocusEffect)(v),t[7]!==r||t[8]!==p||t[9]!==m||t[10]!==d?(w=async()=>{try{await d(p),Zu(r({id:"oIkrPj"})),m.navigate("Feeds")}catch(k){const t=k;Zu(r({id:"6bZi7H"}),"xmark"),ys.error("Failed to toggle pinned feed",{message:t})}},t[7]=r,t[8]=p,t[9]=m,t[10]=d,t[11]=w):w=t[11];const S=w,k=o;let C,P;t[12]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(dl,{}),t[12]=C):C=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(ll,{align:"left",children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"2DoBvq"})})}),t[13]=P):P=t[13];const T="solid",L=g?"primary":"secondary";let A;t[14]!==r?(A=r({id:"y3aU20"}),t[14]=r,t[15]=A):A=t[15];const I=u||!g,R=u?wv:Hq;let D,F,E;t[16]!==R?(D=(0,Ft.jsx)(Pr,{icon:R}),t[16]=R,t[17]=D):D=t[17],t[18]!==l?(F=(0,Ft.jsx)(Cr,{children:l?(0,Ft.jsx)(ft.Trans,{id:"y3aU20"}):(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),t[18]=l,t[19]=F):F=t[19],t[20]!==S||t[21]!==A||t[22]!==I||t[23]!==D||t[24]!==F||t[25]!==T||t[26]!==L?(E=(0,Ft.jsxs)(il,{children:[C,P,(0,Ft.jsxs)(Sr,{testID:"saveChangesBtn",size:"small",variant:T,color:L,onPress:S,label:A,disabled:I,children:[D,F]})]}),t[20]=S,t[21]=A,t[22]=I,t[23]=D,t[24]=F,t[25]=T,t[26]=L,t[27]=E):E=t[27];const M=o;let B,O,z,H,N;t[28]!==y||t[29]!==n.border?(B=y&&(0,Ft.jsx)(wo.default,{style:[n.border,kl.border_b],children:(0,Ft.jsx)(Pz,{})}),t[28]=y,t[29]=n.border,t[30]=B):B=t[30],t[31]!==n.border||t[32]!==n.text?(O=[n.text,n.border,Jq.title],t[31]=n.border,t[32]=n.text,t[33]=O):O=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(ft.Trans,{id:"zgoxy5"}),t[34]=z):z=t[34],t[35]!==n.text?(H=(0,Ft.jsx)(Tx,{type:"title",style:n.text,children:z}),t[35]=n.text,t[36]=H):H=t[36],t[37]!==O||t[38]!==H?(N=(0,Ft.jsx)(wo.default,{style:O,children:H}),t[37]=O,t[38]=H,t[39]=N):N=t[39];const V=s?x.length?x.map((e=>(0,Ft.jsx)(Zq,{feed:e,isPinned:!0,currentFeeds:p,setCurrentFeeds:f,preferences:s},e.id))):(0,Ft.jsx)(wo.default,{style:[n.border,a&&oc.flex1,n.viewLight,Jq.empty],children:(0,Ft.jsx)(Tx,{type:"lg",style:[n.text],children:(0,Ft.jsx)(ft.Trans,{id:"aFZZYi"})})}):(0,Ft.jsx)(Fx.default,{style:{marginTop:20}});let q,U,W,Z,Q;t[40]!==j||t[41]!==n.border?(q=j&&(0,Ft.jsx)(wo.default,{style:[n.border,kl.border_b],children:(0,Ft.jsx)(Cz,{})}),t[40]=j,t[41]=n.border,t[42]=q):q=t[42],t[43]!==n.border||t[44]!==n.text?(U=[n.text,n.border,Jq.title],t[43]=n.border,t[44]=n.text,t[45]=U):U=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(W=(0,Ft.jsx)(ft.Trans,{id:"+K+JDj"}),t[46]=W):W=t[46],t[47]!==n.text?(Z=(0,Ft.jsx)(Tx,{type:"title",style:n.text,children:W}),t[47]=n.text,t[48]=Z):Z=t[48],t[49]!==U||t[50]!==Z?(Q=(0,Ft.jsx)(wo.default,{style:U,children:Z}),t[49]=U,t[50]=Z,t[51]=Q):Q=t[51];const K=s?_.length?_.map((e=>(0,Ft.jsx)(Zq,{feed:e,isPinned:!1,currentFeeds:p,setCurrentFeeds:f,preferences:s},e.id))):(0,Ft.jsx)(wo.default,{style:[n.border,a&&oc.flex1,n.viewLight,Jq.empty],children:(0,Ft.jsx)(Tx,{type:"lg",style:[n.text],children:(0,Ft.jsx)(ft.Trans,{id:"nbz3Iq"})})}):(0,Ft.jsx)(Fx.default,{style:{marginTop:20}}),$=n.textLight,G=n.link;let Y,J,X,ee,te;return t[52]!==r?(Y=r({id:"4y0PKa"}),t[52]=r,t[53]=Y):Y=t[53],t[54]!==n.link||t[55]!==Y?(J=(0,Ft.jsx)(ft.Trans,{id:"2+6lmO",components:{0:(0,Ft.jsx)(NP,{type:"sm",style:G,href:"https://github.com/bluesky-social/feed-generator",text:Y})}}),t[54]=n.link,t[55]=Y,t[56]=J):J=t[56],t[57]!==n.textLight||t[58]!==J?(X=(0,Ft.jsx)(wo.default,{style:Jq.footerText,children:(0,Ft.jsx)(Tx,{type:"sm",style:$,children:J})}),t[57]=n.textLight,t[58]=J,t[59]=X):X=t[59],t[60]!==M.Content||t[61]!==B||t[62]!==N||t[63]!==V||t[64]!==q||t[65]!==Q||t[66]!==K||t[67]!==X?(ee=(0,Ft.jsxs)(M.Content,{children:[B,N,V,q,Q,K,X]}),t[60]=M.Content,t[61]=B,t[62]=N,t[63]=V,t[64]=q,t[65]=Q,t[66]=K,t[67]=X,t[68]=ee):ee=t[68],t[69]!==E||t[70]!==ee||t[71]!==k.Screen?(te=(0,Ft.jsxs)(k.Screen,{children:[E,ee]}),t[69]=E,t[70]=ee,t[71]=k.Screen,t[72]=te):te=t[72],te}function qq(e){return"timeline"!==e.type}function Uq(e){return!e.pinned}function Wq(e){return e.pinned}function Zq(e){const t=(0,i.c)(53),{feed:s,isPinned:n,currentFeeds:o,setCurrentFeeds:r}=e,{_:a}=(0,ft.useLingui)(),l=mx("default"),c=lS(),d=s.value;let u;t[0]!==o||t[1]!==s||t[2]!==c||t[3]!==r?(u=async()=>{c(),r(o.map((e=>e.id===s.id?Object.assign({},s,{pinned:!s.pinned}):e)))},t[0]=o,t[1]=s,t[2]=c,t[3]=r,t[4]=u):u=t[4];const m=u;let h;t[5]!==o||t[6]!==s.id||t[7]!==n||t[8]!==r?(h=async()=>{if(!n)return;const e=o.slice(),t=o.map(Gq).indexOf(s.id),i=t-1;if(-1===t||0===t)return;const[a,l]=[e[i],e[t]];e[t]=a,e[i]=l,r(e)},t[5]=o,t[6]=s.id,t[7]=n,t[8]=r,t[9]=h):h=t[9];const p=h;let f;t[10]!==o||t[11]!==s.id||t[12]!==n||t[13]!==r?(f=async()=>{if(!n)return;const e=o.slice(),t=o.map($q).indexOf(s.id),i=t+1;if(-1===t||t>=e.filter(Kq).length-1)return;const[a,l]=[e[i],e[t]];e[t]=a,e[i]=l,r(e)},t[10]=o,t[11]=s.id,t[12]=n,t[13]=r,t[14]=f):f=t[14];const g=f;let x;t[15]!==o||t[16]!==s.id||t[17]!==c||t[18]!==r?(x=async()=>{c(),r(o.filter((e=>e.id!==s.id)))},t[15]=o,t[16]=s.id,t[17]=c,t[18]=r,t[19]=x):x=t[19];const _=x;let y,b,j,v,w,S;t[20]!==l.border?(y=[Jq.itemContainer,l.border],t[20]=l.border,t[21]=y):y=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(b=ko.LinearTransition.duration(100),t[22]=b):b=t[22],t[23]!==s.type||t[24]!==d||t[25]!==n?(j="timeline"===s.type?(0,Ft.jsx)(Yq,{}):(0,Ft.jsx)(KI,{feedUri:d,style:[n&&{paddingRight:8}],showMinimalPlaceholder:!0,hideTopBorder:!0},d),t[23]=s.type,t[24]=d,t[25]=n,t[26]=j):j=t[26],t[27]!==a||t[28]!==s.type||t[29]!==d||t[30]!==n||t[31]!==g||t[32]!==_||t[33]!==p||t[34]!==l.colors||t[35]!==l.textLight||t[36]!==l.viewLight.backgroundColor?(v=n?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(tr.default,{accessibilityRole:"button",onPress:p,hitSlop:5,style:e=>({backgroundColor:l.viewLight.backgroundColor,paddingHorizontal:12,paddingVertical:10,borderRadius:4,marginRight:8,opacity:e.hovered||e.pressed?.5:1}),testID:`feed-${s.type}-moveUp`,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrow-up",size:14,style:[l.textLight]})}),(0,Ft.jsx)(tr.default,{accessibilityRole:"button",onPress:g,hitSlop:5,style:e=>({backgroundColor:l.viewLight.backgroundColor,paddingHorizontal:12,paddingVertical:10,borderRadius:4,marginRight:8,opacity:e.hovered||e.pressed?.5:1}),testID:`feed-${s.type}-moveDown`,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrow-down",size:14,style:[l.textLight]})})]}):(0,Ft.jsx)(tr.default,{testID:`feed-${d}-toggleSave`,accessibilityRole:"button",accessibilityLabel:a({id:"Yy3FzB"}),accessibilityHint:"",onPress:_,hitSlop:5,style:Qq,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:["far","trash-can"],size:19,color:l.colors.icon})}),t[27]=a,t[28]=s.type,t[29]=d,t[30]=n,t[31]=g,t[32]=_,t[33]=p,t[34]=l.colors,t[35]=l.textLight,t[36]=l.viewLight.backgroundColor,t[37]=v):v=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(w={paddingRight:16},t[38]=w):w=t[38],t[39]!==l.viewLight.backgroundColor?(S=e=>({backgroundColor:l.viewLight.backgroundColor,paddingHorizontal:12,paddingVertical:10,borderRadius:4,opacity:e.hovered||e.focused?.5:1}),t[39]=l.viewLight.backgroundColor,t[40]=S):S=t[40];const k=`feed-${s.type}-togglePin`,C=n?sc.blue3:l.colors.icon;let P,T,L;return t[41]!==C?(P=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"thumb-tack",size:14,color:C}),t[41]=C,t[42]=P):P=t[42],t[43]!==m||t[44]!==S||t[45]!==k||t[46]!==P?(T=(0,Ft.jsx)(wo.default,{style:w,children:(0,Ft.jsx)(tr.default,{accessibilityRole:"button",hitSlop:5,onPress:m,style:S,testID:k,children:P})}),t[43]=m,t[44]=S,t[45]=k,t[46]=P,t[47]=T):T=t[47],t[48]!==T||t[49]!==y||t[50]!==j||t[51]!==v?(L=(0,Ft.jsxs)(ko.default.View,{style:y,layout:b,children:[j,v,T]}),t[48]=T,t[49]=y,t[50]=j,t[51]=v,t[52]=L):L=t[52],L}function Qq(e){return{marginRight:8,paddingHorizontal:12,paddingVertical:10,borderRadius:4,opacity:e.hovered||e.focused?.5:1}}function Kq(e){return e.pinned}function $q(e){return e.id}function Gq(e){return e.id}function Yq(){const e=(0,i.c)(18),t=ec();let s,n,o,r,a,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_row,kl.align_center,kl.flex_1,{paddingHorizontal:18,paddingVertical:20}],e[0]=s):s=e[0],e[1]!==t.palette.primary_500?(n=[kl.align_center,kl.justify_center,kl.rounded_sm,{width:36,height:36,backgroundColor:t.palette.primary_500,marginRight:10}],e[1]=t.palette.primary_500,e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=[{width:22,height:22}],e[3]=o):o=e[3],e[4]!==t.palette.white?(r=(0,Ft.jsx)(Rz,{style:o,fill:t.palette.white}),e[4]=t.palette.white,e[5]=r):r=e[5],e[6]!==n||e[7]!==r?(a=(0,Ft.jsx)(wo.default,{style:n,children:r}),e[6]=n,e[7]=r,e[8]=a):a=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(l={flex:1,flexDirection:"row",gap:8,alignItems:"center"},e[9]=l):l=e[9],e[10]!==t.atoms.text?(c=[t.atoms.text],e[10]=t.atoms.text,e[11]=c):c=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"y6sq5j"}),e[12]=d):d=e[12],e[13]!==c?(u=(0,Ft.jsx)(wo.default,{style:l,children:(0,Ft.jsx)(Tx,{type:"lg-medium",style:c,numberOfLines:1,children:d})}),e[13]=c,e[14]=u):u=e[14],e[15]!==a||e[16]!==u?(m=(0,Ft.jsxs)(wo.default,{style:s,children:[a,u]}),e[15]=a,e[16]=u,e[17]=m):m=e[17],m}const Jq=Gn.default.create({empty:{paddingHorizontal:20,paddingVertical:20,borderRadius:8,marginHorizontal:10,marginTop:10},title:{paddingHorizontal:14,paddingTop:20,paddingBottom:10,borderBottomWidth:Gn.default.hairlineWidth},itemContainer:{flexDirection:"row",alignItems:"center",borderBottomWidth:Gn.default.hairlineWidth},footerText:{paddingHorizontal:26,paddingVertical:22}});function Xq(){const e=(0,i.c)(29),[t,s]=mt.useState(!1),n=mt.useRef(null);let o,r;e[0]===Symbol.for("react.memo_cache_sentinel")?(r=Array.from({length:100},aU),e[0]=r):r=e[0],o=r;const a=o;let l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l={width:"100%",height:300},e[1]=l):l=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(wo.default,{style:l,children:(0,Ft.jsx)(TF,{onScroll:iU,children:(0,Ft.jsx)(MF,{data:a,renderItem:oU,keyExtractor:nU,disableFullWindowScroll:!0,style:{flex:1},onStartReached:sU,onEndReached:tU,onEndReachedThreshold:2,ref:n,disableVirtualization:!0})})}),e[2]=c):c=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(d={flexDirection:"row",gap:10,alignItems:"center"},e[3]=d):d=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(u=()=>s(eU),m=(0,Ft.jsx)(cI,{}),h=(0,Ft.jsx)(aI,{children:"Animated Scrolling"}),e[4]=u,e[5]=m,e[6]=h):(u=e[4],m=e[5],h=e[6]),e[7]!==t?(p=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsxs)(iI,{name:"a",label:"Click me",value:t,onChange:u,children:[m,h]})}),e[7]=t,e[8]=p):p=e[8],e[9]!==t?(f=()=>n.current?.scrollToOffset({animated:t,offset:0}),e[9]=t,e[10]=f):f=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Cr,{children:"Scroll to Top"}),e[11]=g):g=e[11],e[12]!==f?(x=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Scroll to End",onPress:f,children:g}),e[12]=f,e[13]=x):x=e[13],e[14]!==t?(_=()=>n.current?.scrollToEnd({animated:t}),e[14]=t,e[15]=_):_=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(Cr,{children:"Scroll to End"}),e[16]=y):y=e[16],e[17]!==_?(b=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Scroll to End",onPress:_,children:y}),e[17]=_,e[18]=b):b=e[18],e[19]!==t?(j=()=>n.current?.scrollToOffset({animated:t,offset:500}),e[19]=t,e[20]=j):j=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(Cr,{children:"Scroll to Offset 500"}),e[21]=v):v=e[21],e[22]!==j?(w=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Scroll to Offset 100",onPress:j,children:v}),e[22]=j,e[23]=w):w=e[23],e[24]!==x||e[25]!==b||e[26]!==w||e[27]!==p?(S=(0,Ft.jsxs)(Ft.Fragment,{children:[c,p,x,b,w]}),e[24]=x,e[25]=b,e[26]=w,e[27]=p,e[28]=S):S=e[28],S}function eU(e){return!e}function tU(){}function sU(){}function nU(e){return e.id.toString()}function oU(e){return(0,Ft.jsx)(wo.default,{style:{padding:10,borderBottomWidth:1,borderBottomColor:"rgba(0,0,0,0.1)"},children:(0,Ft.jsx)(fr,{children:e.item.text})})}const rU={code:"function _temp2_ListContainedTsx1(e){console.log(JSON.stringify({contentOffset:e.contentOffset,layoutMeasurement:e.layoutMeasurement,contentSize:e.contentSize}));}"},iU=function(){const e=function(e){};return e.__closure={},e.__workletHash=5201105808992,e.__initData=rU,e}();function aU(e,t){return{id:t,text:`Message ${t}`}}function lU(){const e=(0,i.c)(4);let t,s,n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[kl.gap_md],s=(0,Ft.jsx)(xr,{children:"Admonitions"}),n=(0,Ft.jsx)(Uj,{children:"The quick brown fox jumps over the lazy dog."}),e[0]=t,e[1]=s,e[2]=n):(t=e[0],s=e[1],n=e[2]),e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsxs)(wo.default,{style:t,children:[s,n,(0,Ft.jsxs)(Uj,{type:"info",children:["How happy the blameless vestal's lot, the world forgetting by the world forgot."," ",(0,Ft.jsx)(fv,{label:"test",to:"https://letterboxd.com/film/eternal-sunshine-of-the-spotless-mind/",children:"Eternal sunshine of the spotless mind"}),"! Each pray'r accepted, and each wish resign'd."]}),(0,Ft.jsx)(Uj,{type:"tip",children:"The quick brown fox jumps over the lazy dog."}),(0,Ft.jsx)(Uj,{type:"warning",children:"The quick brown fox jumps over the lazy dog."}),(0,Ft.jsx)(Uj,{type:"error",children:"The quick brown fox jumps over the lazy dog."})]}),e[3]=o):o=e[3],o}function cU(){const e=(0,i.c)(24),t=ec(),s=ql();let n,o,r,a,l,c,d,u,m,h,p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(_r,{style:[kl.pb_md],children:"Breakpoint Debugger"}),e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.pb_md],e[1]=o):o=e[1],e[2]!==s.gtMobile?(r=!s.gtMobile&&(0,Ft.jsx)(fr,{children:"mobile"}),e[2]=s.gtMobile,e[3]=r):r=e[3],e[4]!==s.gtMobile||e[5]!==s.gtTablet?(a=s.gtMobile&&!s.gtTablet&&(0,Ft.jsx)(fr,{children:"tablet"}),e[4]=s.gtMobile,e[5]=s.gtTablet,e[6]=a):a=e[6],e[7]!==s.gtTablet?(l=s.gtTablet&&(0,Ft.jsx)(fr,{children:"desktop"}),e[7]=s.gtTablet,e[8]=l):l=e[8],e[9]!==r||e[10]!==a||e[11]!==l?(c=(0,Ft.jsxs)(fr,{style:o,children:["Current breakpoint: ",r,a,l]}),e[9]=r,e[10]=a,e[11]=l,e[12]=c):c=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(d={fontFamily:"monospace"},e[13]=d):d=e[13],e[14]!==t.atoms.bg_contrast_100?(u=[kl.p_md,t.atoms.bg_contrast_100,d],e[14]=t.atoms.bg_contrast_100,e[15]=u):u=e[15],e[16]!==s?(m=JSON.stringify(s,null,2),e[16]=s,e[17]=m):m=e[17],e[18]!==u||e[19]!==m?(h=(0,Ft.jsx)(fr,{style:u,children:m}),e[18]=u,e[19]=m,e[20]=h):h=e[20],e[21]!==c||e[22]!==h?(p=(0,Ft.jsxs)(wo.default,{children:[n,c,h]}),e[21]=c,e[22]=h,e[23]=p):p=e[23],p}function dU(){const e=(0,i.c)(42);let t,s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[kl.gap_md],s=(0,Ft.jsx)(xr,{children:"Buttons"}),e[0]=t,e[1]=s):(t=e[0],s=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_row,kl.flex_wrap,kl.gap_md,kl.align_start],o=["primary","secondary","secondary_inverted","negative","negative_secondary"].map(mU),e[2]=n,e[3]=o):(n=e[2],o=e[3]),e[4]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_row,kl.gap_md,kl.align_start],e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsxs)(wo.default,{style:n,children:[o,(0,Ft.jsx)(wo.default,{style:r,children:(0,Ft.jsx)(wo.default,{style:[kl.gap_md,kl.align_start],children:["gradient_sky","gradient_midnight","gradient_sunrise"].map(uU)})})]}),e[5]=a):a=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_wrap,kl.gap_md,kl.align_start],e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Link out",children:(0,Ft.jsx)(Cr,{children:"Button"})}),e[7]=c):c=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right"})]}),e[8]=d):d=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",label:"Link out",children:(0,Ft.jsx)(Cr,{children:"Button"})}),e[9]=u):u=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"small",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right"})]}),e[10]=m):m=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(wo.default,{style:l,children:[c,d,u,m,(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"tiny",label:"Link out",children:[(0,Ft.jsx)(Pr,{icon:eP,position:"left"}),(0,Ft.jsx)(Cr,{children:"Button"})]})]}),e[11]=h):h=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_row,kl.gap_md,kl.align_center],e[12]=p):p=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Link out",children:(0,Ft.jsx)(Cr,{children:"Button"})}),e[13]=f):f=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right"})]}),e[14]=g):g=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right",size:"lg"})]}),e[15]=x):x=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[16]=_):_=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsxs)(wo.default,{style:p,children:[f,g,x,_,(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT,size:"lg"})})]}),e[17]=y):y=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.gap_md,kl.align_center],e[18]=b):b=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",label:"Link out",children:(0,Ft.jsx)(Cr,{children:"Button"})}),e[19]=j):j=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"small",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right"})]}),e[20]=v):v=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[21]=w):w=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsxs)(wo.default,{style:b,children:[j,v,w,(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT,size:"lg"})})]}),e[22]=S):S=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.flex_row,kl.gap_md,kl.align_center],e[23]=k):k=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"tiny",label:"Link out",children:(0,Ft.jsx)(Cr,{children:"Button"})}),e[24]=C):C=e[24],e[25]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"tiny",label:"Link out",children:[(0,Ft.jsx)(Cr,{children:"Button"}),(0,Ft.jsx)(Pr,{icon:eP,position:"right"})]}),e[25]=P):P=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"tiny",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[26]=T):T=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsxs)(wo.default,{style:k,children:[C,P,T,(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"tiny",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT,size:"md"})})]}),e[27]=L):L=e[27],e[28]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.flex_row,kl.gap_md,kl.align_center],e[28]=A):A=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[29]=I):I=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(Sr,{variant:"gradient",color:"gradient_sunset",size:"small",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[30]=R):R=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(Sr,{variant:"gradient",color:"gradient_sunset",size:"tiny",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[31]=D):D=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"large",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[32]=F):F=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",size:"small",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[33]=E):E=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsxs)(wo.default,{style:A,children:[I,R,D,F,E,(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",size:"tiny",shape:"round",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})})]}),e[34]=M):M=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(B=[kl.flex_row,kl.gap_md,kl.align_start],e[35]=B):B=e[35],e[36]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[36]=O):O=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(Sr,{variant:"gradient",color:"gradient_sunset",size:"small",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[37]=z):z=e[37],e[38]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(Sr,{variant:"gradient",color:"gradient_sunset",size:"tiny",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[38]=H):H=e[38],e[39]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"large",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[39]=N):N=e[39],e[40]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",size:"small",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})}),e[40]=V):V=e[40],e[41]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsxs)(wo.default,{style:t,children:[s,a,h,y,S,L,M,(0,Ft.jsxs)(wo.default,{style:B,children:[O,z,H,N,V,(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",size:"tiny",shape:"square",label:"Link out",children:(0,Ft.jsx)(Pr,{icon:ZT})})]})]}),e[41]=q):q=e[41],q}function uU(e){return(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(Sr,{variant:"gradient",color:e,size:"large",label:"Click here",children:(0,Ft.jsx)(Cr,{children:"Button"})}),(0,Ft.jsx)(Sr,{disabled:!0,variant:"gradient",color:e,size:"large",label:"Click here",children:(0,Ft.jsx)(Cr,{children:"Button"})})]},e)}function mU(e){return(0,Ft.jsx)(wo.default,{style:[kl.gap_md,kl.align_start],children:["solid","outline","ghost"].map((t=>(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(Sr,{variant:t,color:e,size:"large",label:"Click here",children:(0,Ft.jsx)(Cr,{children:"Button"})}),(0,Ft.jsx)(Sr,{disabled:!0,variant:t,color:e,size:"large",label:"Click here",children:(0,Ft.jsx)(Cr,{children:"Button"})})]},t)))},e)}function hU(){const e=(0,i.c)(144),t=Ar(),s=Ar(),n=Ar(),o=Ar(),r=Ar(),{closeAllDialogs:a}=Xo(),l=Ar(),[c,d]=mt.useState(),[u,m]=mt.useState(!1),h=mt.useRef();let p;e[0]!==l?(p=()=>{m(!0),setTimeout((()=>{l.open()}),1e3),setTimeout((()=>{l.close()}),4950),setInterval((()=>{m(LU)}),5e3)},e[0]=l,e[1]=p):p=e[1];const f=p;let g;e[2]!==l?(g=()=>{m(!0),setTimeout((()=>{l.open()}),1e3),setInterval((()=>{m(TU)}),5e3)},e[2]=l,e[3]=g):g=e[3];const x=g;let _;e[4]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{m(!1),clearInterval(h.current)},e[4]=_):_=e[4];const y=_;let b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe,Te,Le,Ae,Ie,Re,De,Fe,Ee,Me,Be,Oe,ze;return e[5]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.gap_md],e[5]=b):b=e[5],e[6]!==s||e[7]!==n||e[8]!==t||e[9]!==o?(j=()=>{t.open(),n.open(),s.open(),o.open()},e[6]=s,e[7]=n,e[8]=t,e[9]=o,e[10]=j):j=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(Cr,{children:"Open all dialogs"}),e[11]=v):v=e[11],e[12]!==j?(w=(0,Ft.jsx)(Sr,{variant:"outline",color:"secondary",size:"small",onPress:j,label:"Open basic dialog",children:v}),e[12]=j,e[13]=w):w=e[13],e[14]!==t?(S=()=>{t.open()},e[14]=t,e[15]=S):S=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(Cr,{children:"Open scrollable dialog"}),e[16]=k):k=e[16],e[17]!==S?(C=(0,Ft.jsx)(Sr,{variant:"outline",color:"secondary",size:"small",onPress:S,label:"Open basic dialog",children:k}),e[17]=S,e[18]=C):C=e[18],e[19]!==s?(P=()=>{s.open()},e[19]=s,e[20]=P):P=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(Cr,{children:"Open basic dialog"}),e[21]=T):T=e[21],e[22]!==P?(L=(0,Ft.jsx)(Sr,{variant:"outline",color:"secondary",size:"small",onPress:P,label:"Open basic dialog",children:T}),e[22]=P,e[23]=L):L=e[23],e[24]!==o?(A=()=>o.open(),e[24]=o,e[25]=A):A=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(Cr,{children:"Open dialog with menu in it"}),e[26]=I):I=e[26],e[27]!==A?(R=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:A,label:"Open dialog with menu in it",children:I}),e[27]=A,e[28]=R):R=e[28],e[29]!==n?(D=()=>n.open(),e[29]=n,e[30]=D):D=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Cr,{children:"Open prompt"}),e[31]=F):F=e[31],e[32]!==D?(E=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:D,label:"Open prompt",children:F}),e[32]=D,e[33]=E):E=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(Cr,{children:"Open Tester"}),e[34]=M):M=e[34],e[35]!==r.open?(B=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:r.open,label:"one",children:M}),e[35]=r.open,e[36]=B):B=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(Cr,{children:"Start Unmount Test With `.close()` call"}),e[37]=O):O=e[37],e[38]!==f?(z=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:f,label:"two",children:O}),e[38]=f,e[39]=z):z=e[39],e[40]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(Cr,{children:"Start Unmount Test Without `.close()` call"}),e[40]=H):H=e[40],e[41]!==x?(N=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:x,label:"two",children:H}),e[41]=x,e[42]=N):N=e[42],e[43]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:y,label:"two",children:(0,Ft.jsx)(Cr,{children:"End Unmount Test"})}),e[43]=V):V=e[43],e[44]===Symbol.for("react.memo_cache_sentinel")?(q=()=>{const e=Ks();d(e)},e[44]=q):q=e[44],e[45]!==c?(U=c?.toString()||"undefined",e[45]=c,e[46]=U):U=e[46],e[47]!==U?(W=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:q,label:"two",children:(0,Ft.jsxs)(Cr,{children:["Is reduced motion enabled?: (",U,")"]})}),e[47]=U,e[48]=W):W=e[48],e[49]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(fx,{children:"This is a prompt"}),Q=(0,Ft.jsx)(gx,{children:"This is a generic prompt component. It accepts a title and a description, as well as two actions."}),e[49]=Z,e[50]=Q):(Z=e[49],Q=e[50]),e[51]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsxs)(xx,{children:[(0,Ft.jsx)(_x,{}),(0,Ft.jsx)(yx,{cta:"Confirm",onPress:PU})]}),e[51]=K):K=e[51],e[52]!==n?($=(0,Ft.jsxs)(px,{control:n,children:[Z,Q,K]}),e[52]=n,e[53]=$):$=e[53],e[54]===Symbol.for("react.memo_cache_sentinel")?(G=(0,Ft.jsxs)(la,{label:"test",children:[(0,Ft.jsx)(_r,{nativeID:"dialog-title",children:"Dialog"}),(0,Ft.jsx)(yr,{nativeID:"dialog-description",children:"A basic dialog"})]}),e[54]=G):G=e[54],e[55]!==s?(Y=(0,Ft.jsx)(aa,{control:s,children:G}),e[55]=s,e[56]=Y):Y=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(J=(0,Ft.jsx)(_r,{nativeID:"dialog-title",children:"Dialog with Menu"}),e[57]=J):J=e[57],e[58]===Symbol.for("react.memo_cache_sentinel")?(X=(0,Ft.jsx)(vC,{label:"Open menu",children:CU}),e[58]=X):X=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(SC,{label:"Item 1",onPress:kU,children:(0,Ft.jsx)(kC,{children:"Item 1"})}),e[59]=ee):ee=e[59],e[60]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsxs)(la,{label:"test",children:[J,(0,Ft.jsxs)(bC,{children:[X,(0,Ft.jsx)(wC,{children:(0,Ft.jsxs)(LC,{children:[ee,(0,Ft.jsx)(SC,{label:"Item 2",onPress:SU,children:(0,Ft.jsx)(kC,{children:"Item 2"})})]})})]})]}),e[60]=te):te=e[60],e[61]!==o?(se=(0,Ft.jsx)(aa,{control:o,children:te}),e[61]=o,e[62]=se):se=e[62],e[63]===Symbol.for("react.memo_cache_sentinel")?(ne=[kl.relative,kl.gap_md,kl.w_full],oe=(0,Ft.jsx)(_r,{nativeID:"dialog-title",children:"Dialog"}),re=(0,Ft.jsx)(yr,{nativeID:"dialog-description",children:"A scrollable dialog with an input within it."}),ie=(0,Ft.jsx)(ea,{value:"",onChangeText:wU,label:"Type here"}),e[63]=ne,e[64]=oe,e[65]=re,e[66]=ie):(ne=e[63],oe=e[64],re=e[65],ie=e[66]),e[67]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,Ft.jsx)(Cr,{children:"Close all dialogs"}),e[67]=ae):ae=e[67],e[68]!==a?(le=(0,Ft.jsx)(Sr,{variant:"outline",color:"secondary",size:"small",onPress:a,label:"Close all dialogs",children:ae}),e[68]=a,e[69]=le):le=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsx)(wo.default,{style:{height:1e3}}),e[70]=ce):ce=e[70],e[71]===Symbol.for("react.memo_cache_sentinel")?(de=[kl.flex_row,kl.justify_end],e[71]=de):de=e[71],e[72]!==t?(ue=()=>t.close(vU),e[72]=t,e[73]=ue):ue=e[73],e[74]===Symbol.for("react.memo_cache_sentinel")?(me=(0,Ft.jsx)(Cr,{children:"Close dialog"}),e[74]=me):me=e[74],e[75]!==ue?(he=(0,Ft.jsx)(wo.default,{style:de,children:(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:ue,label:"Open basic dialog",children:me})}),e[75]=ue,e[76]=he):he=e[76],e[77]!==le||e[78]!==he?(pe=(0,Ft.jsx)(da,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,Ft.jsxs)(wo.default,{style:ne,children:[oe,re,ie,le,ce,he]})}),e[77]=le,e[78]=he,e[79]=pe):pe=e[79],e[80]!==t||e[81]!==pe?(fe=(0,Ft.jsx)(aa,{control:t,children:pe}),e[80]=t,e[81]=pe,e[82]=fe):fe=e[82],e[83]===Symbol.for("react.memo_cache_sentinel")?(ge=[kl.relative,kl.gap_md,kl.w_full],xe=(0,Ft.jsx)(fr,{children:"Watch the console logs to test each of these dialog edge cases. Functionality should be consistent across both native and web. If not then *sad face* something is wrong."}),e[83]=ge,e[84]=xe):(ge=e[83],xe=e[84]),e[85]!==r?(_e=()=>{r.close(jU)},e[85]=r,e[86]=_e):_e=e[86],e[87]===Symbol.for("react.memo_cache_sentinel")?(ye=(0,Ft.jsx)(Cr,{children:"Normal Use (Should just log)"}),e[87]=ye):ye=e[87],e[88]!==_e?(be=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:_e,label:"Close It",children:ye}),e[88]=_e,e[89]=be):be=e[89],e[90]!==r?(je=()=>{r.close(bU),setTimeout((()=>{r.open()}),100)},e[90]=r,e[91]=je):je=e[91],e[92]===Symbol.for("react.memo_cache_sentinel")?(ve=(0,Ft.jsx)(Cr,{children:"Calls `.open()` in 100ms (Should log when the animation switches to open)"}),e[92]=ve):ve=e[92],e[93]!==je?(we=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:je,label:"Close It",children:ve}),e[93]=je,e[94]=we):we=e[94],e[95]!==r?(Se=()=>{setTimeout((()=>{r.open()}),2e3),r.close(yU)},e[95]=r,e[96]=Se):Se=e[96],e[97]===Symbol.for("react.memo_cache_sentinel")?(ke=(0,Ft.jsx)(Cr,{children:"Calls `.open()` in 2000ms (Should log after close animation and not log on open)"}),e[97]=ke):ke=e[97],e[98]!==Se?(Ce=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:Se,label:"Close It",children:ke}),e[98]=Se,e[99]=Ce):Ce=e[99],e[100]!==r?(Pe=()=>{r.close(_U),setTimeout((()=>{r.close(xU)}),100)},e[100]=r,e[101]=Pe):Pe=e[101],e[102]===Symbol.for("react.memo_cache_sentinel")?(Te=(0,Ft.jsx)(Cr,{children:"Calls `.close()` then again in 100ms (should log twice)"}),e[102]=Te):Te=e[102],e[103]!==Pe?(Le=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:Pe,label:"Close It",children:Te}),e[103]=Pe,e[104]=Le):Le=e[104],e[105]!==r?(Ae=()=>{r.close(gU),r.close(fU)},e[105]=r,e[106]=Ae):Ae=e[106],e[107]===Symbol.for("react.memo_cache_sentinel")?(Ie=(0,Ft.jsx)(Cr,{children:"Call `close()` twice immediately (should just log twice)"}),e[107]=Ie):Ie=e[107],e[108]!==Ae?(Re=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:Ae,label:"Close It",children:Ie}),e[108]=Ae,e[109]=Re):Re=e[109],e[110]!==r?(De=()=>{r.close(pU)},e[110]=r,e[111]=De):De=e[111],e[112]===Symbol.for("react.memo_cache_sentinel")?(Fe=(0,Ft.jsx)(Cr,{children:"Log before `close()`, after `close()` and in the `close()` callback. Should be an order of 1 2 3"}),e[112]=Fe):Fe=e[112],e[113]!==De?(Ee=(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",onPress:De,label:"Close It",children:Fe}),e[113]=De,e[114]=Ee):Ee=e[114],e[115]!==be||e[116]!==we||e[117]!==Ce||e[118]!==Le||e[119]!==Re||e[120]!==Ee?(Me=(0,Ft.jsx)(da,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,Ft.jsxs)(wo.default,{style:ge,children:[xe,be,we,Ce,Le,Re,Ee]})}),e[115]=be,e[116]=we,e[117]=Ce,e[118]=Le,e[119]=Re,e[120]=Ee,e[121]=Me):Me=e[121],e[122]!==Me||e[123]!==r?(Be=(0,Ft.jsx)(aa,{control:r,children:Me}),e[122]=Me,e[123]=r,e[124]=Be):Be=e[124],e[125]!==u||e[126]!==l?(Oe=u&&(0,Ft.jsx)(aa,{control:l,children:(0,Ft.jsxs)(la,{label:"test",children:[(0,Ft.jsx)(_r,{nativeID:"dialog-title",children:"Unmount Test Dialog"}),(0,Ft.jsx)(yr,{nativeID:"dialog-description",children:"Will unmount in about 5 seconds"})]})}),e[125]=u,e[126]=l,e[127]=Oe):Oe=e[127],e[128]!==L||e[129]!==R||e[130]!==E||e[131]!==B||e[132]!==z||e[133]!==N||e[134]!==W||e[135]!==$||e[136]!==Y||e[137]!==se||e[138]!==fe||e[139]!==w||e[140]!==Be||e[141]!==Oe||e[142]!==C?(ze=(0,Ft.jsxs)(wo.default,{style:b,children:[w,C,L,R,E,B,z,N,V,W,$,Y,se,fe,Be,Oe]}),e[128]=L,e[129]=R,e[130]=E,e[131]=B,e[132]=z,e[133]=N,e[134]=W,e[135]=$,e[136]=Y,e[137]=se,e[138]=fe,e[139]=w,e[140]=Be,e[141]=Oe,e[142]=C,e[143]=ze):ze=e[143],ze}function pU(){}function fU(){}function gU(){}function xU(){}function _U(){}function yU(){}function bU(){}function jU(){}function vU(){}function wU(){}function SU(){}function kU(){}function CU(e){const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({style:kl.mt_2xl,label:"Open menu",color:"primary",variant:"solid",size:"large"},t,{children:(0,Ft.jsx)(Cr,{children:"Open Menu"})}))}function PU(){}function TU(e){return!e}function LU(e){return!e}var AU=s(60718);function IU(e){return("string"===typeof e?new Date(e):e).toISOString().split("T")[0]}const RU=zr({path:"M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Zm1 16V9h14v10H5ZM5 7h14V5H5v2Zm3 10.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM17.25 12a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM12 13.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5ZM9.25 12a1.25 1.25 0 1 1-2.5 0 1.25 1.25 0 0 1 2.5 0ZM12 17.25a1.25 1.25 0 1 0 0-2.5 1.25 1.25 0 0 0 0 2.5Z"}),DU=["style"],FU=ta,EU=mt.forwardRef(((e,t)=>{let{style:s}=e,n=(0,ls.default)(e,DU);return(0,AU.default)("input",Object.assign({},n,{ref:t,type:"date",style:[Gn.default.flatten(s),{background:"transparent",border:0}]}))}));EU.displayName="InputBase";const MU=Xi(EU);function BU(e){const t=(0,i.c)(18),{value:s,inputRef:n,onChangeDate:o,label:r,isInvalid:a,testID:l,accessibilityHint:c,maximumDate:d}=e;let u;t[0]!==o?(u=e=>{const t=e.target.valueAsDate||e.target.value;if(t){const e=IU(t);o(e)}},t[0]=o,t[1]=u):u=t[1];const m=u;let h,p;t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(sa,{icon:RU}),t[2]=h):h=t[2],t[3]!==s?(p=IU(s),t[3]=s,t[4]=p):p=t[4];const f=n;let g,x,_;return t[5]!==d?(g=d?IU(d):void 0,t[5]=d,t[6]=g):g=t[6],t[7]!==c||t[8]!==m||t[9]!==r||t[10]!==p||t[11]!==f||t[12]!==g||t[13]!==l?(x=(0,Ft.jsx)(MU,{value:p,inputRef:f,label:r,onChange:m,testID:l,accessibilityHint:c,max:g}),t[7]=c,t[8]=m,t[9]=r,t[10]=p,t[11]=f,t[12]=g,t[13]=l,t[14]=x):x=t[14],t[15]!==a||t[16]!==x?(_=(0,Ft.jsxs)(Yi,{isInvalid:a,children:[h,x]}),t[15]=a,t[16]=x,t[17]=_):_=t[17],_}function OU(){const e=(0,i.c)(101);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["a"],e[0]=t):t=e[0];const[s,n]=mt.useState(t);let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=["a","b"],e[1]=o):o=e[1];const[r,a]=mt.useState(o);let l;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=["a","b"],e[2]=l):l=e[2];const[c,d]=mt.useState(l);let u;e[3]===Symbol.for("react.memo_cache_sentinel")?(u=["warn"],e[3]=u):u=e[3];const[m,h]=mt.useState(u),[p,f]=mt.useState(""),[g,x]=mt.useState("2001-01-01"),_=mt.useRef(null);let y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe,Te,Le,Ae,Ie,Re;return e[4]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.gap_4xl,kl.align_start],b=(0,Ft.jsx)(xr,{children:"Forms"}),e[4]=y,e[5]=b):(y=e[4],b=e[5]),e[6]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.gap_md,kl.align_start,kl.w_full],v=(0,Ft.jsx)(_r,{children:"InputText"}),e[6]=j,e[7]=v):(j=e[6],v=e[7]),e[8]!==p?(w=(0,Ft.jsx)(ea,{value:p,onChangeText:f,label:"Text field"}),e[8]=p,e[9]=w):w=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_row,kl.align_start,kl.gap_sm],e[10]=S):S=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.flex_1],e[11]=k):k=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(sa,{icon:eP}),e[12]=C):C=e[12],e[13]!==p?(P=(0,Ft.jsx)(wo.default,{style:k,children:(0,Ft.jsxs)(Yi,{children:[C,(0,Ft.jsx)(ea,{inputRef:_,value:p,onChangeText:f,label:"Text field"})]})}),e[13]=p,e[14]=P):P=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(Sr,{label:"Submit",size:"large",variant:"solid",color:"primary",onPress:()=>_.current?.clear(),children:(0,Ft.jsx)(Cr,{children:"Submit"})}),e[15]=T):T=e[15],e[16]!==P?(L=(0,Ft.jsxs)(wo.default,{style:S,children:[P,T]}),e[16]=P,e[17]=L):L=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(sa,{icon:eP}),e[18]=A):A=e[18],e[19]!==p?(I=(0,Ft.jsxs)(Yi,{children:[A,(0,Ft.jsx)(ea,{value:p,onChangeText:f,label:"Text field"})]}),e[19]=p,e[20]=I):I=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(sa,{icon:eP}),e[21]=R):R=e[21],e[22]!==p?(D=(0,Ft.jsxs)(Yi,{children:[R,(0,Ft.jsx)(ea,{value:p,onChangeText:f,label:"Text field",isInvalid:!0})]}),e[22]=p,e[23]=D):D=e[23],e[24]===Symbol.for("react.memo_cache_sentinel")?(F=[kl.w_full],E=(0,Ft.jsx)(ta,{children:"Text field"}),e[24]=F,e[25]=E):(F=e[24],E=e[25]),e[26]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(sa,{icon:eP}),e[26]=M):M=e[26],e[27]!==p?(B=(0,Ft.jsx)(ea,{value:p,onChangeText:f,label:"Text field"}),e[27]=p,e[28]=B):B=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(na,{label:"@gmail.com",children:"@gmail.com"}),e[29]=O):O=e[29],e[30]!==B?(z=(0,Ft.jsxs)(wo.default,{style:F,children:[E,(0,Ft.jsxs)(Yi,{children:[M,B,O]})]}),e[30]=B,e[31]=z):z=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.w_full],N=(0,Ft.jsx)(ta,{children:"Textarea"}),e[32]=H,e[33]=N):(H=e[32],N=e[33]),e[34]!==p?(V=(0,Ft.jsxs)(wo.default,{style:H,children:[N,(0,Ft.jsx)(ea,{multiline:!0,numberOfLines:4,value:p,onChangeText:f,label:"Text field"})]}),e[34]=p,e[35]=V):V=e[35],e[36]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsx)(_r,{children:"DateField"}),e[36]=q):q=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(U=[kl.w_full],W=(0,Ft.jsx)(FU,{children:"Date"}),e[37]=U,e[38]=W):(U=e[37],W=e[38]),e[39]===Symbol.for("react.memo_cache_sentinel")?(Z=e=>{x(e)},e[39]=Z):Z=e[39],e[40]!==g?(Q=(0,Ft.jsxs)(wo.default,{style:U,children:[W,(0,Ft.jsx)(BU,{testID:"date",value:g,onChangeDate:Z,label:"Input"})]}),e[40]=g,e[41]=Q):Q=e[41],e[42]!==L||e[43]!==I||e[44]!==D||e[45]!==z||e[46]!==V||e[47]!==Q||e[48]!==w?(K=(0,Ft.jsxs)(wo.default,{style:j,children:[v,w,L,I,D,z,V,q,Q]}),e[42]=L,e[43]=I,e[44]=D,e[45]=z,e[46]=V,e[47]=Q,e[48]=w,e[49]=K):K=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?($=[kl.gap_md,kl.align_start,kl.w_full],G=(0,Ft.jsx)(_r,{children:"Toggles"}),e[50]=$,e[51]=G):($=e[50],G=e[51]),e[52]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,Ft.jsxs)(iI,{name:"a",label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Uncontrolled toggle"})]}),e[52]=Y):Y=e[52],e[53]===Symbol.for("react.memo_cache_sentinel")?(J=[kl.gap_md],e[53]=J):J=e[53],e[54]===Symbol.for("react.memo_cache_sentinel")?(X=(0,Ft.jsxs)(iI,{name:"a",label:"Click me",children:[(0,Ft.jsx)(dI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[54]=X):X=e[54],e[55]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsxs)(iI,{name:"b",label:"Click me",children:[(0,Ft.jsx)(dI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[55]=ee):ee=e[55],e[56]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsxs)(iI,{name:"c",label:"Click me",children:[(0,Ft.jsx)(dI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[56]=te):te=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(se=(0,Ft.jsxs)(iI,{name:"d",disabled:!0,label:"Click me",children:[(0,Ft.jsx)(dI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[57]=se):se=e[57],e[58]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,Ft.jsxs)(wo.default,{style:J,children:[X,ee,te,se,(0,Ft.jsxs)(iI,{name:"e",isInvalid:!0,label:"Click me",children:[(0,Ft.jsx)(dI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]})]}),e[58]=ne):ne=e[58],e[59]!==s?(oe=(0,Ft.jsx)(rI,{label:"Toggle",type:"checkbox",maxSelections:2,values:s,onChange:n,children:ne}),e[59]=s,e[60]=oe):oe=e[60],e[61]===Symbol.for("react.memo_cache_sentinel")?(re=[kl.gap_md],e[61]=re):re=e[61],e[62]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,Ft.jsxs)(iI,{name:"a",label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[62]=ie):ie=e[62],e[63]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,Ft.jsxs)(iI,{name:"b",label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[63]=ae):ae=e[63],e[64]===Symbol.for("react.memo_cache_sentinel")?(le=(0,Ft.jsxs)(iI,{name:"c",label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[64]=le):le=e[64],e[65]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsxs)(iI,{name:"d",disabled:!0,label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[65]=ce):ce=e[65],e[66]===Symbol.for("react.memo_cache_sentinel")?(de=(0,Ft.jsxs)(wo.default,{style:re,children:[ie,ae,le,ce,(0,Ft.jsxs)(iI,{name:"e",isInvalid:!0,label:"Click me",children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]})]}),e[66]=de):de=e[66],e[67]!==r?(ue=(0,Ft.jsx)(rI,{label:"Toggle",type:"checkbox",maxSelections:2,values:r,onChange:a,children:de}),e[67]=r,e[68]=ue):ue=e[68],e[69]===Symbol.for("react.memo_cache_sentinel")?(me=[kl.gap_md],e[69]=me):me=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(he=(0,Ft.jsxs)(iI,{name:"a",label:"Click me",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[70]=he):he=e[70],e[71]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,Ft.jsxs)(iI,{name:"b",label:"Click me",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[71]=pe):pe=e[71],e[72]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,Ft.jsxs)(iI,{name:"c",label:"Click me",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[72]=fe):fe=e[72],e[73]===Symbol.for("react.memo_cache_sentinel")?(ge=(0,Ft.jsxs)(iI,{name:"d",disabled:!0,label:"Click me",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]}),e[73]=ge):ge=e[73],e[74]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,Ft.jsxs)(wo.default,{style:me,children:[he,pe,fe,ge,(0,Ft.jsxs)(iI,{name:"e",isInvalid:!0,label:"Click me",children:[(0,Ft.jsx)(uI,{}),(0,Ft.jsx)(aI,{children:"Click me"})]})]}),e[74]=xe):xe=e[74],e[75]!==c?(_e=(0,Ft.jsx)(rI,{label:"Toggle",type:"radio",values:c,onChange:d,children:xe}),e[75]=c,e[76]=_e):_e=e[76],e[77]!==oe||e[78]!==ue||e[79]!==_e?(ye=(0,Ft.jsxs)(wo.default,{style:$,children:[G,Y,oe,ue,_e]}),e[77]=oe,e[78]=ue,e[79]=_e,e[80]=ye):ye=e[80],e[81]===Symbol.for("react.memo_cache_sentinel")?(be=(0,Ft.jsx)(Sr,{variant:"gradient",color:"gradient_nordic",size:"small",label:"Reset all toggles",onPress:()=>{n(["a"]),a(["a","b"]),d(["a"])},children:(0,Ft.jsx)(Cr,{children:"Reset all toggles"})}),e[81]=be):be=e[81],e[82]===Symbol.for("react.memo_cache_sentinel")?(je=[kl.gap_md,kl.align_start,kl.w_full],ve=(0,Ft.jsx)(_r,{children:"ToggleButton"}),e[82]=je,e[83]=ve):(je=e[82],ve=e[83]),e[84]===Symbol.for("react.memo_cache_sentinel")?(we=(0,Ft.jsx)(gI,{name:"hide",label:"Hide",children:(0,Ft.jsx)(_I,{children:"Hide"})}),e[84]=we):we=e[84],e[85]===Symbol.for("react.memo_cache_sentinel")?(Se=(0,Ft.jsx)(gI,{name:"warn",label:"Warn",children:(0,Ft.jsx)(_I,{children:"Warn"})}),e[85]=Se):Se=e[85],e[86]===Symbol.for("react.memo_cache_sentinel")?(ke=(0,Ft.jsx)(gI,{name:"show",label:"Show",children:(0,Ft.jsx)(_I,{children:"Show"})}),e[86]=ke):ke=e[86],e[87]!==m?(Ce=(0,Ft.jsxs)(fI,{label:"Preferences",values:m,onChange:h,children:[we,Se,ke]}),e[87]=m,e[88]=Ce):Ce=e[88],e[89]===Symbol.for("react.memo_cache_sentinel")?(Pe=(0,Ft.jsx)(gI,{name:"hide",label:"Hide",children:(0,Ft.jsx)(_I,{children:"Hide"})}),e[89]=Pe):Pe=e[89],e[90]===Symbol.for("react.memo_cache_sentinel")?(Te=(0,Ft.jsx)(gI,{name:"warn",label:"Warn",children:(0,Ft.jsx)(_I,{children:"Warn"})}),e[90]=Te):Te=e[90],e[91]===Symbol.for("react.memo_cache_sentinel")?(Le=(0,Ft.jsx)(gI,{name:"show",label:"Show",children:(0,Ft.jsx)(_I,{children:"Show"})}),e[91]=Le):Le=e[91],e[92]!==m?(Ae=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsxs)(fI,{label:"Preferences",values:m,onChange:h,children:[Pe,Te,Le]})}),e[92]=m,e[93]=Ae):Ae=e[93],e[94]!==Ce||e[95]!==Ae?(Ie=(0,Ft.jsxs)(wo.default,{style:je,children:[ve,Ce,Ae]}),e[94]=Ce,e[95]=Ae,e[96]=Ie):Ie=e[96],e[97]!==K||e[98]!==ye||e[99]!==Ie?(Re=(0,Ft.jsxs)(wo.default,{style:y,children:[b,K,ye,be,Ie]}),e[97]=K,e[98]=ye,e[99]=Ie,e[100]=Re):Re=e[100],Re}function zU(){const e=(0,i.c)(20),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_md],n=(0,Ft.jsx)(xr,{children:"Icons"}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_row,kl.gap_xl],e[2]=o):o=e[2],e[3]!==t.atoms.text.color?(r=(0,Ft.jsxs)(wo.default,{style:o,children:[(0,Ft.jsx)(eP,{size:"xs",fill:t.atoms.text.color}),(0,Ft.jsx)(eP,{size:"sm",fill:t.atoms.text.color}),(0,Ft.jsx)(eP,{size:"md",fill:t.atoms.text.color}),(0,Ft.jsx)(eP,{size:"lg",fill:t.atoms.text.color}),(0,Ft.jsx)(eP,{size:"xl",fill:t.atoms.text.color})]}),e[3]=t.atoms.text.color,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_row,kl.gap_xl],e[5]=a):a=e[5],e[6]!==t.atoms.text.color?(l=(0,Ft.jsxs)(wo.default,{style:a,children:[(0,Ft.jsx)(el,{size:"xs",fill:t.atoms.text.color}),(0,Ft.jsx)(el,{size:"sm",fill:t.atoms.text.color}),(0,Ft.jsx)(el,{size:"md",fill:t.atoms.text.color}),(0,Ft.jsx)(el,{size:"lg",fill:t.atoms.text.color}),(0,Ft.jsx)(el,{size:"xl",fill:t.atoms.text.color})]}),e[6]=t.atoms.text.color,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_row,kl.gap_xl],e[8]=c):c=e[8],e[9]!==t.atoms.text.color?(d=(0,Ft.jsxs)(wo.default,{style:c,children:[(0,Ft.jsx)(RU,{size:"xs",fill:t.atoms.text.color}),(0,Ft.jsx)(RU,{size:"sm",fill:t.atoms.text.color}),(0,Ft.jsx)(RU,{size:"md",fill:t.atoms.text.color}),(0,Ft.jsx)(RU,{size:"lg",fill:t.atoms.text.color}),(0,Ft.jsx)(RU,{size:"xl",fill:t.atoms.text.color})]}),e[9]=t.atoms.text.color,e[10]=d):d=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_row,kl.gap_xl],e[11]=u):u=e[11],e[12]!==t.atoms.text.color?(m=(0,Ft.jsxs)(wo.default,{style:u,children:[(0,Ft.jsx)(wv,{size:"xs",fill:t.atoms.text.color}),(0,Ft.jsx)(wv,{size:"sm",fill:t.atoms.text.color}),(0,Ft.jsx)(wv,{size:"md",fill:t.atoms.text.color}),(0,Ft.jsx)(wv,{size:"lg",fill:t.atoms.text.color}),(0,Ft.jsx)(wv,{size:"xl",fill:t.atoms.text.color})]}),e[12]=t.atoms.text.color,e[13]=m):m=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xl],children:[(0,Ft.jsx)(eP,{size:"xs",gradient:"sky"}),(0,Ft.jsx)(eP,{size:"sm",gradient:"sky"}),(0,Ft.jsx)(eP,{size:"md",gradient:"sky"}),(0,Ft.jsx)(eP,{size:"lg",gradient:"sky"}),(0,Ft.jsx)(eP,{size:"xl",gradient:"sky"})]}),e[14]=h):h=e[14],e[15]!==r||e[16]!==l||e[17]!==d||e[18]!==m?(p=(0,Ft.jsxs)(wo.default,{style:s,children:[n,r,l,d,m,h]}),e[15]=r,e[16]=l,e[17]=d,e[18]=m,e[19]=p):p=e[19],p}function HU(){const e=(0,i.c)(21),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f,g;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_md,kl.align_start],n=(0,Ft.jsx)(xr,{children:"Links"}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.gap_md,kl.align_start],e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(fv,{label:"foo",to:"https://google.com",style:[kl.text_lg],children:"https://google.com"}),e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(fv,{label:"foo",to:"https://google.com",style:[kl.text_lg],children:"External with custom children (google.com)"}),e[4]=a):a=e[4],e[5]!==t.atoms.text_contrast_low?(l=(0,Ft.jsx)(fv,{label:"foo",to:"https://bsky.social",style:[kl.text_md,t.atoms.text_contrast_low],children:"Internal (bsky.social)"}),e[5]=t.atoms.text_contrast_low,e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(fv,{label:"foo",to:"https://bsky.app/profile/bsky.app",style:[kl.text_md],children:"Internal (bsky.app)"}),e[7]=c):c=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(pv,{variant:"solid",color:"primary",size:"large",label:"View @bsky.app's profile",to:"https://bsky.app/profile/bsky.app",children:(0,Ft.jsx)(Cr,{children:"Link as a button"})}),e[8]=d):d=e[8],e[9]!==t.atoms.bg_contrast_25?(u=[kl.flex_row,kl.align_center,kl.gap_md,kl.rounded_md,kl.p_md,t.atoms.bg_contrast_25],e[9]=t.atoms.bg_contrast_25,e[10]=u):u=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(m={width:32,height:32},e[11]=m):m=e[11],e[12]!==t.atoms.bg_contrast_200?(h=(0,Ft.jsx)(wo.default,{style:[m,kl.rounded_full,t.atoms.bg_contrast_200]}),e[12]=t.atoms.bg_contrast_200,e[13]=h):h=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(fr,{children:"View @bsky.app's profile"}),e[14]=p):p=e[14],e[15]!==h||e[16]!==u?(f=(0,Ft.jsx)(pv,{label:"View @bsky.app's profile",to:"https://bsky.app/profile/bsky.app",children:(0,Ft.jsxs)(wo.default,{style:u,children:[h,p]})}),e[15]=h,e[16]=u,e[17]=f):f=e[17],e[18]!==f||e[19]!==l?(g=(0,Ft.jsxs)(wo.default,{style:s,children:[n,(0,Ft.jsxs)(wo.default,{style:o,children:[r,a,l,c,d,f]})]}),e[18]=f,e[19]=l,e[20]=g):g=e[20],g}function NU(){const e=(0,i.c)(27),t=ec(),s=yC();let n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.gap_md],e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_row,kl.align_start],e[1]=o):o=e[1],e[2]!==t.atoms.bg_contrast_200||e[3]!==t.atoms.bg_contrast_50?(r=(0,Ft.jsx)(vC,{label:"Open basic menu",children:e=>{const{state:s,props:n}=e;return(0,Ft.jsx)(fr,Object.assign({},n,{style:[kl.py_sm,kl.px_md,kl.rounded_sm,t.atoms.bg_contrast_50,(s.hovered||s.focused||s.pressed)&&[t.atoms.bg_contrast_200]],children:"Open"}))}}),e[2]=t.atoms.bg_contrast_200,e[3]=t.atoms.bg_contrast_50,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsxs)(SC,{label:"Click me",onPress:UU,children:[(0,Ft.jsx)(CC,{icon:nC}),(0,Ft.jsx)(kC,{children:"Click me"})]}),e[5]=a):a=e[5],e[6]!==s?(l=()=>s.close(),e[6]=s,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(kC,{children:"Another item"}),e[8]=c):c=e[8],e[9]!==l?(d=(0,Ft.jsxs)(LC,{children:[a,(0,Ft.jsx)(SC,{label:"Another item",onPress:l,children:c})]}),e[9]=l,e[10]=d):d=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(AC,{}),e[11]=u):u=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(SC,{label:"Click me",onPress:qU,children:[(0,Ft.jsx)(CC,{icon:nC}),(0,Ft.jsx)(kC,{children:"Click me"})]}),e[12]=m):m=e[12],e[13]!==s?(h=()=>s.close(),e[13]=s,e[14]=h):h=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(kC,{children:"Another item"}),e[15]=p):p=e[15],e[16]!==h?(f=(0,Ft.jsxs)(LC,{children:[m,(0,Ft.jsx)(SC,{label:"Another item",onPress:h,children:p})]}),e[16]=h,e[17]=f):f=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(AC,{}),e[18]=g):g=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsxs)(SC,{label:"Click me",onPress:VU,children:[(0,Ft.jsx)(CC,{icon:nC}),(0,Ft.jsx)(kC,{children:"Click me"})]}),e[19]=x):x=e[19],e[20]!==f||e[21]!==d?(_=(0,Ft.jsxs)(wC,{children:[d,u,f,g,x]}),e[20]=f,e[21]=d,e[22]=_):_=e[22],e[23]!==s||e[24]!==_||e[25]!==r?(y=(0,Ft.jsx)(wo.default,{style:n,children:(0,Ft.jsx)(wo.default,{style:o,children:(0,Ft.jsxs)(bC,{control:s,children:[r,_]})})}),e[23]=s,e[24]=_,e[25]=r,e[26]=y):y=e[26],y}function VU(){}function qU(){}function UU(){}const WU=["children","destructive","contentContainerStyle","chevronColor"],ZU=["children","destructive","contentContainerStyle","hoverStyle"],QU=["style"],KU=mt.createContext({destructive:!1,withinGroup:!1}),$U=Nr();function GU(e){const t=(0,i.c)(3),{children:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_1,kl.py_md],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function YU(e){const t=(0,i.c)(17),{children:s,destructive:n,iconInset:o,style:r,contentContainerStyle:a}=e,l=void 0!==n&&n,c=void 0===o||o;let d,u;t[0]!==l?(u={destructive:l,withinGroup:!0},t[0]=l,t[1]=u):u=t[1],d=u;const m=d;let h,p,f,g,x,_;return t[2]!==r?(h=[kl.w_full,r],t[2]=r,t[3]=h):h=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(JU,{style:[kl.pb_2xs,{minHeight:42}],children:(0,Ft.jsx)($U.Outlet,{})}),t[4]=p):p=t[4],t[5]!==a?(f=[kl.flex_col,kl.pt_2xs,kl.align_start,kl.gap_0,a],t[5]=a,t[6]=f):f=t[6],t[7]!==s||t[8]!==c||t[9]!==f?(g=(0,Ft.jsx)(JU,{style:f,iconInset:c,children:s}),t[7]=s,t[8]=c,t[9]=f,t[10]=g):g=t[10],t[11]!==m||t[12]!==g?(x=(0,Ft.jsx)($U.Provider,{children:(0,Ft.jsxs)(KU.Provider,{value:m,children:[p,g]})}),t[11]=m,t[12]=g,t[13]=x):x=t[13],t[14]!==h||t[15]!==x?(_=(0,Ft.jsx)(wo.default,{style:h,children:x}),t[14]=h,t[15]=x,t[16]=_):_=t[16],_}function JU(e){const t=(0,i.c)(15),{children:s,destructive:n,iconInset:o,style:r}=e,a=void 0!==o&&o,l=(0,mt.useContext)(KU);let c;e:{if("boolean"!==typeof n){c=l;break e}let e;t[0]!==l||t[1]!==n?(e=Object.assign({},l,{destructive:n}),t[0]=l,t[1]=n,t[2]=e):e=t[2],c=e}const d=c;let u,m,h,p,f;return t[3]===Symbol.for("react.memo_cache_sentinel")?(u={minHeight:48},t[3]=u):u=t[3],t[4]!==a?(m=a&&{paddingLeft:kl.pl_xl.paddingLeft+28+kl.gap_md.gap},t[4]=a,t[5]=m):m=t[5],t[6]!==r||t[7]!==m?(h=[kl.px_xl,kl.py_sm,kl.align_center,kl.gap_md,kl.w_full,kl.flex_row,u,m,r],t[6]=r,t[7]=m,t[8]=h):h=t[8],t[9]!==d||t[10]!==s?(p=(0,Ft.jsx)(KU.Provider,{value:d,children:s}),t[9]=d,t[10]=s,t[11]=p):p=t[11],t[12]!==h||t[13]!==p?(f=(0,Ft.jsx)(wo.default,{style:h,children:p}),t[12]=h,t[13]=p,t[14]=f):f=t[14],f}function XU(e){const t=(0,i.c)(15);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:n,destructive:a,contentContainerStyle:o,chevronColor:s}=l),r=(0,ls.default)(l,WU),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5];const c=void 0!==a&&a,d=ec();let u,m;return t[6]!==s||t[7]!==n||t[8]!==o||t[9]!==c||t[10]!==d?(u=e=>(0,Ft.jsxs)(JU,{destructive:c,style:[(e.hovered||e.pressed)&&[d.atoms.bg_contrast_25],o],children:["function"===typeof n?n(e):n,(0,Ft.jsx)(oW,{color:s})]}),t[6]=s,t[7]=n,t[8]=o,t[9]=c,t[10]=d,t[11]=u):u=t[11],t[12]!==r||t[13]!==u?(m=(0,Ft.jsx)(pv,Object.assign({color:"secondary"},r,{children:u})),t[12]=r,t[13]=u,t[14]=m):m=t[14],m}function eW(e){const t=(0,i.c)(15);let s,n,o,r,a;if(t[0]!==e){var l=e;({children:s,destructive:a,contentContainerStyle:n,hoverStyle:o}=l),r=(0,ls.default)(l,ZU),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5];const c=void 0!==a&&a,d=ec();let u,m;return t[6]!==s||t[7]!==n||t[8]!==c||t[9]!==o||t[10]!==d?(u=e=>(0,Ft.jsx)(JU,{destructive:c,style:[(e.hovered||e.pressed)&&[d.atoms.bg_contrast_25,o],n],children:"function"===typeof s?s(e):s}),t[6]=s,t[7]=n,t[8]=c,t[9]=o,t[10]=d,t[11]=u):u=t[11],t[12]!==r||t[13]!==u?(m=(0,Ft.jsx)(Sr,Object.assign({},r,{children:u})),t[12]=r,t[13]=u,t[14]=m):m=t[14],m}function tW(e){const t=(0,i.c)(14),{icon:s,size:n,color:o}=e,r=void 0===n?"xl":n,a=ec(),{destructive:l,withinGroup:c}=(0,mt.useContext)(KU);let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={xs:12,sm:16,md:20,lg:24,xl:28,"2xl":32},t[0]=d):d=t[0];const u=d[r],m=o??(l?a.palette.negative_500:a.atoms.text.color);let h,p,f,g;t[1]!==u?(h=[kl.z_20,{width:u,height:u}],t[1]=u,t[2]=h):h=t[2],t[3]!==m?(p=[{color:m}],t[3]=m,t[4]=p):p=t[4],t[5]!==s||t[6]!==u||t[7]!==p?(f=(0,Ft.jsx)(s,{width:u,style:p}),t[5]=s,t[6]=u,t[7]=p,t[8]=f):f=t[8],t[9]!==h||t[10]!==f?(g=(0,Ft.jsx)(wo.default,{style:h,children:f}),t[9]=h,t[10]=f,t[11]=g):g=t[11];const x=g;if(c){let e;return t[12]!==x?(e=(0,Ft.jsx)($U.Portal,{children:x}),t[12]=x,t[13]=e):e=t[13],e}return x}function sW(e){const t=(0,i.c)(15);let s,n;if(t[0]!==e){var o=e;({style:n}=o),s=(0,ls.default)(o,QU),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const r=ec(),{destructive:a,withinGroup:l}=(0,mt.useContext)(KU);let c,d,u;t[3]!==a||t[4]!==r.atoms||t[5]!==r.palette?(c=a?{color:r.palette.negative_500}:r.atoms.text,t[3]=a,t[4]=r.atoms,t[5]=r.palette,t[6]=c):c=t[6],t[7]!==n||t[8]!==c?(d=[kl.text_md,kl.font_normal,kl.text_left,kl.flex_1,c,n],t[7]=n,t[8]=c,t[9]=d):d=t[9],t[10]!==s||t[11]!==d?(u=(0,Ft.jsx)(Cr,Object.assign({style:d},s)),t[10]=s,t[11]=d,t[12]=u):u=t[12];const m=u;if(l){let e;return t[13]!==m?(e=(0,Ft.jsx)($U.Portal,{children:m}),t[13]=m,t[14]=e):e=t[14],e}return m}function nW(e){const t=(0,i.c)(3),{style:s}=e,n=ec();let o;return t[0]!==s||t[1]!==n.atoms.border_contrast_medium?(o=(0,Ft.jsx)(wo.default,{style:[kl.border_t,n.atoms.border_contrast_medium,kl.w_full,kl.my_sm,s]}),t[0]=s,t[1]=n.atoms.border_contrast_medium,t[2]=o):o=t[2],o}function oW(e){const t=(0,i.c)(2),{color:s}=e,{destructive:n}=(0,mt.useContext)(KU),o=ec(),r=s??(n?o.palette.negative_500:o.palette.contrast_500);let a;return t[0]!==r?(a=(0,Ft.jsx)(tW,{icon:QT,size:"md",color:r}),t[0]=r,t[1]=a):a=t[1],a}function rW(e){const t=(0,i.c)(6),{children:s,style:n}=e,o=ec();let r,a;return t[0]!==n||t[1]!==o.atoms.text_contrast_low?(r=[o.atoms.text_contrast_low,kl.text_md,kl.text_right,kl.leading_snug,n],t[0]=n,t[1]=o.atoms.text_contrast_low,t[2]=r):r=t[2],t[3]!==s||t[4]!==r?(a=(0,Ft.jsx)(fr,{style:r,numberOfLines:1,children:s}),t[3]=s,t[4]=r,t[5]=a):a=t[5],a}function iW(e){const t=(0,i.c)(8),{label:s,onPress:n}=e,o=ec();let r,a;return t[0]!==s||t[1]!==o.palette.contrast_300||t[2]!==o.palette.primary_500?(r=e=>{const{pressed:t}=e;return(0,Ft.jsx)(Cr,{style:[kl.text_md,kl.font_normal,kl.text_right,{color:t?o.palette.contrast_300:o.palette.primary_500}],children:s})},t[0]=s,t[1]=o.palette.contrast_300,t[2]=o.palette.primary_500,t[3]=r):r=t[3],t[4]!==s||t[5]!==n||t[6]!==r?(a=(0,Ft.jsx)(Sr,{label:s,onPress:n,hitSlop:vi,children:r}),t[4]=s,t[5]=n,t[6]=r,t[7]=a):a=t[7],a}const aW=zr({path:"M5 11a7 7 0 0 1 14 0c0 2.625-1.547 5.138-3.354 7.066a17.23 17.23 0 0 1-2.55 2.242 8.246 8.246 0 0 1-.924.577 2.904 2.904 0 0 1-.172.083 2.904 2.904 0 0 1-.172-.083 8.246 8.246 0 0 1-.923-.577 17.227 17.227 0 0 1-2.55-2.242C6.547 16.138 5 13.625 5 11Zm6.882 10.012Zm.232-.001h-.003a.047.047 0 0 0 .007.001l-.004-.001ZM12 2a9 9 0 0 0-9 9c0 3.375 1.953 6.362 3.895 8.434a19.216 19.216 0 0 0 2.856 2.508c.425.3.82.545 1.159.72.168.087.337.164.498.222.14.05.356.116.592.116s.451-.066.592-.116c.16-.058.33-.135.498-.222.339-.175.734-.42 1.159-.72.85-.6 1.87-1.457 2.856-2.508C19.047 17.362 21 14.375 21 11a9 9 0 0 0-9-9ZM7.38 9.927c2.774-.094 3.459 1.31 3.591 3.19a.89.89 0 0 1-.855.956c-2.774.094-3.458-1.31-3.59-3.19a.89.89 0 0 1 .854-.956Zm9.236 0c-2.774-.094-3.458 1.31-3.59 3.19a.89.89 0 0 0 .854.956c2.774.094 3.459-1.31 3.591-3.19a.89.89 0 0 0-.855-.956Z"}),lW=zr({path:"m12 .757 2.122 2.122A3 3 0 0 1 13 7.829V9h4.5a3 3 0 0 1 3 3v1.646c0 .603-.18 1.177-.5 1.658V19a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-3.696a3 3 0 0 1-.5-1.658V12a3 3 0 0 1 3-3H11V7.829a3 3 0 0 1-1.121-4.95L12 .757ZM6.5 11a1 1 0 0 0-1 1v1.646a1 1 0 0 0 .629.928l.5.2a1 1 0 0 0 .742 0l1.015-.405a3 3 0 0 1 2.228 0l1.015.405a1 1 0 0 0 .742 0l1.015-.405a3 3 0 0 1 2.228 0l1.015.405a1 1 0 0 0 .742 0l.5-.2a1 1 0 0 0 .629-.928V12a1 1 0 0 0-1-1h-11ZM6 16.674V19a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2.326a3 3 0 0 1-2.114-.043l-1.015-.405a1 1 0 0 0-.742 0l-1.015.405a3 3 0 0 1-2.228 0l-1.015-.405a1 1 0 0 0-.742 0l-1.015.405A3 3 0 0 1 6 16.674ZM12.002 6a1 1 0 0 0 .706-1.707L12 3.586l-.707.707A1 1 0 0 0 12.002 6Z"}),cW=zr({path:"M6.002 5h12a1 1 0 0 1 1 1v10.036a1 1 0 0 1-1 1h-2.626a2 2 0 0 0-1.276.46l-2.098 1.738-2.065-1.731a2 2 0 0 0-1.285-.467h-2.65a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1Zm12-2h-12a3 3 0 0 0-3 3v10.036a3 3 0 0 0 3 3h2.65l2.704 2.266a1 1 0 0 0 1.28.004l2.74-2.27h2.626a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3ZM13 11.75a1 1 0 1 0-2 0v2a1 1 0 1 0 2 0v-2ZM12 10a1.25 1.25 0 1 1 0-2.5 1.25 1.25 0 0 1 0 2.5Z"}),dW=zr({path:"M12 4a8 8 0 1 0 0 16 8 8 0 0 0 0-16ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10-4.477 10-10 10S2 17.523 2 12Z M12 9a1 1 0 0 0-.879.522 1 1 0 0 1-1.754-.96A3 3 0 0 1 12 7c1.515 0 2.567 1.006 2.866 2.189.302 1.189-.156 2.574-1.524 3.258A.62.62 0 0 0 13 13a1 1 0 1 1-2 0c0-.992.56-1.898 1.447-2.342.455-.227.572-.618.48-.978C12.836 9.314 12.529 9 12 9Z M13 16a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),uW=zr({path:"M12 2a1 1 0 0 1 .889.542l1.679 3.259 3.491-1.117a1 1 0 0 1 1.257 1.257L18.2 9.432l3.259 1.679a1 1 0 0 1 0 1.778l-3.124 1.61 2.609 5.098a1 1 0 0 1-1.346 1.346l-5.098-2.61-1.61 3.125a1 1 0 0 1-1.778 0l-1.679-3.259-3.491 1.117a1 1 0 0 1-1.257-1.257L5.8 14.568l-3.259-1.679a1 1 0 0 1 0-1.778l3.124-1.61-2.609-5.098a1 1 0 0 1 1.346-1.346l5.098 2.61-.455.89.455-.89 1.61-3.125A1 1 0 0 1 12 2Zm0 3.183-.72 1.4a2 2 0 0 1-2.69.864L6.248 6.248 7.447 8.59a2 2 0 0 1-.865 2.69L5.183 12l1.534.79a2 2 0 0 1 .989 2.387L7.18 16.82l1.643-.526a2 2 0 0 1 2.387.99l.79 1.533.72-1.4a2 2 0 0 1 2.69-.864l2.342 1.199-1.199-2.342a2 2 0 0 1 .864-2.69l1.4-.72-1.534-.79a2 2 0 0 1-.989-2.387l.526-1.643-1.643.526a2 2 0 0 1-2.387-.99L12 5.184Z"}),mW=zr({path:"M6 6a3 3 0 0 1 3-3h9a3 3 0 0 1 3 3v2a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3H5v3a1 1 0 0 0 1 1h7a1 1 0 0 1 1 1v2.17c1.165.412 2 1.524 2 2.83v3a1 1 0 1 1-2 0v-3a1 1 0 1 0-2 0v3a1 1 0 1 1-2 0v-3c0-1.306.835-2.418 2-2.83V14H6a3 3 0 0 1-3-3V8a2 2 0 0 1 2-2h1Zm3-1a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h9a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9Z"}),hW=zr({path:"M18.438 3.253a2 2 0 0 1 2.309 2.31L18.243 20.17c-.186 1.083-1.244 1.868-2.387 1.588a18.525 18.525 0 0 1-8.702-4.912 18.525 18.525 0 0 1-4.912-8.702C1.962 7 2.747 5.943 3.83 5.757l14.608-2.504Zm-1.474 2.282a3 3 0 0 1-5.914 1.014l-3.368.577a13.022 13.022 0 0 0 3.376 5.816c.35.35.713.675 1.09.976a4.002 4.002 0 0 1 5.571-2.53l1.056-6.164-1.81.311Zm.388 7.991a2 2 0 0 0-3.346 1.634c.916.504 1.879.89 2.868 1.158l.478-2.792Zm-.817 4.77a15 15 0 0 1-6.891-3.94 15.02 15.02 0 0 1-3.94-6.89l-1.505.257a16.525 16.525 0 0 0 4.369 7.709 16.525 16.525 0 0 0 7.709 4.37l.258-1.505ZM13.022 6.212a1 1 0 0 0 1.97-.338l-1.97.338Z"}),pW=(zr({path:"M10.25 4a.75.75 0 0 0-.75.75V11a1 1 0 1 1-2 0V6.75a.75.75 0 0 0-1.5 0V14a6 6 0 0 0 12 0V9a2 2 0 0 0-2 2v1.5a1 1 0 0 1-.684.949l-.628.21A2.469 2.469 0 0 0 13 16a1 1 0 1 1-2 0 4.469 4.469 0 0 1 3-4.22V11c0-.703.181-1.364.5-1.938V5.75a.75.75 0 0 0-1.5 0V9a1 1 0 1 1-2 0V4.75a.75.75 0 0 0-.75-.75Zm2.316-.733A2.75 2.75 0 0 1 16.5 5.75v1.54c.463-.187.97-.29 1.5-.29h1a1 1 0 0 1 1 1v6a8 8 0 1 1-16 0V6.75a2.75 2.75 0 0 1 3.571-2.625 2.751 2.751 0 0 1 4.995-.858Z"}),zr({path:"M12.5 4a.5.5 0 0 0-.5.5V10a1 1 0 1 1-2 0V5.5a.5.5 0 0 0-1 0V11a1 1 0 1 1-2 0V7.5a.5.5 0 0 0-1 0v6a6.5 6.5 0 1 0 13 0V9c-.513 0-.979.192-1.333.509-.41.368-.667.899-.667 1.491v.838c0 .826-.529 1.559-1.312 1.82A2.47 2.47 0 0 0 14 16a1 1 0 1 1-2 0 4.47 4.47 0 0 1 3-4.22V11c0-1.014.379-1.941 1-2.646V5.5a.5.5 0 0 0-1 0V10a1 1 0 1 1-2 0V4.5a.5.5 0 0 0-.5-.5Zm2.112-.838A2.5 2.5 0 0 1 18 5.5v1.626q.481-.124 1-.126a2 2 0 0 1 2 2v4.5a8.5 8.5 0 0 1-17 0v-6a2.5 2.5 0 0 1 3.039-2.442 2.5 2.5 0 0 1 3.349-1.896 2.498 2.498 0 0 1 4.224 0Z"})),fW=zr({path:"M6 3a3 3 0 0 0-3 3v12a3 3 0 0 0 3 3h12a3 3 0 0 0 3-3V6a3 3 0 0 0-3-3H6ZM5 18v-6h14v6a1 1 0 0 1-1 1H6a1 1 0 0 1-1-1Zm0-8h14V6a1 1 0 0 0-1-1H6a1 1 0 0 0-1 1v4Zm6-3.5a1 1 0 1 0 0 2h6a1 1 0 1 0 0-2h-6ZM7.5 9a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"});function gW(){const e=(0,i.c)(37),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s={marginLeft:-20,marginRight:-20},e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(fr,{style:{marginLeft:20,paddingBottom:12},children:"Settings"}),e[1]=n):n=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsxs)(XU,{to:"/settings",label:"Account",children:[(0,Ft.jsx)(tW,{icon:iC}),(0,Ft.jsx)(sW,{children:"Account"})]}),e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsxs)(XU,{to:"/settings",label:"Privacy and security",children:[(0,Ft.jsx)(tW,{icon:mW}),(0,Ft.jsx)(sW,{children:"Privacy and security"})]}),e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsxs)(XU,{to:"/settings",label:"Moderation",children:[(0,Ft.jsx)(tW,{icon:pW}),(0,Ft.jsx)(sW,{children:"Moderation"})]}),e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsxs)(XU,{to:"/settings",label:"Content and media",children:[(0,Ft.jsx)(tW,{icon:fW}),(0,Ft.jsx)(sW,{children:"Content and media"})]}),e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsxs)(XU,{to:"/settings",label:"Accessibility and appearance",children:[(0,Ft.jsx)(tW,{icon:mW}),(0,Ft.jsx)(sW,{children:"Accessibilty and appearance"})]}),e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsxs)(XU,{to:"/settings",label:"Languages",children:[(0,Ft.jsx)(tW,{icon:sP}),(0,Ft.jsx)(sW,{children:"Languages"})]}),e[7]=d):d=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsxs)(XU,{to:"/settings",label:"Help",children:[(0,Ft.jsx)(tW,{icon:dW}),(0,Ft.jsx)(sW,{children:"Help"})]}),e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(XU,{to:"/settings",label:"About",children:[(0,Ft.jsx)(tW,{icon:cW}),(0,Ft.jsx)(sW,{children:"About"})]}),m=(0,Ft.jsx)(nW,{}),e[9]=m,e[10]=h):(m=e[9],h=e[10]),e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(eW,{destructive:!0,onPress:jW,label:"Sign out",children:(0,Ft.jsx)(sW,{children:"Sign out"})}),e[11]=p):p=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsxs)(JU,{style:[kl.mt_xl],children:[(0,Ft.jsx)(tW,{icon:hW}),(0,Ft.jsx)(sW,{children:"Not pressable"})]}),e[12]=f):f=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsxs)(eW,{onPress:bW,label:"Pressable",children:[(0,Ft.jsx)(tW,{icon:aW}),(0,Ft.jsx)(sW,{children:"Pressable"})]}),e[13]=g):g=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsxs)(XU,{to:"/settings",label:"Destructive link",destructive:!0,children:[(0,Ft.jsx)(tW,{icon:uW}),(0,Ft.jsx)(sW,{children:"Destructive link"})]}),e[14]=x):x=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsxs)(eW,{label:"Email",onPress:yW,children:[(0,Ft.jsx)(tW,{icon:Dv}),(0,Ft.jsx)(sW,{children:"Email"}),(0,Ft.jsx)(rW,{children:"hello@example.com"})]}),e[15]=_):_=e[15],e[16]!==t.palette.primary_50?(y=[kl.my_sm,kl.mx_lg,kl.rounded_md,{backgroundColor:t.palette.primary_50}],e[16]=t.palette.primary_50,e[17]=y):y=e[17],e[18]!==t.palette.primary_100?(b=[{backgroundColor:t.palette.primary_100}],e[18]=t.palette.primary_100,e[19]=b):b=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.rounded_md,kl.px_lg],e[20]=j):j=e[20],e[21]!==t.palette.primary_500?(v=(0,Ft.jsx)(tW,{icon:Cv,color:t.palette.primary_500}),e[21]=t.palette.primary_500,e[22]=v):v=e[22],e[23]!==t.palette.primary_500?(w=(0,Ft.jsx)(sW,{style:[{color:t.palette.primary_500},kl.font_bold],children:"Protect your account"}),S=(0,Ft.jsx)(oW,{color:t.palette.primary_500}),e[23]=t.palette.primary_500,e[24]=w,e[25]=S):(w=e[24],S=e[25]),e[26]!==y||e[27]!==b||e[28]!==v||e[29]!==w||e[30]!==S?(k=(0,Ft.jsxs)(eW,{onPress:_W,label:"Protect your account",style:y,hoverStyle:b,contentContainerStyle:j,children:[v,w,S]}),e[26]=y,e[27]=b,e[28]=v,e[29]=w,e[30]=S,e[31]=k):k=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(nW,{}),e[32]=C):C=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsxs)(JU,{children:[(0,Ft.jsx)(tW,{icon:lW}),(0,Ft.jsx)(sW,{children:"Birthday"}),(0,Ft.jsx)(iW,{label:"Edit",onPress:xW})]}),e[33]=P):P=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsxs)(XU,{to:"/settings",label:"Long test",children:[(0,Ft.jsx)(tW,{icon:uW}),(0,Ft.jsx)(sW,{children:"long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long long"})]}),e[34]=T):T=e[34],e[35]!==k?(L=(0,Ft.jsxs)(wo.default,{style:s,children:[n,o,r,a,l,c,d,u,h,m,p,f,g,x,_,k,C,P,T]}),e[35]=k,e[36]=L):L=e[36],L}function xW(){return Zu("Show edit birthday dialog")}function _W(){return Zu("Pressable pressed")}function yW(){return Zu("Email change dialog goes here")}function bW(){return Zu("Pressable pressed")}function jW(){return Zu("Sign out pressed")}function vW(){const e=(0,i.c)(25),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_md],n=(0,Ft.jsx)(xr,{children:"Shadows"}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_row,kl.gap_5xl],e[2]=o):o=e[2],e[3]!==t.atoms.bg||e[4]!==t.atoms.shadow_sm?(r=[kl.flex_1,kl.justify_center,kl.px_lg,kl.py_2xl,t.atoms.bg,t.atoms.shadow_sm],e[3]=t.atoms.bg,e[4]=t.atoms.shadow_sm,e[5]=r):r=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(fr,{children:"shadow_sm"}),e[6]=a):a=e[6],e[7]!==r?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),e[7]=r,e[8]=l):l=e[8],e[9]!==t.atoms.bg||e[10]!==t.atoms.shadow_md?(c=[kl.flex_1,kl.justify_center,kl.px_lg,kl.py_2xl,t.atoms.bg,t.atoms.shadow_md],e[9]=t.atoms.bg,e[10]=t.atoms.shadow_md,e[11]=c):c=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(fr,{children:"shadow_md"}),e[12]=d):d=e[12],e[13]!==c?(u=(0,Ft.jsx)(wo.default,{style:c,children:d}),e[13]=c,e[14]=u):u=e[14],e[15]!==t.atoms.bg||e[16]!==t.atoms.shadow_lg?(m=[kl.flex_1,kl.justify_center,kl.px_lg,kl.py_2xl,t.atoms.bg,t.atoms.shadow_lg],e[15]=t.atoms.bg,e[16]=t.atoms.shadow_lg,e[17]=m):m=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(fr,{children:"shadow_lg"}),e[18]=h):h=e[18],e[19]!==m?(p=(0,Ft.jsx)(wo.default,{style:m,children:h}),e[19]=m,e[20]=p):p=e[20],e[21]!==p||e[22]!==l||e[23]!==u?(f=(0,Ft.jsxs)(wo.default,{style:s,children:[n,(0,Ft.jsxs)(wo.default,{style:o,children:[l,u,p]})]}),e[21]=p,e[22]=l,e[23]=u,e[24]=f):f=e[24],f}function wW(){const e=(0,i.c)(53),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_md],n=(0,Ft.jsx)(xr,{children:"Spacing"}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_row,kl.align_center],e[2]=o):o=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(fr,{style:{width:80},children:"2xs (2px)"}),e[3]=r):r=e[3],e[4]!==t.atoms.bg_contrast_300?(a=(0,Ft.jsxs)(wo.default,{style:o,children:[r,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_2xs,t.atoms.bg_contrast_300]})]}),e[4]=t.atoms.bg_contrast_300,e[5]=a):a=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_row,kl.align_center],e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(fr,{style:{width:80},children:"xs (4px)"}),e[7]=c):c=e[7],e[8]!==t.atoms.bg_contrast_300?(d=(0,Ft.jsxs)(wo.default,{style:l,children:[c,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_xs,t.atoms.bg_contrast_300]})]}),e[8]=t.atoms.bg_contrast_300,e[9]=d):d=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_row,kl.align_center],e[10]=u):u=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(fr,{style:{width:80},children:"sm (8px)"}),e[11]=m):m=e[11],e[12]!==t.atoms.bg_contrast_300?(h=(0,Ft.jsxs)(wo.default,{style:u,children:[m,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_sm,t.atoms.bg_contrast_300]})]}),e[12]=t.atoms.bg_contrast_300,e[13]=h):h=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_row,kl.align_center],e[14]=p):p=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(fr,{style:{width:80},children:"md (12px)"}),e[15]=f):f=e[15],e[16]!==t.atoms.bg_contrast_300?(g=(0,Ft.jsxs)(wo.default,{style:p,children:[f,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_md,t.atoms.bg_contrast_300]})]}),e[16]=t.atoms.bg_contrast_300,e[17]=g):g=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_row,kl.align_center],e[18]=x):x=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{style:{width:80},children:"lg (16px)"}),e[19]=_):_=e[19],e[20]!==t.atoms.bg_contrast_300?(y=(0,Ft.jsxs)(wo.default,{style:x,children:[_,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_lg,t.atoms.bg_contrast_300]})]}),e[20]=t.atoms.bg_contrast_300,e[21]=y):y=e[21],e[22]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_center],e[22]=b):b=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{style:{width:80},children:"xl (20px)"}),e[23]=j):j=e[23],e[24]!==t.atoms.bg_contrast_300?(v=(0,Ft.jsxs)(wo.default,{style:b,children:[j,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_xl,t.atoms.bg_contrast_300]})]}),e[24]=t.atoms.bg_contrast_300,e[25]=v):v=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.flex_row,kl.align_center],e[26]=w):w=e[26],e[27]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(fr,{style:{width:80},children:"2xl (24px)"}),e[27]=S):S=e[27],e[28]!==t.atoms.bg_contrast_300?(k=(0,Ft.jsxs)(wo.default,{style:w,children:[S,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_2xl,t.atoms.bg_contrast_300]})]}),e[28]=t.atoms.bg_contrast_300,e[29]=k):k=e[29],e[30]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.flex_row,kl.align_center],e[30]=C):C=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(fr,{style:{width:80},children:"3xl (28px)"}),e[31]=P):P=e[31],e[32]!==t.atoms.bg_contrast_300?(T=(0,Ft.jsxs)(wo.default,{style:C,children:[P,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_3xl,t.atoms.bg_contrast_300]})]}),e[32]=t.atoms.bg_contrast_300,e[33]=T):T=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.flex_row,kl.align_center],e[34]=L):L=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(fr,{style:{width:80},children:"4xl (32px)"}),e[35]=A):A=e[35],e[36]!==t.atoms.bg_contrast_300?(I=(0,Ft.jsxs)(wo.default,{style:L,children:[A,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_4xl,t.atoms.bg_contrast_300]})]}),e[36]=t.atoms.bg_contrast_300,e[37]=I):I=e[37],e[38]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_row,kl.align_center],e[38]=R):R=e[38],e[39]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(fr,{style:{width:80},children:"5xl (40px)"}),e[39]=D):D=e[39],e[40]!==t.atoms.bg_contrast_300?(F=(0,Ft.jsxs)(wo.default,{style:R,children:[D,(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_5xl,t.atoms.bg_contrast_300]})]}),e[40]=t.atoms.bg_contrast_300,e[41]=F):F=e[41],e[42]!==h||e[43]!==g||e[44]!==y||e[45]!==v||e[46]!==k||e[47]!==T||e[48]!==I||e[49]!==F||e[50]!==a||e[51]!==d?(E=(0,Ft.jsxs)(wo.default,{style:s,children:[n,a,d,h,g,y,v,k,T,I,F]}),e[42]=h,e[43]=g,e[44]=y,e[45]=v,e[46]=k,e[47]=T,e[48]=I,e[49]=F,e[50]=a,e[51]=d,e[52]=E):E=e[52],E}function SW(){const e=(0,i.c)(183),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.gap_md],e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.flex_row,kl.gap_md],e[1]=n):n=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(o={height:60},e[2]=o):o=e[2],e[3]!==t.atoms.bg_contrast_25?(r=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_25,o]}),e[3]=t.atoms.bg_contrast_25,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a={height:60},e[5]=a):a=e[5],e[6]!==t.atoms.bg_contrast_50?(l=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_50,a]}),e[6]=t.atoms.bg_contrast_50,e[7]=l):l=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(c={height:60},e[8]=c):c=e[8],e[9]!==t.atoms.bg_contrast_100?(d=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_100,c]}),e[9]=t.atoms.bg_contrast_100,e[10]=d):d=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(u={height:60},e[11]=u):u=e[11],e[12]!==t.atoms.bg_contrast_200?(m=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_200,u]}),e[12]=t.atoms.bg_contrast_200,e[13]=m):m=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(h={height:60},e[14]=h):h=e[14],e[15]!==t.atoms.bg_contrast_300?(p=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_300,h]}),e[15]=t.atoms.bg_contrast_300,e[16]=p):p=e[16],e[17]===Symbol.for("react.memo_cache_sentinel")?(f={height:60},e[17]=f):f=e[17],e[18]!==t.atoms.bg_contrast_400?(g=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_400,f]}),e[18]=t.atoms.bg_contrast_400,e[19]=g):g=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(x={height:60},e[20]=x):x=e[20],e[21]!==t.atoms.bg_contrast_500?(_=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_500,x]}),e[21]=t.atoms.bg_contrast_500,e[22]=_):_=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(y={height:60},e[23]=y):y=e[23],e[24]!==t.atoms.bg_contrast_600?(b=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_600,y]}),e[24]=t.atoms.bg_contrast_600,e[25]=b):b=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(j={height:60},e[26]=j):j=e[26],e[27]!==t.atoms.bg_contrast_700?(v=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_700,j]}),e[27]=t.atoms.bg_contrast_700,e[28]=v):v=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(w={height:60},e[29]=w):w=e[29],e[30]!==t.atoms.bg_contrast_800?(S=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_800,w]}),e[30]=t.atoms.bg_contrast_800,e[31]=S):S=e[31],e[32]===Symbol.for("react.memo_cache_sentinel")?(k={height:60},e[32]=k):k=e[32],e[33]!==t.atoms.bg_contrast_900?(C=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_900,k]}),e[33]=t.atoms.bg_contrast_900,e[34]=C):C=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(P={height:60},e[35]=P):P=e[35],e[36]!==t.atoms.bg_contrast_950?(T=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_950,P]}),e[36]=t.atoms.bg_contrast_950,e[37]=T):T=e[37],e[38]===Symbol.for("react.memo_cache_sentinel")?(L={height:60},e[38]=L):L=e[38],e[39]!==t.atoms.bg_contrast_975?(A=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.bg_contrast_975,L]}),e[39]=t.atoms.bg_contrast_975,e[40]=A):A=e[40],e[41]!==p||e[42]!==g||e[43]!==_||e[44]!==b||e[45]!==v||e[46]!==S||e[47]!==C||e[48]!==T||e[49]!==A||e[50]!==r||e[51]!==l||e[52]!==d||e[53]!==m?(I=(0,Ft.jsxs)(wo.default,{style:n,children:[r,l,d,m,p,g,_,b,v,S,C,T,A]}),e[41]=p,e[42]=g,e[43]=_,e[44]=b,e[45]=v,e[46]=S,e[47]=C,e[48]=T,e[49]=A,e[50]=r,e[51]=l,e[52]=d,e[53]=m,e[54]=I):I=e[54],e[55]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_row,kl.gap_md],e[55]=R):R=e[55],e[56]!==t.palette.primary_25?(D=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_25}]}),e[56]=t.palette.primary_25,e[57]=D):D=e[57],e[58]!==t.palette.primary_50?(F=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_50}]}),e[58]=t.palette.primary_50,e[59]=F):F=e[59],e[60]!==t.palette.primary_100?(E=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_100}]}),e[60]=t.palette.primary_100,e[61]=E):E=e[61],e[62]!==t.palette.primary_200?(M=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_200}]}),e[62]=t.palette.primary_200,e[63]=M):M=e[63],e[64]!==t.palette.primary_300?(B=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_300}]}),e[64]=t.palette.primary_300,e[65]=B):B=e[65],e[66]!==t.palette.primary_400?(O=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_400}]}),e[66]=t.palette.primary_400,e[67]=O):O=e[67],e[68]!==t.palette.primary_500?(z=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_500}]}),e[68]=t.palette.primary_500,e[69]=z):z=e[69],e[70]!==t.palette.primary_600?(H=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_600}]}),e[70]=t.palette.primary_600,e[71]=H):H=e[71],e[72]!==t.palette.primary_700?(N=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_700}]}),e[72]=t.palette.primary_700,e[73]=N):N=e[73],e[74]!==t.palette.primary_800?(V=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_800}]}),e[74]=t.palette.primary_800,e[75]=V):V=e[75],e[76]!==t.palette.primary_900?(q=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_900}]}),e[76]=t.palette.primary_900,e[77]=q):q=e[77],e[78]!==t.palette.primary_950?(U=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_950}]}),e[78]=t.palette.primary_950,e[79]=U):U=e[79],e[80]!==t.palette.primary_975?(W=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.primary_975}]}),e[80]=t.palette.primary_975,e[81]=W):W=e[81],e[82]!==D||e[83]!==F||e[84]!==E||e[85]!==M||e[86]!==B||e[87]!==O||e[88]!==z||e[89]!==H||e[90]!==N||e[91]!==V||e[92]!==q||e[93]!==U||e[94]!==W?(Z=(0,Ft.jsxs)(wo.default,{style:R,children:[D,F,E,M,B,O,z,H,N,V,q,U,W]}),e[82]=D,e[83]=F,e[84]=E,e[85]=M,e[86]=B,e[87]=O,e[88]=z,e[89]=H,e[90]=N,e[91]=V,e[92]=q,e[93]=U,e[94]=W,e[95]=Z):Z=e[95],e[96]===Symbol.for("react.memo_cache_sentinel")?(Q=[kl.flex_row,kl.gap_md],e[96]=Q):Q=e[96],e[97]!==t.palette.positive_25?(K=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_25}]}),e[97]=t.palette.positive_25,e[98]=K):K=e[98],e[99]!==t.palette.positive_50?($=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_50}]}),e[99]=t.palette.positive_50,e[100]=$):$=e[100],e[101]!==t.palette.positive_100?(G=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_100}]}),e[101]=t.palette.positive_100,e[102]=G):G=e[102],e[103]!==t.palette.positive_200?(Y=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_200}]}),e[103]=t.palette.positive_200,e[104]=Y):Y=e[104],e[105]!==t.palette.positive_300?(J=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_300}]}),e[105]=t.palette.positive_300,e[106]=J):J=e[106],e[107]!==t.palette.positive_400?(X=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_400}]}),e[107]=t.palette.positive_400,e[108]=X):X=e[108],e[109]!==t.palette.positive_500?(ee=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_500}]}),e[109]=t.palette.positive_500,e[110]=ee):ee=e[110],e[111]!==t.palette.positive_600?(te=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_600}]}),e[111]=t.palette.positive_600,e[112]=te):te=e[112],e[113]!==t.palette.positive_700?(se=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_700}]}),e[113]=t.palette.positive_700,e[114]=se):se=e[114],e[115]!==t.palette.positive_800?(ne=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_800}]}),e[115]=t.palette.positive_800,e[116]=ne):ne=e[116],e[117]!==t.palette.positive_900?(oe=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_900}]}),e[117]=t.palette.positive_900,e[118]=oe):oe=e[118],e[119]!==t.palette.positive_950?(re=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_950}]}),e[119]=t.palette.positive_950,e[120]=re):re=e[120],e[121]!==t.palette.positive_975?(ie=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.positive_975}]}),e[121]=t.palette.positive_975,e[122]=ie):ie=e[122],e[123]!==K||e[124]!==$||e[125]!==G||e[126]!==Y||e[127]!==J||e[128]!==X||e[129]!==ee||e[130]!==te||e[131]!==se||e[132]!==ne||e[133]!==oe||e[134]!==re||e[135]!==ie?(ae=(0,Ft.jsxs)(wo.default,{style:Q,children:[K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie]}),e[123]=K,e[124]=$,e[125]=G,e[126]=Y,e[127]=J,e[128]=X,e[129]=ee,e[130]=te,e[131]=se,e[132]=ne,e[133]=oe,e[134]=re,e[135]=ie,e[136]=ae):ae=e[136],e[137]===Symbol.for("react.memo_cache_sentinel")?(le=[kl.flex_row,kl.gap_md],e[137]=le):le=e[137],e[138]!==t.palette.negative_25?(ce=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_25}]}),e[138]=t.palette.negative_25,e[139]=ce):ce=e[139],e[140]!==t.palette.negative_50?(de=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_50}]}),e[140]=t.palette.negative_50,e[141]=de):de=e[141],e[142]!==t.palette.negative_100?(ue=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_100}]}),e[142]=t.palette.negative_100,e[143]=ue):ue=e[143],e[144]!==t.palette.negative_200?(me=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_200}]}),e[144]=t.palette.negative_200,e[145]=me):me=e[145],e[146]!==t.palette.negative_300?(he=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_300}]}),e[146]=t.palette.negative_300,e[147]=he):he=e[147],e[148]!==t.palette.negative_400?(pe=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_400}]}),e[148]=t.palette.negative_400,e[149]=pe):pe=e[149],e[150]!==t.palette.negative_500?(fe=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_500}]}),e[150]=t.palette.negative_500,e[151]=fe):fe=e[151],e[152]!==t.palette.negative_600?(ge=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_600}]}),e[152]=t.palette.negative_600,e[153]=ge):ge=e[153],e[154]!==t.palette.negative_700?(xe=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_700}]}),e[154]=t.palette.negative_700,e[155]=xe):xe=e[155],e[156]!==t.palette.negative_800?(_e=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_800}]}),e[156]=t.palette.negative_800,e[157]=_e):_e=e[157],e[158]!==t.palette.negative_900?(ye=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_900}]}),e[158]=t.palette.negative_900,e[159]=ye):ye=e[159],e[160]!==t.palette.negative_950?(be=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_950}]}),e[160]=t.palette.negative_950,e[161]=be):be=e[161],e[162]!==t.palette.negative_975?(je=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{height:60,backgroundColor:t.palette.negative_975}]}),e[162]=t.palette.negative_975,e[163]=je):je=e[163],e[164]!==ce||e[165]!==de||e[166]!==ue||e[167]!==me||e[168]!==he||e[169]!==pe||e[170]!==fe||e[171]!==ge||e[172]!==xe||e[173]!==_e||e[174]!==ye||e[175]!==be||e[176]!==je?(ve=(0,Ft.jsxs)(wo.default,{style:le,children:[ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je]}),e[164]=ce,e[165]=de,e[166]=ue,e[167]=me,e[168]=he,e[169]=pe,e[170]=fe,e[171]=ge,e[172]=xe,e[173]=_e,e[174]=ye,e[175]=be,e[176]=je,e[177]=ve):ve=e[177],e[178]!==I||e[179]!==Z||e[180]!==ae||e[181]!==ve?(we=(0,Ft.jsxs)(wo.default,{style:s,children:[I,Z,ae,ve]}),e[178]=I,e[179]=Z,e[180]=ae,e[181]=ve,e[182]=we):we=e[182],we}function kW(){const e=(0,i.c)(66),t=ec();let s,n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D;return e[0]!==t.atoms.bg?(s=[t.atoms.bg,kl.gap_lg,kl.p_xl],e[0]=t.atoms.bg,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(SW,{}),e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.pt_xl,kl.px_md],children:"theme.atoms.text"}),e[3]=o):o=e[3],e[4]!==t.atoms.border_contrast_high?(r=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.border_contrast_high,kl.border_t]}),e[4]=t.atoms.border_contrast_high,e[5]=r):r=e[5],e[6]!==t.atoms.text_contrast_high?(a=(0,Ft.jsx)(fr,{style:[kl.font_bold,t.atoms.text_contrast_high,kl.px_md],children:"theme.atoms.text_contrast_high"}),e[6]=t.atoms.text_contrast_high,e[7]=a):a=e[7],e[8]!==t.atoms.border_contrast_medium?(l=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.border_contrast_medium,kl.border_t]}),e[8]=t.atoms.border_contrast_medium,e[9]=l):l=e[9],e[10]!==t.atoms.text_contrast_medium?(c=(0,Ft.jsx)(fr,{style:[kl.font_bold,t.atoms.text_contrast_medium,kl.px_md],children:"theme.atoms.text_contrast_medium"}),e[10]=t.atoms.text_contrast_medium,e[11]=c):c=e[11],e[12]!==t.atoms.border_contrast_low?(d=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.border_contrast_low,kl.border_t]}),e[12]=t.atoms.border_contrast_low,e[13]=d):d=e[13],e[14]!==t.atoms.text_contrast_low?(u=(0,Ft.jsx)(fr,{style:[kl.font_bold,t.atoms.text_contrast_low,kl.px_md],children:"theme.atoms.text_contrast_low"}),e[14]=t.atoms.text_contrast_low,e[15]=u):u=e[15],e[16]!==t.atoms.border_contrast_low?(m=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,t.atoms.border_contrast_low,kl.border_t]}),e[16]=t.atoms.border_contrast_low,e[17]=m):m=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.w_full,kl.gap_md],e[18]=h):h=e[18],e[19]!==t.atoms.bg?(p=[t.atoms.bg,kl.justify_center,kl.p_md],e[19]=t.atoms.bg,e[20]=p):p=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(fr,{children:"theme.atoms.bg"}),e[21]=f):f=e[21],e[22]!==p?(g=(0,Ft.jsx)(wo.default,{style:p,children:f}),e[22]=p,e[23]=g):g=e[23],e[24]!==t.atoms.bg_contrast_25?(x=[t.atoms.bg_contrast_25,kl.justify_center,kl.p_md],e[24]=t.atoms.bg_contrast_25,e[25]=x):x=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{children:"theme.atoms.bg_contrast_25"}),e[26]=_):_=e[26],e[27]!==x?(y=(0,Ft.jsx)(wo.default,{style:x,children:_}),e[27]=x,e[28]=y):y=e[28],e[29]!==t.atoms.bg_contrast_50?(b=[t.atoms.bg_contrast_50,kl.justify_center,kl.p_md],e[29]=t.atoms.bg_contrast_50,e[30]=b):b=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{children:"theme.atoms.bg_contrast_50"}),e[31]=j):j=e[31],e[32]!==b?(v=(0,Ft.jsx)(wo.default,{style:b,children:j}),e[32]=b,e[33]=v):v=e[33],e[34]!==t.atoms.bg_contrast_100?(w=[t.atoms.bg_contrast_100,kl.justify_center,kl.p_md],e[34]=t.atoms.bg_contrast_100,e[35]=w):w=e[35],e[36]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(fr,{children:"theme.atoms.bg_contrast_100"}),e[36]=S):S=e[36],e[37]!==w?(k=(0,Ft.jsx)(wo.default,{style:w,children:S}),e[37]=w,e[38]=k):k=e[38],e[39]!==t.atoms.bg_contrast_200?(C=[t.atoms.bg_contrast_200,kl.justify_center,kl.p_md],e[39]=t.atoms.bg_contrast_200,e[40]=C):C=e[40],e[41]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(fr,{children:"theme.atoms.bg_contrast_200"}),e[41]=P):P=e[41],e[42]!==C?(T=(0,Ft.jsx)(wo.default,{style:C,children:P}),e[42]=C,e[43]=T):T=e[43],e[44]!==t.atoms.bg_contrast_300?(L=[t.atoms.bg_contrast_300,kl.justify_center,kl.p_md],e[44]=t.atoms.bg_contrast_300,e[45]=L):L=e[45],e[46]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(fr,{children:"theme.atoms.bg_contrast_300"}),e[46]=A):A=e[46],e[47]!==L?(I=(0,Ft.jsx)(wo.default,{style:L,children:A}),e[47]=L,e[48]=I):I=e[48],e[49]!==g||e[50]!==y||e[51]!==v||e[52]!==k||e[53]!==T||e[54]!==I?(R=(0,Ft.jsxs)(wo.default,{style:h,children:[g,y,v,k,T,I]}),e[49]=g,e[50]=y,e[51]=v,e[52]=k,e[53]=T,e[54]=I,e[55]=R):R=e[55],e[56]!==s||e[57]!==R||e[58]!==r||e[59]!==a||e[60]!==l||e[61]!==c||e[62]!==d||e[63]!==u||e[64]!==m?(D=(0,Ft.jsxs)(wo.default,{style:s,children:[n,o,r,a,l,c,d,u,m,R]}),e[56]=s,e[57]=R,e[58]=r,e[59]=a,e[60]=l,e[61]=c,e[62]=d,e[63]=u,e[64]=m,e[65]=D):D=e[65],D}function CW(){const e=(0,i.c)(13);let t,s,n,o,r,a,l,c,d,u,m,h,p;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[kl.gap_md],e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(fr,{selectable:!0,style:[kl.text_5xl],children:"atoms.text_5xl"}),e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(fr,{style:[kl.text_4xl],children:"atoms.text_4xl"}),e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(fr,{style:[kl.text_3xl],children:"atoms.text_3xl"}),e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(fr,{style:[kl.text_2xl],children:"atoms.text_2xl"}),e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(fr,{style:[kl.text_xl],children:"atoms.text_xl"}),e[5]=a):a=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(fr,{style:[kl.text_lg],children:"atoms.text_lg"}),e[6]=l):l=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(fr,{style:[kl.text_md],children:"atoms.text_md"}),e[7]=c):c=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(fr,{style:[kl.text_sm],children:"atoms.text_sm"}),e[8]=d):d=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(fr,{style:[kl.text_xs],children:"atoms.text_xs"}),e[9]=u):u=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(fr,{style:[kl.text_2xs],children:"atoms.text_2xs"}),h=(0,Ft.jsx)(DC,{value:"This is rich text. It can have mentions like @bsky.app or links like https://bsky.social"}),e[10]=m,e[11]=h):(m=e[10],h=e[11]),e[12]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsxs)(wo.default,{style:t,children:[s,n,o,r,a,l,c,d,u,m,h,(0,Ft.jsx)(DC,{selectable:!0,value:"This is rich text. It can have mentions like @bsky.app or links like https://bsky.social",style:[kl.text_xl]})]}),e[12]=p):p=e[12],p}function PW(){const e=(0,i.c)(3);let t,s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsx)(dl,{}),e[0]=t):t=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsxs)(il,{children:[t,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:"Storybook"})}),(0,Ft.jsx)(cl,{})]}),e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsxs)(_l,{children:[s,(0,Ft.jsx)(bl,{keyboardShouldPersistTaps:"handled",children:(0,Ft.jsx)(TW,{})})]}),e[2]=n):n=e[2],n}function TW(){const e=(0,i.c)(6),{setColorMode:t,setDarkTheme:s}=Pa(),[n,o]=mt.useState(!1),r=(0,va.useNavigation)();let a,l;return e[0]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.p_xl,kl.gap_5xl,{paddingBottom:100}],e[0]=a):a=e[0],e[1]!==r||e[2]!==t||e[3]!==s||e[4]!==n?(l=(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(wo.default,{style:a,children:n?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Switch to Storybook",onPress:()=>o(!1),children:(0,Ft.jsx)(Cr,{children:"Switch to Storybook"})}),(0,Ft.jsx)(Xq,{})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_start,kl.gap_md],children:[(0,Ft.jsx)(Sr,{variant:"outline",color:"primary",size:"small",label:'Set theme to "system"',onPress:()=>t("system"),children:(0,Ft.jsx)(Cr,{children:"System"})}),(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"small",label:'Set theme to "light"',onPress:()=>t("light"),children:(0,Ft.jsx)(Cr,{children:"Light"})}),(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"small",label:'Set theme to "dim"',onPress:()=>{t("dark"),s("dim")},children:(0,Ft.jsx)(Cr,{children:"Dim"})}),(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"small",label:'Set theme to "dark"',onPress:()=>{t("dark"),s("dark")},children:(0,Ft.jsx)(Cr,{children:"Dark"})})]}),(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"small",onPress:()=>r.navigate("SharedPreferencesTester"),label:"two",testID:"sharedPrefsTestOpenBtn",children:(0,Ft.jsx)(Cr,{children:"Open Shared Prefs Tester"})}),(0,Ft.jsx)(Gl,{theme:"light",children:(0,Ft.jsx)(kW,{})}),(0,Ft.jsx)(Gl,{theme:"dim",children:(0,Ft.jsx)(kW,{})}),(0,Ft.jsx)(Gl,{theme:"dark",children:(0,Ft.jsx)(kW,{})}),(0,Ft.jsx)(OU,{}),(0,Ft.jsx)(dU,{}),(0,Ft.jsx)(CW,{}),(0,Ft.jsx)(wW,{}),(0,Ft.jsx)(vW,{}),(0,Ft.jsx)(zU,{}),(0,Ft.jsx)(HU,{}),(0,Ft.jsx)(hU,{}),(0,Ft.jsx)(NU,{}),(0,Ft.jsx)(cU,{}),(0,Ft.jsx)(hU,{}),(0,Ft.jsx)(lU,{}),(0,Ft.jsx)(gW,{}),(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:"Switch to Contained List",onPress:()=>o(!0),children:(0,Ft.jsx)(Cr,{children:"Switch to Contained List"})})]})})}),e[1]=r,e[2]=t,e[3]=s,e[4]=n,e[5]=l):l=e[5],l}const LW=e=>{const t=(0,i.c)(28),s=mx("default"),n=Na(),{_:o}=(0,ft.useLingui)();let r,a,l,c,d,u,m,h,p,f,g,x,_;return t[0]!==n?(r=()=>{n(!1)},t[0]=n,t[1]=r):r=t[1],(0,va.useFocusEffect)(r),t[2]!==o?(a=o({id:"XYLcNv"}),t[2]=o,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(YP,{title:a}),t[4]=a,t[5]=l):l=t[5],t[6]!==s.text?(c=[s.text,oc.p20,oc.pb5],t[6]=s.text,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"XYLcNv"}),t[8]=d):d=t[8],t[9]!==c?(u=(0,Ft.jsx)(Tx,{type:"title-xl",style:c,children:d}),t[9]=c,t[10]=u):u=t[10],t[11]!==s.text?(m=[s.text,oc.p20],t[11]=s.text,t[12]=m):m=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(h={HELP_DESK_URL:ei},t[13]=h):h=t[13],t[14]!==o?(p=o({id:"EYeuMv"}),t[14]=o,t[15]=p):p=t[15],t[16]!==s.link||t[17]!==p?(f=(0,Ft.jsx)(ft.Trans,{id:"LbqR5C",values:h,components:{0:(0,Ft.jsx)(NP,{href:ei,text:p,style:s.link})}}),t[16]=s.link,t[17]=p,t[18]=f):f=t[18],t[19]!==m||t[20]!==f?(g=(0,Ft.jsx)(Tx,{style:m,children:f}),t[19]=m,t[20]=f,t[21]=g):g=t[21],t[22]!==g||t[23]!==u?(x=(0,Ft.jsxs)(KP,{children:[u,g]}),t[22]=g,t[23]=u,t[24]=x):x=t[24],t[25]!==x||t[26]!==l?(_=(0,Ft.jsxs)(_l,{children:[l,x]}),t[25]=x,t[26]=l,t[27]=_):_=t[27],_},AW=e=>{const t=(0,i.c)(22),s=mx("default"),n=Na(),{_:o}=(0,ft.useLingui)();let r,a,l,c,d,u,m,h,p,f,g;return t[0]!==n?(r=()=>{n(!1)},t[0]=n,t[1]=r):r=t[1],(0,va.useFocusEffect)(r),t[2]!==o?(a=o({id:"xowcRf"}),t[2]=o,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(YP,{title:a}),t[4]=a,t[5]=l):l=t[5],t[6]!==s.view?(c=[oc.hContentRegion,s.view],t[6]=s.view,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[oc.p20],t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(ft.Trans,{id:"FGbRSr"}),t[9]=u):u=t[9],t[10]!==s.link?(m=(0,Ft.jsx)(NP,{style:s.link,href:"https://bsky.social/about/support/tos",text:"bsky.social/about/support/tos"}),t[10]=s.link,t[11]=m):m=t[11],t[12]!==s.text||t[13]!==m?(h=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsxs)(Tx,{style:s.text,children:[u," ",m]})}),t[12]=s.text,t[13]=m,t[14]=h):h=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(wo.default,{style:oc.footerSpacer}),t[15]=p):p=t[15],t[16]!==c||t[17]!==h?(f=(0,Ft.jsxs)($P,{style:c,children:[h,p]}),t[16]=c,t[17]=h,t[18]=f):f=t[18],t[19]!==l||t[20]!==f?(g=(0,Ft.jsxs)(_l,{children:[l,f]}),t[19]=l,t[20]=f,t[21]=g):g=t[21],g};function IW(){return(0,va.useNavigationState)(RW)}function RW(e){const t=e?CP(e).name:"Home";return{isAtHome:"Home"===t,isAtSearch:"Search"===t,isAtNotifications:"Notifications"===t,isAtMyProfile:"MyProfile"===t,isAtMessages:"Messages"===t}}const DW=["fill"],FW=17/64;function EW(e){const t=(0,i.c)(10);let s,n;if(t[0]!==e){var o=e;({fill:s}=o),n=(0,ls.default)(o,DW),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const r=mx("default"),a=parseInt(n.width||32),l=Number(a)*FW,c=s||r.text.color;let d,u;return t[3]!==c?(d=(0,Ft.jsx)(Ir.Path,{fill:c,d:"M8.478 6.252c1.503.538 2.3 1.78 2.3 3.172 0 2.356-1.576 3.785-4.6 3.785H0V0h5.974c2.875 0 4.267 1.466 4.267 3.413 0 1.3-.594 2.245-1.763 2.839Zm-2.69-4.193H2.504v3.45h3.284c1.28 0 1.967-.667 1.967-1.78 0-1.02-.705-1.67-1.967-1.67Zm-3.284 9.072h3.544c1.41 0 2.17-.65 2.17-1.818 0-1.224-.723-1.837-2.17-1.837H2.504v3.655ZM14.251 13.209h-2.337V0h2.337v13.209ZM22.001 8.998V3.636h2.338v9.573h-2.263v-1.392c-.724 1.076-1.726 1.614-3.006 1.614-2.022 0-3.34-1.224-3.34-3.45V3.636h2.338v5.955c0 1.206.594 1.818 1.8 1.818 1.132 0 2.133-.835 2.133-2.411ZM34.979 8.59v.556h-7.161c.167 1.651 1.076 2.467 2.486 2.467 1.076 0 1.8-.463 2.189-1.372h2.244c-.5 1.947-2.17 3.19-4.452 3.19-1.428 0-2.579-.463-3.45-1.372-.872-.91-1.318-2.115-1.318-3.637 0-1.502.427-2.708 1.299-3.636.872-.909 2.004-1.372 3.432-1.372 1.447 0 2.597.482 3.45 1.428.854.946 1.28 2.208 1.28 3.747Zm-4.75-3.358c-1.28 0-2.17.742-2.393 2.281h4.805c-.204-1.391-1.057-2.281-2.411-2.281ZM40.16 13.469c-2.783 0-4.249-1.095-4.379-3.303h2.282c.13 1.188.724 1.633 2.134 1.633 1.261 0 1.892-.39 1.892-1.15 0-.687-.445-1.02-1.874-1.262l-1.094-.185c-2.097-.353-3.136-1.318-3.136-2.894 0-1.8 1.429-2.894 3.97-2.894 2.728 0 4.138 1.075 4.23 3.246h-2.207c-.056-1.169-.742-1.577-2.023-1.577-1.113 0-1.67.371-1.67 1.113 0 .668.483.965 1.596 1.169l1.206.186c2.32.426 3.32 1.28 3.32 2.912 0 1.93-1.557 3.006-4.247 3.006ZM54.667 13.209h-2.671l-2.783-4.453-1.447 1.447v3.006h-2.3V0h2.3v7.606l3.896-3.97h2.783l-3.618 3.618 3.84 5.955ZM60.772 6.048l.78-2.412H64l-3.692 10.352c-.39 1.057-.872 1.818-1.484 2.245-.612.426-1.484.63-2.634.63-.39 0-.724-.018-1.02-.055V14.97h.89c1.057 0 1.577-.65 1.577-1.54 0-.445-.149-1.094-.446-1.929l-2.746-7.866h2.487l.779 2.393c.575 1.8 1.076 3.58 1.521 5.343.408-1.521.928-3.302 1.54-5.324Z"}),t[3]=c,t[4]=d):d=t[4],t[5]!==n||t[6]!==a||t[7]!==l||t[8]!==d?(u=(0,Ft.jsx)(Ir.default,Object.assign({fill:"none",viewBox:"0 0 64 17"},n,{width:a,height:l,children:d})),t[5]=n,t[6]=a,t[7]=l,t[8]=d,t[9]=u):u=t[9],u}function MW(){const[e,t]=(0,mt.useState)(null),{_:s}=(0,ft.useLingui)(),{resumeSession:n}=_h(),{requestSwitchToAccount:o}=oj(),r=(0,mt.useCallback)((async(r,i)=>{if(!e)try{t(r.did),r.accessJwt?(Pt&&history.pushState(null,"","/"),await n(r),En("account:loggedIn",{logContext:i,withPassword:!1}),Zu(s({id:"Dx1GST",values:{0:r.handle}}))):(o({requestedAccount:r.did}),Zu(s({id:"G3Hyy1",values:{0:r.handle}}),"circle-exclamation"))}catch(a){ys.error("switch account: selectAccount failed",{message:a.message}),o({requestedAccount:r.did}),Zu(s({id:"G3Hyy1",values:{0:r.handle}}),"circle-exclamation")}finally{t(null)}}),[s,n,o,e]);return{onPressSwitchAccount:r,pendingDid:e}}function BW(e){const t=(0,i.c)(39),{onSelectAccount:s,onSelectOther:n,otherLabel:o,pendingDid:r}=e,{currentAccount:a,accounts:l}=xh(),c=ec(),{_:d}=(0,ft.useLingui)();let u,m;t[0]!==l?(u=l.map(OW),t[0]=l,t[1]=u):u=t[1],t[2]!==u?(m={handles:u},t[2]=u,t[3]=m):m=t[3];const{data:h}=mb(m);let p;t[4]!==n?(p=()=>{n()},t[4]=n,t[5]=p):p=t[5];const f=p,g=r?"none":"auto";let x,_,y,b;if(t[6]===Symbol.for("react.memo_cache_sentinel")?(x={borderWidth:1},t[6]=x):x=t[6],t[7]!==c.atoms.border_contrast_low?(_=[kl.rounded_md,kl.overflow_hidden,x,c.atoms.border_contrast_low],t[7]=c.atoms.border_contrast_low,t[8]=_):_=t[8],t[9]!==l||t[10]!==a?.did||t[11]!==s||t[12]!==r||t[13]!==h?.profiles||t[14]!==c.atoms.border_contrast_low){let e;t[16]!==a?.did||t[17]!==s||t[18]!==r||t[19]!==h?.profiles||t[20]!==c.atoms.border_contrast_low?(e=e=>(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(zW,{profile:h?.profiles.find((t=>t.did===e.did)),account:e,onSelect:s,isCurrentAccount:e.did===a?.did,isPendingAccount:e.did===r}),(0,Ft.jsx)(wo.default,{style:[{borderBottomWidth:1},c.atoms.border_contrast_low]})]},e.did),t[16]=a?.did,t[17]=s,t[18]=r,t[19]=h?.profiles,t[20]=c.atoms.border_contrast_low,t[21]=e):e=t[21],y=l.map(e),t[9]=l,t[10]=a?.did,t[11]=s,t[12]=r,t[13]=h?.profiles,t[14]=c.atoms.border_contrast_low,t[15]=y}else y=t[15];t[22]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_1],t[22]=b):b=t[22];const j=r?void 0:f;let v,w,S,k;return t[23]!==d?(v=d({id:"YtMlod"}),t[23]=d,t[24]=v):v=t[24],t[25]!==o||t[26]!==c.atoms.bg_contrast_25||t[27]!==c.atoms.text||t[28]!==c.atoms.text_contrast_medium?(w=e=>{const{hovered:t,pressed:s}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,{height:48},(t||s)&&c.atoms.bg_contrast_25],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.flex_1,kl.flex_row,kl.py_sm,kl.leading_tight,c.atoms.text_contrast_medium,{paddingLeft:56}],children:o??(0,Ft.jsx)(ft.Trans,{id:"b22AVl"})}),(0,Ft.jsx)(QT,{size:"sm",style:[c.atoms.text,kl.mr_md]})]})},t[25]=o,t[26]=c.atoms.bg_contrast_25,t[27]=c.atoms.text,t[28]=c.atoms.text_contrast_medium,t[29]=w):w=t[29],t[30]!==v||t[31]!==w||t[32]!==j?(S=(0,Ft.jsx)(Sr,{testID:"chooseAddAccountBtn",style:b,onPress:j,label:v,children:w}),t[30]=v,t[31]=w,t[32]=j,t[33]=S):S=t[33],t[34]!==S||t[35]!==g||t[36]!==_||t[37]!==y?(k=(0,Ft.jsxs)(wo.default,{pointerEvents:g,style:_,children:[y,S]}),t[34]=S,t[35]=g,t[36]=_,t[37]=y,t[38]=k):k=t[38],k}function OW(e){return e.did}function zW(e){const t=(0,i.c)(31),{profile:s,account:n,onSelect:o,isCurrentAccount:r,isPendingAccount:a}=e,l=ec(),{_:c}=(0,ft.useLingui)();let d;t[0]!==s?(d={profile:s},t[0]=s,t[1]=d):d=t[1];const u=Nk(d),{isActive:m}=nS(s);let h;t[2]!==n||t[3]!==o?(h=()=>{o(n)},t[2]=n,t[3]=o,t[4]=h):h=t[4];const p=h,f=`chooseAccountBtn-${n.handle}`;let g,x,_,y;return t[5]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.w_full],t[5]=g):g=t[5],t[6]!==c||t[7]!==n.handle||t[8]!==r?(x=c(r?{id:"wQnVXy",values:{0:n.handle}}:{id:"N9o7n5",values:{0:n.handle}}),t[6]=c,t[7]=n.handle,t[8]=r,t[9]=x):x=t[9],t[10]!==n.handle||t[11]!==r||t[12]!==a||t[13]!==m||t[14]!==s?.associated?.labeler||t[15]!==s?.avatar||t[16]!==s?.displayName||t[17]!==s?.handle||t[18]!==l.atoms.bg_contrast_25||t[19]!==l.atoms.text||t[20]!==l.atoms.text_contrast_medium||t[21]!==l.palette||t[22]!==u.role||t[23]!==u.showBadge?(_=e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.px_md,kl.gap_sm,{height:56},(t||o||a)&&l.atoms.bg_contrast_25],children:[(0,Ft.jsx)(mP,{avatar:s?.avatar,size:36,type:s?.associated?.labeler?"labeler":"user",live:m,hideLiveBadge:!0}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_2xs,kl.pr_2xl],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(fr,{emoji:!0,style:[kl.font_bold,kl.leading_tight],numberOfLines:1,children:Qf(s?.displayName||s?.handle||n.handle)}),u.showBadge&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Qk,{width:12,verifier:"verifier"===u.role})})]}),(0,Ft.jsx)(fr,{style:[kl.leading_tight,l.atoms.text_contrast_medium],children:su(n.handle,"@")})]}),r?(0,Ft.jsx)(Wj,{size:"sm",style:[{color:l.palette.positive_600}]}):(0,Ft.jsx)(QT,{size:"sm",style:[l.atoms.text]})]})},t[10]=n.handle,t[11]=r,t[12]=a,t[13]=m,t[14]=s?.associated?.labeler,t[15]=s?.avatar,t[16]=s?.displayName,t[17]=s?.handle,t[18]=l.atoms.bg_contrast_25,t[19]=l.atoms.text,t[20]=l.atoms.text_contrast_medium,t[21]=l.palette,t[22]=u.role,t[23]=u.showBadge,t[24]=_):_=t[24],t[25]!==n.did||t[26]!==p||t[27]!==f||t[28]!==x||t[29]!==_?(y=(0,Ft.jsx)(Sr,{testID:f,style:g,onPress:p,label:x,children:_},n.did),t[25]=n.did,t[26]=p,t[27]=f,t[28]=x,t[29]=_,t[30]=y):y=t[30],y}function HW(e){const t=(0,i.c)(26),{control:s}=e,{_:n}=(0,ft.useLingui)(),{currentAccount:o}=xh(),{onPressSwitchAccount:r,pendingDid:a}=MW(),{setShowLoggedOut:l}=oj();let c;t[0]!==s||t[1]!==o?.did||t[2]!==r?(c=e=>{e.did!==o?.did?s.close((()=>{r(e,"SwitchAccount")})):s.close()},t[0]=s,t[1]=o?.did,t[2]=r,t[3]=c):c=t[3];const d=c;let u;t[4]!==s||t[5]!==l?(u=()=>{s.close((()=>{l(!0)}))},t[4]=s,t[5]=l,t[6]=u):u=t[6];const m=u;let h,p,f,g,x,_,y,b,j;return t[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(ha,{}),t[7]=h):h=t[7],t[8]!==n?(p=n({id:"VjWeLI"}),t[8]=n,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.gap_lg],t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"VjWeLI"})}),t[11]=g):g=t[11],t[12]!==n?(x=n({id:"MPPZ54"}),t[12]=n,t[13]=x):x=t[13],t[14]!==m||t[15]!==d||t[16]!==a||t[17]!==x?(_=(0,Ft.jsxs)(wo.default,{style:f,children:[g,(0,Ft.jsx)(BW,{onSelectAccount:d,onSelectOther:m,otherLabel:x,pendingDid:a})]}),t[14]=m,t[15]=d,t[16]=a,t[17]=x,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(ma,{}),t[19]=y):y=t[19],t[20]!==p||t[21]!==_?(b=(0,Ft.jsxs)(da,{label:p,children:[_,y]}),t[20]=p,t[21]=_,t[22]=b):b=t[22],t[23]!==s||t[24]!==b?(j=(0,Ft.jsxs)(aa,{control:s,children:[h,b]}),t[23]=s,t[24]=b,t[25]=j):j=t[25],j}const NW=zr({path:"M4.216 8.815a7.853 7.853 0 0 1 15.568 0l1.207 9.053A1 1 0 0 1 20 19h-3.354c-.904 1.748-2.607 3-4.646 3-2.039 0-3.742-1.252-4.646-3H4a1 1 0 0 1-.991-1.132l1.207-9.053ZM9.778 19c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1H9.778ZM12 4a5.853 5.853 0 0 0-5.802 5.08L5.142 17h13.716l-1.056-7.92A5.853 5.853 0 0 0 12 4Z"}),VW=zr({path:"M12 2a7.853 7.853 0 0 0-7.784 6.815l-1.207 9.053A1 1 0 0 0 4 19h3.354c.904 1.748 2.607 3 4.646 3 2.039 0 3.742-1.252 4.646-3H20a1 1 0 0 0 .991-1.132l-1.207-9.053A7.853 7.853 0 0 0 12 2Zm2.222 17H9.778c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1Z"}),qW=zr({path:"M11.37 1.724a1 1 0 0 1 1.26 0l8 6.5A1 1 0 0 1 21 9v11a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-5h-2v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 .37-.776l8-6.5ZM5 9.476V19h4v-5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5h4V9.476l-7-5.688-7 5.688Z"}),UW=zr({path:"M12.63 1.724a1 1 0 0 0-1.26 0l-8 6.5A1 1 0 0 0 3 9v11a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1v-6h4v6a1 1 0 0 0 1 1h5a1 1 0 0 0 1-1V9a1 1 0 0 0-.37-.776l-8-6.5Z"}),WW=zr({path:"M5 11a6 6 0 1 1 12 0 6 6 0 0 1-12 0Zm6-8a8 8 0 1 0 4.906 14.32l3.387 3.387a1 1 0 0 0 1.414-1.414l-3.387-3.387A8 8 0 0 0 11 3Zm4 8a4 4 0 1 1-8 0 4 4 0 0 1 8 0Z"}),ZW=Gn.default.create({bottomBar:{position:"absolute",bottom:0,left:0,right:0,flexDirection:"row",borderTopWidth:Gn.default.hairlineWidth,paddingLeft:5,paddingRight:10},bottomBarWeb:kl.fixed,ctrl:{flex:1,paddingTop:13,paddingBottom:4},notificationCount:{position:"absolute",left:"52%",top:8,backgroundColor:sc.blue3,paddingHorizontal:4,paddingBottom:1,borderRadius:6,zIndex:1},notificationCountWeb:{paddingTop:3,paddingBottom:3,borderRadius:12},notificationCountLight:{borderColor:sc.white},notificationCountDark:{borderColor:sc.gray8},notificationCountLabel:{fontSize:12,fontWeight:"600",color:sc.white,fontVariant:["tabular-nums"]},hasNewBadge:{position:"absolute",left:"54%",marginLeft:4,top:10,width:8,height:8,backgroundColor:sc.blue3,borderRadius:6,zIndex:1},ctrlIcon:{marginLeft:"auto",marginRight:"auto"},ctrlIconSizingWrapper:{},homeIcon:{},feedsIcon:{},searchIcon:{top:-1},bellIcon:{},profileIcon:{borderRadius:100,borderWidth:1,borderColor:"transparent"},messagesIcon:{},onProfile:{borderWidth:1,borderRadius:100}});var QW=s(43696);const KW=e=>["service",e];function $W(e){const t=(0,i.c)(9);let s,n,o,r;return t[0]!==e?(s=KW(e),t[0]=e,t[1]=s):s=t[1],t[2]!==e?(n=async()=>{const t=new Is.BskyAgent({service:e});return(await t.com.atproto.server.describeServer()).data},o=function(e){try{new URL(e);return!0}catch{return!1}}(e),t[2]=e,t[3]=n,t[4]=o):(n=t[3],o=t[4]),t[5]!==s||t[6]!==n||t[7]!==o?(r={queryKey:s,queryFn:n,enabled:o},t[5]=s,t[6]=n,t[7]=o,t[8]=r):r=t[8],(0,vd.useQuery)(r)}function GW(e){const t=(0,i.c)(6),{iosUseWillEvents:s}=void 0===e?{}:e,[n,o]=(0,mt.useState)(!1),r=wt&&s?"keyboardWillShow":"keyboardDidShow",a=wt&&s?"keyboardWillHide":"keyboardDidHide";let l,c,d;return t[0]!==a||t[1]!==r?(l=()=>{const e=ja.default.addListener(r,(()=>o(!0))),t=ja.default.addListener(a,(()=>o(!1)));return()=>{t.remove(),e.remove()}},c=[r,a],t[0]=a,t[1]=r,t[2]=l,t[3]=c):(l=t[2],c=t[3]),(0,mt.useEffect)(l,c),t[4]!==n?(d=[n],t[4]=n,t[5]=d):d=t[5],d}const YW=e=>{const t=(0,i.c)(43),{leadin:s,title:n,description:o,children:r,scrollable:a}=e,{isMobile:l,isTabletOrMobile:c}=jx(),d=mx("default"),u=bj(d.viewLight,d.view);let m;t[0]!==d.colors.background||t[1]!==d.colors.border?(m={backgroundColor:d.colors.background,borderColor:d.colors.border,borderLeftWidth:1},t[0]=d.colors.background,t[1]=d.colors.border,t[2]=m):m=t[2];const h=bj(d.view,m),[p]=GW();if(l){if(a){const e=p?300:0;let s,n,o;return t[3]!==e?(s=[{paddingBottom:e}],t[3]=e,t[4]=s):s=t[4],t[5]!==r?(n=(0,Ft.jsx)(wo.default,{style:kl.pt_md,children:r}),t[5]=r,t[6]=n):n=t[6],t[7]!==s||t[8]!==n?(o=(0,Ft.jsx)(Sw.default,{style:kl.flex_1,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"none",contentContainerStyle:s,children:n}),t[7]=s,t[8]=n,t[9]=o):o=t[9],o}{let e;return t[10]!==r?(e=(0,Ft.jsx)(wo.default,{style:kl.pt_md,children:r}),t[10]=r,t[11]=e):e=t[11],e}}let f;t[12]!==u?(f=[JW.side,u],t[12]=u,t[13]=f):f=t[13];const g=c&&JW.leadinTextSmall;let x,_;t[14]!==d.textLight||t[15]!==g?(x=[d.textLight,JW.leadinText,g],t[14]=d.textLight,t[15]=g,t[16]=x):x=t[16],t[17]!==s||t[18]!==x?(_=(0,Ft.jsx)(Tx,{style:x,children:s}),t[17]=s,t[18]=x,t[19]=_):_=t[19];const y=c&&JW.titleTextSmall;let b,j,v,w,S,k,C;return t[20]!==d.link||t[21]!==y?(b=[d.link,JW.titleText,y],t[20]=d.link,t[21]=y,t[22]=b):b=t[22],t[23]!==b||t[24]!==n?(j=(0,Ft.jsx)(Tx,{style:b,children:n}),t[23]=b,t[24]=n,t[25]=j):j=t[25],t[26]!==d.textLight?(v=[d.textLight,JW.descriptionText],t[26]=d.textLight,t[27]=v):v=t[27],t[28]!==o||t[29]!==v?(w=(0,Ft.jsx)(Tx,{type:"2xl-medium",style:v,children:o}),t[28]=o,t[29]=v,t[30]=w):w=t[30],t[31]!==w||t[32]!==f||t[33]!==_||t[34]!==j?(S=(0,Ft.jsxs)(wo.default,{style:f,children:[_,j,w]}),t[31]=w,t[32]=f,t[33]=_,t[34]=j,t[35]=S):S=t[35],t[36]!==r||t[37]!==h||t[38]!==a?(k=a?(0,Ft.jsx)(wo.default,{style:[JW.scrollableContent,h],children:(0,Ft.jsx)(Sw.default,{style:kl.flex_1,contentContainerStyle:JW.scrollViewContentContainer,keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",children:(0,Ft.jsx)(wo.default,{style:[JW.contentWrapper,Pt&&kl.my_auto],children:r})})}):(0,Ft.jsx)(wo.default,{style:[JW.content,h],children:(0,Ft.jsx)(wo.default,{style:JW.contentWrapper,children:r})}),t[36]=r,t[37]=h,t[38]=a,t[39]=k):k=t[39],t[40]!==S||t[41]!==k?(C=(0,Ft.jsxs)(wo.default,{style:JW.container,children:[S,k]}),t[40]=S,t[41]=k,t[42]=C):C=t[42],C},JW=Gn.default.create({container:{flexDirection:"row",height:"100vh"},side:{flex:1,paddingHorizontal:40,paddingBottom:80,justifyContent:"center"},content:{flex:2,paddingHorizontal:40,justifyContent:"center"},scrollableContent:{flex:2},scrollViewContentContainer:{flex:1,paddingHorizontal:40},leadinText:{fontSize:36,fontWeight:"800",textAlign:"right"},leadinTextSmall:{fontSize:24},titleText:{fontSize:58,fontWeight:"800",textAlign:"right"},titleTextSmall:{fontSize:36},descriptionText:{maxWidth:400,marginTop:10,marginLeft:"auto",textAlign:"right"},contentWrapper:{maxWidth:600}});function XW(e){const t=(0,i.c)(14),{error:s}=e,n=ec();if(!s)return null;let o,r,a,l,c,d;return t[0]!==n.palette.negative_400?(o=[{backgroundColor:n.palette.negative_400},kl.flex_row,kl.rounded_sm,kl.p_md,kl.gap_sm],t[0]=n.palette.negative_400,t[1]=o):o=t[1],t[2]!==n.palette.white?(r=(0,Ft.jsx)(Fj,{fill:n.palette.white,size:"md"}),t[2]=n.palette.white,t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_1],t[4]=a):a=t[4],t[5]!==n.palette.white?(l=[{color:n.palette.white},kl.font_bold,kl.leading_snug],t[5]=n.palette.white,t[6]=l):l=t[6],t[7]!==s||t[8]!==l?(c=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsx)(fr,{style:l,children:s})}),t[7]=s,t[8]=l,t[9]=c):c=t[9],t[10]!==o||t[11]!==r||t[12]!==c?(d=(0,Ft.jsxs)(wo.default,{style:o,children:[r,c]}),t[10]=o,t[11]=r,t[12]=c,t[13]=d):d=t[13],d}function eZ(e){const t=(0,i.c)(14),{control:s,onSelect:n}=e,{height:o}=(0,Ny.default)(),r=(0,mt.useRef)(null),[a,l]=(0,mt.useState)(Yr),[c,d]=(0,mt.useState)("");let u;t[0]!==a||t[1]!==n?(u=()=>{const e=r.current?.getFormState();e&&(n(e),e!==Yr&&d(e)),En("signin:hostingProviderPressed",{hostingProviderDidChange:a!==Yr})},t[0]=a,t[1]=n,t[2]=u):u=t[2];const m=u,h=o/2;let p,f,g,x;return t[3]!==h?(p={minHeight:h},t[3]=h,t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ha,{}),t[5]=f):f=t[5],t[6]!==a||t[7]!==c?(g=(0,Ft.jsx)(tZ,{formRef:r,fixedOption:a,setFixedOption:l,initialCustomAddress:c}),t[6]=a,t[7]=c,t[8]=g):g=t[8],t[9]!==s||t[10]!==m||t[11]!==p||t[12]!==g?(x=(0,Ft.jsxs)(aa,{control:s,onClose:m,nativeOptions:p,children:[f,g]}),t[9]=s,t[10]=m,t[11]=p,t[12]=g,t[13]=x):x=t[13],x}function tZ(e){const t=(0,i.c)(80),{formRef:s,fixedOption:n,setFixedOption:o,initialCustomAddress:r}=e,a=Lr(),{_:l}=(0,ft.useLingui)(),c=ec(),{accounts:d}=xh(),{gtMobile:u}=ql(),[m,h]=(0,mt.useState)(r);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p=gn("pdsAddressHistory")||[],t[0]=p):p=t[0];const[f,g]=(0,mt.useState)(p);let x,_;t[1]!==m||t[2]!==n||t[3]!==f?(x=()=>({getFormState:()=>{let e;if("custom"===n){if(e=m.trim().toLowerCase(),!e)return null}else e=n;if(e.startsWith("http://")||e.startsWith("https://")||(e="localhost"===e||e.startsWith("localhost:")?`http://${e}`:`https://${e}`),"custom"===n&&!f.includes(e)){const t=[e,...f.slice(0,4)];g(t),xn("pdsAddressHistory",t)}return e}}),_=[m,n,f],t[1]=m,t[2]=n,t[3]=f,t[4]=x,t[5]=_):(x=t[4],_=t[5]),(0,mt.useImperativeHandle)(s,x,_);const y=0===d.length;let b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$;return t[6]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.relative,kl.gap_md,kl.w_full],t[6]=b):b=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{nativeID:"dialog-title",style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"oSnByd"})}),t[7]=j):j=t[7],t[8]!==n?(v=[n],t[8]=n,t[9]=v):v=t[9],t[10]!==o?(w=e=>o(e[0]),t[10]=o,t[11]=w):w=t[11],t[12]!==l?(S=l({id:"7A9u1j"}),t[12]=l,t[13]=S):S=t[13],t[14]!==l?(k=l({id:"7A9u1j"}),t[14]=l,t[15]=k):k=t[15],t[16]!==k?(C=(0,Ft.jsx)(_I,{children:k}),t[16]=k,t[17]=C):C=t[17],t[18]!==C||t[19]!==S?(P=(0,Ft.jsx)(gI,{name:Yr,label:S,children:C}),t[18]=C,t[19]=S,t[20]=P):P=t[20],t[21]!==l?(T=l({id:"8Tg/JR"}),t[21]=l,t[22]=T):T=t[22],t[23]!==l?(L=l({id:"8Tg/JR"}),t[23]=l,t[24]=L):L=t[24],t[25]!==L?(A=(0,Ft.jsx)(_I,{children:L}),t[25]=L,t[26]=A):A=t[26],t[27]!==T||t[28]!==A?(I=(0,Ft.jsx)(gI,{testID:"customSelectBtn",name:"custom",label:T,children:A}),t[27]=T,t[28]=A,t[29]=I):I=t[29],t[30]!==P||t[31]!==I||t[32]!==v||t[33]!==w?(R=(0,Ft.jsxs)(fI,{label:"Preferences",values:v,onChange:w,children:[P,I]}),t[30]=P,t[31]=I,t[32]=v,t[33]=w,t[34]=R):R=t[34],t[35]!==n||t[36]!==y?(D=n===Yr&&y&&(0,Ft.jsx)(Uj,{type:"tip",children:(0,Ft.jsx)(ft.Trans,{id:"Q6q9G+"})}),t[35]=n,t[36]=y,t[37]=D):D=t[37],t[38]!==m||t[39]!==n||t[40]!==f||t[41]!==c.atoms.border_contrast_low?(F="custom"===n&&(0,Ft.jsxs)(wo.default,{style:[kl.border,c.atoms.border_contrast_low,kl.rounded_sm,kl.px_md,kl.py_md],children:[(0,Ft.jsx)(ta,{nativeID:"address-input-label",children:(0,Ft.jsx)(ft.Trans,{id:"ZlVUPQ"})}),(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:eP}),(0,Ft.jsx)(ea,{testID:"customServerTextInput",value:m,onChangeText:h,label:"my-server.com",accessibilityLabelledBy:"address-input-label",autoCapitalize:"none",keyboardType:"url"})]}),f.length>0&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.mt_xs],children:f.map((e=>(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",label:e,style:[kl.px_sm,kl.py_xs,kl.rounded_sm,kl.gap_sm],onPress:()=>h(e),children:(0,Ft.jsx)(Cr,{children:e})},e)))})]}),t[38]=m,t[39]=n,t[40]=f,t[41]=c.atoms.border_contrast_low,t[42]=F):F=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(E=[kl.py_xs],t[43]=E):E=t[43],t[44]!==c.atoms.text_contrast_medium?(M=[c.atoms.text_contrast_medium,kl.text_sm,kl.leading_snug,kl.flex_1],t[44]=c.atoms.text_contrast_medium,t[45]=M):M=t[45],t[46]!==y?(B=y?(0,Ft.jsx)(ft.Trans,{id:"Q8xTmv"}):(0,Ft.jsx)(ft.Trans,{id:"2sNIH6"}),t[46]=y,t[47]=B):B=t[47],t[48]!==l?(O=l({id:"Lcv07d"}),t[48]=l,t[49]=O):O=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(ft.Trans,{id:"F6TdXL"}),t[50]=z):z=t[50],t[51]!==O?(H=(0,Ft.jsx)(fv,{label:O,to:"https://atproto.com/guides/self-hosting",children:z}),t[51]=O,t[52]=H):H=t[52],t[53]!==M||t[54]!==B||t[55]!==H?(N=(0,Ft.jsx)(wo.default,{style:E,children:(0,Ft.jsxs)(yr,{style:M,children:[B," ",H]})}),t[53]=M,t[54]=B,t[55]=H,t[56]=N):N=t[56],t[57]!==u?(V=u&&[kl.flex_row,kl.justify_end],t[57]=u,t[58]=V):V=t[58],t[59]!==a?(q=()=>a.close(),t[59]=a,t[60]=q):q=t[60],t[61]!==l?(U=l({id:"DPfwMq"}),t[61]=l,t[62]=U):U=t[62],t[63]!==l?(W=l({id:"DPfwMq"}),t[63]=l,t[64]=W):W=t[64],t[65]!==W?(Z=(0,Ft.jsx)(Cr,{children:W}),t[65]=W,t[66]=Z):Z=t[66],t[67]!==q||t[68]!==U||t[69]!==Z?(Q=(0,Ft.jsx)(Sr,{testID:"doneBtn",variant:"outline",color:"primary",size:"small",onPress:q,label:U,children:Z}),t[67]=q,t[68]=U,t[69]=Z,t[70]=Q):Q=t[70],t[71]!==V||t[72]!==Q?(K=(0,Ft.jsx)(wo.default,{style:V,children:Q}),t[71]=V,t[72]=Q,t[73]=K):K=t[73],t[74]!==R||t[75]!==D||t[76]!==F||t[77]!==N||t[78]!==K?($=(0,Ft.jsx)(da,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,Ft.jsxs)(wo.default,{style:b,children:[j,R,D,F,N,K]})}),t[74]=R,t[75]=D,t[76]=F,t[77]=N,t[78]=K,t[79]=$):$=t[79],$}function sZ(e){const t=(0,i.c)(18),{serviceUrl:s,onSelectServiceUrl:n,onOpenDialog:o,minimal:r}=e,a=Ar(),l=ec(),{_:c}=(0,ft.useLingui)();let d;t[0]!==o||t[1]!==a?(d=()=>{ja.default.dismiss(),a.open(),o?.()},t[0]=o,t[1]=a,t[2]=d):d=t[2];const u=d;let m,h,p;return t[3]!==n||t[4]!==a?(m=(0,Ft.jsx)(eZ,{control:a,onSelect:n}),t[3]=n,t[4]=a,t[5]=m):m=t[5],t[6]!==c||t[7]!==r||t[8]!==u||t[9]!==s||t[10]!==l.atoms.bg_contrast_100||t[11]!==l.atoms.bg_contrast_300||t[12]!==l.atoms.text_contrast_medium||t[13]!==l.palette?(h=r?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.flex_wrap,kl.gap_xs],children:[(0,Ft.jsx)(fr,{style:[kl.text_sm,l.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"6lw8GY"})}),(0,Ft.jsxs)(Sr,{label:mu(s),accessibilityHint:c({id:"JogRg8"}),onPress:u,variant:"ghost",color:"secondary",size:"tiny",style:[kl.px_xs,{marginHorizontal:-1*eo.xs},{paddingVertical:0}],children:[(0,Ft.jsx)(Cr,{style:[kl.text_sm],children:mu(s)}),(0,Ft.jsx)(Pr,{icon:EO})]})]}):(0,Ft.jsx)(Sr,{testID:"selectServiceButton",label:mu(s),accessibilityHint:c({id:"JogRg8"}),variant:"solid",color:"secondary",style:[kl.w_full,kl.flex_row,kl.align_center,kl.rounded_sm,kl.py_sm,kl.pl_md,kl.pr_sm,kl.gap_xs],onPress:u,children:e=>{const{hovered:t,pressed:n}=e,o=t||n;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:kl.pr_xs,children:(0,Ft.jsx)(eP,{size:"md",fill:o?l.palette.contrast_800:l.palette.contrast_500})}),(0,Ft.jsx)(fr,{style:[kl.text_md],children:mu(s)}),(0,Ft.jsx)(wo.default,{style:[kl.rounded_sm,o?l.atoms.bg_contrast_300:l.atoms.bg_contrast_100,{marginLeft:"auto",padding:6}],children:(0,Ft.jsx)(EO,{size:"sm",style:{color:o?l.palette.contrast_800:l.palette.contrast_500}})})]})}}),t[6]=c,t[7]=r,t[8]=u,t[9]=s,t[10]=l.atoms.bg_contrast_100,t[11]=l.atoms.bg_contrast_300,t[12]=l.atoms.text_contrast_medium,t[13]=l.palette,t[14]=h):h=t[14],t[15]!==m||t[16]!==h?(p=(0,Ft.jsxs)(Ft.Fragment,{children:[m,h]}),t[15]=m,t[16]=h,t[17]=p):p=t[17],p}const nZ=zr({path:"M12 4a8 8 0 1 0 4.21 14.804 1 1 0 0 1 1.054 1.7A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 1.104-.27 2.31-.949 3.243-.716.984-1.849 1.6-3.331 1.465a4.2 4.2 0 0 1-2.93-1.585c-.94 1.21-2.388 1.94-3.985 1.715-2.53-.356-4.04-2.91-3.682-5.458s2.514-4.586 5.044-4.23c.905.127 1.68.536 2.286 1.126a1 1 0 0 1 1.964.368l-.515 3.545v.002a2.22 2.22 0 0 0 1.999 2.526c.75.068 1.212-.21 1.533-.65.358-.493.566-1.245.566-2.067a8 8 0 0 0-8-8Zm-.112 5.13c-1.195-.168-2.544.819-2.784 2.529s.784 3.03 1.98 3.198 2.543-.819 2.784-2.529-.784-3.03-1.98-3.198Z"}),oZ=zr({path:"M12 4a8 8 0 1 0 4.21 14.804 1 1 0 0 1 1.054 1.7A9.96 9.96 0 0 1 12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10c0 1.104-.27 2.31-.949 3.243-.716.984-1.849 1.6-3.331 1.465a4.2 4.2 0 0 1-2.93-1.585c-.94 1.21-2.388 1.94-3.985 1.715-2.53-.356-4.04-2.91-3.682-5.458s2.514-4.586 5.044-4.23c.905.127 1.68.536 2.286 1.126a1 1 0 0 1 1.964.368l-.515 3.545v.002a2.22 2.22 0 0 0 1.999 2.526c.75.068 1.212-.21 1.533-.65.358-.493.566-1.245.566-2.067a8 8 0 0 0-8-8Zm-.112 5.13c-1.195-.168-2.544.819-2.784 2.529s.784 3.03 1.98 3.198 2.544-.819 2.784-2.529-.784-3.03-1.98-3.198Z"});function rZ(e){const t=(0,i.c)(14),{testID:s,titleText:n,children:o,style:r}=e,{gtMobile:a}=ql(),l=ec();let c,d,u,m;return t[0]!==a?(c=!a&&[kl.px_lg,kl.py_md],t[0]=a,t[1]=c):c=t[1],t[2]!==r||t[3]!==c?(d=[kl.gap_md,kl.flex_1,c,r],t[2]=r,t[3]=c,t[4]=d):d=t[4],t[5]!==a||t[6]!==l||t[7]!==n?(u=n&&!a&&(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,l.atoms.text_contrast_high],children:n}),t[5]=a,t[6]=l,t[7]=n,t[8]=u):u=t[8],t[9]!==o||t[10]!==d||t[11]!==u||t[12]!==s?(m=(0,Ft.jsxs)(wo.default,{testID:s,style:d,children:[u,o]}),t[9]=o,t[10]=d,t[11]=u,t[12]=s,t[13]=m):m=t[13],m}const iZ=e=>{const t=(0,i.c)(71),{error:s,serviceUrl:n,serviceDescription:o,setError:r,setServiceUrl:a,onPressBack:l,onEmailSent:c}=e,d=ec(),[u,m]=(0,mt.useState)(!1),[h,p]=(0,mt.useState)(""),{_:f}=(0,ft.useLingui)(),g=aZ;let x;t[0]!==f||t[1]!==h||t[2]!==c||t[3]!==n||t[4]!==r?(x=async()=>{if(!Hv.validate(h))return r(f({id:"tBpzKB"}));r(""),m(!0);try{const e=new Is.BskyAgent({service:n});await e.com.atproto.server.requestPasswordReset({email:h}),c()}catch(y){const t=y,s=t.toString();ys.warn("Failed to request password reset",{error:t}),m(!1),ms(t)?r(f({id:"nc4Wfd"})):r(ds(s))}},t[0]=f,t[1]=h,t[2]=c,t[3]=n,t[4]=r,t[5]=x):x=t[5];const _=x;let y,b,j,v,w,S;t[6]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(ft.Trans,{id:"RfwZxd"}),t[6]=y):y=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"yt7fhu"})}),t[7]=b):b=t[7],t[8]!==n||t[9]!==a?(j=(0,Ft.jsxs)(wo.default,{children:[b,(0,Ft.jsx)(sZ,{serviceUrl:n,onSelectServiceUrl:a,onOpenDialog:g})]}),t[8]=n,t[9]=a,t[10]=j):j=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"ATGYL1"})}),t[11]=v):v=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(sa,{icon:nZ}),t[12]=w):w=t[12],t[13]!==f?(S=f({id:"xRPn3U"}),t[13]=f,t[14]=S):S=t[14];const k=!u;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z;return t[15]!==f?(C=f({id:"kfucNS"}),t[15]=f,t[16]=C):C=t[16],t[17]!==h||t[18]!==S||t[19]!==k||t[20]!==C?(P=(0,Ft.jsxs)(wo.default,{children:[v,(0,Ft.jsxs)(Yi,{children:[w,(0,Ft.jsx)(ea,{testID:"forgotPasswordEmail",label:S,autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"email",value:h,onChangeText:p,editable:k,accessibilityHint:C})]})]}),t[17]=h,t[18]=S,t[19]=k,t[20]=C,t[21]=P):P=t[21],t[22]!==d.atoms.text_contrast_high?(T=[d.atoms.text_contrast_high,kl.leading_snug],t[22]=d.atoms.text_contrast_high,t[23]=T):T=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(ft.Trans,{id:"cHrOqs"}),t[24]=L):L=t[24],t[25]!==T?(A=(0,Ft.jsx)(fr,{style:T,children:L}),t[25]=T,t[26]=A):A=t[26],t[27]!==s?(I=(0,Ft.jsx)(XW,{error:s}),t[27]=s,t[28]=I):I=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_row,kl.align_center,kl.pt_md],t[29]=R):R=t[29],t[30]!==f?(D=f({id:"iH8pgl"}),t[30]=f,t[31]=D):D=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"iH8pgl"})}),t[32]=F):F=t[32],t[33]!==l||t[34]!==D?(E=(0,Ft.jsx)(Sr,{label:D,variant:"solid",color:"secondary",size:"large",onPress:l,children:F}),t[33]=l,t[34]=D,t[35]=E):E=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(wo.default,{style:kl.flex_1}),t[36]=M):M=t[36],t[37]!==f||t[38]!==u||t[39]!==_||t[40]!==o?(B=!o||u?(0,Ft.jsx)(Fx.default,{}):(0,Ft.jsx)(Sr,{label:f({id:"hXzOVo"}),variant:"solid",color:"primary",size:"large",onPress:_,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})})}),t[37]=f,t[38]=u,t[39]=_,t[40]=o,t[41]=B):B=t[41],t[42]!==u||t[43]!==o||t[44]!==d.atoms.text_contrast_high?(O=!o||u?(0,Ft.jsx)(fr,{style:[d.atoms.text_contrast_high,kl.pl_md],children:(0,Ft.jsx)(ft.Trans,{id:"k1ifdL"})}):void 0,t[42]=u,t[43]=o,t[44]=d.atoms.text_contrast_high,t[45]=O):O=t[45],t[46]!==E||t[47]!==B||t[48]!==O?(z=(0,Ft.jsxs)(wo.default,{style:R,children:[E,M,B,O]}),t[46]=E,t[47]=B,t[48]=O,t[49]=z):z=t[49],t[50]!==d.atoms.border_contrast_medium?(H=[d.atoms.border_contrast_medium,kl.border_t,kl.pt_2xl,kl.mt_md,kl.flex_row,kl.justify_center],t[50]=d.atoms.border_contrast_medium,t[51]=H):H=t[51],t[52]!==f?(N=f({id:"Rtp0y7"}),t[52]=f,t[53]=N):N=t[53],t[54]!==f?(V=f({id:"e0WHBA"}),t[54]=f,t[55]=V):V=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"FTT4a4"})}),t[56]=q):q=t[56],t[57]!==c||t[58]!==N||t[59]!==V?(U=(0,Ft.jsx)(Sr,{testID:"skipSendEmailButton",onPress:c,label:N,accessibilityHint:V,size:"large",variant:"ghost",color:"secondary",children:q}),t[57]=c,t[58]=N,t[59]=V,t[60]=U):U=t[60],t[61]!==H||t[62]!==U?(W=(0,Ft.jsx)(wo.default,{style:H,children:U}),t[61]=H,t[62]=U,t[63]=W):W=t[63],t[64]!==P||t[65]!==A||t[66]!==I||t[67]!==z||t[68]!==W||t[69]!==j?(Z=(0,Ft.jsxs)(rZ,{testID:"forgotPasswordForm",titleText:y,children:[j,P,A,I,z,W]}),t[64]=P,t[65]=A,t[66]=I,t[67]=z,t[68]=W,t[69]=j,t[70]=Z):Z=t[70],Z};function aZ(){ja.default.dismiss()}const lZ=zr({path:"M7 7a5 5 0 0 1 10 0v2h1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2v-9a2 2 0 0 1 2-2h1V7Zm-1 4v9h12v-9H6Zm9-2H9V7a3 3 0 1 1 6 0v2Zm-3 4a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"}),cZ=zr({path:"M7 7a5 5 0 0 1 10 0v2a3 3 0 0 1 3 3v7a3 3 0 0 1-3 3H7a3 3 0 0 1-3-3v-7a3 3 0 0 1 3-3V7Zm0 4a1 1 0 0 0-1 1v7a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-7a1 1 0 0 0-1-1H7Zm8-2H9V7a3 3 0 1 1 6 0v2Zm-3 4a1 1 0 0 1 1 1v3a1 1 0 1 1-2 0v-3a1 1 0 0 1 1-1Z"}),dZ=zr({path:"M3 4a1 1 0 0 0-1 1v4.17a1 1 0 0 0 .667.944 2.001 2.001 0 0 1 0 3.772A1 1 0 0 0 2 14.83V19a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1v-4.17a1 1 0 0 0-.667-.944 2.001 2.001 0 0 1 0-3.772A1 1 0 0 0 22 9.17V5a1 1 0 0 0-1-1H3Zm1 4.535V6h16v2.535A4 4 0 0 0 18 12c0 1.482.805 2.773 2 3.465V18H4v-2.535A4 4 0 0 0 6 12a4 4 0 0 0-2-3.465ZM15 15a1 1 0 1 0 0 2 1 1 0 0 0 0-2Zm-1-3a1 1 0 1 1 2 0 1 1 0 0 1-2 0Zm1-5a1 1 0 1 0 0 2 1 1 0 0 0 0-2Z"}),uZ=({error:e,serviceUrl:t,serviceDescription:s,initialHandle:n,setError:o,setServiceUrl:r,onPressRetryConnect:i,onPressBack:a,onPressForgotPassword:l,onAttemptSuccess:c,onAttemptFailed:d})=>{const u=ec(),[m,h]=(0,mt.useState)(!1),[p,f]=(0,mt.useState)(!1),[g,x]=(0,mt.useState)(!0),_=(0,mt.useRef)(n||""),y=(0,mt.useRef)(""),b=(0,mt.useRef)(""),j=(0,mt.useRef)(null),{_:v}=(0,ft.useLingui)(),{login:w}=_h(),S=Tf(),{setShowLoggedOut:k}=oj(),C=jd(),P=mt.useCallback((()=>{ja.default.dismiss()}),[]),T=async()=>{if(m)return;ja.default.dismiss(),vF.default.configureNext(vF.default.Presets.easeInEaseOut),o("");const e=_.current.toLowerCase().trim(),n=y.current,r=b.current;if(e)if(n){h(!0);try{let o=e;if(!e.includes("@")&&!e.includes(".")&&s&&s.availableUserDomains.length>0){let t=!1;for(const e of s.availableUserDomains)o.endsWith(e)&&(t=!0);t||(o=eu(e,s.availableUserDomains[0]))}await w({service:t,identifier:o,password:n,authFactorToken:r.trim()},"LoginForm"),c(),k(!1),C(!0),S("Login")}catch(i){const e=i.toString();vF.default.configureNext(vF.default.Presets.easeInEaseOut),h(!1),i instanceof Is.ComAtprotoServerCreateSession.AuthFactorTokenRequiredError?f(!0):(d(),e.includes("Token is invalid")?(ys.debug("Failed to login due to invalid 2fa token",{error:e}),o(v({id:"QPo/O5"}))):e.includes("Authentication Required")||e.includes("Invalid identifier or password")?(ys.debug("Failed to login due to invalid credentials",{error:e}),o(v({id:"u6cGoJ"}))):ms(i)?(ys.warn("Failed to login due to network error",{error:e}),o(v({id:"nc4Wfd"}))):(ys.warn("Failed to login",{error:e}),o(ds(e))))}}else o(v({id:"KExnON"}));else o(v({id:"rAhy23"}))};return(0,Ft.jsxs)(rZ,{testID:"loginForm",titleText:(0,Ft.jsx)(ft.Trans,{id:"5lWFkC"}),children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"yt7fhu"})}),(0,Ft.jsx)(sZ,{serviceUrl:t,onSelectServiceUrl:r,onOpenDialog:P})]}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"AeXO77"})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:nZ}),(0,Ft.jsx)(ea,{testID:"loginUsernameInput",label:v({id:"nZx9mr"}),autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"username",returnKeyType:"next",textContentType:"username",defaultValue:n||"",onChangeText:e=>{_.current=e},onSubmitEditing:()=>{j.current?.focus()},blurOnSubmit:!1,editable:!m,accessibilityHint:v({id:"SyK5N1"})})]}),(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:lZ}),(0,Ft.jsx)(ea,{testID:"loginPasswordInput",inputRef:j,label:v({id:"8ZsakT"}),autoCapitalize:"none",autoCorrect:!1,autoComplete:"password",returnKeyType:"done",enablesReturnKeyAutomatically:!0,secureTextEntry:!0,textContentType:"password",clearButtonMode:"while-editing",onChangeText:e=>{y.current=e},onSubmitEditing:T,blurOnSubmit:!1,editable:!m,accessibilityHint:v({id:"NgaR6B"})}),(0,Ft.jsx)(Sr,{testID:"forgotPasswordButton",onPress:l,label:v({id:"UNMVei"}),accessibilityHint:v({id:"z0/1k6"}),variant:"solid",color:"secondary",style:[kl.rounded_sm,{marginLeft:"auto",left:6,padding:6},kl.z_10],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"F4OP4y"})})})]})]})]}),p&&(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"4blS0m"})}),(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:dZ}),(0,Ft.jsx)(ea,{testID:"loginAuthFactorTokenInput",label:v({id:"ioZOzk"}),autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"one-time-code",returnKeyType:"done",textContentType:"username",blurOnSubmit:!1,onChangeText:e=>{x(""===e),b.current=e},onSubmitEditing:T,editable:!m,accessibilityHint:v({id:"TqQ2XY"}),style:[{textTransform:g?"none":"uppercase"}]})]}),(0,Ft.jsx)(fr,{style:[kl.text_sm,u.atoms.text_contrast_medium,kl.mt_sm],children:(0,Ft.jsx)(ft.Trans,{id:"aMmL+S"})})]}),(0,Ft.jsx)(XW,{error:e}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.pt_md],children:[(0,Ft.jsx)(Sr,{label:v({id:"iH8pgl"}),variant:"solid",color:"secondary",size:"large",onPress:a,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"iH8pgl"})})}),(0,Ft.jsx)(wo.default,{style:kl.flex_1}),!s&&e?(0,Ft.jsx)(Sr,{testID:"loginRetryButton",label:v({id:"6gRgw8"}),accessibilityHint:v({id:"Fsx8Cp"}),variant:"solid",color:"secondary",size:"large",onPress:i,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})})}):s?(0,Ft.jsxs)(Sr,{testID:"loginNextButton",label:v({id:"hXzOVo"}),accessibilityHint:v({id:"e0WHBA"}),variant:"solid",color:"primary",size:"large",onPress:T,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})}),m&&(0,Ft.jsx)(Pr,{icon:wv})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Fx.default,{}),(0,Ft.jsx)(fr,{style:[u.atoms.text_contrast_high,kl.pl_md],children:(0,Ft.jsx)(ft.Trans,{id:"J28zul"})})]})]})]})},mZ=e=>{const t=(0,i.c)(17),{onPressNext:s}=e,{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),r=!o&&kl.mt_5xl;let a,l,c,d,u,m,h,p,f;return t[0]!==r?(a=[kl.gap_2xl,r],t[0]=r,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(fr,{style:[kl.text_3xl,kl.font_bold,kl.text_center],children:(0,Ft.jsx)(ft.Trans,{id:"DKeVgZ"})}),t[2]=l):l=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(fr,{style:[kl.text_center,kl.mx_auto,{maxWidth:"80%"}],children:(0,Ft.jsx)(ft.Trans,{id:"67nRLM"})}),t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.flex_row,kl.justify_center],t[4]=d):d=t[4],t[5]!==n?(u=n({id:"flH7u/"}),t[5]=n,t[6]=u):u=t[6],t[7]!==n?(m=n({id:"BG9P8K"}),t[7]=n,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"UaXeX3"})}),t[9]=h):h=t[9],t[10]!==s||t[11]!==u||t[12]!==m?(p=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Sr,{onPress:s,label:u,accessibilityHint:m,variant:"solid",color:"primary",size:"large",children:h})}),t[10]=s,t[11]=u,t[12]=m,t[13]=p):p=t[13],t[14]!==a||t[15]!==p?(f=(0,Ft.jsxs)(rZ,{testID:"passwordUpdatedForm",style:a,children:[l,c,p]}),t[14]=a,t[15]=p,t[16]=f):f=t[16],f},hZ=e=>{const t=(0,i.c)(66),{error:s,serviceUrl:n,setError:o,onPressBack:r,onPasswordSet:a}=e,{_:l}=(0,ft.useLingui)(),c=ec(),[d,u]=(0,mt.useState)(!1),[m,h]=(0,mt.useState)(""),[p,f]=(0,mt.useState)("");let g;t[0]!==l||t[1]!==a||t[2]!==p||t[3]!==m||t[4]!==n||t[5]!==o?(g=async()=>{const e=ww(m);if(!e)return o(l({id:"svKSj/"})),void En("signin:passwordResetFailure",{});if(p){o(""),u(!0);try{const t=new Is.BskyAgent({service:n});await t.com.atproto.server.resetPassword({token:e,password:p}),a(),En("signin:passwordResetSuccess",{})}catch(_){const t=_,s=t.toString();ys.warn("Failed to set new password",{error:t}),En("signin:passwordResetFailure",{}),u(!1),ms(t)?o(l({id:"nc4Wfd"})):o(ds(s))}}else o(l({id:"nkUu0m"}))},t[0]=l,t[1]=a,t[2]=p,t[3]=m,t[4]=n,t[5]=o,t[6]=g):g=t[6];const x=g;let _;t[7]!==l||t[8]!==m||t[9]!==o?(_=()=>{const e=ww(m);e?h(e):o(l({id:"svKSj/"}))},t[7]=l,t[8]=m,t[9]=o,t[10]=_):_=t[10];const y=_;let b,j,v,w,S,k;t[11]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ft.Trans,{id:"V/e7nf"}),t[11]=b):b=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.mb_sm],children:(0,Ft.jsx)(ft.Trans,{id:"RrDyEb"})}),t[12]=j):j=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ta,{children:"Reset code"}),t[13]=v):v=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(sa,{icon:dZ}),t[14]=w):w=t[14],t[15]!==l?(S=l({id:"N16Q/4"}),t[15]=l,t[16]=S):S=t[16],t[17]!==o?(k=()=>o(""),t[17]=o,t[18]=k):k=t[18];const C=!d;let P,T,L,A,I;t[19]!==l?(P=l({id:"pXzKXU"}),t[19]=l,t[20]=P):P=t[20],t[21]!==y||t[22]!==m||t[23]!==P||t[24]!==S||t[25]!==k||t[26]!==C?(T=(0,Ft.jsxs)(wo.default,{children:[v,(0,Ft.jsxs)(Yi,{children:[w,(0,Ft.jsx)(ea,{testID:"resetCodeInput",label:S,autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"off",value:m,onChangeText:h,onFocus:k,onBlur:y,editable:C,accessibilityHint:P})]})]}),t[21]=y,t[22]=m,t[23]=P,t[24]=S,t[25]=k,t[26]=C,t[27]=T):T=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(ta,{children:"New password"}),t[28]=L):L=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(sa,{icon:lZ}),t[29]=A):A=t[29],t[30]!==l?(I=l({id:"3tOlz6"}),t[30]=l,t[31]=I):I=t[31];const R=!d;let D,F,E,M,B,O,z,H,N,V,q,U;return t[32]!==l?(D=l({id:"tPvL7k"}),t[32]=l,t[33]=D):D=t[33],t[34]!==x||t[35]!==p||t[36]!==I||t[37]!==R||t[38]!==D?(F=(0,Ft.jsxs)(wo.default,{children:[L,(0,Ft.jsxs)(Yi,{children:[A,(0,Ft.jsx)(ea,{testID:"newPasswordInput",label:I,autoCapitalize:"none",autoCorrect:!1,autoComplete:"password",returnKeyType:"done",secureTextEntry:!0,textContentType:"password",clearButtonMode:"while-editing",value:p,onChangeText:f,onSubmitEditing:x,editable:R,accessibilityHint:D})]})]}),t[34]=x,t[35]=p,t[36]=I,t[37]=R,t[38]=D,t[39]=F):F=t[39],t[40]!==s?(E=(0,Ft.jsx)(XW,{error:s}),t[40]=s,t[41]=E):E=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(M=[kl.flex_row,kl.align_center,kl.pt_lg],t[42]=M):M=t[42],t[43]!==l?(B=l({id:"iH8pgl"}),t[43]=l,t[44]=B):B=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"iH8pgl"})}),t[45]=O):O=t[45],t[46]!==r||t[47]!==B?(z=(0,Ft.jsx)(Sr,{label:B,variant:"solid",color:"secondary",size:"large",onPress:r,children:O}),t[46]=r,t[47]=B,t[48]=z):z=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(wo.default,{style:kl.flex_1}),t[49]=H):H=t[49],t[50]!==l||t[51]!==d||t[52]!==x?(N=d?(0,Ft.jsx)(Fx.default,{}):(0,Ft.jsx)(Sr,{label:l({id:"hXzOVo"}),variant:"solid",color:"primary",size:"large",onPress:x,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})})}),t[50]=l,t[51]=d,t[52]=x,t[53]=N):N=t[53],t[54]!==d||t[55]!==c?(V=d?(0,Ft.jsx)(fr,{style:[c.atoms.text_contrast_high,kl.pl_md],children:(0,Ft.jsx)(ft.Trans,{id:"RXbEvi"})}):void 0,t[54]=d,t[55]=c,t[56]=V):V=t[56],t[57]!==z||t[58]!==N||t[59]!==V?(q=(0,Ft.jsxs)(wo.default,{style:M,children:[z,H,N,V]}),t[57]=z,t[58]=N,t[59]=V,t[60]=q):q=t[60],t[61]!==T||t[62]!==F||t[63]!==E||t[64]!==q?(U=(0,Ft.jsxs)(rZ,{testID:"setNewPasswordForm",titleText:b,children:[j,T,F,E,q]}),t[61]=T,t[62]=F,t[63]=E,t[64]=q,t[65]=U):U=t[65],U},pZ=({onSelectAccount:e,onPressBack:t})=>{const[s,n]=mt.useState(null),{_:o}=(0,ft.useLingui)(),{currentAccount:r}=xh(),{resumeSession:i}=_h(),{setShowLoggedOut:a}=oj(),l=mt.useCallback((async t=>{if(!s)if(t.accessJwt){if(t.did===r?.did)return a(!1),void Zu(o({id:"5nzK7s",values:{0:t.handle}}));try{n(t.did),await i(t),En("account:loggedIn",{logContext:"ChooseAccountForm",withPassword:!1}),Zu(o({id:"Dx1GST",values:{0:t.handle}}))}catch(l){ys.error("choose account: initSession failed",{message:l.message}),e(t)}finally{n(null)}}else e(t)}),[r,i,s,e,a,o]);return(0,Ft.jsxs)(rZ,{testID:"chooseAccountForm",titleText:(0,Ft.jsx)(ft.Trans,{id:"+O3PfQ"}),children:[(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"FT1MVS"})}),(0,Ft.jsx)(BW,{onSelectAccount:l,onSelectOther:()=>e(),pendingDid:s})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row],children:[(0,Ft.jsx)(Sr,{label:o({id:"iH8pgl"}),variant:"solid",color:"secondary",size:"large",onPress:t,children:(0,Ft.jsx)(Cr,{children:o({id:"iH8pgl"})})}),(0,Ft.jsx)(wo.default,{style:[kl.flex_1]})]})]})};var fZ=function(e){return e[e.Login=0]="Login",e[e.ChooseAccount=1]="ChooseAccount",e[e.ForgotPassword=2]="ForgotPassword",e[e.SetNewPassword=3]="SetNewPassword",e[e.PasswordUpdated=4]="PasswordUpdated",e}(fZ||{});const gZ=e=>{const t=(0,i.c)(71),{onPressBack:s}=e,{_:n}=(0,ft.useLingui)(),o=(0,mt.useRef)(0);let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=Date.now(),t[0]=r):r=t[0];const a=(0,mt.useRef)(r),{accounts:l}=xh(),{requestedAccountSwitchTo:c}=nj();let d;if(t[1]!==l||t[2]!==c){let e;t[4]!==c?(e=e=>e.did===c,t[4]=c,t[5]=e):e=t[5],d=l.find(e),t[1]=l,t[2]=c,t[3]=d}else d=t[3];const u=d,[m,h]=mt.useState(""),[p,f]=mt.useState(u?.service||Xr),[g,x]=mt.useState(u?.handle||""),[_,y]=mt.useState(u?fZ.Login:l.length?fZ.ChooseAccount:fZ.Login),{data:b,error:j,refetch:v}=$W(p);let w;t[6]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{e?.service&&f(e.service),x(e?.handle||""),y(fZ.Login)},t[6]=w):w=t[6];const S=w;let k;t[7]===Symbol.for("react.memo_cache_sentinel")?(k=e=>{h(""),y(e)},t[7]=k):k=t[7];const C=k;let P,T,L;t[8]!==n||t[9]!==j||t[10]!==p?(P=()=>{j?(h(n({id:"nc4Wfd"})),ys.warn(`Failed to fetch service description for ${p}`,{error:String(j)}),En("signin:hostingProviderFailedResolution",{})):h("")},T=[j,p,n],t[8]=n,t[9]=j,t[10]=p,t[11]=P,t[12]=T):(P=t[11],T=t[12]),mt.useEffect(P,T),t[13]===Symbol.for("react.memo_cache_sentinel")?(L=()=>{y(fZ.ForgotPassword),En("signin:forgotPasswordPressed",{})},t[13]=L):L=t[13];const A=L;let I;t[14]!==s?(I=()=>{s(),En("signin:backPressed",{failedAttemptsCount:o.current})},t[14]=s,t[15]=I):I=t[15];const R=I;let D;t[16]!==p?(D=()=>{En("signin:success",{isUsingCustomProvider:p!==Xr,timeTakenSeconds:Math.round((Date.now()-a.current)/1e3),failedAttemptsCount:o.current}),y(fZ.Login)},t[16]=p,t[17]=D):D=t[17];const F=D;let E;t[18]===Symbol.for("react.memo_cache_sentinel")?(E=()=>{o.current=o.current+1},t[18]=E):E=t[18];const M=E;let B,O,z=null,H="",N="";e:switch(_){case fZ.Login:{let e,s,o,r;t[19]!==n?(e=n({id:"5lWFkC"}),t[19]=n,t[20]=e):e=t[20],H=e,t[21]!==n?(s=n({id:"T0KLp4"}),t[21]=n,t[22]=s):s=t[22],N=s,t[23]!==l.length||t[24]!==R?(o=()=>l.length?C(fZ.ChooseAccount):R(),t[23]=l.length,t[24]=R,t[25]=o):o=t[25],t[26]!==m||t[27]!==g||t[28]!==F||t[29]!==v||t[30]!==b||t[31]!==p||t[32]!==o?(r=(0,Ft.jsx)(uZ,{error:m,serviceUrl:p,serviceDescription:b,initialHandle:g,setError:h,onAttemptFailed:M,onAttemptSuccess:F,setServiceUrl:f,onPressBack:o,onPressForgotPassword:A,onPressRetryConnect:v}),t[26]=m,t[27]=g,t[28]=F,t[29]=v,t[30]=b,t[31]=p,t[32]=o,t[33]=r):r=t[33],z=r;break e}case fZ.ChooseAccount:{let e,s,o;t[34]!==n?(e=n({id:"5lWFkC"}),t[34]=n,t[35]=e):e=t[35],H=e,t[36]!==n?(s=n({id:"o3dwub"}),t[36]=n,t[37]=s):s=t[37],N=s,t[38]!==R?(o=(0,Ft.jsx)(pZ,{onSelectAccount:S,onPressBack:R}),t[38]=R,t[39]=o):o=t[39],z=o;break e}case fZ.ForgotPassword:{let e,s,o,r,i;t[40]!==n?(e=n({id:"dn8X5t"}),t[40]=n,t[41]=e):e=t[41],H=e,t[42]!==n?(s=n({id:"Esfg1M"}),t[42]=n,t[43]=s):s=t[43],N=s,t[44]===Symbol.for("react.memo_cache_sentinel")?(o=()=>C(fZ.Login),r=()=>C(fZ.SetNewPassword),t[44]=o,t[45]=r):(o=t[44],r=t[45]),t[46]!==m||t[47]!==b||t[48]!==p?(i=(0,Ft.jsx)(iZ,{error:m,serviceUrl:p,serviceDescription:b,setError:h,setServiceUrl:f,onPressBack:o,onEmailSent:r}),t[46]=m,t[47]=b,t[48]=p,t[49]=i):i=t[49],z=i;break e}case fZ.SetNewPassword:{let e,s,o,r,i;t[50]!==n?(e=n({id:"dn8X5t"}),t[50]=n,t[51]=e):e=t[51],H=e,t[52]!==n?(s=n({id:"Esfg1M"}),t[52]=n,t[53]=s):s=t[53],N=s,t[54]===Symbol.for("react.memo_cache_sentinel")?(o=()=>C(fZ.ForgotPassword),r=()=>C(fZ.PasswordUpdated),t[54]=o,t[55]=r):(o=t[54],r=t[55]),t[56]!==m||t[57]!==p?(i=(0,Ft.jsx)(hZ,{error:m,serviceUrl:p,setError:h,onPressBack:o,onPasswordSet:r}),t[56]=m,t[57]=p,t[58]=i):i=t[58],z=i;break e}case fZ.PasswordUpdated:{let e,s,o;t[59]!==n?(e=n({id:"ogtYkT"}),t[59]=n,t[60]=e):e=t[60],H=e,t[61]!==n?(s=n({id:"67nRLM"}),t[61]=n,t[62]=s):s=t[62],N=s,t[63]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(mZ,{onPressNext:()=>C(fZ.Login)}),t[63]=o):o=t[63],z=o}}return t[64]!==z||t[65]!==_?(B=(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:(0,Ft.jsx)(mt.Fragment,{children:z},_)}),t[64]=z,t[65]=_,t[66]=B):B=t[66],t[67]!==N||t[68]!==B||t[69]!==H?(O=(0,Ft.jsx)(Tw.default,{testID:"signIn",behavior:"padding",style:kl.flex_1,children:(0,Ft.jsx)(YW,{leadin:"",title:H,description:N,scrollable:!0,children:B})}),t[67]=N,t[68]=B,t[69]=H,t[70]=O):O=t[70],O},xZ=new Date(Date.now()-63072e7);let _Z=function(e){return e[e.INFO=0]="INFO",e[e.HANDLE=1]="HANDLE",e[e.CAPTCHA=2]="CAPTCHA",e}({});const yZ={hasPrev:!1,activeStep:_Z.INFO,serviceUrl:Xr,serviceDescription:void 0,userDomain:"",dateOfBirth:xZ,email:"",password:"",handle:"",inviteCode:"",error:"",errorField:void 0,isLoading:!1,pendingSubmit:null,signupStartTime:Date.now(),fieldErrors:{"invite-code":0,email:0,handle:0,password:0,"date-of-birth":0},backgroundCount:0};function bZ(e){return Cd(e)>=13}function jZ(e,t){let s=Object.assign({},e);switch(t.type){case"prev":e.activeStep!==_Z.INFO&&(vF.default.configureNext(vF.default.Presets.easeInEaseOut),s.activeStep--,s.error="",s.errorField=void 0);break;case"next":e.activeStep!==_Z.CAPTCHA&&(vF.default.configureNext(vF.default.Presets.easeInEaseOut),s.activeStep++,s.error="",s.errorField=void 0);break;case"setStep":s.activeStep=t.value;break;case"setServiceUrl":s.serviceUrl=t.value;break;case"setServiceDescription":vF.default.configureNext(vF.default.Presets.easeInEaseOut),s.serviceDescription=t.value,s.userDomain=t.value?.availableUserDomains[0]??"",s.isLoading=!1;break;case"setEmail":s.email=t.value;break;case"setPassword":s.password=t.value;break;case"setDateOfBirth":s.dateOfBirth=t.value;break;case"setInviteCode":s.inviteCode=t.value;break;case"setHandle":s.handle=t.value;break;case"setIsLoading":s.isLoading=t.value;break;case"setError":s.error=t.value,s.errorField=t.field,t.field&&(s.fieldErrors[t.field]=(s.fieldErrors[t.field]||0)+1,ys.metric("signup:fieldError",{field:t.field,errorCount:s.fieldErrors[t.field],errorMessage:t.value,activeStep:s.activeStep},{statsig:!0}));break;case"clearError":s.error="",s.errorField=void 0;break;case"submit":s.pendingSubmit=t.task;break;case"incrementBackgroundCount":s.backgroundCount=e.backgroundCount+1,ys.metric("signup:backgrounded",{activeStep:s.activeStep,backgroundCount:s.backgroundCount},{statsig:!0})}return s.hasPrev=s.activeStep!==_Z.INFO,ys.debug("signup",s),e.activeStep!==s.activeStep&&ys.debug("signup: step changed",{activeStep:s.activeStep}),s}const vZ=mt.createContext({}),wZ=()=>mt.useContext(vZ);const SZ=new URL(window.location.href).host;function kZ({url:e,stateParam:t,onSuccess:s,onError:n}){mt.useEffect((()=>{const e=setTimeout((()=>{n({errorMessage:"User did not complete the captcha within 30 seconds"})}),3e4);return()=>{clearTimeout(e)}}),[n]);const o=mt.useCallback((()=>{const e=document.getElementById("captcha-iframe");try{const o=e?.contentWindow?.location.href;if(!o)return;const r=new URL(o);if(r.host!==SZ)return;const i=r.searchParams.get("code");if(r.searchParams.get("state")!==t||!i)return void n({error:"Invalid state or code"});s(i)}catch(o){}}),[t,s,n]);return(0,Ft.jsx)("iframe",{src:e,style:CZ.iframe,id:"captcha-iframe",onLoad:o})}const CZ=Gn.default.create({iframe:{flex:1,borderWidth:0,borderRadius:10,backgroundColor:"transparent"}});function PZ(e){const t=(0,i.c)(19),{hideNext:s,showRetry:n,isLoading:o,isNextDisabled:r,onBackPress:a,onNextPress:l,onRetryPress:c,overrideNextText:d}=e,{_:u}=(0,ft.useLingui)();let m,h,p,f,g,x;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.flex_row,kl.justify_between,kl.pb_lg,kl.pt_3xl],t[0]=m):m=t[0],t[1]!==u?(h=u({id:"p19nbp"}),t[1]=u,t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"iH8pgl"})}),t[3]=p):p=t[3],t[4]!==a||t[5]!==h?(f=(0,Ft.jsx)(Sr,{label:h,variant:"solid",color:"secondary",size:"large",onPress:a,children:p}),t[4]=a,t[5]=h,t[6]=f):f=t[6],t[7]!==u||t[8]!==s||t[9]!==o||t[10]!==r||t[11]!==l||t[12]!==c||t[13]!==d||t[14]!==n?(g=!s&&(n?(0,Ft.jsxs)(Sr,{label:u({id:"Mey1Kb"}),variant:"solid",color:"primary",size:"large",onPress:c,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),o&&(0,Ft.jsx)(Pr,{icon:wv})]}):(0,Ft.jsxs)(Sr,{testID:"nextBtn",label:u({id:"nKtyYu"}),variant:"solid",color:"primary",size:"large",disabled:o||r,onPress:l,children:[(0,Ft.jsx)(Cr,{children:d||(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})}),o&&(0,Ft.jsx)(Pr,{icon:wv})]})),t[7]=u,t[8]=s,t[9]=o,t[10]=r,t[11]=l,t[12]=c,t[13]=d,t[14]=n,t[15]=g):g=t[15],t[16]!==f||t[17]!==g?(x=(0,Ft.jsxs)(wo.default,{style:m,children:[f,g]}),t[16]=f,t[17]=g,t[18]=x):x=t[18],x}const TZ="/gate/signup";function LZ(){const{_:e}=(0,ft.useLingui)(),t=ec(),{state:s,dispatch:n}=wZ(),[o,r]=mt.useState(!1),i=mt.useMemo((()=>(0,Xt.nanoid)(15)),[]),a=mt.useMemo((()=>{const e=new URL(s.serviceUrl);return e.pathname=TZ,e.searchParams.set("handle",eu(s.handle,s.userDomain)),e.searchParams.set("state",i),e.searchParams.set("colorScheme",t.name),e.href}),[s.serviceUrl,s.handle,s.userDomain,i,t.name]),l=mt.useCallback((e=>{r(!0),ys.metric("signup:captchaSuccess",{},{statsig:!0}),n({type:"submit",task:{verificationCode:e,mutableProcessed:!1}})}),[n]),c=mt.useCallback((t=>{n({type:"setError",value:e({id:"+NtlMA"})}),ys.metric("signup:captchaFailure",{},{statsig:!0}),ys.error("Signup Flow Error",{registrationHandle:s.handle,error:t})}),[e,n,s.handle]),d=mt.useCallback((()=>{ys.error("Signup Flow Error",{errorMessage:"User went back from captcha step. Possibly encountered an error.",registrationHandle:s.handle}),n({type:"prev"})}),[n,s.handle]);return(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_lg],children:[(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.overflow_hidden,{minHeight:510},o&&[kl.align_center,kl.justify_center]],children:o?(0,Ft.jsx)(Fx.default,{size:"large"}):(0,Ft.jsx)(kZ,{url:a,stateParam:i,state:s,onSuccess:l,onError:c})}),(0,Ft.jsx)(XW,{error:s.error})]}),(0,Ft.jsx)(PZ,{hideNext:!0,isLoading:s.isLoading,onBackPress:d})]})}function AZ(e,t){const s=(0,i.c)(9),n=(0,mt.useRef)(e),[o,r]=(0,mt.useState)(e);let a,l,c;s[0]!==e?(a=()=>{n.current=e},l=[e],s[0]=e,s[1]=a,s[2]=l):(a=s[1],l=s[2]),(0,mt.useEffect)(a,l),s[3]!==o?(c=()=>{n.current!==o&&r(n.current)},s[3]=o,s[4]=c):c=s[4];const d=Ed(c);let u,m;return s[5]!==d||s[6]!==t?(u=()=>{const e=setInterval(d,t);return()=>{clearInterval(e)}},m=[d,t],s[5]=d,s[6]=t,s[7]=u,s[8]=m):(u=s[7],m=s[8]),(0,mt.useEffect)(u,m),o}function IZ(){const{_:e}=(0,ft.useLingui)(),t=ec(),{state:s,dispatch:n}=wZ(),o=bh(),r=(0,mt.useRef)(s.handle),[i,a]=mt.useState(s.handle),l=AZ(s.isLoading,500),c=mt.useCallback((async()=>{const t=r.current.trim();n({type:"setHandle",value:t});if(nu(t,s.userDomain).overall){try{n({type:"setIsLoading",value:!0});if((await o.resolveHandle({handle:eu(t,s.userDomain)})).data.did)return n({type:"setError",value:e({id:"pXuB/C"}),field:"handle"}),void ys.metric("signup:handleTaken",{})}catch(i){}finally{n({type:"setIsLoading",value:!1})}ys.metric("signup:nextPressed",{activeStep:s.activeStep,phoneVerificationRequired:s.serviceDescription?.phoneVerificationRequired},{statsig:!0}),s.serviceDescription?.phoneVerificationRequired?n({type:"next"}):n({type:"submit",task:{verificationCode:void 0,mutableProcessed:!1}})}}),[e,n,s.activeStep,s.serviceDescription?.phoneVerificationRequired,s.userDomain,o]),d=mt.useCallback((()=>{const e=r.current.trim();n({type:"setHandle",value:e}),n({type:"prev"}),ys.metric("signup:backPressed",{activeStep:s.activeStep},{statsig:!0})}),[n,s.activeStep]),u=nu(i,s.userDomain);return(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_lg],children:[(0,Ft.jsx)(wo.default,{children:(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:nZ}),(0,Ft.jsx)(ea,{testID:"handleInput",onChangeText:e=>{s.error&&n({type:"setError",value:""}),r.current=e,a(e)},label:e({id:"LX2sHe"}),defaultValue:i,autoCapitalize:"none",autoCorrect:!1,autoFocus:!0,autoComplete:"off"})]})}),""!==i&&(0,Ft.jsx)(fr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"HUP4FQ",values:{0:eu(i,s.userDomain)},components:{0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold]})}})}),""!==i&&(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.rounded_sm,kl.border,kl.p_md,kl.gap_sm,t.atoms.border_contrast_low],children:[s.error?(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(RZ,{valid:!1}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:s.error})]}):void 0,u.hyphenStartOrEnd?(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(RZ,{valid:u.handleChars}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"022E+k"})})]}):(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(RZ,{valid:u.hyphenStartOrEnd}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"XD/zKB"})})]}),(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(RZ,{valid:u.frontLength&&u.totalLength}),!u.totalLength||i.length>Xd?(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"0ruI1C",values:{MAX_SERVICE_HANDLE_LENGTH:Xd}})}):(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"4vr/OG"})})]})]})]}),(0,Ft.jsx)(PZ,{isLoading:l,isNextDisabled:!u.overall,onBackPress:d,onNextPress:c})]})}function RZ(e){const t=(0,i.c)(4),{valid:s}=e,n=ec();if(!s){let e;return t[0]!==n.palette.negative_500?(e=(0,Ft.jsx)(Hr,{size:"md",style:{color:n.palette.negative_500}}),t[0]=n.palette.negative_500,t[1]=e):e=t[1],e}let o;return t[2]!==n.palette.positive_700?(o=(0,Ft.jsx)(Wj,{size:"md",style:{color:n.palette.positive_700}}),t[2]=n.palette.positive_700,t[3]=o):o=t[3],o}const DZ=/([a-zA-Z0-9._%+-]+)@(gnail\.(co|com)|gmaill\.(co|com)|gmai\.(co|com)|gmail\.co|gmal\.(co|com)|iclod\.(co|com)|icloud\.co|outllok\.(co|com)|outlok\.(co|com)|outlook\.co|yaoo\.(co|com)|yaho\.(co|com)|yahoo\.co|yahooo\.(co|com))$/;const FZ=e=>{const t=(0,i.c)(50),{serviceDescription:s,needsGuardian:n,under13:o}=e,r=ec(),{_:a}=(0,ft.useLingui)();if(!s){let e;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(wo.default,{}),t[0]=e):e=t[0],e}const l=s.links?.termsOfService;let c;t[1]!==l?(c=EZ(l),t[1]=l,t[2]=c):c=t[2];const d=c,u=s.links?.privacyPolicy;let m;t[3]!==u?(m=EZ(u),t[3]=u,t[4]=m):m=t[4];const h=m;if(!d&&!h){let e,s,n,o,i,a;return t[5]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.flex_row,kl.align_center,kl.gap_xs],t[5]=e):e=t[5],t[6]!==r.atoms.text_contrast_low.color?(s=(0,Ft.jsx)(Ij,{size:"md",fill:r.atoms.text_contrast_low.color}),t[6]=r.atoms.text_contrast_low.color,t[7]=s):s=t[7],t[8]!==r.atoms.text_contrast_medium?(n=[r.atoms.text_contrast_medium],t[8]=r.atoms.text_contrast_medium,t[9]=n):n=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(ft.Trans,{id:"B0LV5B"}),t[10]=o):o=t[10],t[11]!==n?(i=(0,Ft.jsx)(fr,{style:n,children:o}),t[11]=n,t[12]=i):i=t[12],t[13]!==s||t[14]!==i?(a=(0,Ft.jsxs)(wo.default,{style:e,children:[s,i]}),t[13]=s,t[14]=i,t[15]=a):a=t[15],a}let p,f,g,x,_;if(d&&h){let e,s,n,o,r;t[16]!==a?(e=a({id:"0CnYjF"}),t[16]=a,t[17]=e):e=t[17],t[18]!==e||t[19]!==d?(s=(0,Ft.jsx)(fv,{label:e,to:d},"tos"),t[18]=e,t[19]=d,t[20]=s):s=t[20],t[21]!==a?(n=a({id:"SVSh8N"}),t[21]=a,t[22]=n):n=t[22],t[23]!==h||t[24]!==n?(o=(0,Ft.jsx)(fv,{label:n,to:h},"pp"),t[23]=h,t[24]=n,t[25]=o):o=t[25],t[26]!==s||t[27]!==o?(r=(0,Ft.jsx)(ft.Trans,{id:"m4Iks8",components:{0:s,1:o}}),t[26]=s,t[27]=o,t[28]=r):r=t[28],p=r}else if(d){let e,s;t[29]!==a?(e=a({id:"0CnYjF"}),t[29]=a,t[30]=e):e=t[30],t[31]!==e||t[32]!==d?(s=(0,Ft.jsx)(ft.Trans,{id:"YGbIdH",components:{0:(0,Ft.jsx)(fv,{label:e,to:d},"tos")}}),t[31]=e,t[32]=d,t[33]=s):s=t[33],p=s}else{if(!h)return null;{let e,s;t[34]!==a?(e=a({id:"SVSh8N"}),t[34]=a,t[35]=e):e=t[35],t[36]!==h||t[37]!==e?(s=(0,Ft.jsx)(ft.Trans,{id:"MwYjJa",components:{0:(0,Ft.jsx)(fv,{label:e,to:h},"pp")}}),t[36]=h,t[37]=e,t[38]=s):s=t[38],p=s}}return t[39]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.gap_sm],t[39]=f):f=t[39],t[40]!==p||t[41]!==r?(g=p?(0,Ft.jsx)(fr,{style:[kl.leading_snug,r.atoms.text_contrast_medium],children:p}):null,t[40]=p,t[41]=r,t[42]=g):g=t[42],t[43]!==n||t[44]!==r||t[45]!==o?(x=o?(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.leading_snug,r.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"jIxMdB"})}):n?(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.leading_snug,r.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"lNmiLw"})}):void 0,t[43]=n,t[44]=r,t[45]=o,t[46]=x):x=t[46],t[47]!==g||t[48]!==x?(_=(0,Ft.jsxs)(wo.default,{style:f,children:[g,x]}),t[47]=g,t[48]=x,t[49]=_):_=t[49],_};function EZ(e){return e&&(e.startsWith("http://")||e.startsWith("https://"))?e:void 0}function MZ(e){return e&&"Invalid Date"!==e.toString()?e:(ys.error("Create account: handled invalid date for birthDate",{hasDate:!!e}),new Date)}function BZ({onPressBack:e,isServerError:t,refetchServer:n,isLoadingStarterPack:o}){const{_:r}=(0,ft.useLingui)(),{state:i,dispatch:a}=wZ(),l=(0,mt.useRef)(i.inviteCode),c=(0,mt.useRef)(i.email),d=(0,mt.useRef)(i.email),u=(0,mt.useRef)(i.password),m=(0,mt.useRef)(null),h=(0,mt.useRef)(null),p=(0,mt.useRef)(null),[f,g]=mt.useState(!1),x=mt.useRef();mt.useEffect((()=>{s.e(812).then(s.t.bind(s,64812,19)).then((e=>{x.current=e})),s.e(19).then(s.bind(s,19))}),[]);return(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[(0,Ft.jsx)(XW,{error:i.error}),(0,Ft.jsx)(sZ,{minimal:!0,serviceUrl:i.serviceUrl,onSelectServiceUrl:e=>a({type:"setServiceUrl",value:e})}),i.isLoading||o?(0,Ft.jsx)(wo.default,{style:[kl.align_center],children:(0,Ft.jsx)(wv,{size:"xl"})}):i.serviceDescription?(0,Ft.jsxs)(Ft.Fragment,{children:[i.serviceDescription.inviteCodeRequired&&(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"6KlkHI"})}),(0,Ft.jsxs)(Yi,{isInvalid:"invite-code"===i.errorField,children:[(0,Ft.jsx)(sa,{icon:dZ}),(0,Ft.jsx)(ea,{onChangeText:e=>{l.current=e.trim(),"invite-code"===i.errorField&&e.trim().length>0&&a({type:"clearError"})},label:r({id:"8XIT+P"}),defaultValue:i.inviteCode,autoCapitalize:"none",autoComplete:"email",keyboardType:"email-address",returnKeyType:"next",submitBehavior:jo("submit"),onSubmitEditing:jo((()=>m.current?.focus()))})]})]}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"O3oNi5"})}),(0,Ft.jsxs)(Yi,{isInvalid:"email"===i.errorField,children:[(0,Ft.jsx)(sa,{icon:Rv}),(0,Ft.jsx)(ea,{testID:"emailInput",inputRef:m,onChangeText:e=>{c.current=e.trim(),f&&g(!1),"email"===i.errorField&&e.trim().length>0&&Hv.validate(e.trim())&&a({type:"clearError"})},label:r({id:"xRPn3U"}),defaultValue:i.email,autoCapitalize:"none",autoComplete:"email",keyboardType:"email-address",returnKeyType:"next",submitBehavior:jo("submit"),onSubmitEditing:jo((()=>h.current?.focus()))})]})]}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"8ZsakT"})}),(0,Ft.jsxs)(Yi,{isInvalid:"password"===i.errorField,children:[(0,Ft.jsx)(sa,{icon:lZ}),(0,Ft.jsx)(ea,{testID:"passwordInput",inputRef:h,onChangeText:e=>{u.current=e,"password"===i.errorField&&e.length>=8&&a({type:"clearError"})},label:r({id:"Wk8hkn"}),defaultValue:i.password,secureTextEntry:!0,autoComplete:"new-password",autoCapitalize:"none",returnKeyType:"next",submitBehavior:jo("blurAndSubmit"),onSubmitEditing:jo((()=>p.current?.focus())),passwordRules:"minlength: 8;"})]})]}),(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsx)(FU,{children:(0,Ft.jsx)(ft.Trans,{id:"k7hmsH"})}),(0,Ft.jsx)(BU,{testID:"date",inputRef:p,value:i.dateOfBirth,onChangeDate:e=>{a({type:"setDateOfBirth",value:MZ(new Date(e))})},label:r({id:"Dh+FIh"}),accessibilityHint:r({id:"bVqpL8"}),maximumDate:new Date})]}),(0,Ft.jsx)(FZ,{serviceDescription:i.serviceDescription,needsGuardian:(_=i.dateOfBirth,!(Cd(_)>=18)),under13:!bZ(i.dateOfBirth)})]}):void 0]}),(0,Ft.jsx)(PZ,{hideNext:!bZ(i.dateOfBirth),showRetry:t,isLoading:i.isLoading,onBackPress:e,onNextPress:()=>{const e=l.current,t=c.current,s=d.current!==t,n=u.current;if(bZ(i.dateOfBirth)){if(i.serviceDescription?.inviteCodeRequired&&!e)return a({type:"setError",value:r({id:"dTtPxd"}),field:"invite-code"});if(!t)return a({type:"setError",value:r({id:"hV+cYN"}),field:"email"});if(!Hv.validate(t))return a({type:"setError",value:r({id:"tBpzKB"}),field:"email"});if(s&&x.current){if(function(e,t){return!t.parse(e).isIcann||DZ.test(e)}(t,x.current))return d.current=t,g(!0),a({type:"setError",value:r({id:"Htk+Ee"})})}else f&&g(!1);if(d.current=t,!n)return a({type:"setError",value:r({id:"5vI4sE"}),field:"password"});if(n.length<8)return a({type:"setError",value:r({id:"XVBkum"}),field:"password"});a({type:"setInviteCode",value:e}),a({type:"setEmail",value:t}),a({type:"setPassword",value:n}),a({type:"next"}),ys.metric("signup:nextPressed",{activeStep:i.activeStep},{statsig:!0})}},onRetryPress:n,overrideNextText:f?r({id:"Kc7qnr"}):void 0})]});var _}function OZ(){const e=(0,i.c)(21),t=ec(),{_:s}=(0,ft.useLingui)(),n=(0,wd.useQueryClient)(),o=Yc(),r=Jc();let a;e[0]!==o.appLanguage?(a=Ws(o.appLanguage),e[0]=o.appLanguage,e[1]=a):a=e[1];const l=a;let c;e[2]!==n||e[3]!==l||e[4]!==r?(c=e=>{e&&(l!==e&&r.setAppLanguage(Ws(e)),function(e,t=0){setTimeout((()=>{e.resetQueries({predicate:e=>e.queryKey[0]===Hx})}),t)}(n))},e[2]=n,e[3]=l,e[4]=r,e[5]=c):c=e[5];const d=c;let u,m,h,p,f,g;return e[6]!==o.appLanguage?(u=Ws(o.appLanguage),e[6]=o.appLanguage,e[7]=u):u=e[7],e[8]!==s?(m=s({id:"4Sp55Z"}),e[8]=s,e[9]=m):m=e[9],e[10]!==s||e[11]!==t.atoms.text_contrast_medium?(h=e=>{const{props:n}=e;return(0,Ft.jsxs)(Sr,Object.assign({},n,{label:n.accessibilityLabel,size:vo({web:"tiny",native:"small"}),variant:"ghost",color:"secondary",style:[kl.pr_xs,kl.pl_sm,vo({web:[{alignSelf:"flex-start"},kl.gap_sm],native:[kl.gap_xs]})],children:[(0,Ft.jsx)(sL,{placeholder:s({id:"6amBvO"}),style:[t.atoms.text_contrast_medium]}),(0,Ft.jsx)(nL,{style:[t.atoms.text_contrast_medium]})]}))},e[10]=s,e[11]=t.atoms.text_contrast_medium,e[12]=h):h=e[12],e[13]!==m||e[14]!==h?(p=(0,Ft.jsx)(tL,{label:m,children:h}),e[13]=m,e[14]=h,e[15]=p):p=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(oL,{renderItem:HZ,items:Ms.map(zZ)}),e[16]=f):f=e[16],e[17]!==d||e[18]!==u||e[19]!==p?(g=(0,Ft.jsxs)(XT,{value:u,onValueChange:d,children:[p,f]}),e[17]=d,e[18]=u,e[19]=p,e[20]=g):g=e[20],g}function zZ(e){return{label:e.name,value:e.code2}}function HZ(e){const{label:t,value:s}=e;return(0,Ft.jsxs)(iL,{value:s,label:t,children:[(0,Ft.jsx)(lL,{}),(0,Ft.jsx)(aL,{children:t})]})}function NZ({onPressBack:e}){const{_:t}=(0,ft.useLingui)(),s=ec(),[n,o]=(0,mt.useReducer)(jZ,yZ),{gtMobile:r}=ql(),i=function(){const{_:e}=(0,ft.useLingui)(),{createAccount:t}=_h(),s=Ka();return(0,mt.useCallback)((async(n,o)=>{if(!n.email)return o({type:"setStep",value:_Z.INFO}),o({type:"setError",value:e({id:"hV+cYN"}),field:"email"});if(!Hv.validate(n.email))return o({type:"setStep",value:_Z.INFO}),o({type:"setError",value:e({id:"tBpzKB"}),field:"email"});if(!n.password)return o({type:"setStep",value:_Z.INFO}),o({type:"setError",value:e({id:"5vI4sE"}),field:"password"});if(!n.handle)return o({type:"setStep",value:_Z.HANDLE}),o({type:"setError",value:e({id:"Aw5fOC"}),field:"handle"});if(n.serviceDescription?.phoneVerificationRequired&&!n.pendingSubmit?.verificationCode)return o({type:"setStep",value:_Z.CAPTCHA}),ys.error("Signup Flow Error",{errorMessage:"Verification captcha code was not set.",registrationHandle:n.handle}),o({type:"setError",value:e({id:"81dqTb"})});o({type:"setError",value:""}),o({type:"setIsLoading",value:!0});try{await t({service:n.serviceUrl,email:n.email,handle:eu(n.handle,n.userDomain),password:n.password,birthDate:n.dateOfBirth,inviteCode:n.inviteCode.trim(),verificationCode:n.pendingSubmit?.verificationCode},{signupDuration:Date.now()-n.signupStartTime,fieldErrorsTotal:Object.values(n.fieldErrors).reduce(((e,t)=>e+t),0),backgroundCount:n.backgroundCount}),s({type:"start"})}catch(r){let t=r.toString();if(r instanceof Is.ComAtprotoServerCreateAccount.InvalidInviteCodeError)return o({type:"setError",value:e({id:"MYTV5o"}),field:"invite-code"}),void o({type:"setStep",value:_Z.INFO});const s=ds(t),i=s.toLowerCase().includes("handle");o({type:"setIsLoading",value:!1}),o({type:"setError",value:s,field:i?"handle":void 0}),o({type:"setStep",value:i?2:1}),ys.error("Signup Flow Error",{errorMessage:s,registrationHandle:n.handle})}finally{o({type:"setIsLoading",value:!1})}}),[e,s,t])}(),a=Yb(),{data:l,isFetching:c,isError:d}=mk({uri:a?.uri}),[u]=(0,mt.useState)(null!=l),m=a?.uri&&!c&&l,{data:h,isFetching:p,isError:f,refetch:g}=$W(n.serviceUrl);return(0,mt.useEffect)((()=>{p?o({type:"setIsLoading",value:!0}):p||o({type:"setIsLoading",value:!1})}),[p]),(0,mt.useEffect)((()=>{f?(o({type:"setServiceDescription",value:void 0}),o({type:"setError",value:t({id:"nc4Wfd"})})):h&&(o({type:"setServiceDescription",value:h}),o({type:"setError",value:""}))}),[t,h,f]),(0,mt.useEffect)((()=>{n.pendingSubmit&&(n.pendingSubmit.mutableProcessed||(n.pendingSubmit.mutableProcessed=!0,i(n,o)))}),[n,o,i]),(0,mt.useEffect)((()=>{const e=gt.default.addEventListener("change",(e=>{"background"===e&&o({type:"incrementBackgroundCount"})}));return()=>e.remove()}),[]),(0,Ft.jsx)(vZ.Provider,{value:{state:n,dispatch:o},children:(0,Ft.jsx)(YW,{leadin:"",title:t({id:"IS0nrP"}),description:t({id:"qjBGxf"}),scrollable:!0,children:(0,Ft.jsxs)(wo.default,{testID:"createAccount",style:kl.flex_1,children:[m&&If(l.record,Is.AppBskyGraphStarterpack.isRecord)?(0,Ft.jsx)(ko.default.View,{entering:u?void 0:ko.FadeIn,children:(0,Ft.jsxs)(FV,{style:[kl.mx_lg,kl.p_lg,kl.gap_sm,kl.rounded_sm],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_xl,{color:"white"}],children:l.record.name}),(0,Ft.jsx)(fr,{style:[{color:"white"}],children:l.feeds?.length?(0,Ft.jsx)(ft.Trans,{id:"r8guei"}):(0,Ft.jsx)(ft.Trans,{id:"D2GbDf"})})]})}):null,(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.px_xl,kl.pt_2xl,!r&&{paddingBottom:100}],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kl.pb_3xl],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,s.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"PUTOoP",values:{0:n.activeStep+1,1:n.serviceDescription&&!n.serviceDescription.phoneVerificationRequired?"2":"3"}})}),(0,Ft.jsx)(fr,{style:[kl.text_3xl,kl.font_bold],children:n.activeStep===_Z.INFO?(0,Ft.jsx)(ft.Trans,{id:"gdRnT7"}):n.activeStep===_Z.HANDLE?(0,Ft.jsx)(ft.Trans,{id:"SKNaGJ"}):(0,Ft.jsx)(ft.Trans,{id:"9tzjF3"})})]}),(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:n.activeStep===_Z.INFO?(0,Ft.jsx)(BZ,{onPressBack:e,isLoadingStarterPack:c&&!d,isServerError:f,refetchServer:g}):n.activeStep===_Z.HANDLE?(0,Ft.jsx)(IZ,{}):(0,Ft.jsx)(LZ,{})}),(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.py_lg,kl.flex_row,kl.gap_md,kl.align_center],children:[(0,Ft.jsx)(OZ,{}),(0,Ft.jsxs)(fr,{style:[kl.flex_1,s.atoms.text_contrast_medium,!r&&kl.text_md],children:[(0,Ft.jsx)(ft.Trans,{id:"C1DCFO"})," ",(0,Ft.jsx)(fv,{label:t({id:"mpby9d"}),to:ii({email:n.email}),style:[!r&&kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"mpby9d"})})]})]})]})]})})})}const VZ=ko.default.createAnimatedComponent(tr.default);function qZ(e){window.webkit.messageHandlers.onMessage.postMessage(JSON.stringify(e))}function UZ(e){const t=(0,i.c)(15),{setScreenState:s}=e,n=Op(),o=Yb(),r=o?.uri;let a;t[0]!==r?(a={uri:r},t[0]=r,t[1]=a):a=t[1];const{data:l,isError:c,isFetching:d}=mk(a);let u;t[2]!==l?(u=l&&l.list&&Is.AppBskyGraphDefs.validateStarterPackView(l)&&Is.AppBskyGraphStarterpack.validateRecord(l.record),t[2]=l,t[3]=u):u=t[3];const m=u;let h,p,f;if(t[4]!==c||t[5]!==m||t[6]!==s||t[7]!==l?(h=()=>{(c||l&&!m)&&s(GZ.S_LoginOrCreateAccount)},p=[c,s,m,l],t[4]=c,t[5]=m,t[6]=s,t[7]=l,t[8]=h,t[9]=p):(h=t[8],p=t[9]),mt.useEffect(h,p),d||!l||!m||!n){let e;return t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(QH,{isLoading:!0}),t[10]=e):e=t[10],e}return If(l.record,Is.AppBskyGraphStarterpack.isRecord)?(t[11]!==n||t[12]!==s||t[13]!==l?(f=(0,Ft.jsx)(WZ,{starterPack:l,starterPackRecord:l.record,setScreenState:s,moderationOpts:n}),t[11]=n,t[12]=s,t[13]=l,t[14]=f):f=t[14],f):null}function WZ(e){const t=(0,i.c)(109),{starterPack:s,starterPackRecord:n,setScreenState:o,moderationOpts:r}=e,{creator:a,listItemsSample:l,feeds:c}=s,{_:d,i18n:u}=(0,ft.useLingui)(),m=ec(),h=Yb(),p=Jb(),{isTabletOrDesktop:f}=jx(),g=Ar(),[x]=Ik(n.description||""),[_,y]=mt.useState(!1),b=s.list?.listItemCount??0;let j;t[0]!==o?(j=()=>{o(GZ.S_CreateAccount)},t[0]=o,t[1]=j):j=t[1];const v=j;let w;t[2]!==h?.isClip||t[3]!==g||t[4]!==v||t[5]!==s.uri?(w=()=>{h?.isClip?(y(!0),qZ({action:"present"})):lm?g.open():v(),En("starterPack:ctaPress",{starterPack:s.uri})},t[2]=h?.isClip,t[3]=g,t[4]=v,t[5]=s.uri,t[6]=w):w=t[6];const S=w;let k;t[7]!==h?.isClip||t[8]!==p||t[9]!==o?(k=()=>{h?.isClip?(y(!0),qZ({action:"present"})):(p(void 0),o(GZ.S_CreateAccount))},t[7]=h?.isClip,t[8]=p,t[9]=o,t[10]=k):k=t[10];const C=k;let P,T,L,A,I,R,D,F;t[11]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.flex_1],t[11]=P):P=t[11],t[12]!==f?(T=f&&[kl.mt_2xl,kl.rounded_md],t[12]=f,t[13]=T):T=t[13],t[14]!==h?.isClip?(L=h?.isClip&&{paddingTop:100},t[14]=h?.isClip,t[15]=L):L=t[15],t[16]!==T||t[17]!==L?(A=[kl.align_center,kl.gap_sm,kl.px_lg,kl.py_2xl,T,L],t[16]=T,t[17]=L,t[18]=A):A=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.pb_sm],children:(0,Ft.jsx)(mH,{width:76,fill:"white"})}),t[19]=I):I=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.font_bold,kl.text_4xl,kl.text_center,kl.leading_tight,{color:"white"}],t[20]=R):R=t[20],t[21]!==n.name?(D=(0,Ft.jsx)(fr,{style:R,children:n.name}),t[21]=n.name,t[22]=D):D=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(F=[kl.text_center,kl.font_bold,kl.text_md,{color:"white"}],t[23]=F):F=t[23];const E=`@${a.handle}`;let M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge;return t[24]!==E?(M=(0,Ft.jsxs)(fr,{style:F,children:["Starter pack by ",E]}),t[24]=E,t[25]=M):M=t[25],t[26]!==D||t[27]!==M||t[28]!==A?(B=(0,Ft.jsxs)(FV,{style:A,children:[I,D,M]}),t[26]=D,t[27]=M,t[28]=A,t[29]=B):B=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.gap_2xl,kl.mx_lg,kl.my_2xl],t[30]=O):O=t[30],t[31]!==x||t[32]!==n.description?(z=n.description?(0,Ft.jsx)(DC,{value:x,style:[kl.text_md]}):null,t[31]=x,t[32]=n.description,t[33]=z):z=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.gap_sm],t[34]=H):H=t[34],t[35]!==d?(N=d({id:"KBdkDa"}),t[35]=d,t[36]=N):N=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(Cr,{style:[kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"KBdkDa"})}),t[37]=V):V=t[37],t[38]!==S||t[39]!==N?(q=(0,Ft.jsx)(Sr,{label:N,onPress:S,variant:"solid",color:"primary",size:"large",children:V}),t[38]=S,t[39]=N,t[40]=q):q=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(U=[kl.flex_row,kl.align_center,kl.gap_sm],t[41]=U):U=t[41],t[42]!==m.atoms.text_contrast_medium.color?(W=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrow-trend-up",size:12,color:m.atoms.text_contrast_medium.color}),t[42]=m.atoms.text_contrast_medium.color,t[43]=W):W=t[43],t[44]!==m.atoms.text_contrast_medium?(Z=[kl.font_bold,kl.text_sm,m.atoms.text_contrast_medium],t[44]=m.atoms.text_contrast_medium,t[45]=Z):Z=t[45],t[46]!==u?(Q=$S(u,ni),t[46]=u,t[47]=Q):Q=t[47],t[48]!==Q?(K=(0,Ft.jsx)(ft.Trans,{id:"o5pjre",values:{0:Q}}),t[48]=Q,t[49]=K):K=t[49],t[50]!==Z||t[51]!==K?($=(0,Ft.jsx)(fr,{style:Z,numberOfLines:1,children:K}),t[50]=Z,t[51]=K,t[52]=$):$=t[52],t[53]!==W||t[54]!==$?(G=(0,Ft.jsxs)(wo.default,{style:U,children:[W,$]}),t[53]=W,t[54]=$,t[55]=G):G=t[55],t[56]!==q||t[57]!==G?(Y=(0,Ft.jsxs)(wo.default,{style:H,children:[q,G]}),t[56]=q,t[57]=G,t[58]=Y):Y=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(J=[kl.gap_3xl],t[59]=J):J=t[59],t[60]!==f||t[61]!==b||t[62]!==l?.length||t[63]!==r||t[64]!==s.listItemsSample||t[65]!==m.atoms.border_contrast_low?(X=Boolean(l?.length)&&(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_lg],children:b<=8?(0,Ft.jsx)(ft.Trans,{id:"ffCfHg"}):(0,Ft.jsx)(ft.Trans,{id:"r1EF/7",values:{0:b-8}})}),(0,Ft.jsx)(wo.default,{style:f&&[kl.border,kl.rounded_md,m.atoms.border_contrast_low],children:s.listItemsSample?.filter(ZZ).slice(0,8).map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.py_lg,kl.px_md,(!f||0!==t)&&kl.border_t,m.atoms.border_contrast_low,{pointerEvents:"none"}],children:(0,Ft.jsx)(MC,{profile:e.subject,moderationOpts:r})},e.subject.did)))})]}),t[60]=f,t[61]=b,t[62]=l?.length,t[63]=r,t[64]=s.listItemsSample,t[65]=m.atoms.border_contrast_low,t[66]=X):X=t[66],t[67]!==c||t[68]!==f||t[69]!==m.atoms.border_contrast_low?(ee=c?.length?(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"fIBrNw"})}),(0,Ft.jsx)(wo.default,{style:[{pointerEvents:"none"},f&&[kl.border,kl.rounded_md,m.atoms.border_contrast_low]],children:c?.map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.py_lg,kl.px_md,(!f||0!==t)&&kl.border_t,m.atoms.border_contrast_low],children:(0,Ft.jsx)(cR,{view:e})},e.uri)))})]}):null,t[67]=c,t[68]=f,t[69]=m.atoms.border_contrast_low,t[70]=ee):ee=t[70],t[71]!==X||t[72]!==ee?(te=(0,Ft.jsxs)(wo.default,{style:J,children:[X,ee]}),t[71]=X,t[72]=ee,t[73]=te):te=t[73],t[74]!==d?(se=d({id:"OSTROH"}),t[74]=d,t[75]=se):se=t[75],t[76]===Symbol.for("react.memo_cache_sentinel")?(ne=[kl.py_lg],t[76]=ne):ne=t[76],t[77]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"OSTROH"})}),t[77]=oe):oe=t[77],t[78]!==C||t[79]!==se?(re=(0,Ft.jsx)(Sr,{label:se,variant:"solid",color:"secondary",size:"large",style:ne,onPress:C,children:oe}),t[78]=C,t[79]=se,t[80]=re):re=t[80],t[81]!==z||t[82]!==Y||t[83]!==te||t[84]!==re?(ie=(0,Ft.jsxs)(wo.default,{style:O,children:[z,Y,te,re]}),t[81]=z,t[82]=Y,t[83]=te,t[84]=re,t[85]=ie):ie=t[85],t[86]!==B||t[87]!==ie?(ae=(0,Ft.jsxs)(bl,{ignoreTabletLayoutOffset:!0,children:[B,ie]}),t[86]=B,t[87]=ie,t[88]=ae):ae=t[88],t[89]!==_?(le=(0,Ft.jsx)(QZ,{visible:_,setIsVisible:y}),t[89]=_,t[90]=le):le=t[90],t[91]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsx)(fx,{children:(0,Ft.jsx)(ft.Trans,{id:"YdrHT+"})}),t[91]=ce):ce=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(de=(0,Ft.jsx)(gx,{children:(0,Ft.jsx)(ft.Trans,{id:"3K+Q5A"})}),t[92]=de):de=t[92],t[93]!==a.handle||t[94]!==s.uri?(ue=(0,Ft.jsx)(yx,{cta:"Download on Google Play",color:"primary",onPress:()=>{const e=new Is.AtUri(s.uri).rkey;if(!e)return;const t=function(e,t){return e&&t?`https://play.google.com/store/apps/details?id=xyz.blueskyweb.app&referrer=utm_source%3Dbluesky%26utm_medium%3Dstarterpack%26utm_content%3Dstarterpack_${e}_${t}`:null}(a.handle,e);t&&(window.location.href=t)}}),t[93]=a.handle,t[94]=s.uri,t[95]=ue):ue=t[95],t[96]!==v?(me=(0,Ft.jsx)(yx,{cta:"Continue on web",color:"secondary",onPress:v}),t[96]=v,t[97]=me):me=t[97],t[98]!==ue||t[99]!==me?(he=(0,Ft.jsxs)(xx,{children:[ue,me]}),t[98]=ue,t[99]=me,t[100]=he):he=t[100],t[101]!==g||t[102]!==he?(pe=(0,Ft.jsxs)(px,{control:g,children:[ce,de,he]}),t[101]=g,t[102]=he,t[103]=pe):pe=t[103],t[104]===Symbol.for("react.memo_cache_sentinel")?(fe=Pt&&(0,Ft.jsx)("meta",{name:"apple-itunes-app",content:"app-id=xyz.blueskyweb.app, app-clip-bundle-id=xyz.blueskyweb.app.AppClip, app-clip-display=card"}),t[104]=fe):fe=t[104],t[105]!==ae||t[106]!==le||t[107]!==pe?(ge=(0,Ft.jsxs)(wo.default,{style:P,children:[ae,le,pe,fe]}),t[105]=ae,t[106]=le,t[107]=pe,t[108]=ge):ge=t[108],ge}function ZZ(e){return!e.subject.associated?.labeler}function QZ(e){const t=(0,i.c)(9),{visible:s,setIsVisible:n}=e;if(!s)return;let o,r,a,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.absolute,kl.inset_0,{backgroundColor:"rgba(0, 0, 0, 0.95)",zIndex:1}],t[0]=o):o=t[0],t[1]!==n?(r=()=>n(!1),t[1]=n,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_1,kl.px_lg,{marginTop:250}],t[3]=a):a=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.gap_md,{zIndex:2}],t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_4xl,{lineHeight:40,color:"white"}],children:"Download Bluesky to get started!"}),t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(wo.default,{style:a,children:(0,Ft.jsxs)(wo.default,{style:l,children:[c,(0,Ft.jsx)(fr,{style:[kl.text_lg,{color:"white"}],children:"We'll remember the starter pack you chose and use it when you create an account in the app."})]})}),t[6]=d):d=t[6],t[7]!==r?(u=(0,Ft.jsx)(VZ,{accessibilityRole:"button",style:o,entering:ko.FadeIn,exiting:ko.FadeOut,onPress:r,children:d}),t[7]=r,t[8]=u):u=t[8],u}const KZ=e=>{const t=(0,i.c)(62),{onDismiss:s,onPressSignin:n,onPressCreateAccount:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),{isTabletOrMobile:l}=jx(),[c,d]=mt.useState(!1);let u,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{"true"===new URLSearchParams(window.location.search).get("clip")&&(d(!0),qZ({action:"present"}))},m=[],t[0]=u,t[1]=m):(u=t[0],m=t[1]),mt.useEffect(u,m);const h=Wc();let p,f,g;t[2]!==s||t[3]!==a.atoms.text?(p=s&&(0,Ft.jsx)(tr.default,{accessibilityRole:"button",style:{position:"absolute",top:20,right:20,padding:20,zIndex:100},onPress:s,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"x",size:24,style:{color:String(a.atoms.text.color)}})}),t[2]=s,t[3]=a.atoms.text,t[4]=p):p=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.h_full,kl.flex_1],t[5]=f):f=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(g={paddingBottom:"20vh"},t[6]=g):g=t[6];const x=l&&kl.pb_5xl;let _,y;t[7]!==a.atoms.border_contrast_medium||t[8]!==x?(_=[kl.h_full,kl.justify_center,g,x,a.atoms.border_contrast_medium,kl.align_center,kl.gap_5xl,kl.flex_1],t[7]=a.atoms.border_contrast_medium,t[8]=x,t[9]=_):_=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.justify_center,kl.align_center],t[10]=y):y=t[10];const b=h?300:92;let j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V;return t[11]!==b?(j=(0,Ft.jsx)(mH,{width:b,fill:"sky"}),t[11]=b,t[12]=j):j=t[12],t[13]!==h||t[14]!==a.atoms.text?(v=!h&&(0,Ft.jsx)(wo.default,{style:[kl.pb_sm,kl.pt_5xl],children:(0,Ft.jsx)(EW,{width:161,fill:a.atoms.text.color})}),t[13]=h,t[14]=a.atoms.text,t[15]=v):v=t[15],t[16]!==a.atoms.text_contrast_medium?(w=[kl.text_md,kl.font_bold,a.atoms.text_contrast_medium],t[16]=a.atoms.text_contrast_medium,t[17]=w):w=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(ft.Trans,{id:"tmQ7o0"}),t[18]=S):S=t[18],t[19]!==w?(k=(0,Ft.jsx)(fr,{style:w,children:S}),t[19]=w,t[20]=k):k=t[20],t[21]!==j||t[22]!==v||t[23]!==k?(C=(0,Ft.jsxs)(wo.default,{style:y,children:[j,v,k]}),t[21]=j,t[22]=v,t[23]=k,t[24]=C):C=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.w_full,kl.px_xl,kl.gap_md,kl.pb_2xl,{maxWidth:320}],t[25]=P):P=t[25],t[26]!==r?(T=r({id:"6HbhpU"}),t[26]=r,t[27]=T):T=t[27],t[28]!==r?(L=r({id:"WMvWWe"}),t[28]=r,t[29]=L):L=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"1hMWR6"})}),t[30]=A):A=t[30],t[31]!==o||t[32]!==T||t[33]!==L?(I=(0,Ft.jsx)(Sr,{testID:"createAccountButton",onPress:o,label:T,accessibilityHint:L,size:"large",variant:"solid",color:"primary",children:A}),t[31]=o,t[32]=T,t[33]=L,t[34]=I):I=t[34],t[35]!==r?(R=r({id:"5lWFkC"}),t[35]=r,t[36]=R):R=t[36],t[37]!==r?(D=r({id:"72qArr"}),t[37]=r,t[38]=D):D=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"5lWFkC"})}),t[39]=F):F=t[39],t[40]!==n||t[41]!==R||t[42]!==D?(E=(0,Ft.jsx)(Sr,{testID:"signInButton",onPress:n,label:R,accessibilityHint:D,size:"large",variant:"solid",color:"secondary",children:F}),t[40]=n,t[41]=R,t[42]=D,t[43]=E):E=t[43],t[44]!==I||t[45]!==E?(M=(0,Ft.jsxs)(wo.default,{testID:"signinOrCreateAccount",style:P,children:[I,E]}),t[44]=I,t[45]=E,t[46]=M):M=t[46],t[47]!==C||t[48]!==M?(B=(0,Ft.jsxs)(WD,{children:[C,M]}),t[47]=C,t[48]=M,t[49]=B):B=t[49],t[50]!==B||t[51]!==_?(O=(0,Ft.jsx)(wo.default,{testID:"noSessionView",style:_,children:B}),t[50]=B,t[51]=_,t[52]=O):O=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)($Z,{}),t[53]=z):z=t[53],t[54]!==O?(H=(0,Ft.jsxs)(wl,{style:f,ignoreTabletLayoutOffset:!0,children:[O,z]}),t[54]=O,t[55]=H):H=t[55],t[56]!==c?(N=(0,Ft.jsx)(QZ,{visible:c,setIsVisible:d}),t[56]=c,t[57]=N):N=t[57],t[58]!==H||t[59]!==p||t[60]!==N?(V=(0,Ft.jsxs)(Ft.Fragment,{children:[p,H,N]}),t[58]=H,t[59]=p,t[60]=N,t[61]=V):V=t[61],V};function $Z(){const e=(0,i.c)(25),t=ec(),{_:s}=(0,ft.useLingui)();let n,o,r,a,l,c,d,u,m,h,p,f,g,x;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={top:"auto"},e[0]=n):n=e[0],e[1]!==t.atoms.border_contrast_medium?(o=[kl.absolute,kl.inset_0,n,kl.px_xl,kl.py_lg,kl.border_t,kl.flex_row,kl.align_center,kl.flex_wrap,kl.gap_xl,kl.flex_1,t.atoms.border_contrast_medium],e[1]=t.atoms.border_contrast_medium,e[2]=o):o=e[2],e[3]!==s?(r=s({id:"t5KS8P"}),e[3]=s,e[4]=r):r=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"9N+p+g"}),e[5]=a):a=e[5],e[6]!==r?(l=(0,Ft.jsx)(fv,{label:r,to:"https://bsky.social",children:a}),e[6]=r,e[7]=l):l=e[7],e[8]!==s?(c=s({id:"N9+Gul"}),e[8]=s,e[9]=c):c=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ft.Trans,{id:"astDB+"}),e[10]=d):d=e[10],e[11]!==c?(u=(0,Ft.jsx)(fv,{label:c,to:"https://bsky.social/about/blog",children:d}),e[11]=c,e[12]=u):u=e[12],e[13]!==s?(m=s({id:"kuhbOb"}),e[13]=s,e[14]=m):m=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(ft.Trans,{id:"Tof7pX"}),e[15]=h):h=e[15],e[16]!==m?(p=(0,Ft.jsx)(fv,{label:m,to:"https://bsky.social/about/join",children:h}),e[16]=m,e[17]=p):p=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(wo.default,{style:kl.flex_1}),g=(0,Ft.jsx)(OZ,{}),e[18]=f,e[19]=g):(f=e[18],g=e[19]),e[20]!==o||e[21]!==p||e[22]!==l||e[23]!==u?(x=(0,Ft.jsxs)(wo.default,{style:o,children:[l,u,p,f,g]}),e[20]=o,e[21]=p,e[22]=l,e[23]=u,e[24]=x):x=e[24],x}var GZ=function(e){return e[e.S_LoginOrCreateAccount=0]="S_LoginOrCreateAccount",e[e.S_Login=1]="S_Login",e[e.S_CreateAccount=2]="S_CreateAccount",e[e.S_StarterPack=3]="S_StarterPack",e}(GZ||{});function YZ(e){const t=(0,i.c)(35),{onDismiss:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=(0,pt.useSafeAreaInsets)(),a=Na(),{requestedAccountSwitchTo:l}=nj();let c;t[0]!==l?(c=()=>"new"===l?GZ.S_CreateAccount:"starterpack"===l?GZ.S_StarterPack:null!=l?GZ.S_Login:GZ.S_LoginOrCreateAccount,t[0]=l,t[1]=c):c=t[1];const[d,u]=mt.useState(c),{clearRequestedAccount:m}=oj();let h,p,f;t[2]!==a?(h=()=>{a(!0)},p=[a],t[2]=a,t[3]=h,t[4]=p):(h=t[3],p=t[4]),mt.useEffect(h,p),t[5]!==m||t[6]!==s?(f=()=>{s&&s(),m()},t[5]=m,t[6]=s,t[7]=f):f=t[7];const g=f;let x,_,y,b,j,v,w,S;return t[8]!==r.bottom||t[9]!==r.top?(x={paddingTop:r.top,paddingBottom:r.bottom},t[8]=r.bottom,t[9]=r.top,t[10]=x):x=t[10],t[11]!==o.atoms.bg||t[12]!==x?(_=[kl.util_screen_outer,o.atoms.bg,x],t[11]=o.atoms.bg,t[12]=x,t[13]=_):_=t[13],t[14]!==n||t[15]!==r.top||t[16]!==s||t[17]!==g||t[18]!==d?(y=s&&d===GZ.S_LoginOrCreateAccount?(0,Ft.jsx)(Sr,{label:n({id:"CKyk7Q"}),variant:"solid",color:"secondary_inverted",size:"small",shape:"round",PressableComponent:jo(GE),style:[kl.absolute,{top:r.top+eo.xl,right:eo.xl,zIndex:100}],onPress:g,children:(0,Ft.jsx)(Pr,{icon:Hr})}):null,t[14]=n,t[15]=r.top,t[16]=s,t[17]=g,t[18]=d,t[19]=y):y=t[19],t[20]!==d?(b=d===GZ.S_StarterPack?(0,Ft.jsx)(UZ,{setScreenState:u}):d===GZ.S_LoginOrCreateAccount?(0,Ft.jsx)(KZ,{onPressSignin:()=>{u(GZ.S_Login),En("splash:signInPressed",{})},onPressCreateAccount:()=>{u(GZ.S_CreateAccount),En("splash:createAccountPressed",{})}}):void 0,t[20]=d,t[21]=b):b=t[21],t[22]!==m||t[23]!==d?(j=d===GZ.S_Login?(0,Ft.jsx)(gZ,{onPressBack:()=>{u(GZ.S_LoginOrCreateAccount),m()}}):void 0,t[22]=m,t[23]=d,t[24]=j):j=t[24],t[25]!==d?(v=d===GZ.S_CreateAccount?(0,Ft.jsx)(NZ,{onPressBack:()=>u(GZ.S_LoginOrCreateAccount)}):void 0,t[25]=d,t[26]=v):v=t[26],t[27]!==v||t[28]!==y||t[29]!==b||t[30]!==j?(w=(0,Ft.jsxs)(WD,{children:[y,b,j,v]}),t[27]=v,t[28]=y,t[29]=b,t[30]=j,t[31]=w):w=t[31],t[32]!==w||t[33]!==_?(S=(0,Ft.jsx)(wo.default,{testID:"noSessionView",style:_,children:w}),t[32]=w,t[33]=_,t[34]=S):S=t[34],S}const JZ=400;function XZ(){const{_:e}=(0,ft.useLingui)(),t=ec(),s=(0,pt.useSafeAreaInsets)(),{currentAccount:n,accounts:o}=xh(),{onPressSwitchAccount:r,pendingDid:i}=MW(),{setShowLoggedOut:a}=oj(),l=o.length>1,c=Na(),{logoutCurrentAccount:d}=_h(),u=bh(),[m,h]=mt.useState(!1),[p,f]=mt.useState(),g=(0,wd.useQueryClient)();(0,va.useFocusEffect)(mt.useCallback((()=>{c(!0)}),[c]));const x=mt.useCallback((e=>{e.did!==n?.did&&r(e,"SwitchAccount")}),[n,r]),_=mt.useCallback((()=>{a(!0)}),[a]),y=mt.useCallback((()=>{Pt&&history.pushState(null,"","/"),d("Deactivated")}),[d]),b=mt.useCallback((async()=>{try{h(!0),await u.com.atproto.server.activateAccount(),await g.resetQueries(),await u.resumeSession(u.session)}catch(t){if("Bad token scope"===t.message)f(e({id:"W8A0aT"}));else f(e({id:"qny5F6"}));ys.error(t,{message:"Failed to activate account"})}finally{h(!1)}}),[e,u,h,f,g]);return(0,Ft.jsx)(wo.default,{style:[kl.util_screen_outer,kl.flex_1],children:(0,Ft.jsx)(bl,{ignoreTabletLayoutOffset:!0,contentContainerStyle:[kl.px_2xl,{paddingTop:Pt?64:s.top+16,paddingBottom:Pt?64:s.bottom}],children:(0,Ft.jsxs)(wo.default,{style:[kl.w_full,{marginHorizontal:"auto",maxWidth:JZ}],children:[(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.justify_center,kl.align_center,kl.pb_5xl],children:(0,Ft.jsx)(mH,{width:40})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_xs,kl.pb_3xl],children:[(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"rxWA39"})}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"bD3yau",values:{0:n?.handle}})}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,kl.pb_md],children:(0,Ft.jsx)(ft.Trans,{id:"b+dM+p"})}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsxs)(Sr,{label:e({id:"j4QaZg"}),size:"large",variant:"solid",color:"primary",onPress:b,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"mYz7f1"})}),m&&(0,Ft.jsx)(Pr,{icon:wv,position:"right"})]}),(0,Ft.jsx)(Sr,{label:e({id:"JdsRTT"}),size:"large",variant:"solid",color:"secondary",onPress:y,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})})]}),p&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.mt_md,kl.p_md,kl.rounded_sm,t.atoms.bg_contrast_25],children:[(0,Ft.jsx)(Ij,{size:"md",fill:t.palette.negative_400}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.leading_snug],children:p})]})]}),(0,Ft.jsx)(wo.default,{style:[kl.pb_3xl],children:(0,Ft.jsx)(Iv,{})}),l?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.pb_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"86033F"})}),(0,Ft.jsx)(BW,{onSelectAccount:x,onSelectOther:_,otherLabel:e({id:"MPPZ54"}),pendingDid:i})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.pb_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"P27N2N"})}),(0,Ft.jsx)(Sr,{label:e({id:"Cp4+Up"}),size:"large",variant:"solid",color:"secondary",onPress:()=>a(!0),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Cp4+Up"})})})]})]})})})}const eQ=420,tQ=Nr();function sQ(e){const t=(0,i.c)(94),{children:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=(0,pt.useSafeAreaInsets)(),{gtMobile:a}=ql(),l=Ka(),{state:c,dispatch:d}=mt.useContext(KF),u=mt.useRef(null),m=mt.useRef(c.activeStep);let h,p;t[0]!==c.activeStep?(h=()=>{c.activeStep!==m.current&&(m.current=c.activeStep,u.current?.scrollTo({y:0,animated:!1}))},t[0]=c.activeStep,t[1]=h):h=t[1],t[2]!==c?(p=[c],t[2]=c,t[3]=p):p=t[3],mt.useEffect(h,p);const f=a?kl.py_5xl:kl.py_lg;let g;t[4]!==n?(g=n({id:"TBiYO5"}),t[4]=n,t[5]=g):g=t[5];const x=g;let _,y,b,j,v,w,S;t[6]!==n?(_=n({id:"GrdP9a"}),t[6]=n,t[7]=_):_=t[7],t[8]!==o.atoms.bg?(y=[Pt?kl.fixed:kl.absolute,kl.inset_0,kl.flex_1,o.atoms.bg],t[8]=o.atoms.bg,t[9]=y):y=t[9],t[10]!==r.top||t[11]!==l?(b=!1,t[10]=r.top,t[11]=l,t[12]=b):b=t[12],t[13]!==n||t[14]!==d||t[15]!==a||t[16]!==r.top||t[17]!==f||t[18]!==c.activeStep||t[19]!==c.hasPrev?(j=!a&&c.hasPrev&&(0,Ft.jsx)(wo.default,{style:[_o(kl.fixed),jo(kl.absolute),kl.flex_row,kl.w_full,kl.justify_center,kl.z_20,kl.px_xl,{top:f.paddingTop+r.top-1}],children:(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.align_start,{maxWidth:eQ}],children:(0,Ft.jsx)(Sr,{variant:"ghost",color:"secondary",size:"small",shape:"round",label:n({id:"p19nbp"}),style:[kl.absolute],onPress:()=>d({type:"prev"}),children:(0,Ft.jsx)(Pr,{icon:ZT})},c.activeStep)})}),t[13]=n,t[14]=d,t[15]=a,t[16]=r.top,t[17]=f,t[18]=c.activeStep,t[19]=c.hasPrev,t[20]=j):j=t[20],t[21]!==r.top?(v=[kl.h_full,kl.w_full,{paddingTop:r.top}],t[21]=r.top,t[22]=v):v=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(S={borderWidth:0},w={"stable-gutters":1},t[23]=w,t[24]=S):(w=t[23],S=t[24]);const k=a?kl.px_5xl:kl.px_xl;let C,P,T,L,A,I,R;if(t[25]!==k?(C=[kl.flex_row,kl.justify_center,k],t[25]=k,t[26]=C):C=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.flex_1,{maxWidth:eQ}],t[27]=P):P=t[27],t[28]!==f?(T=[kl.w_full,kl.align_center,f],t[28]=f,t[29]=T):T=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(L=[kl.flex_row,kl.gap_sm,kl.w_full,{paddingTop:17,maxWidth:"60%"}],t[30]=L):L=t[30],t[31]!==c.activeStepIndex||t[32]!==c.totalSteps||t[33]!==o.atoms.bg_contrast_50||t[34]!==o.palette){let e;t[36]!==c.activeStepIndex||t[37]!==o.atoms.bg_contrast_50||t[38]!==o.palette?(e=(e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.pt_xs,kl.rounded_full,o.atoms.bg_contrast_50,{backgroundColor:t+1<=c.activeStepIndex?o.palette.primary_500:o.palette.contrast_100}]},t),t[36]=c.activeStepIndex,t[37]=o.atoms.bg_contrast_50,t[38]=o.palette,t[39]=e):e=t[39],A=Array(c.totalSteps).fill(0).map(e),t[31]=c.activeStepIndex,t[32]=c.totalSteps,t[33]=o.atoms.bg_contrast_50,t[34]=o.palette,t[35]=A}else A=t[35];t[40]!==A?(I=(0,Ft.jsx)(wo.default,{style:L,children:A}),t[40]=A,t[41]=I):I=t[41],t[42]!==T||t[43]!==I?(R=(0,Ft.jsx)(wo.default,{style:T,children:I}),t[42]=T,t[43]=I,t[44]=R):R=t[44];const D=a?20:40;let F,E,M,B,O,z,H;t[45]!==D?(F=[kl.w_full,kl.mb_5xl,{paddingTop:D}],t[45]=D,t[46]=F):F=t[46],t[47]!==s||t[48]!==F?(E=(0,Ft.jsx)(wo.default,{style:F,children:s}),t[47]=s,t[48]=F,t[49]=E):E=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(wo.default,{style:{height:400}}),t[50]=M):M=t[50],t[51]!==R||t[52]!==E?(B=(0,Ft.jsxs)(wo.default,{style:P,children:[R,E,M]}),t[51]=R,t[52]=E,t[53]=B):B=t[53],t[54]!==C||t[55]!==B?(O=(0,Ft.jsx)(wo.default,{style:C,children:B}),t[54]=C,t[55]=B,t[56]=O):O=t[56],t[57]!==O||t[58]!==v?(z=(0,Ft.jsx)(Sw.default,{ref:u,style:v,contentContainerStyle:S,dataSet:w,children:O}),t[57]=O,t[58]=v,t[59]=z):z=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(H={bottom:0,left:0,right:0},t[60]=H):H=t[60];const N=a?kl.px_5xl:kl.px_xl;let V,q,U,W,Z,Q,K,$,G,Y;return t[61]!==r.bottom?(V=Pt?kl.py_2xl:{paddingTop:kl.pt_lg.paddingTop,paddingBottom:r.bottom+10},t[61]=r.bottom,t[62]=V):V=t[62],t[63]!==o.atoms.bg||t[64]!==o.atoms.border_contrast_low||t[65]!==N||t[66]!==V?(q=[Pt?kl.fixed:kl.absolute,H,o.atoms.bg,o.atoms.border_contrast_low,kl.border_t,kl.align_center,N,V],t[63]=o.atoms.bg,t[64]=o.atoms.border_contrast_low,t[65]=N,t[66]=V,t[67]=q):q=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(U={maxWidth:eQ},t[68]=U):U=t[68],t[69]!==a?(W=a&&[kl.flex_row,kl.justify_between],t[69]=a,t[70]=W):W=t[70],t[71]!==W?(Z=[kl.w_full,U,W],t[71]=W,t[72]=Z):Z=t[72],t[73]!==n||t[74]!==d||t[75]!==a||t[76]!==c.activeStep||t[77]!==c.hasPrev?(Q=a&&(c.hasPrev?(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"large",shape:"round",label:n({id:"p19nbp"}),onPress:()=>d({type:"prev"}),children:(0,Ft.jsx)(Pr,{icon:ZT})},c.activeStep):(0,Ft.jsx)(wo.default,{style:{height:54}})),t[73]=n,t[74]=d,t[75]=a,t[76]=c.activeStep,t[77]=c.hasPrev,t[78]=Q):Q=t[78],t[79]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsx)(tQ.Outlet,{}),t[79]=K):K=t[79],t[80]!==Z||t[81]!==Q?($=(0,Ft.jsxs)(wo.default,{style:Z,children:[Q,K]}),t[80]=Z,t[81]=Q,t[82]=$):$=t[82],t[83]!==q||t[84]!==$?(G=(0,Ft.jsx)(wo.default,{style:q,children:$}),t[83]=q,t[84]=$,t[85]=G):G=t[85],t[86]!==x||t[87]!==z||t[88]!==G||t[89]!==_||t[90]!==y||t[91]!==b||t[92]!==j?(Y=(0,Ft.jsxs)(wo.default,{"aria-modal":!0,role:"dialog","aria-role":"dialog","aria-label":x,accessibilityLabel:x,accessibilityHint:_,style:y,children:[b,j,z,G]}),t[86]=x,t[87]=z,t[88]=G,t[89]=_,t[90]=y,t[91]=b,t[92]=j,t[93]=Y):Y=t[93],Y}function nQ(e){const t=(0,i.c)(8),{children:s,style:n}=e;let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o={lineHeight:rr(kl.text_4xl,kl.leading_tight)},t[0]=o):o=t[0],t[1]!==n?(r=Wl(n),t[1]=n,t[2]=r):r=t[2],t[3]!==r?(a=[kl.pb_sm,kl.text_4xl,kl.font_bold,o,r],t[3]=r,t[4]=a):a=t[4],t[5]!==s||t[6]!==a?(l=(0,Ft.jsx)(fr,{style:a,children:s}),t[5]=s,t[6]=a,t[7]=l):l=t[7],l}function oQ(e){const t=(0,i.c)(8),{children:s,style:n}=e,o=ec(),r=o.atoms.text_contrast_medium;let a,l,c;return t[0]!==n?(a=Wl(n),t[0]=n,t[1]=a):a=t[1],t[2]!==o.atoms.text_contrast_medium||t[3]!==a?(l=[r,a],t[2]=o.atoms.text_contrast_medium,t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==l?(c=(0,Ft.jsx)(yr,{style:l,children:s}),t[5]=s,t[6]=l,t[7]=c):c=t[7],c}async function rQ(e,t){const s=e.session;if(!s)throw new Error("bulkWriteFollows failed: no session");const n=t.map((e=>({$type:"app.bsky.graph.follow",subject:e,createdAt:(new Date).toISOString()}))).map((e=>({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.follow",rkey:zm.TID.nextStr(),value:e}))),o=qf()(n,50);for(const i of o)await e.com.atproto.repo.applyWrites({repo:s.did,writes:i});await async function(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.graph.getFollows({actor:t,limit:1})))}(e,s.did,(e=>!!e.data.follows.length));const r=new Map;for(const i of n)r.set(i.value.subject,`at://${s.did}/app.bsky.graph.follow/${i.rkey}`);return r}const iQ=zr({path:"M1 5a1 1 0 0 1 1-1h7a3.99 3.99 0 0 1 3 1.354A3.99 3.99 0 0 1 15 4h7a1 1 0 0 1 1 1v14a1 1 0 0 1-1 1h-6.723c-.52 0-1 .125-1.4.372-.421.26-.761.633-.983 1.075a1 1 0 0 1-1.788 0 2.664 2.664 0 0 0-.983-1.075c-.4-.247-.88-.372-1.4-.372H2a1 1 0 0 1-1-1V5Zm10 3a2 2 0 0 0-2-2H3v12h5.723c.776 0 1.564.173 2.277.569V8Zm2 10.569V8a2 2 0 0 1 2-2h6v12h-5.723c-.776 0-1.564.173-2.277.569Z"});function aQ(){const{_:e}=(0,ft.useLingui)(),t=ec(),{state:s,dispatch:n}=mt.useContext(KF),o=Ka(),[r,i]=mt.useState(!1),a=(0,wd.useQueryClient)(),l=bh(),c=Tf(),d=Yb(),u=Jb(),m=jd(),{startProgressGuide:h}=ob(),p=On(),f=mt.useCallback((async()=>{let e,t;if(i(!0),d?.uri){try{const t=await l.app.bsky.graph.getStarterPack({starterPack:d.uri});e=t.data.starterPack}catch(r){ys.error("Failed to fetch starter pack",{safeMessage:r})}try{e?.list&&(t=await G_(l,e.list.uri))}catch(f){ys.error("Failed to fetch starter pack list items",{safeMessage:f})}}try{const{interestsStepResults:n,profileStepResults:o}=s,{selectedInterests:r}=n;await Promise.all([rQ(l,[Li,...t?.map((e=>e.subject.did))??[]]),(async()=>{await l.setInterestsPref({tags:r});const t=[Object.assign({},Fi,{id:zm.TID.nextStr()}),Object.assign({},Ei,{id:zm.TID.nextStr()})];p("onboarding_add_video_feed")&&t.push(Object.assign({},Mi,{id:zm.TID.nextStr()})),e&&e.feeds?.length&&t.push(...e.feeds.map((e=>({type:"feed",value:e.uri,pinned:!0,id:zm.TID.nextStr()})))),await l.overwriteSavedFeeds(t)})(),(async()=>{const{imageUri:t,imageMime:s}=o,n=t&&s?v_(l,t,s):void 0;await l.upsertProfile((async t=>{let s=t??{};if(n){const e=await n;e.data.blob&&(s.avatar=e.data.blob)}return e&&(s.joinedViaStarterPack={uri:e.uri,cid:e.cid}),s.displayName="",s.createdAt=(new Date).toISOString(),s})),En("onboarding:finished:avatarResult",{avatarResult:o.isCreatedAvatar?"created":o.image?"uploaded":"default"})})(),c("AfterOnboarding")])}catch(g){ys.info("onboarding: bulk save failed"),ys.error(g)}await Promise.all([a.invalidateQueries({queryKey:Dh}),a.invalidateQueries({queryKey:lb(l.session?.did??"")})]).catch((e=>{ys.error(e)})),i(!1),u(void 0),m(!0),h(p("old_postonboarding")?"like-10-and-follow-7":"follow-10"),n({type:"finish"}),o({type:"finish"}),En("onboarding:finished:nextPressed",{usedStarterPack:Boolean(e),starterPackName:e&&If(e.record,Is.AppBskyGraphStarterpack.isRecord)?e.record.name:void 0,starterPackCreator:e?.creator.did,starterPackUri:e?.uri,profilesFollowed:t?.length??0,feedsPinned:e?.feeds?.length??0}),e&&t?.length&&En("starterPack:followAll",{logContext:"Onboarding",starterPack:e.uri,count:t?.length})}),[a,l,n,o,d,s,c,u,m,h,p]);return(0,Ft.jsxs)(wo.default,{style:[kl.align_start],children:[(0,Ft.jsx)(Iz,{icon:Wj,style:[kl.mb_2xl]}),(0,Ft.jsx)(nQ,{children:(0,Ft.jsx)(ft.Trans,{id:"xL3A5l"})}),(0,Ft.jsx)(oQ,{children:(0,Ft.jsx)(ft.Trans,{id:"xM1CVP"})}),(0,Ft.jsxs)(wo.default,{style:[kl.pt_5xl,kl.gap_3xl],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.w_full,kl.gap_lg],children:[(0,Ft.jsx)(Iz,{icon:Cx,size:"lg",style:{width:48,height:48}}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"7d1a0d"})}),(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"Oqt/PG"})})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.w_full,kl.gap_lg],children:[(0,Ft.jsx)(Iz,{icon:iQ,size:"lg",style:{width:48,height:48}}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"1TNIig"})}),(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"meoG4Y"})})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.w_full,kl.gap_lg],children:[(0,Ft.jsx)(Iz,{icon:UE,size:"lg",style:{width:48,height:48}}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"6815iA"})}),(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"mPpEcN"})})]})]})]}),(0,Ft.jsx)(tQ.Portal,{children:(0,Ft.jsxs)(Sr,{disabled:r,variant:"gradient",color:"gradient_sky",size:"large",label:e({id:"evkqBf"}),onPress:f,children:[(0,Ft.jsx)(Cr,{children:r?(0,Ft.jsx)(ft.Trans,{id:"ZH5Cyo"}):(0,Ft.jsx)(ft.Trans,{id:"oK9656"})}),r&&(0,Ft.jsx)(Pr,{icon:wv,position:"right"})]},s.activeStep)})]})}function lQ(e){return e.charAt(0).toUpperCase()+e.slice(1)}function cQ(e){const t=(0,i.c)(60),{interest:s}=e,n=ec(),o=ZF(),r=oI();let a;const l="light"===n.name?n.palette.contrast_200:n.palette.contrast_50;let c;t[0]!==l?(c=[{backgroundColor:l}],t[0]=l,t[1]=c):c=t[1];const d=c;let u;t[2]===Symbol.for("react.memo_cache_sentinel")?(u=[],t[2]=u):u=t[2];const m=u;let h;t[3]===Symbol.for("react.memo_cache_sentinel")?(h=[],t[3]=h):h=t[3];const p=h;let f;t[4]!==n.palette.contrast_900?(f=[{backgroundColor:n.palette.contrast_900}],t[4]=n.palette.contrast_900,t[5]=f):f=t[5];const g=f;let x;t[6]!==n.palette.contrast_800?(x=[{backgroundColor:n.palette.contrast_800}],t[6]=n.palette.contrast_800,t[7]=x):x=t[7];const _=x;let y;t[8]!==n.palette.contrast_100?(y=[{color:n.palette.contrast_100}],t[8]=n.palette.contrast_100,t[9]=y):y=t[9];const b=y;let j;t[10]!==d||t[11]!==g||t[12]!==_||t[13]!==b?(j={hovered:d,focused:m,pressed:p,selected:g,selectedHover:_,textSelected:b},t[10]=d,t[11]=g,t[12]=_,t[13]=b,t[14]=j):j=t[14],a=j;const v=a;let w,S,k,C,P,T,L,A,I,R,D,F,E,M;return t[15]!==n.palette.contrast_100?(w={backgroundColor:n.palette.contrast_100,paddingVertical:15},t[15]=n.palette.contrast_100,t[16]=w):w=t[16],t[17]!==r.hovered||t[18]!==v?(S=r.hovered?v.hovered:{},t[17]=r.hovered,t[18]=v,t[19]=S):S=t[19],t[20]!==r.focused||t[21]!==v?(k=r.focused?v.hovered:{},t[20]=r.focused,t[21]=v,t[22]=k):k=t[22],t[23]!==r.pressed||t[24]!==v?(C=r.pressed?v.hovered:{},t[23]=r.pressed,t[24]=v,t[25]=C):C=t[25],t[26]!==r.selected||t[27]!==v?(P=r.selected?v.selected:{},t[26]=r.selected,t[27]=v,t[28]=P):P=t[28],t[29]!==r.focused||t[30]!==r.hovered||t[31]!==r.pressed||t[32]!==r.selected||t[33]!==v?(T=r.selected&&(r.hovered||r.focused||r.pressed)?v.selectedHover:{},t[29]=r.focused,t[30]=r.hovered,t[31]=r.pressed,t[32]=r.selected,t[33]=v,t[34]=T):T=t[34],t[35]!==w||t[36]!==S||t[37]!==k||t[38]!==C||t[39]!==P||t[40]!==T?(L=[w,kl.rounded_full,kl.px_2xl,S,k,C,P,T],t[35]=w,t[36]=S,t[37]=k,t[38]=C,t[39]=P,t[40]=T,t[41]=L):L=t[41],t[42]!==n.palette.contrast_900?(A={color:n.palette.contrast_900},t[42]=n.palette.contrast_900,t[43]=A):A=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(I=jo({paddingTop:2}),t[44]=I):I=t[44],t[45]!==r.selected||t[46]!==v?(R=r.selected?v.textSelected:{},t[45]=r.selected,t[46]=v,t[47]=R):R=t[47],t[48]!==A||t[49]!==R?(D=[A,kl.font_bold,I,R],t[48]=A,t[49]=R,t[50]=D):D=t[50],t[51]!==s||t[52]!==o?(F=o[s]||lQ(s),t[51]=s,t[52]=o,t[53]=F):F=t[53],t[54]!==D||t[55]!==F?(E=(0,Ft.jsx)(fr,{style:D,children:F}),t[54]=D,t[55]=F,t[56]=E):E=t[56],t[57]!==L||t[58]!==E?(M=(0,Ft.jsx)(wo.default,{style:L,children:E}),t[57]=L,t[58]=E,t[59]=M):M=t[59],M}function dQ(){const e=(0,i.c)(55),{_:t}=(0,ft.useLingui)(),s=ec(),{gtMobile:n}=ql(),o=ZF(),{state:r,dispatch:a}=mt.useContext(KF),[l,c]=mt.useState(!1);let d;e[0]!==r.interestsStepResults.selectedInterests?(d=r.interestsStepResults.selectedInterests.map(mQ),e[0]=r.interestsStepResults.selectedInterests,e[1]=d):d=e[1];const[u,m]=mt.useState(d),h=Ka(),p=bh();let f,g;e[2]===Symbol.for("react.memo_cache_sentinel")?(f=["interests"],e[2]=f):f=e[2],e[3]!==p?(g={queryKey:f,queryFn:async()=>{try{const{data:e}=await p.app.bsky.unspecced.getTaggedSuggestions();return e.suggestions.reduce(uQ,{interests:[],suggestedAccountDids:{},suggestedFeedUris:{}})}catch(w){const t=w;throw ys.info("onboarding: getTaggedSuggestions fetch or processing failed"),ys.error(t),new Error("a network error occurred")}}},e[3]=p,e[4]=g):g=e[4];const{isLoading:x,isError:_,error:y,data:b,refetch:j,isFetching:v}=(0,vd.useQuery)(g);let w;e[5]!==b||e[6]!==a||e[7]!==u?(w=async()=>{c(!0);try{c(!1),a({type:"setInterestsStepResults",apiResponse:b,selectedInterests:u}),a({type:"next"}),En("onboarding:interests:nextPressed",{selectedInterests:u,selectedInterestsLength:u.length})}catch(k){const t=k;ys.info("onboading: error saving interests"),ys.error(t)}},e[5]=b,e[6]=a,e[7]=u,e[8]=w):w=e[8];const S=w;let k;e[9]!==a||e[10]!==h?(k=()=>{h({type:"finish"}),a({type:"finish"})},e[9]=a,e[10]=h,e[11]=k):k=e[11];const C=k;let P;e[12]!==_?(P=_?(0,Ft.jsx)(ft.Trans,{id:"3cq7gD"}):(0,Ft.jsx)(ft.Trans,{id:"6nm/Te"}),e[12]=_,e[13]=P):P=e[13];const T=P;let L;e[14]!==_?(L=_?(0,Ft.jsx)(ft.Trans,{id:"AI+4Jw"}):(0,Ft.jsx)(ft.Trans,{id:"ylXjV5"}),e[14]=_,e[15]=L):L=e[15];const A=L;let I;e[16]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.align_start],e[16]=I):I=e[16];const R=_?SB:qF;let D,F,E,M,B,O,z,H,N;return e[17]!==_||e[18]!==s?(F=[kl.mb_2xl,_?{backgroundColor:s.palette.negative_50}:{}],D=[_?{color:s.palette.negative_900}:{}],e[17]=_,e[18]=s,e[19]=D,e[20]=F):(D=e[19],F=e[20]),e[21]!==D||e[22]!==R||e[23]!==F?(E=(0,Ft.jsx)(Iz,{icon:R,style:F,iconStyle:D}),e[21]=D,e[22]=R,e[23]=F,e[24]=E):E=e[24],e[25]!==T?(M=(0,Ft.jsx)(nQ,{children:T}),e[25]=T,e[26]=M):M=e[26],e[27]!==A?(B=(0,Ft.jsx)(oQ,{children:A}),e[27]=A,e[28]=B):B=e[28],e[29]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.w_full,kl.pt_2xl],e[29]=O):O=e[29],e[30]!==t||e[31]!==b||e[32]!==y?.message||e[33]!==u||e[34]!==o||e[35]!==_||e[36]!==x||e[37]!==s?(z=(0,Ft.jsx)(wo.default,{style:O,children:x?(0,Ft.jsx)(wv,{size:"xl"}):_||!b?(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.p_lg,kl.rounded_md,{backgroundColor:s.palette.negative_50}],children:(0,Ft.jsxs)(fr,{style:[kl.text_md],children:[(0,Ft.jsxs)(fr,{style:[kl.text_md,kl.font_bold,{color:s.palette.negative_900}],children:[(0,Ft.jsx)(ft.Trans,{id:"4BITzH"})," "]}),y?.message||t({id:"RAlEBb"})]})}):(0,Ft.jsx)(rI,{values:u,onChange:m,label:t({id:"banW+8"}),children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.flex_wrap],children:b.interests.map((e=>(0,Ft.jsx)(iI,{name:e,label:o[e]||lQ(e),children:(0,Ft.jsx)(cQ,{interest:e})},e)))})})}),e[30]=t,e[31]=b,e[32]=y?.message,e[33]=u,e[34]=o,e[35]=_,e[36]=x,e[37]=s,e[38]=z):z=e[38],e[39]!==t||e[40]!==b||e[41]!==n||e[42]!==_||e[43]!==v||e[44]!==j||e[45]!==S||e[46]!==l||e[47]!==C?(H=(0,Ft.jsx)(tQ.Portal,{children:_?(0,Ft.jsxs)(wo.default,{style:[kl.gap_md,n?kl.flex_row:kl.flex_col],children:[(0,Ft.jsxs)(Sr,{disabled:v,variant:"solid",color:"secondary",size:"large",label:t({id:"6gRgw8"}),onPress:()=>j(),children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),(0,Ft.jsx)(Pr,{icon:sw,position:"right"})]}),(0,Ft.jsx)(Sr,{variant:"outline",color:"secondary",size:"large",label:t({id:"QkLJ9w"}),onPress:C,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6Uau97"})})})]}):(0,Ft.jsxs)(Sr,{disabled:l||!b,variant:"gradient",color:"gradient_sky",size:"large",label:t({id:"nKtyYu"}),onPress:S,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"xGVfLh"})}),(0,Ft.jsx)(Pr,{icon:l?wv:QT,position:"right"})]})}),e[39]=t,e[40]=b,e[41]=n,e[42]=_,e[43]=v,e[44]=j,e[45]=S,e[46]=l,e[47]=C,e[48]=H):H=e[48],e[49]!==E||e[50]!==M||e[51]!==B||e[52]!==z||e[53]!==H?(N=(0,Ft.jsxs)(wo.default,{style:I,testID:"onboardingInterests",children:[E,M,B,z,H]}),e[49]=E,e[50]=M,e[51]=B,e[52]=z,e[53]=H,e[54]=N):N=e[54],N}function uQ(e,t){const{tag:s,subject:n,subjectType:o}=t,r="default"===s;return e.interests.includes(s)||r||e.interests.push(s),"user"===o&&(e.suggestedAccountDids[s]=e.suggestedAccountDids[s]||[],e.suggestedAccountDids[s].push(n)),"feed"===o&&(r?e.suggestedFeedUris[s]=e.suggestedFeedUris[s]||[]:(e.suggestedFeedUris[s]=e.suggestedFeedUris[s]||[],e.suggestedFeedUris[s].push(n),e.suggestedFeedUris.default.push(n))),e}function mQ(e){return e}var hQ=s(75443);function pQ(e){const t=(0,i.c)(14),{avatar:s,size:n}=e,o=void 0===n?125:n,r=ec(),a=s.placeholder.component;let l,c,d;t[0]!==s.backgroundColor||t[1]!==o?(c={height:o,width:o,backgroundColor:s.backgroundColor},t[0]=s.backgroundColor,t[1]=o,t[2]=c):c=t[2],t[3]!==r.atoms.border_contrast_high||t[4]!==c?(d={imageContainer:[kl.rounded_full,kl.overflow_hidden,kl.align_center,kl.justify_center,kl.border,r.atoms.border_contrast_high,c]},t[3]=r.atoms.border_contrast_high,t[4]=c,t[5]=d):d=t[5],l=d;const u=l;let m,h,p;return t[6]!==r.palette.white?(m={color:r.palette.white},t[6]=r.palette.white,t[7]=m):m=t[7],t[8]!==a||t[9]!==m?(h=(0,Ft.jsx)(a,{height:85,width:85,style:m}),t[8]=a,t[9]=m,t[10]=h):h=t[10],t[11]!==u.imageContainer||t[12]!==h?(p=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(wo.default,{style:u.imageContainer,children:h})}),t[11]=u.imageContainer,t[12]=h,t[13]=p):p=t[13],p}function fQ(e){const t=(0,i.c)(18),{openLibrary:s,openCreator:n}=e,{_:o}=(0,ft.useLingui)(),r=ec(),{avatar:a}=DQ();let l,c,d;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={height:200,width:200},t[0]=c):c=t[0],t[1]!==r.atoms.bg_contrast_25||t[2]!==r.atoms.border_contrast_low?(d={imageContainer:[kl.rounded_full,kl.overflow_hidden,kl.align_center,kl.justify_center,kl.border,r.atoms.border_contrast_low,r.atoms.bg_contrast_25,c]},t[1]=r.atoms.bg_contrast_25,t[2]=r.atoms.border_contrast_low,t[3]=d):d=t[3],l=d;const u=l;let m,h,p;t[4]!==a||t[5]!==u||t[6]!==r.palette?(m=a.useCreatedAvatar?(0,Ft.jsx)(pQ,{avatar:a,size:200}):a.image?(0,Ft.jsx)(SS.Image,{source:a.image.path,style:u.imageContainer,accessibilityIgnoresInvertColors:!0,transition:{duration:300,effect:"cross-dissolve"}}):(0,Ft.jsx)(wo.default,{style:u.imageContainer,children:(0,Ft.jsx)(bS,{height:100,width:100,style:{color:r.palette.contrast_200}})}),t[4]=a,t[5]=u,t[6]=r.palette,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.absolute,{bottom:2,right:2}],t[8]=h):h=t[8],t[9]!==o?(p=o({id:"Dx7RGr"}),t[9]=o,t[10]=p):p=t[10];const f=a.useCreatedAvatar?n:s;let g,x,_;return t[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Pr,{icon:FO}),t[11]=g):g=t[11],t[12]!==p||t[13]!==f?(x=(0,Ft.jsx)(wo.default,{style:h,children:(0,Ft.jsx)(Sr,{label:p,size:"large",shape:"round",variant:"solid",color:"primary",onPress:f,children:g})}),t[12]=p,t[13]=f,t[14]=x):x=t[14],t[15]!==m||t[16]!==x?(_=(0,Ft.jsxs)(wo.default,{children:[m,x]}),t[15]=m,t[16]=x,t[17]=_):_=t[17],_}const gQ=zr({path:"M8.148 2.034a1 1 0 0 1 1.35-.419c1.054.556 1.873 1.266 2.46 2.174.369.57.63 1.197.807 1.873 1.143-.349 2.194-.46 3.15-.342a5.122 5.122 0 0 1 3.134 1.556c1.564 1.63 2.086 4.183 1.922 6.58-.166 2.414-1.043 4.938-2.607 6.619-.792.851-1.78 1.505-2.95 1.782-1.063.251-2.213.176-3.415-.262-1.202.438-2.351.513-3.414.262-1.17-.277-2.158-.93-2.95-1.782-1.563-1.682-2.44-4.205-2.606-6.62-.164-2.396.358-4.949 1.921-6.579A5.121 5.121 0 0 1 8.085 5.32c.777-.095 1.617-.04 2.518.172a4.011 4.011 0 0 0-.325-.618c-.372-.576-.912-1.068-1.712-1.49a1 1 0 0 1-.418-1.35Zm.897 17.877c.71.167 1.557.117 2.562-.31a1 1 0 0 1 .784 0c1.005.428 1.853.477 2.563.31.715-.17 1.37-.579 1.946-1.198 1.171-1.26 1.932-3.303 2.076-5.394.144-2.109-.353-3.998-1.37-5.059a3.124 3.124 0 0 0-1.936-.955c-.83-.102-1.912.043-3.282.621a1 1 0 0 1-.778 0c-1.37-.578-2.45-.723-3.281-.62-.815.1-1.445.443-1.935.954-1.017 1.06-1.514 2.95-1.37 5.059.144 2.09.905 4.135 2.076 5.394.575.62 1.23 1.029 1.945 1.198Z"}),xQ=zr({path:"M13.832 1.014a1 1 0 0 1 1.154.818L14 2l.986-.168v.003l.001.005.002.014.007.045.021.156c.017.13.035.312.048.527.025.42.028 1.01-.082 1.6-.127.69-.447 1.31-.701 1.726a7.107 7.107 0 0 1-.498.712l-.01.014-.004.005-.002.001v.002L13 6l.767.642a1 1 0 0 1-1.535-1.282l.002-.003.017-.02a5.13 5.13 0 0 0 .324-.47c.198-.325.378-.705.442-1.049.068-.37.071-.78.051-1.12a6.268 6.268 0 0 0-.05-.504l-.004-.025m.818-1.155a1 1 0 0 0-.818 1.155Zm5.257 1.545a1 1 0 0 1 .602 1.28l-.45 1.25a1 1 0 0 1-1.882-.678l.45-1.25a1 1 0 0 1 1.28-.602ZM6.524 7.136a2 2 0 0 1 3.294-.732l7.778 7.778a2 2 0 0 1-.732 3.294L4.653 21.91c-1.596.579-3.142-.967-2.563-2.563L6.524 7.136Zm9.658 8.46L8.404 7.818 3.97 20.03l12.212-4.434Zm5.712-8.543a1 1 0 0 1-.447 1.341l-1 .5a1 1 0 1 1-.894-1.788l1-.5a1 1 0 0 1 1.341.447Zm-4.687-.26a1 1 0 0 1 0 1.414l-1 1a1 1 0 1 1-1.414-1.414l1-1a1 1 0 0 1 1.414 0Zm-.206 4.165A1 1 0 0 1 18.042 10L18 11l.042-1 .003.001h.014l.035.003.117.008a7.693 7.693 0 0 1 1.594.306c.423.135.861.352 1.168.516a11.873 11.873 0 0 1 .508.288l.032.02.01.006.004.002L21 12l.527-.85a1 1 0 0 1-1.054 1.7l-.005-.003-.023-.014a7.477 7.477 0 0 0-.415-.236 5.497 5.497 0 0 0-.835-.374A5.684 5.684 0 0 0 17.973 12l-.015-.002h-.002a1 1 0 0 1-.955-1.041Z"}),_Q=zr({path:"M1 8a3 3 0 0 1 3-3h16a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3H4a3 3 0 0 1-3-3V8Zm3-1a1 1 0 0 0-1 1v8a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V8a1 1 0 0 0-1-1H4Zm4 2a1 1 0 0 1 1 1v1h1a1 1 0 1 1 0 2H9v1a1 1 0 1 1-2 0v-1H6a1 1 0 1 1 0-2h1v-1a1 1 0 0 1 1-1Zm5.5 4.5a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Zm3-3a1.25 1.25 0 1 0 2.5 0 1.25 1.25 0 0 0-2.5 0Z"}),yQ=zr({path:"M13.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM10 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 6a1 1 0 0 0 0 2v2.64c-.212.25-.45.515-.711.8l-.129.142c-.312.342-.649.711-.974 1.092-.731.857-1.488 1.866-1.89 2.99A4.845 4.845 0 0 0 4 17.297 4.702 4.702 0 0 0 8.702 22h6.596A4.702 4.702 0 0 0 20 17.298c0-.575-.114-1.122-.297-1.634-.401-1.124-1.157-2.133-1.89-2.99-.324-.38-.66-.75-.973-1.092l-.129-.141c-.26-.286-.5-.55-.711-.8V8a1 1 0 1 0 0-2H8Zm2 5.35V8h4v3.35l.22.275c.306.383.661.777 1.013 1.163l.13.143c.315.345.628.688.93 1.042.372.435.704.861.974 1.28l-.159.025c-.845.13-1.838.242-2.581.222-.842-.022-1.475-.217-2.227-.454l-.027-.008c-.746-.235-1.61-.507-2.746-.538-.743-.02-1.617.064-2.38.165.173-.228.36-.459.56-.692.302-.354.615-.697.93-1.042l.13-.143c.352-.386.707-.78 1.014-1.163L10 11.35Zm7.41 5.905c.21-.032.407-.064.586-.095A2.702 2.702 0 0 1 15.298 20H8.702A2.702 2.702 0 0 1 6 17.298c0-.142.013-.286.039-.434.236-.043.53-.093.853-.142.845-.13 1.837-.242 2.581-.222.842.022 1.475.217 2.227.454l.027.008c.746.235 1.61.507 2.746.538.931.024 2.07-.113 2.937-.245Z"}),bQ=zr({path:"M18.423 2.428a2 2 0 0 1 2.575 1.916V15.5c0 2.096-1.97 3.5-4 3.5-2.03 0-4-1.404-4-3.5s1.97-3.5 4-3.5c.7 0 1.392.167 2 .471V4.344l-8 2.4V18.5c0 2.096-1.97 3.5-4 3.5-2.03 0-4-1.404-4-3.5s1.97-3.5 4-3.5c.7 0 1.393.167 2 .471V6.744a2 2 0 0 1 1.425-1.916l8-2.4ZM8.998 18.5c0-.666-.717-1.5-2-1.5s-2 .834-2 1.5c0 .665.717 1.5 2 1.5s2-.835 2-1.5Zm10-3c0-.665-.717-1.5-2-1.5s-2 .835-2 1.5.717 1.5 2 1.5 2-.835 2-1.5Z"}),jQ=zr({path:"M10.75 2.469a2 2 0 0 1 2.5 0l1.42 1.136 1.44-.576A1.378 1.378 0 0 1 18 4.309V8a6.002 6.002 0 0 1-5 5.917v1.69a6.12 6.12 0 0 1 4.224-1.606A1.796 1.796 0 0 1 19 15.857a6.143 6.143 0 0 1-6 6.141V22h-2v-.002a6.143 6.143 0 0 1-6-6.222A1.796 1.796 0 0 1 6.858 14 6.12 6.12 0 0 1 11 15.607v-1.69A6.002 6.002 0 0 1 6 8V4.308c0-.975.985-1.641 1.89-1.28l1.44.577 1.42-1.136ZM7.004 16.003a4.143 4.143 0 0 1 3.995 3.994 4.143 4.143 0 0 1-3.995-3.994Zm9.994 0a4.143 4.143 0 0 1-3.995 3.994 4.143 4.143 0 0 1 3.995-3.994ZM13.42 5.167 12 4.03l-1.42 1.136a2 2 0 0 1-1.992.295L8 5.227V8a4 4 0 0 0 8 0V5.227l-.588.235a2 2 0 0 1-1.992-.295Z"}),vQ=zr({path:"M2.275 4.312A1 1 0 0 1 3 4h.55a4 4 0 0 1 3.656 2.375l.616 1.388.47-.47 1.001-1a2.414 2.414 0 0 1 3.948.807 2.41 2.41 0 0 1 2.5 1.5 2.41 2.41 0 0 1 2.234 1.01l.805-.804c.95-.95 2.49-.95 3.44 0 .93.93.958 2.439.035 3.395-1.228 1.271-3.406 3.497-5.078 5.035a94.045 94.045 0 0 1-2.82 2.467c-2.481 2.1-6.156 1.748-8.264-.684L3.87 16.452a6 6 0 0 1-1.458-3.614l-.41-7.785a1 1 0 0 1 .274-.741Zm14.022 6.977-1.004 1.004-.007.006-.493.494a.414.414 0 1 1-.586-.586l1.5-1.5a.414.414 0 0 1 .59.582Zm-4.18 1.595a2.414 2.414 0 0 0 4.09 1.323l1.5-1.5.01-.01 2.477-2.477c.169-.169.443-.169.612 0a.42.42 0 0 1 .01.591c-1.228 1.272-3.37 3.46-4.993 4.953a92.183 92.183 0 0 1-2.757 2.412c-1.62 1.371-4.05 1.162-5.461-.467L5.38 15.143a4 4 0 0 1-.972-2.41l-.35-6.668a2 2 0 0 1 1.32 1.123l1.208 2.718a1 1 0 0 0 1.42.456A2.421 2.421 0 0 0 10.26 11.4c.118.294.296.57.534.807.373.373.839.599 1.323.677Zm.676-2.091 1-1a.414.414 0 1 0-.586-.586l-1 1a.414.414 0 1 0 .586.586Zm-2-2 .5-.5a.414.414 0 1 0-.586-.586l-1 1a.414.414 0 0 0 .586.586l.5-.5Z"}),wQ=zr({path:"M7.03 6.443c-.889.17-1.707.385-2.431.638-.966.338-1.82.764-2.45 1.286C1.523 8.884 1 9.6 1 10.5c0 1.321 1.098 2.24 2.203 2.821.854.45 1.928.817 3.142 1.093l-3.19 5.052a1 1 0 1 0 1.69 1.068l5.767-9.13a8.502 8.502 0 0 1 2.776 0l5.766 9.13a1 1 0 0 0 1.692-1.068l-3.191-5.052c1.214-.276 2.288-.644 3.142-1.093 1.105-.58 2.203-1.5 2.203-2.821 0-.9-.524-1.616-1.148-2.133-.631-.522-1.485-.948-2.45-1.286a17.147 17.147 0 0 0-2.433-.638 5 5 0 0 0-9.938 0Zm2.095-.301A28.736 28.736 0 0 1 12 6c.992 0 1.957.049 2.875.142a3.001 3.001 0 0 0-5.75 0Zm7.389 6.466c1.403-.262 2.55-.635 3.352-1.057C20.87 11.023 21 10.611 21 10.5c0-.066-.036-.271-.423-.592-.381-.315-.993-.644-1.836-.939C17.063 8.382 14.68 8 12 8c-2.68 0-5.063.382-6.74.969-.844.295-1.456.624-1.837.94-.387.32-.423.525-.423.591 0 .11.13.523 1.134 1.051.802.422 1.95.795 3.352 1.057l1.441-2.282a1.952 1.952 0 0 1 1.328-.89 10.51 10.51 0 0 1 3.49 0c.57.094 1.042.437 1.328.89l1.44 2.282Z"}),SQ=zr({path:"m9.368 4-4 8h2.944a1.5 1.5 0 0 1 1.427 1.963l-1.65 5.087L19.374 9h-3.49a1.5 1.5 0 0 1-1.287-2.272L16.234 4H9.368Zm-1.65-1.17A1.5 1.5 0 0 1 9.058 2h8.058a1.5 1.5 0 0 1 1.286 2.272L16.766 7h3.92c1.38 0 2.028 1.703.998 2.62L8.042 21.77c-1.142 1.018-2.896-.127-2.424-1.583L7.624 14H4.56a1.5 1.5 0 0 1-1.342-2.17l4.5-9Z"}),kQ=["at","arc","heartEyes","alien","apple","atom","celebrate","gameController","leaf","musicNote","rose","shaka","ufo","zap","explosion","lab"],CQ={at:{name:"at",component:nZ},arc:{name:"arc",component:CB},heartEyes:{name:"heartEyes",component:PB},alien:{name:"alien",component:aW},apple:{name:"apple",component:gQ},atom:{name:"atom",component:wB},celebrate:{name:"celebrate",component:xQ},gameController:{name:"gameController",component:_Q},leaf:{name:"leaf",component:Dj},musicNote:{name:"musicNote",component:bQ},rose:{name:"rose",component:jQ},shaka:{name:"shaka",component:vQ},ufo:{name:"ufo",component:wQ},zap:{name:"zap",component:SQ},explosion:{name:"explosion",component:uW},lab:{name:"lab",component:yQ}},PQ=["#FE8311","#FED811","#73DF84","#1185FE","#EF75EA","#F55454"],TQ={top:-3,bottom:-3,left:-3,right:-3,opacity:.5,borderWidth:3};function LQ(e){const t=(0,i.c)(24),{type:s,avatar:n,setAvatar:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),l="emojis"===s;let c;t[0]!==o?(c=e=>{o((t=>Object.assign({},t,{placeholder:CQ[e]})))},t[0]=o,t[1]=c):c=t[1];const d=c;let u;t[2]!==o?(u=e=>{o((t=>Object.assign({},t,{backgroundColor:e})))},t[2]=o,t[3]=u):u=t[3];const m=u;let h,p,f,g,x,_,y,b;return t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.w_full],t[4]=h):h=t[4],t[5]!==a.atoms.text_contrast_medium?(p=[kl.pb_md,a.atoms.text_contrast_medium],t[5]=a.atoms.text_contrast_medium,t[6]=p):p=t[6],t[7]!==l?(f=l?(0,Ft.jsx)(ft.Trans,{id:"lH+2uJ"}):(0,Ft.jsx)(ft.Trans,{id:"QosnLA"}),t[7]=l,t[8]=f):f=t[8],t[9]!==p||t[10]!==f?(g=(0,Ft.jsx)(fr,{style:p,children:f}),t[9]=p,t[10]=f,t[11]=g):g=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_row,kl.align_start,kl.justify_start,kl.flex_wrap,kl.gap_md],t[12]=x):x=t[12],t[13]!==r||t[14]!==n||t[15]!==l||t[16]!==m||t[17]!==d?(_=l?kQ.map((e=>(0,Ft.jsxs)(Sr,{label:r({id:"34dlMG",values:{emojiName:e}}),size:"small",shape:"round",variant:"solid",color:"secondary",onPress:()=>d(e),children:[(0,Ft.jsx)(Pr,{icon:CQ[e].component}),n.placeholder.name===e&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,TQ,{borderColor:n.backgroundColor}]})]},e))):PQ.map((e=>(0,Ft.jsx)(Sr,{label:r({id:"T8SZav"}),size:"small",shape:"round",variant:"solid",onPress:()=>m(e),children:t=>(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.rounded_full,{opacity:t.hovered||t.pressed?.8:1,backgroundColor:e}]}),n.backgroundColor===e&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,TQ,{borderColor:e}]})]})},e))),t[13]=r,t[14]=n,t[15]=l,t[16]=m,t[17]=d,t[18]=_):_=t[18],t[19]!==_?(y=(0,Ft.jsx)(wo.default,{style:x,children:_}),t[19]=_,t[20]=y):y=t[20],t[21]!==g||t[22]!==y?(b=(0,Ft.jsxs)(wo.default,{style:h,children:[g,y]}),t[21]=g,t[22]=y,t[23]=b):b=t[23],b}const AQ=mt.lazy((()=>s.e(19).then(s.bind(s,19)))),IQ=mt.forwardRef((function(e,t){const s=(0,i.c)(12),{avatar:n}=DQ(),o=mt.useRef(null),r=n.placeholder.component;let a,l,c;s[0]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.absolute,{top:-2e3}],s[0]=l):l=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(c={container:l,imageContainer:[kl.align_center,kl.justify_center,{height:750,width:750}]},s[1]=c):c=s[1],a=c;const d=a;let u,m,h,p,f,g;return s[2]===Symbol.for("react.memo_cache_sentinel")?(u=()=>({capture:async()=>{if(o.current?.capture)return await o.current.capture()}}),s[2]=u):u=s[2],mt.useImperativeHandle(t,u),s[3]===Symbol.for("react.memo_cache_sentinel")?(m={fileName:"placeholderAvatar",format:"jpg",quality:.8,height:750,width:750},s[3]=m):m=s[3],s[4]!==n.backgroundColor?(h=[d.imageContainer,{backgroundColor:n.backgroundColor}],s[4]=n.backgroundColor,s[5]=h):h=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(p={color:"white"},s[6]=p):p=s[6],s[7]!==r?(f=(0,Ft.jsx)(r,{height:425,width:425,style:p}),s[7]=r,s[8]=f):f=s[8],s[9]!==h||s[10]!==f?(g=(0,Ft.jsx)(wo.default,{style:d.container,children:(0,Ft.jsx)(mt.Suspense,{fallback:null,children:(0,Ft.jsx)(AQ,{ref:o,options:m,children:(0,Ft.jsx)(wo.default,{style:h,collapsable:!1,children:f})})})}),s[9]=h,s[10]=f,s[11]=g):g=s[11],g})),RQ=mt.createContext({}),DQ=()=>mt.useContext(RQ),FQ=PQ[Math.floor(Math.random()*PQ.length)];function EQ(){const e=(0,i.c)(102),{_:t}=(0,ft.useLingui)(),s=ec(),{gtMobile:n}=ql(),{requestPhotoAccessIfNeeded:o}={requestPhotoAccessIfNeeded:async()=>!0},r=On(),a=Tf(),l=Ar(),[c,d]=mt.useState(""),{state:u,dispatch:m}=mt.useContext(KF),h=u.profileStepResults?.image,p=u.profileStepResults.creatorState?.emoji||CQ.at,f=u.profileStepResults.creatorState?.backgroundColor||FQ;let g;e[0]!==u.profileStepResults.isCreatedAvatar||e[1]!==h||e[2]!==p||e[3]!==f?(g={image:h,placeholder:p,backgroundColor:f,useCreatedAvatar:u.profileStepResults.isCreatedAvatar},e[0]=u.profileStepResults.isCreatedAvatar,e[1]=h,e[2]=p,e[3]=f,e[4]=g):g=e[4];const[x,_]=mt.useState(g),y=mt.useRef(null);let b,j;e[5]!==a?(b=()=>{a("StartOnboarding")},e[5]=a,e[6]=b):b=e[6],e[7]!==r||e[8]!==a?(j=[r,a],e[7]=r,e[8]=a,e[9]=j):j=e[9],mt.useEffect(b,j);const v=tv();let w;e[10]!==t||e[11]!==v?(w=async e=>((await v((0,Hu.launchImageLibraryAsync)(Object.assign({exif:!1,mediaTypes:hQ.MediaTypeOptions.Images,quality:1},e,{legacy:!0})))).assets??[]).slice(0,1).filter((e=>!(!e.mimeType?.startsWith("image/")||!(e.mimeType?.endsWith("jpeg")||e.mimeType?.endsWith("jpg")||e.mimeType?.endsWith("png")))||(d(t({id:"+klhm5"})),!1))).map(BQ),e[10]=t,e[11]=v,e[12]=w):w=e[12];const S=w;let k;e[13]!==x.backgroundColor||e[14]!==x.image||e[15]!==x.placeholder||e[16]!==x.useCreatedAvatar||e[17]!==m?(k=async()=>{let e=x?.image?.path;e&&!x.useCreatedAvatar||(e=await(y.current?.capture())),e&&m({type:"setProfileStepResults",image:x.image,imageUri:e,imageMime:x.image?.mime??"image/jpeg",isCreatedAvatar:x.useCreatedAvatar,creatorState:{emoji:x.placeholder,backgroundColor:x.backgroundColor}}),m({type:"next"}),En("onboarding:profile:nextPressed",{})},e[13]=x.backgroundColor,e[14]=x.image,e[15]=x.placeholder,e[16]=x.useCreatedAvatar,e[17]=m,e[18]=k):k=e[18];const C=k;let P;e[19]!==l?(P=()=>{_(MQ),l.close()},e[19]=l,e[20]=P):P=e[20];const T=P;let L;e[21]!==S||e[22]!==o||e[23]!==v?(L=async()=>{if(!await o())return;d("");const e=await v(S({aspect:[1,1]}));let t;t=e[0],t&&(Pt||(t=await Gu(t.path)),t=await Mu(t,1e6),kt&&await SS.Image.prefetch(t.path),_((e=>Object.assign({},e,{image:t,useCreatedAvatar:!1}))))},e[21]=S,e[22]=o,e[23]=v,e[24]=L):L=e[24];const A=L;let I;e[25]!==x.useCreatedAvatar||e[26]!==l||e[27]!==A?(I=()=>{x.useCreatedAvatar?A():l.open()},e[25]=x.useCreatedAvatar,e[26]=l,e[27]=A,e[28]=I):I=e[28];const R=I;let D,F;e[29]!==x?(F={avatar:x,setAvatar:_},e[29]=x,e[30]=F):F=e[30],D=F;const E=D;let M,B,O,z;e[31]!==s.atoms.bg?(M=[kl.align_start,s.atoms.bg,kl.justify_between],e[31]=s.atoms.bg,e[32]=M):M=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(Iz,{icon:bS,style:[kl.mb_2xl]}),e[33]=B):B=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(nQ,{children:(0,Ft.jsx)(ft.Trans,{id:"4DXtI0"})}),e[34]=O):O=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(oQ,{children:(0,Ft.jsx)(ft.Trans,{id:"M9fhQq"})}),e[35]=z):z=e[35];const H=n?80:40;let N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe;return e[36]!==H?(N=[kl.w_full,kl.align_center,{paddingTop:H}],e[36]=H,e[37]=N):N=e[37],e[38]!==l.open||e[39]!==A?(V=(0,Ft.jsx)(fQ,{openLibrary:A,openCreator:l.open}),e[38]=l.open,e[39]=A,e[40]=V):V=e[40],e[41]!==c||e[42]!==s.atoms.bg_contrast_25||e[43]!==s.atoms.border_contrast_low?(q=c&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,kl.mt_xl,kl.py_md,kl.px_lg,kl.border,kl.rounded_md,s.atoms.bg_contrast_25,s.atoms.border_contrast_low],children:[(0,Ft.jsx)(Ij,{size:"sm"}),(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:c})]}),e[41]=c,e[42]=s.atoms.bg_contrast_25,e[43]=s.atoms.border_contrast_low,e[44]=q):q=e[44],e[45]!==N||e[46]!==V||e[47]!==q?(U=(0,Ft.jsxs)(wo.default,{style:N,children:[V,q]}),e[45]=N,e[46]=V,e[47]=q,e[48]=U):U=e[48],e[49]!==n?(W=n&&{flexDirection:"row-reverse"},e[49]=n,e[50]=W):W=e[50],e[51]!==W?(Z=[kl.gap_md,W],e[51]=W,e[52]=Z):Z=e[52],e[53]!==t?(Q=t({id:"nKtyYu"}),e[53]=t,e[54]=Q):Q=e[54],e[55]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"xGVfLh"})}),$=(0,Ft.jsx)(Pr,{icon:QT,position:"right"}),e[55]=K,e[56]=$):(K=e[55],$=e[56]),e[57]!==C||e[58]!==Q?(G=(0,Ft.jsxs)(Sr,{variant:"gradient",color:"gradient_sky",size:"large",label:Q,onPress:C,children:[K,$]}),e[57]=C,e[58]=Q,e[59]=G):G=e[59],e[60]!==t?(Y=t({id:"wxMDFa"}),e[60]=t,e[61]=Y):Y=e[61],e[62]!==x.useCreatedAvatar?(J=(0,Ft.jsx)(Cr,{children:x.useCreatedAvatar?(0,Ft.jsx)(ft.Trans,{id:"ZRuImD"}):(0,Ft.jsx)(ft.Trans,{id:"bYUjBV"})}),e[62]=x.useCreatedAvatar,e[63]=J):J=e[63],e[64]!==R||e[65]!==Y||e[66]!==J?(X=(0,Ft.jsx)(Sr,{variant:"ghost",color:"primary",size:"large",label:Y,onPress:R,children:J}),e[64]=R,e[65]=Y,e[66]=J,e[67]=X):X=e[67],e[68]!==Z||e[69]!==G||e[70]!==X?(ee=(0,Ft.jsx)(tQ.Portal,{children:(0,Ft.jsxs)(wo.default,{style:Z,children:[G,X]})}),e[68]=Z,e[69]=G,e[70]=X,e[71]=ee):ee=e[71],e[72]!==M||e[73]!==U||e[74]!==ee?(te=(0,Ft.jsxs)(wo.default,{style:M,children:[B,O,z,U,ee]}),e[72]=M,e[73]=U,e[74]=ee,e[75]=te):te=e[75],e[76]===Symbol.for("react.memo_cache_sentinel")?(se=[{width:"auto",maxWidth:410}],e[76]=se):se=e[76],e[77]===Symbol.for("react.memo_cache_sentinel")?(ne=[kl.align_center,{paddingTop:20}],e[77]=ne):ne=e[77],e[78]!==x?(oe=(0,Ft.jsx)(wo.default,{style:ne,children:(0,Ft.jsx)(pQ,{avatar:x})}),e[78]=x,e[79]=oe):oe=e[79],e[80]===Symbol.for("react.memo_cache_sentinel")?(re=[kl.pt_3xl,kl.gap_lg],e[80]=re):re=e[80],e[81]!==x?(ie=(0,Ft.jsxs)(wo.default,{style:re,children:[(0,Ft.jsx)(LQ,{type:"emojis",avatar:x,setAvatar:_}),(0,Ft.jsx)(LQ,{type:"colors",avatar:x,setAvatar:_})]}),e[81]=x,e[82]=ie):ie=e[82],e[83]===Symbol.for("react.memo_cache_sentinel")?(ae=[kl.pt_4xl],e[83]=ae):ae=e[83],e[84]!==t?(le=t({id:"DPfwMq"}),e[84]=t,e[85]=le):le=e[85],e[86]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"DPfwMq"})}),e[86]=ce):ce=e[86],e[87]!==T||e[88]!==le?(de=(0,Ft.jsx)(wo.default,{style:ae,children:(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",label:le,onPress:T,children:ce})}),e[87]=T,e[88]=le,e[89]=de):de=e[89],e[90]!==oe||e[91]!==ie||e[92]!==de?(ue=(0,Ft.jsxs)(la,{label:"Avatar creator",style:se,children:[oe,ie,de]}),e[90]=oe,e[91]=ie,e[92]=de,e[93]=ue):ue=e[93],e[94]!==l||e[95]!==ue?(me=(0,Ft.jsx)(aa,{control:l,children:ue}),e[94]=l,e[95]=ue,e[96]=me):me=e[96],e[97]===Symbol.for("react.memo_cache_sentinel")?(he=(0,Ft.jsx)(IQ,{ref:y}),e[97]=he):he=e[97],e[98]!==te||e[99]!==me||e[100]!==E?(pe=(0,Ft.jsxs)(RQ.Provider,{value:E,children:[te,me,he]}),e[98]=te,e[99]=me,e[100]=E,e[101]=pe):pe=e[101],pe}function MQ(e){return Object.assign({},e,{image:void 0,useCreatedAvatar:!0})}function BQ(e){return{mime:"image/jpeg",height:e.height,width:e.width,path:e.uri,size:Fu(e.uri)}}function OQ(){const e=(0,i.c)(84),{_:t}=(0,ft.useLingui)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=Object.assign({},QF),e[0]=s):s=e[0];const[n,o]=mt.useReducer($F,s);let r,a,l,c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;e[1]!==t?(a=t({id:"qdyV/M"}),e[1]=t,e[2]=a):a=e[2],e[3]!==t?(l=t({id:"VjZoPG"}),e[3]=t,e[4]=l):l=e[4],e[5]!==t?(c=t({id:"PGt/mb"}),e[5]=t,e[6]=c):c=e[6],e[7]!==t?(d=t({id:"+QARA4"}),e[7]=t,e[8]=d):d=e[8],e[9]!==t?(u=t({id:"Q70RyM"}),e[9]=t,e[10]=u):u=e[10],e[11]!==t?(m=t({id:"IUykiF"}),e[11]=t,e[12]=m):m=e[12],e[13]!==t?(h=t({id:"wFuUuH"}),e[13]=t,e[14]=h):h=e[14],e[15]!==t?(p=t({id:"7JFNej"}),e[15]=t,e[16]=p):p=e[16],e[17]!==t?(f=t({id:"nkqs9W"}),e[17]=t,e[18]=f):f=e[18],e[19]!==t?(g=t({id:"rJytxG"}),e[19]=t,e[20]=g):g=e[20],e[21]!==t?(x=t({id:"TGqTIz"}),e[21]=t,e[22]=x):x=e[22],e[23]!==t?(_=t({id:"aqxYLv"}),e[23]=t,e[24]=_):_=e[24],e[25]!==t?(y=t({id:"2azzvZ"}),e[25]=t,e[26]=y):y=e[26],e[27]!==t?(b=t({id:"5/lolt"}),e[27]=t,e[28]=b):b=e[28],e[29]!==t?(j=t({id:"wGvJH+"}),e[29]=t,e[30]=j):j=e[30],e[31]!==t?(v=t({id:"J6rEPg"}),e[31]=t,e[32]=v):v=e[32],e[33]!==t?(w=t({id:"vlf/In"}),e[33]=t,e[34]=w):w=e[34],e[35]!==t?(S=t({id:"cDg3lw"}),e[35]=t,e[36]=S):S=e[36],e[37]!==t?(k=t({id:"CWk59I"}),e[37]=t,e[38]=k):k=e[38],e[39]!==t?(C=t({id:"59Bkqw"}),e[39]=t,e[40]=C):C=e[40],e[41]!==t?(P=t({id:"uZCzGe"}),e[41]=t,e[42]=P):P=e[42],e[43]!==t?(T=t({id:"X7UTJf"}),e[43]=t,e[44]=T):T=e[44],e[45]!==f||e[46]!==g||e[47]!==x||e[48]!==_||e[49]!==y||e[50]!==b||e[51]!==j||e[52]!==v||e[53]!==w||e[54]!==S||e[55]!==a||e[56]!==k||e[57]!==C||e[58]!==P||e[59]!==T||e[60]!==l||e[61]!==c||e[62]!==d||e[63]!==u||e[64]!==m||e[65]!==h||e[66]!==p?(L={news:a,journalism:l,nature:c,art:d,comics:u,writers:m,culture:h,sports:p,pets:f,animals:g,books:x,education:_,climate:y,science:b,politics:j,fitness:v,tech:w,dev:S,comedy:k,gaming:C,food:P,cooking:T},e[45]=f,e[46]=g,e[47]=x,e[48]=_,e[49]=y,e[50]=b,e[51]=j,e[52]=v,e[53]=w,e[54]=S,e[55]=a,e[56]=k,e[57]=C,e[58]=P,e[59]=T,e[60]=l,e[61]=c,e[62]=d,e[63]=u,e[64]=m,e[65]=h,e[66]=p,e[67]=L):L=e[67],r=L;const A=r;let I,R,D,F,E,M,B;return e[68]!==A||e[69]!==n?(R={state:n,dispatch:o,interestsDisplayNames:A},e[68]=A,e[69]=n,e[70]=R):R=e[70],I=R,e[71]!==n.activeStep?(D="profile"===n.activeStep&&(0,Ft.jsx)(EQ,{}),e[71]=n.activeStep,e[72]=D):D=e[72],e[73]!==n.activeStep?(F="interests"===n.activeStep&&(0,Ft.jsx)(dQ,{}),e[73]=n.activeStep,e[74]=F):F=e[74],e[75]!==n.activeStep?(E="finished"===n.activeStep&&(0,Ft.jsx)(aQ,{}),e[75]=n.activeStep,e[76]=E):E=e[76],e[77]!==D||e[78]!==F||e[79]!==E?(M=(0,Ft.jsxs)(sQ,{children:[D,F,E]}),e[77]=D,e[78]=F,e[79]=E,e[80]=M):M=e[80],e[81]!==I||e[82]!==M?(B=(0,Ft.jsx)(Wr,{children:(0,Ft.jsx)(tQ.Provider,{children:(0,Ft.jsx)(KF.Provider,{value:I,children:M})})}),e[81]=I,e[82]=M,e[83]=B):B=e[83],B}var zQ=s(93604);const HQ=400;function NQ(){const{_:e}=(0,ft.useLingui)(),t=ec(),s=(0,pt.useSafeAreaInsets)(),{gtMobile:n}=ql(),o=Ka(),{logoutCurrentAccount:r}=_h(),i=bh(),[a,l]=mt.useState(!1),[c,d]=mt.useState(void 0),[u,m]=mt.useState(void 0),h=mt.useCallback((async()=>{l(!0);try{const e=await i.com.atproto.temp.checkSignupQueue();e.data.activated?(await i.sessionManager.refreshSession(),nh(i.session?.accessJwt)||o({type:"start"})):(d(function(e){if(e&&e>0){const t=Math.ceil(e/6e4);if(t>59){const e=Math.round(t/60);if(e>6)return;return`${e} ${cs.i18n._({id:"7li+9j",values:{estimatedTimeHrs:e}})}`}return`${t} ${cs.i18n._({id:"oZH/QV",values:{estimatedTimeMins:t}})}`}return}(e.data.estimatedTimeMs)),"undefined"!==typeof e.data.placeInQueue&&m(Math.max(e.data.placeInQueue,1)))}catch(e){ys.error("Failed to check signup queue",{err:e.toString()})}finally{l(!1)}}),[l,d,m,o,i]);mt.useEffect((()=>{h();const e=setInterval(h,6e4);return()=>clearInterval(e)}),[h]);const p=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:e({id:"g71jLK"}),onPress:h,disabled:a,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"g71jLK"})}),a&&(0,Ft.jsx)(Pr,{icon:wv})]}),f=(0,Ft.jsx)(Sr,{variant:"ghost",size:"large",color:"primary",label:e({id:"fcWrnU"}),onPress:()=>r("SignupQueued"),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"fcWrnU"})})}),g=Pt&&n;return(0,Ft.jsxs)(zQ.default,{visible:!0,animationType:jo("slide"),presentationStyle:"formSheet",style:[_o(kl.util_screen_outer)],children:[wt&&(0,Ft.jsx)(ev.SystemBars,{style:{statusBar:"light"}}),(0,Ft.jsx)(Sw.default,{style:[kl.flex_1,t.atoms.bg],contentContainerStyle:{borderWidth:0},bounces:!1,children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.justify_center,n?kl.pt_4xl:[kl.px_xl,kl.pt_xl]],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,{maxWidth:HQ}],children:[(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.justify_center,kl.align_center,kl.my_4xl],children:(0,Ft.jsx)(mH,{width:120})}),(0,Ft.jsx)(fr,{style:[kl.text_4xl,kl.font_heavy,kl.pb_sm],children:(0,Ft.jsx)(ft.Trans,{id:"7SE541"})}),(0,Ft.jsx)(yr,{style:[t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"FObjSw"})}),(0,Ft.jsxs)(wo.default,{style:[kl.rounded_sm,kl.px_2xl,kl.py_4xl,kl.mt_2xl,kl.mb_md,kl.border,t.atoms.bg_contrast_25,t.atoms.border_contrast_medium],children:["number"===typeof u&&(0,Ft.jsx)(fr,{style:[kl.text_5xl,kl.text_center,kl.font_heavy,kl.mb_2xl],children:u}),(0,Ft.jsxs)(yr,{style:[kl.text_center],children:["number"===typeof u?(0,Ft.jsx)(ft.Trans,{id:"S4sMB0"}):(0,Ft.jsx)(ft.Trans,{id:"elP1HP"})," ",c?(0,Ft.jsx)(ft.Trans,{id:"iXJkLp",values:{estimatedTime:c}}):(0,Ft.jsx)(ft.Trans,{id:"BRipDg"})]})]}),g&&(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.justify_between,kl.pt_5xl,{paddingBottom:200}],children:[f,p]})]})})}),!g&&(0,Ft.jsx)(wo.default,{style:[kl.align_center,t.atoms.bg,n?kl.px_5xl:kl.px_xl,{paddingBottom:Math.max(s.bottom,kl.pb_5xl.paddingBottom)}],children:(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.gap_sm,{maxWidth:HQ}],children:[p,f]})})]})}const VQ=(0,mt.createContext)({incrementRefCount:()=>{},decrementRefCount:()=>{}});function qQ(e){const t=(0,i.c)(4),{incrementRefCount:s,decrementRefCount:n}=(0,mt.useContext)(VQ);let o;t[0]!==n||t[1]!==s||t[2]!==e?(o=()=>{if(e)return s(),()=>{n()}},t[0]=n,t[1]=s,t[2]=e,t[3]=o):o=t[3],(0,va.useFocusEffect)(o)}const UQ=400;function WQ(){const{_:e}=(0,ft.useLingui)(),t=ec(),s=(0,pt.useSafeAreaInsets)(),{gtMobile:n}=ql(),{currentAccount:o}=xh(),{logoutCurrentAccount:r}=_h(),a=bh(),[l,c]=(0,mt.useState)(!1),[d,u]=(0,mt.useState)(""),m=(0,mt.useMemo)((()=>new(Aw())),[]),h=(0,mt.useMemo)((()=>m.countGraphemes(d)),[m,d]),{mutate:p,isPending:f,isSuccess:g,error:x}=(0,Sd.useMutation)({mutationFn:async e=>{if(!o)throw new Error("No session");await a.com.atproto.moderation.createReport({reasonType:Is.ComAtprotoModerationDefs.REASONAPPEAL,subject:{$type:"com.atproto.admin.defs#repoRef",did:o.did},reason:e})},onSuccess:()=>u("")}),_=l&&!g?(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:e({id:"8aPpNp"}),onPress:()=>p(d),disabled:f||h>di,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"81ySvy"})}),f&&(0,Ft.jsx)(Pr,{icon:wv})]}):(0,Ft.jsx)(Sr,{variant:"solid",size:"large",color:"secondary_inverted",label:e({id:"fcWrnU"}),onPress:()=>r("Takendown"),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"bHYIks"})})}),y=l?!g&&(0,Ft.jsx)(Sr,{variant:"ghost",size:"large",color:"secondary",label:e({id:"dEgA5A"}),onPress:()=>c(!1),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})}):(0,Ft.jsx)(Sr,{variant:"ghost",size:"large",color:"secondary",label:e({id:"kgJch3"}),onPress:()=>c(!0),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"azrrOw"})})}),b=Pt&&n;return function(e){const t=(0,i.c)(5),{incrementRefCount:s,decrementRefCount:n}=(0,mt.useContext)(VQ);let o,r;t[0]!==n||t[1]!==s||t[2]!==e?(o=()=>{if(e)return s(),()=>{n()}},r=[e,s,n],t[0]=n,t[1]=s,t[2]=e,t[3]=o,t[4]=r):(o=t[3],r=t[4]),(0,mt.useEffect)(o,r)}(!0),(0,Ft.jsxs)(zQ.default,{visible:!0,animationType:jo("slide"),presentationStyle:"formSheet",style:[_o(kl.util_screen_outer)],children:[wt&&(0,Ft.jsx)(ev.SystemBars,{style:{statusBar:"light"}}),(0,Ft.jsx)(So.KeyboardAwareScrollView,{style:[kl.flex_1,t.atoms.bg],centerContent:!0,children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.justify_center,n?kl.pt_4xl:[kl.px_xl,kl.pt_4xl]],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,{maxWidth:UQ,minHeight:UQ}],children:[(0,Ft.jsx)(wo.default,{style:[kl.pb_xl],children:(0,Ft.jsx)(mH,{width:64})}),(0,Ft.jsx)(fr,{style:[kl.text_4xl,kl.font_heavy,kl.pb_md],children:l?(0,Ft.jsx)(ft.Trans,{id:"kgJch3"}):(0,Ft.jsx)(ft.Trans,{id:"gQrPvu"})}),l?(0,Ft.jsxs)(wo.default,{style:[kl.relative,kl.w_full,kl.mt_xl],children:[g?(0,Ft.jsx)(yr,{style:[t.atoms.text_contrast_medium,kl.text_center],children:(0,Ft.jsx)(ft.Trans,{id:"HrIM5U"})}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"8iwzii"})}),(0,Ft.jsx)(Yi,{isInvalid:h>di||!!x,children:(0,Ft.jsx)(ea,{label:e({id:"8iwzii"}),defaultValue:d,onChangeText:u,placeholder:e({id:"fy/Fzy"}),multiline:!0,numberOfLines:5,autoFocus:!0,style:{paddingBottom:40,minHeight:150},maxLength:10*di})}),(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.flex_row,kl.align_center,kl.pr_md,kl.pb_sm,{bottom:0,right:0}],children:(0,Ft.jsx)(fL,{count:h,max:di})})]}),x&&(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_normal,{color:t.palette.negative_500},kl.mt_lg],children:ds(x)})]}):(0,Ft.jsx)(yr,{style:[t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"f6UtWw",components:{0:(0,Ft.jsx)(fv,{label:e({id:"TXVWpp"}),to:"https://bsky.social/about/support/tos",style:[kl.text_md,kl.leading_normal],overridePresentation:!0})}})}),b&&(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.justify_between,kl.pt_5xl,{paddingBottom:200}],children:[y,_]})]})})}),!b&&(0,Ft.jsx)(wo.default,{style:[kl.align_center,t.atoms.bg,n?kl.px_5xl:kl.px_xl,{paddingBottom:Math.max(s.bottom,kl.pb_5xl.paddingBottom)}],children:(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.gap_sm,{maxWidth:UQ}],children:[_,y]})})]})}const ZQ=zr({path:"M12 4a8 8 0 0 0-5.935 13.365C7.56 15.895 9.612 15 12 15c2.388 0 4.44.894 5.935 2.365A8 8 0 0 0 12 4Zm4.412 14.675C15.298 17.636 13.792 17 12 17c-1.791 0-3.298.636-4.412 1.675A7.96 7.96 0 0 0 12 20a7.96 7.96 0 0 0 4.412-1.325ZM2 12C2 6.477 6.477 2 12 2s10 4.477 10 10a9.98 9.98 0 0 1-3.462 7.567A9.965 9.965 0 0 1 12 22a9.965 9.965 0 0 1-6.538-2.433A9.98 9.98 0 0 1 2 12Zm10-4a2 2 0 1 0 0 4 2 2 0 0 0 0-4Zm-4 2a4 4 0 1 1 8 0 4 4 0 0 1-8 0Z"}),QQ=zr({path:"M12 22c5.523 0 10-4.477 10-10S17.523 2 12 2 2 6.477 2 12s4.477 10 10 10Zm3-12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-3 10a7.976 7.976 0 0 1-5.714-2.4C7.618 16.004 9.605 15 12 15c2.396 0 4.383 1.005 5.714 2.6A7.976 7.976 0 0 1 12 20Z"});function KQ(){const e=(0,i.c)(24),{_:t}=(0,ft.useLingui)(),{hasSession:s,currentAccount:n}=xh(),o=ec(),r=yz(),{requestSwitchToAccount:a}=oj(),l=Om(),c=rf(),d=Nb(),u=pp(),m=On();let h;e[0]!==l||e[1]!==a?(h=()=>{l(),a({requestedAccount:"none"})},e[0]=l,e[1]=a,e[2]=h):h=e[2];const p=h;let f;e[3]!==l||e[4]!==a?(f=()=>{l(),a({requestedAccount:"new"})},e[3]=l,e[4]=a,e[5]=f):f=e[5];const g=f;let x,_,y;return e[6]!==r||e[7]!==o.atoms.bg||e[8]!==o.atoms.border_contrast_low?(x=[ZW.bottomBar,ZW.bottomBarWeb,o.atoms.bg,o.atoms.border_contrast_low,r],e[6]=r,e[7]=o.atoms.bg,e[8]=o.atoms.border_contrast_low,e[9]=x):x=e[9],e[10]!==t||e[11]!==n||e[12]!==m||e[13]!==u||e[14]!==s||e[15]!==d||e[16]!==g||e[17]!==p||e[18]!==o.atoms.text||e[19]!==c?(_=s?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)($Q,{routeName:"Home",href:"/",hasNew:u&&m("remove_show_latest_button"),children:e=>{const{isActive:t}=e,s=t?UW:qW;return(0,Ft.jsx)(s,{"aria-hidden":!0,width:27,style:[ZW.ctrlIcon,o.atoms.text,ZW.homeIcon]})}}),(0,Ft.jsx)($Q,{routeName:"Search",href:"/search",children:e=>{const{isActive:t}=e,s=t?WW:nC;return(0,Ft.jsx)(s,{"aria-hidden":!0,width:28,style:[ZW.ctrlIcon,o.atoms.text,ZW.searchIcon]})}}),s&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)($Q,{routeName:"Messages",href:"/messages",notificationCount:c.numUnread,hasNew:c.hasNew,children:e=>{const{isActive:t}=e,s=t?WL:ZL;return(0,Ft.jsx)(s,{"aria-hidden":!0,width:25,style:[ZW.ctrlIcon,o.atoms.text,ZW.messagesIcon]})}}),(0,Ft.jsx)($Q,{routeName:"Notifications",href:"/notifications",notificationCount:d,children:e=>{const{isActive:t}=e,s=t?VW:NW;return(0,Ft.jsx)(s,{"aria-hidden":!0,width:26,style:[ZW.ctrlIcon,o.atoms.text,ZW.bellIcon]})}}),(0,Ft.jsx)($Q,{routeName:"Profile",href:n?cS({did:n.did,handle:n.handle}):"/",children:e=>{const{isActive:t}=e,s=t?QQ:ZQ;return(0,Ft.jsx)(s,{"aria-hidden":!0,width:26,style:[ZW.ctrlIcon,o.atoms.text,ZW.profileIcon]})}})]})]}):(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:{width:"100%",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingTop:14,paddingBottom:14,paddingLeft:14,paddingRight:6,gap:8},children:[(0,Ft.jsxs)(wo.default,{style:{flexDirection:"row",alignItems:"center",gap:12},children:[(0,Ft.jsx)(mH,{width:32}),(0,Ft.jsx)(wo.default,{style:{paddingTop:4},children:(0,Ft.jsx)(EW,{width:80,fill:o.atoms.text.color})})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.gap_sm],children:[(0,Ft.jsx)(Sr,{onPress:g,label:t({id:"1hMWR6"}),size:"small",variant:"solid",color:"primary",children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"1hMWR6"})})}),(0,Ft.jsx)(Sr,{onPress:p,label:t({id:"5lWFkC"}),size:"small",variant:"solid",color:"secondary",children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"5lWFkC"})})})]})]})}),e[10]=t,e[11]=n,e[12]=m,e[13]=u,e[14]=s,e[15]=d,e[16]=g,e[17]=p,e[18]=o.atoms.text,e[19]=c,e[20]=_):_=e[20],e[21]!==x||e[22]!==_?(y=(0,Ft.jsx)(ko.default.View,{role:"navigation",style:x,children:_}),e[21]=x,e[22]=_,e[23]=y):y=e[23],y}const $Q=e=>{const t=(0,i.c)(30),{children:s,href:n,routeName:o,hasNew:r,notificationCount:a}=e,{_:l}=(0,ft.useLingui)(),{currentAccount:c}=xh(),d=(0,va.useNavigationState)(GQ),u="Profile"===d.name&&"Profile"===o&&d.params.name!==c?.handle;let m,h,p,f,g,x,_,y,b,j;if(t[0]!==s||t[1]!==c?.handle||t[2]!==d.name||t[3]!==d.params||t[4]!==n||t[5]!==u||t[6]!==o){const e="Profile"===d.name?PP(d.name,o)&&d.params.name===("Profile"===o?c?.handle:d.params.name):PP(d.name,o);m=HP,h=n,t[15]===Symbol.for("react.memo_cache_sentinel")?(p=[ZW.ctrl,kl.pb_lg],t[15]=p):p=t[15],f=u?"push":"navigate",g="link",x=o,_=!0,y=s({isActive:e}),t[0]=s,t[1]=c?.handle,t[2]=d.name,t[3]=d.params,t[4]=n,t[5]=u,t[6]=o,t[7]=m,t[8]=h,t[9]=p,t[10]=f,t[11]=g,t[12]=x,t[13]=_,t[14]=y}else m=t[7],h=t[8],p=t[9],f=t[10],g=t[11],x=t[12],_=t[13],y=t[14];return t[16]!==l||t[17]!==r||t[18]!==a?(b=a?(0,Ft.jsx)(wo.default,{style:[ZW.notificationCount,ZW.notificationCountWeb],"aria-label":l({id:"QMy5iY",values:{notificationCount:a}}),children:(0,Ft.jsx)(fr,{style:ZW.notificationCountLabel,children:a})}):r?(0,Ft.jsx)(wo.default,{style:ZW.hasNewBadge}):null,t[16]=l,t[17]=r,t[18]=a,t[19]=b):b=t[19],t[20]!==m||t[21]!==h||t[22]!==p||t[23]!==f||t[24]!==g||t[25]!==x||t[26]!==_||t[27]!==y||t[28]!==b?(j=(0,Ft.jsxs)(m,{href:h,style:p,navigationAction:f,"aria-role":g,"aria-label":x,accessible:_,children:[y,b]}),t[20]=m,t[21]=h,t[22]=p,t[23]=f,t[24]=g,t[25]=x,t[26]=_,t[27]=y,t[28]=b,t[29]=j):j=t[29],j};function GQ(e){return e?CP(e):{name:"Home"}}const YQ=e=>["handle",e],JQ=e=>["did",e];function XQ(e){const t=(0,i.c)(6),s=(0,wd.useQueryClient)(),n=bh();let o,r;return t[0]!==n?(o=async e=>{const{handle:t}=e;await n.updateHandle({handle:t})},t[0]=n,t[1]=o):o=t[1],t[2]!==e||t[3]!==s||t[4]!==o?(r={mutationFn:o,onSuccess(t,n){e?.onSuccess?.(n.handle),s.invalidateQueries({queryKey:YQ(n.handle)})}},t[2]=e,t[3]=s,t[4]=o,t[5]=r):r=t[5],(0,Sd.useMutation)(r)}let eK=e=>{const t=(0,i.c)(29),{_:s}=(0,ft.useLingui)(),{requestSwitchToAccount:n}=oj(),o=Om();let r;t[0]!==o||t[1]!==n?(r=()=>{o(),n({requestedAccount:"none"})},t[0]=o,t[1]=n,t[2]=r):r=t[2];const a=r;let l;t[3]!==o||t[4]!==n?(l=()=>{o(),n({requestedAccount:"new"})},t[3]=o,t[4]=n,t[5]=l):l=t[5];const c=l;let d,u,m,h,p,f,g,x,_,y,b,j,v,w;return t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[{maxWidth:200}],t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(pv,{to:"/",label:"Bluesky - Home",children:(0,Ft.jsx)(mH,{width:32})}),t[7]=u):u=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.pt_lg],t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(wo.default,{style:m,children:(0,Ft.jsx)(fr,{style:[kl.text_3xl,kl.font_heavy,{lineHeight:kl.text_3xl.fontSize}],children:(0,Ft.jsx)(ft.Trans,{id:"fEV8+b"})})}),t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_row,kl.flex_wrap,kl.gap_sm,kl.pt_md],t[10]=p):p=t[10],t[11]!==s?(f=s({id:"1hMWR6"}),t[11]=s,t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"1hMWR6"})}),t[13]=g):g=t[13],t[14]!==c||t[15]!==f?(x=(0,Ft.jsx)(Sr,{onPress:c,label:f,size:"small",variant:"solid",color:"primary",children:g}),t[14]=c,t[15]=f,t[16]=x):x=t[16],t[17]!==s?(_=s({id:"5lWFkC"}),t[17]=s,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"5lWFkC"})}),t[19]=y):y=t[19],t[20]!==a||t[21]!==_?(b=(0,Ft.jsx)(Sr,{onPress:a,label:_,size:"small",variant:"solid",color:"secondary",children:y}),t[20]=a,t[21]=_,t[22]=b):b=t[22],t[23]!==x||t[24]!==b?(j=(0,Ft.jsxs)(wo.default,{style:p,children:[x,b]}),t[23]=x,t[24]=b,t[25]=j):j=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(wo.default,{style:[kl.mt_md,kl.w_full,{height:32}],children:(0,Ft.jsx)(OZ,{})}),t[26]=v):v=t[26],t[27]!==j?(w=(0,Ft.jsxs)(wo.default,{style:d,children:[u,h,j,v]}),t[27]=j,t[28]=w):w=t[28],w};eK=mt.memo(eK);const tK=zr({path:"M3.293 3.293A1 1 0 0 1 4 3h7.25a1 1 0 1 1 0 2H5v14h6.25a1 1 0 1 1 0 2H4a1 1 0 0 1-1-1V4a1 1 0 0 1 .293-.707Zm11.5 3.5a1 1 0 0 1 1.414 0l4.5 4.5a1 1 0 0 1 0 1.414l-4.5 4.5a1 1 0 0 1-1.414-1.414L17.586 13H8.75a1 1 0 1 1 0-2h8.836l-2.793-2.793a1 1 0 0 1 0-1.414Z"}),sK=(zr({path:"M6 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h5.25a1 1 0 1 1 0 2H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h5.25a1 1 0 1 1 0 2H6Zm8.793 1.793a1 1 0 0 1 1.414 0l4.5 4.5a1 1 0 0 1 0 1.414l-4.5 4.5a1 1 0 0 1-1.414-1.414L17.586 13H8.75a1 1 0 1 1 0-2h8.836l-2.793-2.793a1 1 0 0 1 0-1.414Z"}),zr({path:"M17.293 2.293a1 1 0 0 1 1.414 0l3 3a1 1 0 0 1 0 1.414l-9 9A1 1 0 0 1 12 16H9a1 1 0 0 1-1-1v-3a1 1 0 0 1 .293-.707l9-9ZM10 12.414V14h1.586l8-8L18 4.414l-8 8ZM3 4a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H5v14h14v-6a1 1 0 1 1 2 0v7a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V4Z"})),nK=28;function oK(){const e=(0,i.c)(49),{currentAccount:t,accounts:s}=xh(),{logoutEveryAccount:n}=_h();let o,r;e[0]!==s?(o=s.map(rK),e[0]=s,e[1]=o):o=e[1],e[2]!==o?(r={handles:o},e[2]=o,e[3]=r):r=e[3];const{isLoading:a,data:l}=mb(r),c=l?.profiles,d=Ar(),{leftNavMinimal:u}=Ul(),{_:m}=(0,ft.useLingui)(),h=ec();let p;e[4]!==t||e[5]!==c?(p=c?.find((e=>e.did===t.did)),e[4]=t,e[5]=c,e[6]=p):p=e[6];const f=p;let g;if(e[7]!==s||e[8]!==t||e[9]!==c){let n,o;e[11]!==t?(n=e=>e.did!==t.did,e[11]=t,e[12]=n):n=e[12],e[13]!==c?(o=e=>({account:e,profile:c?.find((t=>t.did===e.did))}),e[13]=c,e[14]=o):o=e[14],g=s.filter(n).map(o),e[7]=s,e[8]=t,e[9]=c,e[10]=g}else g=e[10];const x=g,{isActive:_}=nS(f);let y,b,j,v,w,S,k,C,P,T;return e[15]!==u?(y=!u&&[kl.w_full,kl.align_start],e[15]=u,e[16]=y):y=e[16],e[17]!==y?(b=[kl.my_md,y],e[17]=y,e[18]=b):b=e[18],e[19]!==m||e[20]!==a||e[21]!==u||e[22]!==_||e[23]!==x||e[24]!==f||e[25]!==d||e[26]!==h?(j=!a&&f?(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:m({id:"jlyyGp"}),children:e=>{const{props:t,state:s,control:n}=e,o=s.hovered||s.focused||n.isOpen;return(0,Ft.jsxs)(Sr,Object.assign({label:t.accessibilityLabel},t,{style:[kl.w_full,kl.transition_color,o?h.atoms.bg_contrast_25:kl.transition_delay_50ms,kl.rounded_full,kl.justify_between,kl.align_center,kl.flex_row,{gap:6},!u&&[kl.pl_lg,kl.pr_md]],children:[(0,Ft.jsx)(wo.default,{style:[!Ks()&&[kl.transition_transform,{transitionDuration:"250ms"},!o&&kl.transition_delay_50ms],kl.relative,kl.z_10,o&&{transform:[{scale:u?.8:.6666666666666666},{translateX:u?0:-22}]}],children:(0,Ft.jsx)(mP,{avatar:f.avatar,size:48,type:f?.associated?.labeler?"labeler":"user",live:_})}),!u&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.transition_opacity,!o&&kl.transition_delay_50ms,{marginLeft:-1*eo.xl,opacity:o?1:0}],children:[(0,Ft.jsx)(fr,{style:[kl.font_heavy,kl.text_sm,kl.leading_snug],numberOfLines:1,children:Qf(f.displayName||f.handle)}),(0,Ft.jsx)(fr,{style:[kl.text_xs,kl.leading_snug,h.atoms.text_contrast_medium],numberOfLines:1,children:su(f.handle,"@")})]}),(0,Ft.jsx)(lT,{"aria-hidden":!0,style:[h.atoms.text_contrast_medium,kl.transition_opacity,{opacity:o?1:0}],size:"sm"})]})]}))}}),(0,Ft.jsx)(iK,{accounts:x,signOutPromptControl:d})]}):(0,Ft.jsx)(vT,{width:48,height:48,style:[{borderRadius:48},!u&&kl.ml_lg]}),e[19]=m,e[20]=a,e[21]=u,e[22]=_,e[23]=x,e[24]=f,e[25]=d,e[26]=h,e[27]=j):j=e[27],e[28]!==m?(v=m({id:"NES1ey"}),e[28]=m,e[29]=v):v=e[29],e[30]!==m?(w=m({id:"jZnhlB"}),e[30]=m,e[31]=w):w=e[31],e[32]!==n?(S=()=>n("Settings"),e[32]=n,e[33]=S):S=e[33],e[34]!==m?(k=m({id:"fcWrnU"}),e[34]=m,e[35]=k):k=e[35],e[36]!==m?(C=m({id:"dEgA5A"}),e[36]=m,e[37]=C):C=e[37],e[38]!==d||e[39]!==k||e[40]!==C||e[41]!==v||e[42]!==w||e[43]!==S?(P=(0,Ft.jsx)(bx,{control:d,title:v,description:w,onConfirm:S,confirmButtonCta:k,cancelButtonCta:C,confirmButtonColor:"negative"}),e[38]=d,e[39]=k,e[40]=C,e[41]=v,e[42]=w,e[43]=S,e[44]=P):P=e[44],e[45]!==P||e[46]!==b||e[47]!==j?(T=(0,Ft.jsxs)(wo.default,{style:b,children:[j,P]}),e[45]=P,e[46]=b,e[47]=j,e[48]=T):T=e[48],T}function rK(e){return e.did}function iK(e){const t=(0,i.c)(23),{accounts:s,signOutPromptControl:n}=e,{_:o}=(0,ft.useLingui)(),{setShowLoggedOut:r}=oj(),a=Om();let l;t[0]!==a||t[1]!==r?(l=()=>{r(!0),a()},t[0]=a,t[1]=r,t[2]=l):l=t[2];const c=l;let d,u,m,h,p,f,g,x,_,y;return t[3]!==s?(d=s&&s.length>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(LC,{children:[(0,Ft.jsx)(TC,{children:(0,Ft.jsx)(ft.Trans,{id:"iSn7SN"})}),s.map(aK)]}),(0,Ft.jsx)(AC,{})]}),t[3]=s,t[4]=d):d=t[4],t[5]!==o?(u=o({id:"O5JHbm"}),t[5]=o,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(CC,{icon:kS}),t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"O5JHbm"})}),t[8]=h):h=t[8],t[9]!==c||t[10]!==u?(p=(0,Ft.jsxs)(SC,{label:u,onPress:c,children:[m,h]}),t[9]=c,t[10]=u,t[11]=p):p=t[11],t[12]!==o?(f=o({id:"fcWrnU"}),t[12]=o,t[13]=f):f=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(CC,{icon:tK}),t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"fcWrnU"})}),t[15]=x):x=t[15],t[16]!==n.open||t[17]!==f?(_=(0,Ft.jsxs)(SC,{label:f,onPress:n.open,children:[g,x]}),t[16]=n.open,t[17]=f,t[18]=_):_=t[18],t[19]!==_||t[20]!==d||t[21]!==p?(y=(0,Ft.jsxs)(wC,{children:[d,p,_]}),t[19]=_,t[20]=d,t[21]=p,t[22]=y):y=t[22],y}function aK(e){return(0,Ft.jsx)(lK,{account:e.account,profile:e.profile},e.account.did)}function lK(e){const t=(0,i.c)(22),{account:s,profile:n}=e,{_:o}=(0,ft.useLingui)(),{onPressSwitchAccount:r,pendingDid:a}=MW(),{isActive:l}=nS(n),c=!!a;let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.gap_sm,{minWidth:150}],t[0]=d):d=t[0];const u=s.did,m=n?.handle??s.handle;let h,p;t[1]!==o||t[2]!==m?(h=o({id:"1+P9RR",values:{0:su(m,"@")}}),t[1]=o,t[2]=m,t[3]=h):h=t[3],t[4]!==s||t[5]!==r?(p=()=>r(s,"SwitchAccount"),t[4]=s,t[5]=r,t[6]=p):p=t[6];const f=n?.avatar,g=n?.associated?.labeler?"labeler":"user";let x;t[7]!==l||t[8]!==f||t[9]!==g?(x=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(mP,{avatar:f,size:20,type:g,live:l,hideLiveBadge:!0})}),t[7]=l,t[8]=f,t[9]=g,t[10]=x):x=t[10];const _=n?.handle??s.handle;let y,b,j;return t[11]!==_?(y=su(_,"@"),t[11]=_,t[12]=y):y=t[12],t[13]!==y?(b=(0,Ft.jsx)(kC,{children:y}),t[13]=y,t[14]=b):b=t[14],t[15]!==s.did||t[16]!==c||t[17]!==b||t[18]!==h||t[19]!==p||t[20]!==x?(j=(0,Ft.jsxs)(SC,{disabled:c,style:d,label:h,onPress:p,children:[x,b]},u),t[15]=s.did,t[16]=c,t[17]=b,t[18]=h,t[19]=p,t[20]=x,t[21]=j):j=t[21],j}function cK({count:e,hasNew:t,href:s,icon:n,iconFilled:o,label:r}){const i=ec(),{_:a}=(0,ft.useLingui)(),{currentAccount:l}=xh(),{leftNavMinimal:c}=Ul(),[d]=mt.useMemo((()=>cv.matchPath(s)),[s]),u=(0,va.useNavigationState)((e=>e?CP(e):{name:"Home"}));let m="Profile"===u.name?PP(u.name,d)&&u.params.name===l?.handle:PP(u.name,d);const{onPress:h}=(0,Kj.default)({to:s}),p=mt.useCallback((e=>{e.ctrlKey||e.metaKey||e.altKey||(e.preventDefault(),m?Rt():h())}),[h,m]);return(0,Ft.jsxs)(MP,{style:[kl.flex_row,kl.align_center,kl.p_md,kl.rounded_sm,kl.gap_sm,kl.outline_inset_1,kl.transition_color],hoverStyle:i.atoms.bg_contrast_25,onPress:p,href:s,dataSet:{noUnderline:1},role:"link",accessibilityLabel:r,accessibilityHint:"",children:[(0,Ft.jsxs)(wo.default,{style:[kl.align_center,kl.justify_center,kl.z_10,{width:24,height:24},c&&{width:40,height:40}],children:[m?o:n,"string"===typeof e&&e?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,{right:-20}],children:(0,Ft.jsx)(fr,{accessibilityLabel:a({id:"j+WuXV",values:{count:e}}),accessibilityHint:"",accessible:!0,numberOfLines:1,style:[kl.absolute,kl.text_xs,kl.font_bold,kl.rounded_full,kl.text_center,kl.leading_tight,{top:"-10%",left:1===e.length?12:8,backgroundColor:i.palette.primary_500,color:i.palette.white,lineHeight:kl.text_sm.fontSize,paddingHorizontal:4,paddingVertical:1,minWidth:16},c&&[{top:"10%",left:1===e.length?20:16}]],children:e})}):t?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,{backgroundColor:i.palette.primary_500,width:8,height:8,right:-2,top:-4},c&&{right:4,top:2}]}):null]}),!c&&(0,Ft.jsx)(fr,{style:[kl.text_xl,m?kl.font_heavy:kl.font_normal],children:r})]})}function dK(){const{currentAccount:e}=xh(),{getState:t}=(0,va.useNavigation)(),{openComposer:s}=tw(),{_:n}=(0,ft.useLingui)(),{leftNavMinimal:o}=Ul(),[r,a]=mt.useState(!1),l=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n=async e=>e.startsWith("did:")?(await t.fetchQuery({staleTime:Ld.MINUTES.FIVE,queryKey:YQ(e),queryFn:()=>s.getProfile({actor:e})})).data.handle:e,e[0]=s,e[1]=t,e[2]=n):n=e[2],n}(),c=async()=>{const s=t()?.routes,n=s?.[s?.length-1];if("Profile"===n?.name){let t=n.params.name;if(t.startsWith("did:"))try{a(!0),t=await l(t)}catch(o){t=void 0}finally{a(!1)}if(!t||t===e?.handle||tu(t))return;return t}};return o?null:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.pl_md,kl.pt_xl],children:(0,Ft.jsxs)(Sr,{disabled:r,label:n({id:"AIa/f7"}),onPress:async()=>s({mention:await c()}),size:"large",variant:"solid",color:"primary",style:[kl.rounded_full],children:[(0,Ft.jsx)(Pr,{icon:sK,position:"left"}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"BUt50q"})})]})})}function uK(){const e=(0,i.c)(11),t=mx("default"),{_:s}=(0,ft.useLingui)(),n=rf(),o=n.numUnread,r=n.hasNew;let a,l,c,d;return e[0]!==t.text?(a=(0,Ft.jsx)(ZL,{style:t.text,"aria-hidden":!0,width:nK}),l=(0,Ft.jsx)(WL,{style:t.text,"aria-hidden":!0,width:nK}),e[0]=t.text,e[1]=a,e[2]=l):(a=e[1],l=e[2]),e[3]!==s?(c=s({id:"AHZflp"}),e[3]=s,e[4]=c):c=e[4],e[5]!==n.hasNew||e[6]!==n.numUnread||e[7]!==a||e[8]!==l||e[9]!==c?(d=(0,Ft.jsx)(cK,{href:"/messages",count:o,hasNew:r,icon:a,iconFilled:l,label:c}),e[5]=n.hasNew,e[6]=n.numUnread,e[7]=a,e[8]=l,e[9]=c,e[10]=d):d=e[10],d}function mK(){const e=(0,i.c)(23),{hasSession:t,currentAccount:s}=xh(),n=mx("default"),{_:o}=(0,ft.useLingui)(),{isDesktop:r}=jx(),{leftNavMinimal:a,centerColumnOffset:l}=Ul(),c=Nb(),d=pp(),u=On();if(!t&&!r)return null;const m=a&&hK.leftNavMinimal,h=-300+(l?ya:0);let p,f,g,x,_,y,b;return e[0]!==h?(p={translateX:h},e[0]=h,e[1]=p):p=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(f={translateX:"-100%"},e[2]=f):f=e[2],e[3]!==p?(g={transform:[p,f,...kl.scrollbar_offset.transform]},e[3]=p,e[4]=g):g=e[4],e[5]!==m||e[6]!==g?(x=[kl.px_xl,hK.leftNav,m,g],e[5]=m,e[6]=g,e[7]=x):x=e[7],e[8]!==t||e[9]!==a?(_=t?(0,Ft.jsx)(oK,{}):a?null:(0,Ft.jsx)(wo.default,{style:[kl.pt_xl],children:(0,Ft.jsx)(eK,{})}),e[8]=t,e[9]=a,e[10]=_):_=e[10],e[11]!==o||e[12]!==s||e[13]!==u||e[14]!==d||e[15]!==t||e[16]!==c||e[17]!==n?(y=t&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(cK,{href:"/",hasNew:d&&u("remove_show_latest_button"),icon:(0,Ft.jsx)(qW,{"aria-hidden":!0,width:nK,style:n.text}),iconFilled:(0,Ft.jsx)(UW,{"aria-hidden":!0,width:nK,style:n.text}),label:o({id:"i0qMbr"})}),(0,Ft.jsx)(cK,{href:"/search",icon:(0,Ft.jsx)(nC,{style:n.text,"aria-hidden":!0,width:nK}),iconFilled:(0,Ft.jsx)(WW,{style:n.text,"aria-hidden":!0,width:nK}),label:o({id:"8tjQCz"})}),(0,Ft.jsx)(cK,{href:"/notifications",count:c,icon:(0,Ft.jsx)(NW,{"aria-hidden":!0,width:nK,style:n.text}),iconFilled:(0,Ft.jsx)(VW,{"aria-hidden":!0,width:nK,style:n.text}),label:o({id:"iDNBZe"})}),(0,Ft.jsx)(uK,{}),(0,Ft.jsx)(cK,{href:"/feeds",icon:(0,Ft.jsx)(qF,{style:n.text,"aria-hidden":!0,width:nK}),iconFilled:(0,Ft.jsx)(UF,{style:n.text,"aria-hidden":!0,width:nK}),label:o({id:"2DoBvq"})}),(0,Ft.jsx)(cK,{href:"/lists",icon:(0,Ft.jsx)(RH,{style:n.text,"aria-hidden":!0,width:nK}),iconFilled:(0,Ft.jsx)(DH,{style:n.text,"aria-hidden":!0,width:nK}),label:o({id:"h16FyT"})}),(0,Ft.jsx)(cK,{href:s?cS(s):"/",icon:(0,Ft.jsx)(ZQ,{"aria-hidden":!0,width:nK,style:n.text}),iconFilled:(0,Ft.jsx)(QQ,{"aria-hidden":!0,width:nK,style:n.text}),label:o({id:"vERlcd"})}),(0,Ft.jsx)(cK,{href:"/settings",icon:(0,Ft.jsx)(LB,{"aria-hidden":!0,width:nK,style:n.text}),iconFilled:(0,Ft.jsx)(AB,{"aria-hidden":!0,width:nK,style:n.text}),label:o({id:"Tz0i8g"})}),(0,Ft.jsx)(dK,{})]}),e[11]=o,e[12]=s,e[13]=u,e[14]=d,e[15]=t,e[16]=c,e[17]=n,e[18]=y):y=e[18],e[19]!==x||e[20]!==_||e[21]!==y?(b=(0,Ft.jsxs)(wo.default,{role:"navigation",style:x,children:[_,y]}),e[19]=x,e[20]=_,e[21]=y,e[22]=b):b=e[22],b}const hK=Gn.default.create({leftNav:Object.assign({},kl.fixed,{top:0,paddingTop:10,paddingBottom:10,left:"50%",width:240,maxHeight:"100vh",overflowY:"auto"}),leftNavMinimal:Object.assign({paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0,height:"100%",width:86,alignItems:"center"},_o({overflowX:"hidden"})),backBtn:{position:"absolute",top:12,right:12,width:30,height:30}});function pK(){const e=(0,i.c)(31),t=ec(),{_:s}=(0,ft.useLingui)(),{data:n,error:o,isLoading:r}=MI(),a=cj(),l=dj(),c=(0,va.useNavigation)(),d=(0,va.useNavigationState)(fK);if(r){let s,n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[{gap:12}],e[0]=s):s=e[0],e[1]!==t?(n=Array(5).fill(0).map(((e,s)=>(0,Ft.jsx)(wo.default,{style:[kl.rounded_sm,t.atoms.bg_contrast_25,{height:16,width:s%2===0?"60%":"80%"}]},s))),e[1]=t,e[2]=n):n=e[2],e[3]!==n?(o=(0,Ft.jsx)(wo.default,{style:s,children:n}),e[3]=n,e[4]=o):o=e[4],o}if(o||!n)return null;let u,m,h,p,f,g,x;if(e[5]===Symbol.for("react.memo_cache_sentinel")?(u=[_o({gap:10,paddingVertical:2,overflowY:"auto"})],e[5]=u):u=e[5],e[6]!==c||e[7]!==n||e[8]!==d||e[9]!==a||e[10]!==l||e[11]!==t){let s;e[13]!==c||e[14]!==d||e[15]!==a||e[16]!==l||e[17]!==t?(s=e=>{const s=e.feedDescriptor,n="Home"===d.name&&s===a;return(0,Ft.jsx)(fv,Object.assign({label:e.displayName},xv((()=>{l(s),c.navigate("Home"),"Home"===d.name&&s===a&&Rt()})),{style:[kl.text_md,kl.leading_snug,n?[kl.font_bold,t.atoms.text]:[t.atoms.text_contrast_medium]],numberOfLines:1,children:e.displayName}),e.uri)},e[13]=c,e[14]=d,e[15]=a,e[16]=l,e[17]=t,e[18]=s):s=e[18],m=n.map(s),e[6]=c,e[7]=n,e[8]=d,e[9]=a,e[10]=l,e[11]=t,e[12]=m}else m=e[12];return e[19]!==s?(h=s({id:"FIJUJb"}),e[19]=s,e[20]=h):h=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.text_md,kl.leading_snug],e[21]=p):p=e[21],e[22]!==s?(f=s({id:"FIJUJb"}),e[22]=s,e[23]=f):f=e[23],e[24]!==h||e[25]!==f?(g=(0,Ft.jsx)(fv,{to:"/feeds",label:h,style:p,numberOfLines:1,children:f}),e[24]=h,e[25]=f,e[26]=g):g=e[26],e[27]!==u||e[28]!==m||e[29]!==g?(x=(0,Ft.jsxs)(wo.default,{style:u,children:[m,g]}),e[27]=u,e[28]=m,e[29]=g,e[30]=x):x=e[30],x}function fK(e){return e?CP(e):{name:"Home"}}function gK(e){const t=(0,i.c)(19),{profile:s,moderationOpts:n,onPress:o}=e,r=ec(),{_:a}=(0,ft.useLingui)(),l=(0,wd.useQueryClient)();let c;t[0]!==o||t[1]!==s||t[2]!==l?(c=()=>{By(l,s),o?.()},t[0]=o,t[1]=s,t[2]=l,t[3]=c):c=t[3];const d=c,u=`searchAutoCompleteResult-${s.handle}`;let m,h,p,f;return t[4]!==s?(m=cS(s),t[4]=s,t[5]=m):m=t[5],t[6]!==a||t[7]!==s.handle?(h=a({id:"tBW0ZQ",values:{0:s.handle}}),t[6]=a,t[7]=s.handle,t[8]=h):h=t[8],t[9]!==n||t[10]!==s||t[11]!==r?(p=e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.px_md,kl.py_sm,(t||o)&&r.atoms.bg_contrast_25],children:(0,Ft.jsx)(OC,{children:(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:n}),(0,Ft.jsx)(qC,{profile:s,moderationOpts:n})]})})})},t[9]=n,t[10]=s,t[11]=r,t[12]=p):p=t[12],t[13]!==d||t[14]!==u||t[15]!==m||t[16]!==h||t[17]!==p?(f=(0,Ft.jsx)(pv,{testID:u,to:m,label:h,onPress:d,children:p}),t[13]=d,t[14]=u,t[15]=m,t[16]=h,t[17]=p,t[18]=f):f=t[18],f}let xK=e=>{const t=(0,i.c)(31),{label:s,to:n,onPress:o,style:r}=e,a=mx("default");let l,c,d,u,m;t[0]===Symbol.for("react.memo_cache_sentinel")?(l={paddingVertical:16,paddingHorizontal:12},t[0]=l):l=t[0],t[1]!==a.border||t[2]!==r?(c=[a.border,l,r],t[1]=a.border,t[2]=r,t[3]=c):c=t[3],t[4]!==a.text?(d=[a.text],t[4]=a.text,t[5]=d):d=t[5],t[6]!==s||t[7]!==d?(u=(0,Ft.jsx)(Tx,{type:"md",style:d,children:s}),t[6]=s,t[7]=d,t[8]=u):u=t[8],t[9]!==c||t[10]!==u?(m=(0,Ft.jsx)(wo.default,{style:c,children:u}),t[9]=c,t[10]=u,t[11]=m):m=t[11];const h=m;if(o){let e;return t[12]!==h||t[13]!==s||t[14]!==o?(e=(0,Ft.jsx)(Ix.default,{onPress:o,accessibilityLabel:s,accessibilityHint:"",children:h}),t[12]=h,t[13]=s,t[14]=o,t[15]=e):e=t[15],e}let p,f,g,x,_,y;return t[16]===Symbol.for("react.memo_cache_sentinel")?(p={paddingVertical:16,paddingHorizontal:12},t[16]=p):p=t[16],t[17]!==a.border||t[18]!==r?(f=[a.border,p,r],t[17]=a.border,t[18]=r,t[19]=f):f=t[19],t[20]!==a.text?(g=[a.text],t[20]=a.text,t[21]=g):g=t[21],t[22]!==s||t[23]!==g?(x=(0,Ft.jsx)(Tx,{type:"md",style:g,children:s}),t[22]=s,t[23]=g,t[24]=x):x=t[24],t[25]!==f||t[26]!==x?(_=(0,Ft.jsx)(wo.default,{style:f,children:x}),t[25]=f,t[26]=x,t[27]=_):_=t[27],t[28]!==_||t[29]!==n?(y=(0,Ft.jsx)(HP,{href:n,asAnchor:!0,anchorNoUnderline:!0,children:_}),t[28]=_,t[29]=n,t[30]=y):y=t[30],y};function _K(){const e=(0,i.c)(24),{_:t}=(0,ft.useLingui)(),s=mx("default"),n=(0,va.useNavigation)(),[o,r]=mt.useState(!1),[a,l]=mt.useState(""),{data:c,isFetching:d}=QB(a,!0),u=Op();let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{l(e),r(e.length>0)},e[0]=m):m=e[0];const h=m;let p;e[1]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{l(""),r(!1)},e[1]=p):p=e[1];const f=p;let g;e[2]!==n||e[3]!==a?(g=()=>{r(!1),a.length&&n.dispatch(va.StackActions.push("Search",{q:a}))},e[2]=n,e[3]=a,e[4]=g):g=e[4];const x=g;let _;e[5]===Symbol.for("react.memo_cache_sentinel")?(_=()=>{l(""),r(!1)},e[5]=_):_=e[5];const y=_;let b,j,v,w;return e[6]!==s.view?(b=[yK.container,s.view],e[6]=s.view,e[7]=b):b=e[7],e[8]!==x||e[9]!==a?(j=(0,Ft.jsx)(Az,{value:a,onChangeText:h,onClearText:f,onSubmitEditing:x}),e[8]=x,e[9]=a,e[10]=j):j=e[10],e[11]!==t||e[12]!==c||e[13]!==o||e[14]!==d||e[15]!==u||e[16]!==s.borderDark||e[17]!==s.view||e[18]!==a?(v=""!==a&&o&&u&&(0,Ft.jsx)(wo.default,{style:[s.view,s.borderDark,yK.resultsContainer,kl.overflow_hidden],children:d&&!c?.length?(0,Ft.jsx)(wo.default,{style:{padding:8},children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(xK,{label:t({id:"6SGQjT",values:{query:a}}),to:`/search?q=${encodeURIComponent(a)}`,style:(c?.length??0)>0?{borderBottomWidth:1}:void 0}),c?.map((e=>(0,Ft.jsx)(gK,{profile:e,moderationOpts:u,onPress:y},e.did)))]})}),e[11]=t,e[12]=c,e[13]=o,e[14]=d,e[15]=u,e[16]=s.borderDark,e[17]=s.view,e[18]=a,e[19]=v):v=e[19],e[20]!==b||e[21]!==j||e[22]!==v?(w=(0,Ft.jsxs)(wo.default,{style:b,children:[j,v]}),e[20]=b,e[21]=j,e[22]=v,e[23]=w):w=e[23],w}xK=mt.memo(xK);const yK=Gn.default.create({container:{position:"relative",width:"100%"},resultsContainer:{marginTop:10,flexDirection:"column",width:"100%",borderWidth:1,borderRadius:6}}),bK=6;function jK(){const e=(0,i.c)(3),{enabled:t}=Zb(),{trendingDisabled:s}=fd();let n;return e[0]!==t||e[1]!==s?(n=t?s?null:(0,Ft.jsx)(vK,{}):null,e[0]=t,e[1]=s,e[2]=n):n=e[2],n}function vK(){const e=(0,i.c)(11),t=ec(),{_:s}=(0,ft.useLingui)(),n=Ar(),{setTrendingDisabled:o}=gd(),{data:r,error:a,isLoading:l}=qE(),c=!l&&!a&&!r?.topics?.length;let d;e[0]!==o?(d=()=>{En("trendingTopics:hide",{context:"sidebar"}),o(!0)},e[0]=o,e[1]=d):d=e[1];const u=d;let m;return e[2]!==s||e[3]!==a||e[4]!==l||e[5]!==c||e[6]!==u||e[7]!==t||e[8]!==r||e[9]!==n?(m=a||c?null:(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,{paddingBottom:2}],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(UE,{size:"sm"}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.text_sm,kl.font_bold,t.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"4/iCqx"})}),(0,Ft.jsx)(Sr,{label:s({id:"rht3N9"}),size:"tiny",variant:"ghost",color:"secondary",shape:"round",onPress:()=>n.open(),children:(0,Ft.jsx)(Pr,{icon:Hr})})]}),(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,{gap:"6px 4px"}],children:l?Array(bK).fill(0).map(SK):r?.topics?(0,Ft.jsx)(Ft.Fragment,{children:r.topics.slice(0,bK).map((e=>(0,Ft.jsx)(tM,{topic:e,onPress:wK,children:s=>{const{hovered:n}=s;return(0,Ft.jsx)(XE,{size:"small",topic:e,style:[n&&[t.atoms.border_contrast_high,t.atoms.bg_contrast_25]]})}},e.link)))}):null})]}),(0,Ft.jsx)(bx,{control:n,title:s({id:"DRuhGd"}),description:s({id:"wD+g5e"}),confirmButtonCta:s({id:"vLyv1R"}),onConfirm:u}),(0,Ft.jsx)(Iv,{})]}),e[2]=s,e[3]=a,e[4]=l,e[5]=c,e[6]=u,e[7]=t,e[8]=r,e[9]=n,e[10]=m):m=e[10],m}function wK(){En("trendingTopic:click",{context:"sidebar"})}function SK(e,t){return(0,Ft.jsx)(eM,{size:"small",index:t},t)}function kK(e){const t=(0,i.c)(63),{routeName:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),{hasSession:r,currentAccount:a}=xh(),l=Wc();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=["base",0,"base","wide"],t[0]=c):c=t[0];const d=Kl(c),u="Search"===s,m=function(){const e=(0,i.c)(4),t=(0,va.useNavigation)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s={},e[0]=s):s=e[0];const[n,o]=(0,mt.useState)(s);let r,a;return e[1]!==t?(r=()=>t.addListener("state",(e=>{try{const{state:t}=e.data,s=t.routes[t.routes.length-1];o(s.params)}catch(b){}})),a=[t,o],e[1]=t,e[2]=r,e[3]=a):(r=e[2],a=e[3]),(0,mt.useEffect)(r,a),n}(),h=m?.q,p=!u||u&&!!h,{rightNavVisible:f,centerColumnOffset:g,leftNavMinimal:x}=Ul();if(!f)return null;const _=g?250:300,y=300+(g?ya:0);let b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z;return t[1]!==d.paddingLeft||t[2]!==y||t[3]!==_?(b=_o({position:"fixed",left:"50%",transform:[{translateX:y},...kl.scrollbar_offset.transform],width:_+d.paddingLeft,maxHeight:"100%",overflowY:"auto"}),t[1]=d.paddingLeft,t[2]=y,t[3]=_,t[4]=b):b=t[4],t[5]!==d||t[6]!==b?(j=[d,kl.gap_lg,b],t[5]=d,t[6]=b,t[7]=j):j=t[7],t[8]!==u?(v=!u&&(0,Ft.jsx)(_K,{}),t[8]=u,t[9]=v):v=t[9],t[10]!==r?(w=r&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(pE,{}),(0,Ft.jsx)(pK,{}),(0,Ft.jsx)(Iv,{})]}),t[10]=r,t[11]=w):w=t[11],t[12]!==p?(S=p&&(0,Ft.jsx)(jK,{}),t[12]=p,t[13]=S):S=t[13],t[14]!==n.atoms.text_contrast_low?(k=[kl.leading_snug,n.atoms.text_contrast_low],t[14]=n.atoms.text_contrast_low,t[15]=k):k=t[15],t[16]!==o||t[17]!==a?.email||t[18]!==a?.handle||t[19]!==r?(C=r&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fv,{to:ii({email:a?.email,handle:a?.handle}),label:o({id:"YirHq7"}),children:o({id:"YirHq7"})})," \u2022 "]}),t[16]=o,t[17]=a?.email,t[18]=a?.handle,t[19]=r,t[20]=C):C=t[20],t[21]!==o?(P=o({id:"rjGI/Q"}),t[21]=o,t[22]=P):P=t[22],t[23]!==o?(T=o({id:"rjGI/Q"}),t[23]=o,t[24]=T):T=t[24],t[25]!==P||t[26]!==T?(L=(0,Ft.jsx)(fv,{to:"https://bsky.social/about/support/privacy-policy",label:P,children:T}),t[25]=P,t[26]=T,t[27]=L):L=t[27],t[28]!==o?(A=o({id:"4Y5H+g"}),t[28]=o,t[29]=A):A=t[29],t[30]!==o?(I=o({id:"4Y5H+g"}),t[30]=o,t[31]=I):I=t[31],t[32]!==A||t[33]!==I?(R=(0,Ft.jsx)(fv,{to:"https://bsky.social/about/support/tos",label:A,children:I}),t[32]=A,t[33]=I,t[34]=R):R=t[34],t[35]!==o?(D=o({id:"c3XJ18"}),t[35]=o,t[36]=D):D=t[36],t[37]!==o?(F=o({id:"c3XJ18"}),t[37]=o,t[38]=F):F=t[38],t[39]!==D||t[40]!==F?(E=(0,Ft.jsx)(fv,{label:D,to:ei,children:F}),t[39]=D,t[40]=F,t[41]=E):E=t[41],t[42]!==L||t[43]!==R||t[44]!==E||t[45]!==k||t[46]!==C?(M=(0,Ft.jsxs)(fr,{style:k,children:[C,L," \u2022 ",R," \u2022 ",E]}),t[42]=L,t[43]=R,t[44]=E,t[45]=k,t[46]=C,t[47]=M):M=t[47],t[48]!==o||t[49]!==l||t[50]!==n.atoms.text_contrast_medium?(B=l&&(0,Ft.jsx)(fr,{style:[n.atoms.text_contrast_medium,{marginTop:12}],children:(0,Ft.jsx)(ft.Trans,{id:"4xQ0N2",components:{0:(0,Ft.jsx)(fv,{label:o({id:"OvMZwr"}),to:"/profile/sawaratsuki.bsky.social"})}})}),t[48]=o,t[49]=l,t[50]=n.atoms.text_contrast_medium,t[51]=B):B=t[51],t[52]!==r||t[53]!==x?(O=!r&&x&&(0,Ft.jsx)(wo.default,{style:[kl.w_full,{height:32}],children:(0,Ft.jsx)(OZ,{})}),t[52]=r,t[53]=x,t[54]=O):O=t[54],t[55]!==M||t[56]!==B||t[57]!==O||t[58]!==j||t[59]!==v||t[60]!==w||t[61]!==S?(z=(0,Ft.jsxs)(wo.default,{style:j,children:[v,w,S,M,B,O]}),t[55]=M,t[56]=B,t[57]=O,t[58]=j,t[59]=v,t[60]=w,t[61]=S,t[62]=z):z=t[62],z}const CK=["id","initialRouteName","children","screenListeners","screenOptions"];const PK=(0,va.createNavigatorFactory)((function(e){const t=(0,i.c)(41);let s,n,o,r,a,l,c;if(t[0]!==e){var d=e;({id:n,initialRouteName:o,children:s,screenListeners:a,screenOptions:l}=d),r=(0,ls.default)(d,CK),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6];t[7]!==s||t[8]!==n||t[9]!==o||t[10]!==a||t[11]!==l?(c={id:n,initialRouteName:o,children:s,screenListeners:a,screenOptions:l},t[7]=s,t[8]=n,t[9]=o,t[10]=a,t[11]=l,t[12]=c):c=t[12];const{state:u,descriptors:m,navigation:h,NavigationContent:p}=(0,va.useNavigationBuilder)(va.StackRouter,c);let f,g;t[13]!==h||t[14]!==u.index||t[15]!==u.key?(f=()=>h?.addListener?.("tabPress",(e=>{const t=h.isFocused();requestAnimationFrame((()=>{u.index>0&&t&&!e.defaultPrevented&&h.dispatch(Object.assign({},va.StackActions.popToTop(),{target:u.key}))}))})),g=[h,u.index,u.key],t[13]=h,t[14]=u.index,t[15]=u.key,t[16]=f,t[17]=g):(f=t[16],g=t[17]),mt.useEffect(f,g);const{hasSession:x,currentAccount:_}=xh(),y=u.routes[u.index],b=m[y.key].options.requireAuth??!1,j=Qa(),{showLoggedOut:v}=nj(),{setShowLoggedOut:w}=oj(),{isMobile:S}=jx(),{leftNavMinimal:k}=Ul();if(!x&&(b||kt)){let e;return t[18]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(YZ,{}),t[18]=e):e=t[18],e}if(x&&_?.signupQueued){let e;return t[19]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(NQ,{}),t[19]=e):e=t[19],e}if(x&&"takendown"===_?.status){let e;return t[20]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(WQ,{}),t[20]=e):e=t[20],e}if(v){let e;return t[21]!==w?(e=(0,Ft.jsx)(YZ,{onDismiss:()=>w(!1)}),t[21]=w,t[22]=e):e=t[22],e}if("deactivated"===_?.status){let e;return t[23]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(XZ,{}),t[23]=e):e=t[23],e}if(j.isActive){let e;return t[24]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(OQ,{}),t[24]=e):e=t[24],e}let C;if(t[25]!==m||t[26]!==x){C={};for(const e in m){const t=m[e],s=t.options.requireAuth??!1;C[e]=Object.assign({},t,{render:()=>s&&!x?(0,Ft.jsx)(wo.default,{}):t.render()})}t[25]=m,t[26]=x,t[27]=C}else C=t[27];const P=x?S:k;let T,L,A;return t[28]!==h||t[29]!==C||t[30]!==r||t[31]!==u?(T=(0,Ft.jsx)(wo.default,{role:"main",style:kl.flex_1,children:(0,Ft.jsx)(QW.default,Object.assign({},r,{state:u,navigation:h,descriptors:C}))}),t[28]=h,t[29]=C,t[30]=r,t[31]=u,t[32]=T):T=t[32],t[33]!==y||t[34]!==S||t[35]!==P?(L=Pt&&(0,Ft.jsxs)(Ft.Fragment,{children:[P?(0,Ft.jsx)(KQ,{}):(0,Ft.jsx)(mK,{}),!S&&(0,Ft.jsx)(kK,{routeName:y.name})]}),t[33]=y,t[34]=S,t[35]=P,t[36]=L):L=t[36],t[37]!==p||t[38]!==T||t[39]!==L?(A=(0,Ft.jsxs)(p,{children:[T,L]}),t[37]=p,t[38]=T,t[39]=L,t[40]=A):A=t[40],A}));function TK(){const e=(0,i.c)(19),[t,s]=mt.useState("");let n,o,r,a,l,c,d,u,m,h,p,f,g,x,_,y,b;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n={backgroundColor:"red"},e[0]=n):n=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1],e[1]=o):o=e[1],e[2]!==t?(r=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(fr,{testID:"testOutput",children:t})}),e[2]=t,e[3]=r):r=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_wrap],e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.self_center],e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(Sr,{label:"btn",testID:"setStringBtn",style:l,variant:"solid",color:"primary",size:"small",onPress:async()=>{Ys("testerString"),Gs("testerString","Hello");const e=Js("testerString");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Set String"})}),e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.self_center],e[7]=d):d=e[7],e[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Sr,{label:"btn",testID:"removeStringBtn",style:d,variant:"solid",color:"primary",size:"small",onPress:async()=>{Ys("testerString");const e=Js("testerString");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Remove String"})}),e[8]=u):u=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.self_center],e[9]=m):m=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(Sr,{label:"btn",testID:"setBoolBtn",style:m,variant:"solid",color:"primary",size:"small",onPress:async()=>{Ys("testerBool"),Gs("testerBool",!0);const e=function(e){throw new Qs({key:e})}("testerBool");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Set Bool"})}),e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.self_center],e[11]=p):p=e[11],e[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(Sr,{label:"btn",testID:"setNumberBtn",style:p,variant:"solid",color:"primary",size:"small",onPress:async()=>{Ys("testerNumber"),Gs("testerNumber",123);const e=function(e){throw new Qs({key:e})}("testerNumber");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Set Number"})}),e[12]=f):f=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.self_center],e[13]=g):g=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Sr,{label:"btn",testID:"addToSetBtn",style:g,variant:"solid",color:"primary",size:"small",onPress:async()=>{Xs("testerSet","Hello!"),function(e,t){throw new Qs({key:e,value:t})}("testerSet","Hello!");const e=en("testerSet","Hello!");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Add to Set"})}),e[14]=x):x=e[14],e[15]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.self_center],e[15]=_):_=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsxs)(wo.default,{style:a,children:[c,u,h,f,x,(0,Ft.jsx)(Sr,{label:"btn",testID:"removeFromSetBtn",style:_,variant:"solid",color:"primary",size:"small",onPress:async()=>{Xs("testerSet","Hello!");const e=en("testerSet","Hello!");s(`${e}`)},children:(0,Ft.jsx)(Cr,{children:"Remove from Set"})})]}),e[16]=y):y=e[16],e[17]!==r?(b=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)($P,{contentContainerStyle:n,children:(0,Ft.jsxs)(wo.default,{style:o,children:[r,y]})})}),e[17]=r,e[18]=b):b=e[18],b}const LK=({item:e})=>(0,Ft.jsx)(iO,{post:e}),AK=(e,t)=>`${e.uri}-${t}`;function IK(e){const t=(0,i.c)(45),{route:s}=e,{tag:n,author:o}=s.params,{_:r}=(0,ft.useLingui)();let a;a=`#${decodeURIComponent(n)}`;const l=a;let c,d;t[0]!==l?(d=Iw(l.toLowerCase(),24,!0,"middle"),t[0]=l,t[1]=d):d=t[1],c=d;const u=c;let m;e:{if(!o){m=void 0;break e}let e;t[2]!==o?(e=su(o),t[2]=o,t[3]=e):e=t[3],m=e}const h=m;let p;t[4]!==o||t[5]!==n?(p=()=>{const e=new URL("https://bsky.app");e.pathname=`/hashtag/${decodeURIComponent(n)}`,o&&e.searchParams.set("author",o),iv(e.toString())},t[4]=o,t[5]=n,t[6]=p):p=t[6];const f=p,[g,x]=mt.useState(0),_=Na();let y,b;t[7]!==_?(y=()=>{_(!1)},t[7]=_,t[8]=y):y=t[8],(0,va.useFocusEffect)(y),t[9]!==_?(b=e=>{_(!1),x(e)},t[9]=_,t[10]=b):b=t[10];const j=b;let v,w;t[11]!==r?(w=r({id:"WWy8TN"}),t[11]=r,t[12]=w):w=t[12];const S=0===g;let k,C,P;t[13]!==o||t[14]!==l||t[15]!==S?(k=(0,Ft.jsx)(FK,{fullTag:l,author:o,sort:"top",active:S}),t[13]=o,t[14]=l,t[15]=S,t[16]=k):k=t[16],t[17]!==k||t[18]!==w?(C={title:w,component:k},t[17]=k,t[18]=w,t[19]=C):C=t[19],t[20]!==r?(P=r({id:"wL3cK8"}),t[20]=r,t[21]=P):P=t[21];const T=1===g;let L,A,I;t[22]!==o||t[23]!==l||t[24]!==T?(L=(0,Ft.jsx)(FK,{fullTag:l,author:o,sort:"latest",active:T}),t[22]=o,t[23]=l,t[24]=T,t[25]=L):L=t[25],t[26]!==P||t[27]!==L?(A={title:P,component:L},t[26]=P,t[27]=L,t[28]=A):A=t[28],t[29]!==C||t[30]!==A?(I=[C,A],t[29]=C,t[30]=A,t[31]=I):I=t[31],v=I;const R=v;let D,F,E;return t[32]!==r||t[33]!==o||t[34]!==u||t[35]!==f||t[36]!==h||t[37]!==R?(D=e=>(0,Ft.jsxs)(wl,{style:[kl.z_10,_o([kl.sticky,{top:0}])],children:[(0,Ft.jsxs)(il,{noBottomBorder:!0,children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsxs)(ll,{children:[(0,Ft.jsx)(ml,{children:u}),o&&(0,Ft.jsx)(hl,{children:r({id:"nTyWt9",values:{sanitizedAuthor:h}})})]}),(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(Sr,{label:r({id:"Z8lGw6"}),size:"small",variant:"ghost",color:"primary",shape:"round",onPress:f,hitSlop:vi,style:[{right:-3}],children:(0,Ft.jsx)(Pr,{icon:nT,size:"md"})})})]}),(0,Ft.jsx)(lH,Object.assign({items:R.map(DK)},e))]}),t[32]=r,t[33]=o,t[34]=u,t[35]=f,t[36]=h,t[37]=R,t[38]=D):D=t[38],t[39]!==R?(F=R.map(RK),t[39]=R,t[40]=F):F=t[40],t[41]!==j||t[42]!==D||t[43]!==F?(E=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(_H,{onPageSelected:j,renderTabBar:D,initialPage:0,children:F})}),t[41]=j,t[42]=D,t[43]=F,t[44]=E):E=t[44],E}function RK(e,t){return(0,Ft.jsx)(wo.default,{children:e.component},t)}function DK(e){return e.title}function FK(e){const t=(0,i.c)(27),{fullTag:s,author:n,sort:o,active:r}=e,{_:a}=(0,ft.useLingui)(),l=kF(),[c,d]=mt.useState(!1);let u;u=n?`${s} from:${n}`:s;const m=u;let h;t[0]!==r||t[1]!==m||t[2]!==o?(h={query:m,sort:o,enabled:r},t[0]=r,t[1]=m,t[2]=o,t[3]=h):h=t[3];const{data:p,isFetched:f,isFetchingNextPage:g,isLoading:x,isError:_,error:y,refetch:b,fetchNextPage:j,hasNextPage:v}=Og(h);let w,S;t[4]!==p?.pages?(S=p?.pages.flatMap(EK)||[],t[4]=p?.pages,t[5]=S):S=t[5],w=S;const k=w;let C;t[6]!==b?(C=async()=>{d(!0),await b(),d(!1)},t[6]=b,t[7]=C):C=t[7];const P=C;let T;t[8]!==y||t[9]!==j||t[10]!==v||t[11]!==g?(T=()=>{g||!v||y||j()},t[8]=y,t[9]=j,t[10]=v,t[11]=g,t[12]=T):T=t[12];const L=T;let A;return t[13]!==a||t[14]!==y||t[15]!==j||t[16]!==l||t[17]!==_||t[18]!==f||t[19]!==g||t[20]!==x||t[21]!==c||t[22]!==L||t[23]!==P||t[24]!==k||t[25]!==b?(A=(0,Ft.jsx)(Ft.Fragment,{children:k.length<1?(0,Ft.jsx)(QH,{isLoading:x||!f,isError:_,onRetry:b,emptyType:"results",emptyMessage:a({id:"3jqx5m"})}):(0,Ft.jsx)(MF,{data:k,renderItem:LK,keyExtractor:AK,refreshing:c,onRefresh:P,onEndReached:L,onEndReachedThreshold:4,desktopFixedHeight:!0,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:g,error:ds(y),onRetry:j}),initialNumToRender:l,windowSize:11})}),t[13]=a,t[14]=y,t[15]=j,t[16]=l,t[17]=_,t[18]=f,t[19]=g,t[20]=x,t[21]=c,t[22]=L,t[23]=P,t[24]=k,t[25]=b,t[26]=A):A=t[26],A}function EK(e){return e.posts}function MK(){const e=(0,i.c)(2),[t,s]=(0,mt.useState)(gt.default.currentState);let n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{const e=gt.default.addEventListener("change",(e=>{s(e)}));return()=>e.remove()},o=[],e[0]=n,e[1]=o):(n=e[0],o=e[1]),(0,mt.useEffect)(n,o),t}const BK=4e3,OK=3e4,zK=[1,408,425,429,500,502,503,504,522,524];function HK(e){const t=(0,i.c)(36),{control:s,onNewChat:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),a=ew();let l,c,d;t[0]!==n?(l=e=>{n(e.convo.id),e.convo.lastMessage||En("chat:create",{logContext:"NewChatDialog"}),En("chat:open",{logContext:"NewChatDialog"})},t[0]=n,t[1]=l):l=t[1],t[2]!==r?(c=e=>{ys.error("Failed to create chat",{safeMessage:e}),Zu(r({id:"x8Jzj8"}),"xmark")},t[2]=r,t[3]=c):c=t[3],t[4]!==l||t[5]!==c?(d={onSuccess:l,onError:c},t[4]=l,t[5]=c,t[6]=d):d=t[6];const{mutate:u}=NL(d);let m;t[7]!==s||t[8]!==u?(m=e=>{s.close((()=>u([e])))},t[7]=s,t[8]=u,t[9]=m):m=t[9];const h=m;let p;t[10]!==s?(p=()=>{s.open()},t[10]=s,t[11]=p):p=t[11];const f=p;let g,x;t[12]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(ft.Trans,{id:"oYqWde"},"new-chat"),t[12]=g):g=t[12],t[13]!==f||t[14]!==a?(x=a(f,{instructions:[g]}),t[13]=f,t[14]=a,t[15]=x):x=t[15];const _=x;let y,b,j,v,w,S,k,C;return t[16]!==o.palette.white?(y=(0,Ft.jsx)(kS,{size:"lg",fill:o.palette.white}),t[16]=o.palette.white,t[17]=y):y=t[17],t[18]!==r?(b=r({id:"hIQkLb"}),t[18]=r,t[19]=b):b=t[19],t[20]!==y||t[21]!==b||t[22]!==_?(j=(0,Ft.jsx)(kz,{testID:"newChatFAB",onPress:_,icon:y,accessibilityRole:"button",accessibilityLabel:b,accessibilityHint:""}),t[20]=y,t[21]=b,t[22]=_,t[23]=j):j=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ha,{}),t[24]=v):v=t[24],t[25]!==r?(w=r({id:"vPF04k"}),t[25]=r,t[26]=w):w=t[26],t[27]!==h||t[28]!==w?(S=(0,Ft.jsx)($B,{title:w,onSelectChat:h,sortByMessageDeclaration:!0}),t[27]=h,t[28]=w,t[29]=S):S=t[29],t[30]!==s||t[31]!==S?(k=(0,Ft.jsxs)(aa,{control:s,testID:"newChatDialog",children:[v,S]}),t[30]=s,t[31]=S,t[32]=k):k=t[32],t[33]!==j||t[34]!==k?(C=(0,Ft.jsxs)(Ft.Fragment,{children:[j,k]}),t[33]=j,t[34]=k,t[35]=C):C=t[35],C}function NK(e){const t=(0,i.c)(2),s=(0,mt.useRef)(!0);let n;t[0]!==e?(n=()=>{s.current?s.current=!1:e()},t[0]=e,t[1]=n):n=t[1],(0,va.useFocusEffect)(n)}function VK({children:e}){return e}function qK(e){const t=(0,i.c)(35),{control:s,listBlocks:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c,d,u,m,h,p,f,g,x,_,y,b,j;return t[0]!==o?(a=o({id:"1053kv"}),t[0]=o,t[1]=a):a=t[1],t[2]!==a?(l=(0,Ft.jsx)(fx,{children:a}),t[2]=a,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.gap_sm,kl.pb_lg],t[4]=c):c=t[4],t[5]!==r.atoms.text_contrast_high?(d=[kl.text_md,kl.leading_snug,r.atoms.text_contrast_high],t[5]=r.atoms.text_contrast_high,t[6]=d):d=t[6],t[7]!==o?(u=o({id:"7NUyow"}),t[7]=o,t[8]=u):u=t[8],t[9]!==d||t[10]!==u?(m=(0,Ft.jsxs)(fr,{selectable:!0,style:d,children:[u," "]}),t[9]=d,t[10]=u,t[11]=m):m=t[11],t[12]!==r.atoms.text_contrast_high?(h=[kl.text_md,kl.leading_snug,r.atoms.text_contrast_high],t[12]=r.atoms.text_contrast_high,t[13]=h):h=t[13],t[14]!==o?(p=o({id:"HfP5SP"}),t[14]=o,t[15]=p):p=t[15],t[16]!==n?(f=n.map(WK),t[16]=n,t[17]=f):f=t[17],t[18]!==h||t[19]!==p||t[20]!==f?(g=(0,Ft.jsxs)(fr,{style:h,children:[p," ",f]}),t[18]=h,t[19]=p,t[20]=f,t[21]=g):g=t[21],t[22]!==g||t[23]!==m?(x=(0,Ft.jsxs)(wo.default,{style:c,children:[m,g]}),t[22]=g,t[23]=m,t[24]=x):x=t[24],t[25]!==o?(_=o({id:"5ZRfjk"}),t[25]=o,t[26]=_):_=t[26],t[27]!==_?(y=(0,Ft.jsx)(xx,{children:(0,Ft.jsx)(yx,{cta:_,onPress:UK})}),t[27]=_,t[28]=y):y=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ma,{}),t[29]=b):b=t[29],t[30]!==s||t[31]!==x||t[32]!==y||t[33]!==l?(j=(0,Ft.jsxs)(px,{control:s,testID:"blockedByListDialog",children:[l,x,y,b]}),t[30]=s,t[31]=x,t[32]=y,t[33]=l,t[34]=j):j=t[34],j}function UK(){}function WK(e,t){return"list"===e.source.type?(0,Ft.jsxs)(mt.Fragment,{children:[0===t?null:", ",(0,Ft.jsx)(fv,{label:e.source.list.name,to:wu(e.source.list.uri),style:[kl.text_md,kl.leading_snug],children:e.source.list.name})]},e.source.list.uri):null}function ZK(e){const t=(0,i.c)(23),{control:s,convoId:n,currentScreen:o,hasMessages:r}=e,a=void 0===r||r,{_:l}=(0,ft.useLingui)(),c=(0,va.useNavigation)();let d,u,m;t[0]!==o||t[1]!==c?(d=()=>{"conversation"===o&&c.dispatch(va.StackActions.replace("Messages",kt?{animation:"pop"}:{}))},t[0]=o,t[1]=c,t[2]=d):d=t[2],t[3]!==l?(u=()=>{Zu(l({id:"HuPfYi"}),"xmark")},t[3]=l,t[4]=u):u=t[4],t[5]!==d||t[6]!==u?(m={onMutate:d,onError:u},t[5]=d,t[6]=u,t[7]=m):m=t[7];const{mutate:h}=qp(n,m);let p,f,g,x,_;return t[8]!==l?(p=l({id:"KqSFMK"}),t[8]=l,t[9]=p):p=t[9],t[10]!==l||t[11]!==a?(f=l(a?{id:"Qt9Wua"}:{id:"FYoSw1"}),t[10]=l,t[11]=a,t[12]=f):f=t[12],t[13]!==l?(g=l({id:"Mv8CyJ"}),t[13]=l,t[14]=g):g=t[14],t[15]!==h?(x=()=>h(),t[15]=h,t[16]=x):x=t[16],t[17]!==s||t[18]!==p||t[19]!==f||t[20]!==g||t[21]!==x?(_=(0,Ft.jsx)(bx,{control:s,title:p,description:f,confirmButtonCta:g,confirmButtonColor:"negative",onConfirm:x}),t[17]=s,t[18]=p,t[19]=f,t[20]=g,t[21]=x,t[22]=_):_=t[22],_}function QK(e){const t=(0,i.c)(11),{control:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a,l;return t[0]!==n?(o=n({id:"a5ISwI"}),t[0]=n,t[1]=o):o=t[1],t[2]!==n?(r=n({id:"H9TXyE"}),t[2]=n,t[3]=r):r=t[3],t[4]!==n?(a=n({id:"5ZRfjk"}),t[4]=n,t[5]=a):a=t[5],t[6]!==s||t[7]!==o||t[8]!==r||t[9]!==a?(l=(0,Ft.jsx)(bx,{control:s,title:o,description:r,confirmButtonCta:a,onConfirm:KK,showCancel:!1}),t[6]=s,t[7]=o,t[8]=r,t[9]=a,t[10]=l):l=t[10],l}function KK(){}const $K="https://bsky.social/about/support/copyright";function GK(e){const t=(0,i.c)(71),s=ec(),{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),r=function(){const e=(0,i.c)(133),{_:t}=(0,ft.useLingui)();let s,n,o,r;e[0]!==t?(n=t({id:"/IX/7x"}),e[0]=t,e[1]=n):n=e[1],e[2]!==t?(o=t({id:"Gecthh"}),e[2]=t,e[3]=o):o=e[3],e[4]!==n||e[5]!==o?(r={reason:Is.ComAtprotoModerationDefs.REASONOTHER,title:n,description:o},e[4]=n,e[5]=o,e[6]=r):r=e[6];const a=r;let l,c,d,u,m,h,p;e[7]!==t?(l=t({id:"5YKKp/"}),e[7]=t,e[8]=l):l=e[8],e[9]!==t?(c=t({id:"Fa8GQW"}),e[9]=t,e[10]=c):c=e[10],e[11]!==l||e[12]!==c?(d={reason:Is.ComAtprotoModerationDefs.REASONRUDE,title:l,description:c},e[11]=l,e[12]=c,e[13]=d):d=e[13],e[14]!==t?(u=t({id:"X0PCFk"}),e[14]=t,e[15]=u):u=e[15],e[16]!==t?(m=t({id:"Fb3yW0"}),e[16]=t,e[17]=m):m=e[17],e[18]!==u||e[19]!==m?(h={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:u,description:m},e[18]=u,e[19]=m,e[20]=h):h=e[20],e[21]!==a||e[22]!==d||e[23]!==h?(p=[d,h,a],e[21]=a,e[22]=d,e[23]=h,e[24]=p):p=e[24];const f=p;let g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te;return e[25]!==t?(g=t({id:"38207K"}),e[25]=t,e[26]=g):g=e[26],e[27]!==t?(x=t({id:"GzS4cV"}),e[27]=t,e[28]=x):x=e[28],e[29]!==g||e[30]!==x?(_={reason:Is.ComAtprotoModerationDefs.REASONMISLEADING,title:g,description:x},e[29]=g,e[30]=x,e[31]=_):_=e[31],e[32]!==t?(y=t({id:"3FqIIo"}),e[32]=t,e[33]=y):y=e[33],e[34]!==t?(b=t({id:"Z6ZbJ1"}),e[34]=t,e[35]=b):b=e[35],e[36]!==y||e[37]!==b?(j={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:y,description:b},e[36]=y,e[37]=b,e[38]=j):j=e[38],e[39]!==t?(v=t({id:"bVpe82"}),e[39]=t,e[40]=v):v=e[40],e[41]!==t?(w=t({id:"25FVfk"}),e[41]=t,e[42]=w):w=e[42],e[43]!==v||e[44]!==w?(S={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:v,description:w},e[43]=v,e[44]=w,e[45]=S):S=e[45],e[46]!==a||e[47]!==_||e[48]!==j||e[49]!==S?(k=[_,j,S,a],e[46]=a,e[47]=_,e[48]=j,e[49]=S,e[50]=k):k=e[50],e[51]!==t?(C=t({id:"/t1ulD"}),e[51]=t,e[52]=C):C=e[52],e[53]!==t?(P=t({id:"YuTh5x"}),e[53]=t,e[54]=P):P=e[54],e[55]!==C||e[56]!==P?(T={reason:Is.ComAtprotoModerationDefs.REASONMISLEADING,title:C,description:P},e[55]=C,e[56]=P,e[57]=T):T=e[57],e[58]!==t?(L=t({id:"t8dIOP"}),e[58]=t,e[59]=L):L=e[59],e[60]!==t?(A=t({id:"0Z6Esc"}),e[60]=t,e[61]=A):A=e[61],e[62]!==L||e[63]!==A?(I={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:L,description:A},e[62]=L,e[63]=A,e[64]=I):I=e[64],e[65]!==t?(R=t({id:"tzH4Ef"}),e[65]=t,e[66]=R):R=e[66],e[67]!==t?(D=t({id:"y7WKap"}),e[67]=t,e[68]=D):D=e[68],e[69]!==R||e[70]!==D?(F={reason:Is.ComAtprotoModerationDefs.REASONSEXUAL,title:R,description:D},e[69]=R,e[70]=D,e[71]=F):F=e[71],e[72]!==f||e[73]!==T||e[74]!==I||e[75]!==F?(E=[T,I,F,...f],e[72]=f,e[73]=T,e[74]=I,e[75]=F,e[76]=E):E=e[76],e[77]!==t?(M=t({id:"t8dIOP"}),e[77]=t,e[78]=M):M=e[78],e[79]!==t?(B=t({id:"z1CSnu"}),e[79]=t,e[80]=B):B=e[80],e[81]!==M||e[82]!==B?(O={reason:Is.ComAtprotoModerationDefs.REASONSPAM,title:M,description:B},e[81]=M,e[82]=B,e[83]=O):O=e[83],e[84]!==t?(z=t({id:"tzH4Ef"}),e[84]=t,e[85]=z):z=e[85],e[86]!==t?(H=t({id:"VaMWkl"}),e[86]=t,e[87]=H):H=e[87],e[88]!==z||e[89]!==H?(N={reason:Is.ComAtprotoModerationDefs.REASONSEXUAL,title:z,description:H},e[88]=z,e[89]=H,e[90]=N):N=e[90],e[91]!==f||e[92]!==O||e[93]!==N?(V=[O,N,...f],e[91]=f,e[92]=O,e[93]=N,e[94]=V):V=e[94],e[95]!==t?(q=t({id:"bVpe82"}),e[95]=t,e[96]=q):q=e[96],e[97]!==t?(U=t({id:"25FVfk"}),e[97]=t,e[98]=U):U=e[98],e[99]!==q||e[100]!==U?(W={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:q,description:U},e[99]=q,e[100]=U,e[101]=W):W=e[101],e[102]!==f||e[103]!==W?(Z=[W,...f],e[102]=f,e[103]=W,e[104]=Z):Z=e[104],e[105]!==t?(Q=t({id:"bVpe82"}),e[105]=t,e[106]=Q):Q=e[106],e[107]!==t?(K=t({id:"25FVfk"}),e[107]=t,e[108]=K):K=e[108],e[109]!==Q||e[110]!==K?($={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:Q,description:K},e[109]=Q,e[110]=K,e[111]=$):$=e[111],e[112]!==f||e[113]!==$?(G=[$,...f],e[112]=f,e[113]=$,e[114]=G):G=e[114],e[115]!==t?(Y=t({id:"bVpe82"}),e[115]=t,e[116]=Y):Y=e[116],e[117]!==t?(J=t({id:"25FVfk"}),e[117]=t,e[118]=J):J=e[118],e[119]!==Y||e[120]!==J?(X={reason:Is.ComAtprotoModerationDefs.REASONVIOLATION,title:Y,description:J},e[119]=Y,e[120]=J,e[121]=X):X=e[121],e[122]!==f||e[123]!==X?(ee=[X,...f],e[122]=f,e[123]=X,e[124]=ee):ee=e[124],e[125]!==f||e[126]!==k||e[127]!==E||e[128]!==V||e[129]!==Z||e[130]!==G||e[131]!==ee?(te={account:k,post:E,convoMessage:V,list:Z,starterpack:G,feedgen:ee,other:f},e[125]=f,e[126]=k,e[127]=E,e[128]=V,e[129]=Z,e[130]=G,e[131]=ee,e[132]=te):te=e[132],s=te,s}(),a=r[e.params.type];let l,c;t[0]!==n?(c=n({id:"ihoxGh"}),t[0]=n,t[1]=c):c=t[1];let d,u=c;t[2]!==n?(d=n({id:"pQAGVB"}),t[2]=n,t[3]=d):d=t[3];let m,h=d;if("account"===e.params.type){let e,s;t[4]!==n?(e=n({id:"VrWRia"}),t[4]=n,t[5]=e):e=t[5],u=e,t[6]!==n?(s=n({id:"Q3g9qz"}),t[6]=n,t[7]=s):s=t[7],h=s}else if("post"===e.params.type){let e,s;t[8]!==n?(e=n({id:"cWnUgT"}),t[8]=n,t[9]=e):e=t[9],u=e,t[10]!==n?(s=n({id:"pyWD3P"}),t[10]=n,t[11]=s):s=t[11],h=s}else if("list"===e.params.type){let e,s;t[12]!==n?(e=n({id:"0071ig"}),t[12]=n,t[13]=e):e=t[13],u=e,t[14]!==n?(s=n({id:"s1bQLm"}),t[14]=n,t[15]=s):s=t[15],h=s}else if("feedgen"===e.params.type){let e,s;t[16]!==n?(e=n({id:"qsxqJR"}),t[16]=n,t[17]=e):e=t[17],u=e,t[18]!==n?(s=n({id:"Jbnxhu"}),t[18]=n,t[19]=s):s=t[19],h=s}else if("starterpack"===e.params.type){let e,s;t[20]!==n?(e=n({id:"tpQ5Li"}),t[20]=n,t[21]=e):e=t[21],u=e,t[22]!==n?(s=n({id:"HCPEOj"}),t[22]=n,t[23]=s):s=t[23],h=s}else if("convoMessage"===e.params.type){let e,s;t[24]!==n?(e=n({id:"kdD6aV"}),t[24]=n,t[25]=e):e=t[25],u=e,t[26]!==n?(s=n({id:"epz4wG"}),t[26]=n,t[27]=s):s=t[27],h=s}t[28]!==h||t[29]!==u?(m={title:u,description:h},t[28]=h,t[29]=u,t[30]=m):m=t[30],l=m;const p=l;let f,g;t[31]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.gap_lg],t[31]=f):f=t[31],t[32]!==n||t[33]!==e.goBack||t[34]!==e.labelers?.length?(g=e.labelers?.length>1?(0,Ft.jsx)(Sr,{size:"small",variant:"solid",color:"secondary",shape:"round",label:n({id:"p19nbp"}),onPress:e.goBack,children:(0,Ft.jsx)(Pr,{icon:ZT})}):null,t[32]=n,t[33]=e.goBack,t[34]=e.labelers?.length,t[35]=g):g=t[35];const x=o?kl.gap_sm:kl.gap_xs;let _,y,b,j,v,w,S,k,C,P,T,L;if(t[36]!==x?(_=[kl.justify_center,x],t[36]=x,t[37]=_):_=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.text_2xl,kl.font_bold],t[38]=y):y=t[38],t[39]!==p.title?(b=(0,Ft.jsx)(fr,{style:y,children:p.title}),t[39]=p.title,t[40]=b):b=t[40],t[41]!==s.atoms.text_contrast_medium?(j=[kl.text_md,s.atoms.text_contrast_medium],t[41]=s.atoms.text_contrast_medium,t[42]=j):j=t[42],t[43]!==p.description||t[44]!==j?(v=(0,Ft.jsx)(fr,{style:j,children:p.description}),t[43]=p.description,t[44]=j,t[45]=v):v=t[45],t[46]!==v||t[47]!==_||t[48]!==b?(w=(0,Ft.jsxs)(wo.default,{style:_,children:[b,v]}),t[46]=v,t[47]=_,t[48]=b,t[49]=w):w=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(Iv,{}),t[50]=S):S=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.gap_sm],t[51]=k):k=t[51],t[52]!==n||t[53]!==e||t[54]!==a){let s;t[56]!==n||t[57]!==e?(s=t=>(0,Ft.jsx)(Sr,{testID:t.reason,label:n({id:"CL7So+",values:{0:t.title}}),onPress:()=>e.onSelectReportOption(t),children:(0,Ft.jsx)(YK,{title:t.title,description:t.description})},t.reason),t[56]=n,t[57]=e,t[58]=s):s=t[58],C=a.map(s),t[52]=n,t[53]=e,t[54]=a,t[55]=C}else C=t[55];return t[59]!==n||t[60]!==e.params.type||t[61]!==s.atoms.bg_contrast_900||t[62]!==s.atoms.text_inverted?(P=("post"===e.params.type||"account"===e.params.type)&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.justify_between,kl.gap_lg,kl.p_md,kl.pl_lg,kl.rounded_md,s.atoms.bg_contrast_900],children:[(0,Ft.jsx)(fr,{style:[kl.flex_1,s.atoms.text_inverted,kl.italic,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"GfSsim"})}),(0,Ft.jsxs)(pv,{to:$K,label:n({id:"HuVZOr"}),size:"small",variant:"solid",color:"secondary",children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"2Eoi/a"})}),(0,Ft.jsx)(Pr,{position:"right",icon:nP})]})]}),t[59]=n,t[60]=e.params.type,t[61]=s.atoms.bg_contrast_900,t[62]=s.atoms.text_inverted,t[63]=P):P=t[63],t[64]!==C||t[65]!==P?(T=(0,Ft.jsxs)(wo.default,{style:k,children:[C,P]}),t[64]=C,t[65]=P,t[66]=T):T=t[66],t[67]!==w||t[68]!==T||t[69]!==g?(L=(0,Ft.jsxs)(wo.default,{style:f,children:[g,w,S,T]}),t[67]=w,t[68]=T,t[69]=g,t[70]=L):L=t[70],L}function YK(e){const t=(0,i.c)(23),{title:s,description:n}=e,o=ec(),{hovered:r,pressed:a}=wr(),l=r||a;let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={paddingRight:70},t[0]=c):c=t[0];const d=l&&o.atoms.bg_contrast_50;let u,m,h,p,f,g,x,_,y,b;return t[1]!==o.atoms.bg_contrast_25||t[2]!==d?(u=[kl.w_full,kl.flex_row,kl.align_center,kl.justify_between,kl.p_md,kl.rounded_md,c,o.atoms.bg_contrast_25,d],t[1]=o.atoms.bg_contrast_25,t[2]=d,t[3]=u):u=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.flex_1,kl.gap_xs],t[4]=m):m=t[4],t[5]!==o.atoms.text_contrast_medium?(h=[kl.text_md,kl.font_bold,o.atoms.text_contrast_medium],t[5]=o.atoms.text_contrast_medium,t[6]=h):h=t[6],t[7]!==h||t[8]!==s?(p=(0,Ft.jsx)(fr,{style:h,children:s}),t[7]=h,t[8]=s,t[9]=p):p=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.leading_tight,{maxWidth:400}],t[10]=f):f=t[10],t[11]!==n?(g=(0,Ft.jsx)(fr,{style:f,children:n}),t[11]=n,t[12]=g):g=t[12],t[13]!==p||t[14]!==g?(x=(0,Ft.jsxs)(wo.default,{style:m,children:[p,g]}),t[13]=p,t[14]=g,t[15]=x):x=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.absolute,kl.inset_0,kl.justify_center,kl.pr_md,{left:"auto"}],t[16]=_):_=t[16],t[17]!==o.atoms.text_contrast_low.color?(y=(0,Ft.jsx)(wo.default,{style:_,children:(0,Ft.jsx)(QT,{size:"md",fill:o.atoms.text_contrast_low.color})}),t[17]=o.atoms.text_contrast_low.color,t[18]=y):y=t[18],t[19]!==y||t[20]!==u||t[21]!==x?(b=(0,Ft.jsxs)(wo.default,{style:u,children:[x,y]}),t[19]=y,t[20]=u,t[21]=x,t[22]=b):b=t[22],b}var JK=s(77585);let XK=function(e){return e.Uninitialized="uninitialized",e.Initializing="initializing",e.Ready="ready",e.Error="error",e.Backgrounded="backgrounded",e.Suspended="suspended",e.Disabled="disabled",e}({}),e$=function(e){return e.FirehoseFailed="firehoseFailed",e.HistoryFailed="historyFailed",e}({}),t$=function(e){return e.InitFailed="initFailed",e}({}),s$=function(e){return e.Init="init",e.Ready="ready",e.Resume="resume",e.Background="background",e.Suspend="suspend",e.Error="error",e.Disable="disable",e}({});const n$=_s.create(_s.Context.ConversationAgent);function o$(e){return!!e&&("message"===e.type||"deleted-message"===e.type||"pending-message"===e.type)}class r${status=XK.Uninitialized;oldestRev=void 0;isFetchingHistory=!1;latestRev=void 0;pastMessages=new Map;newMessages=new Map;pendingMessages=new Map;deletedMessages=new Set;isProcessingPendingMessages=!1;emitter=new At.default;constructor(e){this.id=(0,Xt.nanoid)(3),this.convoId=e.convoId,this.agent=e.agent,this.events=e.events,this.senderUserDid=e.agent.session?.did,e.placeholderData&&this.setupPlaceholderData(e.placeholderData),this.subscribe=this.subscribe.bind(this),this.getSnapshot=this.getSnapshot.bind(this),this.sendMessage=this.sendMessage.bind(this),this.deleteMessage=this.deleteMessage.bind(this),this.fetchMessageHistory=this.fetchMessageHistory.bind(this),this.ingestFirehose=this.ingestFirehose.bind(this),this.onFirehoseConnect=this.onFirehoseConnect.bind(this),this.onFirehoseError=this.onFirehoseError.bind(this),this.markConvoAccepted=this.markConvoAccepted.bind(this),this.addReaction=this.addReaction.bind(this),this.removeReaction=this.removeReaction.bind(this)}commit(){this.snapshot=void 0,this.subscribers.forEach((e=>e()))}subscribers=[];subscribe(e){return 0===this.subscribers.length&&this.init(),this.subscribers.push(e),()=>{this.subscribers=this.subscribers.filter((t=>t!==e)),0===this.subscribers.length&&this.suspend()}}getSnapshot(){return this.snapshot||(this.snapshot=this.generateSnapshot()),this.snapshot}generateSnapshot(){switch(this.status){case XK.Initializing:return{status:XK.Initializing,items:[],convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:this.isFetchingHistory,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0};case XK.Disabled:case XK.Suspended:case XK.Backgrounded:case XK.Ready:return{status:this.status,items:this.getItems(),convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:this.isFetchingHistory,deleteMessage:this.deleteMessage,sendMessage:this.sendMessage,fetchMessageHistory:this.fetchMessageHistory,markConvoAccepted:this.markConvoAccepted,addReaction:this.addReaction,removeReaction:this.removeReaction};case XK.Error:return{status:XK.Error,items:[],convo:void 0,error:this.error,sender:void 0,recipients:void 0,isFetchingHistory:!1,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0};default:return{status:XK.Uninitialized,items:[],convo:this.convo,error:void 0,sender:this.sender,recipients:this.recipients,isFetchingHistory:!1,deleteMessage:void 0,sendMessage:void 0,fetchMessageHistory:void 0,markConvoAccepted:void 0,addReaction:void 0,removeReaction:void 0}}}dispatch(e){const t=this.status;switch(this.status){case XK.Uninitialized:if(e.event===s$.Init)this.status=XK.Initializing,this.setup(),this.setupFirehose(),this.requestPollInterval(BK);break;case XK.Initializing:switch(e.event){case s$.Ready:this.status=XK.Ready,this.fetchMessageHistory();break;case s$.Background:this.status=XK.Backgrounded,this.fetchMessageHistory(),this.requestPollInterval(6e4);break;case s$.Suspend:this.status=XK.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Error:this.status=XK.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Disable:this.status=XK.Disabled,this.fetchMessageHistory(),this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case XK.Ready:switch(e.event){case s$.Resume:this.refreshConvo(),this.requestPollInterval(BK);break;case s$.Background:this.status=XK.Backgrounded,this.requestPollInterval(6e4);break;case s$.Suspend:this.status=XK.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Error:this.status=XK.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Disable:this.status=XK.Disabled,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case XK.Backgrounded:switch(e.event){case s$.Resume:this.wasChatInactive()?this.reset():(this.convo?(this.status=XK.Ready,this.refreshConvo(),this.maybeRecoverFromNetworkError()):(this.status=XK.Initializing,this.setup()),this.requestPollInterval(BK));break;case s$.Suspend:this.status=XK.Suspended,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Error:this.status=XK.Error,this.error=e.payload,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval();break;case s$.Disable:this.status=XK.Disabled,this.cleanupFirehoseConnection?.(),this.withdrawRequestedPollInterval()}break;case XK.Suspended:switch(e.event){case s$.Init:case s$.Resume:this.reset();break;case s$.Error:this.status=XK.Error,this.error=e.payload;break;case s$.Disable:this.status=XK.Disabled}break;case XK.Error:switch(e.event){case s$.Init:case s$.Resume:this.reset();break;case s$.Suspend:this.status=XK.Suspended;break;case s$.Error:this.status=XK.Error,this.error=e.payload;break;case s$.Disable:this.status=XK.Disabled}case XK.Disabled:}n$.debug(`Convo: dispatch '${e.event}'`,{id:this.id,prev:t,next:this.status}),this.updateLastActiveTimestamp(),this.commit()}reset(){this.convo=void 0,this.sender=void 0,this.recipients=void 0,this.snapshot=void 0,this.status=XK.Uninitialized,this.error=void 0,this.oldestRev=void 0,this.latestRev=void 0,this.pastMessages=new Map,this.newMessages=new Map,this.pendingMessages=new Map,this.deletedMessages=new Set,this.pendingMessageFailure=null,this.fetchMessageHistoryError=void 0,this.firehoseError=void 0,this.dispatch({event:s$.Init})}maybeRecoverFromNetworkError(){this.firehoseError?(this.firehoseError.retry(),this.firehoseError=void 0,this.commit()):this.batchRetryPendingMessages(),this.fetchMessageHistoryError&&(this.fetchMessageHistoryError.retry(),this.fetchMessageHistoryError=void 0,this.commit())}setupPlaceholderData(e){this.convo=e.convo,this.sender=e.convo.members.find((e=>e.did===this.senderUserDid)),this.recipients=e.convo.members.filter((e=>e.did!==this.senderUserDid))}async setup(){try{const{convo:e,sender:t,recipients:s}=await this.fetchConvo();if(this.convo=e,this.sender=t,this.recipients=s,!this.convo)throw new Error("Convo: could not find convo");if(!this.sender)throw new Error("Convo: could not find sender in convo");if(!this.recipients)throw new Error("Convo: could not find recipients in convo");Boolean(this.sender.chatDisabled)?this.dispatch({event:s$.Disable}):this.dispatch({event:s$.Ready})}catch(e){n$.error(e,{message:"Convo: setup failed"}),this.dispatch({event:s$.Error,payload:{exception:e,code:t$.InitFailed,retry:()=>{this.reset()}}}),this.commit()}}init(){this.dispatch({event:s$.Init})}resume(){this.dispatch({event:s$.Resume})}background(){this.dispatch({event:s$.Background})}suspend(){this.dispatch({event:s$.Suspend})}updateLastActiveTimestamp(){this.lastActiveTimestamp=Date.now()}wasChatInactive(){return!this.lastActiveTimestamp||Date.now()-this.lastActiveTimestamp>3e5}requestPollInterval(e){this.withdrawRequestedPollInterval(),this.requestedPollInterval=this.events.requestPollInterval(e)}withdrawRequestedPollInterval(){this.requestedPollInterval&&this.requestedPollInterval()}async fetchConvo(){return this.pendingFetchConvo||(this.pendingFetchConvo=new Promise((async(e,t)=>{try{const t=(await Nm(2,(()=>this.agent.api.chat.bsky.convo.getConvo({convoId:this.convoId},{headers:kp})))).data.convo;e({convo:t,sender:t.members.find((e=>e.did===this.senderUserDid)),recipients:t.members.filter((e=>e.did!==this.senderUserDid))})}catch(s){t(s)}finally{this.pendingFetchConvo=void 0}}))),this.pendingFetchConvo}async refreshConvo(){try{const{convo:e,sender:t,recipients:s}=await this.fetchConvo();this.convo=e||this.convo,this.sender=t||this.sender,this.recipients=s||this.recipients}catch(e){n$.error(e,{message:"Convo: failed to refresh convo"})}}async fetchMessageHistory(){if(n$.debug("Convo: fetch message history",{}),null!==this.oldestRev&&!this.isFetchingHistory&&!this.fetchMessageHistoryError)try{this.isFetchingHistory=!0,this.commit();const e=this.oldestRev,t=await Nm(2,(()=>this.agent.api.chat.bsky.convo.getMessages({cursor:e,convoId:this.convoId,limit:kt?30:60},{headers:kp}))),{cursor:s,messages:n}=t.data;this.oldestRev=s??null;for(const o of n)(Is.ChatBskyConvoDefs.isMessageView(o)||Is.ChatBskyConvoDefs.isDeletedMessageView(o))&&(this.newMessages.has(o.id)&&this.newMessages.delete(o.id),this.pastMessages.set(o.id,o))}catch(e){n$.error("Convo: failed to fetch message history"),this.fetchMessageHistoryError={retry:()=>{this.fetchMessageHistory()}}}finally{this.isFetchingHistory=!1,this.commit()}}setupFirehose(){this.cleanupFirehoseConnection?.(),this.cleanupFirehoseConnection=this.events.on((e=>{switch(e.type){case"connect":this.onFirehoseConnect();break;case"error":this.onFirehoseError(e.error);break;case"logs":this.ingestFirehose(e.logs)}}),{convoId:this.convoId})}onFirehoseConnect(){this.firehoseError=void 0,this.batchRetryPendingMessages(),this.commit()}onFirehoseError(e){this.firehoseError=e,this.commit()}ingestFirehose(e){let t=!1;for(const s of e)if("rev"in s&&"string"===typeof s.rev){const e=!this.latestRev,n=this.latestRev&&s.rev>this.latestRev;void 0===this.oldestRev&&e&&(this.oldestRev=s.rev),(n||e)&&(this.latestRev=s.rev,Is.ChatBskyConvoDefs.isLogCreateMessage(s)&&Is.ChatBskyConvoDefs.isMessageView(s.message)?(this.newMessages.has(s.message.id)&&this.newMessages.delete(s.message.id),this.newMessages.set(s.message.id,s.message),t=!0):Is.ChatBskyConvoDefs.isLogDeleteMessage(s)&&Is.ChatBskyConvoDefs.isDeletedMessageView(s.message)?(this.pastMessages.has(s.message.id)||this.newMessages.has(s.message.id))&&(this.pastMessages.delete(s.message.id),this.newMessages.delete(s.message.id),this.deletedMessages.delete(s.message.id),t=!0):(Is.ChatBskyConvoDefs.isLogAddReaction(s)||Is.ChatBskyConvoDefs.isLogRemoveReaction(s))&&Is.ChatBskyConvoDefs.isMessageView(s.message)&&(this.pastMessages.has(s.message.id)&&(this.pastMessages.set(s.message.id,s.message),t=!0),this.newMessages.has(s.message.id)&&(this.newMessages.set(s.message.id,s.message),t=!0)))}t&&this.commit()}pendingMessageFailure=null;sendMessage(e){if(!e.text.trim()&&!e.embed)return;n$.debug("Convo: send message",{});const t=(0,Xt.nanoid)();this.pendingMessageFailure=null,this.pendingMessages.set(t,{id:t,message:e}),"request"===this.convo?.status&&(this.convo=Object.assign({},this.convo,{status:"accepted"})),this.commit(),this.isProcessingPendingMessages||this.pendingMessageFailure||this.processPendingMessages()}markConvoAccepted(){this.convo&&(this.convo=Object.assign({},this.convo,{status:"accepted"})),this.commit()}async processPendingMessages(){n$.debug(`Convo: processing messages (${this.pendingMessages.size} remaining)`,{});const e=Array.from(this.pendingMessages.values()).shift();if(e)try{this.isProcessingPendingMessages=!0;const{id:t,message:s}=e,n=(await this.agent.api.chat.bsky.convo.sendMessage({convoId:this.convoId,message:s},{encoding:"application/json",headers:kp})).data;this.pendingMessages.delete(t),this.newMessages.set(n.id,Object.assign({},n,{$type:"chat.bsky.convo.defs#messageView"})),this.commit(),await this.processPendingMessages()}catch(t){n$.error(t,{message:"Convo: failed to send message"}),this.handleSendMessageFailure(t),this.isProcessingPendingMessages=!1}else this.isProcessingPendingMessages=!1}handleSendMessageFailure(e){if(e instanceof JK.XRPCError)if(zK.includes(e.status))this.pendingMessageFailure="recoverable";else switch(this.pendingMessageFailure="unrecoverable",e.message){case"block between recipient and sender":this.emitter.emit("event",{type:"invalidate-block-state",accountDids:[this.sender.did,...this.recipients.map((e=>e.did))]});break;case"Account is disabled":this.dispatch({event:s$.Disable});break;case"Convo not found":case"Account does not exist":case"recipient does not exist":case"recipient requires incoming messages to come from someone they follow":case"recipient has disabled incoming messages":break;default:n$.warn("Convo handleSendMessageFailure could not handle error",{status:e.status,message:e.message})}else this.pendingMessageFailure="unrecoverable",n$.error(e,{message:"Convo handleSendMessageFailure received unknown error"});this.commit()}async batchRetryPendingMessages(){if(null===this.pendingMessageFailure)return;const e=Array.from(this.pendingMessages.values());if(0!==e.length){this.pendingMessageFailure=null,this.commit(),n$.debug(`Convo: batch retrying ${this.pendingMessages.size} pending messages`,{});try{const{data:t}=await this.agent.api.chat.bsky.convo.sendMessageBatch({items:e.map((({message:e})=>({convoId:this.convoId,message:e})))},{encoding:"application/json",headers:kp}),{items:s}=t;for(const e of s)this.newMessages.set(e.id,Object.assign({},e,{$type:"chat.bsky.convo.defs#messageView"}));for(const n of e)this.pendingMessages.delete(n.id);this.commit(),n$.debug(`Convo: sent ${this.pendingMessages.size} pending messages`,{})}catch(t){n$.error(t,{message:"Convo: failed to batch retry messages"}),this.handleSendMessageFailure(t)}}}async deleteMessage(e){n$.debug("Convo: delete message",{}),this.deletedMessages.add(e),this.commit();try{await Nm(2,(()=>this.agent.api.chat.bsky.convo.deleteMessageForSelf({convoId:this.convoId,messageId:e},{encoding:"application/json",headers:kp})))}catch(t){throw n$.error(t,{message:"Convo: failed to delete message"}),this.deletedMessages.delete(e),this.commit(),t}}on(e){return this.emitter.on("event",e),()=>{this.emitter.off("event",e)}}getItems(){const e=[];return this.pastMessages.forEach((t=>{Is.ChatBskyConvoDefs.isMessageView(t)?e.unshift({type:"message",key:t.id,message:t,nextMessage:null,prevMessage:null}):Is.ChatBskyConvoDefs.isDeletedMessageView(t)&&e.unshift({type:"deleted-message",key:t.id,message:t,nextMessage:null,prevMessage:null})})),this.fetchMessageHistoryError&&e.unshift({type:"error",code:e$.HistoryFailed,key:e$.HistoryFailed,retry:()=>{this.maybeRecoverFromNetworkError()}}),this.newMessages.forEach((t=>{Is.ChatBskyConvoDefs.isMessageView(t)?e.push({type:"message",key:t.id,message:t,nextMessage:null,prevMessage:null}):Is.ChatBskyConvoDefs.isDeletedMessageView(t)&&e.push({type:"deleted-message",key:t.id,message:t,nextMessage:null,prevMessage:null})})),this.pendingMessages.forEach((t=>{e.push({type:"pending-message",key:t.id,message:Object.assign({},t.message,{embed:void 0,$type:"chat.bsky.convo.defs#messageView",id:(0,Xt.nanoid)(),rev:"__fake__",sentAt:(new Date).toISOString(),sender:{$type:"chat.bsky.convo.defs#messageViewSender",did:this.sender.did}}),nextMessage:null,prevMessage:null,failed:null!==this.pendingMessageFailure,retry:"recoverable"===this.pendingMessageFailure?()=>{this.maybeRecoverFromNetworkError()}:void 0})})),this.firehoseError&&e.push({type:"error",code:e$.FirehoseFailed,key:e$.FirehoseFailed,retry:()=>{this.firehoseError?.retry()}}),e.filter((e=>!o$(e)||!this.deletedMessages.has(e.message.id))).map(((e,t,s)=>{let n=null,o=null;if(o$(e)){if(Is.ChatBskyConvoDefs.isMessageView(e.message)||Is.ChatBskyConvoDefs.isDeletedMessageView(e.message)){const e=s[t+1];o$(e)&&(Is.ChatBskyConvoDefs.isMessageView(e.message)||Is.ChatBskyConvoDefs.isDeletedMessageView(e.message))&&(n=e.message);const r=s[t-1];o$(r)&&(Is.ChatBskyConvoDefs.isMessageView(r.message)||Is.ChatBskyConvoDefs.isDeletedMessageView(r.message))&&(o=r.message)}return Object.assign({},e,{nextMessage:n,prevMessage:o})}return e}))}async addReaction(e,t){const s={value:t,sender:{did:this.senderUserDid},createdAt:(new Date).toISOString()};let n=null;if(this.pastMessages.has(e)){const o=this.pastMessages.get(e);if(Is.ChatBskyConvoDefs.isMessageView(o)&&!o.reactions?.find((e=>e.sender.did===this.senderUserDid&&e.value===t))){if(o.reactions&&o.reactions.filter((e=>e.sender.did===this.senderUserDid)).length>=5)throw new Error("Maximum reactions reached");this.pastMessages.set(e,Object.assign({},o,{reactions:[...o.reactions??[],s]})),this.commit(),n=()=>{this.pastMessages.set(e,o),this.commit()}}}else if(this.newMessages.has(e)){const o=this.newMessages.get(e);if(Is.ChatBskyConvoDefs.isMessageView(o)&&!o.reactions?.find((e=>e.value===t))){if(o.reactions&&o.reactions.length>=5)throw new Error("Maximum reactions reached");this.newMessages.set(e,Object.assign({},o,{reactions:[...o.reactions??[],s]})),this.commit(),n=()=>{this.newMessages.set(e,o),this.commit()}}}try{n$.info(`Adding reaction ${t} to message ${e}`);const{data:s}=await this.agent.chat.bsky.convo.addReaction({messageId:e,value:t,convoId:this.convoId},{encoding:"application/json",headers:kp});Is.ChatBskyConvoDefs.isMessageView(s.message)&&(this.pastMessages.has(e)?(this.pastMessages.set(e,s.message),this.commit()):this.newMessages.has(e)&&(this.newMessages.set(e,s.message),this.commit()))}catch(o){throw n&&n(),o}}async removeReaction(e,t){let s=null;if(this.pastMessages.has(e)){const n=this.pastMessages.get(e);Is.ChatBskyConvoDefs.isMessageView(n)&&(this.pastMessages.set(e,Object.assign({},n,{reactions:n.reactions?.filter((e=>e.value!==t||e.sender.did!==this.senderUserDid))})),this.commit(),s=()=>{this.pastMessages.set(e,n),this.commit()})}else if(this.newMessages.has(e)){const n=this.newMessages.get(e);Is.ChatBskyConvoDefs.isMessageView(n)&&(this.newMessages.set(e,Object.assign({},n,{reactions:n.reactions?.filter((e=>e.value!==t||e.sender.did!==this.senderUserDid))})),this.commit(),s=()=>{this.newMessages.set(e,n),this.commit()})}try{n$.info(`Removing reaction ${t} from message ${e}`),await this.agent.chat.bsky.convo.removeReaction({messageId:e,value:t,convoId:this.convoId},{encoding:"application/json",headers:kp})}catch(n){throw s&&s(),n}}}function i$(e){return e.status===XK.Ready||e.status===XK.Backgrounded||e.status===XK.Suspended||e.status===XK.Disabled}const a$=mt.createContext(null);function l$(){const e=(0,mt.useContext)(a$);if(!e)throw new Error("useConvo must be used within a ConvoProvider");return e}function c$(){const e=(0,mt.useContext)(a$);if(!e)throw new Error("useConvo must be used within a ConvoProvider");if(!i$(e))throw new Error("useConvoActive must only be rendered when the Convo is ready.");return e}function d$(e){const t=(0,i.c)(17),{children:s,convoId:n}=e,o=(0,wd.useQueryClient)(),r=bh(),a=Ap();let l;t[0]!==r||t[1]!==n||t[2]!==a||t[3]!==o?(l=()=>{const e=o.getQueryData(OL(n));return new r$({convoId:n,agent:r,events:a,placeholderData:e?{convo:e}:void 0})},t[0]=r,t[1]=n,t[2]=a,t[3]=o,t[4]=l):l=t[4];const[c]=(0,mt.useState)(l),d=(0,mt.useSyncExternalStore)(c.subscribe,c.getSnapshot),{mutate:u}=HL(),m="active"===MK();let h,p,f,g;return t[5]!==c||t[6]!==n||t[7]!==m||t[8]!==u?(h=()=>{if(m)return c.resume(),u({convoId:n}),()=>{c.background(),u({convoId:n})}},t[5]=c,t[6]=n,t[7]=m,t[8]=u,t[9]=h):h=t[9],(0,va.useFocusEffect)(h),t[10]!==c||t[11]!==o?(p=()=>c.on((e=>{if("invalidate-block-state"===e.type){for(const t of e.accountDids)o.invalidateQueries({queryKey:lb(t)});o.invalidateQueries({queryKey:[Kp]})}})),f=[c,o],t[10]=c,t[11]=o,t[12]=p,t[13]=f):(p=t[12],f=t[13]),mt.useEffect(p,f),t[14]!==s||t[15]!==d?(g=(0,Ft.jsx)(a$.Provider,{value:d,children:s}),t[14]=s,t[15]=d,t[16]=g):g=t[16],g}function u$({children:e}){return e}function m$({}){return null}var h$=s(15565),p$=s(27767);let f$=!1;function g$(e){const t=(0,i.c)(11),{message:s,children:n,onEmojiSelect:o}=e;if(!n)throw new Error("EmojiReactionPicker requires the children prop on web");const{_:r}=(0,ft.useLingui)();let a,l,c,d;return t[0]!==r?(a=r({id:"MaDsRl"}),t[0]=r,t[1]=a):a=t[1],t[2]!==n||t[3]!==a?(l=(0,Ft.jsx)(vC,{label:a,children:n}),t[2]=n,t[3]=a,t[4]=l):l=t[4],t[5]!==s||t[6]!==o?(c=(0,Ft.jsx)(x$,{message:s,onEmojiSelect:o}),t[5]=s,t[6]=o,t[7]=c):c=t[7],t[8]!==l||t[9]!==c?(d=(0,Ft.jsxs)(bC,{children:[l,c]}),t[8]=l,t[9]=c,t[10]=d):d=t[10],d}function x$(e){const t=(0,i.c)(16),{message:n,onEmojiSelect:o}=e,r=ec(),{control:a}=gC(),{currentAccount:l}=xh();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={immediate:!0},t[0]=c):c=t[0],function({immediate:e}={}){const t=mt.useCallback((async()=>{if(!f$){f$=!0;try{const e=(await s.e(792).then(s.t.bind(s,73792,19))).default;(0,p$.init)({data:e})}catch(e){}}}),[]);e&&t()}(c);const[d,u]=(0,mt.useState)(!1),[m,h]=(0,mt.useState)(a.isOpen);let p,f;a.isOpen!==m&&(h(a.isOpen),a.isOpen||u(!1)),t[1]!==a||t[2]!==o?(p=e=>{f(e.native)},f=e=>{a.close(),o(e)},t[1]=a,t[2]=o,t[3]=p,t[4]=f):(p=t[3],f=t[4]);const g=l?.did;let x;t[5]!==n||t[6]!==g?(x=UL(n,g),t[5]=n,t[6]=g,t[7]=x):x=t[7];const _=x;let y;return t[8]!==l?.did||t[9]!==d||t[10]!==p||t[11]!==f||t[12]!==_||t[13]!==n||t[14]!==r?(y=d?(0,Ft.jsx)(hC.Portal,{children:(0,Ft.jsx)(hC.Content,{sideOffset:5,collisionPadding:{left:5,right:5,bottom:5},children:(0,Ft.jsx)(h$.default,{onEmojiSelect:p,autoFocus:!0})})}):(0,Ft.jsx)(wC,{style:[kl.rounded_full],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_xs],children:[["\ud83d\udc4d","\ud83d\ude06","\u2764\ufe0f","\ud83d\udc40","\ud83d\ude22"].map((e=>{const t=function(e,t,s){return!!e.reactions&&!!e.reactions.find((e=>e.value===s&&e.sender.did===t))}(n,l?.did,e);return(0,Ft.jsx)(hC.Item,{className:["EmojiReactionPicker__Pressable",t&&"__selected",_&&"__disabled"].filter(Boolean).join(" "),onSelect:()=>f(e),style:Wl([kl.flex,kl.flex_col,kl.rounded_full,kl.justify_center,kl.align_center,kl.transition_transform,{width:34,height:34},t&&{backgroundColor:r.atoms.bg_contrast_100.backgroundColor}]),children:(0,Ft.jsx)(fr,{style:[kl.text_center,{fontSize:28}],emoji:!0,children:e})},e)})),(0,Ft.jsx)(hC.Item,{asChild:!0,className:"EmojiReactionPicker__PickerButton",children:(0,Ft.jsx)(tr.default,{accessibilityRole:"button",role:"button",onPress:()=>u(!0),style:Wl([kl.rounded_full,{height:34,width:34},kl.justify_center,kl.align_center]),children:(0,Ft.jsx)(lT,{size:"lg",style:r.atoms.text_contrast_medium})})})]})}),t[8]=l?.did,t[9]=d,t[10]=p,t[11]=f,t[12]=_,t[13]=n,t[14]=r,t[15]=y):y=t[15],y}let _$=e=>{const t=(0,i.c)(94),{message:s,children:n}=e,{_:o}=(0,ft.useLingui)(),{currentAccount:r}=xh(),a=c$(),l=Ar(),c=Ar(),d=Yc(),u=nv(),m=s.sender?.did===r?.did;let h;t[0]!==o||t[1]!==s.facets||t[2]!==s.text?(h=()=>{const e=Fw(new Is.RichText({text:s.text,facets:s.facets}),!0);rv.setStringAsync(e),Zu(o({id:"FxVG/l"}),"clipboard-check")},t[0]=o,t[1]=s.facets,t[2]=s.text,t[3]=h):h=t[3];const p=h;let f;t[4]!==d.primaryLanguage||t[5]!==s.text||t[6]!==u?(f=()=>{const e=Us(s.text,d.primaryLanguage);u(e,!0),ys.metric("translate",{sourceLanguages:[],targetLanguage:d.primaryLanguage,textLength:s.text.length})},t[4]=d.primaryLanguage,t[5]=s.text,t[6]=u,t[7]=f):f=t[7];const g=f;let x;t[8]!==o||t[9]!==a||t[10]!==s.id?(x=()=>{vF.default.configureNext(vF.default.Presets.easeInEaseOut),a.deleteMessage(s.id).then((()=>Zu(o({id:"CVz5nt"})))).catch((()=>Zu(o({id:"DRNLR9"}))))},t[8]=o,t[9]=a,t[10]=s.id,t[11]=x):x=t[11];const _=x;let y;t[12]!==o||t[13]!==a||t[14]!==r?.did||t[15]!==s?(y=e=>{if(s.reactions?.find((t=>t.value===e&&t.sender.did===r?.did)))a.removeReaction(s.id,e).catch((()=>Zu(o({id:"gOTI56"}))));else{if(UL(s,r?.did))return;a.addReaction(s.id,e).catch((()=>Zu(o({id:"GWyR0D"}),"xmark")))}},t[12]=o,t[13]=a,t[14]=r?.did,t[15]=s,t[16]=y):y=t[16],r?.did;const b=y;let j,v,w,S,k,C;if(t[17]!==o||t[18]!==a.convo.members||t[19]!==m||t[20]!==s||t[21]!==b){let e;t[27]!==s.sender?(e=e=>e.did===s.sender.did,t[27]=s.sender,t[28]=e):e=t[28];const n=a.convo.members.find(e);v=bC,t[29]!==m||t[30]!==s||t[31]!==b?(k=kt&&(0,Ft.jsx)(m$,{align:m?"right":"left",children:(0,Ft.jsx)(g$,{message:s,onEmojiSelect:b})}),t[29]=m,t[30]=s,t[31]=b,t[32]=k):k=t[32],j=vC,t[33]!==o?(w=o({id:"wejo0T"}),t[33]=o,t[34]=w):w=t[34],S=o({id:"zCVGdX",values:{0:n?.handle??"unknown",1:s.text}}),t[17]=o,t[18]=a.convo.members,t[19]=m,t[20]=s,t[21]=b,t[22]=j,t[23]=v,t[24]=w,t[25]=S,t[26]=k}else j=t[22],v=t[23],w=t[24],S=t[25],k=t[26];t[35]!==j||t[36]!==n||t[37]!==w||t[38]!==S?(C=(0,Ft.jsx)(j,{label:w,contentLabel:S,children:n}),t[35]=j,t[36]=n,t[37]=w,t[38]=S,t[39]=C):C=t[39];const P=m?"right":"left";let T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U;return t[40]!==o||t[41]!==s.text.length||t[42]!==p||t[43]!==g?(T=s.text.length>0&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(SC,{testID:"messageDropdownTranslateBtn",label:o({id:"pi8x/S"}),onPress:g,children:[(0,Ft.jsx)(kC,{children:o({id:"pi8x/S"})}),(0,Ft.jsx)(CC,{icon:gT,position:"right"})]}),(0,Ft.jsxs)(SC,{testID:"messageDropdownCopyBtn",label:o({id:"2JeDHF"}),onPress:p,children:[(0,Ft.jsx)(kC,{children:o({id:"2JeDHF"})}),(0,Ft.jsx)(CC,{icon:aT,position:"right"})]}),(0,Ft.jsx)(AC,{})]}),t[40]=o,t[41]=s.text.length,t[42]=p,t[43]=g,t[44]=T):T=t[44],t[45]!==o?(L=o({id:"OncGWz"}),t[45]=o,t[46]=L):L=t[46],t[47]!==l?(A=()=>l.open(),t[47]=l,t[48]=A):A=t[48],t[49]!==o?(I=o({id:"JBC8PN"}),t[49]=o,t[50]=I):I=t[50],t[51]!==I?(R=(0,Ft.jsx)(kC,{children:I}),t[51]=I,t[52]=R):R=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(CC,{icon:jS,position:"right"}),t[53]=D):D=t[53],t[54]!==L||t[55]!==A||t[56]!==R?(F=(0,Ft.jsxs)(SC,{testID:"messageDropdownDeleteBtn",label:L,onPress:A,children:[R,D]}),t[54]=L,t[55]=A,t[56]=R,t[57]=F):F=t[57],t[58]!==o||t[59]!==m||t[60]!==c?(E=!m&&(0,Ft.jsxs)(SC,{testID:"messageDropdownReportBtn",label:o({id:"0lcpCZ"}),onPress:()=>c.open(),children:[(0,Ft.jsx)(kC,{children:o({id:"gjpdaf"})}),(0,Ft.jsx)(CC,{icon:Fj,position:"right"})]}),t[58]=o,t[59]=m,t[60]=c,t[61]=E):E=t[61],t[62]!==T||t[63]!==F||t[64]!==E||t[65]!==P?(M=(0,Ft.jsxs)(wC,{align:P,children:[T,F,E]}),t[62]=T,t[63]=F,t[64]=E,t[65]=P,t[66]=M):M=t[66],t[67]!==v||t[68]!==M||t[69]!==k||t[70]!==C?(B=(0,Ft.jsxs)(v,{children:[k,C,M]}),t[67]=v,t[68]=M,t[69]=k,t[70]=C,t[71]=B):B=t[71],t[72]!==a.convo.id||t[73]!==s?(O={type:"convoMessage",convoId:a.convo.id,message:s},t[72]=a.convo.id,t[73]=s,t[74]=O):O=t[74],t[75]!==c||t[76]!==O?(z=(0,Ft.jsx)(T$,{currentScreen:"conversation",params:O,control:c}),t[75]=c,t[76]=O,t[77]=z):z=t[77],t[78]!==o?(H=o({id:"KDfTdX"}),t[78]=o,t[79]=H):H=t[79],t[80]!==o?(N=o({id:"kz7gxP"}),t[80]=o,t[81]=N):N=t[81],t[82]!==o?(V=o({id:"cnGeoo"}),t[82]=o,t[83]=V):V=t[83],t[84]!==l||t[85]!==_||t[86]!==H||t[87]!==N||t[88]!==V?(q=(0,Ft.jsx)(bx,{control:l,title:H,description:N,confirmButtonCta:V,confirmButtonColor:"negative",onConfirm:_}),t[84]=l,t[85]=_,t[86]=H,t[87]=N,t[88]=V,t[89]=q):q=t[89],t[90]!==B||t[91]!==z||t[92]!==q?(U=(0,Ft.jsxs)(Ft.Fragment,{children:[B,z,q]}),t[90]=B,t[91]=z,t[92]=q,t[93]=U):U=t[93],U};function y$(e){const t=(0,i.c)(39),{message:s,isFromSelf:n,children:o}=e,r=(0,mt.useRef)(null),a=ec(),{_:l}=(0,ft.useLingui)(),c=c$(),{currentAccount:d}=xh(),[u,m]=(0,mt.useState)(!1);let h;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=()=>{m(!0)},t[0]=h):h=t[0];const p=h;let f;t[1]===Symbol.for("react.memo_cache_sentinel")?(f=()=>{m(!1)},t[1]=f):f=t[1];const g=f;let x;t[2]===Symbol.for("react.memo_cache_sentinel")?(x=e=>{null!=e.nativeEvent.relatedTarget&&m(!0)},t[2]=x):x=t[2];const _=x;let y;t[3]!==l||t[4]!==c||t[5]!==d?.did||t[6]!==s?(y=e=>{if(s.reactions?.find((t=>t.value===e&&t.sender.did===d?.did)))c.removeReaction(s.id,e).catch((()=>Zu(l({id:"gOTI56"}))));else{if(UL(s,d?.did))return;c.addReaction(s.id,e).catch((()=>Zu(l({id:"GWyR0D"}),"xmark")))}},t[3]=l,t[4]=c,t[5]=d?.did,t[6]=s,t[7]=y):y=t[7],d?.did;const b=y,j=n?kl.flex_row:kl.flex_row_reverse;let v,w,S,k,C,P,T,L;t[8]!==j?(v=[kl.flex_1,j],t[8]=j,t[9]=v):v=t[9],t[10]!==n?(w=[kl.justify_center,kl.flex_row,kl.align_center,n?[kl.mr_xs,{marginLeft:"auto"},kl.flex_row_reverse]:[kl.ml_xs,{marginRight:"auto"}]],t[10]=n,t[11]=w):w=t[11],t[12]!==u||t[13]!==a?(S=e=>{const{props:t,state:s,isNative:n,control:o}=e;if(n)return null;const r=u||o.isOpen?1:0;return(0,Ft.jsx)(tr.default,Object.assign({},t,{style:[{opacity:r},kl.p_xs,kl.rounded_full,(s.hovered||s.pressed)&&a.atoms.bg_contrast_25],children:(0,Ft.jsx)(kB,{size:"md",style:a.atoms.text_contrast_medium})}))},t[12]=u,t[13]=a,t[14]=S):S=t[14],t[15]!==s||t[16]!==b||t[17]!==S?(k=(0,Ft.jsx)(g$,{message:s,onEmojiSelect:b,children:S}),t[15]=s,t[16]=b,t[17]=S,t[18]=k):k=t[18],t[19]!==u||t[20]!==a?(C=e=>{const{props:t,state:s,isNative:n,control:o}=e;if(n)return null;const r=u||o.isOpen?1:0;return(0,Ft.jsx)(tr.default,Object.assign({},t,{style:[{opacity:r},kl.p_xs,kl.rounded_full,(s.hovered||s.pressed)&&a.atoms.bg_contrast_25],children:(0,Ft.jsx)(lT,{size:"md",style:a.atoms.text_contrast_medium})}))},t[19]=u,t[20]=a,t[21]=C):C=t[21],t[22]!==s||t[23]!==C?(P=(0,Ft.jsx)(_$,{message:s,children:C}),t[22]=s,t[23]=C,t[24]=P):P=t[24],t[25]!==P||t[26]!==w||t[27]!==k?(T=(0,Ft.jsxs)(wo.default,{style:w,children:[k,P]}),t[25]=P,t[26]=w,t[27]=k,t[28]=T):T=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(L={maxWidth:"80%"},t[29]=L):L=t[29];const A=n?kl.align_end:kl.align_start;let I,R,D;return t[30]!==A?(I=[L,A],t[30]=A,t[31]=I):I=t[31],t[32]!==o||t[33]!==I?(R=(0,Ft.jsx)(wo.default,{style:I,children:o}),t[32]=o,t[33]=I,t[34]=R):R=t[34],t[35]!==T||t[36]!==R||t[37]!==v?(D=(0,Ft.jsxs)(wo.default,{onMouseEnter:p,onMouseLeave:g,onFocus:_,onBlur:g,style:v,ref:r,children:[T,R]}),t[35]=T,t[36]=R,t[37]=v,t[38]=D):D=t[38],D}_$=(0,mt.memo)(_$);const b$=new Intl.DateTimeFormat(void 0,{hour:"numeric",minute:"numeric"}),j$=new Intl.DateTimeFormat(void 0,{weekday:"long"}),v$=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"long",day:"numeric"}),w$=new Intl.DateTimeFormat(void 0,{weekday:"short",month:"long",day:"numeric",year:"numeric"});let S$=e=>{const t=(0,i.c)(32),{date:s}=e,{_:n}=(0,ft.useLingui)(),o=ec();let r,a;t[0]!==s?(a=b$.format(new Date(s)),t[0]=s,t[1]=a):a=t[1];const l=a;let c;t[2]!==s?(c=new Date(s),t[2]=s,t[3]=c):c=t[3];const d=c;if(t[4]!==n||t[5]!==d){const e=new Date,s=(0,Ug.default)(e,1),o=(0,Ug.default)(e,7);if(qL(e)===qL(d)){let e;t[7]!==n?(e=n({id:"ecUA8p"}),t[7]=n,t[8]=e):e=t[8],r=e}else if(qL(s)===qL(d)){let e;t[9]!==n?(e=n({id:"y/0uwd"}),t[9]=n,t[10]=e):e=t[10],r=e}else if(d<o)if(d.getFullYear()===e.getFullYear()){let e;t[11]!==d?(e=v$.format(d),t[11]=d,t[12]=e):e=t[12],r=e}else{let e;t[13]!==d?(e=w$.format(d),t[13]=d,t[14]=e):e=t[14],r=e}else{let e;t[15]!==d?(e=j$.format(d),t[15]=d,t[16]=e):e=t[16],r=e}t[4]=n,t[5]=d,t[6]=r}else r=t[6];let u,m,h,p,f,g;return t[17]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.w_full,kl.my_lg],t[17]=u):u=t[17],t[18]!==o.atoms.bg||t[19]!==o.atoms.text_contrast_medium?(m=[kl.text_xs,kl.text_center,o.atoms.bg,o.atoms.text_contrast_medium,kl.px_md],t[18]=o.atoms.bg,t[19]=o.atoms.text_contrast_medium,t[20]=m):m=t[20],t[21]!==r||t[22]!==l?(h={date:r,time:l},t[21]=r,t[22]=l,t[23]=h):h=t[23],t[24]!==o.atoms.text_contrast_medium?(p={0:(0,Ft.jsx)(fr,{style:[kl.text_xs,o.atoms.text_contrast_medium,kl.font_bold]})},t[24]=o.atoms.text_contrast_medium,t[25]=p):p=t[25],t[26]!==h||t[27]!==p?(f=(0,Ft.jsx)(ft.Trans,{id:"qalL8H",values:h,components:p}),t[26]=h,t[27]=p,t[28]=f):f=t[28],t[29]!==m||t[30]!==f?(g=(0,Ft.jsx)(wo.default,{style:u,children:(0,Ft.jsx)(fr,{style:m,children:f})}),t[29]=m,t[30]=f,t[31]=g):g=t[31],g};S$=mt.memo(S$);let k$=e=>{const t=(0,i.c)(12),{embed:s}=e,n=ec(),o=(0,Ny.default)(),r=n.atoms.bg,a=Math.min(o.width,600)/1.4;let l,c,d,u,m,h;return t[0]!==a?(l=jo({flexBasis:0,width:a}),t[0]=a,t[1]=l):l=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(c=_o({width:"100%",minWidth:280,maxWidth:360}),t[2]=c):c=t[2],t[3]!==n.atoms.bg||t[4]!==l?(d=[kl.my_xs,r,kl.rounded_md,l,c],t[3]=n.atoms.bg,t[4]=l,t[5]=d):d=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(u={marginTop:-1*eo.sm},t[6]=u):u=t[6],t[7]!==s?(m=(0,Ft.jsx)(wo.default,{style:u,children:(0,Ft.jsx)(sF,{embed:s,allowNestedQuotes:!0,viewContext:zR.Feed})}),t[7]=s,t[8]=m):m=t[8],t[9]!==d||t[10]!==m?(h=(0,Ft.jsx)(wD,{children:(0,Ft.jsx)(wo.default,{style:d,children:m})}),t[9]=d,t[10]=m,t[11]=h):h=t[11],h};k$=mt.memo(k$);let C$=e=>{const t=(0,i.c)(50),{item:s}=e,n=ec(),{currentAccount:o}=xh(),{_:r}=(0,ft.useLingui)(),{convo:a}=c$(),{message:l,nextMessage:c,prevMessage:d}=s,u="pending-message"===s.type,m=l.sender?.did===o?.did;let h;t[0]!==c?(h=Is.ChatBskyConvoDefs.isMessageView(c),t[0]=c,t[1]=h):h=t[1];const p=h,f=(p&&c.sender?.did===o?.did)===m;let g;e:{if(!d){g=!0;break e}const e=new Date(l.sentAt),t=new Date(d.sentAt);g=qL(e)!==qL(t)}const x=g;let _;e:{if(!c||!p){_=!0;break e}const e=new Date(l.sentAt),t=new Date(c.sentAt);_=qL(e)!==qL(t)}const y=_||!f;let b;if(u&&c)b=!1;else if(Is.ChatBskyConvoDefs.isMessageView(c)){const e=new Date(l.sentAt);b=new Date(c.sentAt).getTime()-e.getTime()>3e5}else b=!0;const j=b,v=n.palette.primary_200;let w,S;t[2]!==l.facets||t[3]!==l.text?(S=new Is.RichText({text:l.text,facets:l.facets}),t[2]=l.facets,t[3]=l.text,t[4]=S):S=t[4],w=S;const k=w;let C,P;t[5]!==r||t[6]!==a||t[7]!==o?.did||t[8]!==m||t[9]!==l.reactions||t[10]!==n.atoms?(C=l.reactions&&l.reactions.length>0&&(0,Ft.jsx)(wo.default,{style:[m?kl.align_end:kl.align_start,kl.px_sm,kl.pb_2xs],children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.gap_2xs,kl.py_xs,kl.px_xs,kl.justify_center,m?kl.justify_end:kl.justify_start,kl.flex_wrap,kl.pb_xs,n.atoms.bg_contrast_25,kl.border,n.atoms.border_contrast_low,kl.rounded_lg,n.atoms.shadow_sm,{transform:[{translateY:-11}]}],children:l.reactions.map(((e,t,s)=>{let n;if(e.sender.did===o?.did)n=r({id:"MVdxdj",values:{0:e.value}});else{const t=e.sender.did,s=a.members.find((e=>e.did===t));n=r(s?{id:"lgGy4I",values:{0:Qf(s.displayName||s.handle),1:e.value}}:{id:"2RmYrM",values:{0:e.value}})}return(0,Ft.jsx)(ko.default.View,{entering:jo(ko.ZoomIn.springify(200).delay(400)),exiting:s.length>1&&jo(ko.ZoomOut.delay(200)),layout:jo(ko.LinearTransition.delay(300)),style:[kl.p_2xs],accessible:!0,accessibilityLabel:n,accessibilityHint:r({id:"0y2AgQ"}),children:(0,Ft.jsx)(fr,{emoji:!0,style:[kl.text_sm],children:e.value})},e.sender.did+e.value)}))})}),t[5]=r,t[6]=a,t[7]=o?.did,t[8]=m,t[9]=l.reactions,t[10]=n.atoms,t[11]=C):C=t[11],t[12]!==C?(P=(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:C}),t[12]=C,t[13]=P):P=t[13];const T=P;let L;t[14]!==x||t[15]!==l.sentAt?(L=x&&(0,Ft.jsx)(S$,{date:l.sentAt}),t[14]=x,t[15]=l.sentAt,t[16]=L):L=t[16];const A=m?kl.mr_md:kl.ml_md,I=p&&!f&&kl.mb_md;let R,D,F;t[17]!==A||t[18]!==I?(R=[A,I],t[17]=A,t[18]=I,t[19]=R):R=t[19],t[20]!==l.embed?(D=Is.AppBskyEmbedRecord.isView(l.embed)&&(0,Ft.jsx)(k$,{embed:l.embed}),t[20]=l.embed,t[21]=D):D=t[21],t[22]!==m||t[23]!==u||t[24]!==l.text||t[25]!==y||t[26]!==v||t[27]!==k||t[28]!==n.palette.contrast_50||t[29]!==n.palette.primary_500||t[30]!==n.palette.white?(F=k.text.length>0&&(0,Ft.jsx)(wo.default,{style:!dr(l.text)&&[kl.py_sm,kl.my_2xs,kl.rounded_md,{paddingLeft:14,paddingRight:14,backgroundColor:m?u?v:n.palette.primary_500:n.palette.contrast_50,borderRadius:17},m?kl.self_end:kl.self_start,m?{borderBottomRightRadius:y?2:17}:{borderBottomLeftRadius:y?2:17}],children:(0,Ft.jsx)(DC,{value:k,style:[kl.text_md,m&&{color:n.palette.white}],interactiveStyle:kl.underline,enableTags:!0,emojiMultiplier:3})}),t[22]=m,t[23]=u,t[24]=l.text,t[25]=y,t[26]=v,t[27]=k,t[28]=n.palette.contrast_50,t[29]=n.palette.primary_500,t[30]=n.palette.white,t[31]=F):F=t[31];const E=kt&&T;let M;t[32]!==m||t[33]!==l||t[34]!==D||t[35]!==F||t[36]!==E?(M=(0,Ft.jsxs)(y$,{isFromSelf:m,message:l,children:[D,F,E]}),t[32]=m,t[33]=l,t[34]=D,t[35]=F,t[36]=E,t[37]=M):M=t[37];const B=!kt&&T;let O,z,H;return t[38]!==m||t[39]!==j||t[40]!==s?(O=j&&(0,Ft.jsx)(P$,{item:s,style:m?kl.text_right:kl.text_left}),t[38]=m,t[39]=j,t[40]=s,t[41]=O):O=t[41],t[42]!==R||t[43]!==M||t[44]!==B||t[45]!==O?(z=(0,Ft.jsxs)(wo.default,{style:R,children:[M,B,O]}),t[42]=R,t[43]=M,t[44]=B,t[45]=O,t[46]=z):z=t[46],t[47]!==z||t[48]!==L?(H=(0,Ft.jsxs)(Ft.Fragment,{children:[L,z]}),t[47]=z,t[48]=L,t[49]=H):H=t[49],H};C$=mt.memo(C$);let P$=e=>{const t=(0,i.c)(24),{item:s,style:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),{message:a}=s;let l;t[0]!==s?(l=e=>{if("pending-message"===s.type&&s.retry)return e.preventDefault(),s.retry(),!1},t[0]=s,t[1]=l):l=t[1];const c=l;let d;t[2]!==r?(d=(e,t)=>{const s=new Date(t),n=new Date,o=e.date(s,{hour:"numeric",minute:"numeric"});return n.getTime()-s.getTime()<3e4?r({id:"cH5kXP"}):o},t[2]=r,t[3]=d):d=t[3];const u=d;let m,h,p,f,g;return t[4]!==n||t[5]!==o.atoms.text_contrast_medium?(m=[kl.text_xs,kl.mt_2xs,kl.mb_lg,o.atoms.text_contrast_medium,n],t[4]=n,t[5]=o.atoms.text_contrast_medium,t[6]=m):m=t[6],t[7]!==o.atoms.text_contrast_medium?(h=e=>{const{timeElapsed:t}=e;return(0,Ft.jsx)(fr,{style:[kl.text_xs,o.atoms.text_contrast_medium],children:t})},t[7]=o.atoms.text_contrast_medium,t[8]=h):h=t[8],t[9]!==a.sentAt||t[10]!==u||t[11]!==h?(p=(0,Ft.jsx)(mD,{timestamp:a.sentAt,timeToString:u,children:h}),t[9]=a.sentAt,t[10]=u,t[11]=h,t[12]=p):p=t[12],t[13]!==r||t[14]!==c||t[15]!==s.failed||t[16]!==s.retry||t[17]!==s.type||t[18]!==o.palette?(f="pending-message"===s.type&&s.failed&&(0,Ft.jsxs)(Ft.Fragment,{children:[" ","\xb7"," ",(0,Ft.jsx)(fr,{style:[kl.text_xs,{color:o.palette.negative_400}],children:r({id:"lDjxmT"})}),s.retry&&(0,Ft.jsxs)(Ft.Fragment,{children:[" ","\xb7"," ",(0,Ft.jsx)(fv,{label:r({id:"rNLyNW"}),to:"#",onPress:c,style:[kl.text_xs],children:r({id:"6gRgw8"})})]})]}),t[13]=r,t[14]=c,t[15]=s.failed,t[16]=s.retry,t[17]=s.type,t[18]=o.palette,t[19]=f):f=t[19],t[20]!==m||t[21]!==p||t[22]!==f?(g=(0,Ft.jsxs)(fr,{style:m,children:[p,f]}),t[20]=m,t[21]=p,t[22]=f,t[23]=g):g=t[23],g};P$=mt.memo(P$);let T$=e=>{const t=(0,i.c)(13),{control:s,params:n,currentScreen:o}=e,{_:r}=(0,ft.useLingui)();let a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ha,{}),t[0]=a):a=t[0],t[1]!==r?(l=r({id:"kdD6aV"}),t[1]=r,t[2]=l):l=t[2],t[3]!==o||t[4]!==n?(c=(0,Ft.jsx)(L$,{params:n,currentScreen:o}),t[3]=o,t[4]=n,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ma,{}),t[6]=d):d=t[6],t[7]!==l||t[8]!==c?(u=(0,Ft.jsxs)(da,{label:l,children:[c,d]}),t[7]=l,t[8]=c,t[9]=u):u=t[9],t[10]!==s||t[11]!==u?(m=(0,Ft.jsxs)(aa,{control:s,children:[a,u]}),t[10]=s,t[11]=u,t[12]=m):m=t[12],m};function L$(e){const t=(0,i.c)(10),{params:s,currentScreen:n}=e;let o;t[0]!==s.message.sender.did?(o={did:s.message.sender.did},t[0]=s.message.sender.did,t[1]=o):o=t[1];const{data:r,isError:a}=ub(o),[l,c]=(0,mt.useState)(null),[d,u]=(0,mt.useState)(!1),m=Lr();let h;return t[2]!==m||t[3]!==n||t[4]!==d||t[5]!==a||t[6]!==s||t[7]!==r||t[8]!==l?(h=d?r?(0,Ft.jsx)(R$,{convoId:s.convoId,currentScreen:n,profile:r}):(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.py_5xl,kl.align_center],children:(0,Ft.jsx)(wv,{})}):l?(0,Ft.jsx)(I$,{params:s,reportOption:l,goBack:()=>c(null),onComplete:()=>{a?m.close():u(!0)}}):(0,Ft.jsx)(A$,{params:s,setReportOption:c}),t[2]=m,t[3]=n,t[4]=d,t[5]=a,t[6]=s,t[7]=r,t[8]=l,t[9]=h):h=t[9],h}function A$(e){const t=(0,i.c)(5),{setReportOption:s}=e,n=Lr();let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[],t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r={type:"convoMessage"},t[1]=r):r=t[1],t[2]!==n.close||t[3]!==s?(a=(0,Ft.jsx)(GK,{labelers:o,goBack:n.close,params:r,onSelectReportOption:s}),t[2]=n.close,t[3]=s,t[4]=a):a=t[4],a}function I$(e){const t=(0,i.c)(97),{params:s,reportOption:n,goBack:o,onComplete:r}=e,{_:a}=(0,ft.useLingui)(),{gtMobile:l}=ql(),c=ec(),[d,u]=(0,mt.useState)(""),m=bh();let h,p;t[0]!==m||t[1]!==d||t[2]!==s||t[3]!==n.reason?(h=async()=>{if("convoMessage"===s.type){const{convoId:e,message:t}=s,o={$type:"chat.bsky.convo.defs#messageRef",messageId:t.id,convoId:e,did:t.sender.did},r={reasonType:n.reason,subject:o,reason:d};await m.createModerationReport(r)}},t[0]=m,t[1]=d,t[2]=s,t[3]=n.reason,t[4]=h):h=t[4],t[5]!==r||t[6]!==h?(p={mutationFn:h,onSuccess:r},t[5]=r,t[6]=h,t[7]=p):p=t[7];const{mutate:f,error:g,isPending:x}=(0,Sd.useMutation)(p);let _,y,b;t[8]!==a?(y=a({id:"kdD6aV"}),t[8]=a,t[9]=y):y=t[9],t[10]!==y?(b={convoMessage:{title:y}},t[10]=y,t[11]=b):b=t[11],_=b[s.type];const j=_;let v,w,S;t[12]!==a?(v=a({id:"p19nbp"}),t[12]=a,t[13]=v):v=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(Pr,{icon:ZT}),t[14]=w):w=t[14],t[15]!==o||t[16]!==v?(S=(0,Ft.jsx)(Sr,{size:"small",variant:"solid",color:"secondary",shape:"round",label:v,onPress:o,children:w}),t[15]=o,t[16]=v,t[17]=S):S=t[17];const k=l?kl.gap_sm:kl.gap_xs;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G;t[18]!==k?(C=[kl.justify_center,k],t[18]=k,t[19]=C):C=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.text_2xl,kl.font_bold],t[20]=P):P=t[20],t[21]!==j.title?(T=(0,Ft.jsx)(fr,{style:P,children:j.title}),t[21]=j.title,t[22]=T):T=t[22],t[23]!==c.atoms.text_contrast_medium?(L=[kl.text_md,c.atoms.text_contrast_medium],t[23]=c.atoms.text_contrast_medium,t[24]=L):L=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(ft.Trans,{id:"jgoCmd"}),t[25]=A):A=t[25],t[26]!==L?(I=(0,Ft.jsx)(fr,{style:L,children:A}),t[26]=L,t[27]=I):I=t[27],t[28]!==C||t[29]!==T||t[30]!==I?(R=(0,Ft.jsxs)(wo.default,{style:C,children:[T,I]}),t[28]=C,t[29]=T,t[30]=I,t[31]=R):R=t[31],t[32]!==s.message||t[33]!==s.type?(D="convoMessage"===s.type&&(0,Ft.jsx)(D$,{message:s.message}),t[32]=s.message,t[33]=s.type,t[34]=D):D=t[34],t[35]!==c.atoms.text_contrast_medium?(F=[kl.text_md,c.atoms.text_contrast_medium],t[35]=c.atoms.text_contrast_medium,t[36]=F):F=t[36],t[37]!==c.atoms.text_contrast_medium?(E=[kl.font_bold,kl.text_md,c.atoms.text_contrast_medium],t[37]=c.atoms.text_contrast_medium,t[38]=E):E=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(ft.Trans,{id:"duAimb"}),t[39]=M):M=t[39],t[40]!==E?(B=(0,Ft.jsx)(fr,{style:E,children:M}),t[40]=E,t[41]=B):B=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.font_bold,kl.text_md],t[42]=O):O=t[42],t[43]!==n.title?(z=(0,Ft.jsx)(fr,{style:O,children:n.title}),t[43]=n.title,t[44]=z):z=t[44],t[45]!==F||t[46]!==B||t[47]!==z?(H=(0,Ft.jsxs)(fr,{style:F,children:[B," ",z]}),t[45]=F,t[46]=B,t[47]=z,t[48]=H):H=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(Iv,{}),t[49]=N):N=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(V=[kl.gap_md],t[50]=V):V=t[50],t[51]!==c.atoms.text_contrast_medium?(q=[c.atoms.text_contrast_medium],t[51]=c.atoms.text_contrast_medium,t[52]=q):q=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(U=(0,Ft.jsx)(ft.Trans,{id:"kZVz5z"}),t[53]=U):U=t[53],t[54]!==q?(W=(0,Ft.jsx)(fr,{style:q,children:U}),t[54]=q,t[55]=W):W=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.relative,kl.w_full],t[56]=Z):Z=t[56],t[57]!==a?(Q=a({id:"lDCuC6"}),t[57]=a,t[58]=Q):Q=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(K={paddingRight:60},t[59]=K):K=t[59],t[60]!==d||t[61]!==Q?($=(0,Ft.jsx)(ea,{multiline:!0,defaultValue:d,onChangeText:u,label:Q,style:K,numberOfLines:5}),t[60]=d,t[61]=Q,t[62]=$):$=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(G=[kl.absolute,kl.flex_row,kl.align_center,kl.pr_md,kl.pb_sm,{bottom:0,right:0}],t[63]=G):G=t[63];const Y=d?.length||0;let J,X,ee,te,se,ne,oe,re;t[64]!==Y?(J=(0,Ft.jsx)(wo.default,{style:G,children:(0,Ft.jsx)(fL,{count:Y})}),t[64]=Y,t[65]=J):J=t[65],t[66]!==$||t[67]!==J?(X=(0,Ft.jsxs)(wo.default,{style:Z,children:[$,J]}),t[66]=$,t[67]=J,t[68]=X):X=t[68],t[69]!==W||t[70]!==X?(ee=(0,Ft.jsxs)(wo.default,{style:V,children:[W,X]}),t[69]=W,t[70]=X,t[71]=ee):ee=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(te=[kl.flex_row,kl.align_center,kl.justify_end,kl.gap_lg],t[72]=te):te=t[72],t[73]!==g||t[74]!==c.atoms.text_contrast_medium?(se=g&&(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.italic,kl.leading_snug,c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"v++g2v"})}),t[73]=g,t[74]=c.atoms.text_contrast_medium,t[75]=se):se=t[75],t[76]!==a?(ne=a({id:"O9oQJS"}),t[76]=a,t[77]=ne):ne=t[77],t[78]!==f?(oe=()=>f(),t[78]=f,t[79]=oe):oe=t[79],t[80]===Symbol.for("react.memo_cache_sentinel")?(re=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"O9oQJS"})}),t[80]=re):re=t[80];const ie=x?wv:gL;let ae,le,ce,de;return t[81]!==ie?(ae=(0,Ft.jsx)(Pr,{icon:ie}),t[81]=ie,t[82]=ae):ae=t[82],t[83]!==ne||t[84]!==oe||t[85]!==ae?(le=(0,Ft.jsxs)(Sr,{testID:"sendReportBtn",size:"large",variant:"solid",color:"negative",label:ne,onPress:oe,children:[re,ae]}),t[83]=ne,t[84]=oe,t[85]=ae,t[86]=le):le=t[86],t[87]!==se||t[88]!==le?(ce=(0,Ft.jsxs)(wo.default,{style:te,children:[se,le]}),t[87]=se,t[88]=le,t[89]=ce):ce=t[89],t[90]!==R||t[91]!==D||t[92]!==H||t[93]!==ee||t[94]!==ce||t[95]!==S?(de=(0,Ft.jsxs)(wo.default,{style:kl.gap_lg,children:[S,R,D,H,N,ee,ce]}),t[90]=R,t[91]=D,t[92]=H,t[93]=ee,t[94]=ce,t[95]=S,t[96]=de):de=t[96],de}function R$(e){const t=(0,i.c)(85),{convoId:s,currentScreen:n,profile:o}=e,{_:r}=(0,ft.useLingui)(),a=(0,va.useNavigation)(),l=Lr(),{gtMobile:c}=ql(),d=ec();let u;t[0]===Symbol.for("react.memo_cache_sentinel")?(u=["block","leave"],t[0]=u):u=t[0];const[m,h]=(0,mt.useState)(u),p=Ry(o),[f]=bb(p);let g,x,_;t[1]!==n||t[2]!==a?(g=()=>{"conversation"===n&&a.dispatch(va.StackActions.replace("Messages",kt?{animation:"pop"}:{}))},t[1]=n,t[2]=a,t[3]=g):g=t[3],t[4]!==r?(x=()=>{Zu(r({id:"HuPfYi"}),"xmark")},t[4]=r,t[5]=x):x=t[5],t[6]!==g||t[7]!==x?(_={onMutate:g,onError:x},t[6]=g,t[7]=x,t[8]=_):_=t[8];const{mutate:y}=qp(s,_);let b;t[9]!==r?(b=r({id:"DPfwMq"}),t[9]=r,t[10]=b):b=t[10];let j,v,w=b;if(t[11]!==r||t[12]!==m){if(m.includes("leave")&&m.includes("block")){let e;t[15]!==r?(e=r({id:"INwxJ5"}),t[15]=r,t[16]=e):e=t[16],w=e,j=r({id:"5zTxgk"})}else if(m.includes("leave")){let e;t[17]!==r?(e=r({id:"2DzmAq"}),t[17]=r,t[18]=e):e=t[18],w=e,j=r({id:"5zTxgk"})}else if(m.includes("block")){let e;t[19]!==r?(e=r({id:"GuUvqW"}),t[19]=r,t[20]=e):e=t[20],w=e,j=r({id:"6Gkgyo"})}t[11]=r,t[12]=m,t[13]=j,t[14]=w}else j=t[13],w=t[14];t[21]!==m||t[22]!==l||t[23]!==y||t[24]!==f||t[25]!==j?(v=()=>{l.close((()=>{m.includes("block")&&f(),m.includes("leave")&&y(),j&&Zu(j,"check")}))},t[21]=m,t[22]=l,t[23]=y,t[24]=f,t[25]=j,t[26]=v):v=t[26];const S=v,k=c?kl.gap_sm:kl.gap_xs;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U;t[27]!==k?(C=[kl.justify_center,k],t[27]=k,t[28]=C):C=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"7sBcV9"})}),t[29]=P):P=t[29],t[30]!==d.atoms.text_contrast_medium?(T=[kl.text_md,d.atoms.text_contrast_medium],t[30]=d.atoms.text_contrast_medium,t[31]=T):T=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(ft.Trans,{id:"/qpMWa"}),t[32]=L):L=t[32],t[33]!==T?(A=(0,Ft.jsx)(fr,{style:T,children:L}),t[33]=T,t[34]=A):A=t[34],t[35]!==A||t[36]!==C?(I=(0,Ft.jsxs)(wo.default,{style:C,children:[P,A]}),t[35]=A,t[36]=C,t[37]=I):I=t[37],t[38]!==r?(R=r({id:"6anW/w"}),t[38]=r,t[39]=R):R=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.gap_md],t[40]=D):D=t[40],t[41]!==r?(F=r({id:"tdTuUv"}),t[41]=r,t[42]=F):F=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(cI,{}),t[43]=E):E=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(aI,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"tdTuUv"})}),t[44]=M):M=t[44],t[45]!==F?(B=(0,Ft.jsxs)(iI,{name:"block",label:F,children:[E,M]}),t[45]=F,t[46]=B):B=t[46],t[47]!==r?(O=r({id:"2GCE3m"}),t[47]=r,t[48]=O):O=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(cI,{}),t[49]=z):z=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(aI,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"2GCE3m"})}),t[50]=H):H=t[50],t[51]!==O?(N=(0,Ft.jsxs)(iI,{name:"leave",label:O,children:[z,H]}),t[51]=O,t[52]=N):N=t[52],t[53]!==B||t[54]!==N?(V=(0,Ft.jsxs)(wo.default,{style:D,children:[B,N]}),t[53]=B,t[54]=N,t[55]=V):V=t[55],t[56]!==m||t[57]!==R||t[58]!==V?(q=(0,Ft.jsx)(rI,{label:R,values:m,onChange:h,children:V}),t[56]=m,t[57]=R,t[58]=V,t[59]=q):q=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(U=[kl.gap_md,_o([kl.flex_row_reverse])],t[60]=U):U=t[60];const W=m.length>0?"negative":"primary";let Z,Q,K,$,G,Y,J,X,ee,te;return t[61]!==w?(Z=(0,Ft.jsx)(Cr,{children:w}),t[61]=w,t[62]=Z):Z=t[62],t[63]!==w||t[64]!==S||t[65]!==W||t[66]!==Z?(Q=(0,Ft.jsx)(Sr,{label:w,onPress:S,size:"large",variant:"solid",color:W,children:Z}),t[63]=w,t[64]=S,t[65]=W,t[66]=Z,t[67]=Q):Q=t[67],t[68]!==r?(K=r({id:"yz7wBu"}),t[68]=r,t[69]=K):K=t[69],t[70]!==l?($=()=>l.close(),t[70]=l,t[71]=$):$=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(G=vo({native:"small",web:"large"}),Y=vo({native:"ghost",web:"solid"}),t[72]=G,t[73]=Y):(G=t[72],Y=t[73]),t[74]===Symbol.for("react.memo_cache_sentinel")?(J=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})}),t[74]=J):J=t[74],t[75]!==K||t[76]!==$?(X=(0,Ft.jsx)(Sr,{label:K,onPress:$,size:G,variant:Y,color:"secondary",children:J}),t[75]=K,t[76]=$,t[77]=X):X=t[77],t[78]!==Q||t[79]!==X?(ee=(0,Ft.jsxs)(wo.default,{style:U,children:[Q,X]}),t[78]=Q,t[79]=X,t[80]=ee):ee=t[80],t[81]!==I||t[82]!==q||t[83]!==ee?(te=(0,Ft.jsxs)(wo.default,{style:kl.gap_2xl,children:[I,q,ee]}),t[81]=I,t[82]=q,t[83]=ee,t[84]=te):te=t[84],te}function D$(e){const t=(0,i.c)(22),{message:s}=e,n=ec();let o,r;t[0]!==s.facets||t[1]!==s.text?(r=new Is.RichText({text:s.text,facets:s.facets}),t[0]=s.facets,t[1]=s.text,t[2]=r):r=t[2],o=r;const a=o;let l,c,d,u,m,h,p,f,g,x;return t[3]!==n.palette.contrast_50?(l={paddingLeft:14,paddingRight:14,backgroundColor:n.palette.contrast_50,borderRadius:17},t[3]=n.palette.contrast_50,t[4]=l):l=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(c={borderBottomLeftRadius:2},t[5]=c):c=t[5],t[6]!==l?(d=[kl.py_sm,kl.my_2xs,kl.rounded_md,l,c],t[6]=l,t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.text_md,kl.leading_snug],t[8]=u):u=t[8],t[9]!==a?(m=(0,Ft.jsx)(DC,{value:a,style:u,interactiveStyle:kl.underline,enableTags:!0}),t[9]=a,t[10]=m):m=t[10],t[11]!==d||t[12]!==m?(h=(0,Ft.jsx)(wo.default,{style:d,children:m}),t[11]=d,t[12]=m,t[13]=h):h=t[13],t[14]!==s?(p={type:"message",message:s,key:"",nextMessage:null,prevMessage:null},t[14]=s,t[15]=p):p=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.text_left,kl.mb_0],t[16]=f):f=t[16],t[17]!==p?(g=(0,Ft.jsx)(P$,{item:p,style:f}),t[17]=p,t[18]=g):g=t[18],t[19]!==g||t[20]!==h?(x=(0,Ft.jsxs)(wo.default,{style:kl.align_start,children:[h,g]}),t[19]=g,t[20]=h,t[21]=x):x=t[21],x}T$=(0,mt.memo)(T$);let F$=e=>{const t=(0,i.c)(34),{convo:s,profile:n,control:o,currentScreen:r,showMarkAsRead:a,hideTrigger:l,blockInfo:c,latestReportableMessage:d,style:u}=e,{_:m}=(0,ft.useLingui)(),h=ec(),p=Ar(),f=Ar(),g=Ar(),{listBlocks:x}=c;let _,y,b,j,v,w,S;return t[0]!==m||t[1]!==l||t[2]!==u||t[3]!==h?(_=!l&&(0,Ft.jsx)(wo.default,{style:[u],children:(0,Ft.jsx)(vC,{label:m({id:"t+yDOf"}),children:e=>{const{props:t,state:s}=e;return(0,Ft.jsx)(tr.default,Object.assign({},t,{onPress:()=>{ja.default.dismiss(),t.onPress()},style:[kl.p_sm,kl.rounded_full,(s.hovered||s.pressed)&&h.atoms.bg_contrast_25,{marginLeft:-10}],children:(0,Ft.jsx)(lT,{size:"md",style:h.atoms.text})}))}})}),t[0]=m,t[1]=l,t[2]=u,t[3]=h,t[4]=_):_=t[4],t[5]!==c||t[6]!==g||t[7]!==s||t[8]!==p||t[9]!==n||t[10]!==f||t[11]!==a?(y=(0,Ft.jsx)(wC,{children:(0,Ft.jsx)(E$,{profile:n,showMarkAsRead:a,blockInfo:c,convo:s,leaveConvoControl:p,reportControl:f,blockedByListControl:g})}),t[5]=c,t[6]=g,t[7]=s,t[8]=p,t[9]=n,t[10]=f,t[11]=a,t[12]=y):y=t[12],t[13]!==o||t[14]!==_||t[15]!==y?(b=(0,Ft.jsxs)(bC,{control:o,children:[_,y]}),t[13]=o,t[14]=_,t[15]=y,t[16]=b):b=t[16],t[17]!==s.id||t[18]!==r||t[19]!==p?(j=(0,Ft.jsx)(ZK,{control:p,convoId:s.id,currentScreen:r}),t[17]=s.id,t[18]=r,t[19]=p,t[20]=j):j=t[20],t[21]!==s.id||t[22]!==r||t[23]!==d||t[24]!==f?(v=d?(0,Ft.jsx)(T$,{currentScreen:r,params:{type:"convoMessage",convoId:s.id,message:d},control:f}):(0,Ft.jsx)(QK,{control:f}),t[21]=s.id,t[22]=r,t[23]=d,t[24]=f,t[25]=v):v=t[25],t[26]!==g||t[27]!==x?(w=(0,Ft.jsx)(qK,{control:g,listBlocks:x}),t[26]=g,t[27]=x,t[28]=w):w=t[28],t[29]!==b||t[30]!==j||t[31]!==v||t[32]!==w?(S=(0,Ft.jsxs)(Ft.Fragment,{children:[b,j,v,w]}),t[29]=b,t[30]=j,t[31]=v,t[32]=w,t[33]=S):S=t[33],S};function E$(e){const t=(0,i.c)(24),{convo:s,profile:n,showMarkAsRead:o,blockInfo:r,leaveConvoControl:a,reportControl:l,blockedByListControl:c}=e,d=(0,va.useNavigation)(),{_:u}=(0,ft.useLingui)(),{mutate:m}=HL(),{listBlocks:h,userBlock:p}=r,f=p||!!h.length,g="missing.invalid"===n.handle,x=s.id,{data:_}=function(e){const t=(0,i.c)(9),s=bh();let n,o,r;return t[0]!==e.id?(n=OL(e.id),t[0]=e.id,t[1]=n):n=t[1],t[2]!==s||t[3]!==e.id?(o=async()=>{const{data:t}=await s.chat.bsky.convo.getConvo({convoId:e.id},{headers:kp});return t.convo},t[2]=s,t[3]=e.id,t[4]=o):o=t[4],t[5]!==e||t[6]!==n||t[7]!==o?(r={queryKey:n,queryFn:o,initialData:e,staleTime:Ld.INFINITY},t[5]=e,t[6]=n,t[7]=o,t[8]=r):r=t[8],(0,vd.useQuery)(r)}(s);let y;t[0]!==d||t[1]!==n.did?(y=()=>{d.navigate("Profile",{name:n.did})},t[0]=d,t[1]=n.did,t[2]=y):y=t[2];const b=y;let j;t[3]!==u?(j={onSuccess:e=>{e.convo.muted?Zu(u({id:"gifrXC"})):Zu(u({id:"7/DXkx"}))},onError:()=>{Zu(u({id:"OpuNxN"}),"xmark")}},t[3]=u,t[4]=j):j=t[4];const{mutate:v}=function(e,t){const s=(0,i.c)(12),{onSuccess:n,onError:o}=t,r=(0,wd.useQueryClient)(),a=bh();let l,c,d,u;return s[0]!==a||s[1]!==e?(l=async t=>{const{mute:s}=t;if(!e)throw new Error("No convoId provided");if(s){const{data:t}=await a.api.chat.bsky.convo.muteConvo({convoId:e},{headers:kp,encoding:"application/json"});return t}{const{data:t}=await a.api.chat.bsky.convo.unmuteConvo({convoId:e},{headers:kp,encoding:"application/json"});return t}},s[0]=a,s[1]=e,s[2]=l):l=s[2],s[3]!==n||s[4]!==r?(c=(e,t)=>{r.setQueryData(OL(e.convo.id),(e=>{if(e)return Object.assign({},e,{muted:t.mute})})),r.setQueryData([Kp],(s=>{if(s?.pages)return Object.assign({},s,{pages:s.pages.map((s=>Object.assign({},s,{convos:s.convos.map((s=>s.id!==e.convo.id?s:Object.assign({},s,{muted:t.mute})))})))})})),n?.(e)},s[3]=n,s[4]=r,s[5]=c):c=s[5],s[6]!==o?(d=e=>{o?.(e)},s[6]=o,s[7]=d):d=s[7],s[8]!==l||s[9]!==c||s[10]!==d?(u={mutationFn:l,onSuccess:c,onError:d},s[8]=l,s[9]=c,s[10]=d,s[11]=u):u=s[11],(0,Sd.useMutation)(u)}(x,j),[w,S]=bb(n);let k;t[5]!==c||t[6]!==h.length||t[7]!==w||t[8]!==S||t[9]!==p?(k=()=>{h.length?c.open():p?S():w()},t[5]=c,t[6]=h.length,t[7]=w,t[8]=S,t[9]=p,t[10]=k):k=t[10];const C=k;let P;return t[11]!==u||t[12]!==_?.muted||t[13]!==x||t[14]!==f||t[15]!==g||t[16]!==a||t[17]!==m||t[18]!==v||t[19]!==b||t[20]!==l||t[21]!==o||t[22]!==C?(P=g?(0,Ft.jsxs)(SC,{label:u({id:"KqSFMK"}),onPress:()=>a.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"KqSFMK"})}),(0,Ft.jsx)(CC,{icon:tK})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(LC,{children:[o&&(0,Ft.jsxs)(SC,{label:u({id:"+s1J8k"}),onPress:()=>m({convoId:x}),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"+s1J8k"})}),(0,Ft.jsx)(CC,{icon:xT})]}),(0,Ft.jsxs)(SC,{label:u({id:"csWkwx"}),onPress:b,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"u8CWR5"})}),(0,Ft.jsx)(CC,{icon:rC})]}),(0,Ft.jsxs)(SC,{label:u({id:"OiUYO5"}),onPress:()=>v({mute:!_?.muted}),children:[(0,Ft.jsx)(kC,{children:_?.muted?(0,Ft.jsx)(ft.Trans,{id:"i51zUR"}):(0,Ft.jsx)(ft.Trans,{id:"OiUYO5"})}),(0,Ft.jsx)(CC,{icon:_?.muted?hT:oC})]})]}),(0,Ft.jsx)(AC,{}),(0,Ft.jsxs)(LC,{children:[(0,Ft.jsxs)(SC,{label:u(f?{id:"lRjoxo"}:{id:"ERffXY"}),onPress:C,children:[(0,Ft.jsx)(kC,{children:u(f?{id:"lRjoxo"}:{id:"ERffXY"})}),(0,Ft.jsx)(CC,{icon:f?aC:lC})]}),(0,Ft.jsxs)(SC,{label:u({id:"a5ISwI"}),onPress:()=>l.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"a5ISwI"})}),(0,Ft.jsx)(CC,{icon:cT})]})]}),(0,Ft.jsx)(AC,{}),(0,Ft.jsx)(LC,{children:(0,Ft.jsxs)(SC,{label:u({id:"KqSFMK"}),onPress:()=>a.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"KqSFMK"})}),(0,Ft.jsx)(CC,{icon:tK})]})})]}),t[11]=u,t[12]=_?.muted,t[13]=x,t[14]=f,t[15]=g,t[16]=a,t[17]=m,t[18]=v,t[19]=b,t[20]=l,t[21]=o,t[22]=C,t[23]=P):P=t[23],P}F$=mt.memo(F$);zr({path:"M4.702 8.943a7.307 7.307 0 0 1 14.596 0l.19 3.798 1.321 2.641A1.809 1.809 0 0 1 19.191 18H16.9a5.002 5.002 0 0 1-9.8 0H4.809a1.809 1.809 0 0 1-1.618-2.618l1.32-2.641.19-3.798ZM9.17 18a3.001 3.001 0 0 0 5.658 0H9.171ZM12 4a5.307 5.307 0 0 0-5.3 5.042l-.19 3.798a2 2 0 0 1-.21.795L5.119 16h13.764l-1.183-2.365a2 2 0 0 1-.208-.795l-.19-3.798A5.308 5.308 0 0 0 12 4Z"}),zr({path:"M12 2a7.307 7.307 0 0 0-7.298 6.943l-.19 3.798-1.321 2.641A1.809 1.809 0 0 0 4.809 18H7.1a5.002 5.002 0 0 0 9.8 0h2.291a1.809 1.809 0 0 0 1.618-2.618l-1.32-2.641-.19-3.798A7.308 7.308 0 0 0 12 2Zm0 18a3.001 3.001 0 0 1-2.83-2h5.66A3.001 3.001 0 0 1 12 20Z"}),zr({path:"M2.293 2.293a1 1 0 0 1 1.414 0l18 18a1 1 0 0 1-1.414 1.414L17.586 19h-.94c-.904 1.748-2.607 3-4.646 3-2.039 0-3.742-1.252-4.646-3H4a1 1 0 0 1-.991-1.132l1.207-9.053c.116-.87.372-1.69.743-2.442L2.293 3.707a1 1 0 0 1 0-1.414Zm4.19 5.604c-.134.376-.23.772-.285 1.183L5.142 17h10.444L6.483 7.897ZM9.778 19c.61.637 1.399 1 2.222 1s1.613-.363 2.222-1H9.778ZM8.834 2.666a7.853 7.853 0 0 1 10.95 6.15l.645 4.832a1 1 0 0 1-1.983.265l-.644-4.833A5.853 5.853 0 0 0 9.64 4.495a1 1 0 0 1-.807-1.83Z"});const M$=zr({path:"m19.785 8.815 1.034 7.761L7.595 3.352a7.853 7.853 0 0 1 12.19 5.463ZM4 19h3.354c.904 1.748 2.607 3 4.646 3 2.038 0 3.742-1.252 4.646-3h.94l2.707 2.707a1 1 0 0 0 1.414-1.414l-18-18a1 1 0 0 0-1.414 1.414l2.666 2.666a7.842 7.842 0 0 0-.743 2.442l-1.207 9.053A1 1 0 0 0 4 19Zm8 1c-.823 0-1.613-.363-2.222-1h4.443c-.608.637-1.398 1-2.221 1Z"}),B$=zr({path:"M4 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6.386c1.064-.002 2 .86 2 2.001V19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2v-6.613c0-1.142.936-2.003 2-2.001V4Zm2 6.946 6 2 6-2V4H6v6.946ZM9 8a1 1 0 0 1 1-1h4a1 1 0 1 1 0 2h-4a1 1 0 0 1-1-1Zm2.367 6.843L4 12.387V19h16v-6.613l-7.367 2.456a2 2 0 0 1-1.265 0Z"});let O$=e=>{const t=(0,i.c)(11),{convo:s,showMenu:n,children:o}=e,r=void 0===n||n,{currentAccount:a}=xh(),l=Op();let c;if(t[0]!==s.members||t[1]!==a?.did){let e;t[3]!==a?.did?(e=e=>e.did!==a?.did,t[3]=a?.did,t[4]=e):e=t[4],c=s.members.find(e),t[0]=s.members,t[1]=a?.did,t[2]=c}else c=t[2];const d=c;if(!d||!l)return null;let u;return t[5]!==o||t[6]!==s||t[7]!==l||t[8]!==d||t[9]!==r?(u=(0,Ft.jsx)(z$,{convo:s,profile:d,moderationOpts:l,showMenu:r,children:o}),t[5]=o,t[6]=s,t[7]=l,t[8]=d,t[9]=r,t[10]=u):u=t[10],u};function z$({convo:e,profile:t,moderationOpts:s,showMenu:n,children:o}){const r=ec(),{_:i}=(0,ft.useLingui)(),{currentAccount:a}=xh(),l=yC(),c=Ar(),{gtMobile:d}=ql(),u=Ry(t),{mutate:m}=HL(),h=mt.useMemo((()=>(0,Is.moderateProfile)(u,s)),[u,s]),p=lS(),f=(0,wd.useQueryClient)(),g=e.unreadCount>0,x=Nk({profile:u}),_=(0,mt.useMemo)((()=>{const e=h.ui("profileView").alerts.filter((e=>"blocking"===e.type));return{listBlocks:e.filter((e=>"list"===e.source.type)),userBlock:e.find((e=>"user"===e.source.type))}}),[h]),y="missing.invalid"===u.handle,b=y?i({id:"XvivR7"}):Qf(u.displayName||u.handle,h.ui("displayName")),j=e.muted||h.blocked||y,{lastMessage:v,lastMessageSentAt:w,latestReportableMessage:S}=(0,mt.useMemo)((()=>{let t,s=i({id:"+52YnJ"}),n=null;if(Is.ChatBskyConvoDefs.isMessageView(e.lastMessage)){const o=e.lastMessage.sender?.did===a?.did;if(o||(t=e.lastMessage),e.lastMessage.text)s=o?i({id:"H6g73w",values:{0:e.lastMessage.text}}):e.lastMessage.text;else if(e.lastMessage.embed){const t=i({id:"VbgChC"});if(Is.AppBskyEmbedRecord.isView(e.lastMessage.embed)){const n=e.lastMessage.embed;if(Is.AppBskyEmbedRecord.isViewRecord(n.record)){const e=n.record,r=ku(e.uri,{handle:e.author.handle}),a=r?fu(r):void 0,l=a?hu(a):t;s=o?i({id:"UvPs/N",values:{short:l}}):l}}else s=o?i({id:"8OmVU5",values:{defaultEmbeddedContentMessage:t}}):t}n=e.lastMessage.sentAt}if(Is.ChatBskyConvoDefs.isDeletedMessageView(e.lastMessage)&&(n=e.lastMessage.sentAt,s=i(y?{id:"848Jpz"}:{id:"3BQoUQ"})),Is.ChatBskyConvoDefs.isMessageAndReactionView(e.lastReaction)&&(!n||new Date(n)<new Date(e.lastReaction.reaction.createdAt))){const t=e.lastReaction.reaction.sender.did===a?.did,n=e.lastReaction.message.text,o=i({id:"rwz4vR"});if(t)s=i({id:"KoAr/Z",values:{0:e.lastReaction.reaction.value,1:n?`"${e.lastReaction.message.text}"`:o}});else{const t=e.lastReaction.reaction.sender.did,r=e.members.find((e=>e.did===t));s=i(r?{id:"feU+oN",values:{0:Qf(r.displayName||r.handle),1:e.lastReaction.reaction.value,2:n?`"${e.lastReaction.message.text}"`:o}}:{id:"zrdOXB",values:{0:e.lastReaction.reaction.value,1:n?`"${e.lastReaction.message.text}"`:o}})}}return{lastMessage:s,lastMessageSentAt:n,latestReportableMessage:t}}),[i,e.lastMessage,e.lastReaction,a?.did,y,e.members]),[k,C]=(0,mt.useState)(!1),P=(0,mt.useCallback)((()=>{C(!0)}),[]),T=(0,mt.useCallback)((()=>{C(!1)}),[]),L=(0,mt.useCallback)((e=>{null!=e.nativeEvent.relatedTarget&&C(!0)}),[]),A=(0,mt.useCallback)((t=>{if(ib(f,u),zL(f,e),async function(e){if(!kt)return;let t=await(0,bf.default)();t-=e,t<0&&(t=0),await wf.setBadgeCountAsync(t),await(0,jf.default)(t)}(e.unreadCount),y)return t.preventDefault(),l.open(),!1;En("chat:open",{logContext:"ChatsList"})}),[y,l,f,u,e]),I=(0,mt.useCallback)((()=>{p(),l.open()}),[p,l]),R={threshold:120,color:r.palette.primary_500,icon:B$,action:()=>{m({convoId:e.id})}},D={threshold:225,color:r.palette.negative_500,icon:jS,action:()=>{c.open()}},F=g?{leftFirst:R,leftSecond:D}:{leftFirst:D},E=e.unreadCount>0&&!y;return(0,Ft.jsx)(VK,{actions:F,children:(0,Ft.jsxs)(wo.default,{onMouseEnter:P,onMouseLeave:T,onFocus:L,onBlur:T,style:[kl.relative,r.atoms.bg],children:[(0,Ft.jsx)(wo.default,{style:[kl.z_10,kl.absolute,{top:eo.md,left:eo.lg}],children:(0,Ft.jsx)(pP,{profile:u,size:52,moderation:h.ui("avatar")})}),(0,Ft.jsx)(pv,{to:`/messages/${e.id}`,label:b,accessibilityHint:i(y?{id:"qzsGk4"}:{id:"Ka0mCC",values:{0:u.handle}}),accessibilityActions:kt?[{name:"magicTap",label:i({id:"r5hPkG"})},{name:"longpress",label:i({id:"r5hPkG"})}]:void 0,onPress:A,onLongPress:kt?I:void 0,onAccessibilityAction:I,children:({hovered:t,pressed:s,focused:n})=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,y?kl.align_center:kl.align_start,kl.flex_1,kl.px_lg,kl.py_md,kl.gap_md,(t||s||n)&&r.atoms.bg_contrast_25],children:[(0,Ft.jsx)(wo.default,{style:{width:52,height:52}}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.justify_center,_o({paddingRight:45})],children:[(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_end,kl.pb_2xs],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_shrink],children:(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:1,style:[kl.text_md,r.atoms.text,kl.font_bold,{lineHeight:21},j&&r.atoms.text_contrast_medium],children:b})}),x.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs,kl.self_center],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===x.role})}),w&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs],children:(0,Ft.jsx)(mD,{timestamp:w,children:({timeElapsed:e})=>(0,Ft.jsxs)(fr,{style:[kl.text_sm,{lineHeight:21},r.atoms.text_contrast_medium,_o({whiteSpace:"preserve nowrap"})],children:["\xb7 ",e]})})}),(e.muted||h.blocked)&&(0,Ft.jsxs)(fr,{style:[kl.text_sm,{lineHeight:21},r.atoms.text_contrast_medium,_o({whiteSpace:"preserve nowrap"})],children:[" ","\xb7"," ",(0,Ft.jsx)(M$,{size:"xs",style:[r.atoms.text_contrast_medium]})]})]}),!y&&(0,Ft.jsxs)(fr,{numberOfLines:1,style:[kl.text_sm,r.atoms.text_contrast_medium,kl.pb_xs],children:["@",u.handle]}),(0,Ft.jsx)(fr,{emoji:!0,numberOfLines:2,style:[kl.text_sm,kl.leading_snug,E?kl.font_bold:r.atoms.text_contrast_high,j&&r.atoms.text_contrast_medium],children:v}),(0,Ft.jsx)(uD,{modui:h.ui("contentList"),size:"lg",style:[kl.pt_xs]}),o]}),E&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,{backgroundColor:j?r.palette.contrast_200:r.palette.primary_500,height:7,width:7,top:15,right:12}]})]})}),n&&(0,Ft.jsx)(F$,{convo:e,profile:u,control:l,currentScreen:"list",showMarkAsRead:e.unreadCount>0,hideTrigger:kt,blockInfo:_,style:[kl.absolute,kl.h_full,kl.self_end,kl.justify_center,{right:eo.lg,opacity:!d||k||l.isOpen?1:0}],latestReportableMessage:S}),(0,Ft.jsx)(ZK,{control:c,convoId:e.id,currentScreen:"list"})]})})}function H$(e){const t=(0,i.c)(16),{profiles:s,size:n,numPending:o,backgroundColor:r}=e,a=void 0===n?26:n,l=a/3,c=ec(),d=Op(),u=o&&0===s.length||!d;let m;if(t[0]!==r||t[1]!==u||t[2]!==d||t[3]!==o||t[4]!==s||t[5]!==a||t[6]!==c||t[7]!==l){const e=u?Array.from({length:o??s.length}).map(N$):s.map((e=>({key:e.did,profile:e,moderation:(0,Is.moderateProfile)(e,d)}))),n=a+(e.length-1)*(a-l);let i,h;t[9]!==n?(i=[kl.flex_row,kl.align_center,kl.relative,{width:n}],t[9]=n,t[10]=i):i=t[10],t[11]!==r||t[12]!==a||t[13]!==c||t[14]!==l?(h=(e,t)=>(0,Ft.jsx)(wo.default,{style:[c.atoms.bg_contrast_25,kl.relative,{width:a,height:a,left:t*-l,borderWidth:1,borderColor:r??c.atoms.bg.backgroundColor,borderRadius:999,zIndex:3-t}],children:e.profile&&(0,Ft.jsx)(mP,{size:a-2,avatar:e.profile.avatar,type:e.profile.associated?.labeler?"labeler":"user",moderation:e.moderation.ui("avatar")})},e.key),t[11]=r,t[12]=a,t[13]=c,t[14]=l,t[15]=h):h=t[15],m=(0,Ft.jsx)(wo.default,{style:i,children:e.map(h)}),t[0]=r,t[1]=u,t[2]=d,t[3]=o,t[4]=s,t[5]=a,t[6]=c,t[7]=l,t[8]=m}else m=t[8];return m}function N$(e,t){return{key:t,profile:null,moderation:null}}function V$(e){const t=(0,i.c)(9),{profiles:s,size:n,backgroundColor:o}=e;let r;t[0]!==s?(r={handles:s},t[0]=s,t[1]=r):r=t[1];const{data:a,error:l}=mb(r);if(l)return"AbortError"!==l.name&&ys.error("Error fetching profiles for AvatarStack",{safeMessage:l}),null;let c,d;return t[2]!==a?.profiles?(c=a?.profiles||[],t[2]=a?.profiles,t[3]=c):c=t[3],t[4]!==o||t[5]!==s.length||t[6]!==n||t[7]!==c?(d=(0,Ft.jsx)(H$,{numPending:s.length,profiles:c,size:n,backgroundColor:o}),t[4]=o,t[5]=s.length,t[6]=n,t[7]=c,t[8]=d):d=t[8],d}function q$(e){const t=(0,i.c)(24),{profiles:s}=e,{_:n}=(0,ft.useLingui)(),o=ec();let r,a,l,c,d,u,m,h,p,f,g,x,_;return t[0]!==n?(r=n({id:"rxzAgN"}),t[0]=n,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a={marginTop:-1*kl.border_t.borderTopWidth},t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l={minHeight:44},t[3]=l):l=t[3],t[4]!==o.atoms.border_contrast_low?(c=[kl.flex_1,kl.px_xl,kl.py_sm,kl.flex_row,kl.align_center,kl.gap_md,kl.border_t,a,kl.border_b,o.atoms.border_contrast_low,l,kl.rounded_0],t[4]=o.atoms.border_contrast_low,t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.relative],u=(0,Ft.jsx)(Pr,{icon:Dv,size:"lg"}),t[6]=d,t[7]=u):(d=t[6],u=t[7]),t[8]!==s.length||t[9]!==o.palette?(m=s.length>0&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.rounded_full,kl.z_20,{top:-4,right:-5,width:10,height:10,backgroundColor:o.palette.primary_500}]}),t[8]=s.length,t[9]=o.palette,t[10]=m):m=t[10],t[11]!==m?(h=(0,Ft.jsxs)(wo.default,{style:d,children:[u,m]}),t[11]=m,t[12]=h):h=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1,kl.font_bold,kl.text_left],t[13]=p):p=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(Cr,{style:p,numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"ZjJ8vi"})}),t[14]=f):f=t[14],t[15]!==s||t[16]!==o.atoms.bg_contrast_25.backgroundColor?(g=(0,Ft.jsx)(H$,{profiles:s,backgroundColor:o.atoms.bg_contrast_25.backgroundColor}),t[15]=s,t[16]=o.atoms.bg_contrast_25.backgroundColor,t[17]=g):g=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(Pr,{icon:nl,size:"lg"}),t[18]=x):x=t[18],t[19]!==r||t[20]!==g||t[21]!==c||t[22]!==h?(_=(0,Ft.jsxs)(pv,{label:r,style:c,to:"/messages/inbox",color:"secondary",variant:"solid",children:[h,f,g,x]}),t[19]=r,t[20]=g,t[21]=c,t[22]=h,t[23]=_):_=t[23],_}function U$({item:e}){switch(e.type){case"INBOX":return(0,Ft.jsx)(q$,{count:e.count,profiles:e.profiles});case"CONVERSATION":return(0,Ft.jsx)(O$,{convo:e.conversation})}}function W$(e){return"INBOX"===e.type?"INBOX":e.conversation.id}function Z$({navigation:e,route:t}){const{_:s}=(0,ft.useLingui)(),n=ec(),{currentAccount:o}=xh(),r=Ar(),i=(0,ko.useAnimatedRef)(),a=t.params?.pushToConversation;(0,mt.useEffect)((()=>{a&&(e.navigate("MessagesConversation",{conversation:a}),e.setParams({pushToConversation:void 0}))}),[e,a]);const l=Ap(),c="active"===MK();(0,va.useFocusEffect)((0,mt.useCallback)((()=>{if(c){const e=l.requestPollInterval(OK);return()=>e()}}),[l,c]));const d=kF({minItemHeight:80}),[u,m]=(0,mt.useState)(!1),{data:h,isLoading:p,isFetchingNextPage:f,hasNextPage:g,fetchNextPage:x,isError:_,error:y,refetch:b}=Gp({status:"accepted"}),{data:j,refetch:v}=Gp({status:"request"});NK(b),NK(v);const w=Up(),S=(0,mt.useMemo)((()=>(j?.pages.flatMap((e=>e.convos)).filter((e=>!w.includes(e.id)&&!e.muted&&e.unreadCount>0&&e.members.every((e=>"missing.invalid"!==e.handle))))??[]).map((e=>e.members.find((e=>e.did!==o?.did)))).filter((e=>!!e))),[j,w,o?.did]),k=(0,mt.useMemo)((()=>{if(h?.pages){const e=h.pages.flatMap((e=>e.convos)).filter((e=>!w.includes(e.id)));return[{type:"INBOX",count:S.length,profiles:S.slice(0,3)},...e.map((e=>({type:"CONVERSATION",conversation:e})))]}return[]}),[h,w,S]),C=(0,mt.useCallback)((async()=>{m(!0);try{await Promise.all([b(),v()])}catch(e){ys.error("Failed to refresh conversations",{message:e})}m(!1)}),[b,v,m]),P=(0,mt.useCallback)((async()=>{if(!f&&g&&!_)try{await x()}catch(e){ys.error("Failed to load more conversations",{message:e})}}),[f,g,_,x]),T=(0,mt.useCallback)((t=>e.navigate("MessagesConversation",{conversation:t})),[e]),L=(0,mt.useCallback)((async()=>{i.current?.scrollToOffset({animated:kt,offset:0});try{await b()}catch(e){ys.error("Failed to refresh conversations",{message:e})}}),[i,b]),A=(0,va.useIsFocused)();return(0,mt.useEffect)((()=>{if(A)return Dt(L)}),[L,A]),k.length<2?(0,Ft.jsxs)(_l,{children:[(0,Ft.jsx)(Q$,{newChatControl:r}),(0,Ft.jsxs)(wl,{children:[(0,Ft.jsx)(q$,{count:S.length,profiles:S}),p?(0,Ft.jsx)(RT,{}):(0,Ft.jsx)(Ft.Fragment,{children:_?(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:[kl.pt_3xl,kl.align_center],children:[(0,Ft.jsx)(Ij,{width:48,fill:n.atoms.text_contrast_low.color}),(0,Ft.jsx)(fr,{style:[kl.pt_md,kl.pb_sm,kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"wXgOPE"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_xl,kl.text_center,kl.leading_snug,n.atoms.text_contrast_medium,{maxWidth:360}],children:ds(y)||s({id:"+kTLLA"})}),(0,Ft.jsxs)(Sr,{label:s({id:"TAGkuP"}),size:"small",color:"secondary_inverted",variant:"solid",onPress:()=>b(),children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),(0,Ft.jsx)(Pr,{icon:sw,position:"right"})]})]})}):(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:[kl.pt_3xl,kl.align_center],children:[(0,Ft.jsx)(ZL,{width:48,fill:n.palette.primary_500}),(0,Ft.jsx)(fr,{style:[kl.pt_md,kl.pb_sm,kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"ntMyuO"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_xl,kl.text_center,kl.leading_snug,n.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"GhFvIt"})})]})})})]}),!p&&!_&&(0,Ft.jsx)(HK,{onNewChat:T,control:r})]}):(0,Ft.jsxs)(_l,{testID:"messagesScreen",children:[(0,Ft.jsx)(Q$,{newChatControl:r}),(0,Ft.jsx)(HK,{onNewChat:T,control:r}),(0,Ft.jsx)(MF,{ref:i,data:k,renderItem:U$,keyExtractor:W$,refreshing:u,onRefresh:C,onEndReached:P,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:f,error:ds(y),onRetry:x,style:{borderColor:"transparent"},hasNextPage:g}),onEndReachedThreshold:kt?1.5:0,initialNumToRender:d,windowSize:11,desktopFixedHeight:!0,sideBorders:!1})]})}function Q$(e){const t=(0,i.c)(17),{newChatControl:s}=e,{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),r=ew();let a;t[0]!==s?(a=()=>{s.open()},t[0]=s,t[1]=a):a=t[1];const l=a;let c,d;t[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ft.Trans,{id:"oYqWde"},"new-chat"),t[2]=c):c=t[2],t[3]!==l||t[4]!==r?(d=r(l,{instructions:[c]}),t[3]=l,t[4]=r,t[5]=d):d=t[5];const u=d;let m,h,p,f;t[6]!==n?(m=n({id:"t+yDOf"}),t[6]=n,t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.justify_center],p=(0,Ft.jsx)(Pr,{icon:LB,size:"lg"}),t[8]=h,t[9]=p):(h=t[8],p=t[9]),t[10]!==m?(f=(0,Ft.jsx)(pv,{to:"/messages/settings",label:m,size:"small",variant:"ghost",color:"secondary",shape:"round",style:h,children:p}),t[10]=m,t[11]=f):f=t[11];const g=f;let x;return t[12]!==n||t[13]!==o||t[14]!==g||t[15]!==u?(x=(0,Ft.jsx)(il,{children:o?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"8Q+lLG"})})}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm],children:[g,(0,Ft.jsxs)(Sr,{label:n({id:"hIQkLb"}),color:"primary",size:"small",variant:"solid",onPress:u,children:[(0,Ft.jsx)(Pr,{icon:kS,position:"left"}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hIQkLb"})})]})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ul,{}),(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"8Q+lLG"})})}),(0,Ft.jsx)(cl,{children:g})]})}),t[12]=n,t[13]=o,t[14]=g,t[15]=u,t[16]=x):x=t[16],x}O$=mt.memo(O$);const K$=new At.default,$$=40,G$=435+$$,Y$=450;function J$({state:e,close:t,pinToTop:n}){const{_:o}=(0,ft.useLingui)(),{height:r,width:i}=(0,Ny.default)(),a=mt.useRef(!1),l=mt.useMemo((()=>{if(n)return{top:e.pos.top-G$+$$-10,left:e.pos.left};const t=e.pos.top+G$<r,s=G$<e.pos.top,o=Y$<e.pos.left,a=r/2-G$/2;return t?{top:e.pos.top+$$}:s?{bottom:r-e.pos.bottom+$$}:{top:a,left:o?e.pos.left-Y$:void 0,right:o?void 0:i-e.pos.right-Y$}}),[e.pos,r,i,n]);mt.useEffect((()=>{if(!e.isOpen)return;const t=e=>{"Shift"===e.key&&(a.current=!0)},s=e=>{"Shift"===e.key&&(a.current=!1)};return window.addEventListener("keydown",t,!0),window.addEventListener("keyup",s,!0),()=>{window.removeEventListener("keydown",t,!0),window.removeEventListener("keyup",s,!0)}}),[e.isOpen]);return e.isOpen?(0,Ft.jsx)(Wr,{children:(0,Ft.jsxs)(Do.FocusScope,{loop:!0,trapped:!0,onUnmountAutoFocus:t=>{const s=e.pos.nextFocusRef,n=s?.current;n&&(t.preventDefault(),n.focus())},children:[(0,Ft.jsx)(tr.default,{accessible:!0,accessibilityLabel:o({id:"YZxXK8"}),accessibilityHint:o({id:"K0Qb3v"}),onPress:t,style:[kl.fixed,kl.inset_0]}),(0,Ft.jsx)(wo.default,{style:Wl([kl.fixed,kl.w_full,kl.h_full,kl.align_center,kl.z_10,{top:0,left:0,right:0}]),children:(0,Ft.jsx)(wo.default,{style:[{position:"absolute"},l],children:(0,Ft.jsx)(Ro.DismissableLayer,{onFocusOutside:e=>e.preventDefault(),onDismiss:t,children:(0,Ft.jsx)(h$.default,{data:async()=>(await s.e(792).then(s.t.bind(s,73792,19))).default,onEmojiSelect:e=>{K$.emit("emoji-inserted",e),a.current||t()},autoFocus:!0})})})}),(0,Ft.jsx)(tr.default,{accessible:!0,accessibilityLabel:o({id:"YZxXK8"}),accessibilityHint:o({id:"K0Qb3v"}),onPress:t,style:[kl.fixed,kl.inset_0]})]})}):null}function X$(){const e=(0,i.c)(18),t=ec();let s,n,o,r,a,l,c,d,u,m;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.p_md],e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25?(n=[kl.align_start,kl.p_xl,kl.rounded_md,t.atoms.bg_contrast_25],e[1]=t.atoms.bg_contrast_25,e[2]=n):n=e[2],e[3]!==t.atoms.text_contrast_high?(o=[kl.text_md,kl.font_bold,kl.pb_sm,t.atoms.text_contrast_high],e[3]=t.atoms.text_contrast_high,e[4]=o):o=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(ft.Trans,{id:"cpgLIe"}),e[5]=r):r=e[5],e[6]!==o?(a=(0,Ft.jsx)(fr,{style:o,children:r}),e[6]=o,e[7]=a):a=e[7],e[8]!==t.atoms.text_contrast_medium?(l=[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],e[8]=t.atoms.text_contrast_medium,e[9]=l):l=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ft.Trans,{id:"M9NMWw"}),e[10]=c):c=e[10],e[11]!==l?(d=(0,Ft.jsx)(fr,{style:l,children:c}),e[11]=l,e[12]=d):d=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(eG,{}),e[13]=u):u=e[13],e[14]!==n||e[15]!==a||e[16]!==d?(m=(0,Ft.jsx)(wo.default,{style:s,children:(0,Ft.jsxs)(wo.default,{style:n,children:[a,d,u]})}),e[14]=n,e[15]=a,e[16]=d,e[17]=m):m=e[17],m}function eG(){const e=(0,i.c)(17),t=Ar(),{_:s}=(0,ft.useLingui)(),n=t.open;let o,r,a,l,c,d,u,m;return e[0]!==s?(o=s({id:"c0PCYD"}),e[0]=s,e[1]=o):o=e[1],e[2]!==s?(r=s({id:"c0PCYD"}),e[2]=s,e[3]=r):r=e[3],e[4]!==r?(a=(0,Ft.jsx)(Cr,{children:r}),e[4]=r,e[5]=a):a=e[5],e[6]!==t.open||e[7]!==o||e[8]!==a?(l=(0,Ft.jsx)(Sr,{testID:"appealDisabledChatBtn",variant:"ghost",color:"secondary",size:"small",onPress:n,label:o,style:kl.mt_sm,children:a}),e[6]=t.open,e[7]=o,e[8]=a,e[9]=l):l=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ha,{}),d=(0,Ft.jsx)(tG,{}),e[10]=c,e[11]=d):(c=e[10],d=e[11]),e[12]!==t?(u=(0,Ft.jsxs)(aa,{control:t,children:[c,d]}),e[12]=t,e[13]=u):u=e[13],e[14]!==l||e[15]!==u?(m=(0,Ft.jsxs)(Ft.Fragment,{children:[l,u]}),e[14]=l,e[15]=u,e[16]=m):m=e[16],m}function tG(){const e=(0,i.c)(64),{_:t}=(0,ft.useLingui)(),s=Lr(),[n,o]=(0,mt.useState)(""),{gtMobile:r}=ql(),a=bh(),{currentAccount:l}=xh();let c,d,u,m;e[0]!==a||e[1]!==l||e[2]!==n?(c=async()=>{if(!l)throw new Error("No current account, should be unreachable");await a.createModerationReport({reasonType:Is.ComAtprotoModerationDefs.REASONAPPEAL,subject:{$type:"com.atproto.admin.defs#repoRef",did:l.did},reason:n})},e[0]=a,e[1]=l,e[2]=n,e[3]=c):c=e[3],e[4]!==t?(d=e=>{ys.error("Failed to submit chat appeal",{message:e}),Zu(t({id:"weFIXk"}),"xmark")},e[4]=t,e[5]=d):d=e[5],e[6]!==t||e[7]!==s?(u=()=>{s.close(),Zu(t({id:"tk78Wd"}))},e[6]=t,e[7]=s,e[8]=u):u=e[8],e[9]!==c||e[10]!==d||e[11]!==u?(m={mutationFn:c,onError:d,onSuccess:u},e[9]=c,e[10]=d,e[11]=u,e[12]=m):m=e[12];const{mutate:h,isPending:p}=(0,Sd.useMutation)(m);let f;e[13]!==h?(f=()=>h(),e[13]=h,e[14]=f):f=e[14];const g=f;let x;e[15]!==s?(x=()=>s.close(),e[15]=s,e[16]=x):x=e[16];const _=x;let y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O;return e[17]!==t?(y=t({id:"c0PCYD"}),e[17]=t,e[18]=y):y=e[18],e[19]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold,kl.pb_xs,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"c0PCYD"})}),e[19]=b):b=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"u7I+xA"})}),e[20]=j):j=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.my_md],e[21]=v):v=e[21],e[22]!==t?(w=t({id:"p8Iz39"}),e[22]=t,e[23]=w):w=e[23],e[24]!==t?(S=t({id:"o6X9DK"}),e[24]=t,e[25]=S):S=e[25],e[26]!==n||e[27]!==w||e[28]!==S?(k=(0,Ft.jsx)(wo.default,{style:v,children:(0,Ft.jsx)(ea,{label:w,placeholder:S,value:n,onChangeText:o,autoFocus:!0,numberOfLines:3,multiline:!0,maxLength:300})}),e[26]=n,e[27]=w,e[28]=S,e[29]=k):k=e[29],e[30]!==r?(C=r?[kl.flex_row,kl.justify_between]:[{flexDirection:"column-reverse"},kl.gap_sm],e[30]=r,e[31]=C):C=e[31],e[32]!==t?(P=t({id:"iH8pgl"}),e[32]=t,e[33]=P):P=e[33],e[34]!==t?(T=t({id:"iH8pgl"}),e[34]=t,e[35]=T):T=e[35],e[36]!==T?(L=(0,Ft.jsx)(Cr,{children:T}),e[36]=T,e[37]=L):L=e[37],e[38]!==_||e[39]!==P||e[40]!==L?(A=(0,Ft.jsx)(Sr,{testID:"backBtn",variant:"solid",color:"secondary",size:"large",onPress:_,label:P,children:L}),e[38]=_,e[39]=P,e[40]=L,e[41]=A):A=e[41],e[42]!==t?(I=t({id:"hQRttt"}),e[42]=t,e[43]=I):I=e[43],e[44]!==t?(R=t({id:"hQRttt"}),e[44]=t,e[45]=R):R=e[45],e[46]!==R?(D=(0,Ft.jsx)(Cr,{children:R}),e[46]=R,e[47]=D):D=e[47],e[48]!==p?(F=p&&(0,Ft.jsx)(Pr,{icon:wv}),e[48]=p,e[49]=F):F=e[49],e[50]!==g||e[51]!==I||e[52]!==D||e[53]!==F?(E=(0,Ft.jsxs)(Sr,{testID:"submitBtn",variant:"solid",color:"primary",size:"large",onPress:g,label:I,children:[D,F]}),e[50]=g,e[51]=I,e[52]=D,e[53]=F,e[54]=E):E=e[54],e[55]!==C||e[56]!==A||e[57]!==E?(M=(0,Ft.jsxs)(wo.default,{style:C,children:[A,E]}),e[55]=C,e[56]=A,e[57]=E,e[58]=M):M=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(ma,{}),e[59]=B):B=e[59],e[60]!==k||e[61]!==M||e[62]!==y?(O=(0,Ft.jsxs)(da,{label:y,children:[b,j,k,M,B]}),e[60]=k,e[61]=M,e[62]=y,e[63]=O):O=e[63],O}var sG=s(21785);function nG(e){const t=(0,i.c)(56),{embedUri:s,setEmbed:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),{data:a,status:l}=function(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=BM(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o||t[4]!==e?(r={queryKey:o,async queryFn(){const t=new Is.AtUri(e);if(!t.host.startsWith("did:")){const e=await s.resolveHandle({handle:t.host});t.host=e.data.did}const n=await s.getPosts({uris:[t.toString()]});if(n.success&&n.data.posts[0])return n.data.posts[0];throw new Error("No data")},enabled:!!e},t[2]=s,t[3]=o,t[4]=e,t[5]=r):r=t[5],(0,vd.useQuery)(r)}(s),c=Op();let d,u;t[0]!==c||t[1]!==a?(u=c&&a?(0,Is.moderatePost)(a,c):void 0,t[0]=c,t[1]=a,t[2]=u):u=t[2],d=u;const m=d;let h;e:{if(a&&If(a.record,Is.AppBskyFeedPost.isRecord)){let e,s;t[3]!==a.record.facets||t[4]!==a.record.text?(e=new Is.RichText({text:a.record.text,facets:a.record.facets}),t[3]=a.record.facets,t[4]=a.record.text,t[5]=e):e=t[5],t[6]!==a.record||t[7]!==e?(s={rt:e,record:a.record},t[6]=a.record,t[7]=e,t[8]=s):s=t[8],h=s;break e}let e;t[9]===Symbol.for("react.memo_cache_sentinel")?(e={rt:void 0,record:void 0},t[9]=e):e=t[9],h=e}const{rt:p,record:f}=h;if(!s)return null;let g,x=null;e:switch(l){case"pending":{let e;t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{minHeight:64},kl.justify_center,kl.align_center],children:(0,Ft.jsx)(wv,{})}),t[10]=e):e=t[10],x=e;break e}case"error":{let e;t[11]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(wo.default,{style:[kl.flex_1,{minHeight:64},kl.justify_center,kl.align_center],children:(0,Ft.jsx)(fr,{style:kl.text_center,children:"Could not fetch post"})}),t[11]=e):e=t[11],x=e;break e}case"success":{let e;if(t[12]!==a.author||t[13]!==a.uri){const s=new Is.AtUri(a.uri);e=cS(a.author,"post",s.rkey),t[12]=a.author,t[13]=a.uri,t[14]=e}else e=t[14];const s=e;if(!a||!m||!p||!f)return null;let n,r,i,l,c,d,u,h,g;t[15]!==o.atoms.bg||t[16]!==o.atoms.border_contrast_low?(n=[kl.flex_1,o.atoms.bg,o.atoms.border_contrast_low,kl.rounded_md,kl.border,kl.p_sm,kl.mb_sm],t[15]=o.atoms.bg,t[16]=o.atoms.border_contrast_low,t[17]=n):n=t[17],t[18]!==s||t[19]!==m||t[20]!==a.author||t[21]!==a.indexedAt?(r=(0,Ft.jsx)(hD,{showAvatar:!0,author:a.author,moderation:m,timestamp:a.indexedAt,postHref:s,style:kl.flex_0}),t[18]=s,t[19]=m,t[20]=a.author,t[21]=a.indexedAt,t[22]=r):r=t[22],t[23]!==m?(i=m.ui("contentView"),t[23]=m,t[24]=i):i=t[24],t[25]!==m?(l=m.ui("contentView"),t[25]=m,t[26]=l):l=t[26],t[27]!==l?(c=(0,Ft.jsx)(uD,{modui:l,style:kl.py_xs}),t[27]=l,t[28]=c):c=t[28],t[29]!==a.author||t[30]!==p||t[31]!==o.atoms.text_contrast_high?(d=p.text&&(0,Ft.jsx)(wo.default,{style:kl.mt_xs,children:(0,Ft.jsx)(DC,{enableTags:!0,testID:"postText",value:p,style:[kl.text_sm,o.atoms.text_contrast_high],authorHandle:a.author.handle,numberOfLines:3})}),t[29]=a.author,t[30]=p,t[31]=o.atoms.text_contrast_high,t[32]=d):d=t[32],t[33]!==a.embed?(u=(0,Ft.jsx)(cO,{embed:a.embed,style:kl.mt_sm}),t[33]=a.embed,t[34]=u):u=t[34],t[35]!==d||t[36]!==u||t[37]!==i||t[38]!==c?(h=(0,Ft.jsxs)(DR,{modui:i,children:[c,d,u]}),t[35]=d,t[36]=u,t[37]=i,t[38]=c,t[39]=h):h=t[39],t[40]!==h||t[41]!==n||t[42]!==r?(g=(0,Ft.jsxs)(wo.default,{style:n,pointerEvents:"none",children:[r,h]}),t[40]=h,t[41]=n,t[42]=r,t[43]=g):g=t[43],x=g}}t[44]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_row,kl.gap_sm],t[44]=g):g=t[44];const _=x;let y,b,j,v,w;return t[45]!==r?(y=r({id:"R2M2CM"}),t[45]=r,t[46]=y):y=t[46],t[47]!==n?(b=()=>{vF.default.configureNext(vF.default.Presets.easeInEaseOut),n(void 0)},t[47]=n,t[48]=b):b=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(Pr,{icon:Hr}),t[49]=j):j=t[49],t[50]!==y||t[51]!==b?(v=(0,Ft.jsx)(Sr,{label:y,onPress:b,size:"tiny",variant:"solid",color:"secondary",shape:"round",children:j}),t[50]=y,t[51]=b,t[52]=v):v=t[52],t[53]!==x||t[54]!==v?(w=(0,Ft.jsxs)(wo.default,{style:g,children:[_,v]}),t[53]=x,t[54]=v,t[55]=w):w=t[55],w}function oG(e){const t=(0,i.c)(67),{onSendMessage:s,hasEmbed:n,setEmbed:o,children:r,openEmojiPicker:a}=e,{isMobile:l}=jx(),{_:c}=(0,ft.useLingui)(),d=ec(),{getDraft:u,clearDraft:m}=function(){const e=(0,i.c)(9),{currentConvoId:t}=yp(),{state:s,dispatch:n}=pf();let o,r,a,l;return e[0]!==t||e[1]!==s?(r=()=>t&&s[t]||"",e[0]=t,e[1]=s,e[2]=r):r=e[2],e[3]!==t||e[4]!==n?(a=()=>{t&&n({type:"clear",convoId:t})},e[3]=t,e[4]=n,e[5]=a):a=e[5],e[6]!==r||e[7]!==a?(l={getDraft:r,clearDraft:a},e[6]=r,e[7]=a,e[8]=l):l=e[8],o=l,o}(),[h,p]=mt.useState(u),f=Ji(),g=mt.useRef(!1),[x,_]=mt.useState(!1),[y,b]=mt.useState(!1),[j,v]=mt.useState(38),w=mt.useRef(null);let S;t[0]!==c||t[1]!==m||t[2]!==n||t[3]!==h||t[4]!==s||t[5]!==o?(S=()=>{(n||""!==h.trim())&&((new(Aw())).countGraphemes(h)>li?Zu(c({id:"m5rSvL"}),"xmark"):(m(),s(h),p(""),o(void 0)))},t[0]=c,t[1]=m,t[2]=n,t[3]=h,t[4]=s,t[5]=o,t[6]=S):S=t[6];const k=S;let C;t[7]!==k?(C=e=>{if(!g.current&&(!rm||"Enter"!==e.key||229!==e.keyCode)&&"Enter"===e.key){if(e.shiftKey)return;e.preventDefault(),k()}},t[7]=k,t[8]=C):C=t[8];const P=C;let T;t[9]===Symbol.for("react.memo_cache_sentinel")?(T=e=>{p(e.target.value)},t[9]=T):T=t[9];const L=T;let A;t[10]===Symbol.for("react.memo_cache_sentinel")?(A=e=>{if(!w.current)return;const t=w.current.selectionStart??0;w.current.focus(),(0,D_.flushSync)((()=>{p((s=>s.slice(0,t)+e.native+s.slice(t)))})),w.current.selectionStart=t+e.native.length,w.current.selectionEnd=t+e.native.length},t[10]=A):A=t[10];const I=A;let R,D;t[11]===Symbol.for("react.memo_cache_sentinel")?(R=()=>(K$.addListener("emoji-inserted",I),()=>{K$.removeListener("emoji-inserted",I)}),D=[I],t[11]=R,t[12]=D):(R=t[11],D=t[12]),mt.useEffect(R,D),function(e){const{currentConvoId:t}=yp(),{dispatch:s}=pf(),n=(0,mt.useRef)(e);n.current=e,(0,mt.useEffect)((()=>()=>{t&&s({type:"set",convoId:t,draft:n.current})}),[t,s])}(h),function(e,t){const s=(0,i.c)(8);let n,o,r;if(s[0]!==e){const t=new Is.RichText({text:e});t.detectFacetsWithoutResolution();for(const e of t.facets??[])for(const t of e.features)if(Is.AppBskyRichtextFacet.isLink(t)&&bu(t.uri)){n=t.uri;break}s[0]=e,s[1]=n}else n=s[1];s[2]!==t||s[3]!==n?(o=()=>{n&&t(n)},s[2]=t,s[3]=n,s[4]=o):o=s[4],s[5]!==t||s[6]!==n?(r=[n,t],s[5]=t,s[6]=n,s[7]=r):r=s[7],(0,mt.useEffect)(o,r)}(h,o);const F=j+23;let E;t[13]!==F?(E={paddingRight:kl.p_sm.padding-2,paddingLeft:kl.p_sm.padding-2,borderWidth:1,borderRadius:23,borderColor:"transparent",height:F},t[13]=F,t[14]=E):E=t[14];const M=y&&f.chromeHover,B=x&&f.chromeFocus;let O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J;t[15]!==d.atoms.bg_contrast_25||t[16]!==B||t[17]!==E||t[18]!==M?(O=[kl.flex_row,d.atoms.bg_contrast_25,E,M,B],t[15]=d.atoms.bg_contrast_25,t[16]=B,t[17]=E,t[18]=M,t[19]=O):O=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(z=()=>b(!0),H=()=>b(!1),t[20]=z,t[21]=H):(z=t[20],H=t[21]),t[22]!==a?(N=e=>{e.currentTarget.measure(((e,t,s,n,o,r)=>{a?.({top:r,left:o,right:o,bottom:r,nextFocusRef:w})}))},t[22]=a,t[23]=N):N=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(V=[kl.rounded_full,kl.overflow_hidden,kl.align_center,kl.justify_center,{marginTop:5,height:30,width:30}],t[24]=V):V=t[24],t[25]!==c?(q=c({id:"yovQyJ"}),t[25]=c,t[26]=q):q=t[26],t[27]!==d.atoms.bg?(U=e=>(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.align_center,kl.justify_center,{backgroundColor:e.hovered||e.focused||e.pressed?d.atoms.bg.backgroundColor:void 0}],children:(0,Ft.jsx)(CB,{size:"lg"})}),t[27]=d.atoms.bg,t[28]=U):U=t[28],t[29]!==N||t[30]!==q||t[31]!==U?(W=(0,Ft.jsx)(Sr,{onPress:N,style:V,label:q,children:U}),t[29]=N,t[30]=q,t[31]=U,t[32]=W):W=t[32],t[33]!==d.atoms.text?(Z=Gn.default.flatten([kl.flex_1,kl.px_sm,kl.border_0,d.atoms.text,{paddingTop:10,backgroundColor:"transparent",resize:"none"}]),t[33]=d.atoms.text,t[34]=Z):Z=t[34],t[35]!==c?(Q=c({id:"eWlz27"}),t[35]=c,t[36]=Q):Q=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(K=()=>_(!0),$=()=>_(!1),G=()=>{g.current=!0},Y=()=>{g.current=!1},J=e=>v(e),t[37]=K,t[38]=$,t[39]=G,t[40]=Y,t[41]=J):(K=t[37],$=t[38],G=t[39],Y=t[40],J=t[41]);const X=am&&l?void 0:P;let ee,te,se,ne,oe,re,ie,ae;return t[42]!==h||t[43]!==Z||t[44]!==Q||t[45]!==X?(ee=(0,Ft.jsx)(sG.default,{ref:w,style:Z,maxRows:12,placeholder:Q,defaultValue:"",value:h,dirName:"ltr",autoFocus:!0,onFocus:K,onBlur:$,onCompositionStart:G,onCompositionEnd:Y,onHeightChange:J,onChange:L,onKeyDown:X}),t[42]=h,t[43]=Z,t[44]=Q,t[45]=X,t[46]=ee):ee=t[46],t[47]!==c?(te=c({id:"pi1oME"}),t[47]=c,t[48]=te):te=t[48],t[49]!==d.palette.primary_500?(se=[kl.rounded_full,kl.align_center,kl.justify_center,{height:30,width:30,marginTop:5,backgroundColor:d.palette.primary_500}],t[49]=d.palette.primary_500,t[50]=se):se=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(ne=[kl.relative,{left:1}],t[51]=ne):ne=t[51],t[52]!==d.palette.white?(oe=(0,Ft.jsx)(gL,{fill:d.palette.white,style:ne}),t[52]=d.palette.white,t[53]=oe):oe=t[53],t[54]!==k||t[55]!==te||t[56]!==se||t[57]!==oe?(re=(0,Ft.jsx)(tr.default,{accessibilityRole:"button",accessibilityLabel:te,accessibilityHint:"",style:se,onPress:k,children:oe}),t[54]=k,t[55]=te,t[56]=se,t[57]=oe,t[58]=re):re=t[58],t[59]!==O||t[60]!==W||t[61]!==ee||t[62]!==re?(ie=(0,Ft.jsxs)(wo.default,{style:O,onMouseEnter:z,onMouseLeave:H,children:[W,ee,re]}),t[59]=O,t[60]=W,t[61]=ee,t[62]=re,t[63]=ie):ie=t[63],t[64]!==r||t[65]!==ie?(ae=(0,Ft.jsxs)(wo.default,{style:kl.p_sm,children:[r,ie]}),t[64]=r,t[65]=ie,t[66]=ae):ae=t[66],ae}function rG(e){const t=(0,i.c)(40),{item:s}=e,n=ec(),{_:o}=(0,ft.useLingui)();let r,a,l,c,d,u,m,h,p,f;t[0]!==o?(a=o({id:"7dWu6a"}),t[0]=o,t[1]=a):a=t[1],t[2]!==o?(l=o({id:"y5SzFZ"}),t[2]=o,t[3]=l):l=t[3],t[4]!==o?(c=o({id:"gcoiFh"}),t[4]=o,t[5]=c):c=t[5],t[6]!==a||t[7]!==l||t[8]!==c?(d={description:a,help:l,cta:c},t[6]=a,t[7]=l,t[8]=c,t[9]=d):d=t[9],t[10]!==o?(u=o({id:"BXCCgM"}),t[10]=o,t[11]=u):u=t[11],t[12]!==o?(m=o({id:"Mey1Kb"}),t[12]=o,t[13]=m):m=t[13],t[14]!==o?(h=o({id:"6gRgw8"}),t[14]=o,t[15]=h):h=t[15],t[16]!==u||t[17]!==m||t[18]!==h?(p={description:u,help:m,cta:h},t[16]=u,t[17]=m,t[18]=h,t[19]=p):p=t[19],t[20]!==d||t[21]!==p?(f={[e$.FirehoseFailed]:d,[e$.HistoryFailed]:p},t[20]=d,t[21]=p,t[22]=f):f=t[22],r=f[s.code];const{description:g,help:x,cta:_}=r;let y,b,j,v,w,S,k;return t[23]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.py_md,kl.w_full,kl.flex_row,kl.justify_center],t[23]=y):y=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_1,kl.flex_row,kl.align_center,kl.justify_center,kl.gap_sm,{maxWidth:400}],t[24]=b):b=t[24],t[25]!==n.palette.negative_400?(j=(0,Ft.jsx)(Ij,{size:"sm",fill:n.palette.negative_400}),t[25]=n.palette.negative_400,t[26]=j):j=t[26],t[27]!==n.atoms.text_contrast_medium?(v=[kl.leading_snug,n.atoms.text_contrast_medium],t[27]=n.atoms.text_contrast_medium,t[28]=v):v=t[28],t[29]!==_||t[30]!==x||t[31]!==s?(w=s.retry&&(0,Ft.jsx)(fv,{to:"#",label:x,onPress:e=>(e.preventDefault(),s.retry?.(),!1),children:_}),t[29]=_,t[30]=x,t[31]=s,t[32]=w):w=t[32],t[33]!==g||t[34]!==v||t[35]!==w?(S=(0,Ft.jsxs)(fr,{style:v,children:[g," \xb7"," ",w]}),t[33]=g,t[34]=v,t[35]=w,t[36]=S):S=t[36],t[37]!==j||t[38]!==S?(k=(0,Ft.jsx)(wo.default,{style:y,children:(0,Ft.jsxs)(wo.default,{style:b,children:[j,S]})}),t[37]=j,t[38]=S,t[39]=k):k=t[39],k}const iG={code:"function ScaleAndFadeIn_ScaleAndFadeTs1(){const{withTiming}=this.__closure;const animations={opacity:withTiming(1),transform:[{scale:withTiming(1)}]};const initialValues={opacity:0,transform:[{scale:0.7}]};return{animations:animations,initialValues:initialValues};}"},aG=function(){const e=function(){return{animations:{opacity:(0,ko.withTiming)(1),transform:[{scale:(0,ko.withTiming)(1)}]},initialValues:{opacity:0,transform:[{scale:.7}]}}};return e.__closure={withTiming:ko.withTiming},e.__workletHash=0xbbc21774843,e.__initData=iG,e}(),lG={code:"function ScaleAndFadeOut_ScaleAndFadeTs2(){const{withTiming}=this.__closure;const animations={opacity:withTiming(0),transform:[{scale:withTiming(0.7)}]};const initialValues={opacity:1,transform:[{scale:1}]};return{animations:animations,initialValues:initialValues};}"},cG=function(){const e=function(){return{animations:{opacity:(0,ko.withTiming)(0),transform:[{scale:(0,ko.withTiming)(.7)}]},initialValues:{opacity:1,transform:[{scale:1}]}}};return e.__closure={withTiming:ko.withTiming},e.__workletHash=3037257615177,e.__initData=lG,e}(),dG={code:"function ShrinkAndPop_ShrinkAndPopTs1(){const{withDelay,withTiming,withSequence}=this.__closure;const animations={opacity:withDelay(125,withTiming(0,{duration:125})),transform:[{scale:withSequence(withTiming(0.7,{duration:75}),withTiming(1.1,{duration:150}))}]};const initialValues={opacity:1,transform:[{scale:1}]};return{animations:animations,initialValues:initialValues};}"},uG=function(){const e=function(){return{animations:{opacity:(0,ko.withDelay)(125,(0,ko.withTiming)(0,{duration:125})),transform:[{scale:(0,ko.withSequence)((0,ko.withTiming)(.7,{duration:75}),(0,ko.withTiming)(1.1,{duration:150}))}]},initialValues:{opacity:1,transform:[{scale:1}]}}};return e.__closure={withDelay:ko.withDelay,withTiming:ko.withTiming,withSequence:ko.withSequence},e.__workletHash=2025613361345,e.__initData=dG,e}(),mG=ko.default.createAnimatedComponent(tr.default);let hG=0;const pG={code:"function ChatEmptyPillTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function fG(){const e=(0,i.c)(42),t=ec(),{_:s}=(0,ft.useLingui)(),n=lS(),[o,r]=mt.useState(hG),a=(0,ko.useSharedValue)(1);let l,c,d,u,m,h,p,f,g;e[0]!==s?(c=s({id:"z0lIxU"}),e[0]=s,e[1]=c):c=e[1],e[2]!==s?(d=s({id:"NKXbG5"}),e[2]=s,e[3]=d):d=e[3],e[4]!==s?(u=s({id:"kkqknh"}),e[4]=s,e[5]=u):u=e[5],e[6]!==s?(m=s({id:"4VGGIo"}),e[6]=s,e[7]=m):m=e[7],e[8]!==s?(h=s({id:"ToxyT7"}),e[8]=s,e[9]=h):h=e[9],e[10]!==s?(p=s({id:"jLGNDJ"}),e[10]=s,e[11]=p):p=e[11],e[12]!==s?(f=s({id:"sHJZj3"}),e[12]=s,e[13]=f):f=e[13],e[14]!==c||e[15]!==d||e[16]!==u||e[17]!==m||e[18]!==h||e[19]!==p||e[20]!==f?(g=[c,d,u,m,h,p,f],e[14]=c,e[15]=d,e[16]=u,e[17]=m,e[18]=h,e[19]=p,e[20]=f,e[21]=g):g=e[21],l=g;const x=l;let _;e[22]!==a?(_=()=>{Pt||a.set(xG)},e[22]=a,e[23]=_):_=e[23];const y=_;let b;e[24]!==a?(b=()=>{Pt||a.set(gG)},e[24]=a,e[25]=b):b=e[25];const j=b;let v;e[26]!==n||e[27]!==x.length?(v=()=>{(0,ko.runOnJS)(n)();let e=Math.floor(Math.random()*x.length);for(;e===hG;)e=Math.floor(Math.random()*x.length);r(e),hG=e},e[26]=n,e[27]=x.length,e[28]=v):v=e[28];const w=v,S=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:a.get()}]});return e.__closure={scale:a},e.__workletHash=7203604251e3,e.__initData=pG,e}());let k,C,P;e[29]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.absolute,kl.w_full,kl.z_10,kl.align_center,{top:-50}],e[29]=k):k=e[29],e[30]!==S||e[31]!==t.atoms.bg_contrast_25?(C=[kl.px_xl,kl.py_md,kl.rounded_full,t.atoms.bg_contrast_25,kl.align_center,S],e[30]=S,e[31]=t.atoms.bg_contrast_25,e[32]=C):C=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.font_bold,kl.pointer_events_none],e[33]=P):P=e[33];const T=x[o];let L,A;return e[34]!==T?(L=(0,Ft.jsx)(fr,{style:P,selectable:!1,children:T}),e[34]=T,e[35]=L):L=e[35],e[36]!==w||e[37]!==y||e[38]!==j||e[39]!==C||e[40]!==L?(A=(0,Ft.jsx)(wo.default,{style:k,children:(0,Ft.jsx)(mG,{style:C,entering:aG,exiting:uG,onPress:w,onPressIn:y,onPressOut:j,children:L})}),e[36]=w,e[37]=y,e[38]=j,e[39]=C,e[40]=L,e[41]=A):A=e[41],A}function gG(){return(0,ko.withTiming)(1,{duration:100})}function xG(){return(0,ko.withTiming)(1.075,{duration:100})}const _G=ko.default.createAnimatedComponent(tr.default),yG={code:"function NewMessagesPillTsx1(){const{scale}=this.__closure;return{transform:[{scale:scale.get()}]};}"};function bG(e){const t=(0,i.c)(23),{onPress:s}=e,n=ec(),o=lS(),{bottom:r}=(0,pt.useSafeAreaInsets)(),a=Pt?0:r+(wt?42:St?60:0),l=(0,ko.useSharedValue)(1);let c;t[0]!==l?(c=()=>{Pt||l.set(vG)},t[0]=l,t[1]=c):c=t[1];const d=c;let u;t[2]!==l?(u=()=>{Pt||l.set(jG)},t[2]=l,t[3]=u):u=t[3];const m=u;let h;t[4]!==s||t[5]!==o?(h=()=>{(0,ko.runOnJS)(o)(),s?.()},t[4]=s,t[5]=o,t[6]=h):h=t[6];const p=h,f=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{scale:l.get()}]});return e.__closure={scale:l},e.__workletHash=351654691735,e.__initData=yG,e}()),g=a+70;let x,_,y,b,j,v;return t[7]!==g?(x=[kl.absolute,kl.w_full,kl.z_10,kl.align_center,{bottom:g,pointerEvents:"box-none"}],t[7]=g,t[8]=x):x=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_={width:160,alignItems:"center",shadowOpacity:.125,shadowRadius:12,shadowOffset:{width:0,height:5},pointerEvents:"box-only"},t[9]=_):_=t[9],t[10]!==f||t[11]!==n.atoms.bg_contrast_50||t[12]!==n.atoms.border_contrast_medium?(y=[kl.py_sm,kl.rounded_full,kl.shadow_sm,kl.border,n.atoms.bg_contrast_50,n.atoms.border_contrast_medium,_,f],t[10]=f,t[11]=n.atoms.bg_contrast_50,t[12]=n.atoms.border_contrast_medium,t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(fr,{style:[kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"nhncVG"})}),t[14]=b):b=t[14],t[15]!==p||t[16]!==d||t[17]!==m||t[18]!==y?(j=(0,Ft.jsx)(_G,{style:y,entering:aG,exiting:cG,onPress:p,onPressIn:d,onPressOut:m,children:b}),t[15]=p,t[16]=d,t[17]=m,t[18]=y,t[19]=j):j=t[19],t[20]!==x||t[21]!==j?(v=(0,Ft.jsx)(wo.default,{style:x,children:j}),t[20]=x,t[21]=j,t[22]=v):v=t[22],v}function jG(){return(0,ko.withTiming)(1,{duration:100})}function vG(){return(0,ko.withTiming)(1.075,{duration:100})}const wG=["convo","profile","size","variant","color","label","showDeleteConvo","currentScreen"],SG=["convo","size","variant","color","label","currentScreen","onAcceptConvo"],kG=["convo","size","variant","color","label","currentScreen"];function CG(e){const t=(0,i.c)(66);let s,n,o,r,a,l,c,d,u;if(t[0]!==e){var m=e;({convo:s,profile:r,size:c,variant:d,color:u,label:o,showDeleteConvo:l,currentScreen:n}=m),a=(0,ls.default)(m,wG),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d,t[9]=u}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8],u=t[9];const h=void 0===c?"tiny":c,p=void 0===d?"outline":d,f=void 0===u?"secondary":u,{_:g}=(0,ft.useLingui)(),x=Ry(r),_=(0,va.useNavigation)();let y,b,j;t[10]!==n||t[11]!==_?(y=()=>{"conversation"===n&&_.dispatch(va.StackActions.pop())},t[10]=n,t[11]=_,t[12]=y):y=t[12],t[13]!==g?(b=()=>{Zu(g({id:"JwZyOx"}),"xmark")},t[13]=g,t[14]=b):b=t[14],t[15]!==y||t[16]!==b?(j={onMutate:y,onError:b},t[15]=y,t[16]=b,t[17]=j):j=t[17];const{mutate:v}=qp(s.id,j),[w]=bb(x);let S;t[18]!==g||t[19]!==v?(S=()=>{Zu(g({id:"LLnhat"}),"check"),v()},t[18]=g,t[19]=v,t[20]=S):S=t[20];const k=S;let C;t[21]!==g||t[22]!==v||t[23]!==w?(C=()=>{Zu(g({id:"ZJdD7R"}),"check"),w(),v()},t[21]=g,t[22]=v,t[23]=w,t[24]=C):C=t[24];const P=C,T=Ar(),L=Is.ChatBskyConvoDefs.isMessageView(s.lastMessage)?s.lastMessage:null;let A,I,R,D,F,E,M,B,O,z,H,N,V;return t[25]!==g?(A=g({id:"G1zqST"}),t[25]=g,t[26]=A):A=t[26],t[27]!==f||t[28]!==o||t[29]!==a||t[30]!==h||t[31]!==p?(I=e=>{const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({},t,a,{label:t.accessibilityLabel,style:[kl.flex_1],color:f,variant:p,size:h,children:(0,Ft.jsx)(Cr,{children:o||(0,Ft.jsx)(ft.Trans,{id:"1t/NnN"})})}))},t[27]=f,t[28]=o,t[29]=a,t[30]=h,t[31]=p,t[32]=I):I=t[32],t[33]!==I||t[34]!==A?(R=(0,Ft.jsx)(vC,{label:A,children:I}),t[33]=I,t[34]=A,t[35]=R):R=t[35],t[36]!==g||t[37]!==k||t[38]!==l?(D=l&&(0,Ft.jsxs)(SC,{label:g({id:"2GCE3m"}),onPress:k,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"2GCE3m"})}),(0,Ft.jsx)(CC,{icon:iT})]}),t[36]=g,t[37]=k,t[38]=l,t[39]=D):D=t[39],t[40]!==g?(F=g({id:"ERffXY"}),t[40]=g,t[41]=F):F=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ERffXY"})}),M=(0,Ft.jsx)(CC,{icon:lC}),t[42]=E,t[43]=M):(E=t[42],M=t[43]),t[44]!==P||t[45]!==F?(B=(0,Ft.jsxs)(SC,{label:F,onPress:P,children:[E,M]}),t[44]=P,t[45]=F,t[46]=B):B=t[46],t[47]!==g||t[48]!==L||t[49]!==T?(O=L&&(0,Ft.jsxs)(SC,{label:g({id:"a5ISwI"}),onPress:T.open,children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"a5ISwI"})}),(0,Ft.jsx)(CC,{icon:cT})]}),t[47]=g,t[48]=L,t[49]=T,t[50]=O):O=t[50],t[51]!==D||t[52]!==B||t[53]!==O?(z=(0,Ft.jsx)(wC,{children:(0,Ft.jsxs)(LC,{children:[D,B,O]})}),t[51]=D,t[52]=B,t[53]=O,t[54]=z):z=t[54],t[55]!==R||t[56]!==z?(H=(0,Ft.jsxs)(bC,{children:[R,z]}),t[55]=R,t[56]=z,t[57]=H):H=t[57],t[58]!==s.id||t[59]!==n||t[60]!==L||t[61]!==T?(N=L&&(0,Ft.jsx)(T$,{currentScreen:n,params:{type:"convoMessage",convoId:s.id,message:L},control:T}),t[58]=s.id,t[59]=n,t[60]=L,t[61]=T,t[62]=N):N=t[62],t[63]!==H||t[64]!==N?(V=(0,Ft.jsxs)(Ft.Fragment,{children:[H,N]}),t[63]=H,t[64]=N,t[65]=V):V=t[65],V}function PG(e){const t=(0,i.c)(38);let s,n,o,r,a,l,c,d;if(t[0]!==e){var u=e;({convo:s,size:l,variant:c,color:d,label:o,currentScreen:n,onAcceptConvo:r}=u),a=(0,ls.default)(u,SG),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c,t[8]=d}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7],d=t[8];const m=void 0===l?"tiny":l,h=void 0===c?"solid":c,p=void 0===d?"secondary_inverted":d,{_:f}=(0,ft.useLingui)(),g=(0,wd.useQueryClient)(),x=(0,va.useNavigation)(),{needsEmailVerification:_}=wj(),y=Yv();let b,j,v;t[9]!==s||t[10]!==n||t[11]!==x||t[12]!==r||t[13]!==g?(b=()=>{r?.(),"list"===n&&(zL(g,Object.assign({},s,{status:"accepted"})),x.navigate("MessagesConversation",{conversation:s.id,accept:!0}))},t[9]=s,t[10]=n,t[11]=x,t[12]=r,t[13]=g,t[14]=b):b=t[14],t[15]!==f?(j=()=>{Zu(f({id:"BdPa51"}),"xmark")},t[15]=f,t[16]=j):j=t[16],t[17]!==b||t[18]!==j?(v={onMutate:b,onError:j},t[17]=b,t[18]=j,t[19]=v):v=t[19];const{mutate:w,isPending:S}=function(e,t){const s=(0,i.c)(18),{onSuccess:n,onMutate:o,onError:r}=t,a=(0,wd.useQueryClient)(),l=bh();let c,d,u,m,h;return s[0]!==l||s[1]!==e?(c=async()=>{const{data:t}=await l.chat.bsky.convo.acceptConvo({convoId:e},{headers:kp});return t},s[0]=l,s[1]=e,s[2]=c):c=s[2],s[3]!==e||s[4]!==o||s[5]!==a?(d=()=>{let t,s,n;return t=[],s=[],a.setQueryData($p("request"),(t=>t?(s=t.pages,Object.assign({},t,{pages:t.pages.map((t=>{const s=t.convos.find((t=>t.id===e));return s?(n=s,Object.assign({},t,{convos:t.convos.filter((t=>t.id!==e))})):t}))})):t)),a.setQueryData($p("accepted"),(e=>e?(t=e.pages,n?Object.assign({},e,{pages:[Object.assign({},e.pages[0],{convos:[Object.assign({},n,{status:"accepted"}),...e.pages[0].convos]}),...e.pages.slice(1)]}):e):e)),o?.(),{prevAcceptedPages:t,prevInboxPages:s}},s[3]=e,s[4]=o,s[5]=a,s[6]=d):d=s[6],s[7]!==n||s[8]!==a?(u=e=>{a.invalidateQueries({queryKey:[$p]}),n?.(e)},s[7]=n,s[8]=a,s[9]=u):u=s[9],s[10]!==r||s[11]!==a?(m=(e,t,s)=>{ys.error(e),a.setQueryData($p("accepted"),(e=>e?Object.assign({},e,{pages:s?.prevAcceptedPages||e.pages}):e)),a.setQueryData($p("request"),(e=>e?Object.assign({},e,{pages:s?.prevInboxPages||e.pages}):e)),a.invalidateQueries({queryKey:[Kp]}),r?.(e)},s[10]=r,s[11]=a,s[12]=m):m=s[12],s[13]!==c||s[14]!==d||s[15]!==u||s[16]!==m?(h={mutationFn:c,onMutate:d,onSuccess:u,onError:m},s[13]=c,s[14]=d,s[15]=u,s[16]=m,s[17]=h):h=s[17],(0,Sd.useMutation)(h)}(s.id,v);let k;t[20]!==w||t[21]!==y||t[22]!==_?(k=()=>{_?y.open({id:Ov.Verify,instructions:[(0,Ft.jsx)(ft.Trans,{id:"Mp9N3x"},"request-btn")]}):w()},t[20]=w,t[21]=y,t[22]=_,t[23]=k):k=t[23];const C=k;let P,T,L;return t[24]!==f||t[25]!==o?(P=o||f({id:"kqD/pe"}),t[24]=f,t[25]=o,t[26]=P):P=t[26],t[27]!==S||t[28]!==o?(T=S?(0,Ft.jsx)(Pr,{icon:wv}):(0,Ft.jsx)(Cr,{children:o||(0,Ft.jsx)(ft.Trans,{id:"g3UF2V"})}),t[27]=S,t[28]=o,t[29]=T):T=t[29],t[30]!==p||t[31]!==C||t[32]!==a||t[33]!==m||t[34]!==P||t[35]!==T||t[36]!==h?(L=(0,Ft.jsx)(Sr,Object.assign({},a,{label:P,size:m,variant:h,color:p,style:kl.flex_1,onPress:C,children:T})),t[30]=p,t[31]=C,t[32]=a,t[33]=m,t[34]=P,t[35]=T,t[36]=h,t[37]=L):L=t[37],L}function TG(e){const t=(0,i.c)(34);let s,n,o,r,a,l,c;if(t[0]!==e){var d=e;({convo:s,size:a,variant:l,color:c,label:o,currentScreen:n}=d),r=(0,ls.default)(d,kG),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r,t[5]=a,t[6]=l,t[7]=c}else s=t[1],n=t[2],o=t[3],r=t[4],a=t[5],l=t[6],c=t[7];const u=void 0===a?"tiny":a,m=void 0===l?"outline":l,h=void 0===c?"secondary":c,{_:p}=(0,ft.useLingui)(),f=(0,va.useNavigation)();let g,x,_;t[8]!==n||t[9]!==f?(g=()=>{"conversation"===n&&f.dispatch(va.StackActions.pop())},t[8]=n,t[9]=f,t[10]=g):g=t[10],t[11]!==p?(x=()=>{Zu(p({id:"JwZyOx"}),"xmark")},t[11]=p,t[12]=x):x=t[12],t[13]!==g||t[14]!==x?(_={onMutate:g,onError:x},t[13]=g,t[14]=x,t[15]=_):_=t[15];const{mutate:y}=qp(s.id,_);let b;t[16]!==p||t[17]!==y?(b=()=>{Zu(p({id:"LLnhat"}),"check"),y()},t[16]=p,t[17]=y,t[18]=b):b=t[18];const j=b;let v,w,S,k;return t[19]!==p||t[20]!==o?(v=o||p({id:"YFpLoV"}),t[19]=p,t[20]=o,t[21]=v):v=t[21],t[22]!==o?(w=o||(0,Ft.jsx)(ft.Trans,{id:"YFpLoV"}),t[22]=o,t[23]=w):w=t[23],t[24]!==w?(S=(0,Ft.jsx)(Cr,{children:w}),t[24]=w,t[25]=S):S=t[25],t[26]!==h||t[27]!==j||t[28]!==r||t[29]!==u||t[30]!==S||t[31]!==v||t[32]!==m?(k=(0,Ft.jsx)(Sr,Object.assign({label:v,size:u,variant:m,color:h,style:kl.flex_1,onPress:j},r,{children:S})),t[26]=h,t[27]=j,t[28]=r,t[29]=u,t[30]=S,t[31]=v,t[32]=m,t[33]=k):k=t[33],k}function LG(e){const t=(0,i.c)(41),{convoState:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),r=Op(),{currentAccount:a}=xh(),l=Ar();let c;t[0]!==s?(c=()=>{s.markConvoAccepted()},t[0]=s,t[1]=c):c=t[1];const d=c;let u;if(t[2]!==s.recipients||t[3]!==a?.did){let e;t[5]!==a?.did?(e=e=>e.did!==a?.did,t[5]=a?.did,t[6]=e):e=t[6],u=s.recipients.find(e),t[2]=s.recipients,t[3]=a?.did,t[4]=u}else u=t[4];const m=u;if(!r)return null;let h,p;t[7]!==n.atoms.bg?(h=[n.atoms.bg,kl.p_lg,kl.gap_md,kl.align_center],t[7]=n.atoms.bg,t[8]=h):h=t[8],t[9]!==r||t[10]!==m?(p=m&&(0,Ft.jsx)(Mk,{profile:m,moderationOpts:r,showIfEmpty:!0}),t[9]=r,t[10]=m,t[11]=p):p=t[11];const f=m&&kl.pt_sm;let g,x,_,y,b,j,v,w,S;return t[12]!==f?(g=[kl.flex_row,kl.gap_md,kl.w_full,f],t[12]=f,t[13]=g):g=t[13],t[14]!==o||t[15]!==s.convo||t[16]!==m?(x=m&&(0,Ft.jsx)(CG,{label:o({id:"1okU3r"}),convo:s.convo,profile:m,color:"negative",size:"small",currentScreen:"conversation"}),t[14]=o,t[15]=s.convo,t[16]=m,t[17]=x):x=t[17],t[18]!==o?(_=o({id:"cnGeoo"}),t[18]=o,t[19]=_):_=t[19],t[20]!==s.convo||t[21]!==l.open||t[22]!==_?(y=(0,Ft.jsx)(TG,{label:_,convo:s.convo,color:"secondary",size:"small",currentScreen:"conversation",onPress:l.open}),t[20]=s.convo,t[21]=l.open,t[22]=_,t[23]=y):y=t[23],t[24]!==s.convo.id||t[25]!==l?(b=(0,Ft.jsx)(ZK,{convoId:s.convo.id,control:l,currentScreen:"conversation",hasMessages:!1}),t[24]=s.convo.id,t[25]=l,t[26]=b):b=t[26],t[27]!==b||t[28]!==g||t[29]!==x||t[30]!==y?(j=(0,Ft.jsxs)(wo.default,{style:g,children:[x,y,b]}),t[27]=b,t[28]=g,t[29]=x,t[30]=y,t[31]=j):j=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.w_full,kl.flex_row],t[32]=v):v=t[32],t[33]!==s.convo||t[34]!==d?(w=(0,Ft.jsx)(wo.default,{style:v,children:(0,Ft.jsx)(PG,{onAcceptConvo:d,convo:s.convo,color:"primary",variant:"outline",size:"small",currentScreen:"conversation"})}),t[33]=s.convo,t[34]=d,t[35]=w):w=t[35],t[36]!==j||t[37]!==w||t[38]!==h||t[39]!==p?(S=(0,Ft.jsxs)(wo.default,{style:h,children:[p,j,w]}),t[36]=j,t[37]=w,t[38]=h,t[39]=p,t[40]=S):S=t[40],S}function AG(e){const t=(0,i.c)(5),{isLoading:s}=e;let n,o,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n={height:50,width:"100%",alignItems:"center",justifyContent:"center"},t[0]=n):n=t[0],t[1]!==s?(o=s&&(0,Ft.jsx)(wv,{size:"xl"}),t[1]=s,t[2]=o):o=t[2],t[3]!==o?(r=(0,Ft.jsx)(wo.default,{style:n,children:o}),t[3]=o,t[4]=r):r=t[4],r}function IG({item:e}){return"message"===e.type||"pending-message"===e.type?(0,Ft.jsx)(C$,{item:e}):"deleted-message"===e.type?(0,Ft.jsx)(fr,{children:"Deleted message"}):"error"===e.type?(0,Ft.jsx)(rG,{item:e}):null}function RG(e){return e.key}function DG(){}const FG={code:"function MessagesListTsx1(e){const{layoutHeight,isAtBottom,isAtTop,newMessagesPill,runOnJS,setNewMessagesPill}=this.__closure;layoutHeight.set(e.layoutMeasurement.height);const bottomOffset=e.contentOffset.y+e.layoutMeasurement.height;isAtBottom.set(e.contentSize.height-100<bottomOffset);isAtTop.set(e.contentOffset.y<=1);if(newMessagesPill.show&&(e.contentOffset.y>newMessagesPill.startContentOffset+200||isAtBottom.get())){runOnJS(setNewMessagesPill)({show:false,startContentOffset:0});}}"},EG={code:"function MessagesListTsx2(e_0){const{layoutScrollWithoutAnimation,keyboardHeight,keyboardIsOpening}=this.__closure;if(e_0.duration===0){layoutScrollWithoutAnimation.set(true);keyboardHeight.set(e_0.height);}else{keyboardIsOpening.set(true);}}"},MG={code:"function MessagesListTsx3(e_1){const{keyboardHeight,footerHeight,scrollTo,flatListRef}=this.__closure;keyboardHeight.set(e_1.height);if(e_1.height>footerHeight.get()){scrollTo(flatListRef,0,1e7,false);}}"},BG={code:"function MessagesListTsx4(e_2){const{keyboardHeight,footerHeight,scrollTo,flatListRef,keyboardIsOpening}=this.__closure;keyboardHeight.set(e_2.height);if(e_2.height>footerHeight.get()){scrollTo(flatListRef,0,1e7,false);}keyboardIsOpening.set(false);}"},OG={code:"function MessagesListTsx5(){const{keyboardHeight,footerHeight}=this.__closure;return{marginBottom:Math.max(keyboardHeight.get(),footerHeight.get())};}"},zG={code:"function MessagesListTsx6(){const{keyboardHeight,footerHeight}=this.__closure;return{transform:[{translateY:-Math.max(keyboardHeight.get(),footerHeight.get())}]};}"};function HG({hasScrolled:e,setHasScrolled:t,blocked:s,footer:n,hasAcceptOverride:o}){const r=c$(),a=bh(),l=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n=async e=>{const{uri:n}=e;return t.fetchQuery({queryKey:BM(n||""),async queryFn(){const e=new Is.AtUri(n);if(!e.host.startsWith("did:")){const t=await s.resolveHandle({handle:e.host});e.host=t.data.did}const t=await s.getPosts({uris:[e.toString()]});if(t.success&&t.data.posts[0])return t.data.posts[0];throw new Error("useGetPost: post not found")}})},e[0]=s,e[1]=t,e[2]=n):n=e[2],n}(),{embedUri:c,setEmbed:d}=function(){const e=(0,i.c)(6),t=(0,va.useRoute)(),s=(0,va.useNavigation)(),n=t.params.embed,[o,r]=(0,mt.useState)(n);let a;n&&o!==n&&r(n),e[0]!==n||e[1]!==s?(a=e=>{if(!e)return s.setParams({embed:""}),void r(void 0);if(n)return;const t=vu(e),[,o,,i]=t.split("/").filter(Boolean),a=uu(o,"app.bsky.feed.post",i);r(a)},e[0]=n,e[1]=s,e[2]=a):a=e[2];const l=a;let c;return e[3]!==o||e[4]!==l?(c={embedUri:o,setEmbed:l},e[3]=o,e[4]=l,e[5]=c):c=e[5],c}(),u=(0,ko.useAnimatedRef)(),[m,h]=(0,mt.useState)({show:!1,startContentOffset:0}),[p,f]=(0,mt.useState)({isOpen:!1,pos:{top:0,left:0,right:0,bottom:0,nextFocusRef:null}}),g=(0,ko.useSharedValue)(!0),x=(0,ko.useSharedValue)(!0),_=(0,mt.useRef)(0),y=(0,mt.useRef)(0),b=(0,ko.useSharedValue)(0),j=(0,mt.useRef)(!1);(0,mt.useEffect)((()=>{r.status===XK.Backgrounded&&(j.current=!0)}),[r.status]);const v=(0,mt.useCallback)(((s,n)=>{Pt&&x.get()&&e&&u.current?.scrollToOffset({offset:n-_.current,animated:!1}),n>50&&g.get()&&(j.current&&e&&n-_.current>b.get()-50&&r.items.length-y.current>1?(u.current?.scrollToOffset({offset:_.current-65,animated:!0}),h({show:!0,startContentOffset:_.current-65})):(u.current?.scrollToOffset({offset:n,animated:e&&n>_.current}),e||r.isFetchingHistory||setTimeout((()=>{t(!0)}),100))),_.current=n,y.current=r.items.length,j.current=!1}),[e,t,r.isFetchingHistory,r.items.length,u,x,g,b]),w=(0,mt.useCallback)((()=>{e&&_.current>b.get()&&r.fetchMessageHistory()}),[r,e,b]),S=(0,mt.useCallback)(function(){const e=function(e){b.set(e.layoutMeasurement.height);const t=e.contentOffset.y+e.layoutMeasurement.height;g.set(e.contentSize.height-100<t),x.set(e.contentOffset.y<=1),m.show&&(e.contentOffset.y>m.startContentOffset+200||g.get())&&(0,ko.runOnJS)(h)({show:!1,startContentOffset:0})};return e.__closure={layoutHeight:b,isAtBottom:g,isAtTop:x,newMessagesPill:m,runOnJS:ko.runOnJS,setNewMessagesPill:h},e.__workletHash=4331343289557,e.__initData=FG,e}(),[b,m,g,x]),{footerHeight:k}=To(),C=(0,ko.useSharedValue)(0),P=(0,ko.useSharedValue)(!1),T=(0,ko.useSharedValue)(!1);(0,So.useKeyboardHandler)({onStart:function(){const e=function(e){0===e.duration?(T.set(!0),C.set(e.height)):P.set(!0)};return e.__closure={layoutScrollWithoutAnimation:T,keyboardHeight:C,keyboardIsOpening:P},e.__workletHash=0xbff0e0a4768,e.__initData=EG,e}(),onMove:function(){const e=function(e){C.set(e.height),e.height>k.get()&&(0,ko.scrollTo)(u,0,1e7,!1)};return e.__closure={keyboardHeight:C,footerHeight:k,scrollTo:ko.scrollTo,flatListRef:u},e.__workletHash=0x9c9a7bdb72e,e.__initData=MG,e}(),onEnd:function(){const e=function(e){C.set(e.height),e.height>k.get()&&(0,ko.scrollTo)(u,0,1e7,!1),P.set(!1)};return e.__closure={keyboardHeight:C,footerHeight:k,scrollTo:ko.scrollTo,flatListRef:u,keyboardIsOpening:P},e.__workletHash=7837565241389,e.__initData=BG,e}()},[k]);const L=(0,ko.useAnimatedStyle)(function(){const e=()=>({marginBottom:Math.max(C.get(),k.get())});return e.__closure={keyboardHeight:C,footerHeight:k},e.__workletHash=0xbb5f6f314b9,e.__initData=OG,e}()),A=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{translateY:-Math.max(C.get(),k.get())}]});return e.__closure={keyboardHeight:C,footerHeight:k},e.__workletHash=2242232101455,e.__initData=zG,e}()),I=(0,mt.useCallback)((async s=>{let n,o=new Is.RichText({text:s.trimEnd()},{cleanNewlines:!0});if(o.detectFacetsWithoutResolution(),c)try{const e=await l({uri:c});if(e){n={$type:"app.bsky.embed.record",record:{uri:e.uri,cid:e.cid}};const t=o.facets?.find((t=>t.features.find((t=>{if(Is.AppBskyRichtextFacet.isLink(t)&&bu(t.uri)){const s=vu(t.uri),[n,o,r,i]=s.split("/").filter(Boolean);return e.uri.endsWith(i)}return!1}))));if(t){const e=0===t.index.byteStart,s=t.index.byteEnd===o.unicodeText.graphemeLength;(e||s)&&o.delete(t.index.byteStart,t.index.byteEnd),o=new Is.RichText({text:o.text.trim()},{cleanNewlines:!0})}}}catch(i){ys.error("Failed to get post as quote for DM",{error:i})}await o.detectFacets(a),o=ig(o),o=ag(o),e||t(!0),r.sendMessage({text:o.text,facets:o.facets,embed:n})}),[a,r,c,l,e,t]),R=(0,mt.useCallback)((e=>{b.set(e.nativeEvent.layout.height),!Pt&&P.get()||(u.current?.scrollToEnd({animated:!T.get()}),T.set(!1))}),[u,P,T,b]),D=(0,mt.useCallback)((()=>{u.current?.scrollToOffset({offset:_.current,animated:!0})}),[u]),F=(0,mt.useCallback)((e=>{f({isOpen:!0,pos:e})}),[]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(TF,{onScroll:S,children:(0,Ft.jsx)(MF,{ref:u,data:r.items,renderItem:IG,keyExtractor:RG,disableFullWindowScroll:!0,disableVirtualization:!0,style:L,initialNumToRender:kt?32:62,maxToRenderPerBatch:Pt?32:62,keyboardDismissMode:"on-drag",keyboardShouldPersistTaps:"handled",maintainVisibleContentPosition:{minIndexForVisible:0},removeClippedSubviews:!1,sideBorders:!1,onContentSizeChange:v,onLayout:R,onStartReached:w,onScrollToIndexFailed:DG,scrollEventThrottle:100,ListHeaderComponent:(0,Ft.jsx)(AG,{isLoading:r.isFetchingHistory})})}),(0,Ft.jsx)(ko.default.View,{style:A,children:r.status===XK.Disabled?(0,Ft.jsx)(X$,{}):s?n:(0,Ft.jsx)(NG,{convoState:r,hasAcceptOverride:o,children:(0,Ft.jsx)(oG,{onSendMessage:I,hasEmbed:!!c,setEmbed:d,openEmojiPicker:F,children:(0,Ft.jsx)(nG,{embedUri:c,setEmbed:d})})})}),Pt&&(0,Ft.jsx)(J$,{pinToTop:!0,state:p,close:()=>f((e=>Object.assign({},e,{isOpen:!1})))}),m.show&&(0,Ft.jsx)(bG,{onPress:D})]})}function NG(e){const t=(0,i.c)(5),{convoState:s,hasAcceptOverride:n,children:o}=e;if(!i$(s))return null;const r=function(e,t){return 0===e.items.length?e.isFetchingHistory?"loading":"new-chat":"request"!==e.convo.status||t?"standard":"request"}(s,n);switch(r){case"loading":return null;case"new-chat":{let e,s;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(fG,{}),t[0]=e):e=t[0],t[1]!==o?(s=(0,Ft.jsxs)(Ft.Fragment,{children:[e,o]}),t[1]=o,t[2]=s):s=t[2],s}case"request":{let e;return t[3]!==s?(e=(0,Ft.jsx)(LG,{convoState:s}),t[3]=s,t[4]=e):e=t[4],e}case"standard":return o}}function VG(e){const t=(0,i.c)(73),{recipient:s,convoId:n,hasMessages:o,moderation:r}=e,a=ec(),{gtMobile:l}=ql(),{_:c}=(0,ft.useLingui)(),d=Ry(s),[,u]=bb(d),m=Ar(),h=Ar(),p=Ar();let f,g,x;if(t[0]!==r){const e=r.ui("profileView").alerts.filter(WG);g=e.filter(UG),x=e.find(qG),t[0]=r,t[1]=g,t[2]=x}else g=t[1],x=t[2];const _=x;let y;t[3]!==g||t[4]!==_?(y={listBlocks:g,userBlock:_},t[3]=g,t[4]=_,t[5]=y):y=t[5],f=y;const{listBlocks:b,userBlock:j}=f,v=!!j||!!b.length;let w;t[6]!==p||t[7]!==b.length||t[8]!==u?(w=()=>{b.length?p.open():u()},t[6]=p,t[7]=b.length,t[8]=u,t[9]=w):w=t[9];const S=w,k=o&&kl.pt_md;let C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$;return t[10]!==k?(C=[k,kl.pb_xl,kl.gap_lg],t[10]=k,t[11]=C):C=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(Iv,{}),t[12]=P):P=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.text_md,kl.font_bold,kl.text_center],t[13]=T):T=t[13],t[14]!==v?(L=(0,Ft.jsx)(fr,{style:T,children:v?(0,Ft.jsx)(ft.Trans,{id:"cXmhfS"}):(0,Ft.jsx)(ft.Trans,{id:"IG/qsq"})}),t[14]=v,t[15]=L):L=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.flex_row,kl.justify_between,kl.gap_lg,kl.px_md],t[16]=A):A=t[16],t[17]!==c?(I=c({id:"kye4mk"}),t[17]=c,t[18]=I):I=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_1],t[19]=R):R=t[19],t[20]!==a.palette.negative_500?(D={color:a.palette.negative_500},t[20]=a.palette.negative_500,t[21]=D):D=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(ft.Trans,{id:"kye4mk"}),t[22]=F):F=t[22],t[23]!==D?(E=(0,Ft.jsx)(Cr,{style:D,children:F}),t[23]=D,t[24]=E):E=t[24],t[25]!==m.open||t[26]!==I||t[27]!==E?(M=(0,Ft.jsx)(Sr,{label:I,color:"secondary",variant:"solid",size:"small",style:R,onPress:m.open,children:E}),t[25]=m.open,t[26]=I,t[27]=E,t[28]=M):M=t[28],t[29]!==c?(B=c({id:"gjpdaf"}),t[29]=c,t[30]=B):B=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.flex_1],t[31]=O):O=t[31],t[32]!==a.palette.negative_500?(z={color:a.palette.negative_500},t[32]=a.palette.negative_500,t[33]=z):z=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(ft.Trans,{id:"gjpdaf"}),t[34]=H):H=t[34],t[35]!==z?(N=(0,Ft.jsx)(Cr,{style:z,children:H}),t[35]=z,t[36]=N):N=t[36],t[37]!==h.open||t[38]!==B||t[39]!==N?(V=(0,Ft.jsx)(Sr,{label:B,color:"secondary",variant:"solid",size:"small",style:O,onPress:h.open,children:N}),t[37]=h.open,t[38]=B,t[39]=N,t[40]=V):V=t[40],t[41]!==c||t[42]!==l||t[43]!==v||t[44]!==S||t[45]!==a.palette.primary_500?(q=v&&l&&(0,Ft.jsx)(Sr,{label:c({id:"tuS5Jz"}),color:"secondary",variant:"solid",size:"small",style:[kl.flex_1],onPress:S,children:(0,Ft.jsx)(Cr,{style:{color:a.palette.primary_500},children:(0,Ft.jsx)(ft.Trans,{id:"tuS5Jz"})})}),t[41]=c,t[42]=l,t[43]=v,t[44]=S,t[45]=a.palette.primary_500,t[46]=q):q=t[46],t[47]!==M||t[48]!==V||t[49]!==q?(U=(0,Ft.jsxs)(wo.default,{style:A,children:[M,V,q]}),t[47]=M,t[48]=V,t[49]=q,t[50]=U):U=t[50],t[51]!==c||t[52]!==l||t[53]!==v||t[54]!==S||t[55]!==a.palette.primary_500?(W=v&&!l&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.justify_center,kl.px_md],children:(0,Ft.jsx)(Sr,{label:c({id:"tuS5Jz"}),color:"secondary",variant:"solid",size:"small",style:[kl.flex_1],onPress:S,children:(0,Ft.jsx)(Cr,{style:{color:a.palette.primary_500},children:(0,Ft.jsx)(ft.Trans,{id:"tuS5Jz"})})})}),t[51]=c,t[52]=l,t[53]=v,t[54]=S,t[55]=a.palette.primary_500,t[56]=W):W=t[56],t[57]!==n||t[58]!==m?(Z=(0,Ft.jsx)(ZK,{control:m,currentScreen:"conversation",convoId:n}),t[57]=n,t[58]=m,t[59]=Z):Z=t[59],t[60]!==h?(Q=(0,Ft.jsx)(QK,{control:h}),t[60]=h,t[61]=Q):Q=t[61],t[62]!==p||t[63]!==b?(K=(0,Ft.jsx)(qK,{control:p,listBlocks:b}),t[62]=p,t[63]=b,t[64]=K):K=t[64],t[65]!==U||t[66]!==W||t[67]!==Z||t[68]!==Q||t[69]!==K||t[70]!==C||t[71]!==L?($=(0,Ft.jsxs)(wo.default,{style:C,children:[P,L,U,W,Z,Q,K]}),t[65]=U,t[66]=W,t[67]=Z,t[68]=Q,t[69]=K,t[70]=C,t[71]=L,t[72]=$):$=t[72],$}function qG(e){return"user"===e.source.type}function UG(e){return"list"===e.source.type}function WG(e){return"blocking"===e.type}const ZG=Pt?40:34;let QG=e=>{const t=(0,i.c)(31),{profile:s,moderation:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),{gtTablet:a}=ql(),l=(0,va.useNavigation)();let c;e:{if(!n){c=void 0;break e}let e,s;if(t[0]!==n){const o=n.ui("profileView").alerts.filter($G);e=o.filter(GG),s=o.find(YG),t[0]=n,t[1]=e,t[2]=s}else e=t[1],s=t[2];const o=s;let r;t[3]!==e||t[4]!==o?(r={listBlocks:e,userBlock:o},t[3]=e,t[4]=o,t[5]=r):r=t[5],c=r}const d=c;let u;t[6]!==l?(u=()=>{l.canGoBack()?l.goBack():l.navigate("Messages",{})},t[6]=l,t[7]=u):u=t[7];const m=u,h=a?kl.pl_lg:kl.pl_xl;let p,f,g,x,_,y,b,j;return t[8]!==o.atoms.bg||t[9]!==o.atoms.border_contrast_low||t[10]!==h?(p=[o.atoms.bg,o.atoms.border_contrast_low,kl.border_b,kl.flex_row,kl.align_start,kl.gap_sm,h,kl.pr_lg,kl.py_sm],t[8]=o.atoms.bg,t[9]=o.atoms.border_contrast_low,t[10]=h,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f={width:30,height:30,marginTop:Pt?6:4},t[12]=f):f=t[12],t[13]!==r?(g=r({id:"iH8pgl"}),t[13]=r,t[14]=g):g=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(x={marginTop:6},t[15]=x):x=t[15],t[16]!==o.atoms.text.color?(_=(0,Ft.jsx)(Nu.FontAwesomeIcon,{size:18,icon:"angle-left",style:x,color:o.atoms.text.color}),t[16]=o.atoms.text.color,t[17]=_):_=t[17],t[18]!==m||t[19]!==g||t[20]!==_?(y=(0,Ft.jsx)(Ix.default,{testID:"conversationHeaderBackBtn",onPress:m,hitSlop:Pi,style:f,accessibilityRole:"button",accessibilityLabel:g,accessibilityHint:"",children:_}),t[18]=m,t[19]=g,t[20]=_,t[21]=y):y=t[21],t[22]!==d||t[23]!==n||t[24]!==s||t[25]!==o.atoms.bg_contrast_25?(b=s&&n&&d?(0,Ft.jsx)(KG,{profile:s,moderation:n,blockInfo:d}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md,kl.flex_1],children:[(0,Ft.jsx)(wo.default,{style:[{width:ZG,height:ZG},kl.rounded_full,o.atoms.bg_contrast_25]}),(0,Ft.jsxs)(wo.default,{style:kl.gap_xs,children:[(0,Ft.jsx)(wo.default,{style:[{width:120,height:16},kl.rounded_xs,o.atoms.bg_contrast_25,kl.mt_xs]}),(0,Ft.jsx)(wo.default,{style:[{width:175,height:12},kl.rounded_xs,o.atoms.bg_contrast_25]})]})]}),(0,Ft.jsx)(wo.default,{style:{width:30}})]}),t[22]=d,t[23]=n,t[24]=s,t[25]=o.atoms.bg_contrast_25,t[26]=b):b=t[26],t[27]!==b||t[28]!==p||t[29]!==y?(j=(0,Ft.jsxs)(wo.default,{style:p,children:[y,b]}),t[27]=b,t[28]=p,t[29]=y,t[30]=j):j=t[30],j};function KG(e){const t=(0,i.c)(77),{profile:s,moderation:n,blockInfo:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),l=l$();let c;t[0]!==s?(c={profile:s},t[0]=s,t[1]=c):c=t[1];const d=Nk(c),u="missing.invalid"===s?.handle;let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z;if(t[2]!==r||t[3]!==l.items||t[4]!==u||t[5]!==n||t[6]!==s){let e;if(f=u?r({id:"XvivR7"}):Qf(s.displayName||s.handle,n.ui("displayName")),t[15]!==l.items||t[16]!==s){let n;t[18]!==s?(n=e=>"message"===e.type&&e.message.sender.did===s.did,t[18]=s,t[19]=n):n=t[19],e=l.items.findLast(n),t[15]=l.items,t[16]=s,t[17]=e}else e=t[17];const o=e;g="message"===o?.type?o.message:void 0,p=wo.default,t[20]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.flex_1],t[20]=y):y=t[20],h=wo.default,t[21]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.w_full,kl.flex_row,kl.align_center,kl.justify_between],t[21]=_):_=t[21],m=pv,x=r({id:"+TzBrU",values:{displayName:f}}),t[2]=r,t[3]=l.items,t[4]=u,t[5]=n,t[6]=s,t[7]=m,t[8]=h,t[9]=p,t[10]=f,t[11]=g,t[12]=x,t[13]=_,t[14]=y}else m=t[7],h=t[8],p=t[9],f=t[10],g=t[11],x=t[12],_=t[13],y=t[14];return t[22]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_start,kl.gap_md,kl.flex_1,kl.pr_md],t[22]=b):b=t[22],t[23]!==s?(j=cS(s),t[23]=s,t[24]=j):j=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.pt_2xs],t[25]=v):v=t[25],t[26]!==n?(w=n.ui("avatar"),t[26]=n,t[27]=w):w=t[27],t[28]!==n.blocked||t[29]!==s||t[30]!==w?(S=(0,Ft.jsx)(wo.default,{style:v,children:(0,Ft.jsx)(pP,{size:ZG,profile:s,moderation:w,disableHoverCard:n.blocked})}),t[28]=n.blocked,t[29]=s,t[30]=w,t[31]=S):S=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.flex_row,kl.align_center],t[32]=k):k=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.text_md,kl.font_bold,kl.self_start,_o(kl.leading_normal)],t[33]=C):C=t[33],t[34]!==f?(P=(0,Ft.jsx)(fr,{emoji:!0,style:C,numberOfLines:1,children:f}),t[34]=f,t[35]=P):P=t[35],t[36]!==d.role||t[37]!==d.showBadge?(T=d.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===d.role})}),t[36]=d.role,t[37]=d.showBadge,t[38]=T):T=t[38],t[39]!==P||t[40]!==T?(L=(0,Ft.jsxs)(wo.default,{style:k,children:[P,T]}),t[39]=P,t[40]=T,t[41]=L):L=t[41],t[42]!==l.convo?.muted||t[43]!==u||t[44]!==s||t[45]!==a?(A=!u&&(0,Ft.jsxs)(fr,{style:[a.atoms.text_contrast_medium,kl.text_sm,_o([kl.leading_normal,{marginTop:-2}])],numberOfLines:1,children:["@",s.handle,l.convo?.muted&&(0,Ft.jsxs)(Ft.Fragment,{children:[" ","\xb7"," ",(0,Ft.jsx)(M$,{size:"xs",style:a.atoms.text_contrast_medium})]})]}),t[42]=l.convo?.muted,t[43]=u,t[44]=s,t[45]=a,t[46]=A):A=t[46],t[47]!==L||t[48]!==A?(I=(0,Ft.jsxs)(wo.default,{style:kl.flex_1,children:[L,A]}),t[47]=L,t[48]=A,t[49]=I):I=t[49],t[50]!==m||t[51]!==I||t[52]!==x||t[53]!==j||t[54]!==S?(R=(0,Ft.jsxs)(m,{label:x,style:b,to:j,children:[S,I]}),t[50]=m,t[51]=I,t[52]=x,t[53]=j,t[54]=S,t[55]=R):R=t[55],t[56]!==o||t[57]!==l||t[58]!==g||t[59]!==s?(D=i$(l)&&(0,Ft.jsx)(F$,{convo:l.convo,profile:s,currentScreen:"conversation",blockInfo:o,latestReportableMessage:g}),t[56]=o,t[57]=l,t[58]=g,t[59]=s,t[60]=D):D=t[60],t[61]!==h||t[62]!==R||t[63]!==D||t[64]!==_?(F=(0,Ft.jsxs)(h,{style:_,children:[R,D]}),t[61]=h,t[62]=R,t[63]=D,t[64]=_,t[65]=F):F=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(E=[{paddingLeft:ZG+kl.gap_md.gap}],t[66]=E):E=t[66],t[67]!==n?(M=n.ui("contentList"),t[67]=n,t[68]=M):M=t[68],t[69]===Symbol.for("react.memo_cache_sentinel")?(B=[kl.pt_xs],t[69]=B):B=t[69],t[70]!==M?(O=(0,Ft.jsx)(wo.default,{style:E,children:(0,Ft.jsx)(uD,{modui:M,size:"lg",style:B})}),t[70]=M,t[71]=O):O=t[71],t[72]!==p||t[73]!==F||t[74]!==O||t[75]!==y?(z=(0,Ft.jsxs)(p,{style:y,children:[F,O]}),t[72]=p,t[73]=F,t[74]=O,t[75]=y,t[76]=z):z=t[76],z}function $G(e){return"blocking"===e.type}function GG(e){return"list"===e.source.type}function YG(e){return"user"===e.source.type}function JG(e){const t=(0,i.c)(9),{route:s}=e,{gtMobile:n}=ql(),o=Na(),r=s.params.conversation,{setCurrentConvoId:a}=yp();let l,c,d,u;return qQ(!0),t[0]!==r||t[1]!==n||t[2]!==a||t[3]!==o?(l=()=>(a(r),o(!(!Pt||n)),()=>{a(void 0),o(!1)}),t[0]=r,t[1]=n,t[2]=a,t[3]=o,t[4]=l):l=t[4],(0,va.useFocusEffect)(l),t[5]===Symbol.for("react.memo_cache_sentinel")?(c=_o([{minHeight:0},kl.flex_1]),t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(XG,{}),t[6]=d):d=t[6],t[7]!==r?(u=(0,Ft.jsx)(_l,{testID:"convoScreen",style:c,children:(0,Ft.jsx)(d$,{convoId:r,children:d},r)}),t[7]=r,t[8]=u):u=t[8],u}function XG(){const e=(0,i.c)(47),t=ec(),s=l$(),{_:n}=(0,ft.useLingui)(),o=Op(),r=s.recipients?.[0].did;let a;e[0]!==r?(a={did:r},e[0]=r,e[1]=a):a=e[1];const{data:l}=ub(a),c=Dy(l);let d;e:{if(!c||!o){d=null;break e}let t;e[2]!==o||e[3]!==c?(t=(0,Is.moderateProfile)(c,o),e[2]=o,e[3]=c,e[4]=t):t=e[4],d=t}const u=d,[m,h]=mt.useState(!1);let p;e[5]!==s||e[6]!==m?(p=m||i$(s)&&!s.isFetchingHistory&&0===s.items.length,e[5]=s,e[6]=m,e[7]=p):p=e[7];const f=p;let g,x,_,y,b,j,v,w,S;if(e[8]!==s.status?(g=()=>{s.status===XK.Initializing&&h(!1)},x=[s.status],e[8]=s.status,e[9]=g,e[10]=x):(g=e[9],x=e[10]),mt.useEffect(g,x),s.status===XK.Error){let t,o,r,i,a,l,d;return e[11]===Symbol.for("react.memo_cache_sentinel")?(t=[kl.flex_1],e[11]=t):t=e[11],e[12]!==u||e[13]!==c?(o=(0,Ft.jsx)(wl,{style:t,children:u?(0,Ft.jsx)(QG,{moderation:u,profile:c}):(0,Ft.jsx)(QG,{})}),e[12]=u,e[13]=c,e[14]=o):o=e[14],e[15]!==n?(r=n({id:"nwtY4N"}),e[15]=n,e[16]=r):r=e[16],e[17]!==n?(i=n({id:"3JCSvL"}),e[17]=n,e[18]=i):i=e[18],e[19]!==s.error?(a=()=>s.error.retry(),e[19]=s.error,e[20]=a):a=e[20],e[21]!==a||e[22]!==r||e[23]!==i?(l=(0,Ft.jsx)(UH,{title:r,message:i,onRetry:a,sideBorders:!1}),e[21]=a,e[22]=r,e[23]=i,e[24]=l):l=e[24],e[25]!==l||e[26]!==o?(d=(0,Ft.jsxs)(Ft.Fragment,{children:[o,l]}),e[25]=l,e[26]=o,e[27]=d):d=e[27],d}return e[28]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_1],e[28]=_):_=e[28],e[29]!==u||e[30]!==f||e[31]!==c?(y=!f&&(u?(0,Ft.jsx)(QG,{moderation:u,profile:c}):(0,Ft.jsx)(QG,{})),e[29]=u,e[30]=f,e[31]=c,e[32]=y):y=e[32],e[33]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_1],e[33]=b):b=e[33],e[34]!==m||e[35]!==u||e[36]!==c?(j=u&&c?(0,Ft.jsx)(eY,{moderation:u,recipient:c,hasScrolled:m,setHasScrolled:h}):(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.gap_sm,kl.flex_1]}),e[34]=m,e[35]=u,e[36]=c,e[37]=j):j=e[37],e[38]!==f||e[39]!==t?(v=!f&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.z_10,kl.w_full,kl.h_full,kl.justify_center,kl.align_center,t.atoms.bg],children:(0,Ft.jsx)(wo.default,{style:[{marginBottom:75}],children:(0,Ft.jsx)(wv,{size:"xl"})})}),e[38]=f,e[39]=t,e[40]=v):v=e[40],e[41]!==v||e[42]!==j?(w=(0,Ft.jsxs)(wo.default,{style:b,children:[j,v]}),e[41]=v,e[42]=j,e[43]=w):w=e[43],e[44]!==w||e[45]!==y?(S=(0,Ft.jsxs)(wl,{style:_,children:[y,w]}),e[44]=w,e[45]=y,e[46]=S):S=e[46],S}function eY(e){const t=(0,i.c)(20),{moderation:s,recipient:n,hasScrolled:o,setHasScrolled:r}=e,a=l$(),l=(0,va.useNavigation)(),{params:c}=(0,va.useRoute)(),{needsEmailVerification:d}=wj(),u=Yv();let m;t[0]!==u||t[1]!==l||t[2]!==d?(m=()=>{d&&setTimeout((()=>u.open({id:Ov.Verify,instructions:[(0,Ft.jsx)(ft.Trans,{id:"oYqWde"},"pre-compose")],onCloseWithoutVerifying:()=>{l.canGoBack()?l.goBack():l.navigate("Messages",{animation:"pop"})}})))},t[0]=u,t[1]=l,t[2]=d,t[3]=m):m=t[3];const h=Ed(m);let p,f,g,x,_;return t[4]!==h?(p=()=>{h()},f=[h],t[4]=h,t[5]=p,t[6]=f):(p=t[5],f=t[6]),(0,mt.useEffect)(p,f),t[7]!==s||t[8]!==n?(g=(0,Ft.jsx)(QG,{profile:n,moderation:s}),t[7]=s,t[8]=n,t[9]=g):g=t[9],t[10]!==a||t[11]!==o||t[12]!==s||t[13]!==c||t[14]!==n||t[15]!==r?(x=i$(a)&&(0,Ft.jsx)(HG,{hasScrolled:o,setHasScrolled:r,blocked:s?.blocked,hasAcceptOverride:!!c.accept,footer:(0,Ft.jsx)(VG,{recipient:n,convoId:a.convo.id,hasMessages:a.items.length>0,moderation:s})}),t[10]=a,t[11]=o,t[12]=s,t[13]=c,t[14]=n,t[15]=r,t[16]=x):x=t[16],t[17]!==g||t[18]!==x?(_=(0,Ft.jsxs)(Ft.Fragment,{children:[g,x]}),t[17]=g,t[18]=x,t[19]=_):_=t[19],_}function tY(e,t){const s=(0,i.c)(20),{onSuccess:n,onMutate:o,onError:r}=t,a=(0,wd.useQueryClient)(),l=bh();let c,d,u,m,h;return s[0]!==l||s[1]!==e?(c=async()=>{const{data:t}=await l.chat.bsky.convo.updateAllRead({status:e},{headers:kp,encoding:"application/json"});return t},s[0]=l,s[1]=e,s[2]=c):c=s[2],s[3]!==o||s[4]!==a||s[5]!==e?(d=()=>{let t;return t=[],a.setQueryData($p(e),(e=>e?(t=e.pages,Object.assign({},e,{pages:e.pages.map(sY)})):e)),a.setQueryData($p("all","unread"),(t=>t?Object.assign({},t,{pages:t.pages.map((t=>Object.assign({},t,{convos:t.convos.filter((t=>t.status!==e))})))}):t)),o?.(),{prevPages:t}},s[3]=o,s[4]=a,s[5]=e,s[6]=d):d=s[6],s[7]!==n||s[8]!==a||s[9]!==e?(u=()=>{a.invalidateQueries({queryKey:$p(e)}),n?.()},s[7]=n,s[8]=a,s[9]=e,s[10]=u):u=s[10],s[11]!==r||s[12]!==a||s[13]!==e?(m=(t,s,n)=>{ys.error(t),a.setQueryData($p(e),(e=>e?Object.assign({},e,{pages:n?.prevPages||e.pages}):e)),a.invalidateQueries({queryKey:$p(e)}),a.invalidateQueries({queryKey:$p("all","unread")}),r?.(t)},s[11]=r,s[12]=a,s[13]=e,s[14]=m):m=s[14],s[15]!==c||s[16]!==d||s[17]!==u||s[18]!==m?(h={mutationFn:c,onMutate:d,onSuccess:u,onError:m},s[15]=c,s[16]=d,s[17]=u,s[18]=m,s[19]=h):h=s[19],(0,Sd.useMutation)(h)}function sY(e){return Object.assign({},e,{convos:e.convos.map(nY)})}function nY(e){return Object.assign({},e,{unreadCount:0})}function oY(e){const t=(0,i.c)(23),{convo:s}=e,{currentAccount:n}=xh(),o=Op();let r;if(t[0]!==s.members||t[1]!==n?.did){let e;t[3]!==n?.did?(e=e=>e.did!==n?.did,t[3]=n?.did,t[4]=e):e=t[4],r=s.members.find(e),t[0]=s.members,t[1]=n?.did,t[2]=r}else r=t[2];const a=r;if(!a||!o)return null;const l="missing.invalid"===a.handle;let c,d,u,m,h,p,f,g,x;return t[5]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.relative,kl.flex_1],t[5]=c):c=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.pt_xs,kl.pb_2xs],t[6]=d):d=t[6],t[7]!==o||t[8]!==a?(u=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Mk,{profile:a,moderationOpts:o,minimal:!0,showIfEmpty:!0})}),t[7]=o,t[8]=a,t[9]=u):u=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.pt_md,kl.pb_xs,kl.w_full,{opacity:0}],t[10]=m):m=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(wo.default,{style:m,"aria-hidden":!0,children:(0,Ft.jsx)(fr,{style:[kl.text_xs,kl.leading_tight,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"cwk+Lh"})})}),t[11]=h):h=t[11],t[12]!==s||t[13]!==u?(p=(0,Ft.jsxs)(O$,{convo:s,showMenu:!1,children:[u,h]}),t[12]=s,t[13]=u,t[14]=p):p=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.absolute,kl.pr_md,kl.w_full,kl.flex_row,kl.align_center,kl.gap_sm,{bottom:eo.md,paddingLeft:eo.lg+52+eo.md}],t[15]=f):f=t[15],t[16]!==s||t[17]!==l||t[18]!==a?(g=(0,Ft.jsx)(wo.default,{style:f,children:l?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(TG,{convo:s,currentScreen:"list"}),(0,Ft.jsx)(wo.default,{style:kl.flex_1})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(PG,{convo:s,currentScreen:"list"}),(0,Ft.jsx)(CG,{convo:s,profile:a,showDeleteConvo:!0,currentScreen:"list"})]})}),t[16]=s,t[17]=l,t[18]=a,t[19]=g):g=t[19],t[20]!==p||t[21]!==g?(x=(0,Ft.jsxs)(wo.default,{style:c,children:[p,g]}),t[20]=p,t[21]=g,t[22]=x):x=t[22],x}function rY({}){const{gtTablet:e}=ql(),t=Gp({status:"request"}),{data:s}=t,n=Up(),o=(0,mt.useMemo)((()=>{if(s?.pages){return s.pages.flatMap((e=>e.convos)).filter((e=>!n.includes(e.id)))}return[]}),[s,n]),r=(0,mt.useMemo)((()=>o.some((e=>e.members.every((e=>"missing.invalid"!==e.handle))&&e.unreadCount>0))),[o]);return(0,Ft.jsxs)(_l,{testID:"messagesInboxScreen",children:[(0,Ft.jsxs)(il,{children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{align:e?"left":"platform",children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"ZjJ8vi"})})}),r&&e?(0,Ft.jsx)(dY,{}):(0,Ft.jsx)(cl,{})]}),(0,Ft.jsx)(iY,{listConvosQuery:t,conversations:o,hasUnreadConvos:r})]})}function iY(e){const t=(0,i.c)(39),{listConvosQuery:s,conversations:n,hasUnreadConvos:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),l=(0,va.useNavigation)(),c=Ap(),d="active"===MK();let u,m;t[0]!==d||t[1]!==c?(u=()=>{if(d){const e=c.requestPollInterval(OK);return()=>e()}},t[0]=d,t[1]=c,t[2]=u):u=t[2],(0,va.useFocusEffect)(u),t[3]===Symbol.for("react.memo_cache_sentinel")?(m={minItemHeight:130},t[3]=m):m=t[3];const h=kF(m),[p,f]=(0,mt.useState)(!1),{isLoading:g,isFetchingNextPage:x,hasNextPage:_,fetchNextPage:y,isError:b,error:j,refetch:v}=s;let w;NK(v),t[4]!==v?(w=async()=>{f(!0);try{await v()}catch(k){const t=k;ys.error("Failed to refresh conversations",{message:t})}f(!1)},t[4]=v,t[5]=w):w=t[5];const S=w;let k;t[6]!==y||t[7]!==_||t[8]!==b||t[9]!==x?(k=async()=>{if(!x&&_&&!b)try{await y()}catch(P){const t=P;ys.error("Failed to load more conversations",{message:t})}},t[6]=y,t[7]=_,t[8]=b,t[9]=x,t[10]=k):k=t[10];const C=k;if(n.length<1){let e;return t[11]!==r||t[12]!==j||t[13]!==b||t[14]!==g||t[15]!==l||t[16]!==v||t[17]!==a?(e=(0,Ft.jsx)(wl,{children:g?(0,Ft.jsx)(RT,{}):(0,Ft.jsx)(Ft.Fragment,{children:b?(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:[kl.pt_3xl,kl.align_center],children:[(0,Ft.jsx)(Ij,{width:48,fill:a.atoms.text_contrast_low.color}),(0,Ft.jsx)(fr,{style:[kl.pt_md,kl.pb_sm,kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"wXgOPE"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_xl,kl.text_center,kl.leading_snug,a.atoms.text_contrast_medium,{maxWidth:360}],children:ds(j)||r({id:"+kTLLA"})}),(0,Ft.jsxs)(Sr,{label:r({id:"TAGkuP"}),size:"small",color:"secondary_inverted",variant:"solid",onPress:()=>v(),children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"6gRgw8"})}),(0,Ft.jsx)(Pr,{icon:sw,position:"right"})]})]})}):(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(wo.default,{style:[kl.pt_3xl,kl.align_center],children:[(0,Ft.jsx)(ZL,{width:48,fill:a.palette.primary_500}),(0,Ft.jsx)(fr,{style:[kl.pt_md,kl.pb_sm,kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"Oeid3W"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.pb_xl,kl.text_center,kl.leading_snug,a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"nKWCSf"})}),(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:"small",label:r({id:"CKyk7Q"}),onPress:()=>{l.canGoBack()?l.goBack():l.navigate("Messages",{animation:"pop"})},children:[(0,Ft.jsx)(Pr,{icon:sl}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Fjehxw"})})]})]})})})}),t[11]=r,t[12]=j,t[13]=b,t[14]=g,t[15]=l,t[16]=v,t[17]=a,t[18]=e):e=t[18],e}let P,T,L,A,I,R;return t[19]!==j?(P=ds(j),t[19]=j,t[20]=P):P=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(T={borderColor:"transparent"},t[21]=T):T=t[21],t[22]!==y||t[23]!==_||t[24]!==x||t[25]!==P?(L=(0,Ft.jsx)(WH,{isFetchingNextPage:x,error:P,onRetry:y,style:T,hasNextPage:_}),t[22]=y,t[23]=_,t[24]=x,t[25]=P,t[26]=L):L=t[26],t[27]!==n||t[28]!==h||t[29]!==p||t[30]!==C||t[31]!==S||t[32]!==L?(A=(0,Ft.jsx)(MF,{data:n,renderItem:lY,keyExtractor:aY,refreshing:p,onRefresh:S,onEndReached:C,ListFooterComponent:L,onEndReachedThreshold:kt?1.5:0,initialNumToRender:h,windowSize:11,desktopFixedHeight:!0,sideBorders:!1}),t[27]=n,t[28]=h,t[29]=p,t[30]=C,t[31]=S,t[32]=L,t[33]=A):A=t[33],t[34]!==o?(I=o&&(0,Ft.jsx)(cY,{}),t[34]=o,t[35]=I):I=t[35],t[36]!==A||t[37]!==I?(R=(0,Ft.jsxs)(Ft.Fragment,{children:[A,I]}),t[36]=A,t[37]=I,t[38]=R):R=t[38],R}function aY(e){return e.id}function lY({item:e}){return(0,Ft.jsx)(oY,{convo:e})}function cY(){const e=(0,i.c)(12),{_:t}=(0,ft.useLingui)(),s=ec();let n;e[0]!==t?(n={onMutate:()=>{Zu(t({id:"puukLG"}),"check")},onError:()=>{Zu(t({id:"XJ833g"}),"xmark")}},e[0]=t,e[1]=n):n=e[1];const{mutate:o}=tY("request",n);let r,a,l,c;return e[2]!==o?(r=()=>o(),e[2]=o,e[3]=r):r=e[3],e[4]!==s.palette.white?(a=(0,Ft.jsx)(Wj,{size:"lg",fill:s.palette.white}),e[4]=s.palette.white,e[5]=a):a=e[5],e[6]!==t?(l=t({id:"onllUU"}),e[6]=t,e[7]=l):l=e[7],e[8]!==r||e[9]!==a||e[10]!==l?(c=(0,Ft.jsx)(kz,{testID:"markAllAsReadFAB",onPress:r,icon:a,accessibilityRole:"button",accessibilityLabel:l,accessibilityHint:""}),e[8]=r,e[9]=a,e[10]=l,e[11]=c):c=e[11],c}function dY(){const e=(0,i.c)(11),{_:t}=(0,ft.useLingui)();let s;e[0]!==t?(s={onMutate:()=>{Zu(t({id:"puukLG"}),"check")},onError:()=>{Zu(t({id:"XJ833g"}),"xmark")}},e[0]=t,e[1]=s):s=e[1];const{mutate:n}=tY("request",s);let o,r,a,l,c;return e[2]!==t?(o=t({id:"onllUU"}),e[2]=t,e[3]=o):o=e[3],e[4]!==n?(r=()=>n(),e[4]=n,e[5]=r):r=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Pr,{icon:Wj}),e[6]=a):a=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"onllUU"})}),e[7]=l):l=e[7],e[8]!==o||e[9]!==r?(c=(0,Ft.jsxs)(Sr,{label:o,size:"small",color:"secondary",variant:"solid",onPress:r,children:[a,l]}),e[8]=o,e[9]=r,e[10]=c):c=e[10],c}QG=mt.memo(QG);const uY=mt.createContext({}),mY=()=>mt.useContext(uY);function hY(e){const t=(0,i.c)(9),{children:s}=e;let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={playSoundChat:!0},t[0]=n):n=t[0];const[o,r]=mt.useState(n);let a,l,c,d,u;t[1]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{(async()=>{const e=await vf.getAllPrefsAsync();r(e)})()},l=[],t[1]=a,t[2]=l):(a=t[1],l=t[2]),mt.useEffect(a,l),t[3]===Symbol.for("react.memo_cache_sentinel")?(d=async(e,t)=>{e:switch(typeof t){case"boolean":await vf.setBoolAsync(e,t);break e;case"string":await vf.setStringAsync(e,t);break e;default:throw new Error("Invalid type for value: "+typeof t)}r((s=>Object.assign({},s,{[e]:t})))},t[3]=d):d=t[3],t[4]!==o?(u={preferences:o,setPref:d},t[4]=o,t[5]=u):u=t[5],c=u;const m=c;let h;return t[6]!==s||t[7]!==m?(h=(0,Ft.jsx)(uY.Provider,{value:m,children:s}),t[6]=s,t[7]=m,t[8]=h):h=t[8],h}function pY(e){const t=(0,i.c)(54),{_:s}=(0,ft.useLingui)(),{currentAccount:n}=xh();let o;t[0]!==n.did?(o={did:n.did},t[0]=n.did,t[1]=o):o=t[1];const{data:r}=ub(o),{preferences:a,setPref:l}=mY();let c;t[2]!==s?(c={onError:()=>{Zu(s({id:"tOcErW"}),"xmark")}},t[2]=s,t[3]=c):c=t[3];const{mutate:d}=function(e){const t=(0,i.c)(15),{onSuccess:s,onError:n}=e,o=(0,wd.useQueryClient)(),{currentAccount:r}=xh(),a=bh();let l,c,d,u;return t[0]!==a||t[1]!==r?(l=async e=>{if(!r)throw new Error("Not signed in");return await a.api.com.atproto.repo.putRecord({repo:r.did,collection:"chat.bsky.actor.declaration",rkey:"self",record:{$type:"chat.bsky.actor.declaration",allowIncoming:e}})},t[0]=a,t[1]=r,t[2]=l):l=t[2],t[3]!==r||t[4]!==o?(c=e=>{r&&o.setQueryData(lb(r?.did),(t=>t?Object.assign({},t,{associated:Object.assign({},t.associated,{chat:{allowIncoming:e}})}):t))},t[3]=r,t[4]=o,t[5]=c):c=t[5],t[6]!==r||t[7]!==n||t[8]!==o?(d=e=>{ys.error(e),r&&o.invalidateQueries({queryKey:lb(r.did)}),n?.(e)},t[6]=r,t[7]=n,t[8]=o,t[9]=d):d=t[9],t[10]!==s||t[11]!==l||t[12]!==c||t[13]!==d?(u={mutationFn:l,onMutate:c,onSuccess:s,onError:d},t[10]=s,t[11]=l,t[12]=c,t[13]=d,t[14]=u):u=t[14],(0,Sd.useMutation)(u)}(c);let u;t[4]!==d?(u=e=>{const t=e[0];t&&d(t)},t[4]=d,t[5]=u):u=t[5];const m=u;let h;t[6]!==l?(h=e=>{const t=e[0];t&&l("playSoundChat","enabled"===t)},t[6]=l,t[7]=h):h=t[7];const p=h;let f,g,x,_,y;t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(dl,{}),t[8]=f):f=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsxs)(il,{children:[f,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"yaImr3"})})}),(0,Ft.jsx)(cl,{})]}),t[9]=g):g=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.p_lg,kl.gap_md],t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{style:[kl.text_lg,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"wh9RBc"})}),t[11]=_):_=t[11],t[12]!==s?(y=s({id:"wh9RBc"}),t[12]=s,t[13]=y):y=t[13];const b=r?.associated?.chat?.allowIncoming??"following";let j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N;return t[14]!==b?(j=[b],t[14]=b,t[15]=j):j=t[15],t[16]!==s?(v=s({id:"PsQmAw"}),t[16]=s,t[17]=v):v=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.justify_between,kl.py_sm],t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"PsQmAw"})}),k=(0,Ft.jsx)(uI,{}),t[19]=S,t[20]=k):(S=t[19],k=t[20]),t[21]!==v?(C=(0,Ft.jsxs)(iI,{name:"all",label:v,style:w,children:[S,k]}),t[21]=v,t[22]=C):C=t[22],t[23]!==s?(P=s({id:"IV/zYj"}),t[23]=s,t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.justify_between,kl.py_sm],t[25]=T):T=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"IV/zYj"})}),A=(0,Ft.jsx)(uI,{}),t[26]=L,t[27]=A):(L=t[26],A=t[27]),t[28]!==P?(I=(0,Ft.jsxs)(iI,{name:"following",label:P,style:T,children:[L,A]}),t[28]=P,t[29]=I):I=t[29],t[30]!==s?(R=s({id:"3v9o34"}),t[30]=s,t[31]=R):R=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.justify_between,kl.py_sm],t[32]=D):D=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"3v9o34"})}),E=(0,Ft.jsx)(uI,{}),t[33]=F,t[34]=E):(F=t[33],E=t[34]),t[35]!==R?(M=(0,Ft.jsxs)(iI,{name:"none",label:R,style:D,children:[F,E]}),t[35]=R,t[36]=M):M=t[36],t[37]!==C||t[38]!==I||t[39]!==M?(B=(0,Ft.jsxs)(wo.default,{children:[C,I,M]}),t[37]=C,t[38]=I,t[39]=M,t[40]=B):B=t[40],t[41]!==m||t[42]!==j||t[43]!==B||t[44]!==y?(O=(0,Ft.jsx)(rI,{label:y,type:"radio",values:j,onChange:m,children:B}),t[41]=m,t[42]=j,t[43]=B,t[44]=y,t[45]=O):O=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(Uj,{type:"tip",children:(0,Ft.jsx)(ft.Trans,{id:"hbg5ET"})}),t[46]=z):z=t[46],t[47]!==s||t[48]!==p||t[49]!==a?(H=kt&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Iv,{style:kl.my_md}),(0,Ft.jsx)(fr,{style:[kl.text_lg,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"z4p6HG"})}),(0,Ft.jsx)(rI,{label:s({id:"Dnsq/8"}),type:"radio",values:[a.playSoundChat?"enabled":"disabled"],onChange:p,children:(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsxs)(iI,{name:"enabled",label:s({id:"RxzN1M"}),style:[kl.justify_between,kl.py_sm],children:[(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"RxzN1M"})}),(0,Ft.jsx)(uI,{})]}),(0,Ft.jsxs)(iI,{name:"disabled",label:s({id:"E/QGRL"}),style:[kl.justify_between,kl.py_sm],children:[(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"E/QGRL"})}),(0,Ft.jsx)(uI,{})]})]})})]}),t[47]=s,t[48]=p,t[49]=a,t[50]=H):H=t[50],t[51]!==O||t[52]!==H?(N=(0,Ft.jsxs)(_l,{testID:"messagesSettingsScreen",children:[g,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(wo.default,{style:x,children:[_,O,z,H]})})]}),t[51]=O,t[52]=H,t[53]=N):N=t[53],N}function fY(e){const t=(0,i.c)(25),{control:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),{isLoading:r,error:a,data:l}=Fh();let c,d,u,m,h,p,f,g,x,_,y,b;return t[0]===Symbol.for("react.memo_cache_sentinel")?(c={preventExpansion:!0},d=(0,Ft.jsx)(ha,{}),t[0]=c,t[1]=d):(c=t[0],d=t[1]),t[2]!==o?(u=o({id:"Mysqyf"}),t[2]=o,t[3]=u):u=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.gap_sm,kl.pb_lg],t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"Mysqyf"})}),t[5]=h):h=t[5],t[6]!==n.atoms.text_contrast_medium?(p=[kl.text_md,n.atoms.text_contrast_medium],t[6]=n.atoms.text_contrast_medium,t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ft.Trans,{id:"lm845B"}),t[8]=f):f=t[8],t[9]!==p?(g=(0,Ft.jsxs)(wo.default,{style:m,children:[h,(0,Ft.jsx)(fr,{style:p,children:f})]}),t[9]=p,t[10]=g):g=t[10],t[11]!==o||t[12]!==s||t[13]!==a||t[14]!==r||t[15]!==l?(x=r?(0,Ft.jsx)(wv,{size:"xl"}):a||!l?(0,Ft.jsx)(Rx,{message:a?.toString()||o({id:"HGHIXf"}),style:[kl.rounded_sm]}):(0,Ft.jsx)(gY,{control:s,preferences:l}),t[11]=o,t[12]=s,t[13]=a,t[14]=r,t[15]=l,t[16]=x):x=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(ma,{}),t[17]=_):_=t[17],t[18]!==u||t[19]!==g||t[20]!==x?(y=(0,Ft.jsxs)(da,{label:u,children:[g,x,_]}),t[18]=u,t[19]=g,t[20]=x,t[21]=y):y=t[21],t[22]!==s||t[23]!==y?(b=(0,Ft.jsxs)(aa,{control:s,nativeOptions:c,children:[d,y]}),t[22]=s,t[23]=y,t[24]=b):b=t[24],b}function gY(e){const t=(0,i.c)(38),{control:s,preferences:n}=e,{_:o}=(0,ft.useLingui)();let r;t[0]!==n.birthDate?(r=n.birthDate||new Date,t[0]=n.birthDate,t[1]=r):r=t[1];const[a,l]=mt.useState(r),{isPending:c,isError:d,error:u,mutateAsync:m}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{birthDate:n}=e;await s.setPersonalDetails({birthDate:n.toISOString()}),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),h=a!==n.birthDate;let p;t[2]!==s||t[3]!==a||t[4]!==h||t[5]!==m?(p=async()=>{try{h&&await m({birthDate:a}),s.close()}catch(g){const t=g;ys.error("setBirthDate failed",{message:t.message})}},t[2]=s,t[3]=a,t[4]=h,t[5]=m,t[6]=p):p=t[6];const f=p;let g,x,_,y,b,j,v,w,S,k,C,P,T;return t[7]===Symbol.for("react.memo_cache_sentinel")?(g=wt&&[kl.w_full,kl.align_center],t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=e=>l(new Date(e)),t[8]=x):x=t[8],t[9]!==o?(_=o({id:"+gCI2a"}),t[9]=o,t[10]=_):_=t[10],t[11]!==o?(y=o({id:"hMdo4a"}),t[11]=o,t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=function(e){const t=new Date;return t.setFullYear(t.getFullYear()-e),t}(13),t[13]=b):b=t[13],t[14]!==a||t[15]!==_||t[16]!==y?(j=(0,Ft.jsx)(wo.default,{style:g,children:(0,Ft.jsx)(BU,{testID:"birthdayInput",value:a,onChangeDate:x,label:_,accessibilityHint:y,maximumDate:b})}),t[14]=a,t[15]=_,t[16]=y,t[17]=j):j=t[17],t[18]!==u||t[19]!==d?(v=d?(0,Ft.jsx)(Rx,{message:ds(u),style:[kl.rounded_sm]}):void 0,t[18]=u,t[19]=d,t[20]=v):v=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(w=Pt&&[kl.flex_row,kl.justify_end],t[21]=w):w=t[21],t[22]!==o||t[23]!==h?(S=o(h?{id:"7tDdT3"}:{id:"DPfwMq"}),t[22]=o,t[23]=h,t[24]=S):S=t[24],t[25]!==h?(k=(0,Ft.jsx)(Cr,{children:h?(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"}):(0,Ft.jsx)(ft.Trans,{id:"DPfwMq"})}),t[25]=h,t[26]=k):k=t[26],t[27]!==c?(C=c&&(0,Ft.jsx)(Pr,{icon:wv}),t[27]=c,t[28]=C):C=t[28],t[29]!==f||t[30]!==S||t[31]!==k||t[32]!==C?(P=(0,Ft.jsx)(wo.default,{style:w,children:(0,Ft.jsxs)(Sr,{label:S,size:"large",onPress:f,variant:"solid",color:"primary",children:[k,C]})}),t[29]=f,t[30]=S,t[31]=k,t[32]=C,t[33]=P):P=t[33],t[34]!==P||t[35]!==j||t[36]!==v?(T=(0,Ft.jsxs)(wo.default,{style:kl.gap_lg,testID:"birthDateSettingsDialog",children:[j,v,P]}),t[34]=P,t[35]=j,t[36]=v,t[37]=T):T=t[37],T}function xY(e){const t=(0,i.c)(5),{children:s,style:n}=e;let o,r;return t[0]!==n?(o=[kl.flex_row,kl.gap_md,kl.w_full,kl.p_lg,kl.pr_md,kl.overflow_hidden,n],t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==o?(r=(0,Ft.jsx)(wo.default,{style:o,children:s}),t[2]=s,t[3]=o,t[4]=r):r=t[4],r}function _Y(e){const t=(0,i.c)(2),{avatar:s}=e;let n;return t[0]!==s?(n=(0,Ft.jsx)(mP,{type:"labeler",size:40,avatar:s}),t[0]=s,t[1]=n):n=t[1],n}function yY(e){const t=(0,i.c)(3),{value:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.text_md,kl.font_bold,kl.leading_tight],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(fr,{emoji:!0,style:n,children:s}),t[1]=s,t[2]=o):o=t[2],o}function bY(e){const t=(0,i.c)(4),{value:s,handle:n}=e,{_:o}=(0,ft.useLingui)();let r;return t[0]!==o||t[1]!==n||t[2]!==s?(r=s?(0,Ft.jsx)(fr,{numberOfLines:2,children:(0,Ft.jsx)(DC,{value:s,style:[kl.leading_snug]})}):(0,Ft.jsx)(fr,{emoji:!0,style:[kl.leading_snug],children:o({id:"aavdrC",values:{0:su(n,"@")}})}),t[0]=o,t[1]=n,t[2]=s,t[3]=r):r=t[3],r}function jY(){const e=(0,i.c)(6),t=ec();let s,n,o,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[kl.flex_row,kl.align_center,kl.gap_xs,kl.pt_2xs,{marginLeft:-2}],e[0]=s):s=e[0],e[1]!==t.atoms.text_contrast_low.color?(n=(0,Ft.jsx)(cT,{fill:t.atoms.text_contrast_low.color,size:"sm"}),e[1]=t.atoms.text_contrast_low.color,e[2]=n):n=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(fr,{style:[kl.italic,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"6EV+IC"})}),e[3]=o):o=e[3],e[4]!==n?(r=(0,Ft.jsxs)(wo.default,{style:s,children:[n,o]}),e[4]=n,e[5]=r):r=e[5],r}function vY(e){const t=(0,i.c)(9),{children:s}=e,n=ec();let o,r,a,l,c;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_1,kl.flex_row,kl.gap_md,kl.align_center,kl.justify_between],t[0]=o):o=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.gap_2xs,kl.flex_1],t[1]=r):r=t[1],t[2]!==s?(a=(0,Ft.jsx)(wo.default,{style:r,children:s}),t[2]=s,t[3]=a):a=t[3],t[4]!==n.atoms.text_contrast_low?(l=(0,Ft.jsx)(QT,{size:"md",style:[kl.z_10,n.atoms.text_contrast_low]}),t[4]=n.atoms.text_contrast_low,t[5]=l):l=t[5],t[6]!==a||t[7]!==l?(c=(0,Ft.jsxs)(wo.default,{style:o,children:[a,l]}),t[6]=a,t[7]=l,t[8]=c):c=t[8],c}function wY(e){const t=(0,i.c)(9),{children:s,labeler:n}=e,{_:o}=(0,ft.useLingui)();let r,a,l;return t[0]!==n.creator.handle?(r={screen:"Profile",params:{name:n.creator.handle}},t[0]=n.creator.handle,t[1]=r):r=t[1],t[2]!==o||t[3]!==n.creator.handle?(a=o({id:"ZC2Eon",values:{0:n.creator.handle}}),t[2]=o,t[3]=n.creator.handle,t[4]=a):a=t[4],t[5]!==s||t[6]!==r||t[7]!==a?(l=(0,Ft.jsx)(pv,{to:r,label:a,children:s}),t[5]=s,t[6]=r,t[7]=a,t[8]=l):l=t[8],l}function SY(e){const t=(0,i.c)(17),{error:s}=e,n=ec();let o,r,a,l,c,d,u,m,h;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.p_xl],t[0]=o):o=t[0],t[1]!==n.atoms.text_contrast_medium?(r=[kl.text_md,kl.leading_normal,kl.pb_md,n.atoms.text_contrast_medium],t[1]=n.atoms.text_contrast_medium,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ft.Trans,{id:"c8NEGo"}),t[3]=a):a=t[3],t[4]!==r?(l=(0,Ft.jsx)(fr,{style:r,children:a}),t[4]=r,t[5]=l):l=t[5],t[6]!==n.atoms.bg_contrast_25?(c=[kl.relative,kl.py_md,kl.px_lg,kl.rounded_md,kl.mb_2xl,n.atoms.bg_contrast_25],t[6]=n.atoms.bg_contrast_25,t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.text_md,kl.leading_normal],t[8]=d):d=t[8],t[9]!==s?(u=(0,Ft.jsx)(fr,{style:d,children:s}),t[9]=s,t[10]=u):u=t[10],t[11]!==c||t[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:c,children:u}),t[11]=c,t[12]=u,t[13]=m):m=t[13],t[14]!==l||t[15]!==m?(h=(0,Ft.jsxs)(wo.default,{style:o,children:[l,m]}),t[14]=l,t[15]=m,t[16]=h):h=t[16],h}function kY(e){const t=(0,i.c)(13),{_:s}=(0,ft.useLingui)(),{isLoading:n,error:o,data:r}=Fh(),a=n,l=o;let c,d,u,m;return t[0]!==s?(c=s({id:"DzmsLV"}),t[0]=s,t[1]=c):c=t[1],t[2]!==c?(d=(0,Ft.jsx)(YP,{title:c,showOnDesktop:!0}),t[2]=c,t[3]=d):d=t[3],t[4]!==s||t[5]!==l||t[6]!==a||t[7]!==r||t[8]!==o?(u=(0,Ft.jsx)(bl,{children:a?(0,Ft.jsx)(QH,{isLoading:!0,sideBorders:!1}):l||!r?(0,Ft.jsx)(SY,{error:o?.toString()||s({id:"y47vGS"})}):(0,Ft.jsx)(PY,{preferences:r})}),t[4]=s,t[5]=l,t[6]=a,t[7]=r,t[8]=o,t[9]=u):u=t[9],t[10]!==d||t[11]!==u?(m=(0,Ft.jsxs)(_l,{testID:"moderationScreen",children:[d,u]}),t[10]=d,t[11]=u,t[12]=m):m=t[12],m}function CY(e){const t=(0,i.c)(21),{title:s,icon:n,style:o}=e,r=ec();let a,l,c,d,u,m,h,p,f,g;return t[0]!==o?(a=[kl.w_full,kl.flex_row,kl.align_center,kl.justify_between,kl.p_lg,kl.gap_sm,o],t[0]=o,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_row,kl.align_center,kl.gap_md],t[2]=l):l=t[2],t[3]!==r.atoms.text_contrast_medium?(c=[r.atoms.text_contrast_medium],t[3]=r.atoms.text_contrast_medium,t[4]=c):c=t[4],t[5]!==n||t[6]!==c?(d=(0,Ft.jsx)(n,{size:"md",style:c}),t[5]=n,t[6]=c,t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.text_sm,kl.font_bold],t[8]=u):u=t[8],t[9]!==s?(m=(0,Ft.jsx)(fr,{style:u,children:s}),t[9]=s,t[10]=m):m=t[10],t[11]!==d||t[12]!==m?(h=(0,Ft.jsxs)(wo.default,{style:l,children:[d,m]}),t[11]=d,t[12]=m,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(p={paddingBottom:2},t[14]=p):p=t[14],t[15]!==r.atoms.text_contrast_low?(f=(0,Ft.jsx)(QT,{size:"sm",style:[r.atoms.text_contrast_low,kl.self_end,p]}),t[15]=r.atoms.text_contrast_low,t[16]=f):f=t[16],t[17]!==a||t[18]!==h||t[19]!==f?(g=(0,Ft.jsxs)(wo.default,{style:a,children:[h,f]}),t[17]=a,t[18]=h,t[19]=f,t[20]=g):g=t[20],g}function PY(e){const t=(0,i.c)(129),{preferences:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=Na(),{gtMobile:a}=ql(),{mutedWordsDialogControl:l}=No(),c=Ar(),{isLoading:d,data:u,error:m}=Ch();let h;t[0]!==r?(h=()=>{r(!1)},t[0]=r,t[1]=h):h=t[1],(0,va.useFocusEffect)(h);const{mutateAsync:p,variables:f}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{const{enabled:n}=e;await s.setAdultContentEnabled(n),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),g=!!(f&&f.enabled||!f&&s.moderationPrefs.adultContentEnabled),x=!s.userAge,_=(s.userAge||0)<18;let y;t[2]!==p?(y=async e=>{try{await p({enabled:e})}catch(v){const t=v;ys.error("Failed to set adult content pref",{message:t.message})}},t[2]=p,t[3]=y):y=t[3];const b=y,j=wt&&!g,v=a&&kl.px_2xl;let w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe;return t[4]!==v?(w=[kl.pt_2xl,kl.px_lg,v],t[4]=v,t[5]=w):w=t[5],t[6]!==o.atoms.text_contrast_high?(S=[kl.text_md,kl.font_bold,kl.pb_md,o.atoms.text_contrast_high],t[6]=o.atoms.text_contrast_high,t[7]=S):S=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(ft.Trans,{id:"918nZs"}),t[8]=k):k=t[8],t[9]!==S?(C=(0,Ft.jsx)(fr,{style:S,children:k}),t[9]=S,t[10]=C):C=t[10],t[11]!==o.atoms.bg_contrast_25?(P=[kl.w_full,kl.rounded_md,kl.overflow_hidden,o.atoms.bg_contrast_25],t[11]=o.atoms.bg_contrast_25,t[12]=P):P=t[12],t[13]!==n?(T=n({id:"RMpIrX"}),t[13]=n,t[14]=T):T=t[14],t[15]!==n||t[16]!==o.atoms.bg_contrast_50?(L=e=>(0,Ft.jsx)(CY,{title:n({id:"hyrjdx"}),icon:sK,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[15]=n,t[16]=o.atoms.bg_contrast_50,t[17]=L):L=t[17],t[18]!==L||t[19]!==T?(A=(0,Ft.jsx)(pv,{label:T,testID:"interactionSettingsBtn",to:"/moderation/interaction-settings",children:L}),t[18]=L,t[19]=T,t[20]=A):A=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(Iv,{}),t[21]=I):I=t[21],t[22]!==n?(R=n({id:"MbFkiL"}),t[22]=n,t[23]=R):R=t[23],t[24]!==l?(D=()=>l.open(),t[24]=l,t[25]=D):D=t[25],t[26]!==n||t[27]!==o.atoms.bg_contrast_50?(F=e=>(0,Ft.jsx)(CY,{title:n({id:"M9ya/M"}),icon:TB,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[26]=n,t[27]=o.atoms.bg_contrast_50,t[28]=F):F=t[28],t[29]!==R||t[30]!==D||t[31]!==F?(E=(0,Ft.jsx)(Sr,{testID:"mutedWordsBtn",label:R,onPress:D,children:F}),t[29]=R,t[30]=D,t[31]=F,t[32]=E):E=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(Iv,{}),t[33]=M):M=t[33],t[34]!==n?(B=n({id:"tW1+xY"}),t[34]=n,t[35]=B):B=t[35],t[36]!==n||t[37]!==o.atoms.bg_contrast_50?(O=e=>(0,Ft.jsx)(CY,{title:n({id:"NTIbv4"}),icon:DO,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[36]=n,t[37]=o.atoms.bg_contrast_50,t[38]=O):O=t[38],t[39]!==B||t[40]!==O?(z=(0,Ft.jsx)(pv,{label:B,testID:"moderationlistsBtn",to:"/moderation/modlists",children:O}),t[39]=B,t[40]=O,t[41]=z):z=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(Iv,{}),t[42]=H):H=t[42],t[43]!==n?(N=n({id:"PsW9QQ"}),t[43]=n,t[44]=N):N=t[44],t[45]!==n||t[46]!==o.atoms.bg_contrast_50?(V=e=>(0,Ft.jsx)(CY,{title:n({id:"s22grX"}),icon:rC,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[45]=n,t[46]=o.atoms.bg_contrast_50,t[47]=V):V=t[47],t[48]!==N||t[49]!==V?(q=(0,Ft.jsx)(pv,{label:N,testID:"mutedAccountsBtn",to:"/moderation/muted-accounts",children:V}),t[48]=N,t[49]=V,t[50]=q):q=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(U=(0,Ft.jsx)(Iv,{}),t[51]=U):U=t[51],t[52]!==n?(W=n({id:"ZRkG+v"}),t[52]=n,t[53]=W):W=t[53],t[54]!==n||t[55]!==o.atoms.bg_contrast_50?(Z=e=>(0,Ft.jsx)(CY,{title:n({id:"KWykPE"}),icon:PS,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[54]=n,t[55]=o.atoms.bg_contrast_50,t[56]=Z):Z=t[56],t[57]!==W||t[58]!==Z?(Q=(0,Ft.jsx)(pv,{label:W,testID:"blockedAccountsBtn",to:"/moderation/blocked-accounts",children:Z}),t[57]=W,t[58]=Z,t[59]=Q):Q=t[59],t[60]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsx)(Iv,{}),t[60]=K):K=t[60],t[61]!==n?($=n({id:"gANuJy"}),t[61]=n,t[62]=$):$=t[62],t[63]!==n||t[64]!==o.atoms.bg_contrast_50?(G=e=>(0,Ft.jsx)(CY,{title:n({id:"/Idgng"}),icon:rT,style:[(e.hovered||e.pressed)&&[o.atoms.bg_contrast_50]]}),t[63]=n,t[64]=o.atoms.bg_contrast_50,t[65]=G):G=t[65],t[66]!==$||t[67]!==G?(Y=(0,Ft.jsx)(pv,{label:$,testID:"verificationSettingsBtn",to:"/moderation/verification-settings",children:G}),t[66]=$,t[67]=G,t[68]=Y):Y=t[68],t[69]!==A||t[70]!==E||t[71]!==z||t[72]!==q||t[73]!==Q||t[74]!==Y||t[75]!==P?(J=(0,Ft.jsxs)(wo.default,{style:P,children:[A,I,E,M,z,H,q,U,Q,K,Y]}),t[69]=A,t[70]=E,t[71]=z,t[72]=q,t[73]=Q,t[74]=Y,t[75]=P,t[76]=J):J=t[76],t[77]!==o.atoms.text_contrast_high?(X=[kl.pt_2xl,kl.pb_md,kl.text_md,kl.font_bold,o.atoms.text_contrast_high],t[77]=o.atoms.text_contrast_high,t[78]=X):X=t[78],t[79]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(ft.Trans,{id:"vQp+7g"}),t[79]=ee):ee=t[79],t[80]!==X?(te=(0,Ft.jsx)(fr,{style:X,children:ee}),t[80]=X,t[81]=te):te=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(se=[kl.gap_md],t[82]=se):se=t[82],t[83]!==n||t[84]!==x||t[85]!==c?(ne=x&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(Sr,{label:n({id:"3noSUs"}),size:"small",variant:"solid",color:"secondary",onPress:()=>{c.open()},style:[kl.justify_between,kl.rounded_md,kl.px_lg,kl.py_lg],children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"+7HJxC"})}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Z1B7bH"})})]}),(0,Ft.jsx)(fY,{control:c})]}),t[83]=n,t[84]=x,t[85]=c,t[86]=ne):ne=t[86],t[87]!==o.atoms.bg_contrast_25?(oe=[kl.w_full,kl.rounded_md,kl.overflow_hidden,o.atoms.bg_contrast_25],t[87]=o.atoms.bg_contrast_25,t[88]=oe):oe=t[88],t[89]!==n||t[90]!==g||t[91]!==x||t[92]!==j||t[93]!==_||t[94]!==b||t[95]!==o.atoms.text_contrast_high||t[96]!==o.atoms.text_contrast_medium?(re=!x&&!_&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.py_lg,kl.px_lg,kl.flex_row,kl.align_center,kl.justify_between,j&&{opacity:.5}],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,o.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"8iLAJ5"})}),(0,Ft.jsx)(iI,{label:n({id:"4tj/JO"}),disabled:j,name:"adultContent",value:g,onChange:b,children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[o.atoms.text_contrast_medium],children:g?(0,Ft.jsx)(ft.Trans,{id:"RxzN1M"}):(0,Ft.jsx)(ft.Trans,{id:"E/QGRL"})}),(0,Ft.jsx)(dI,{})]})})]}),j&&(0,Ft.jsx)(wo.default,{style:[kl.pb_lg,kl.px_lg],children:(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"xiMmLz",components:{0:(0,Ft.jsx)(fv,{label:n({id:"60qGwF"}),to:"",onPress:TY})}})})}),(0,Ft.jsx)(Iv,{})]}),t[89]=n,t[90]=g,t[91]=x,t[92]=j,t[93]=_,t[94]=b,t[95]=o.atoms.text_contrast_high,t[96]=o.atoms.text_contrast_medium,t[97]=re):re=t[97],t[98]!==g||t[99]!==_?(ie=!_&&g&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(kV,{labelDefinition:Is.LABELS.porn}),(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(kV,{labelDefinition:Is.LABELS.sexual}),(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(kV,{labelDefinition:Is.LABELS["graphic-media"]}),(0,Ft.jsx)(Iv,{})]}),t[98]=g,t[99]=_,t[100]=ie):ie=t[100],t[101]===Symbol.for("react.memo_cache_sentinel")?(ae=(0,Ft.jsx)(kV,{labelDefinition:Is.LABELS.nudity}),t[101]=ae):ae=t[101],t[102]!==oe||t[103]!==re||t[104]!==ie?(le=(0,Ft.jsxs)(wo.default,{style:oe,children:[re,ie,ae]}),t[102]=oe,t[103]=re,t[104]=ie,t[105]=le):le=t[105],t[106]!==ne||t[107]!==le?(ce=(0,Ft.jsxs)(wo.default,{style:se,children:[ne,le]}),t[106]=ne,t[107]=le,t[108]=ce):ce=t[108],t[109]!==o.atoms.text_contrast_high?(de=[kl.text_md,kl.font_bold,kl.pt_2xl,kl.pb_md,o.atoms.text_contrast_high],t[109]=o.atoms.text_contrast_high,t[110]=de):de=t[110],t[111]===Symbol.for("react.memo_cache_sentinel")?(ue=(0,Ft.jsx)(ft.Trans,{id:"sxkWRg"}),t[111]=ue):ue=t[111],t[112]!==de?(me=(0,Ft.jsx)(fr,{style:de,children:ue}),t[112]=de,t[113]=me):me=t[113],t[114]!==d||t[115]!==u||t[116]!==m||t[117]!==o.atoms.bg_contrast_25||t[118]!==o.atoms.bg_contrast_50?(he=d?(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.align_center,kl.p_lg],children:(0,Ft.jsx)(wv,{size:"xl"})}):m||!u?(0,Ft.jsx)(wo.default,{style:[kl.p_lg,kl.rounded_sm,o.atoms.bg_contrast_25],children:(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"GhA80w"})})}):(0,Ft.jsx)(wo.default,{style:[kl.rounded_sm,o.atoms.bg_contrast_25],children:u.map(((e,t)=>(0,Ft.jsxs)(mt.Fragment,{children:[0!==t&&(0,Ft.jsx)(Iv,{}),(0,Ft.jsx)(wY,{labeler:e,children:s=>(0,Ft.jsxs)(xY,{style:[0===t&&{borderTopLeftRadius:kl.rounded_sm.borderRadius,borderTopRightRadius:kl.rounded_sm.borderRadius},t===u.length-1&&{borderBottomLeftRadius:kl.rounded_sm.borderRadius,borderBottomRightRadius:kl.rounded_sm.borderRadius},(s.hovered||s.pressed)&&[o.atoms.bg_contrast_50]],children:[(0,Ft.jsx)(_Y,{avatar:e.creator.avatar}),(0,Ft.jsxs)(vY,{children:[(0,Ft.jsx)(yY,{value:Xf({displayName:e.creator.displayName,handle:e.creator.handle})}),(0,Ft.jsx)(bY,{value:e.creator.description,handle:e.creator.handle}),Dd(e.creator.did)&&(0,Ft.jsx)(jY,{})]})]})})]},e.creator.did)))}),t[114]=d,t[115]=u,t[116]=m,t[117]=o.atoms.bg_contrast_25,t[118]=o.atoms.bg_contrast_50,t[119]=he):he=t[119],t[120]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,Ft.jsx)(wo.default,{style:{height:150}}),t[120]=pe):pe=t[120],t[121]!==J||t[122]!==te||t[123]!==w||t[124]!==ce||t[125]!==me||t[126]!==he||t[127]!==C?(fe=(0,Ft.jsxs)(wo.default,{style:w,children:[C,J,te,ce,me,he,pe]}),t[121]=J,t[122]=te,t[123]=w,t[124]=ce,t[125]=me,t[126]=he,t[127]=C,t[128]=fe):fe=t[128],fe}function TY(e){return e.preventDefault(),Yj.default.openURL("https://bsky.app/"),!1}function LY(){const e=(0,i.c)(14),{_:t}=(0,ft.useLingui)();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["base"],e[0]=s):s=e[0];const n=Kl(s),{data:o}=Fh();let r,a,l,c,d,u,m;return e[1]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(dl,{}),e[1]=r):r=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsxs)(il,{children:[r,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"JogI0j"})})}),(0,Ft.jsx)(cl,{})]}),e[2]=a):a=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_1],e[3]=l):l=e[3],e[4]!==t?(c=t({id:"zwWKhA"}),e[4]=t,e[5]=c):c=e[5],e[6]!==c?(d=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"tip",style:l,children:(0,Ft.jsx)(ft.Trans,{id:"NXGB4m",components:{0:(0,Ft.jsx)(fv,{overridePresentation:!0,to:Zi.website.blog.initialVerificationAnnouncement,label:c,onPress:AY})}})})}),e[6]=c,e[7]=d):d=e[7],e[8]!==n||e[9]!==o?(u=o?(0,Ft.jsx)(IY,{preferences:o}):(0,Ft.jsx)(wo.default,{style:[n,kl.justify_center,kl.align_center],children:(0,Ft.jsx)(wv,{size:"xl"})}),e[8]=n,e[9]=o,e[10]=u):u=e[10],e[11]!==d||e[12]!==u?(m=(0,Ft.jsxs)(_l,{testID:"ModerationVerificationSettingsScreen",children:[a,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[d,u]})})]}),e[11]=d,e[12]=u,e[13]=m):m=e[13],m}function AY(){ys.metric("verification:learn-more",{location:"verificationSettings"})}function IY(e){const t=(0,i.c)(11),{preferences:s}=e,{_:n}=(0,ft.useLingui)(),{hideBadges:o}=s.verificationPrefs,{mutate:r,isPending:a}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.setVerificationPrefs(e),e.hideBadges?ys.metric("verification:settings:hideBadges",{}):ys.metric("verification:settings:unHideBadges",{}),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}();let l,c,d,u,m;return t[0]!==n?(l=n({id:"dou2yc"}),t[0]=n,t[1]=l):l=t[1],t[2]!==r?(c=e=>{r({hideBadges:e})},t[2]=r,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(tW,{icon:rT}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsxs)(JU,{children:[d,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"dou2yc"})}),(0,Ft.jsx)(mI,{})]}),t[5]=u):u=t[5],t[6]!==o||t[7]!==a||t[8]!==l||t[9]!==c?(m=(0,Ft.jsx)(iI,{type:"checkbox",name:"hideBadges",label:l,value:o,disabled:a,onChange:c,children:u}),t[6]=o,t[7]=a,t[8]=l,t[9]=c,t[10]=m):m=t[10],m}function RY(){const e=(0,i.c)(12);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t=["base"],e[0]=t):t=e[0];const s=Kl(t),{data:n}=Fh();let o,r,a,l,c,d;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(dl,{}),e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsxs)(il,{children:[o,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"qX55km"})})}),(0,Ft.jsx)(cl,{})]}),e[2]=r):r=e[2],e[3]!==s?(a=[s,kl.gap_xl],e[3]=s,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(Uj,{type:"tip",children:(0,Ft.jsx)(ft.Trans,{id:"iZYMiH"})}),e[5]=l):l=e[5],e[6]!==s||e[7]!==n?(c=n?(0,Ft.jsx)(DY,{preferences:n}):(0,Ft.jsx)(wo.default,{style:[s,kl.justify_center,kl.align_center],children:(0,Ft.jsx)(wv,{size:"xl"})}),e[6]=s,e[7]=n,e[8]=c):c=e[8],e[9]!==a||e[10]!==c?(d=(0,Ft.jsxs)(_l,{testID:"ModerationInteractionSettingsScreen",children:[r,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(wo.default,{style:a,children:[l,c]})})]}),e[9]=a,e[10]=c,e[11]=d):d=e[11],d}function DY({preferences:e}){const{_:t}=(0,ft.useLingui)(),{mutateAsync:s,isPending:n}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={async mutationFn(e){await s.setPostInteractionSettings(e)},async onSuccess(){await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),[o,r]=mt.useState(void 0),a=mt.useMemo((()=>m_({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toString(),allow:e.postInteractionSettings.threadgateAllowRules})),[e.postInteractionSettings.threadgateAllowRules]),l=mt.useMemo((()=>KM({post:"",embeddingRules:e.postInteractionSettings.postgateEmbeddingRules})),[e.postInteractionSettings.postgateEmbeddingRules]),[c,d]=mt.useState(a),[u,m]=mt.useState(l),h=mt.useMemo((()=>!aB()(a,c)||!aB()(l.embeddingRules,u.embeddingRules)),[l,a,c,u]),p=mt.useCallback((async()=>{r("");try{await s({threadgateAllowRules:h_(c),postgateEmbeddingRules:u.embeddingRules??[]}),Zu(t({id:"4fNKE2"}))}catch(e){ys.error("Failed to save post interaction settings",{source:"ModerationInteractionSettingsScreen",safeMessage:e.message}),r(t({id:"HFJEro"}))}}),[t,u,c,s]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(hB,{canSave:h,isSaving:n,onSave:p,postgate:u,onChangePostgate:m,threadgateAllowUISettings:c,onChangeThreadgateAllowUISettings:d}),o&&(0,Ft.jsx)(Uj,{type:"error",children:o})]})}const FY=e=>{const t=(0,i.c)(19),{route:s}=e,n=Na(),{name:o,rkey:r}=s.params;let a;t[0]!==o||t[1]!==r?(a=uu(o,"app.bsky.feed.post",r),t[0]=o,t[1]=r,t[2]=a):a=t[2];const l=a,{data:c}=t_(l);let d,u,m,h,p,f,g,x,_;return"post"===c?.thread.type&&(d=c.thread.post.likeCount),t[3]!==n?(u=()=>{n(!1)},t[3]=n,t[4]=u):u=t[4],(0,va.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(dl,{}),t[5]=m):m=t[5],t[6]!==d||t[7]!==c?(h=c&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"d2RphL"})}),(0,Ft.jsx)(hl,{children:(0,Ft.jsx)(ft.Trans,{id:"J6qsxL",values:{0:d??0}})})]}),t[6]=d,t[7]=c,t[8]=h):h=t[8],t[9]!==h?(p=(0,Ft.jsx)(ll,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(cl,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,Ft.jsxs)(il,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==l?(x=(0,Ft.jsx)(JV,{uri:l}),t[14]=l,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,Ft.jsxs)(_l,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};function EY({item:e,index:t}){return(0,Ft.jsx)(iO,{post:e.post,hideTopBorder:0===t})}function MY(e){return e.post.uri}function BY(e){const t=(0,i.c)(38),{uri:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),[r,a]=(0,mt.useState)(!1),{data:l,error:c,isLoading:d}=JS(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=function(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=Ag(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e||t[4]!==o?(r={queryKey:o,async queryFn(t){const{pageParam:n}=t;return(await s.api.app.bsky.feed.getQuotes({uri:e||"",limit:Tg,cursor:n})).data},initialPageParam:void 0,getNextPageParam:Fg,enabled:!!e,select:Ig},t[2]=s,t[3]=e,t[4]=o,t[5]=r):r=t[5],(0,Dp.useInfiniteQuery)(r)}(l?.uri),_=Op(),y=Boolean(c||g);let b;t[0]!==u?.pages||t[1]!==_?(b=u?.pages.flatMap((e=>e.posts.map((e=>{if(!Is.AppBskyFeedPost.isRecord(e.record)||!_)return null;const t=(0,Is.moderatePost)(e,_);return{post:e,record:e.record,moderation:t}})))).filter(OY)??[],t[0]=u?.pages,t[1]=_,t[2]=b):b=t[2];const j=b;let v;t[3]!==x?(v=async()=>{a(!0);try{await x()}catch(S){const t=S;ys.error("Failed to refresh quotes",{message:t})}a(!1)},t[3]=x,t[4]=v):v=t[4];const w=v;let S;t[5]!==f||t[6]!==p||t[7]!==y||t[8]!==h?(S=async()=>{if(!h&&p&&!y)try{await f()}catch(C){const t=C;ys.error("Failed to load more quotes",{message:t})}},t[5]=f,t[6]=p,t[7]=y,t[8]=h,t[9]=S):S=t[9];const k=S;if(j.length<1){const e=d||m;let s,o;t[10]!==n?(s=n({id:"/Xg6f6"}),t[10]=n,t[11]=s):s=t[11],t[12]!==n?(o=n({id:"CmA7By"}),t[12]=n,t[13]=o):o=t[13];const r=c||g;let i,a;return t[14]!==r?(i=ds(r),t[14]=r,t[15]=i):i=t[15],t[16]!==y||t[17]!==e||t[18]!==s||t[19]!==o||t[20]!==i?(a=(0,Ft.jsx)(QH,{isLoading:e,isError:y,emptyType:"results",emptyTitle:s,emptyMessage:o,errorMessage:i,sideBorders:!1}),t[16]=y,t[17]=e,t[18]=s,t[19]=o,t[20]=i,t[21]=a):a=t[21],a}let C,P,T,L;return t[22]!==g?(C=ds(g),t[22]=g,t[23]=C):C=t[23],t[24]!==n?(P=n({id:"n8U9gf"}),t[24]=n,t[25]=P):P=t[25],t[26]!==f||t[27]!==h||t[28]!==C||t[29]!==P?(T=(0,Ft.jsx)(WH,{isFetchingNextPage:h,error:C,onRetry:f,showEndMessage:!0,endMessageText:P}),t[26]=f,t[27]=h,t[28]=C,t[29]=P,t[30]=T):T=t[30],t[31]!==o||t[32]!==r||t[33]!==k||t[34]!==w||t[35]!==j||t[36]!==T?(L=(0,Ft.jsx)(MF,{data:j,renderItem:EY,keyExtractor:MY,refreshing:r,onRefresh:w,onEndReached:k,onEndReachedThreshold:4,ListFooterComponent:T,desktopFixedHeight:!0,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[31]=o,t[32]=r,t[33]=k,t[34]=w,t[35]=j,t[36]=T,t[37]=L):L=t[37],L}function OY(e){return null!==e}const zY=e=>{const t=(0,i.c)(19),{route:s}=e,n=Na(),{name:o,rkey:r}=s.params;let a;t[0]!==o||t[1]!==r?(a=uu(o,"app.bsky.feed.post",r),t[0]=o,t[1]=r,t[2]=a):a=t[2];const l=a,{data:c}=t_(l);let d,u,m,h,p,f,g,x,_;return"post"===c?.thread.type&&(d=c.thread.post.quoteCount),t[3]!==n?(u=()=>{n(!1)},t[3]=n,t[4]=u):u=t[4],(0,va.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(dl,{}),t[5]=m):m=t[5],t[6]!==c||t[7]!==d?(h=c&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"eWLklq"})}),(0,Ft.jsx)(hl,{children:(0,Ft.jsx)(ft.Trans,{id:"0Wv08D",values:{0:d??0}})})]}),t[6]=c,t[7]=d,t[8]=h):h=t[8],t[9]!==h?(p=(0,Ft.jsx)(ll,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(cl,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,Ft.jsxs)(il,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==l?(x=(0,Ft.jsx)(BY,{uri:l}),t[14]=l,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,Ft.jsxs)(_l,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};function HY({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e,noBorder:0===t},e.did)}function NY(e){return e.did}function VY(e){const t=(0,i.c)(35),{uri:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),[r,a]=(0,mt.useState)(!1),{data:l,error:c,isLoading:d}=JS(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=function(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=uy(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e||t[4]!==o?(r={queryKey:o,async queryFn(t){const{pageParam:n}=t;return(await s.getRepostedBy({uri:e||"",limit:cy,cursor:n})).data},initialPageParam:void 0,getNextPageParam:my,enabled:!!e},t[2]=s,t[3]=e,t[4]=o,t[5]=r):r=t[5],(0,Dp.useInfiniteQuery)(r)}(l?.uri),_=Boolean(c||g);let y;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(qY),t[0]=u.pages,t[1]=e):e=t[1],y=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],y=e}const b=y;let j;t[3]!==x?(j=async()=>{a(!0);try{await x()}catch(w){const t=w;ys.error("Failed to refresh reposts",{message:t})}a(!1)},t[3]=x,t[4]=j):j=t[4];const v=j;let w;t[5]!==f||t[6]!==p||t[7]!==_||t[8]!==h?(w=async()=>{if(!h&&p&&!_)try{await f()}catch(k){const t=k;ys.error("Failed to load more reposts",{message:t})}},t[5]=f,t[6]=p,t[7]=_,t[8]=h,t[9]=w):w=t[9];const S=w;if(b.length<1){const e=d||m;let s,o;t[10]!==n?(s=n({id:"2aFsVD"}),t[10]=n,t[11]=s):s=t[11],t[12]!==n?(o=n({id:"V5rsDs"}),t[12]=n,t[13]=o):o=t[13];const r=c||g;let i,a;return t[14]!==r?(i=ds(r),t[14]=r,t[15]=i):i=t[15],t[16]!==_||t[17]!==e||t[18]!==s||t[19]!==o||t[20]!==i?(a=(0,Ft.jsx)(QH,{isLoading:e,isError:_,emptyType:"results",emptyTitle:s,emptyMessage:o,errorMessage:i,sideBorders:!1}),t[16]=_,t[17]=e,t[18]=s,t[19]=o,t[20]=i,t[21]=a):a=t[21],a}let k,C,P;return t[22]!==g?(k=ds(g),t[22]=g,t[23]=k):k=t[23],t[24]!==f||t[25]!==h||t[26]!==k?(C=(0,Ft.jsx)(WH,{isFetchingNextPage:h,error:k,onRetry:f}),t[24]=f,t[25]=h,t[26]=k,t[27]=C):C=t[27],t[28]!==o||t[29]!==r||t[30]!==S||t[31]!==v||t[32]!==b||t[33]!==C?(P=(0,Ft.jsx)(MF,{data:b,renderItem:HY,keyExtractor:NY,refreshing:r,onRefresh:v,onEndReached:S,onEndReachedThreshold:4,ListFooterComponent:C,desktopFixedHeight:!0,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[28]=o,t[29]=r,t[30]=S,t[31]=v,t[32]=b,t[33]=C,t[34]=P):P=t[34],P}function qY(e){return e.repostedBy}const UY=e=>{const t=(0,i.c)(19),{route:s}=e,{name:n,rkey:o}=s.params;let r;t[0]!==n||t[1]!==o?(r=uu(n,"app.bsky.feed.post",o),t[0]=n,t[1]=o,t[2]=r):r=t[2];const a=r,l=Na(),{data:c}=t_(a);let d,u,m,h,p,f,g,x,_;return"post"===c?.thread.type&&(d=c.thread.post.repostCount),t[3]!==l?(u=()=>{l(!1)},t[3]=l,t[4]=u):u=t[4],(0,va.useFocusEffect)(u),t[5]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(dl,{}),t[5]=m):m=t[5],t[6]!==c||t[7]!==d?(h=c&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"d11QMf"})}),(0,Ft.jsx)(hl,{children:(0,Ft.jsx)(ft.Trans,{id:"4xWh2D",values:{0:d??0}})})]}),t[6]=c,t[7]=d,t[8]=h):h=t[8],t[9]!==h?(p=(0,Ft.jsx)(ll,{children:h}),t[9]=h,t[10]=p):p=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(cl,{}),t[11]=f):f=t[11],t[12]!==p?(g=(0,Ft.jsxs)(il,{children:[m,p,f]}),t[12]=p,t[13]=g):g=t[13],t[14]!==a?(x=(0,Ft.jsx)(VY,{uri:a}),t[14]=a,t[15]=x):x=t[15],t[16]!==g||t[17]!==x?(_=(0,Ft.jsxs)(_l,{children:[g,x]}),t[16]=g,t[17]=x,t[18]=_):_=t[18],_};function WY({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e,noBorder:0===t},e.did)}function ZY(e){return e.did}const QY=e=>{const t=(0,i.c)(50),{route:s}=e,{_:n}=(0,ft.useLingui)(),o=Na(),r=kF(),{name:a}=s.params,[l,c]=mt.useState(!1),{data:d,isLoading:u,error:m}=XS(s.params.name),{data:h,isLoading:p,isFetchingNextPage:f,hasNextPage:g,fetchNextPage:x,error:_,refetch:y}=N_(d);let b;t[0]!==y?(b=async()=>{c(!0);try{await y()}catch(v){const t=v;ys.error("Failed to refresh followers",{message:t})}c(!1)},t[0]=y,t[1]=b):b=t[1];const j=b;let v;t[2]!==_||t[3]!==x||t[4]!==g||t[5]!==f?(v=async()=>{if(!f&&g&&!_)try{await x()}catch(S){const t=S;ys.error("Failed to load more followers",{message:t})}},t[2]=_,t[3]=x,t[4]=g,t[5]=f,t[6]=v):v=t[6];const w=v;let S;e:{if(h?.pages){let e;t[7]!==h.pages?(e=h.pages.flatMap(KY),t[7]=h.pages,t[8]=e):e=t[8],S=e;break e}let e;t[9]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[9]=e):e=t[9],S=e}const k=S,C=Boolean(m||_);let P,T,L,A,I,R,D;if(t[10]!==o?(P=()=>{o(!1)},t[10]=o,t[11]=P):P=t[11],(0,va.useFocusEffect)(P),k.length<1){let e,s;t[12]!==n?(e=n({id:"TyTvoo"}),t[12]=n,t[13]=e):e=t[13],t[14]!==e?(s=(0,Ft.jsx)(YP,{title:e}),t[14]=e,t[15]=s):s=t[15];const o=u||p;let r;t[16]!==n||t[17]!==a?(r=n({id:"eGkQ9j",values:{name:a}}),t[16]=n,t[17]=a,t[18]=r):r=t[18];const i=m||_;let l;t[19]!==i?(l=ds(i),t[19]=i,t[20]=l):l=t[20];const c=C?y:void 0;let d,h;return t[21]!==C||t[22]!==l||t[23]!==c||t[24]!==o||t[25]!==r?(d=(0,Ft.jsx)(QH,{isLoading:o,isError:C,emptyType:"results",emptyMessage:r,errorMessage:l,onRetry:c,topBorder:!1,sideBorders:!1}),t[21]=C,t[22]=l,t[23]=c,t[24]=o,t[25]=r,t[26]=d):d=t[26],t[27]!==d||t[28]!==s?(h=(0,Ft.jsxs)(_l,{children:[s,d]}),t[27]=d,t[28]=s,t[29]=h):h=t[29],h}return t[30]!==n?(T=n({id:"TyTvoo"}),t[30]=n,t[31]=T):T=t[31],t[32]!==T?(L=(0,Ft.jsx)(YP,{title:T}),t[32]=T,t[33]=L):L=t[33],t[34]!==_?(A=ds(_),t[34]=_,t[35]=A):A=t[35],t[36]!==x||t[37]!==f||t[38]!==A?(I=(0,Ft.jsx)(WH,{isFetchingNextPage:f,error:A,onRetry:x}),t[36]=x,t[37]=f,t[38]=A,t[39]=I):I=t[39],t[40]!==k||t[41]!==r||t[42]!==l||t[43]!==w||t[44]!==j||t[45]!==I?(R=(0,Ft.jsx)(MF,{data:k,renderItem:WY,keyExtractor:ZY,refreshing:l,onRefresh:j,onEndReached:w,onEndReachedThreshold:4,ListFooterComponent:I,desktopFixedHeight:!0,initialNumToRender:r,windowSize:11,sideBorders:!1}),t[40]=k,t[41]=r,t[42]=l,t[43]=w,t[44]=j,t[45]=I,t[46]=R):R=t[46],t[47]!==L||t[48]!==R?(D=(0,Ft.jsxs)(_l,{children:[L,R]}),t[47]=L,t[48]=R,t[49]=D):D=t[49],D};function KY(e){return e.followers}function $Y(){const e=(0,i.c)(15),t=ec();let s,n,o,r,a,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(dl,{}),e[0]=s):s=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(n={height:40},e[1]=n):n=e[1],e[2]!==t.atoms.bg_contrast_25?(o=(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.rounded_sm,t.atoms.bg_contrast_25,n]})}),e[2]=t.atoms.bg_contrast_25,e[3]=o):o=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(r={height:34,width:34},e[4]=r):r=e[4],e[5]!==t.atoms.bg_contrast_25?(a=[kl.justify_center,kl.align_center,kl.rounded_full,t.atoms.bg_contrast_25,r],e[5]=t.atoms.bg_contrast_25,e[6]=a):a=e[6],e[7]!==t.atoms.text_contrast_low.color?(l=(0,Ft.jsx)(nR,{size:"lg",fill:t.atoms.text_contrast_low.color}),e[7]=t.atoms.text_contrast_low.color,e[8]=l):l=e[8],e[9]!==a||e[10]!==l?(c=(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(wo.default,{style:a,children:l})}),e[9]=a,e[10]=l,e[11]=c):c=e[11],e[12]!==o||e[13]!==c?(d=(0,Ft.jsxs)(il,{children:[s,o,c]}),e[12]=o,e[13]=c,e[14]=d):d=e[14],d}function GY(e){const t=(0,i.c)(83),{info:s}=e,n=ec(),{_:o,i18n:r}=(0,ft.useLingui)(),{hasSession:a}=xh(),{gtMobile:l}=ql(),c=Ar(),d=lS(),{data:u}=Fh(),[m,h]=mt.useState(s.likeUri||""),p=(s.likeCount||0)+(m&&!s.likeUri?1:!m&&s.likeUri?-1:0),{mutateAsync:f,isPending:g}=Hh(),{mutateAsync:x,isPending:_}=Nh(),{mutateAsync:y,isPending:b}=Vh(),j=g||_||b;let v;t[0]!==s.uri||t[1]!==u?.savedFeeds?(v=u?.savedFeeds?.find((e=>e.value===s.uri)),t[0]=s.uri,t[1]=u?.savedFeeds,t[2]=v):v=t[2];const w=v,S=Boolean(w),k=Boolean(w?.pinned);let C;t[3]!==o||t[4]!==f||t[5]!==s.uri||t[6]!==d||t[7]!==x||t[8]!==w?(C=async()=>{try{d(),w?(await x(w),Zu(o({id:"lLrUFY"}))):(await f([{type:"feed",value:s.uri,pinned:!1}]),Zu(o({id:"faoc1p"})))}catch(T){const t=T;Zu(o({id:"BUQ9V9"}),"xmark"),ys.error("Failed to update feeds",{message:t})}},t[3]=o,t[4]=f,t[5]=s.uri,t[6]=d,t[7]=x,t[8]=w,t[9]=C):C=t[9];const P=C;let T;t[10]!==o||t[11]!==f||t[12]!==s.displayName||t[13]!==s.uri||t[14]!==d||t[15]!==w||t[16]!==y?(T=async()=>{try{if(d(),w){const e=!w.pinned;await y([Object.assign({},w,{pinned:e})]),Zu(o(e?{id:"ofKt50",values:{0:s.displayName}}:{id:"eHvRer",values:{0:s.displayName}}))}else await f([{type:"feed",value:s.uri,pinned:!0}]),Zu(o({id:"ofKt50",values:{0:s.displayName}}))}catch(A){const t=A;Zu(o({id:"6bZi7H"}),"xmark"),ys.error("Failed to toggle pinned feed",{message:t})}},t[10]=o,t[11]=f,t[12]=s.displayName,t[13]=s.uri,t[14]=d,t[15]=w,t[16]=y,t[17]=T):T=t[17];const L=T,A=n.atoms.bg;let I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$;return t[18]===Symbol.for("react.memo_cache_sentinel")?(I=_o([kl.sticky,kl.z_10,{top:0}]),t[18]=I):I=t[18],t[19]!==n.atoms.bg?(R=[A,kl.z_10,I],t[19]=n.atoms.bg,t[20]=R):R=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(dl,{}),t[21]=D):D=t[21],t[22]!==o?(F=o({id:"BUgm1N"}),t[22]=o,t[23]=F):F=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(E=[kl.justify_start,{paddingVertical:Pt?2:4,paddingRight:8}],t[24]=E):E=t[24],t[25]!==c||t[26]!==d?(M=()=>{d(),c.open()},t[25]=c,t[26]=d,t[27]=M):M=t[27],t[28]!==l||t[29]!==r||t[30]!==s.avatar||t[31]!==s.creatorHandle||t[32]!==s.displayName||t[33]!==p||t[34]!==m||t[35]!==n.atoms.bg_contrast_25||t[36]!==n.atoms.text_contrast_low.color||t[37]!==n.atoms.text_contrast_medium||t[38]!==n.palette?(B=e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.rounded_sm,kl.transition_all,n.atoms.bg_contrast_25,{opacity:0,left:Pt?-2:-4,right:0},o&&{opacity:1},t&&{opacity:1,transform:[{scaleX:1.01},{scaleY:1.1}]}]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],children:[s.avatar&&(0,Ft.jsx)(mP,{size:36,type:"algo",avatar:s.avatar}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_heavy,kl.leading_tight,l&&kl.text_lg],numberOfLines:2,children:s.displayName}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,{gap:6}],children:[(0,Ft.jsx)(fr,{style:[kl.flex_shrink,kl.text_sm,kl.leading_snug,n.atoms.text_contrast_medium],numberOfLines:1,children:su(s.creatorHandle,"@")}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,{gap:2}],children:[(0,Ft.jsx)(bT,{size:"xs",fill:m?n.palette.like:n.atoms.text_contrast_low.color}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,n.atoms.text_contrast_medium],numberOfLines:1,children:$S(r,p)})]})]})]}),(0,Ft.jsx)(lT,{size:"md",fill:n.atoms.text_contrast_low.color})]})]})},t[28]=l,t[29]=r,t[30]=s.avatar,t[31]=s.creatorHandle,t[32]=s.displayName,t[33]=p,t[34]=m,t[35]=n.atoms.bg_contrast_25,t[36]=n.atoms.text_contrast_low.color,t[37]=n.atoms.text_contrast_medium,t[38]=n.palette,t[39]=B):B=t[39],t[40]!==M||t[41]!==B||t[42]!==F?(O=(0,Ft.jsx)(ll,{align:"left",children:(0,Ft.jsx)(Sr,{label:F,style:E,onPress:M,children:B})}),t[40]=M,t[41]=B,t[42]=F,t[43]=O):O=t[43],t[44]!==o||t[45]!==a||t[46]!==j||t[47]!==k||t[48]!==S||t[49]!==L||t[50]!==P||t[51]!==n.palette?(z=a&&(0,Ft.jsx)(cl,{children:k?(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:o({id:"HDh1Y6"}),children:e=>{const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({},t,{label:o({id:"HDh1Y6"}),size:"small",variant:"ghost",shape:"square",color:"secondary",children:(0,Ft.jsx)(oR,{size:"lg",fill:n.palette.primary_500})}))}}),(0,Ft.jsxs)(wC,{children:[(0,Ft.jsxs)(SC,{disabled:j,label:o({id:"CrB+p0"}),onPress:L,children:[(0,Ft.jsx)(kC,{children:o({id:"CrB+p0"})}),(0,Ft.jsx)(CC,{icon:Hr,position:"right"})]}),(0,Ft.jsxs)(SC,{disabled:j,label:o(S?{id:"Yy3FzB"}:{id:"VjLHSR"}),onPress:P,children:[(0,Ft.jsx)(kC,{children:o(S?{id:"Yy3FzB"}:{id:"VjLHSR"})}),(0,Ft.jsx)(CC,{icon:S?jS:kS,position:"right"})]})]})]}):(0,Ft.jsx)(Sr,{label:o({id:"SlO/Ik"}),size:"small",variant:"ghost",shape:"square",color:"secondary",onPress:L,children:(0,Ft.jsx)(Pr,{icon:nR,size:"lg"})})}),t[44]=o,t[45]=a,t[46]=j,t[47]=k,t[48]=S,t[49]=L,t[50]=P,t[51]=n.palette,t[52]=z):z=t[52],t[53]!==O||t[54]!==z?(H=(0,Ft.jsxs)(il,{children:[D,O,z]}),t[53]=O,t[54]=z,t[55]=H):H=t[55],t[56]!==H||t[57]!==R?(N=(0,Ft.jsx)(wl,{style:R,children:H}),t[56]=H,t[57]=R,t[58]=N):N=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(ha,{}),t[59]=V):V=t[59],t[60]!==o?(q=o({id:"5hc2Cg"}),t[60]=o,t[61]=q):q=t[61],t[62]!==l?(U=l?{width:"auto",minWidth:450}:kl.w_full,t[62]=l,t[63]=U):U=t[63],t[64]!==U?(W=[U],t[64]=U,t[65]=W):W=t[65],t[66]!==s||t[67]!==j||t[68]!==k||t[69]!==p||t[70]!==m||t[71]!==L?(Z=(0,Ft.jsx)(YY,{info:s,likeUri:m,setLikeUri:h,likeCount:p,isPinned:k,onTogglePinned:L,isFeedStateChangePending:j}),t[66]=s,t[67]=j,t[68]=k,t[69]=p,t[70]=m,t[71]=L,t[72]=Z):Z=t[72],t[73]!==q||t[74]!==W||t[75]!==Z?(Q=(0,Ft.jsx)(da,{label:q,style:W,children:Z}),t[73]=q,t[74]=W,t[75]=Z,t[76]=Q):Q=t[76],t[77]!==c||t[78]!==Q?(K=(0,Ft.jsxs)(aa,{control:c,children:[V,Q]}),t[77]=c,t[78]=Q,t[79]=K):K=t[79],t[80]!==N||t[81]!==K?($=(0,Ft.jsxs)(Ft.Fragment,{children:[N,K]}),t[80]=N,t[81]=K,t[82]=$):$=t[82],$}function YY({info:e,likeUri:t,setLikeUri:s,likeCount:n,isPinned:o,onTogglePinned:r,isFeedStateChangePending:i}){const a=ec(),{_:l}=(0,ft.useLingui)(),{hasSession:c}=xh(),d=lS(),u=Lr(),m=Ar(),[h]=Ik(e.description.text),{mutateAsync:p,isPending:f}=rV(),{mutateAsync:g,isPending:x}=iV(),_=!!t,y=mt.useMemo((()=>new Is.AtUri(e.uri).rkey),[e.uri]),b=mt.useCallback((async()=>{try{if(d(),_&&t)await g({uri:t}),s("");else{const t=await p({uri:e.uri,cid:e.cid});s(t.uri)}}catch(n){Zu(l({id:"9sa1PU"}),"xmark"),ys.error("Failed to toggle like",{message:n})}}),[d,_,t,g,s,p,e,l]),j=mt.useCallback((()=>{d();iv(pu(e.route.href))}),[e,d]),v=mt.useCallback((()=>{m.open()}),[m]);return(0,Ft.jsxs)(wo.default,{style:[kl.gap_md],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md],children:[(0,Ft.jsx)(mP,{type:"algo",size:48,avatar:e.avatar}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_2xs],children:[(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_heavy,kl.leading_tight],numberOfLines:2,children:e.displayName}),(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_tight,a.atoms.text_contrast_medium],numberOfLines:1,children:(0,Ft.jsx)(ft.Trans,{id:"AG+QUV",values:{0:su(e.creatorHandle,"@")},components:{0:(0,Ft.jsx)(fv,{label:l({id:"tBW0ZQ",values:{0:e.creatorHandle}}),to:cS({did:e.creatorDid,handle:e.creatorHandle}),style:[kl.text_sm,kl.leading_tight,kl.underline,a.atoms.text_contrast_medium],numberOfLines:1,onPress:()=>u.close()})}})})]}),(0,Ft.jsx)(Sr,{label:l({id:"yrygXY"}),size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:j,children:(0,Ft.jsx)(Pr,{icon:nT,size:"lg"})})]}),(0,Ft.jsx)(DC,{value:h,style:[kl.text_md,kl.leading_snug]}),(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center],children:"number"===typeof n&&(0,Ft.jsx)(fv,{label:l({id:"8m++hT"}),to:dS(e.creatorDid,y,"liked-by"),style:[kl.underline,a.atoms.text_contrast_medium],onPress:()=>u.close(),children:(0,Ft.jsx)(ft.Trans,{id:"YD7py1",values:{likeCount:n}})})}),c&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,kl.pt_sm],children:[(0,Ft.jsxs)(Sr,{disabled:f||x,label:l({id:"BvSY1i"}),size:"small",variant:"solid",color:"secondary",onPress:b,style:[kl.flex_1],children:[_?(0,Ft.jsx)(bT,{size:"sm",fill:a.palette.like}):(0,Ft.jsx)(Pr,{icon:yT,position:"left"}),(0,Ft.jsx)(Cr,{children:_?(0,Ft.jsx)(ft.Trans,{id:"OcUmcH"}):(0,Ft.jsx)(ft.Trans,{id:"W9FRBT"})})]}),(0,Ft.jsxs)(Sr,{disabled:i,label:l(o?{id:"00Xva0"}:{id:"UN1A69"}),size:"small",variant:"solid",color:o?"secondary":"primary",onPress:r,style:[kl.flex_1],children:[(0,Ft.jsx)(Cr,{children:o?(0,Ft.jsx)(ft.Trans,{id:"00Xva0"}):(0,Ft.jsx)(ft.Trans,{id:"UN1A69"})}),(0,Ft.jsx)(Pr,{icon:nR,position:"right"})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.pt_xs,kl.gap_lg],children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm,kl.justify_between],children:[(0,Ft.jsx)(fr,{style:[kl.italic,a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"8zDhQV"})}),(0,Ft.jsxs)(Sr,{label:l({id:"NKmI9f"}),size:"small",variant:"solid",color:"secondary",onPress:v,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"NKmI9f"})}),(0,Ft.jsx)(Pr,{icon:Ij,position:"right"})]})]}),e.view&&(0,Ft.jsx)(jL,{control:m,subject:Object.assign({},e.view,{$type:"app.bsky.feed.defs#generatorView"})})]})]})]})}function JY(e){const t=(0,i.c)(44),{rkey:s,name:n}=e.route.params;let o;t[0]!==e.route.params.feedCacheKey?(o=e.route.params.feedCacheKey?{feedCacheKey:e.route.params.feedCacheKey}:void 0,t[0]=e.route.params.feedCacheKey,t[1]=o):o=t[1];const r=o,a=mx("default"),{_:l}=(0,ft.useLingui)(),c=(0,va.useNavigation)();let d,u;t[2]!==n||t[3]!==s?(u=uu(n,"app.bsky.feed.generator",s),t[2]=n,t[3]=s,t[4]=u):u=t[4],d=u;const m=d,{error:h,data:p}=JS(m);let f;t[5]!==c?(f=()=>{c.canGoBack()?c.goBack():c.navigate("Home")},t[5]=c,t[6]=f):f=t[6];const g=f;if(h){let e,s,n,o,r,i,c,d,u,m,p,f,x,_,y;return t[7]!==a.border||t[8]!==a.view?(e=[a.view,a.border,tJ.notFoundContainer],t[7]=a.border,t[8]=a.view,t[9]=e):e=t[9],t[10]!==a.text?(s=[a.text,oc.mb10],t[10]=a.text,t[11]=s):s=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(ft.Trans,{id:"7wWvgo"}),t[12]=n):n=t[12],t[13]!==s?(o=(0,Ft.jsx)(Tx,{type:"title-lg",style:s,children:n}),t[13]=s,t[14]=o):o=t[14],t[15]!==a.text?(r=[a.text,oc.mb20],t[15]=a.text,t[16]=r):r=t[16],t[17]!==h?(i=h.toString(),t[17]=h,t[18]=i):i=t[18],t[19]!==r||t[20]!==i?(c=(0,Ft.jsx)(Tx,{type:"md",style:r,children:i}),t[19]=r,t[20]=i,t[21]=c):c=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(d={flexDirection:"row"},t[22]=d):d=t[22],t[23]!==l?(u=l({id:"CKyk7Q"}),t[23]=l,t[24]=u):u=t[24],t[25]!==l?(m=l({id:"wpAjsg"}),t[25]=l,t[26]=m):m=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(p={flexShrink:1},t[27]=p):p=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"}),t[28]=f):f=t[28],t[29]!==a.text?(x=(0,Ft.jsx)(Tx,{type:"button",style:a.text,children:f}),t[29]=a.text,t[30]=x):x=t[30],t[31]!==g||t[32]!==u||t[33]!==m||t[34]!==x?(_=(0,Ft.jsx)(wo.default,{style:d,children:(0,Ft.jsx)(Ex,{type:"default",accessibilityLabel:u,accessibilityHint:m,onPress:g,style:p,children:x})}),t[31]=g,t[32]=u,t[33]=m,t[34]=x,t[35]=_):_=t[35],t[36]!==c||t[37]!==_||t[38]!==e||t[39]!==o?(y=(0,Ft.jsx)(_l,{testID:"profileFeedScreenError",children:(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(wo.default,{style:e,children:[o,c,_]})})}),t[36]=c,t[37]=_,t[38]=e,t[39]=o,t[40]=y):y=t[40],y}let x;return t[41]!==r||t[42]!==p?(x=p?(0,Ft.jsx)(_l,{testID:"profileFeedScreen",children:(0,Ft.jsx)(XY,{feedUri:p.uri,feedParams:r})}):(0,Ft.jsxs)(_l,{testID:"profileFeedScreen",children:[(0,Ft.jsx)($Y,{}),(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(ST,{})})]}),t[41]=r,t[42]=p,t[43]=x):x=t[43],x}function XY(e){const t=(0,i.c)(7),{feedUri:s,feedParams:n}=e,{data:o}=Fh();let r;t[0]!==s?(r={uri:s},t[0]=s,t[1]=r):r=t[1];const{data:a}=TI(r);if(!o||!a){let e;return t[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsxs)(bl,{children:[(0,Ft.jsx)($Y,{}),(0,Ft.jsx)(ST,{})]}),t[2]=e):e=t[2],e}const l=a;let c;return t[3]!==n||t[4]!==o||t[5]!==l?(c=(0,Ft.jsx)(eJ,{preferences:o,feedInfo:l,feedParams:n}),t[3]=n,t[4]=o,t[5]=l,t[6]=c):c=t[6],c}function eJ({feedInfo:e,feedParams:t}){const{_:s}=(0,ft.useLingui)(),{hasSession:n}=xh(),{openComposer:o}=tw(),r=(0,va.useIsFocused)();Vz(e?.displayName);const i=`feedgen|${e.uri}`,[a,l]=mt.useState(!1),[c,d]=mt.useState(!1),u=(0,wd.useQueryClient)(),m=RM(i,n),h=(0,ko.useAnimatedRef)(),p=(0,mt.useCallback)((()=>{h.current?.scrollToOffset({animated:kt,offset:0}),Df(u,Nx(i)),l(!1)}),[h,u,i,l]);mt.useEffect((()=>{if(r)return Dt(p)}),[p,r]);const f=(0,mt.useCallback)((()=>(0,Ft.jsx)(Lx,{icon:"hashtag",message:s({id:"KD13F8"})})),[s]),g=mt.useMemo((()=>{const t=Di.includes(e.uri),s=e.contentMode===Is.AppBskyFeedDefs.CONTENTMODEVIDEO;return kt&&(t||s)}),[e]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(GY,{info:e}),(0,Ft.jsx)(DM,{value:m,children:(0,Ft.jsx)(PM,{feed:i,feedParams:t,pollInterval:6e4,disablePoll:a,onHasNew:l,scrollElRef:h,onScrolledDownChange:d,renderEmptyState:f,isVideoFeed:g})}),(c||a)&&(0,Ft.jsx)(Uz,{onPress:p,label:s({id:"VkLESX"}),showIndicator:a}),n&&(0,Ft.jsx)(kz,{testID:"composeFAB",onPress:()=>o({}),icon:(0,Ft.jsx)(Sx,{strokeWidth:1.5,size:29,style:{color:"white"}}),accessibilityRole:"button",accessibilityLabel:s({id:"2B7HLH"}),accessibilityHint:""})]})}const tJ=Gn.default.create({btn:{flexDirection:"row",alignItems:"center",gap:6,paddingVertical:7,paddingHorizontal:14,borderRadius:50,marginLeft:6},notFoundContainer:{margin:10,paddingHorizontal:18,paddingVertical:14,borderRadius:6},aboutSectionContainer:{paddingVertical:4,paddingHorizontal:16,gap:12}});function sJ({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e,noBorder:0===t},e.did)}function nJ(e){return e.did}function oJ(e){const t=(0,i.c)(34),{name:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),{currentAccount:r}=xh(),[a,l]=mt.useState(!1),{data:c,isLoading:d,error:u}=XS(s),{data:m,isLoading:h,isFetchingNextPage:p,hasNextPage:f,fetchNextPage:g,error:x,refetch:_}=function(e){const t=(0,i.c)(6),s=bh(),n=e||"";let o,r;return t[0]!==n?(o=fy(n),t[0]=n,t[1]=o):o=t[1],t[2]!==s||t[3]!==e||t[4]!==o?(r={queryKey:o,async queryFn(t){const{pageParam:n}=t;return(await s.app.bsky.graph.getFollowers({actor:e||"",limit:hy,cursor:n})).data},initialPageParam:void 0,getNextPageParam:gy,enabled:!!e},t[2]=s,t[3]=e,t[4]=o,t[5]=r):r=t[5],(0,Dp.useInfiniteQuery)(r)}(c),y=!!u||!!x,b=c===r?.did;let j;e:{if(m?.pages){let e;t[0]!==m.pages?(e=m.pages.flatMap(rJ),t[0]=m.pages,t[1]=e):e=t[1],j=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],j=e}const v=j;let w;t[3]!==_?(w=async()=>{l(!0);try{await _()}catch(k){const t=k;ys.error("Failed to refresh followers",{message:t})}l(!1)},t[3]=_,t[4]=w):w=t[4];const S=w;let k;t[5]!==x||t[6]!==g||t[7]!==f||t[8]!==p?(k=async()=>{if(!p&&f&&!x)try{await g()}catch(P){const t=P;ys.error("Failed to load more followers",{message:t})}},t[5]=x,t[6]=g,t[7]=f,t[8]=p,t[9]=k):k=t[9];const C=k;if(v.length<1){const e=d||h;let s;t[10]!==n||t[11]!==b?(s=n(b?{id:"aNWUxW"}:{id:"romkSJ"}),t[10]=n,t[11]=b,t[12]=s):s=t[12];const o=u||x;let r;t[13]!==o?(r=ds(o),t[13]=o,t[14]=r):r=t[14];const i=y?_:void 0;let a;return t[15]!==y||t[16]!==e||t[17]!==s||t[18]!==r||t[19]!==i?(a=(0,Ft.jsx)(QH,{isLoading:e,isError:y,emptyType:"results",emptyMessage:s,errorMessage:r,onRetry:i,sideBorders:!1}),t[15]=y,t[16]=e,t[17]=s,t[18]=r,t[19]=i,t[20]=a):a=t[20],a}let P,T,L;return t[21]!==x?(P=ds(x),t[21]=x,t[22]=P):P=t[22],t[23]!==g||t[24]!==p||t[25]!==P?(T=(0,Ft.jsx)(WH,{isFetchingNextPage:p,error:P,onRetry:g}),t[23]=g,t[24]=p,t[25]=P,t[26]=T):T=t[26],t[27]!==v||t[28]!==o||t[29]!==a||t[30]!==C||t[31]!==S||t[32]!==T?(L=(0,Ft.jsx)(MF,{data:v,renderItem:sJ,keyExtractor:nJ,refreshing:a,onRefresh:S,onEndReached:C,onEndReachedThreshold:4,ListFooterComponent:T,desktopFixedHeight:!0,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[27]=v,t[28]=o,t[29]=a,t[30]=C,t[31]=S,t[32]=T,t[33]=L):L=t[33],L}function rJ(e){return e.followers}const iJ=e=>{const t=(0,i.c)(17),{route:s}=e,{name:n}=s.params,o=Na(),{data:r}=XS(n);let a;t[0]!==r?(a={did:r},t[0]=r,t[1]=a):a=t[1];const{data:l}=ub(a);let c,d,u,m,h,p,f,g;return t[2]!==o?(c=()=>{o(!1)},t[2]=o,t[3]=c):c=t[3],(0,va.useFocusEffect)(c),t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(dl,{}),t[4]=d):d=t[4],t[5]!==l?(u=l&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ml,{children:Qf(l.displayName||l.handle)}),(0,Ft.jsx)(hl,{children:(0,Ft.jsx)(ft.Trans,{id:"YEOVrK",values:{0:l.followersCount??0}})})]}),t[5]=l,t[6]=u):u=t[6],t[7]!==u?(m=(0,Ft.jsx)(ll,{children:u}),t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(cl,{}),t[9]=h):h=t[9],t[10]!==m?(p=(0,Ft.jsxs)(il,{children:[d,m,h]}),t[10]=m,t[11]=p):p=t[11],t[12]!==n?(f=(0,Ft.jsx)(oJ,{name:n}),t[12]=n,t[13]=f):f=t[13],t[14]!==p||t[15]!==f?(g=(0,Ft.jsxs)(_l,{testID:"profileFollowersScreen",children:[p,f]}),t[14]=p,t[15]=f,t[16]=g):g=t[16],g};function aJ({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e,noBorder:0===t},e.did)}function lJ(e){return e.did}function cJ(e){const t=(0,i.c)(34),{name:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),{currentAccount:r}=xh(),[a,l]=mt.useState(!1),{data:c,isLoading:d,error:u}=XS(s),{data:m,isLoading:h,isFetchingNextPage:p,hasNextPage:f,fetchNextPage:g,error:x,refetch:_}=by(c),y=!!u||!!x,b=c===r?.did;let j;e:{if(m?.pages){let e;t[0]!==m.pages?(e=m.pages.flatMap(dJ),t[0]=m.pages,t[1]=e):e=t[1],j=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],j=e}const v=j;let w;t[3]!==_?(w=async()=>{l(!0);try{await _()}catch(k){const t=k;ys.error("Failed to refresh follows",{error:t})}l(!1)},t[3]=_,t[4]=w):w=t[4];const S=w;let k;t[5]!==x||t[6]!==g||t[7]!==f||t[8]!==p?(k=async()=>{if(!p&&f&&!x)try{await g()}catch(P){const t=P;ys.error("Failed to load more follows",{error:t})}},t[5]=x,t[6]=g,t[7]=f,t[8]=p,t[9]=k):k=t[9];const C=k;if(v.length<1){const e=d||h;let s;t[10]!==n||t[11]!==b?(s=n(b?{id:"+/i58K"}:{id:"Rkueab"}),t[10]=n,t[11]=b,t[12]=s):s=t[12];const o=u||x;let r;t[13]!==o?(r=ds(o),t[13]=o,t[14]=r):r=t[14];const i=y?_:void 0;let a;return t[15]!==y||t[16]!==e||t[17]!==s||t[18]!==r||t[19]!==i?(a=(0,Ft.jsx)(QH,{isLoading:e,isError:y,emptyType:"results",emptyMessage:s,errorMessage:r,onRetry:i,sideBorders:!1}),t[15]=y,t[16]=e,t[17]=s,t[18]=r,t[19]=i,t[20]=a):a=t[20],a}let P,T,L;return t[21]!==x?(P=ds(x),t[21]=x,t[22]=P):P=t[22],t[23]!==g||t[24]!==p||t[25]!==P?(T=(0,Ft.jsx)(WH,{isFetchingNextPage:p,error:P,onRetry:g}),t[23]=g,t[24]=p,t[25]=P,t[26]=T):T=t[26],t[27]!==v||t[28]!==o||t[29]!==a||t[30]!==C||t[31]!==S||t[32]!==T?(L=(0,Ft.jsx)(MF,{data:v,renderItem:aJ,keyExtractor:lJ,refreshing:a,onRefresh:S,onEndReached:C,onEndReachedThreshold:4,ListFooterComponent:T,desktopFixedHeight:!0,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[27]=v,t[28]=o,t[29]=a,t[30]=C,t[31]=S,t[32]=T,t[33]=L):L=t[33],L}function dJ(e){return e.follows}const uJ=e=>{const t=(0,i.c)(17),{route:s}=e,{name:n}=s.params,o=Na(),{data:r}=XS(n);let a;t[0]!==r?(a={did:r},t[0]=r,t[1]=a):a=t[1];const{data:l}=ub(a);let c,d,u,m,h,p,f,g;return t[2]!==o?(c=()=>{o(!1)},t[2]=o,t[3]=c):c=t[3],(0,va.useFocusEffect)(c),t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(dl,{}),t[4]=d):d=t[4],t[5]!==l?(u=l&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(ml,{children:Qf(l.displayName||l.handle)}),(0,Ft.jsx)(hl,{children:(0,Ft.jsx)(ft.Trans,{id:"2Szrsw",values:{0:l.followsCount??0}})})]}),t[5]=l,t[6]=u):u=t[6],t[7]!==u?(m=(0,Ft.jsx)(ll,{children:u}),t[7]=u,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(cl,{}),t[9]=h):h=t[9],t[10]!==m?(p=(0,Ft.jsxs)(il,{children:[d,m,h]}),t[10]=m,t[11]=p):p=t[11],t[12]!==n?(f=(0,Ft.jsx)(cJ,{name:n}),t[12]=n,t[13]=f):f=t[13],t[14]!==p||t[15]!==f?(g=(0,Ft.jsxs)(_l,{testID:"profileFollowsScreen",children:[p,f]}),t[14]=p,t[15]=f,t[16]=g):g=t[16],g};function mJ({item:e,index:t}){return(0,Ft.jsx)($V,{profile:e.actor,noBorder:0===t},e.actor.did)}function hJ(e){return e.actor.did}function pJ(e){const t=(0,i.c)(36),{uri:s}=e,{_:n}=(0,ft.useLingui)(),o=kF(),[r,a]=mt.useState(!1),{data:l,error:c,isLoading:d}=JS(s),{data:u,isLoading:m,isFetchingNextPage:h,hasNextPage:p,fetchNextPage:f,error:g,refetch:x}=ay(l?.uri),_=c||g,y=!!c||!!g;let b;e:{if(u?.pages){let e;t[0]!==u.pages?(e=u.pages.flatMap(fJ),t[0]=u.pages,t[1]=e):e=t[1],b=e;break e}let e;t[2]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[2]=e):e=t[2],b=e}const j=b;let v;t[3]!==x?(v=async()=>{a(!0);try{await x()}catch(S){const t=S;ys.error("Failed to refresh likes",{message:t})}a(!1)},t[3]=x,t[4]=v):v=t[4];const w=v;let S;t[5]!==f||t[6]!==p||t[7]!==y||t[8]!==h?(S=async()=>{if(!h&&p&&!y)try{await f()}catch(C){const t=C;ys.error("Failed to load more likes",{message:t})}},t[5]=f,t[6]=p,t[7]=y,t[8]=h,t[9]=S):S=t[9];const k=S;if(j.length<1){const e=d||m;let s,o;t[10]!==n?(s=n({id:"LFwnn2"}),t[10]=n,t[11]=s):s=t[11],t[12]!==n?(o=n({id:"o6HS3Q"}),t[12]=n,t[13]=o):o=t[13];const r=c||_;let i;t[14]!==r?(i=ds(r),t[14]=r,t[15]=i):i=t[15];const a=y?x:void 0;let l;return t[16]!==y||t[17]!==e||t[18]!==s||t[19]!==o||t[20]!==i||t[21]!==a?(l=(0,Ft.jsx)(QH,{isLoading:e,isError:y,emptyType:"results",emptyTitle:s,emptyMessage:o,errorMessage:i,onRetry:a,topBorder:!1,sideBorders:!1}),t[16]=y,t[17]=e,t[18]=s,t[19]=o,t[20]=i,t[21]=a,t[22]=l):l=t[22],l}let C,P,T;return t[23]!==_?(C=ds(_),t[23]=_,t[24]=C):C=t[24],t[25]!==f||t[26]!==h||t[27]!==C?(P=(0,Ft.jsx)(WH,{isFetchingNextPage:h,error:C,onRetry:f}),t[25]=f,t[26]=h,t[27]=C,t[28]=P):P=t[28],t[29]!==o||t[30]!==r||t[31]!==j||t[32]!==k||t[33]!==w||t[34]!==P?(T=(0,Ft.jsx)(MF,{data:j,renderItem:mJ,keyExtractor:hJ,refreshing:r,onRefresh:w,onEndReached:k,ListFooterComponent:P,onEndReachedThreshold:3,initialNumToRender:o,windowSize:11,sideBorders:!1}),t[29]=o,t[30]=r,t[31]=j,t[32]=k,t[33]=w,t[34]=P,t[35]=T):T=t[35],T}function fJ(e){return e.likes}function gJ(e){const t=(0,i.c)(13),{route:s}=e,n=Na(),{name:o}=s.params;let r;t[0]!==o?(r=uu(o,"app.bsky.labeler.service","self"),t[0]=o,t[1]=r):r=t[1];const a=r,{_:l}=(0,ft.useLingui)();let c,d,u,m,h;return t[2]!==n?(c=()=>{n(!1)},t[2]=n,t[3]=c):c=t[3],(0,va.useFocusEffect)(c),t[4]!==l?(d=l({id:"d2RphL"}),t[4]=l,t[5]=d):d=t[5],t[6]!==d?(u=(0,Ft.jsx)(YP,{title:d}),t[6]=d,t[7]=u):u=t[7],t[8]!==a?(m=(0,Ft.jsx)(pJ,{uri:a}),t[8]=a,t[9]=m):m=t[9],t[10]!==u||t[11]!==m?(h=(0,Ft.jsxs)(_l,{children:[u,m]}),t[10]=u,t[11]=m,t[12]=h):h=t[12],h}function xJ(e,t){return[e,Object.entries(t).filter((([e,t])=>t)).map((([e,t])=>`${e}:${t}`)).join(" ")].filter(Boolean).join(" ")}let _J=e=>{const t=(0,i.c)(9),{isAutocompleteFetching:s,autocompleteData:n,searchText:o,onSubmit:r,onResultPress:a,onProfileClick:l}=e,{_:c}=(0,ft.useLingui)(),d=Op();let u;return t[0]!==c||t[1]!==n||t[2]!==s||t[3]!==d||t[4]!==l||t[5]!==a||t[6]!==r||t[7]!==o?(u=(0,Ft.jsx)(Ft.Fragment,{children:s&&!n?.length||!d?(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(wo.default,{style:[kl.py_xl],children:(0,Ft.jsx)(Fx.default,{})})}):(0,Ft.jsxs)(bl,{keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",children:[(0,Ft.jsx)(xK,{label:c({id:"X570XR",values:{searchText:o}}),onPress:jo(r),to:kt?void 0:`/search?q=${encodeURIComponent(o)}`,style:kl.border_b}),n?.map((e=>(0,Ft.jsx)(gK,{profile:e,moderationOpts:d,onPress:()=>{l(e),a()}},e.did))),(0,Ft.jsx)(wo.default,{style:{height:200}})]})}),t[0]=c,t[1]=n,t[2]=s,t[3]=d,t[4]=l,t[5]=a,t[6]=r,t[7]=o,t[8]=u):u=t[8],u};function yJ(e){const t=(0,i.c)(18),{searchHistory:s,selectedProfiles:n,onItemClick:o,onProfileClick:r,onRemoveItemClick:a,onRemoveProfileClick:l}=e,{_:c}=(0,ft.useLingui)(),d=Op();let u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.w_full,kl.gap_md],t[0]=u):u=t[0],t[1]!==s.length||t[2]!==n.length?(m=(s.length>0||n.length>0)&&(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pt_sm],children:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"3JTlG8"})})}),t[1]=s.length,t[2]=n.length,t[3]=m):m=t[3],t[4]!==d||t[5]!==r||t[6]!==l||t[7]!==n?(h=n.length>0&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(VF,{children:(0,Ft.jsx)(Sw.default,{horizontal:!0,keyboardShouldPersistTaps:"handled",showsHorizontalScrollIndicator:!1,contentContainerStyle:[kl.px_lg,kl.flex_row,kl.flex_nowrap,kl.gap_xl],children:d&&n.map((e=>(0,Ft.jsx)(bJ,{profile:e,moderationOpts:d,onPress:()=>r(e),onRemove:()=>l(e)},e.did)))})})}),t[4]=d,t[5]=r,t[6]=l,t[7]=n,t[8]=h):h=t[8],t[9]!==c||t[10]!==o||t[11]!==a||t[12]!==s?(p=s.length>0&&(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pt_sm],children:s.slice(0,5).map(((e,t)=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center],children:[(0,Ft.jsx)(tr.default,{accessibilityRole:"button",onPress:()=>o(e),hitSlop:vi,style:[kl.flex_1,kl.py_sm],children:(0,Ft.jsx)(fr,{style:[kl.text_md],children:e})}),(0,Ft.jsx)(Sr,{label:c({id:"BsB4CB",values:{historyItem:e}}),onPress:()=>a(e),size:"small",variant:"ghost",color:"secondary",shape:"round",children:(0,Ft.jsx)(Pr,{icon:Hr})})]},t)))}),t[9]=c,t[10]=o,t[11]=a,t[12]=s,t[13]=p):p=t[13],t[14]!==m||t[15]!==h||t[16]!==p?(f=(0,Ft.jsx)(bl,{keyboardDismissMode:"interactive",keyboardShouldPersistTaps:"handled",children:(0,Ft.jsxs)(wo.default,{style:u,children:[m,h,p]})}),t[14]=m,t[15]=h,t[16]=p,t[17]=f):f=t[17],f}function bJ(e){const t=(0,i.c)(45),{profile:s,moderationOpts:n,onPress:o,onRemove:r}=e,{_:a}=(0,ft.useLingui)(),l=(0,Is.moderateProfile)(s,n);let c;t[0]!==s.displayName||t[1]!==s.handle?(c=s.displayName||su(s.handle),t[0]=s.displayName,t[1]=s.handle,t[2]=c):c=t[2];const d=Qf(c,l.ui("displayName"));let u;t[3]!==s?(u={profile:s},t[3]=s,t[4]=u):u=t[4];const m=Nk(u),h=wo.default;let p;t[5]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.relative],t[5]=p):p=t[5];const f=pv;let g;t[6]!==s?(g=cS(s),t[6]=s,t[7]=g):g=t[7];const x=s.handle;let _;t[8]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_col,kl.align_center,kl.gap_xs,{width:80}],t[8]=_):_=t[8];const y=mP,b=s.avatar,j=s.associated?.labeler?"labeler":"user",v=l.ui("avatar");let w,S,k,C,P,T,L,A,I,R,D,F,E;return t[9]!==y||t[10]!==s.avatar||t[11]!==v||t[12]!==j?(w=(0,Ft.jsx)(y,{avatar:b,type:j,size:72,moderation:v}),t[9]=y,t[10]=s.avatar,t[11]=v,t[12]=j,t[13]=w):w=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_row,kl.align_center,kl.justify_center,kl.w_full],t[14]=S):S=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.text_xs,kl.leading_snug],t[15]=k):k=t[15],t[16]!==d?(C=(0,Ft.jsx)(fr,{emoji:!0,style:k,numberOfLines:1,children:d}),t[16]=d,t[17]=C):C=t[17],t[18]!==m.role||t[19]!==m.showBadge?(P=m.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_2xs],children:(0,Ft.jsx)(Qk,{width:10,verifier:"verifier"===m.role})}),t[18]=m.role,t[19]=m.showBadge,t[20]=P):P=t[20],t[21]!==C||t[22]!==P?(T=(0,Ft.jsxs)(wo.default,{style:S,children:[C,P]}),t[21]=C,t[22]=P,t[23]=T):T=t[23],t[24]!==f||t[25]!==o||t[26]!==s.handle||t[27]!==w||t[28]!==T||t[29]!==g||t[30]!==_?(L=(0,Ft.jsxs)(f,{to:g,label:x,onPress:o,style:_,children:[w,T]}),t[24]=f,t[25]=o,t[26]=s.handle,t[27]=w,t[28]=T,t[29]=g,t[30]=_,t[31]=L):L=t[31],t[32]!==a?(A=a({id:"OKWHpk"}),t[32]=a,t[33]=A):A=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(I=ji(6),t[34]=I):I=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.absolute,{top:0,right:0,height:18,width:18}],D=(0,Ft.jsx)(Pr,{icon:Hr}),t[35]=R,t[36]=D):(R=t[35],D=t[36]),t[37]!==r||t[38]!==A?(F=(0,Ft.jsx)(Sr,{label:A,hitSlop:I,size:"tiny",variant:"outline",color:"secondary",shape:"round",onPress:r,style:R,children:D}),t[37]=r,t[38]=A,t[39]=F):F=t[39],t[40]!==h||t[41]!==L||t[42]!==F||t[43]!==p?(E=(0,Ft.jsxs)(h,{style:p,children:[L,F]}),t[40]=h,t[41]=L,t[42]=F,t[43]=p,t[44]=E):E=t[44],E}function jJ({value:e,onChange:t}){const{_:s}=(0,ft.useLingui)(),{appLanguage:n,contentLanguages:o}=Yc(),r=(0,mt.useMemo)((()=>Bs.filter(((e,t,s)=>Boolean(e.code2)&&t===s.findIndex((t=>t.code2===e.code2)))).map((e=>({label:Ns(e,n),value:e.code2,key:e.code2+e.code3}))).sort(((e,t)=>{const s=o.includes(e.value),n=o.includes(t.value);if(s&&!n)return-1;if(n&&!s)return 1;const r=!!Ms.find((t=>"ast"!==t.code2&&t.code2.startsWith(e.value))),i=!!Ms.find((e=>"ast"!==e.code2&&e.code2.startsWith(t.value)));return r&&!i?-1:i&&!r?1:e.label.localeCompare(t.label)}))),[n,o]),i=r.find((t=>t.value===e))?.label??s({id:"r2QauF"});return(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:s({id:"xr4AMR",values:{currentLanguageLabel:i}}),children:({props:e})=>(0,Ft.jsxs)(Sr,Object.assign({},e,{label:e.accessibilityLabel,size:"small",color:vo({native:"primary",default:"secondary"}),variant:vo({native:"ghost",default:"solid"}),style:jo([kl.py_sm,kl.px_sm,{marginRight:-1*eo.sm}]),children:[(0,Ft.jsx)(Pr,{icon:tP}),(0,Ft.jsx)(Cr,{children:i}),(0,Ft.jsx)(Pr,{icon:vo({native:GT,default:$T})})]}))}),(0,Ft.jsxs)(wC,{children:[(0,Ft.jsx)(TC,{children:(0,Ft.jsx)(ft.Trans,{id:"AVo6fX"})}),(0,Ft.jsxs)(SC,{label:s({id:"r2QauF"}),onPress:()=>t(""),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"r2QauF"})}),(0,Ft.jsx)(PC,{selected:""===e})]}),(0,Ft.jsx)(AC,{}),(0,Ft.jsx)(LC,{children:r.map((s=>(0,Ft.jsxs)(SC,{label:s.label,onPress:()=>t(s.value),children:[(0,Ft.jsx)(kC,{children:s.label}),(0,Ft.jsx)(PC,{selected:e===s.value})]},s.key)))})]})]})}_J=(0,mt.memo)(_J);let vJ=function(e){return e.NeueTypography="NeueTypography",e.ExploreInterestsCard="ExploreInterestsCard",e.InitialVerificationAnnouncement="InitialVerificationAnnouncement",e}({});const wJ=new Set(Object.values(vJ)),SJ={[vJ.NeueTypography]:void 0,[vJ.ExploreInterestsCard]:void 0,[vJ.InitialVerificationAnnouncement]:void 0},kJ=["data"],CJ=["data"];function PJ(e){if(!wJ.has(e.id))return;if(!Is.nuxSchema.safeParse(e).success)return;const{data:t}=e,s=(0,ls.default)(e,kJ),n=SJ[e.id];if(n&&t){const e=JSON.parse(t);if(!n.safeParse(e).success)return;return Object.assign({},s,{data:e})}return Object.assign({},s,{data:void 0})}function TJ(){const e=(0,i.c)(10),{data:t,isSuccess:s,isError:n}=Fh(),o=s?"ready":n?"error":"loading";if("ready"===o){let s;e[0]!==t?.bskyAppState?.nuxs?(s=t?.bskyAppState?.nuxs?.map(PJ)?.filter(Boolean),e[0]=t?.bskyAppState?.nuxs,e[1]=s):s=e[1];const n=s;if(n){let t;return e[2]!==n||e[3]!==o?(t={nuxs:n,status:o},e[2]=n,e[3]=o,e[4]=t):t=e[4],t}{let t,s;return e[5]===Symbol.for("react.memo_cache_sentinel")?(t=[],e[5]=t):t=e[5],e[6]!==o?(s={nuxs:t,status:o},e[6]=o,e[7]=s):s=e[7],s}}let r;return e[8]!==o?(r={nuxs:void 0,status:o},e[8]=o,e[9]=r):r=e[9],r}function LJ(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={retry:3,mutationFn:async e=>{await s.bskyAppUpsertNux(function(e){const{data:t}=e,s=(0,ls.default)(e,CJ),n=SJ[e.id],o=Object.assign({},s,{data:void 0});return n&&(n.parse(t),o.data=JSON.stringify(t)),Is.nuxSchema.parse(o),o}(e)),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}const AJ=5,IJ=()=>["suggested-feeds"];const RJ=5,DJ=()=>["trends"];const FJ=()=>["suggested-starter-packs"];function EJ(e){const t=(0,i.c)(6),{style:s,hover:n}=e,o=ec();let r;e:switch(o.name){case"dark":r=.4;break e;case"dim":r=.45;break e;case"light":r=.5}const a=n?r:0;let l,c;return t[0]!==a?(l={opacity:a},t[0]=a,t[1]=l):l=t[1],t[2]!==s||t[3]!==o.atoms.bg_contrast_25||t[4]!==l?(c=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.pointer_events_none,kl.transition_opacity,o.atoms.bg_contrast_25,s,l]}),t[2]=s,t[3]=o.atoms.bg_contrast_25,t[4]=l,t[5]=c):c=t[5],c}function MJ({view:e}){const t=ec(),{_:s}=(0,ft.useLingui)(),{currentAccount:n}=xh(),{gtPhone:o}=ql(),r=function(e){const t=(0,i.c)(10),{view:s}=e,{_:n}=(0,ft.useLingui)(),o=(0,wd.useQueryClient)();let r;const a=new Is.AtUri(s.uri).rkey,{creator:l}=s;r={rkey:a,handleOrDid:l.handle||l.did};const{rkey:c,handleOrDid:d}=r;let u;t[0]!==o||t[1]!==s?(u=()=>{ek(o,s.creator.handle,s.creator.did),bk(o,s)},t[0]=o,t[1]=s,t[2]=u):u=t[2];const m=u,h=`/starter-pack/${d}/${c}`;let p,f;return t[3]!==n||t[4]!==s.record?(p=Is.AppBskyGraphStarterpack.isRecord(s.record)?n({id:"mpwQvb",values:{0:s.record.name}}):n({id:"DF7GqO"}),t[3]=n,t[4]=s.record,t[5]=p):p=t[5],t[6]!==m||t[7]!==h||t[8]!==p?(f={to:h,label:p,precache:m},t[6]=m,t[7]=h,t[8]=p,t[9]=f):f=t[9],f}({view:e}),a=e.record;if(!If(a,Is.AppBskyGraphStarterpack.isRecord))return null;const l=o?11:8,c=e.listItemsSample?.slice(0,l).map((e=>e.subject));return(0,Ft.jsx)(pv,{to:r.to,label:r.label,onHoverIn:r.precache,onPress:r.precache,children:o=>(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(EJ,{hover:o.hovered||o.pressed}),(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.p_lg,kl.gap_md,kl.border,kl.rounded_sm,kl.overflow_hidden,t.atoms.border_contrast_low],children:[(0,Ft.jsx)(BJ,{profiles:c??[],numPending:l,total:e.list?.listItemCount}),(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_start,kl.gap_lg,_o({position:"static",zIndex:"unset"})],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1],children:[(0,Ft.jsx)(fr,{emoji:!0,style:[kl.text_md,kl.font_bold,kl.leading_snug],numberOfLines:1,children:a.name}),(0,Ft.jsx)(fr,{emoji:!0,style:[kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],numberOfLines:1,children:e.creator?.did===n?.did?s({id:"Jre14g"}):s({id:"aavdrC",values:{0:su(e.creator.handle,"@")}})})]}),(0,Ft.jsx)(pv,{to:r.to,label:r.label,onHoverIn:r.precache,onPress:r.precache,variant:"solid",color:"secondary",size:"small",style:[kl.z_50],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"zR6d7s"})})})]})]})]})})}function BJ(e){const t=(0,i.c)(37),{profiles:s,numPending:n,total:o}=e,r=ec(),{gtPhone:a}=ql(),l=Op(),c=(o??n)-n,d=n+1,u=100/d,[m,h]=mt.useState(null),p=n&&0===s.length||!l;let f,g,x;if(t[0]!==d||t[1]!==p||t[2]!==l||t[3]!==n||t[4]!==s||t[5]!==m||t[6]!==r.atoms.bg_contrast_25||t[7]!==u){const e=p?Array.from({length:n??d}).map(OJ):s.map((e=>({key:e.did,profile:e,moderation:(0,Is.moderateProfile)(e,l)})));f=wo.default;const o=100-.2*u+"%";let i;t[11]!==o?(g=[kl.w_full,kl.flex_row,kl.align_center,kl.relative,{width:o}],t[11]=o,t[12]=g):g=t[12],t[13]!==m||t[14]!==r.atoms.bg_contrast_25||t[15]!==u?(i=(e,t)=>(0,Ft.jsx)(wo.default,{style:[{width:`${u}%`,zIndex:100-t}],children:(0,Ft.jsx)(wo.default,{style:[kl.relative,{width:"120%"}],children:(0,Ft.jsx)(wo.default,{onLayout:e=>h(e.nativeEvent.layout.width),style:[kl.rounded_full,r.atoms.bg_contrast_25,{paddingTop:"100%"}],children:m&&e.profile?(0,Ft.jsx)(mP,{size:m,avatar:e.profile.avatar,type:e.profile.associated?.labeler?"labeler":"user",moderation:e.moderation.ui("avatar"),style:[kl.absolute,kl.inset_0]}):(0,Ft.jsx)(lP,{style:[kl.rounded_full]})})})},e.key),t[13]=m,t[14]=r.atoms.bg_contrast_25,t[15]=u,t[16]=i):i=t[16],x=e.map(i),t[0]=d,t[1]=p,t[2]=l,t[3]=n,t[4]=s,t[5]=m,t[6]=r.atoms.bg_contrast_25,t[7]=u,t[8]=f,t[9]=g,t[10]=x}else f=t[8],g=t[9],x=t[10];const _=`${u}%`;let y,b,j,v,w,S,k,C;return t[17]!==_?(y=[{width:_,zIndex:1}],t[17]=_,t[18]=y):y=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.relative,{width:"120%"}],t[19]=b):b=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(j=[{paddingTop:"100%"}],t[20]=j):j=t[20],t[21]!==r.atoms.text_contrast_low.color?(v=[kl.absolute,kl.inset_0,kl.rounded_full,kl.align_center,kl.justify_center,{backgroundColor:r.atoms.text_contrast_low.color}],t[21]=r.atoms.text_contrast_low.color,t[22]=v):v=t[22],t[23]!==c||t[24]!==a?(w=c>0?(0,Ft.jsx)(fr,{style:[a?kl.text_md:kl.text_xs,kl.font_bold,kl.leading_snug,{color:"white"}],children:(0,Ft.jsx)(ft.Trans,{id:"2455hg",values:{computedTotal:c}})}):(0,Ft.jsx)(CS,{fill:"white"}),t[23]=c,t[24]=a,t[25]=w):w=t[25],t[26]!==v||t[27]!==w?(S=(0,Ft.jsx)(wo.default,{style:b,children:(0,Ft.jsx)(wo.default,{style:j,children:(0,Ft.jsx)(wo.default,{style:v,children:w})})}),t[26]=v,t[27]=w,t[28]=S):S=t[28],t[29]!==y||t[30]!==S?(k=(0,Ft.jsx)(wo.default,{style:y,children:S}),t[29]=y,t[30]=S,t[31]=k):k=t[31],t[32]!==f||t[33]!==g||t[34]!==k||t[35]!==x?(C=(0,Ft.jsxs)(f,{style:g,children:[x,k]}),t[32]=f,t[33]=g,t[34]=k,t[35]=x,t[36]=C):C=t[36],C}function OJ(e,t){return{key:t,profile:null,moderation:null}}function zJ(){const e=(0,i.c)(10),t=ec(),{gtPhone:s}=ql(),n=s?11:8;let o,r,a,l,c,d;return e[0]!==t.atoms.border_contrast_low?(o=[kl.w_full,kl.p_lg,kl.gap_md,kl.border,kl.rounded_sm,kl.overflow_hidden,t.atoms.border_contrast_low],e[0]=t.atoms.border_contrast_low,e[1]=o):o=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(r=[],e[2]=r):r=e[2],e[3]!==n?(a=(0,Ft.jsx)(BJ,{profiles:r,numPending:n}),e[3]=n,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.w_full,kl.flex_row,kl.align_start,kl.gap_lg,_o({position:"static",zIndex:"unset"})],e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsxs)(wo.default,{style:l,children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsx)(vT,{width:180,height:18}),(0,Ft.jsx)(vT,{width:120,height:14})]}),(0,Ft.jsx)(vT,{width:100,height:33})]}),e[6]=c):c=e[6],e[7]!==o||e[8]!==a?(d=(0,Ft.jsxs)(wo.default,{style:o,children:[a,c]}),e[7]=o,e[8]=a,e[9]=d):d=e[9],d}const HJ=zr({path:"M7 3a1 1 0 0 1 1 1v2h2a1 1 0 1 1 0 2H8v2a1 1 0 1 1-2 0V8H4a1 1 0 0 1 0-2h2V4a1 1 0 0 1 1-1Zm6 4a4 4 0 1 1 8 0 4 4 0 0 1-8 0Zm4-2a2 2 0 1 0 0 4 2 2 0 0 0 0-4ZM3 14a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-6Zm2 1v4h4v-4H5Zm9.171-.829a1 1 0 0 1 1.415 0L17 15.585l1.414-1.414a1 1 0 1 1 1.414 1.414L18.414 17l1.414 1.414a1 1 0 0 1-1.414 1.414L17 18.414l-1.415 1.414a1 1 0 0 1-1.414-1.414l1.415-1.415-1.415-1.414a1 1 0 0 1 0-1.414Z"});function NJ(){const e=(0,i.c)(13),t=ec(),{_:s}=(0,ft.useLingui)(),{data:n}=Fh(),o=ZF(),{mutateAsync:r}=LJ(),a=Ar(),[l,c]=(0,mt.useState)(!1);let d;e[0]!==a?(d=()=>{a.open()},e[0]=a,e[1]=d):d=e[1];const u=d;let m;e[2]!==r?(m=()=>{c(!0),r({id:vJ.ExploreInterestsCard,completed:!0,data:void 0}).catch(VJ)},e[2]=r,e[3]=m):m=e[3];const h=m;let p;return e[4]!==s||e[5]!==l||e[6]!==o||e[7]!==u||e[8]!==h||e[9]!==n||e[10]!==t||e[11]!==a?(p=l?null:(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(bx,{control:a,title:s({id:"WI1rGT"}),description:s({id:"kyTmg+"}),confirmButtonCta:s({id:"zga9sT"}),onConfirm:h}),(0,Ft.jsx)(wo.default,{style:[kl.pb_2xs],children:(0,Ft.jsxs)(wo.default,{style:[kl.p_lg,kl.border_b,kl.gap_md,t.atoms.border_contrast_medium],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center],children:[(0,Ft.jsx)(HJ,{}),(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"4zDzuI"})})]}),n?.interests?.tags&&n.interests.tags.length>0?(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,{gap:6}],children:n.interests.tags.map((e=>(0,Ft.jsx)(wo.default,{style:[kl.justify_center,kl.align_center,kl.rounded_full,t.atoms.bg_contrast_25,kl.px_lg,{height:32}],children:(0,Ft.jsx)(fr,{style:[kl.text_sm,t.atoms.text_contrast_high],children:o[e]})},e)))}):null,(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"Atg3C1"})}),(0,Ft.jsx)(pv,{label:s({id:"I5CIJr"}),to:"/settings/interests",size:"small",variant:"solid",color:"primary",style:[kl.justify_center],children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"I5CIJr"})})}),(0,Ft.jsx)(Sr,{label:s({id:"ZFzipL"}),size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:u,style:[kl.absolute,{top:kl.pt_sm.paddingTop,right:kl.pr_sm.paddingRight}],children:(0,Ft.jsx)(Pr,{icon:Hr,size:"md"})})]})})]}),e[4]=s,e[5]=l,e[6]=o,e[7]=u,e[8]=h,e[9]=n,e[10]=t,e[11]=a,e[12]=p):p=e[12],p}function VJ(){}function qJ(){const e=(0,i.c)(2),{enabled:t}=Zb();let s;return e[0]!==t?(s=t?(0,Ft.jsx)(UJ,{}):null,e[0]=t,e[1]=s):s=e[1],s}function UJ(){const e=(0,i.c)(11),t=ec();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[0,"compact"],e[0]=s):s=e[0];const n=Kl(s),{data:o,error:r,isLoading:a}=qE(),l=!a&&!r&&!o?.suggested?.length;let c;e[1]!==o?(c=o?.suggested&&o.suggested.every((e=>{const t=e.link.split("/").slice(1);return"profile"===t[0]&&"feed"===t[2]})),e[1]=o,e[2]=c):c=e[2];const d=c;let u;return e[3]!==d||e[4]!==r||e[5]!==n||e[6]!==a||e[7]!==l||e[8]!==t||e[9]!==o?(u=r||l?null:(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_row,Pt?[kl.px_lg,kl.py_lg,kl.pt_2xl,kl.gap_md]:[kl.p_lg,kl.pt_2xl,kl.gap_md],kl.border_b,t.atoms.border_contrast_low],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_sm],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(qF,{size:"lg",fill:t.palette.primary_500,style:{marginLeft:-2}}),(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_heavy,t.atoms.text],children:(0,Ft.jsx)(ft.Trans,{id:"WEYdDv"})})]}),d?(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_high,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"goDafQ"})}):(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_high,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"f7efUB"})})]})}),(0,Ft.jsx)(wo.default,{style:[kl.pt_md,kl.pb_lg],children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.justify_start,kl.flex_wrap,{rowGap:8,columnGap:6},n],children:a?Array(NE).fill(0).map(ZJ):o?.suggested?(0,Ft.jsx)(Ft.Fragment,{children:o.suggested.map((e=>(0,Ft.jsx)(tM,{topic:e,onPress:WJ,children:s=>{const{hovered:n}=s;return(0,Ft.jsx)(XE,{topic:e,style:[n&&[t.atoms.border_contrast_high,t.atoms.bg_contrast_25]]})}},e.link)))}):null})})]}),e[3]=d,e[4]=r,e[5]=n,e[6]=a,e[7]=l,e[8]=t,e[9]=o,e[10]=u):u=e[10],u}function WJ(){ys.metric("recommendedTopic:click",{context:"explore"},{statsig:!0})}function ZJ(e,t){return(0,Ft.jsx)(eM,{index:t},t)}const QJ=zr({path:"M11.158 2.879c.584-.835 1.757-1.137 2.673-.507.951.654 2.597 1.92 4.013 3.694S20.5 10.194 20.5 13c0 4.997-3.752 9-8.5 9s-8.5-4.003-8.5-9c0-2.035.874-4.636 2.578-6.712.746-.91 2.034-.855 2.786-.133l2.294-3.276Zm-3.04 15.758C6.538 17.386 5.5 15.37 5.5 13c0-1.511.666-3.616 2.042-5.342.87.797 2.254.653 2.939-.325l2.286-3.265c.871.606 2.299 1.723 3.514 3.246C17.53 8.879 18.5 10.804 18.5 13c0 2.369-1.038 4.386-2.618 5.637q.117-.518.118-1.061c0-2.601-2.038-4.382-2.911-5.04a1.8 1.8 0 0 0-2.177 0C10.038 13.195 8 14.976 8 17.577q0 .543.118 1.061ZM12 14.222c-.825.648-2 1.859-2 3.354C10 19.043 11.016 20 12 20s2-.957 2-2.424c0-1.495-1.175-2.706-2-3.354Z"}),KJ=5;function $J(){const e=(0,i.c)(3),{enabled:t}=Zb(),{trendingDisabled:s}=fd();let n;return e[0]!==t||e[1]!==s?(n=t&&!s?(0,Ft.jsx)(GJ,{}):null,e[0]=t,e[1]=s,e[2]=n):n=e[2],n}function GJ(){const e=(0,i.c)(6),{data:t,error:s,isLoading:n,isRefetching:o}=function(){const e=(0,i.c)(12),t=bh(),{data:s}=Fh();let n,o;s?.moderationPrefs,e[0]!==s?.moderationPrefs?.mutedWords?(o=s?.moderationPrefs?.mutedWords||[],e[0]=s?.moderationPrefs?.mutedWords,e[1]=o):o=e[1],n=o;const r=n,a=!!s;let l,c,d;e[2]===Symbol.for("react.memo_cache_sentinel")?(l=DJ(),e[2]=l):l=e[2],e[3]!==t||e[4]!==s?(c=async()=>{const e=Xc().join(","),{data:n}=await t.app.bsky.unspecced.getTrends({limit:RJ},{headers:Object.assign({},dg(ug(s)),{"Accept-Language":e})});return n},e[3]=t,e[4]=s,e[5]=c):c=e[5],e[6]!==r?(d=e=>({trends:(e.trends??[]).filter((e=>!(0,HE.hasMutedWord)({mutedWords:r,text:e.topic+" "+e.displayName+" "+e.category})))}),e[6]=r,e[7]=d):d=e[7];const u=d;let m;return e[8]!==a||e[9]!==c||e[10]!==u?(m={enabled:a,staleTime:Ld.MINUTES.THREE,queryKey:l,queryFn:c,select:u},e[8]=a,e[9]=c,e[10]=u,e[11]=m):m=e[11],(0,vd.useQuery)(m)}(),r=!n&&!s&&!t?.trends?.length;let a;return e[0]!==s||e[1]!==n||e[2]!==o||e[3]!==r||e[4]!==t?(a=n||o?Array.from({length:KJ}).map(XJ):s||!t?.trends||r?null:(0,Ft.jsx)(Ft.Fragment,{children:t.trends.map(YJ)}),e[0]=s,e[1]=n,e[2]=o,e[3]=r,e[4]=t,e[5]=a):a=e[5],a}function YJ(e,t){return(0,Ft.jsx)(eX,{trend:e,rank:t+1,onPress:JJ},e.link)}function JJ(){ys.metric("trendingTopic:click",{context:"explore"})}function XJ(e,t){return(0,Ft.jsx)(sX,{withPosts:0===t},t)}function eX(e){const t=(0,i.c)(26),{trend:s,rank:n,children:o,onPress:r}=e,a=ec(),{_:l,i18n:c}=(0,ft.useLingui)();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[0,"base"],t[0]=d):d=t[0];const u=Kl(d),m=function(e){const t=(0,i.c)(10),{_:s}=(0,ft.useLingui)();switch(e){case"sports":{let e;return t[0]!==s?(e=s({id:"7JFNej"}),t[0]=s,t[1]=e):e=t[1],e}case"politics":{let e;return t[2]!==s?(e=s({id:"wGvJH+"}),t[2]=s,t[3]=e):e=t[3],e}case"video-games":{let e;return t[4]!==s?(e=s({id:"59Bkqw"}),t[4]=s,t[5]=e):e=t[5],e}case"pop-culture":{let e;return t[6]!==s?(e=s({id:"x7ZLZ3"}),t[6]=s,t[7]=e):e=t[7],e}case"news":{let e;return t[8]!==s?(e=s({id:"qdyV/M"}),t[8]=s,t[9]=e):e=t[9],e}default:return null}}(s?.category||"other"),h=Math.floor((Date.now()-new Date(s.startedAt||Date.now()).getTime())/36e5),p="hot"===s.status?"hot":h<2?"new":h;let f;t[1]!==l||t[2]!==c||t[3]!==s.postCount?(f=s.postCount?l(c._({id:"XlsbRH",values:{0:s.postCount,1:$S(c,s.postCount)}})):null,t[1]=l,t[2]=c,t[3]=s.postCount,t[4]=f):f=t[4];const g=f,x=function(e){const t=(0,i.c)(6),s=Op();let n;e:{if(!s){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],n=e;break e}let o;if(t[1]!==e||t[2]!==s){let n;t[4]!==s?(n=e=>{const t=(0,Is.moderateProfile)(e,s);return!t.ui("avatar").filter&&!t.ui("avatar").blur},t[4]=s,t[5]=n):n=t[5],o=e.filter(n).slice(0,3),t[1]=e,t[2]=s,t[3]=o}else o=t[3];n=o}return n}(s.actors),_=s.link;let y,b,j,v;return t[5]!==l||t[6]!==s.displayName?(y=l({id:"0fVlgm",values:{0:s.displayName}}),t[5]=l,t[6]=s.displayName,t[7]=y):y=t[7],t[8]!==a.atoms.border_contrast_low?(b=[kl.border_b,a.atoms.border_contrast_low],t[8]=a.atoms.border_contrast_low,t[9]=b):b=t[9],t[10]!==x||t[11]!==p||t[12]!==m||t[13]!==o||t[14]!==u||t[15]!==g||t[16]!==n||t[17]!==a.atoms.text_contrast_medium||t[18]!==s.displayName?(j=e=>{const{hovered:t,pressed:r}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(EJ,{hover:t||r}),(0,Ft.jsxs)(wo.default,{style:[u,kl.w_full,kl.py_lg,kl.flex_row,kl.gap_2xs],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_row],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_tight,{width:20}],children:(0,Ft.jsx)(ft.Trans,{id:"hxvIrC",values:{rank:n}})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold,kl.leading_tight],numberOfLines:1,children:s.displayName})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,{paddingLeft:20}],children:[x.length>0&&(0,Ft.jsx)(H$,{size:20,profiles:x}),(0,Ft.jsxs)(fr,{style:[kl.text_sm,a.atoms.text_contrast_medium,_o(kl.leading_snug)],numberOfLines:1,children:[g,g&&m&&(0,Ft.jsx)(Ft.Fragment,{children:" \xb7 "}),m]})]})]}),(0,Ft.jsx)(wo.default,{style:[kl.flex_shrink_0],children:(0,Ft.jsx)(tX,{type:p})})]}),o]})},t[10]=x,t[11]=p,t[12]=m,t[13]=o,t[14]=u,t[15]=g,t[16]=n,t[17]=a.atoms.text_contrast_medium,t[18]=s.displayName,t[19]=j):j=t[19],t[20]!==r||t[21]!==y||t[22]!==b||t[23]!==j||t[24]!==s.link?(v=(0,Ft.jsx)(pv,{testID:_,label:y,to:s.link,onPress:r,style:b,PressableComponent:tr.default,children:j}),t[20]=r,t[21]=y,t[22]=b,t[23]=j,t[24]=s.link,t[25]=v):v=t[25],v}function tX(e){const t=(0,i.c)(24),{type:s}=e,n=ec(),{_:o}=(0,ft.useLingui)();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_row,kl.align_center,kl.gap_xs,kl.rounded_full,kl.px_sm,{height:28}],t[0]=r):r=t[0];const a=r;let l,c,d,u,m,h,p,f,g=null;e:switch(s){case"skeleton":{let e;return t[1]!==n.palette.contrast_25?(e=(0,Ft.jsx)(wo.default,{style:[a,{backgroundColor:n.palette.contrast_25,width:65,height:28}]}),t[1]=n.palette.contrast_25,t[2]=e):e=t[2],e}case"hot":{let e;g=QJ,c="light"===n.scheme?n.palette.negative_500:n.palette.negative_950,d="light"===n.scheme?n.palette.negative_50:n.palette.negative_200,t[3]!==o?(e=o({id:"Jd58Fo"}),t[3]=o,t[4]=e):e=t[4],l=e;break e}case"new":{let e;g=WE,t[5]!==o?(e=o({id:"isRobC"}),t[5]=o,t[6]=e):e=t[6],l=e,c=n.palette.positive_700,d=n.palette.positive_50;break e}default:{let e;t[7]!==o||t[8]!==s?(e=o({values:{type:s},id:"P5HM2K"}),t[7]=o,t[8]=s,t[9]=e):e=t[9],l=e,c=n.atoms.text_contrast_medium.color,d=n.atoms.bg_contrast_25.backgroundColor}}return t[10]!==d?(u=[a,{backgroundColor:d}],t[10]=d,t[11]=u):u=t[11],t[12]!==g||t[13]!==c?(m=g&&(0,Ft.jsx)(g,{size:"sm",style:{color:c}}),t[12]=g,t[13]=c,t[14]=m):m=t[14],t[15]!==c?(h=[kl.text_sm,{color:c}],t[15]=c,t[16]=h):h=t[16],t[17]!==h||t[18]!==l?(p=(0,Ft.jsx)(fr,{style:h,children:l}),t[17]=h,t[18]=l,t[19]=p):p=t[19],t[20]!==u||t[21]!==m||t[22]!==p?(f=(0,Ft.jsxs)(wo.default,{style:u,children:[m,p]}),t[20]=u,t[21]=m,t[22]=p,t[23]=f):f=t[23],f}function sX(e){const t=(0,i.c)(12),s=ec();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[0,"base"],t[0]=n):n=t[0];const o=Kl(n);let r,a,l,c,d,u,m,h;return t[1]!==o||t[2]!==s.atoms.border_contrast_low?(r=[o,kl.w_full,kl.py_lg,kl.flex_row,kl.gap_2xs,kl.border_b,s.atoms.border_contrast_low],t[1]=o,t[2]=s.atoms.border_contrast_low,t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_1,kl.gap_sm],t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_row,kl.align_center],t[5]=l):l=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(c=[{width:20}],t[6]=c):c=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsxs)(wo.default,{style:l,children:[(0,Ft.jsx)(wo.default,{style:c,children:(0,Ft.jsx)(vT,{width:12,height:12,style:[kl.rounded_full]})}),(0,Ft.jsx)(vT,{width:90,height:17})]}),t[7]=d):d=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsxs)(wo.default,{style:a,children:[d,(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,{paddingLeft:20}],children:[(0,Ft.jsx)(vT,{width:70,height:16}),(0,Ft.jsx)(vT,{width:40,height:16}),(0,Ft.jsx)(vT,{width:60,height:16})]})]}),t[8]=u):u=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(wo.default,{style:[kl.flex_shrink_0],children:(0,Ft.jsx)(tX,{type:"skeleton"})}),t[9]=m):m=t[9],t[10]!==r?(h=(0,Ft.jsxs)(wo.default,{style:r,children:[u,m]}),t[10]=r,t[11]=h):h=t[11],h}const nX=100,oX=`feedgen|${Ri}`,rX={feedCacheKey:"explore"};function iX(){const e=(0,i.c)(14);let t;(0,ft.useLingui)(),e[0]===Symbol.for("react.memo_cache_sentinel")?(t=[0,"base"],e[0]=t):t=e[0];const s=Kl(t),{data:n,isLoading:o,error:r}=qx(oX,rX),a=(0,wd.useQueryClient)();let l,c,d,u,m;return e[1]!==a?(l=()=>()=>{const e=a.getQueryCache().find({queryKey:Nx(oX,rX)});e&&e.getObserversCount()<=1&&e.fetch()},e[1]=a,e[2]=l):l=e[2],(0,va.useFocusEffect)(l),r?null:(e[3]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.pb_xl],e[3]=c):c=e[3],e[4]!==s.paddingLeft||e[5]!==s.paddingRight?(d=[kl.pt_lg,kl.flex_row,kl.gap_sm,{paddingLeft:s.paddingLeft,paddingRight:s.paddingRight}],e[4]=s.paddingLeft,e[5]=s.paddingRight,e[6]=d):d=e[6],e[7]!==n||e[8]!==r||e[9]!==o?(u=o?Array(10).fill(0).map(aX):r||!n?(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"SOQezB"})}):(0,Ft.jsx)(lX,{data:n}),e[7]=n,e[8]=r,e[9]=o,e[10]=u):u=e[10],e[11]!==d||e[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:c,children:(0,Ft.jsx)(VF,{children:(0,Ft.jsx)(Sw.default,{horizontal:!0,showsHorizontalScrollIndicator:!1,decelerationRate:"fast",snapToInterval:nX+eo.sm,children:(0,Ft.jsx)(wo.default,{style:d,children:u})})})}),e[11]=d,e[12]=u,e[13]=m):m=e[13],m)}function aX(e,t){return(0,Ft.jsx)(wo.default,{style:[{width:nX}],children:(0,Ft.jsx)(FE,{})},t)}function lX({data:e}){const t=ec(),{_:s}=(0,ft.useLingui)(),n=(0,mt.useMemo)((()=>e.pages.flatMap((e=>e.slices)).map((e=>e.items[0])).filter(Boolean).filter((e=>Is.AppBskyEmbedVideo.isView(e.post.embed))).slice(0,8)),[e]),o=(0,mt.useMemo)((()=>{const e=new Is.AtUri(Ri);return dS(e.host,e.rkey,void 0,"explore")}),[]);return(0,Ft.jsxs)(Ft.Fragment,{children:[n.map((e=>(0,Ft.jsx)(wo.default,{style:[{width:nX}],children:(0,Ft.jsx)(DE,{post:e.post,moderation:e.moderation,sourceContext:{type:"feedgen",uri:Ri,sourceInterstitial:"explore"},onInteract:()=>{ys.metric("videoCard:click",{context:"interstitial:explore"},{statsig:!0})}})},e.post.uri))),(0,Ft.jsx)(wo.default,{style:[{width:2*nX}],children:(0,Ft.jsx)(pv,{to:o,label:s({id:"4m3nxQ"}),style:[kl.justify_center,kl.align_center,kl.flex_1,kl.rounded_md,t.atoms.bg_contrast_25],children:({pressed:e})=>(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_md,{opacity:e?.6:1}],children:[(0,Ft.jsx)(fr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"4m3nxQ"})}),(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.justify_center,kl.rounded_full,{width:34,height:34,backgroundColor:t.palette.primary_500}],children:(0,Ft.jsx)(Pr,{icon:QT})})]})})})]})}function cX(e){return e.actors}const dX=["style"],uX=["style"];function mX(e){const t=(0,i.c)(10),{style:s,children:n,bottomBorder:o}=e,r=ec();let a,l,c;return t[0]!==o||t[1]!==r.atoms.border_contrast_low?(a=o&&[kl.border_b,r.atoms.border_contrast_low],t[0]=o,t[1]=r.atoms.border_contrast_low,t[2]=a):a=t[2],t[3]!==s||t[4]!==r.atoms.bg||t[5]!==a?(l=[kl.flex_row,kl.align_center,kl.px_lg,kl.pt_2xl,kl.pb_md,kl.gap_sm,r.atoms.bg,a,s],t[3]=s,t[4]=r.atoms.bg,t[5]=a,t[6]=l):l=t[6],t[7]!==n||t[8]!==l?(c=(0,Ft.jsx)(wo.default,{style:l,children:n}),t[7]=n,t[8]=l,t[9]=c):c=t[9],c}function hX({feed:e,children:t}){const s=ec(),{host:n,rkey:o}=(0,mt.useMemo)((()=>new Is.AtUri(e.uri)),[e.uri]);return(0,Ft.jsx)(pv,{to:dS(n,o),label:e.displayName,style:[kl.flex_1],children:({focused:e,hovered:n,pressed:o})=>(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,{gap:10},kl.rounded_md,kl.p_xs,{marginLeft:-6},(e||n||o)&&s.atoms.bg_contrast_25],children:t})})}function pX(e){const t=(0,i.c)(2),{feed:s}=e;let n;return t[0]!==s.avatar?(n=(0,Ft.jsx)(mP,{type:"algo",size:38,avatar:s.avatar}),t[0]=s.avatar,t[1]=n):n=t[1],n}function fX(e){const t=(0,i.c)(8),{icon:s,size:n}=e,o=Dr[void 0===n?"lg":n];let r,a,l;return t[0]!==o?(r=[kl.z_20,{width:o,height:o,marginLeft:-2}],t[0]=o,t[1]=r):r=t[1],t[2]!==s||t[3]!==o?(a=(0,Ft.jsx)(s,{width:o}),t[2]=s,t[3]=o,t[4]=a):a=t[4],t[5]!==r||t[6]!==a?(l=(0,Ft.jsx)(wo.default,{style:r,children:a}),t[5]=r,t[6]=a,t[7]=l):l=t[7],l}function gX(e){const t=(0,i.c)(8);let s,n,o,r;if(t[0]!==e){var a=e;({style:n}=a),s=(0,ls.default)(a,dX),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];return t[3]!==n?(o=[kl.font_bold,kl.flex_1,kl.text_xl,n],t[3]=n,t[4]=o):o=t[4],t[5]!==s||t[6]!==o?(r=(0,Ft.jsx)(fr,Object.assign({style:o,emoji:!0},s)),t[5]=s,t[6]=o,t[7]=r):r=t[7],r}function xX(e){const t=(0,i.c)(9);let s,n;if(t[0]!==e){var o=e;({style:n}=o),s=(0,ls.default)(o,uX),t[0]=e,t[1]=s,t[2]=n}else s=t[1],n=t[2];const r=ec();let a,l;return t[3]!==n||t[4]!==r.atoms.text_contrast_medium?(a=[r.atoms.text_contrast_medium,kl.leading_tight,kl.flex_1,kl.text_sm,n],t[3]=n,t[4]=r.atoms.text_contrast_medium,t[5]=a):a=t[5],t[6]!==s||t[7]!==a?(l=(0,Ft.jsx)(fr,Object.assign({style:a},s)),t[6]=s,t[7]=a,t[8]=l):l=t[8],l}function _X(e){const t=(0,i.c)(9),{label:s,metricsTag:n,onPress:o}=e;let r,a,l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=jo(GE),t[0]=r):r=t[0],t[1]!==n||t[2]!==o?(a=()=>{ys.metric("explore:module:searchButtonPress",{module:n},{statsig:!0}),o?.()},t[1]=n,t[2]=o,t[3]=a):a=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(l=[{right:-4}],c=(0,Ft.jsx)(Pr,{icon:nC,size:"lg"}),t[4]=l,t[5]=c):(l=t[4],c=t[5]),t[6]!==s||t[7]!==a?(d=(0,Ft.jsx)(Sr,{label:s,size:"small",variant:"ghost",color:"secondary",shape:"round",PressableComponent:r,onPress:a,style:l,children:c}),t[6]=s,t[7]=a,t[8]=d):d=t[8],d}function yX(e){const t=(0,i.c)(3),{feed:s}=e;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.z_20,{marginRight:-6}],t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsx)(wo.default,{style:n,children:(0,Ft.jsx)(yR,{pin:!0,view:s,size:"large",color:"secondary",variant:"ghost",shape:"square",text:!1})}),t[1]=s,t[2]=o):o=t[2],o}function bX(e){const t=(0,i.c)(23),{selectedInterest:s,onSelectInterest:n,hideDefaultTab:o}=e,{_:r}=(0,ft.useLingui)(),a=ZF(),{data:l}=Fh(),c=l?.interests?.tags;let d,u,m,h;t[0]!==o||t[1]!==a||t[2]!==c?(m=Object.keys(a).sort(mE(WF)).sort(mE(c)),u=VF,d=oE,h=o?m:["all",...m],t[0]=o,t[1]=a,t[2]=c,t[3]=d,t[4]=u,t[5]=m,t[6]=h):(d=t[3],u=t[4],m=t[5],h=t[6]);const p=s||(o?m[0]:"all");let f,g,x,_,y;return t[7]!==n?(f=e=>{ys.metric("explore:suggestedAccounts:tabPressed",{tab:e},{statsig:!0}),n("all"===e?null:e)},t[7]=n,t[8]=f):f=t[8],t[9]!==r||t[10]!==o||t[11]!==a?(g=o?a:Object.assign({all:r({id:"S0/Qnt"})},a),t[9]=r,t[10]=o,t[11]=a,t[12]=g):g=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(x=[{paddingLeft:kl.px_md.paddingLeft}],t[13]=x):x=t[13],t[14]!==d||t[15]!==h||t[16]!==p||t[17]!==f||t[18]!==g?(_=(0,Ft.jsx)(d,{interests:h,selectedInterest:p,onSelectTab:f,hasSearchText:!1,interestsDisplayNames:g,TabComponent:jX,contentContainerStyle:x}),t[14]=d,t[15]=h,t[16]=p,t[17]=f,t[18]=g,t[19]=_):_=t[19],t[20]!==u||t[21]!==_?(y=(0,Ft.jsx)(u,{children:_}),t[20]=u,t[21]=_,t[22]=y):y=t[22],y}let jX=e=>{const t=(0,i.c)(36),{onSelectTab:s,interest:n,active:o,index:r,interestsDisplayName:a,onLayout:l}=e,c=ec(),{_:d}=(0,ft.useLingui)();let u,m,h,p,f,g,x,_,y;if(t[0]!==d||t[1]!==o||t[2]!==r||t[3]!==n||t[4]!==a||t[5]!==l){const e=o?d({id:"AEPJ6q"}):"";m=wo.default,p=n,t[11]!==r||t[12]!==l?(f=e=>l(r,e.nativeEvent.layout.x,e.nativeEvent.layout.width),t[11]=r,t[12]=l,t[13]=f):f=t[13],u=Sr,h=d({id:"iT3q7o",values:{interestsDisplayName:a,activeText:e}}),t[0]=d,t[1]=o,t[2]=r,t[3]=n,t[4]=a,t[5]=l,t[6]=u,t[7]=m,t[8]=h,t[9]=p,t[10]=f}else u=t[6],m=t[7],h=t[8],p=t[9],f=t[10];return t[14]!==r||t[15]!==s?(g=()=>s(r),t[14]=r,t[15]=s,t[16]=g):g=t[16],t[17]!==o||t[18]!==a||t[19]!==c.atoms.bg||t[20]!==c.atoms.bg_contrast_25||t[21]!==c.atoms.border_contrast_low||t[22]!==c.atoms.border_contrast_medium||t[23]!==c.atoms.text||t[24]!==c.atoms.text_contrast_medium?(x=e=>{const{hovered:t,pressed:s,focused:n}=e;return(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,kl.px_lg,kl.py_sm,kl.border,o||t||s||n?[c.atoms.bg_contrast_25,c.atoms.border_contrast_medium]:[c.atoms.bg,c.atoms.border_contrast_low]],children:(0,Ft.jsx)(fr,{style:[o||t||s||n?c.atoms.text:c.atoms.text_contrast_medium],children:a})})},t[17]=o,t[18]=a,t[19]=c.atoms.bg,t[20]=c.atoms.bg_contrast_25,t[21]=c.atoms.border_contrast_low,t[22]=c.atoms.border_contrast_medium,t[23]=c.atoms.text,t[24]=c.atoms.text_contrast_medium,t[25]=x):x=t[25],t[26]!==u||t[27]!==h||t[28]!==g||t[29]!==x?(_=(0,Ft.jsx)(u,{label:h,onPress:g,children:x}),t[26]=u,t[27]=h,t[28]=g,t[29]=x,t[30]=_):_=t[30],t[31]!==m||t[32]!==p||t[33]!==f||t[34]!==_?(y=(0,Ft.jsx)(m,{onLayout:f,children:_},p),t[31]=m,t[32]=p,t[33]=f,t[34]=_,t[35]=y):y=t[35],y};jX=(0,mt.memo)(jX);let vX=e=>{const t=(0,i.c)(14),{profile:s,moderationOpts:n,recId:o,position:r}=e,a=ec();let l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.flex_1],t[0]=l):l=t[0],t[1]!==r||t[2]!==o?(c=()=>{ys.metric("suggestedUser:press",{logContext:"Explore",recId:o,position:r},{statsig:!0})},t[1]=r,t[2]=o,t[3]=c):c=t[3],t[4]!==n||t[5]!==r||t[6]!==s||t[7]!==o||t[8]!==a.atoms.border_contrast_low?(d=e=>(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(EJ,{hover:e.hovered||e.pressed}),(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.w_full,kl.py_lg,kl.px_lg,kl.border_t,a.atoms.border_contrast_low],children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(NC,{profile:s,moderationOpts:n}),(0,Ft.jsx)(qC,{profile:s,moderationOpts:n}),(0,Ft.jsx)($C,{profile:s,moderationOpts:n,withIcon:!1,logContext:"ExploreSuggestedAccounts",onFollow:()=>{ys.metric("suggestedUser:follow",{logContext:"Explore",location:"Card",recId:o,position:r},{statsig:!0})}})]}),(0,Ft.jsx)(QC,{profile:s,numberOfLines:2})]})})]}),t[4]=n,t[5]=r,t[6]=s,t[7]=o,t[8]=a.atoms.border_contrast_low,t[9]=d):d=t[9],t[10]!==s||t[11]!==c||t[12]!==d?(u=(0,Ft.jsx)(HC,{profile:s,style:l,onPress:c,children:d}),t[10]=s,t[11]=c,t[12]=d,t[13]=u):u=t[13],u};function wX(e){const t=(0,i.c)(11),{item:s}=e,n=ec(),{_:o}=(0,ft.useLingui)();let r,a,l,c;return t[0]!==o?(r=o({id:"yQ2kGp"}),t[0]=o,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.relative,kl.w_full],t[2]=a):a=t[2],t[3]!==s.isLoadingMore||t[4]!==s.message||t[5]!==n?(l=e=>{const{hovered:t,pressed:o}=e;return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(EJ,{hover:t||o}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.justify_center,kl.px_lg,kl.py_md,kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:s.message}),s.isLoadingMore?(0,Ft.jsx)(wv,{size:"sm"}):(0,Ft.jsx)($T,{size:"sm",style:n.atoms.text_contrast_medium})]})]})},t[3]=s.isLoadingMore,t[4]=s.message,t[5]=n,t[6]=l):l=t[6],t[7]!==s.onLoadMore||t[8]!==r||t[9]!==l?(c=(0,Ft.jsx)(Sr,{label:r,onPress:s.onLoadMore,style:a,children:l}),t[7]=s.onLoadMore,t[8]=r,t[9]=l,t[10]=c):c=t[10],c}function SX({focusSearchInput:e}){const{_:t}=(0,ft.useLingui)(),s=ec(),{data:n,error:o}=Fh(),r=Op(),a=On(),l=nb("follow-10"),[c,d]=(0,mt.useState)(null),{contentLanguages:u}=Yc(),m=(0,mt.useMemo)((()=>0===u.length||Rs.basicFilter("en",u).length>0),[u]),h=n?.interests?.tags,p=ZF(),f=Object.keys(p).sort(mE(WF)).sort(mE(h)),{data:g,isLoading:x,error:_,isRefetching:y}=function(e){const t=(0,i.c)(18),{category:s,search:n}=e,o=void 0===s?null:s,r=void 0!==n&&n,a=ZF(),l=!r;let c;t[0]!==o||t[1]!==l?(c={enabled:l,category:o},t[0]=o,t[1]=l,t[2]=c):c=t[2];const d=Ly(c),u=!!r,m=o?a[o]:"";let h;t[3]!==u||t[4]!==m?(h={enabled:u,query:m,limit:10},t[3]=u,t[4]=m,t[5]=h):h=t[5];const p=O_(h);let f;if(r){let e,s;t[6]!==p.data?(e=p?.data?{actors:p.data.pages.flatMap(cX)??[]}:void 0,t[6]=p.data,t[7]=e):e=t[7],t[8]!==p.error||t[9]!==p.isLoading||t[10]!==p.isRefetching||t[11]!==e?(s={data:e,isLoading:p.isLoading,error:p.error,isRefetching:p.isRefetching},t[8]=p.error,t[9]=p.isLoading,t[10]=p.isRefetching,t[11]=e,t[12]=s):s=t[12],f=s}else{let e;t[13]!==d.data||t[14]!==d.error||t[15]!==d.isLoading||t[16]!==d.isRefetching?(e={data:d.data,isLoading:d.isLoading,error:d.error,isRefetching:d.isRefetching},t[13]=d.data,t[14]=d.error,t[15]=d.isLoading,t[16]=d.isRefetching,t[17]=e):e=t[17],f=e}return f}({category:c||(m?null:f[0]),search:!m}),{data:b,hasNextPage:j,isLoading:v,isFetchingNextPage:w,error:S,fetchNextPage:k}=AI({limit:10,enabled:m}),C=function(e){const t=(0,i.c)(12),{nuxs:s,status:n}=TJ();if("ready"===n){let o;if(t[0]!==e||t[1]!==s){let n;t[3]!==e?(n=t=>t.id===e,t[3]=e,t[4]=n):n=t[4],o=s.find(n),t[0]=e,t[1]=s,t[2]=o}else o=t[2];if(o){const e=o;let s;return t[5]!==n||t[6]!==e?(s={nux:e,status:n},t[5]=n,t[6]=e,t[7]=s):s=t[7],s}{let e;return t[8]!==n?(e={nux:void 0,status:n},t[8]=n,t[9]=e):e=t[9],e}}let o;return t[10]!==n?(o={nux:void 0,status:n},t[10]=n,t[11]=o):o=t[11],o}(vJ.ExploreInterestsCard),P="ready"===C.status&&!C.nux?.completed,{data:T,isLoading:L,error:A,isRefetching:I}=function(e){const t=(0,i.c)(6),{enabled:s}=e,n=bh(),{data:o}=Fh();let r;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=Xc().join(","),t[0]=r):r=t[0];const a=r,l=!!o&&!1!==s;let c,d;return t[1]===Symbol.for("react.memo_cache_sentinel")?(c=FJ(),t[1]=c):c=t[1],t[2]!==n||t[3]!==o||t[4]!==l?(d={enabled:l,staleTime:Ld.MINUTES.THREE,queryKey:c,async queryFn(){const{data:e}=await n.app.bsky.unspecced.getSuggestedStarterPacks(void 0,{headers:Object.assign({},dg(ug(o)),{"Accept-Language":a})});return e}},t[2]=n,t[3]=o,t[4]=l,t[5]=d):d=t[5],(0,vd.useQuery)(d)}({enabled:m}),R=w&&!v,[D,F]=(0,mt.useState)(!1),E=(0,mt.useCallback)((async()=>{if(!w&&j&&!S)if(D)try{await k()}catch(e){ys.error("Failed to load more suggested follows",{message:e})}else F(!0)}),[w,j,S,k,D]),{data:M}=function(e){const t=(0,i.c)(8),{enabled:s}=e,n=bh(),{data:o}=Fh(),r=o?.savedFeeds,a=!!o&&!1!==s;let l,c,d;return t[0]===Symbol.for("react.memo_cache_sentinel")?(l=IJ(),t[0]=l):l=t[0],t[1]!==n||t[2]!==o||t[3]!==r?(c=async()=>{const e=Xc().join(","),{data:t}=await n.app.bsky.unspecced.getSuggestedFeeds({limit:AJ},{headers:Object.assign({},dg(ug(o)),{"Accept-Language":e})});return{feeds:t.feeds.filter((e=>{const t=!!r?.find((t=>t.value===e.uri));return!t}))}},t[1]=n,t[2]=o,t[3]=r,t[4]=c):c=t[4],t[5]!==a||t[6]!==c?(d={enabled:a,staleTime:Ld.MINUTES.THREE,queryKey:l,queryFn:c},t[5]=a,t[6]=c,t[7]=d):d=t[7],(0,vd.useQuery)(d)}({enabled:m}),{data:B,query:{isPending:O,isFetchingNextPage:z,fetchNextPage:H,hasNextPage:N,error:V}}=function(e,t=!0){const s=(0,mt.useMemo)((()=>e.filter(((e,t,s)=>t===s.findIndex((t=>e.uri===t.uri))))),[e]),n=s.map((e=>e.uri)),{_:o}=(0,ft.useLingui)(),r=bh(),{data:i}=Fh(),a=ug(i),l=Op(),c=s.length>0&&t,d=(0,Dp.useInfiniteQuery)({enabled:c,queryKey:wg(n),queryFn:async({pageParam:e})=>{const t=s[e],n=new hg({agent:r,feedParams:{feed:t.uri},userInterests:a});return{feed:t,posts:(await n.fetch({cursor:void 0,limit:Sg})).feed}},initialPageParam:0,getNextPageParam:(e,t,n)=>n<s.length?n+1:void 0}),{data:u,isFetched:m,isError:h,isPending:p,error:f}=d;return{query:d,data:(0,mt.useMemo)((()=>{const e=[];if(!c)return e;e.push({type:"preview:spacer",key:"spacer"});const t=!p&&!u?.pages?.some((e=>e.posts.length));if(m)if(h&&t)e.push({type:"preview:error",key:"error",message:o({id:"+MO72M"}),error:ds(f)});else if(t)e.push({type:"preview:empty",key:"empty"});else if(u)for(let s=0;s<u.pages.length;s++){const t=u.pages[s],n=new _g([]),o=[];let r=0;for(const e of n.tune(t.posts)){if(e.isFallbackMarker)continue;const s=e.items.map((e=>(0,Is.moderatePost)(e.post,l)));e.items=e.items.filter(((e,t)=>!s[t]?.ui("contentList").filter));const n={_reactKey:t.feed.uri+e._reactKey,_isFeedPostSlice:!0,isFallbackMarker:!1,isIncompleteThread:e.isIncompleteThread,feedContext:e.feedContext,reqId:e.reqId,reason:e.reason,feedPostUri:e.feedPostUri,items:e.items.slice(0,6).filter((e=>!kg[e.post.uri])).map(((t,n)=>({_reactKey:`${e._reactKey}-${n}-${t.post.uri}`,uri:t.post.uri,post:t.post,record:t.record,moderation:s[n],parentAuthor:t.parentAuthor,isParentBlocked:t.isParentBlocked,isParentNotFound:t.isParentNotFound})))};if(n.isIncompleteThread&&n.items.length>=3){const e=n.items.length-2,s=n.items.length-1;o.push({type:"preview:sliceItem",key:n.items[0]._reactKey,slice:n,indexInSlice:0,feed:t.feed,showReplyTo:!1,hideTopBorder:0===r}),o.push({type:"preview:sliceViewFullThread",key:n._reactKey+"-viewFullThread",uri:n.items[0].uri}),o.push({type:"preview:sliceItem",key:n.items[e]._reactKey,slice:n,indexInSlice:e,feed:t.feed,showReplyTo:n.items[e].parentAuthor?.did!==n.items[e].post.author.did,hideTopBorder:!1}),o.push({type:"preview:sliceItem",key:n.items[s]._reactKey,slice:n,indexInSlice:s,feed:t.feed,showReplyTo:!1,hideTopBorder:!1})}else for(let e=0;e<n.items.length;e++)o.push({type:"preview:sliceItem",key:n.items[e]._reactKey,slice:n,indexInSlice:e,feed:t.feed,showReplyTo:0===e,hideTopBorder:0===e&&0===r});r++}o.length>0&&e.push({type:"preview:header",key:`header-${t.feed.uri}`,feed:t.feed},...o,{type:"preview:footer",key:`footer-${t.feed.uri}`})}else h&&!t&&e.push({type:"preview:loadMoreError",key:"loadMoreError"});else e.push({type:"preview:loading",key:"loading"});return e}),[c,u,m,h,p,l,o,f])}}(M?.feeds??[],m),q=(0,wd.useQueryClient)(),[U,W]=(0,mt.useState)(!1),Z=(0,mt.useCallback)((async()=>{W(!0),await Promise.all([await q.resetQueries({queryKey:DJ()}),await q.resetQueries({queryKey:FJ()}),await q.resetQueries({queryKey:[Py]}),await q.resetQueries({queryKey:[E_]}),await q.resetQueries({queryKey:IJ()})]),W(!1)}),[q,W]),Q=(0,mt.useCallback)((async()=>{if(!O&&!z&&N&&!V)try{await H()}catch(e){ys.error("Failed to load more feed previews",{message:e})}}),[O,z,N,V,H]),K=(0,mt.useMemo)((()=>({type:"topBorder",key:"top-border"})),[]),$=(0,mt.useMemo)((()=>({type:"trendingTopics",key:"trending-topics"})),[]),G=(0,mt.useMemo)((()=>{const e=[];if(e.push({type:"tabbedHeader",key:"suggested-accounts-header",title:t({id:"C/oQ9R"}),icon:ZQ,searchButton:{label:t({id:"hcAVXh"}),metricsTag:"suggestedAccounts",tab:"user"},hideDefaultTab:!m}),x||y)e.push({type:"profilePlaceholder",key:"profilePlaceholder"});else if(_)e.push({type:"error",key:"suggestedUsersError",message:t({id:"NyMVkx"}),error:ds(_)});else if(void 0!==g)if(g.actors.length>0&&r){let t=new Set;const s=[];for(const e of g.actors)t.has(e.did)||e.viewer?.following||(t.add(e.did),s.push({type:"profile",key:e.did,profile:e}));0===s.length?e.push({type:"profileEmpty",key:"profileEmpty"}):null===c&&m?e.push(...s.slice(0,5)):e.push(...s)}else e.push({type:"profileEmpty",key:"profileEmpty"});else e.push({type:"profilePlaceholder",key:"profilePlaceholder"});return e}),[t,r,g,x,y,_,c,m]),Y=(0,mt.useMemo)((()=>{const e=[];if(e.push({type:"header",key:"suggested-feeds-header",title:t({id:"mHyyR5"}),icon:dT,searchButton:{label:t({id:"IJwpzF"}),metricsTag:"suggestedFeeds",tab:"feed"}}),b&&n){let s=new Set;const n=[];for(const e of b.pages)for(const t of e.feeds)s.has(t.uri)||(s.add(t.uri),n.push({type:"feed",key:t.uri,feed:t}));S?e.push({type:"error",key:"feedsError",message:t({id:"lKD/wH"}),error:ds(S)}):o?e.push({type:"error",key:"preferencesError",message:t({id:"5wadOg"}),error:ds(o)}):(0===n.length?j||e.pop():D?e.push(...n):e.push(...n.slice(0,3)),j&&e.push({type:"loadMore",key:"loadMoreFeeds",message:t({id:"LRsBid"}),isLoadingMore:R,onLoadMore:E}))}else S?e.push({type:"error",key:"feedsError",message:t({id:"lKD/wH"}),error:ds(S)}):o?e.push({type:"error",key:"preferencesError",message:t({id:"5wadOg"}),error:ds(o)}):e.push({type:"feedPlaceholder",key:"feedPlaceholder"});return e}),[b,t,S,j,D,R,E,n,o]),J=(0,mt.useMemo)((()=>{const e=[];return e.push({type:"header",key:"suggested-starterPacks-header",title:t({id:"vKtclE"}),icon:jk,iconSize:"xl"}),L||I?Array.from({length:3}).forEach(((t,s)=>e.push({type:"starterPackSkeleton",key:`starterPackSkeleton-${s}`}))):A||!T?e.pop():T.starterPacks.map((t=>{e.push({type:"starterPack",key:t.uri,view:t})})),e}),[T,t,L,A,I]),X=(0,mt.useMemo)((()=>{const e=[];return e.push(...B),z&&e.push({type:"preview:loading",key:"preview-loading-more"}),e}),[B,z]),ee=(0,mt.useMemo)((()=>P?[{type:"interests-card",key:"interests-card"}]:[]),[P]),te="follow-10"===l?.guide&&!l.isComplete,se=(0,mt.useMemo)((()=>{const e=[];return e.push(K),e.push(...ee),m?(te?(e.push(...G),e.push(...J),e.push({type:"header",key:"trending-topics-header",title:t({id:"uHO0RQ"}),icon:UE,bottomBorder:!0}),e.push($)):(e.push($),e.push(...G),e.push(...J)),a("explore_show_suggested_feeds")&&e.push(...Y),e.push(...X)):e.push(...G),e}),[t,K,te,G,J,Y,$,X,ee,a,m]),ne=(0,mt.useCallback)((({item:n,index:o})=>{switch(n.type){case"topBorder":return(0,Ft.jsx)(wo.default,{style:[kl.w_full,s.atoms.border_contrast_low,kl.border_t]});case"header":return(0,Ft.jsxs)(mX,{bottomBorder:n.bottomBorder,children:[(0,Ft.jsx)(fX,{icon:n.icon,size:n.iconSize}),(0,Ft.jsx)(gX,{children:n.title}),n.searchButton&&(0,Ft.jsx)(_X,Object.assign({},n.searchButton,{onPress:()=>e(n.searchButton?.tab||"user")}))]});case"tabbedHeader":return(0,Ft.jsxs)(wo.default,{style:[kl.pb_md],children:[(0,Ft.jsxs)(mX,{style:[kl.pb_xs],children:[(0,Ft.jsx)(fX,{icon:n.icon}),(0,Ft.jsx)(gX,{children:n.title}),n.searchButton&&(0,Ft.jsx)(_X,Object.assign({},n.searchButton,{onPress:()=>e(n.searchButton?.tab||"user")}))]}),(0,Ft.jsx)(bX,{selectedInterest:c,onSelectInterest:d,hideDefaultTab:n.hideDefaultTab})]});case"trendingTopics":return(0,Ft.jsx)(wo.default,{style:[kl.pb_md],children:(0,Ft.jsx)($J,{})});case"trendingVideos":return(0,Ft.jsx)(iX,{});case"recommendations":return(0,Ft.jsx)(qJ,{});case"profile":return(0,Ft.jsx)(vX,{profile:n.profile,moderationOpts:r,recId:n.recId,position:o});case"profileEmpty":return(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pb_lg],children:(0,Ft.jsx)(Uj,{children:c?(0,Ft.jsx)(ft.Trans,{id:"ihruyH",values:{0:p[c]}}):(0,Ft.jsx)(ft.Trans,{id:"1dhpFr"})})});case"feed":return(0,Ft.jsx)(wo.default,{style:[kl.border_t,s.atoms.border_contrast_low,kl.px_lg,kl.py_lg],children:(0,Ft.jsx)(cR,{view:n.feed})});case"starterPack":return(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pb_lg],children:(0,Ft.jsx)(MJ,{view:n.view})});case"starterPackSkeleton":return(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pb_lg],children:(0,Ft.jsx)(zJ,{})});case"loadMore":return(0,Ft.jsx)(wo.default,{style:[kl.border_t,s.atoms.border_contrast_low],children:(0,Ft.jsx)(wX,{item:n})});case"profilePlaceholder":return(0,Ft.jsx)(Ft.Fragment,{children:Array.from({length:3}).map(((e,t)=>(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.py_lg,kl.border_t,s.atoms.border_contrast_low],children:(0,Ft.jsxs)(OC,{children:[(0,Ft.jsxs)(zC,{children:[(0,Ft.jsx)(VC,{}),(0,Ft.jsx)(ZC,{})]}),(0,Ft.jsx)(KC,{numberOfLines:2})]})},t)))});case"feedPlaceholder":return(0,Ft.jsx)(AT,{});case"error":case"preview:error":return(0,Ft.jsx)(wo.default,{style:[kl.border_t,kl.pt_md,kl.px_md,s.atoms.border_contrast_low],children:(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_md,kl.p_lg,kl.rounded_sm,s.atoms.bg_contrast_25],children:[(0,Ft.jsx)(Ij,{size:"md",fill:s.palette.negative_400}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.leading_snug],children:n.message}),(0,Ft.jsx)(fr,{style:[kl.italic,kl.leading_snug,s.atoms.text_contrast_medium],children:n.error})]})]})});case"preview:spacer":return(0,Ft.jsx)(wo.default,{style:[kl.w_full,kl.pt_4xl]});case"preview:empty":return null;case"preview:loading":return(0,Ft.jsx)(wo.default,{style:[kl.py_2xl,kl.flex_1,kl.align_center],children:(0,Ft.jsx)(wv,{size:"lg"})});case"preview:header":return(0,Ft.jsxs)(mX,{style:[kl.pt_xs,s.atoms.border_contrast_low,jo(kl.border_b)],children:[(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,s.atoms.bg,{top:-2}]}),(0,Ft.jsxs)(hX,{feed:n.feed,children:[(0,Ft.jsx)(pX,{feed:n.feed}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_xs],children:[(0,Ft.jsx)(gX,{style:[kl.text_lg],children:n.feed.displayName}),(0,Ft.jsx)(xX,{children:(0,Ft.jsx)(ft.Trans,{id:"aavdrC",values:{0:su(n.feed.creator.handle,"@")}})})]})]}),(0,Ft.jsx)(yX,{feed:n.feed})]});case"preview:footer":return(0,Ft.jsx)(wo.default,{style:[kl.border_t,s.atoms.border_contrast_low,kl.w_full,kl.pt_4xl]});case"preview:sliceItem":{const e=n.slice,t=n.indexInSlice,s=e.items[t];return(0,Ft.jsx)(_M,{post:s.post,record:s.record,reason:0===t?e.reason:void 0,feedContext:e.feedContext,reqId:e.reqId,moderation:s.moderation,parentAuthor:s.parentAuthor,showReplyTo:n.showReplyTo,isThreadParent:LM(e.items,t),isThreadChild:AM(e.items,t),isThreadLastChild:AM(e.items,t)&&e.items.length===t+1,isParentBlocked:s.isParentBlocked,isParentNotFound:s.isParentNotFound,hideTopBorder:n.hideTopBorder,rootPost:e.items[0].post})}case"preview:sliceViewFullThread":return(0,Ft.jsx)(SM,{uri:n.uri});case"preview:loadMoreError":return(0,Ft.jsx)(OF,{label:t({id:"P7AR2V"}),onPress:H});case"interests-card":return(0,Ft.jsx)(NJ,{})}}),[s,e,r,c,p,t,H]),oe=(0,mt.useMemo)((()=>se.reduce(((e,t)=>["topBorder","preview:header"].includes(t.type)?e.concat(se.indexOf(t)):e),[])),[se]),re=(0,mt.useRef)(new Map),ie=(0,mt.useCallback)((e=>{let t;if("trendingTopics"===e.type||"trendingVideos"===e.type)t=e.type;else if("profile"===e.type)t="suggestedAccounts";else if("feed"===e.type)t="suggestedFeeds";else if("starterPack"===e.type)t="suggestedStarterPacks";else{if("preview:sliceItem"!==e.type)return;t=`feed:feedgen|${e.feed.uri}`}re.current.has(t)||(re.current.set(t,t),ys.metric("explore:module:seen",{module:t}))}),[]);return(0,Ft.jsx)(MF,{data:se,renderItem:ne,keyExtractor:kX,desktopFixedHeight:!0,contentContainerStyle:{paddingBottom:100},keyboardShouldPersistTaps:"handled",keyboardDismissMode:"on-drag",stickyHeaderIndices:jo(oe),viewabilityConfig:CX,onItemSeen:ie,onEndReached:Q,onEndReachedThreshold:4,initialNumToRender:10,windowSize:vo({android:11}),maxToRenderPerBatch:vo({android:1}),updateCellsBatchingPeriod:vo({android:25}),refreshing:U,onRefresh:Z})}function kX(e){return e.key}vX=(0,mt.memo)(vX);const CX={itemVisiblePercentThreshold:100};let PX=e=>{const t=(0,i.c)(41),{query:s,queryWithParams:n,activeTab:o,onPageSelected:r,headerHeight:a}=e,{_:l}=(0,ft.useLingui)();let c;e:{if(!n){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],t[0]=e):e=t[0],c=e;break e}const e=n===s;let r;t[1]!==l?(r=l({id:"WWy8TN"}),t[1]=l,t[2]=r):r=t[2];const i=0===o;let a,d,u;t[3]!==n||t[4]!==i?(a=(0,Ft.jsx)(AX,{query:n,sort:"top",active:i}),t[3]=n,t[4]=i,t[5]=a):a=t[5],t[6]!==r||t[7]!==a?(d={title:r,component:a},t[6]=r,t[7]=a,t[8]=d):d=t[8],t[9]!==l?(u=l({id:"wL3cK8"}),t[9]=l,t[10]=u):u=t[10];const m=1===o;let h,p,f,g,x;t[11]!==n||t[12]!==m?(h=(0,Ft.jsx)(AX,{query:n,sort:"latest",active:m}),t[11]=n,t[12]=m,t[13]=h):h=t[13],t[14]!==u||t[15]!==h?(p={title:u,component:h},t[14]=u,t[15]=h,t[16]=p):p=t[16],t[17]!==l||t[18]!==o||t[19]!==e||t[20]!==s?(f=e&&{title:l({id:"1wdjme"}),component:(0,Ft.jsx)(IX,{query:s,active:2===o})},t[17]=l,t[18]=o,t[19]=e,t[20]=s,t[21]=f):f=t[21],t[22]!==l||t[23]!==o||t[24]!==e||t[25]!==s?(g=e&&{title:l({id:"2DoBvq"}),component:(0,Ft.jsx)(RX,{query:s,active:3===o})},t[22]=l,t[23]=o,t[24]=e,t[25]=s,t[26]=g):g=t[26],t[27]!==f||t[28]!==g||t[29]!==d||t[30]!==p?(x=[d,p,f,g].filter(Boolean),t[27]=f,t[28]=g,t[29]=d,t[30]=p,t[31]=x):x=t[31],c=x}const d=c;let u,m,h;return t[32]!==a||t[33]!==d?(u=e=>(0,Ft.jsx)(wl,{style:[kl.z_10,_o([kl.sticky,{top:a}])],children:(0,Ft.jsx)(lH,Object.assign({items:d.map(DX)},e))}),t[32]=a,t[33]=d,t[34]=u):u=t[34],t[35]!==d?(m=d.map(FX),t[35]=d,t[36]=m):m=t[36],t[37]!==r||t[38]!==u||t[39]!==m?(h=(0,Ft.jsx)(_H,{onPageSelected:r,renderTabBar:u,initialPage:0,children:m}),t[37]=r,t[38]=u,t[39]=m,t[40]=h):h=t[40],h};function TX(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(wo.default,{style:[kl.py_xl],children:(0,Ft.jsx)(Fx.default,{})})}),e[0]=t):t=e[0],t}function LX(e){const t=(0,i.c)(14),{message:s,error:n}=e,o=ec();let r,a,l,c,d,u;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.p_xl],t[0]=r):r=t[0],t[1]!==o.atoms.bg_contrast_25?(a=[o.atoms.bg_contrast_25,kl.rounded_sm,kl.p_lg],t[1]=o.atoms.bg_contrast_25,t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.text_md],t[3]=l):l=t[3],t[4]!==s?(c=(0,Ft.jsx)(fr,{style:l,children:s}),t[4]=s,t[5]=c):c=t[5],t[6]!==n||t[7]!==o.atoms.text||t[8]!==o.atoms.text_contrast_medium?(d=n&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[{marginVertical:12,height:1,width:"100%",backgroundColor:o.atoms.text.color,opacity:.2}]}),(0,Ft.jsx)(fr,{style:[o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"r64ohk",values:{error:n}})})]}),t[6]=n,t[7]=o.atoms.text,t[8]=o.atoms.text_contrast_medium,t[9]=d):d=t[9],t[10]!==a||t[11]!==c||t[12]!==d?(u=(0,Ft.jsx)(bl,{children:(0,Ft.jsx)(wo.default,{style:r,children:(0,Ft.jsxs)(wo.default,{style:a,children:[c,d]})})}),t[10]=a,t[11]=c,t[12]=d,t[13]=u):u=t[13],u}PX=(0,mt.memo)(PX);let AX=({query:e,sort:t,active:s})=>{const{_:n}=(0,ft.useLingui)(),{currentAccount:o}=xh(),[r,i]=(0,mt.useState)(!1),a=(0,mt.useMemo)((()=>function(e,{did:t}){return t?e.split(/("(?:[^"\\]|\\.)*")/g).map(((e,s)=>s%2===0?e.replaceAll(/(^|\s)from:me(\s|$)/g,`$1${t}$2`):e)).join(""):e}(e||"",{did:o?.did})),[e,o]),{isFetched:l,data:c,isFetching:d,error:u,refetch:m,fetchNextPage:h,isFetchingNextPage:p,hasNextPage:f}=Og({query:a,sort:t,enabled:s}),g=(0,mt.useCallback)((async()=>{i(!0),await m(),i(!1)}),[i,m]),x=(0,mt.useCallback)((()=>{d||!f||u||h()}),[d,u,f,h]),_=(0,mt.useMemo)((()=>c?.pages.flatMap((e=>e.posts))||[]),[c]),y=(0,mt.useMemo)((()=>{let e=[];const t=new Set;for(const s of _)t.has(s.uri)||(e.push({type:"post",key:s.uri,post:s}),t.add(s.uri));return p&&e.push({type:"loadingMore",key:"loadingMore"}),e}),[_,p]);return u?(0,Ft.jsx)(LX,{message:n({id:"WBQOQ0"}),error:u.toString()}):(0,Ft.jsx)(Ft.Fragment,{children:l?(0,Ft.jsx)(Ft.Fragment,{children:_.length?(0,Ft.jsx)(MF,{data:y,renderItem:({item:e})=>"post"===e.type?(0,Ft.jsx)(iO,{post:e.post}):null,keyExtractor:e=>e.key,refreshing:r,onRefresh:g,onEndReached:x,desktopFixedHeight:!0,contentContainerStyle:{paddingBottom:100}}):(0,Ft.jsx)(LX,{message:n({id:"SVF205",values:{query:e}})})}):(0,Ft.jsx)(TX,{})})};AX=(0,mt.memo)(AX);let IX=e=>{const t=(0,i.c)(8),{query:s,active:n}=e,{_:o}=(0,ft.useLingui)();let r;t[0]!==n||t[1]!==s?(r={query:s,enabled:n},t[0]=n,t[1]=s,t[2]=r):r=t[2];const{data:a,isFetched:l}=B_(r);let c;return t[3]!==o||t[4]!==l||t[5]!==s||t[6]!==a?(c=l&&a?(0,Ft.jsx)(Ft.Fragment,{children:a.length?(0,Ft.jsx)(MF,{data:a,renderItem:EX,keyExtractor:MX,desktopFixedHeight:!0,contentContainerStyle:{paddingBottom:100}}):(0,Ft.jsx)(LX,{message:o({id:"SVF205",values:{query:s}})})}):(0,Ft.jsx)(TX,{}),t[3]=o,t[4]=l,t[5]=s,t[6]=a,t[7]=c):c=t[7],c};IX=(0,mt.memo)(IX);let RX=e=>{const t=(0,i.c)(9),{query:s,active:n}=e,o=ec(),{_:r}=(0,ft.useLingui)();let a;t[0]!==n||t[1]!==s?(a={query:s,enabled:n},t[0]=n,t[1]=s,t[2]=a):a=t[2];const{data:l,isFetched:c}=DI(a);let d;return t[3]!==r||t[4]!==c||t[5]!==s||t[6]!==l||t[7]!==o?(d=c&&l?(0,Ft.jsx)(Ft.Fragment,{children:l.length?(0,Ft.jsx)(MF,{data:l,renderItem:e=>{const{item:t}=e;return(0,Ft.jsx)(wo.default,{style:[kl.border_b,o.atoms.border_contrast_low,kl.px_lg,kl.py_lg],children:(0,Ft.jsx)(cR,{view:t})})},keyExtractor:BX,desktopFixedHeight:!0,contentContainerStyle:{paddingBottom:100}}):(0,Ft.jsx)(LX,{message:r({id:"SVF205",values:{query:s}})})}):(0,Ft.jsx)(TX,{}),t[3]=r,t[4]=c,t[5]=s,t[6]=l,t[7]=o,t[8]=d):d=t[8],d};function DX(e){return e.title}function FX(e,t){return(0,Ft.jsx)(wo.default,{children:e.component},t)}function EX(e){const{item:t}=e;return(0,Ft.jsx)($V,{profile:t})}function MX(e){return e.did}function BX(e){return e.uri}RX=(0,mt.memo)(RX);const OX=["q"],zX=["q"];function HX({queryParam:e,testID:t,fixedParams:s,navButton:n="menu",inputPlaceholder:o,isExplore:r}){const i=ec(),{gtMobile:a}=ql(),l=(0,va.useNavigation)(),c=(0,va.useRoute)(),d=(0,mt.useRef)(null),{_:u}=(0,ft.useLingui)(),m=Na(),{currentAccount:h}=xh(),p=(0,wd.useQueryClient)(),[f,g]=(0,mt.useState)(e),{data:x,isFetching:_}=QB(f,!0),[y,b]=(0,mt.useState)(!1),[j=[],v]=Pn(Ln,[h?.did??"pwi","searchTermHistory"]),[w=[],S]=Pn(Ln,[h?.did??"pwi","searchAccountHistory"]),{data:k}=mb({handles:w,maintainData:!0}),C=(0,mt.useCallback)((async e=>{if(!e)return;const t=[e,...j.filter((t=>t!==e))].slice(0,6);v(t)}),[j,v]),P=(0,mt.useCallback)((async e=>{const t=[e.did,...w.filter((t=>t!==e.did))].slice(0,10);S(t)}),[w,S]),T=(0,mt.useCallback)((async e=>{v(j.filter((t=>t!==e)))}),[j,v]),L=(0,mt.useCallback)((async e=>{S(w.filter((t=>t!==e.did)))}),[w,S]),{params:A,query:I,queryWithParams:R}=function({initialQuery:e,fixedParams:t}){const{query:s,params:n}=(0,mt.useMemo)((()=>function(e){let t=e;const s=e.match(/[^:\w\d]".+?"/gi)||[];for(const r of s)t=t.replace(r.trim(),"");const n=t.match(/[a-z]+:[a-z-\.@\d:"]+/gi)||[];for(const r of n)t=t.replace(r,"");t=t.trim();const o=n.reduce(((e,t)=>{const[s,...n]=t.split(/:/);return e[s]=n.join(":").replace(/"/g,""),e}),{});return{query:[t,s.map((e=>String(e).trim())).join(" ")].filter(Boolean).join(" "),params:o}}(e||"")),[e]),[o,r]=(0,mt.useState)(e),[i,a]=(0,mt.useState)(n.lang||"");e!==o&&(r(e),a(n.lang||""));const l=(0,mt.useMemo)((()=>Object.assign({},n,{lang:i},t)),[i,n,t]),c=(0,mt.useMemo)((()=>({setLang:a})),[a]);return(0,mt.useMemo)((()=>({query:s,queryWithParams:xJ(s,l),params:Object.assign({},l,c)})),[s,l,c])}({initialQuery:e,fixedParams:s}),D=Boolean(R&&!y),[F,E]=(0,mt.useState)(0),M=(0,mt.useRef)(null);(0,mt.useLayoutEffect)((()=>{if(Pt){if(!M.current)return;const e=M.current.getBoundingClientRect();E(e.height)}}),[]),(0,va.useFocusEffect)(Ed((()=>{Pt&&g(e)})));const B=(0,mt.useCallback)((()=>{VX(),g(""),d.current?.focus()}),[]),O=(0,mt.useCallback)((async e=>{VX(),g(e)}),[]),z=(0,mt.useCallback)((e=>{VX(),b(!1),C(e),Pt?l.push(c.name,Object.assign({},c.params,{q:e})):(d.current?.blur(),l.setParams({q:e}))}),[C,l,c]),H=(0,mt.useCallback)((()=>{if(VX(),d.current?.blur(),b(!1),Pt){const e=c.params??{},t=(0,ls.default)(e,OX);l.replace(c.name,t)}else g(""),l.setParams({q:""})}),[b,g,l,c.params,c.name]),N=(0,mt.useCallback)((()=>{z(f)}),[z,f]),V=(0,mt.useCallback)((()=>{Pt?b(!1):d.current?.blur()}),[]),q=(0,mt.useCallback)((e=>{g(e),z(e)}),[z]),U=(0,mt.useCallback)((e=>{By(p,e),setTimeout((()=>{P(e)}),400)}),[P,p]),W=(0,mt.useCallback)((()=>{if(Pt){const e=c.params??{},t=(0,ls.default)(e,zX);l.replace(c.name,t)}else g(""),l.setParams({q:""}),d.current?.focus()}),[l,c]);(0,va.useFocusEffect)((0,mt.useCallback)((()=>(m(!1),Dt(W))),[W,m]));const Z=(0,mt.useCallback)((()=>{Pt?requestAnimationFrame((()=>{b(!0)})):b(!0)}),[b]),Q=(0,mt.useCallback)((()=>{d.current?.focus()}),[]),K=!a||"menu"!==n;return(0,Ft.jsxs)(_l,{testID:t,children:[(0,Ft.jsx)(wo.default,{ref:M,onLayout:e=>{Pt&&E(e.nativeEvent.layout.height)},style:[kl.relative,kl.z_10,_o({position:"sticky",top:0})],children:(0,Ft.jsxs)(wl,{style:i.atoms.bg,children:[K&&(0,Ft.jsx)(wo.default,{style:{marginBottom:-1*eo.xs},children:(0,Ft.jsxs)(il,{noBottomBorder:!0,children:["menu"===n?(0,Ft.jsx)(ul,{}):(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{align:"left",children:(0,Ft.jsx)(ml,{children:r?(0,Ft.jsx)(ft.Trans,{id:"8tjQCz"}):(0,Ft.jsx)(ft.Trans,{id:"A1taO8"})})}),D?(0,Ft.jsx)(jJ,{value:A.lang,onChange:A.setLang}):(0,Ft.jsx)(cl,{})]})}),(0,Ft.jsx)(wo.default,{style:[kl.px_lg,kl.pt_sm,kl.pb_sm,kl.overflow_hidden],children:(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.align_stretch,kl.gap_xs],children:[(0,Ft.jsx)(wo.default,{style:[kl.flex_1],children:(0,Ft.jsx)(Az,{ref:d,value:f,onFocus:Z,onChangeText:O,onClearText:B,onSubmitEditing:N,placeholder:o??u({id:"9rRLtx"}),hitSlop:Object.assign({},wi,{top:0})})}),y&&(0,Ft.jsx)(Sr,{label:u({id:"5TviPn"}),size:"large",variant:"ghost",color:"secondary",style:[kl.px_sm],onPress:H,hitSlop:vi,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})})]}),D&&!K&&(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.align_center,kl.justify_between,kl.gap_sm],children:(0,Ft.jsx)(jJ,{value:A.lang,onChange:A.setLang})})]})})]})}),(0,Ft.jsx)(wo.default,{style:{display:y&&!s?"flex":"none",flex:1},children:f.length>0?(0,Ft.jsx)(_J,{isAutocompleteFetching:_,autocompleteData:x,searchText:f,onSubmit:N,onResultPress:V,onProfileClick:U}):(0,Ft.jsx)(yJ,{searchHistory:j,selectedProfiles:k?.profiles||[],onItemClick:q,onProfileClick:U,onRemoveItemClick:T,onRemoveProfileClick:L})}),(0,Ft.jsx)(wo.default,{style:{display:y?"none":"flex",flex:1},children:(0,Ft.jsx)(NX,{query:I,queryWithParams:R,headerHeight:F,focusSearchInput:Q})})]})}let NX=e=>{const t=(0,i.c)(12),{query:s,queryWithParams:n,headerHeight:o,focusSearchInput:r}=e,a=ec(),l=Na(),{hasSession:c}=xh(),{gtTablet:d}=ql(),[u,m]=(0,mt.useState)(0);let h;(0,ft.useLingui)(),t[0]!==l?(h=e=>{l(!1),m(e)},t[0]=l,t[1]=h):h=t[1];const p=h;let f;return t[2]!==u||t[3]!==r||t[4]!==d||t[5]!==c||t[6]!==o||t[7]!==p||t[8]!==s||t[9]!==n||t[10]!==a?(f=n?(0,Ft.jsx)(PX,{query:s,queryWithParams:n,activeTab:u,headerHeight:o,onPageSelected:p}):c?(0,Ft.jsx)(SX,{focusSearchInput:r,headerHeight:o}):(0,Ft.jsx)(wl,{children:(0,Ft.jsxs)(wo.default,{style:kl.flex_1,children:[d&&(0,Ft.jsx)(wo.default,{style:[kl.border_b,a.atoms.border_contrast_low,kl.px_lg,kl.pt_sm,kl.pb_lg],children:(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"A1taO8"})})}),(0,Ft.jsxs)(wo.default,{style:[kl.align_center,kl.justify_center,kl.py_4xl,kl.gap_lg],children:[(0,Ft.jsx)(vx,{strokeWidth:3,size:60,style:a.atoms.text_contrast_medium}),(0,Ft.jsx)(fr,{style:[a.atoms.text_contrast_medium,kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"aUjjfa"})})]})]})}),t[2]=u,t[3]=r,t[4]=d,t[5]=c,t[6]=o,t[7]=p,t[8]=s,t[9]=n,t[10]=a,t[11]=f):f=t[11],f};function VX(){Pt&&window.scrollTo(0,0)}NX=(0,mt.memo)(NX);const qX=e=>{const t=(0,i.c)(12),{route:s}=e,{name:n,q:o}=s.params,r=void 0===o?"":o,{_:a}=(0,ft.useLingui)(),{currentAccount:l}=xh(),{data:c}=XS(n);let d;t[0]!==c?(d={did:c},t[0]=c,t[1]=d):d=t[1];const{data:u}=ub(d);let m;u?.handle;const h=u?.handle??n;let p;t[2]!==h?(p={from:h},t[2]=h,t[3]=p):p=t[3],m=p;const f=m;let g,x;return t[4]!==a||t[5]!==l?.did||t[6]!==u?(g=u?l?.did===u.did?a({id:"BmW9JG"}):a({id:"h7t/Tx",values:{0:u.handle}}):a({id:"YIix5Y"}),t[4]=a,t[5]=l?.did,t[6]=u,t[7]=g):g=t[7],t[8]!==f||t[9]!==r||t[10]!==g?(x=(0,Ft.jsx)(HX,{navButton:"back",inputPlaceholder:g,fixedParams:f,queryParam:r,testID:"searchPostsScreen"}),t[8]=f,t[9]=r,t[10]=g,t[11]=x):x=t[11],x};function UX(e){const t=(0,i.c)(2),s=e.route?.params?.q??"";let n;return t[0]!==s?(n=(0,Ft.jsx)(HX,{queryParam:s,testID:"searchScreen",isExplore:!0}),t[0]=s,t[1]=n):n=t[1],n}const WX=zr({path:"M20.494 2.13a1 1 0 0 1 .375 1.364l-4.658 8.2.263.095c1.52.554 2.737 2.062 2.484 3.864-.336 2.393-1.358 4.12-3.245 6.047a1 1 0 0 1-1.102.222l-9.5-4a1 1 0 0 1-.166-1.754c1.458-.971 2.623-1.923 3.498-3.3 1.057-1.662 3.154-2.854 5.281-2.08l.58.212 4.827-8.494a1 1 0 0 1 1.363-.375ZM13.04 12.669c-.983-.358-2.19.142-2.91 1.273-.737 1.16-1.628 2.054-2.601 2.828l1.708.72a.2.2 0 0 0 .177-.011l2.13-1.218a.2.2 0 0 1 .29.237l-.551 1.653a.2.2 0 0 0 .112.247l3.353 1.413c1.359-1.494 1.994-2.76 2.23-4.435.094-.675-.359-1.405-1.188-1.707l-2.75-1ZM4.407 7.184a.5.5 0 0 1-.224.224l-1.29.645a.5.5 0 0 0 0 .894l1.29.645a.5.5 0 0 1 .224.224l.645 1.29a.5.5 0 0 0 .894 0l.645-1.29a.5.5 0 0 1 .224-.224l1.29-.645a.5.5 0 0 0 0-.894l-1.29-.645a.5.5 0 0 1-.224-.224l-.645-1.29a.5.5 0 0 0-.894 0l-.645 1.29ZM9.559 3.72a.36.36 0 0 0 .16-.16l.46-.921a.357.357 0 0 1 .64 0l.46.921q.054.106.16.16l.921.46a.357.357 0 0 1 0 .64l-.921.46a.36.36 0 0 0-.16.16l-.46.921a.357.357 0 0 1-.64 0l-.46-.921a.36.36 0 0 0-.16-.16l-.921-.46a.357.357 0 0 1 0-.64l.921-.46Z"}),ZX=zr({path:"M2 5a1 1 0 0 1 1-1h10a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm15 0a1 1 0 0 1 1-1h3a1 1 0 1 1 0 2h-3a1 1 0 0 1-1-1ZM2 12a1 1 0 0 1 1-1h5a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm10 0a1 1 0 0 1 1-1h8a1 1 0 1 1 0 2h-8a1 1 0 0 1-1-1ZM2 19a1 1 0 0 1 1-1h7a1 1 0 1 1 0 2H3a1 1 0 0 1-1-1Zm12 0a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2h-6a1 1 0 0 1-1-1Z"}),QX=zr({path:"M1 6.5A2.5 2.5 0 0 1 3.5 4H9a4 4 0 0 1 3 1.354A4 4 0 0 1 15 4h5.5A2.5 2.5 0 0 1 23 6.5v11a2.5 2.5 0 0 1-2.5 2.5h-5.223c-.52 0-1 .125-1.4.372-.421.26-.761.633-.983 1.075a1 1 0 0 1-1.788 0 2.66 2.66 0 0 0-.983-1.075c-.4-.247-.88-.372-1.4-.372H3.5A2.5 2.5 0 0 1 1 17.5v-11ZM11 8a2 2 0 0 0-2-2H3.5a.5.5 0 0 0-.5.5v11a.5.5 0 0 0 .5.5h5.223c.776 0 1.564.173 2.277.569V8Zm2 10.569A4.7 4.7 0 0 1 15.277 18H20.5a.5.5 0 0 0 .5-.5v-11a.5.5 0 0 0-.5-.5H15a2 2 0 0 0-2 2v10.569Z"}),KX=zr({path:"M14.5 4a5.5 5.5 0 0 0-5.078 7.616 1 1 0 0 1-.216 1.092L4.37 17.543a1 1 0 0 0 0 1.414l.672.672a1 1 0 0 0 1.414 0l4.835-4.835a1 1 0 0 1 1.092-.216A5.5 5.5 0 0 0 20 9.414l-1.293 1.293a3.828 3.828 0 1 1-5.414-5.414L14.585 4 14.5 4ZM7 9.5a7.5 7.5 0 0 1 9.969-7.084 1 1 0 0 1 .378 1.651l-2.64 2.64a1.829 1.829 0 0 0 2.586 2.586l2.64-2.64a1 1 0 0 1 1.65.378 7.5 7.5 0 0 1-9.328 9.627l-4.384 4.385a3 3 0 0 1-4.242 0l-.672-.672a3 3 0 0 1 0-4.242l4.385-4.385A7.5 7.5 0 0 1 7 9.5Z"});function $X(){return null}function GX(e){const t=(0,i.c)(65),{_:s,i18n:n}=(0,ft.useLingui)(),[o,r]=FL(),[a,l]=CH();let c;t[0]!==s||t[1]!==n?(c={mutationFn:YX,onSuccess:e=>{Zu(s(St?{values:{0:n.number(Math.abs(e/1024/1024),{notation:"compact",style:"unit",unit:"megabyte"})},id:"KnR93A"}:{id:"APWc+S"}))}},t[0]=s,t[1]=n,t[2]=c):c=t[2];const{mutate:d,isPending:u}=(0,Sd.useMutation)(c);let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N;return t[3]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(dl,{}),t[3]=m):m=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(il,{children:[m,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"uyJsf6"})})}),(0,Ft.jsx)(cl,{})]}),t[4]=h):h=t[4],t[5]!==s?(p=s({id:"xowcRf"}),t[5]=s,t[6]=p):p=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(tW,{icon:QX}),t[7]=f):f=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"xowcRf"})}),t[8]=g):g=t[8],t[9]!==p?(x=(0,Ft.jsxs)(XU,{to:"https://bsky.social/about/support/tos",label:p,children:[f,g]}),t[9]=p,t[10]=x):x=t[10],t[11]!==s?(_=s({id:"LcET2C"}),t[11]=s,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(tW,{icon:QX}),t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"LcET2C"})}),t[14]=b):b=t[14],t[15]!==_?(j=(0,Ft.jsxs)(XU,{to:"https://bsky.social/about/support/privacy-policy",label:_,children:[y,b]}),t[15]=_,t[16]=j):j=t[16],t[17]!==s?(v=s({id:"SNoxqa"}),t[17]=s,t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(tW,{icon:eP}),t[19]=w):w=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"SNoxqa"})}),t[20]=S):S=t[20],t[21]!==v?(k=(0,Ft.jsxs)(XU,{to:bi,label:v,children:[w,S]}),t[21]=v,t[22]=k):k=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(nW,{}),t[23]=C):C=t[23],t[24]!==s?(P=s({id:"fP8jTZ"}),t[24]=s,t[25]=P):P=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(tW,{icon:ZX}),t[26]=T):T=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"fP8jTZ"})}),t[27]=L):L=t[27],t[28]!==P?(A=(0,Ft.jsxs)(XU,{to:"/sys/log",label:P,children:[T,L]}),t[28]=P,t[29]=A):A=t[29],t[30]!==s||t[31]!==u||t[32]!==d?(I=kt&&(0,Ft.jsxs)(eW,{onPress:()=>d(),label:s({id:"3vmoZB"}),disabled:u,children:[(0,Ft.jsx)(tW,{icon:WX}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"3vmoZB"})}),u&&(0,Ft.jsx)(tW,{icon:wv})]}),t[30]=s,t[31]=u,t[32]=d,t[33]=I):I=t[33],t[34]!==s?(R=s({id:"bE82ok",values:{appVersion:Yt}}),t[34]=s,t[35]=R):R=t[35],t[36]!==s?(D=s({id:"fyFJ26"}),t[36]=s,t[37]=D):D=t[37],t[38]!==s||t[39]!==o||t[40]!==r?(F=()=>{const e=!o;r(e),Zu(s(e?{id:"vBFSIP"}:{id:"hYm0F8"}))},t[38]=s,t[39]=o,t[40]=r,t[41]=F):F=t[41],t[42]!==s?(E=()=>{(0,rv.setStringAsync)(`Build version: ${Yt}; Bundle info: ${Jt}; Bundle date: ${Gt}; Platform: web; Platform version: ${xo.default.Version}; Anonymous ID: 10X_SOCIAL_OOPS`),Zu(s({id:"dA5Bz0"}))},t[42]=s,t[43]=E):E=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(tW,{icon:KX}),t[44]=M):M=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"bE82ok",values:{appVersion:Yt}})}),O=(0,Ft.jsx)(rW,{children:Jt}),t[45]=B,t[46]=O):(B=t[45],O=t[46]),t[47]!==R||t[48]!==D||t[49]!==F||t[50]!==E?(z=(0,Ft.jsxs)(eW,{label:R,accessibilityHint:D,onLongPress:F,onPress:E,children:[M,B,O]}),t[47]=R,t[48]=D,t[49]=F,t[50]=E,t[51]=z):z=t[51],t[52]!==a||t[53]!==o||t[54]!==u||t[55]!==l?(H=o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)($X,{}),wt&&(0,Ft.jsxs)(eW,{onPress:()=>{const e=!a;l(e),Zu("Demo mode "+(e?"enabled":"disabled"))},label:a?"Disable demo mode":"Enable demo mode",disabled:u,children:[(0,Ft.jsx)(tW,{icon:wB}),(0,Ft.jsx)(sW,{children:a?"Disable demo mode":"Enable demo mode"})]})]}),t[52]=a,t[53]=o,t[54]=u,t[55]=l,t[56]=H):H=t[56],t[57]!==j||t[58]!==k||t[59]!==A||t[60]!==I||t[61]!==z||t[62]!==H||t[63]!==x?(N=(0,Ft.jsxs)(_l,{children:[h,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[x,j,k,C,A,I,z,H]})})]}),t[57]=j,t[58]=k,t[59]=A,t[60]=I,t[61]=z,t[62]=H,t[63]=x,t[64]=N):N=t[64],N}async function YX(){const e=await Iu.getFreeDiskStorageAsync();await SS.Image.clearDiskCache();return-1*(e-await Iu.getFreeDiskStorageAsync())}const JX=zr({path:"M4 12a8 8 0 1 1 16 0 8 8 0 0 1-16 0Zm8-10C6.477 2 2 6.477 2 12s4.477 10 10 10 10-4.477 10-10S17.523 2 12 2Zm0 7.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Zm-2.86.26.014.002c.944.125 1.893.238 2.846.238.95 0 1.904-.113 2.846-.238l.014-.002h.003a1 1 0 0 1 .273 1.98l-.006.002-.017.002c-.67.089-1.341.162-2.014.21.195 1.32.65 2.33 1.626 3.357a1 1 0 0 1-1.45 1.378 8.3 8.3 0 0 1-1.234-1.647 8.2 8.2 0 0 1-1.342 1.673 1 1 0 0 1-1.398-1.43c.673-.658 1.088-1.274 1.342-1.922.163-.42.269-.878.32-1.404a33 33 0 0 1-2.075-.215l-.017-.002-.006-.001a1 1 0 0 1 .271-1.982l.004.001Z"}),XX=zr({path:"M9 5a1 1 0 0 0-1 1v12a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V6a1 1 0 0 0-1-1H9ZM6 6a3 3 0 0 1 3-3h6a3 3 0 0 1 3 3v12a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V6Zm4 1a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Zm-5.793.293a1 1 0 0 1 0 1.414L3.155 9.76a.546.546 0 0 0-.05.713c.678.906.678 2.15 0 3.056a.546.546 0 0 0 .05.713l1.052 1.052a1 1 0 1 1-1.414 1.414L1.74 15.655a2.546 2.546 0 0 1-.237-3.327.55.55 0 0 0 0-.655 2.546 2.546 0 0 1 .237-3.328l1.052-1.052a1 1 0 0 1 1.414 0Zm15.586 0a1 1 0 0 1 1.414 0l1.052 1.052c.896.896.997 2.314.237 3.327a.55.55 0 0 0 0 .656 2.546 2.546 0 0 1-.237 3.327l-1.052 1.052a1 1 0 0 1-1.414-1.414l1.052-1.052a.546.546 0 0 0 .05-.713 2.55 2.55 0 0 1 0-3.056.546.546 0 0 0-.05-.713l-1.052-1.052a1 1 0 0 1 0-1.414Z"});function e0(e){const t=(0,i.c)(43),{_:s}=(0,ft.useLingui)(),n=fc(),o=mt.useContext(hc),r=Sc(),a=kc(),l=rd(),c=mt.useContext(nd);let d,u,m,h,p,f;t[0]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(dl,{}),t[0]=d):d=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsxs)(il,{children:[d,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"AnNF5e"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=u):u=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.gap_sm],h=(0,Ft.jsx)(tW,{icon:JX}),t[2]=m,t[3]=h):(m=t[2],h=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"u/DP73"})}),t[4]=p):p=t[4],t[5]!==s?(f=s({id:"2d9VrZ"}),t[5]=s,t[6]=f):f=t[6];const g=n??!1;let x,_,y,b,j,v;t[7]!==o?(x=e=>o(e),t[7]=o,t[8]=x):x=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.w_full],t[9]=_):_=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"2d9VrZ"})}),b=(0,Ft.jsx)(mI,{}),t[10]=y,t[11]=b):(y=t[10],b=t[11]),t[12]!==f||t[13]!==g||t[14]!==x?(j=(0,Ft.jsxs)(iI,{name:"require_alt_text",label:f,value:g,onChange:x,style:_,children:[y,b]}),t[12]=f,t[13]=g,t[14]=x,t[15]=j):j=t[15],t[16]!==s?(v=s({id:"dW9jIz"}),t[16]=s,t[17]=v):v=t[17];const w=!!l;let S,k,C,P,T,L,A,I,R,D,F;return t[18]!==c?(S=e=>c(e),t[18]=c,t[19]=S):S=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.w_full],t[20]=k):k=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"dW9jIz"})}),P=(0,Ft.jsx)(mI,{}),t[21]=C,t[22]=P):(C=t[21],P=t[22]),t[23]!==v||t[24]!==w||t[25]!==S?(T=(0,Ft.jsxs)(iI,{name:"large_alt_badge",label:v,value:w,onChange:S,style:k,children:[C,P]}),t[23]=v,t[24]=w,t[25]=S,t[26]=T):T=t[26],t[27]!==j||t[28]!==T?(L=(0,Ft.jsxs)(YU,{contentContainerStyle:m,children:[h,p,j,T]}),t[27]=j,t[28]=T,t[29]=L):L=t[29],t[30]!==s||t[31]!==r||t[32]!==a?(A=kt&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(nW,{}),(0,Ft.jsxs)(YU,{contentContainerStyle:[kl.gap_sm],children:[(0,Ft.jsx)(tW,{icon:XX}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"EBRcBj"})}),(0,Ft.jsxs)(iI,{name:"haptics",label:s({id:"7J/NOa"}),value:r??!1,onChange:e=>a(e),style:[kl.w_full],children:[(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"7J/NOa"})}),(0,Ft.jsx)(mI,{})]})]})]}),t[30]=s,t[31]=r,t[32]=a,t[33]=A):A=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.flex_1],t[34]=I):I=t[34],t[35]!==s?(R=s({id:"jaQv9r"}),t[35]=s,t[36]=R):R=t[36],t[37]!==R?(D=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"info",style:I,children:(0,Ft.jsx)(ft.Trans,{id:"d5WmQF",components:{0:(0,Ft.jsx)(fv,{to:"/settings/content-and-media",label:R})}})})}),t[37]=R,t[38]=D):D=t[38],t[39]!==L||t[40]!==A||t[41]!==D?(F=(0,Ft.jsxs)(_l,{children:[u,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[L,A,D]})})]}),t[39]=L,t[40]=A,t[41]=D,t[42]=F):F=t[42],F}const t0=zr({path:"M7.018 6a1 1 0 0 0-.808.412L5.4 5.824l.809.588L3 10.825V17a1 1 0 1 0 2 0 1 1 0 0 1 1-1h12a1 1 0 0 1 1 1 1 1 0 1 0 2 0v-5.998l-3.22-4.577A1 1 0 0 0 16.962 6H7.018ZM23 11.686V17a3 3 0 0 1-5.83 1H6.83A3.001 3.001 0 0 1 1 17v-5.5a1 1 0 1 1 0-2h.49l3.102-4.265A3 3 0 0 1 7.018 4h9.944a3 3 0 0 1 2.453 1.274l3.104 4.412H23a1 1 0 1 1 0 2ZM5 13a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2H6a1 1 0 0 1-1-1Zm10 0a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}),s0=zr({path:"M8.789 2.293a1 1 0 0 1 1.414 0l1.793 1.793 1.793-1.793a1 1 0 1 1 1.414 1.414l-2.207 2.207v4.355l3.772-2.178.808-3.015a1 1 0 1 1 1.931.518l-.656 2.449 2.45.656a1 1 0 1 1-.518 1.932l-3.015-.808L13.998 12l3.77 2.177 3.015-.808a1 1 0 1 1 .517 1.932l-2.449.656.657 2.45a1 1 0 1 1-1.932.517l-.808-3.015-3.772-2.178v4.355l2.207 2.207a1 1 0 0 1-1.414 1.414l-1.793-1.793-1.793 1.793a1 1 0 0 1-1.414-1.414l2.207-2.207v-4.353l-3.77 2.176-.807 3.015a1 1 0 0 1-1.932-.518l.656-2.449-2.449-.656a1 1 0 1 1 .518-1.932l3.015.808L9.997 12l-3.77-2.177-3.015.808a1 1 0 0 1-.518-1.932l2.45-.656-.657-2.45a1 1 0 0 1 1.932-.517l.808 3.015 3.77 2.176V5.914L8.788 3.707a1 1 0 0 1 0-1.414Z"}),n0=zr({path:"M8 8V3a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1h-5v5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h5Zm1 8a1 1 0 0 1-1-1v-5H4v10h10v-4H9Z"}),o0=["style","value","onPress"];function r0(e){const t=(0,i.c)(25);let s,n,o,r;if(t[0]!==e){var a=e;({style:o,value:r,onPress:s}=a),n=(0,ls.default)(a,o0),t[0]=e,t[1]=s,t[2]=n,t[3]=o,t[4]=r}else s=t[1],n=t[2],o=t[3],r=t[4];const[l,c]=(0,mt.useState)(!1),d=ec(),u=(0,ko.useReducedMotion)();let m,h,p;t[5]!==l||t[6]!==u?(m=()=>{if(l){const e=setTimeout((()=>c(!1)),u?2e3:100);return()=>clearTimeout(e)}},h=[l,u],t[5]=l,t[6]=u,t[7]=m,t[8]=h):(m=t[7],h=t[8]),(0,mt.useEffect)(m,h),t[9]!==s||t[10]!==r?(p=e=>{rv.setStringAsync(r),c(!0),s?.(e)},t[9]=s,t[10]=r,t[11]=p):p=t[11];const f=p;let g,x,_,y,b;return t[12]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.relative],t[12]=g):g=t[12],t[13]!==l||t[14]!==d?(x=l&&(0,Ft.jsx)(ko.default.View,{entering:ko.ZoomIn.duration(100),exiting:ko.FadeOutUp.duration(2e3),style:[kl.absolute,{bottom:"100%",right:0},kl.justify_center,kl.gap_sm,kl.z_10,kl.pb_sm],pointerEvents:"none",children:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_right,kl.text_md,d.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"PiH3UR"})})}),t[13]=l,t[14]=d,t[15]=x):x=t[15],t[16]!==o?(_=[kl.flex_1,kl.justify_between,o],t[16]=o,t[17]=_):_=t[17],t[18]!==f||t[19]!==n||t[20]!==_?(y=(0,Ft.jsx)(Sr,Object.assign({style:_,onPress:f},n)),t[18]=f,t[19]=n,t[20]=_,t[21]=y):y=t[21],t[22]!==x||t[23]!==y?(b=(0,Ft.jsxs)(wo.default,{style:g,children:[x,y]}),t[22]=x,t[23]=y,t[24]=b):b=t[24],b}function i0(e){const t=(0,i.c)(6),{control:s}=e,{height:n}=(0,Ny.default)();let o,r,a;return t[0]!==n?(o={minHeight:n},t[0]=n,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(a0,{}),t[2]=r):r=t[2],t[3]!==s||t[4]!==o?(a=(0,Ft.jsx)(aa,{control:s,nativeOptions:o,children:r}),t[3]=s,t[4]=o,t[5]=a):a=t[5],a}function a0(){const e=(0,i.c)(22),t=Lr(),{_:s}=(0,ft.useLingui)(),n=bh();let o;e[0]!==n.serviceUrl?(o=n.serviceUrl.toString(),e[0]=n.serviceUrl,e[1]=o):o=e[1];const{data:r,error:a,refetch:l}=$W(o),[c,d]=(0,mt.useState)("provided-handle");let u;e[2]!==s||e[3]!==t?(u=()=>(0,Ft.jsx)(Sr,{label:s({id:"dEgA5A"}),onPress:()=>t.close(),size:"small",color:"primary",variant:"ghost",style:[kl.rounded_full],children:(0,Ft.jsx)(Cr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})})}),e[2]=s,e[3]=t,e[4]=u):u=e[4];const m=u;let h,p,f,g,x,_,y;return e[5]!==s?(h=s({id:"Q5e1U/"}),e[5]=s,e[6]=h):h=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Qr,{children:(0,Ft.jsx)(ft.Trans,{id:"Q5e1U/"})}),e[7]=p):p=e[7],e[8]!==m?(f=(0,Ft.jsx)(Zr,{renderLeft:m,children:p}),e[8]=m,e[9]=f):f=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.pt_0,kl.px_0],e[10]=g):g=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_1,kl.pt_lg,kl.px_xl],e[11]=x):x=e[11],e[12]!==s||e[13]!==c||e[14]!==l||e[15]!==r||e[16]!==a?(_=(0,Ft.jsx)(wo.default,{style:x,children:a?(0,Ft.jsx)(UD,{title:s({id:"5yIPLp"}),message:s({id:"ZEyUs5"}),details:ds(a),onPressTryAgain:l}):r?(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:"provided-handle"===c?(0,Ft.jsx)(ko.default.View,{entering:jo(ko.SlideInLeft),exiting:jo(ko.SlideOutLeft),children:(0,Ft.jsx)(l0,{serviceInfo:r,goToOwnHandle:()=>d("own-handle")})},c):(0,Ft.jsx)(ko.default.View,{entering:jo(ko.SlideInRight),exiting:jo(ko.SlideOutRight),children:(0,Ft.jsx)(c0,{goToServiceHandle:()=>d("provided-handle")})},c)}):(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.justify_center,kl.align_center,kl.py_4xl],children:(0,Ft.jsx)(wv,{size:"xl"})})}),e[12]=s,e[13]=c,e[14]=l,e[15]=r,e[16]=a,e[17]=_):_=e[17],e[18]!==h||e[19]!==f||e[20]!==_?(y=(0,Ft.jsx)(da,{label:h,header:f,contentContainerStyle:g,children:_}),e[18]=h,e[19]=f,e[20]=_,e[21]=y):y=e[21],y}function l0(e){const t=(0,i.c)(88),{serviceInfo:s,goToOwnHandle:n}=e,{_:o}=(0,ft.useLingui)(),[r,a]=(0,mt.useState)(""),l=bh(),c=Lr(),{currentAccount:d}=xh(),u=(0,wd.useQueryClient)(),m=zk();let h;t[0]!==m?(h={profile:m},t[0]=m,t[1]=h):h=t[1];const p=Nk(h);let f;t[2]!==l||t[3]!==c||t[4]!==d||t[5]!==u?(f={onSuccess:()=>{d&&u.invalidateQueries({queryKey:lb(d.did)}),l.resumeSession(l.session).then((()=>c.close()))}},t[2]=l,t[3]=c,t[4]=d,t[5]=u,t[6]=f):f=t[6];const{mutate:g,isPending:x,error:_,isSuccess:y}=XQ(f),b=s.availableUserDomains[0];let j,v;t[7]!==b||t[8]!==r?(v=nu(r,b),t[7]=b,t[8]=r,t[9]=v):v=t[9],j=v;const w=j,S=!w.handleChars||!w.hyphenStartOrEnd||!w.totalLength;let k,C,P,T,L,A,I,R;t[10]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.flex_1,kl.gap_md],t[10]=k):k=t[10],t[11]!==o||t[12]!==y?(C=y&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(m0,{text:o({id:"1EXUCU"})})}),t[11]=o,t[12]=y,t[13]=C):C=t[13],t[14]!==_?(P=_&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(u0,{error:_})}),t[14]=_,t[15]=P):P=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(T=jo(ko.LinearTransition),L=[kl.flex_1,kl.gap_md],t[16]=T,t[17]=L):(T=t[16],L=t[17]),t[18]!==o||t[19]!==p.isVerified||t[20]!==p.role?(A=p.isVerified&&"default"===p.role&&(0,Ft.jsx)(Uj,{type:"error",children:(0,Ft.jsx)(ft.Trans,{id:"rtcGXC",components:{0:(0,Ft.jsx)(fv,{label:o({id:"zwWKhA"}),to:Zi.website.blog.initialVerificationAnnouncement})}})}),t[18]=o,t[19]=p.isVerified,t[20]=p.role,t[21]=A):A=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"2uxKUz"})}),t[22]=I):I=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(sa,{icon:nZ}),t[23]=R):R=t[23];const D=!x;let F,E,M,B,O,z,H,N,V,q,U,W;t[24]===Symbol.for("react.memo_cache_sentinel")?(F=e=>a(e),t[24]=F):F=t[24],t[25]!==o?(E=o({id:"2uxKUz"}),t[25]=o,t[26]=E):E=t[26],t[27]!==o?(M=o({id:"YZJ/Ve"}),t[27]=o,t[28]=M):M=t[28],t[29]!==r||t[30]!==D||t[31]!==E||t[32]!==M?(B=(0,Ft.jsx)(ea,{editable:D,defaultValue:r,onChangeText:F,label:E,placeholder:M,autoCapitalize:"none",autoCorrect:!1}),t[29]=r,t[30]=D,t[31]=E,t[32]=M,t[33]=B):B=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(O=[{maxWidth:"40%"}],t[34]=O):O=t[34],t[35]!==b?(z=(0,Ft.jsx)(na,{label:b,style:O,children:b}),t[35]=b,t[36]=z):z=t[36],t[37]!==S||t[38]!==B||t[39]!==z?(H=(0,Ft.jsxs)(wo.default,{children:[I,(0,Ft.jsxs)(Yi,{isInvalid:S,children:[R,B,z]})]}),t[37]=S,t[38]=B,t[39]=z,t[40]=H):H=t[40],t[41]!==b||t[42]!==r?(N=eu(r,b),t[41]=b,t[42]=r,t[43]=N):N=t[43],t[44]!==N?(V={0:N},t[44]=N,t[45]=V):V=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(q={0:(0,Ft.jsx)(fr,{style:[kl.font_bold]})},t[46]=q):q=t[46],t[47]!==V?(U=(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"dZ3j0E",values:V,components:q})}),t[47]=V,t[48]=U):U=t[48],t[49]!==o?(W=o({id:"G6Ev2x"}),t[49]=o,t[50]=W):W=t[50];const Z=w.overall?"primary":"secondary",Q=!w.overall;let K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie;return t[51]!==g||t[52]!==b||t[53]!==r||t[54]!==w.overall?(K=()=>{w.overall&&g({handle:eu(r,b)})},t[51]=g,t[52]=b,t[53]=r,t[54]=w.overall,t[55]=K):K=t[55],t[56]!==x?($=x?(0,Ft.jsx)(Pr,{icon:wv}):(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),t[56]=x,t[57]=$):$=t[57],t[58]!==W||t[59]!==Z||t[60]!==Q||t[61]!==K||t[62]!==$?(G=(0,Ft.jsx)(Sr,{label:W,variant:"solid",size:"large",color:Z,disabled:Q,onPress:K,children:$}),t[58]=W,t[59]=Z,t[60]=Q,t[61]=K,t[62]=$,t[63]=G):G=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(Y=[kl.leading_snug],t[64]=Y):Y=t[64],t[65]!==o?(J=o({id:"OC8jO8"}),t[65]=o,t[66]=J):J=t[66],t[67]===Symbol.for("react.memo_cache_sentinel")?(X=[kl.font_bold],t[67]=X):X=t[67],t[68]!==J?(ee=(0,Ft.jsx)(fr,{style:Y,children:(0,Ft.jsx)(ft.Trans,{id:"U59W9N",components:{0:(0,Ft.jsx)(fv,{label:J,to:"https://bsky.social/about/blog/4-28-2023-domain-handle-tutorial",style:X,disableMismatchWarning:!0})}})}),t[68]=J,t[69]=ee):ee=t[69],t[70]!==o?(te=o({id:"wey2os"}),t[70]=o,t[71]=te):te=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(se=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"wey2os"})}),ne=(0,Ft.jsx)(Pr,{icon:nl,position:"right"}),t[72]=se,t[73]=ne):(se=t[72],ne=t[73]),t[74]!==n||t[75]!==te?(oe=(0,Ft.jsxs)(Sr,{label:te,variant:"outline",color:"primary",size:"large",onPress:n,children:[se,ne]}),t[74]=n,t[75]=te,t[76]=oe):oe=t[76],t[77]!==A||t[78]!==H||t[79]!==U||t[80]!==G||t[81]!==ee||t[82]!==oe?(re=(0,Ft.jsxs)(ko.default.View,{layout:T,style:L,children:[A,H,U,G,ee,oe]}),t[77]=A,t[78]=H,t[79]=U,t[80]=G,t[81]=ee,t[82]=oe,t[83]=re):re=t[83],t[84]!==re||t[85]!==C||t[86]!==P?(ie=(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,children:(0,Ft.jsxs)(wo.default,{style:k,children:[C,P,re]})}),t[84]=re,t[85]=C,t[86]=P,t[87]=ie):ie=t[87],ie}function c0(e){const t=(0,i.c)(119),{goToServiceHandle:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),{currentAccount:r}=xh(),[a,l]=(0,mt.useState)(!0),[c,d]=(0,mt.useState)(""),u=bh(),m=Lr(),h=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n=async e=>t.fetchQuery({staleTime:Ld.INFINITY,queryKey:JQ(e),queryFn:async()=>{let t=e;return t.startsWith("did:")||(t=(await s.resolveHandle({handle:t})).data.did),t}}),e[0]=s,e[1]=t,e[2]=n):n=e[2],n}(),p=(0,wd.useQueryClient)();let f;t[0]!==u||t[1]!==m||t[2]!==r||t[3]!==p?(f={onSuccess:()=>{r&&p.invalidateQueries({queryKey:lb(r.did)}),u.resumeSession(u.session).then((()=>m.close()))}},t[0]=u,t[1]=m,t[2]=r,t[3]=p,t[4]=f):f=t[4];const{mutate:g,isPending:x,error:_,isSuccess:y}=XQ(f);let b,j,v;t[5]!==c?(b=["verify-handle",c],t[5]=c,t[6]=b):b=t[6],t[7]!==r?.did||t[8]!==c||t[9]!==h?(j=async()=>{const e=await h(c);if(e!==r?.did)throw new d0(e);return!0},t[7]=r?.did,t[8]=c,t[9]=h,t[10]=j):j=t[10],t[11]!==b||t[12]!==j?(v={mutationKey:b,mutationFn:j},t[11]=b,t[12]=j,t[13]=v):v=t[13];const{mutate:w,isPending:S,isSuccess:k,error:C,reset:P}=(0,Sd.useMutation)(v);let T,L,A,I,R,D,F,E,M,B;t[14]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.flex_1,kl.gap_lg],t[14]=T):T=t[14],t[15]!==n||t[16]!==y?(L=y&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(m0,{text:n({id:"1EXUCU"})})}),t[15]=n,t[16]=y,t[17]=L):L=t[17],t[18]!==_?(A=_&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(u0,{error:_})}),t[18]=_,t[19]=A):A=t[19],t[20]!==C?(I=C&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(Uj,{type:"error",children:C instanceof d0?(0,Ft.jsx)(ft.Trans,{id:"sxGRF8",values:{0:C.did}}):(0,Ft.jsx)(ft.Trans,{id:"Tz7gtF"})})}),t[20]=C,t[21]=I):I=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(D=jo(ko.LinearTransition),R=[kl.flex_1,kl.gap_md,kl.overflow_hidden],t[22]=R,t[23]=D):(R=t[22],D=t[23]),t[24]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"BfIgP6"})}),t[24]=F):F=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(sa,{icon:nZ}),t[25]=E):E=t[25],t[26]!==n?(M=n({id:"2uxKUz"}),t[26]=n,t[27]=M):M=t[27],t[28]!==n?(B=n({id:"weTf5j"}),t[28]=n,t[29]=B):B=t[29];const O=!x;let z,H,N;t[30]!==P?(z=e=>{d(e),P()},t[30]=P,t[31]=z):z=t[31],t[32]!==c||t[33]!==M||t[34]!==B||t[35]!==O||t[36]!==z?(H=(0,Ft.jsxs)(wo.default,{children:[F,(0,Ft.jsxs)(Yi,{children:[E,(0,Ft.jsx)(ea,{label:M,placeholder:B,editable:O,defaultValue:c,onChangeText:z,autoCapitalize:"none",autoCorrect:!1})]})]}),t[32]=c,t[33]=M,t[34]=B,t[35]=O,t[36]=z,t[37]=H):H=t[37],t[38]!==n?(N=n({id:"qZx4IW"}),t[38]=n,t[39]=N):N=t[39];const V=a?"dns":"file";let q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne;t[40]!==V?(q=[V],t[40]=V,t[41]=q):q=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(U=e=>l("dns"===e[0]),t[42]=U):U=t[42],t[43]!==n?(W=n({id:"MAEhBJ"}),t[43]=n,t[44]=W):W=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(_I,{children:(0,Ft.jsx)(ft.Trans,{id:"MAEhBJ"})}),t[45]=Z):Z=t[45],t[46]!==W?(Q=(0,Ft.jsx)(gI,{name:"dns",label:W,children:Z}),t[46]=W,t[47]=Q):Q=t[47],t[48]!==n?(K=n({id:"CX2YJd"}),t[48]=n,t[49]=K):K=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?($=(0,Ft.jsx)(_I,{children:(0,Ft.jsx)(ft.Trans,{id:"CX2YJd"})}),t[50]=$):$=t[50],t[51]!==K?(G=(0,Ft.jsx)(gI,{name:"file",label:K,children:$}),t[51]=K,t[52]=G):G=t[52],t[53]!==N||t[54]!==q||t[55]!==Q||t[56]!==G?(Y=(0,Ft.jsxs)(fI,{label:N,values:q,onChange:U,children:[Q,G]}),t[53]=N,t[54]=q,t[55]=Q,t[56]=G,t[57]=Y):Y=t[57],t[58]!==n||t[59]!==r?.did||t[60]!==a||t[61]!==c||t[62]!==o.atoms.bg_contrast_25||t[63]!==o.atoms.border_contrast_low||t[64]!==o.atoms.text_contrast_medium?(J=a?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"x6laaL"})}),(0,Ft.jsxs)(wo.default,{style:[o.atoms.bg_contrast_25,kl.rounded_sm,kl.p_md,kl.border,o.atoms.border_contrast_low],children:[(0,Ft.jsx)(fr,{style:[o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"zwE9Td"})}),(0,Ft.jsx)(wo.default,{style:[kl.py_xs],children:(0,Ft.jsxs)(r0,{variant:"solid",color:"secondary",value:"_atproto",label:n({id:"YYVxgQ"}),hoverStyle:[kl.bg_transparent],hitSlop:vi,children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:"_atproto"}),(0,Ft.jsx)(Pr,{icon:n0})]})}),(0,Ft.jsx)(fr,{style:[kl.mt_xs,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"lMdXuD"})}),(0,Ft.jsx)(wo.default,{style:[kl.py_xs],children:(0,Ft.jsx)(fr,{style:[kl.text_md],children:"TXT"})}),(0,Ft.jsx)(fr,{style:[kl.mt_xs,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"1/40so"})}),(0,Ft.jsx)(wo.default,{style:[kl.py_xs],children:(0,Ft.jsxs)(r0,{variant:"solid",color:"secondary",value:"did="+r?.did,label:n({id:"E07nyi"}),hoverStyle:[kl.bg_transparent],hitSlop:vi,children:[(0,Ft.jsxs)(fr,{style:[kl.text_md,kl.flex_1],children:["did=",r?.did]}),(0,Ft.jsx)(Pr,{icon:n0})]})})]}),(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"6bGciP"})}),(0,Ft.jsx)(wo.default,{style:[o.atoms.bg_contrast_25,kl.rounded_sm,kl.p_md,kl.border,o.atoms.border_contrast_low],children:(0,Ft.jsxs)(fr,{style:[kl.text_md],children:["_atproto.",c]})})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"Vwkfp4"})}),(0,Ft.jsx)(wo.default,{style:[o.atoms.bg_contrast_25,kl.rounded_sm,kl.p_md,kl.border,o.atoms.border_contrast_low],children:(0,Ft.jsxs)(fr,{style:[kl.text_md],children:["https://",c,"/.well-known/atproto-did"]})}),(0,Ft.jsx)(fr,{children:(0,Ft.jsx)(ft.Trans,{id:"uNxEzQ"})}),(0,Ft.jsxs)(r0,{value:r?.did??"",label:n({id:"f56KS4"}),size:"large",variant:"solid",color:"secondary",style:[kl.px_md,kl.border,o.atoms.border_contrast_low],children:[(0,Ft.jsx)(fr,{style:[kl.text_md,kl.flex_1],children:r?.did}),(0,Ft.jsx)(Pr,{icon:n0})]})]}),t[58]=n,t[59]=r?.did,t[60]=a,t[61]=c,t[62]=o.atoms.bg_contrast_25,t[63]=o.atoms.border_contrast_low,t[64]=o.atoms.text_contrast_medium,t[65]=J):J=t[65],t[66]!==H||t[67]!==Y||t[68]!==J?(X=(0,Ft.jsxs)(ko.default.View,{layout:D,style:R,children:[H,Y,J]}),t[66]=H,t[67]=Y,t[68]=J,t[69]=X):X=t[69],t[70]!==n||t[71]!==k?(ee=k&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,layout:jo(ko.LinearTransition),children:(0,Ft.jsx)(m0,{text:n({id:"iZ5pMB"})})}),t[70]=n,t[71]=k,t[72]=ee):ee=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(te=jo(ko.LinearTransition),t[73]=te):te=t[73],t[74]!==r?.handle?(se=r?.handle?.endsWith(".bsky.social")&&(0,Ft.jsx)(Uj,{type:"info",style:[kl.mb_md],children:(0,Ft.jsx)(ft.Trans,{id:"rlC9XR",values:{0:su(r?.handle||"","@")},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold]})}})}),t[74]=r?.handle,t[75]=se):se=t[75],t[76]!==n||t[77]!==a||t[78]!==c||t[79]!==k?(ne=n(k?{id:"NFr2Bq",values:{domain:c}}:a?{id:"MPzp/2"}:{id:"ySvaBI"}),t[76]=n,t[77]=a,t[78]=c,t[79]=k,t[80]=ne):ne=t[80];const oe=0===c.trim().length;let re,ie,ae,le,ce,de,ue,me,he,pe,fe;return t[81]!==g||t[82]!==c||t[83]!==k||t[84]!==w?(re=()=>{k?g({handle:c}):w()},t[81]=g,t[82]=c,t[83]=k,t[84]=w,t[85]=re):re=t[85],t[86]!==a||t[87]!==c||t[88]!==x||t[89]!==k||t[90]!==S?(ie=x||S?(0,Ft.jsx)(Pr,{icon:wv}):(0,Ft.jsx)(Cr,{children:k?(0,Ft.jsx)(ft.Trans,{id:"NFr2Bq",values:{domain:c}}):a?(0,Ft.jsx)(ft.Trans,{id:"MPzp/2"}):(0,Ft.jsx)(ft.Trans,{id:"ySvaBI"})}),t[86]=a,t[87]=c,t[88]=x,t[89]=k,t[90]=S,t[91]=ie):ie=t[91],t[92]!==ne||t[93]!==oe||t[94]!==re||t[95]!==ie?(ae=(0,Ft.jsx)(Sr,{label:ne,variant:"solid",size:"large",color:"primary",disabled:oe,onPress:re,children:ie}),t[92]=ne,t[93]=oe,t[94]=re,t[95]=ie,t[96]=ae):ae=t[96],t[97]!==n?(le=n({id:"CH1am9"}),t[97]=n,t[98]=le):le=t[98],t[99]!==n?(ce=n({id:"wpAjsg"}),t[99]=n,t[100]=ce):ce=t[100],t[101]===Symbol.for("react.memo_cache_sentinel")?(de=[kl.mt_sm],ue=(0,Ft.jsx)(Pr,{icon:sl,position:"left"}),t[101]=de,t[102]=ue):(de=t[101],ue=t[102]),t[103]===Symbol.for("react.memo_cache_sentinel")?(me=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"KWVr7D"})}),t[103]=me):me=t[103],t[104]!==s||t[105]!==le||t[106]!==ce?(he=(0,Ft.jsxs)(Sr,{label:le,accessibilityHint:ce,onPress:s,variant:"outline",color:"secondary",size:"large",style:de,children:[ue,me]}),t[104]=s,t[105]=le,t[106]=ce,t[107]=he):he=t[107],t[108]!==se||t[109]!==ae||t[110]!==he?(pe=(0,Ft.jsxs)(ko.default.View,{layout:te,children:[se,ae,he]}),t[108]=se,t[109]=ae,t[110]=he,t[111]=pe):pe=t[111],t[112]!==X||t[113]!==ee||t[114]!==pe||t[115]!==L||t[116]!==A||t[117]!==I?(fe=(0,Ft.jsxs)(wo.default,{style:T,children:[L,A,I,X,ee,pe]}),t[112]=X,t[113]=ee,t[114]=pe,t[115]=L,t[116]=A,t[117]=I,t[118]=fe):fe=t[118],fe}class d0 extends Error{constructor(e){super("DID mismatch"),this.name="DidMismatchError",this.did=e}}function u0(e){const t=(0,i.c)(14),{error:s}=e,{_:n}=(0,ft.useLingui)();let o;t[0]!==n?(o=n({id:"t9qHZ+"}),t[0]=n,t[1]=o):o=t[1];let r,a=o;if(s instanceof Error)if(s.message.startsWith("Handle already taken")){let e;t[2]!==n?(e=n({id:"2+OoLw"}),t[2]=n,t[3]=e):e=t[3],a=e}else if("Reserved handle"===s.message){let e;t[4]!==n?(e=n({id:"atHC5c"}),t[4]=n,t[5]=e):e=t[5],a=e}else if("Handle too long"===s.message){let e;t[6]!==n?(e=n({id:"kjWNi6"}),t[6]=n,t[7]=e):e=t[7],a=e}else if("Input/handle must be a valid handle"===s.message){let e;t[8]!==n?(e=n({id:"7eKeEy"}),t[8]=n,t[9]=e):e=t[9],a=e}else if("Rate Limit Exceeded"===s.message){let e;t[10]!==n?(e=n({id:"FxOKJM"}),t[10]=n,t[11]=e):e=t[11],a=e}return t[12]!==a?(r=(0,Ft.jsx)(Uj,{type:"error",children:a}),t[12]=a,t[13]=r):r=t[13],r}function m0(e){const t=(0,i.c)(18),{text:s}=e,{gtMobile:n}=ql(),o=ec(),r=n?kl.px_md:kl.px_sm;let a,l,c,d,u,m,h,p;return t[0]!==o.atoms.border_contrast_low||t[1]!==r?(a=[kl.flex_1,kl.gap_md,kl.flex_row,kl.justify_center,kl.align_center,r,kl.py_xs,o.atoms.border_contrast_low],t[0]=o.atoms.border_contrast_low,t[1]=r,t[2]=a):a=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(l={height:20,width:20},t[3]=l):l=t[3],t[4]!==o.palette.positive_600?(c=[l,kl.rounded_full,kl.align_center,kl.justify_center,{backgroundColor:o.palette.positive_600}],t[4]=o.palette.positive_600,t[5]=c):c=t[5],t[6]!==o.palette.white?(d=(0,Ft.jsx)(Zj,{fill:o.palette.white,size:"xs"}),t[6]=o.palette.white,t[7]=d):d=t[7],t[8]!==c||t[9]!==d?(u=(0,Ft.jsx)(wo.default,{style:c,children:d}),t[8]=c,t[9]=d,t[10]=u):u=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.text_md],t[11]=m):m=t[11],t[12]!==s?(h=(0,Ft.jsx)(fr,{style:m,children:s}),t[12]=s,t[13]=h):h=t[13],t[14]!==a||t[15]!==u||t[16]!==h?(p=(0,Ft.jsxs)(wo.default,{style:a,children:[u,h]}),t[14]=a,t[15]=u,t[16]=h,t[17]=p):p=t[17],p}function h0(e){const t=(0,i.c)(5),{control:s}=e;let n,o;return t[0]!==s?(n=(0,Ft.jsx)(p0,{control:s}),t[0]=s,t[1]=n):n=t[1],t[2]!==s||t[3]!==n?(o=(0,Ft.jsx)(px,{control:s,children:n}),t[2]=s,t[3]=n,t[4]=o):o=t[4],o}function p0({control:e}){const t=ec(),{gtMobile:s}=ql(),{_:n}=(0,ft.useLingui)(),o=bh(),{logoutCurrentAccount:r}=_h(),[i,a]=mt.useState(!1),[l,c]=mt.useState(),d=mt.useCallback((async()=>{try{a(!0),await o.com.atproto.server.deactivateAccount({}),e.close((()=>{r("Deactivated")}))}catch(t){if("Bad token scope"===t.message)c(n({id:"W8A0aT"}));else c(n({id:"qny5F6"}));ys.error(t,{message:"Failed to deactivate account"})}finally{a(!1)}}),[o,e,r,n,a]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fx,{children:n({id:"bm0hju"})}),(0,Ft.jsx)(gx,{children:(0,Ft.jsx)(ft.Trans,{id:"jPKBV3"})}),(0,Ft.jsxs)(wo.default,{style:[kl.pb_xl],children:[(0,Ft.jsx)(Iv,{}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,kl.pt_lg,kl.pb_xl],children:[(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"tXaf8O"})}),(0,Ft.jsx)(fr,{style:[t.atoms.text_contrast_medium,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"pDHYg7"})})]}),(0,Ft.jsx)(Iv,{})]}),(0,Ft.jsxs)(xx,{children:[(0,Ft.jsxs)(Sr,{variant:"solid",color:"negative",size:s?"small":"large",label:n({id:"nnfo5S"}),onPress:d,children:[(0,Ft.jsx)(Cr,{children:n({id:"nnfo5S"})}),i&&(0,Ft.jsx)(Pr,{icon:wv,position:"right"})]}),(0,Ft.jsx)(_x,{})]}),l&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.mt_md,kl.p_md,kl.rounded_sm,t.atoms.bg_contrast_25],children:[(0,Ft.jsx)(Ij,{size:"md",fill:t.palette.negative_400}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.leading_snug],children:l})]})]})}const f0=zr({path:"M12 3a1 1 0 0 1 1 1v8.086l1.793-1.793a1 1 0 1 1 1.414 1.414l-3.5 3.5a1 1 0 0 1-1.414 0l-3.5-3.5a1 1 0 1 1 1.414-1.414L11 12.086V4a1 1 0 0 1 1-1ZM4 14a1 1 0 0 1 1 1v4h14v-4a1 1 0 1 1 2 0v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1v-5a1 1 0 0 1 1-1Z"});function g0({control:e}){const{_:t}=(0,ft.useLingui)(),s=ec(),n=bh(),[o,r]=mt.useState(!1),i=mt.useCallback((async()=>{if(n.session)try{r(!0);const e=n.session.did,s=await n.com.atproto.sync.getRepo({did:e});await zu("repo.car",s.data,s.headers["content-type"]||"application/vnd.ipld.car")&&Zu(t({id:"MCqxGN"}))}catch(s){ys.error("Error occurred while downloading CAR file",{message:s}),Zu(t({id:"OkfWor"}),"xmark")}finally{r(!1),e.close()}}),[t,e,n]);return(0,Ft.jsxs)(aa,{control:e,children:[(0,Ft.jsx)(ha,{}),(0,Ft.jsx)(da,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,Ft.jsxs)(wo.default,{style:[kl.relative,kl.gap_lg,kl.w_full],children:[(0,Ft.jsx)(fr,{nativeID:"dialog-title",style:[kl.text_2xl,kl.font_heavy],children:(0,Ft.jsx)(ft.Trans,{id:"+4XIMb"})}),(0,Ft.jsx)(fr,{nativeID:"dialog-description",style:[kl.text_sm,kl.leading_normal,s.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"qh/7le"})}),(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",size:"large",label:t({id:"GMXFIB"}),disabled:o,onPress:i,children:[(0,Ft.jsx)(Pr,{icon:f0}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"GMXFIB"})}),o&&(0,Ft.jsx)(Pr,{icon:wv})]}),(0,Ft.jsx)(fr,{style:[s.atoms.text_contrast_medium,kl.text_sm,kl.leading_snug,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"DgGFfG",components:{0:(0,Ft.jsx)(fv,{label:t({id:"wVd4pI"}),to:"https://docs.bsky.app/blog/repo-export",style:[kl.text_sm]})}})})]})})]})}function x0(e){const t=(0,i.c)(112),s=ec(),{_:n}=(0,ft.useLingui)(),{currentAccount:o}=xh(),{openModal:r}=Zd(),a=Yv(),l=Ar(),c=Ar(),d=Ar(),u=Ar();let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe;return t[0]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(dl,{}),t[0]=m):m=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsxs)(il,{children:[m,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"AeXO77"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=h):h=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(tW,{icon:Dv}),t[2]=p):p=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(sW,{style:[kl.flex_0],children:(0,Ft.jsx)(ft.Trans,{id:"O3oNi5"})}),t[3]=f):f=t[3],t[4]!==o||t[5]!==s?(g=o&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(rW,{style:[kl.flex_1],children:o.email||(0,Ft.jsx)(ft.Trans,{id:"L3PXBq"})}),o.emailConfirmed&&(0,Ft.jsx)(Cv,{fill:s.palette.primary_500,size:"md"})]}),t[4]=o,t[5]=s,t[6]=g):g=t[6],t[7]!==g?(x=(0,Ft.jsxs)(JU,{children:[p,f,g]}),t[7]=g,t[8]=x):x=t[8],t[9]!==n||t[10]!==o||t[11]!==a||t[12]!==s?(_=o&&!o.emailConfirmed&&(0,Ft.jsxs)(eW,{label:n({id:"/IBv6X"}),onPress:()=>a.open({id:Ov.Verify}),style:[kl.my_xs,kl.mx_lg,kl.rounded_md,{backgroundColor:s.palette.primary_50}],hoverStyle:[{backgroundColor:s.palette.primary_100}],contentContainerStyle:[kl.rounded_md,kl.px_lg],children:[(0,Ft.jsx)(tW,{icon:Cv,color:s.palette.primary_500}),(0,Ft.jsx)(sW,{style:[{color:s.palette.primary_500},kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"/IBv6X"})}),(0,Ft.jsx)(oW,{color:s.palette.primary_500})]}),t[9]=n,t[10]=o,t[11]=a,t[12]=s,t[13]=_):_=t[13],t[14]!==n?(y=n({id:"F3cQW2"}),t[14]=n,t[15]=y):y=t[15],t[16]!==a?(b=()=>a.open({id:Ov.Update}),t[16]=a,t[17]=b):b=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(tW,{icon:MO}),t[18]=j):j=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"F3cQW2"})}),w=(0,Ft.jsx)(oW,{}),t[19]=v,t[20]=w):(v=t[19],w=t[20]),t[21]!==y||t[22]!==b?(S=(0,Ft.jsxs)(eW,{label:y,onPress:b,children:[j,v,w]}),t[21]=y,t[22]=b,t[23]=S):S=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(nW,{}),t[24]=k):k=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(tW,{icon:lW}),t[25]=C):C=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"+gCI2a"})}),t[26]=P):P=t[26],t[27]!==n?(T=n({id:"ePK91l"}),t[27]=n,t[28]=T):T=t[28],t[29]!==l?(L=()=>l.open(),t[29]=l,t[30]=L):L=t[30],t[31]!==T||t[32]!==L?(A=(0,Ft.jsxs)(JU,{children:[C,P,(0,Ft.jsx)(iW,{label:T,onPress:L})]}),t[31]=T,t[32]=L,t[33]=A):A=t[33],t[34]!==n?(I=n({id:"8ZsakT"}),t[34]=n,t[35]=I):I=t[35],t[36]!==r?(R=()=>r({name:"change-password"}),t[36]=r,t[37]=R):R=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(tW,{icon:cZ}),t[38]=D):D=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"8ZsakT"})}),E=(0,Ft.jsx)(oW,{}),t[39]=F,t[40]=E):(F=t[39],E=t[40]),t[41]!==I||t[42]!==R?(M=(0,Ft.jsxs)(eW,{label:I,onPress:R,children:[D,F,E]}),t[41]=I,t[42]=R,t[43]=M):M=t[43],t[44]!==n?(B=n({id:"Nf7oXL"}),t[44]=n,t[45]=B):B=t[45],t[46]!==n?(O=n({id:"MTOy00"}),t[46]=n,t[47]=O):O=t[47],t[48]!==c?(z=()=>c.open(),t[48]=c,t[49]=z):z=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(tW,{icon:oZ}),t[50]=H):H=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Nf7oXL"})}),V=(0,Ft.jsx)(oW,{}),t[51]=N,t[52]=V):(N=t[51],V=t[52]),t[53]!==B||t[54]!==O||t[55]!==z?(q=(0,Ft.jsxs)(eW,{label:B,accessibilityHint:O,onPress:z,children:[H,N,V]}),t[53]=B,t[54]=O,t[55]=z,t[56]=q):q=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(U=(0,Ft.jsx)(nW,{}),t[57]=U):U=t[57],t[58]!==n?(W=n({id:"ut4/No"}),t[58]=n,t[59]=W):W=t[59],t[60]!==d?(Z=()=>d.open(),t[60]=d,t[61]=Z):Z=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,Ft.jsx)(tW,{icon:t0}),t[62]=Q):Q=t[62],t[63]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"ut4/No"})}),$=(0,Ft.jsx)(oW,{}),t[63]=K,t[64]=$):(K=t[63],$=t[64]),t[65]!==W||t[66]!==Z?(G=(0,Ft.jsxs)(eW,{label:W,onPress:Z,children:[Q,K,$]}),t[65]=W,t[66]=Z,t[67]=G):G=t[67],t[68]!==n?(Y=n({id:"bm0hju"}),t[68]=n,t[69]=Y):Y=t[69],t[70]!==u?(J=()=>u.open(),t[70]=u,t[71]=J):J=t[71],t[72]===Symbol.for("react.memo_cache_sentinel")?(X=(0,Ft.jsx)(tW,{icon:s0}),t[72]=X):X=t[72],t[73]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"bm0hju"})}),te=(0,Ft.jsx)(oW,{}),t[73]=ee,t[74]=te):(ee=t[73],te=t[74]),t[75]!==Y||t[76]!==J?(se=(0,Ft.jsxs)(eW,{label:Y,onPress:J,destructive:!0,children:[X,ee,te]}),t[75]=Y,t[76]=J,t[77]=se):se=t[77],t[78]!==n?(ne=n({id:"ZDGm40"}),t[78]=n,t[79]=ne):ne=t[79],t[80]!==r?(oe=()=>r({name:"delete-account"}),t[80]=r,t[81]=oe):oe=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(re=(0,Ft.jsx)(tW,{icon:vS}),t[82]=re):re=t[82],t[83]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"ZDGm40"})}),ae=(0,Ft.jsx)(oW,{}),t[83]=ie,t[84]=ae):(ie=t[83],ae=t[84]),t[85]!==ne||t[86]!==oe?(le=(0,Ft.jsxs)(eW,{label:ne,onPress:oe,destructive:!0,children:[re,ie,ae]}),t[85]=ne,t[86]=oe,t[87]=le):le=t[87],t[88]!==S||t[89]!==A||t[90]!==M||t[91]!==q||t[92]!==G||t[93]!==se||t[94]!==le||t[95]!==x||t[96]!==_?(ce=(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[x,_,S,k,A,M,q,U,G,se,le]})}),t[88]=S,t[89]=A,t[90]=M,t[91]=q,t[92]=G,t[93]=se,t[94]=le,t[95]=x,t[96]=_,t[97]=ce):ce=t[97],t[98]!==l?(de=(0,Ft.jsx)(fY,{control:l}),t[98]=l,t[99]=de):de=t[99],t[100]!==c?(ue=(0,Ft.jsx)(i0,{control:c}),t[100]=c,t[101]=ue):ue=t[101],t[102]!==d?(me=(0,Ft.jsx)(g0,{control:d}),t[102]=d,t[103]=me):me=t[103],t[104]!==u?(he=(0,Ft.jsx)(h0,{control:u}),t[104]=u,t[105]=he):he=t[105],t[106]!==ce||t[107]!==de||t[108]!==ue||t[109]!==me||t[110]!==he?(pe=(0,Ft.jsxs)(_l,{children:[h,ce,de,ue,me,he]}),t[106]=ce,t[107]=de,t[108]=ue,t[109]=me,t[110]=he,t[111]=pe):pe=t[111],pe}function _0(){}const y0=zr({path:"M12.097 2.53a1 1 0 0 1-.041 1.07 6 6 0 0 0 8.345 8.344 1 1 0 0 1 1.563.908c-.434 5.122-4.728 9.144-9.962 9.144-5.522 0-9.998-4.476-9.998-9.998 0-5.234 4.021-9.528 9.144-9.962a1 1 0 0 1 .949.494ZM9.424 4.424a7.998 7.998 0 1 0 10.152 10.152A8 8 0 0 1 9.424 4.424Z"}),b0=zr({path:"M5 4a3 3 0 0 1 3-3h8a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V4Zm3-1a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h8a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H8Zm2 2a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}),j0=zr({path:"M9 5a1 1 0 0 1 1-1h12a1 1 0 1 1 0 2h-5v14a1 1 0 1 1-2 0V6h-5a1 1 0 0 1-1-1Zm-3.073 7v8a1 1 0 1 0 2 0v-8H12a1 1 0 1 0 0-2H6.971a1.015 1.015 0 0 0-.089 0H2a1 1 0 1 0 0 2h3.927Z"}),v0=zr({path:"M3.65 17.247c-.242.832-.632 1.178-1.325 1.178-.814 0-1.325-.476-1.325-1.23 0-.216.06-.51.173-.831L4.586 7.07c.364-1.014.979-1.482 1.966-1.482 1.022 0 1.629.45 2.001 1.473l3.43 9.303c.121.337.165.571.165.831 0 .72-.546 1.23-1.308 1.23-.736 0-1.126-.338-1.36-1.152l-.658-1.975H4.309l-.658 1.95ZM6.5 8.152l-1.62 5.12h3.335l-1.654-5.12H6.5Zm13.005 8.688c-.52.988-1.68 1.568-2.84 1.568-1.768 0-3.11-1.144-3.11-2.815 0-1.69 1.299-2.668 3.62-2.807l2.34-.138v-.615c0-.867-.607-1.369-1.56-1.369-.771 0-1.239.251-1.802.979-.277.312-.597.468-1.004.468-.615 0-1.057-.399-1.057-.97 0-.2.043-.382.13-.572.433-1.109 1.923-1.793 3.845-1.793 2.383 0 3.933 1.23 3.933 3.1v5.293c0 .84-.511 1.273-1.23 1.273-.684 0-1.16-.38-1.213-1.126v-.476h-.052Zm-3.43-1.386c0 .693.572 1.126 1.42 1.126 1.11 0 2.02-.719 2.02-1.723v-.676l-1.959.121c-.944.07-1.48.494-1.48 1.152Z"});function w0(e){const t=(0,i.c)(102),{_:s}=(0,ft.useLingui)(),{fonts:n}=Xl(),o=On(),{colorMode:r,darkTheme:a}=Ca(),{setColorMode:l,setDarkTheme:c}=Pa();let d;t[0]!==r||t[1]!==l?(d=e=>{const t=e.find((e=>e!==r));t&&l(t)},t[0]=r,t[1]=l,t[2]=d):d=t[2];const u=d;let m;t[3]!==a||t[4]!==c?(m=e=>{const t=e.find((e=>e!==a));t&&c(t)},t[3]=a,t[4]=c,t[5]=m):m=t[5];const h=m;let p;t[6]!==n?(p=e=>{const t="system"===e[0]?"system":"theme";n.setFontFamily(t)},t[6]=n,t[7]=p):p=t[7];const f=p;let g;t[8]!==n?(g=e=>{const t=e[0]||"0";n.setFontScale(t)},t[8]=n,t[9]=g):g=t[9];const x=g;let _,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee;return t[10]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(dl,{}),t[10]=_):_=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsxs)(il,{children:[_,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"aAIQg2"})})}),(0,Ft.jsx)(cl,{})]}),t[11]=y):y=t[11],t[12]!==s?(b=s({id:"YDWhuY"}),t[12]=s,t[13]=b):b=t[13],t[14]!==s?(j=s({id:"D+NlUC"}),t[14]=s,t[15]=j):j=t[15],t[16]!==j?(v={label:j,name:"system"},t[16]=j,t[17]=v):v=t[17],t[18]!==s?(w=s({id:"1njn7W"}),t[18]=s,t[19]=w):w=t[19],t[20]!==w?(S={label:w,name:"light"},t[20]=w,t[21]=S):S=t[21],t[22]!==s?(k=s({id:"pvnfJD"}),t[22]=s,t[23]=k):k=t[23],t[24]!==k?(C={label:k,name:"dark"},t[24]=k,t[25]=C):C=t[25],t[26]!==S||t[27]!==C||t[28]!==v?(P=[v,S,C],t[26]=S,t[27]=C,t[28]=v,t[29]=P):P=t[29],t[30]!==r?(T=[r],t[30]=r,t[31]=T):T=t[31],t[32]!==u||t[33]!==P||t[34]!==T||t[35]!==b?(L=(0,Ft.jsx)(S0,{title:b,icon:b0,items:P,values:T,onChange:u}),t[32]=u,t[33]=P,t[34]=T,t[35]=b,t[36]=L):L=t[36],t[37]!==s||t[38]!==r||t[39]!==a||t[40]!==h?(A="light"!==r&&(0,Ft.jsx)(ko.default.View,{entering:jo(ko.FadeInUp),exiting:jo(ko.FadeOutUp),children:(0,Ft.jsx)(S0,{title:s({id:"GtpQwI"}),icon:y0,items:[{label:s({id:"DwvMe2"}),name:"dim"},{label:s({id:"pvnfJD"}),name:"dark"}],values:[a??"dim"],onChange:h})}),t[37]=s,t[38]=r,t[39]=a,t[40]=h,t[41]=A):A=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(I=jo(ko.LinearTransition),R=(0,Ft.jsx)(nW,{}),t[42]=I,t[43]=R):(I=t[42],R=t[43]),t[44]!==s?(D=s({id:"5Cj9Ws"}),t[44]=s,t[45]=D):D=t[45],t[46]!==s?(F=s({id:"PBstcX"}),t[46]=s,t[47]=F):F=t[47],t[48]!==s?(E=s({id:"D+NlUC"}),t[48]=s,t[49]=E):E=t[49],t[50]!==E?(M={label:E,name:"system"},t[50]=E,t[51]=M):M=t[51],t[52]!==s?(B=s({id:"FEr96N"}),t[52]=s,t[53]=B):B=t[53],t[54]!==B?(O={label:B,name:"theme"},t[54]=B,t[55]=O):O=t[55],t[56]!==M||t[57]!==O?(z=[M,O],t[56]=M,t[57]=O,t[58]=z):z=t[58],t[59]!==n.family?(H=[n.family],t[59]=n.family,t[60]=H):H=t[60],t[61]!==f||t[62]!==D||t[63]!==F||t[64]!==z||t[65]!==H?(N=(0,Ft.jsx)(S0,{title:D,description:F,icon:v0,items:z,values:H,onChange:f}),t[61]=f,t[62]=D,t[63]=F,t[64]=z,t[65]=H,t[66]=N):N=t[66],t[67]!==s?(V=s({id:"q3il6U"}),t[67]=s,t[68]=V):V=t[68],t[69]!==s?(q=s({id:"OueVS2"}),t[69]=s,t[70]=q):q=t[70],t[71]!==q?(U={label:q,name:"-1"},t[71]=q,t[72]=U):U=t[72],t[73]!==s?(W=s({id:"ovBPCi"}),t[73]=s,t[74]=W):W=t[74],t[75]!==W?(Z={label:W,name:"0"},t[75]=W,t[76]=Z):Z=t[76],t[77]!==s?(Q=s({id:"ke14uo"}),t[77]=s,t[78]=Q):Q=t[78],t[79]!==Q?(K={label:Q,name:"1"},t[79]=Q,t[80]=K):K=t[80],t[81]!==U||t[82]!==Z||t[83]!==K?($=[U,Z,K],t[81]=U,t[82]=Z,t[83]=K,t[84]=$):$=t[84],t[85]!==n.scale?(G=[n.scale],t[85]=n.scale,t[86]=G):G=t[86],t[87]!==x||t[88]!==V||t[89]!==$||t[90]!==G?(Y=(0,Ft.jsx)(S0,{title:V,icon:j0,items:$,values:G,onChange:x}),t[87]=x,t[88]=V,t[89]=$,t[90]=G,t[91]=Y):Y=t[91],t[92]!==o?(J=kt&&Kt&&o("debug_subscriptions")&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(nW,{}),(0,Ft.jsx)(_0,{})]}),t[92]=o,t[93]=J):J=t[93],t[94]!==N||t[95]!==Y||t[96]!==J?(X=(0,Ft.jsxs)(ko.default.View,{layout:I,children:[R,N,Y,J]}),t[94]=N,t[95]=Y,t[96]=J,t[97]=X):X=t[97],t[98]!==L||t[99]!==A||t[100]!==X?(ee=(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipExiting:!0,skipEntering:!0,children:(0,Ft.jsxs)(_l,{testID:"preferencesThreadsScreen",children:[y,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[L,A,X]})})]})}),t[98]=L,t[99]=A,t[100]=X,t[101]=ee):ee=t[101],ee}function S0(e){const t=(0,i.c)(20),{title:s,description:n,icon:o,items:r,values:a,onChange:l}=e,c=ec();let d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.gap_sm],t[0]=d):d=t[0],t[1]!==o?(u=(0,Ft.jsx)(tW,{icon:o}),t[1]=o,t[2]=u):u=t[2],t[3]!==s?(m=(0,Ft.jsx)(sW,{children:s}),t[3]=s,t[4]=m):m=t[4],t[5]!==n||t[6]!==c?(h=n&&(0,Ft.jsx)(fr,{style:[kl.text_sm,kl.leading_snug,c.atoms.text_contrast_medium,kl.w_full],children:n}),t[5]=n,t[6]=c,t[7]=h):h=t[7],t[8]!==r?(p=r.map(k0),t[8]=r,t[9]=p):p=t[9],t[10]!==l||t[11]!==p||t[12]!==s||t[13]!==a?(f=(0,Ft.jsx)(fI,{label:s,values:a,onChange:l,children:p}),t[10]=l,t[11]=p,t[12]=s,t[13]=a,t[14]=f):f=t[14],t[15]!==u||t[16]!==m||t[17]!==h||t[18]!==f?(g=(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(YU,{contentContainerStyle:d,iconInset:!1,children:[u,m,h,f]})}),t[15]=u,t[16]=m,t[17]=h,t[18]=f,t[19]=g):g=t[19],g}function k0(e){return(0,Ft.jsx)(gI,{label:e.label,name:e.name,children:(0,Ft.jsx)(_I,{children:e.label})},e.name)}function C0(){throw new Error("Not supported on web")}const P0=()=>["app-passwords"];function T0(){const e=(0,i.c)(3),t=bh();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=P0(),e[0]=s):s=e[0],e[1]!==t?(n={staleTime:Ld.MINUTES.FIVE,queryKey:s,queryFn:async()=>(await t.com.atproto.server.listAppPasswords({})).data.passwords},e[1]=t,e[2]=n):n=e[2],(0,vd.useQuery)(n)}function L0(e){const t=(0,i.c)(9),{control:s,passwords:n}=e,{height:o}=(0,Ny.default)();let r,a,l,c;return t[0]!==o?(r={minHeight:o},t[0]=o,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ha,{}),t[2]=a):a=t[2],t[3]!==n?(l=(0,Ft.jsx)(A0,{passwords:n}),t[3]=n,t[4]=l):l=t[4],t[5]!==s||t[6]!==r||t[7]!==l?(c=(0,Ft.jsxs)(aa,{control:s,nativeOptions:r,children:[a,l]}),t[5]=s,t[6]=r,t[7]=l,t[8]=c):c=t[8],c}function A0(e){const t=(0,i.c)(34),{passwords:s}=e,n=Lr(),o=ec(),{_:r}=(0,ft.useLingui)(),a=(0,mt.useState)(R0)[0],[l,c]=(0,mt.useState)(""),[d,u]=(0,mt.useState)(!1),{mutateAsync:m,error:h,data:p}=function(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;return e[0]!==s?(n=async e=>{const{name:t,privileged:n}=e;return(await s.com.atproto.server.createAppPassword({name:t,privileged:n})).data},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:P0()})}},e[2]=t,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}();let f,g;t[0]!==r?(g=new I0(r({id:"yDYWff"})),t[0]=r,t[1]=g):g=t[1],f=g;const x=f;let _;t[2]!==r||t[3]!==m||t[4]!==a||t[5]!==l||t[6]!==s||t[7]!==d?(_={mutationFn:async()=>{const e=l.trim()||a;if(e.length<4)throw new I0(r({id:"iVns5q"}));if(s.find((t=>t===e)))throw new I0(r({id:"VKPP7C"}));return await m({name:e,privileged:d})}},t[2]=r,t[3]=m,t[4]=a,t[5]=l,t[6]=s,t[7]=d,t[8]=_):_=t[8];const{mutate:y,error:b,isPending:j}=(0,Sd.useMutation)(_),[v,w]=(0,mt.useState)(!1);let S,k,C;t[9]!==v?(S=()=>{if(v){const e=setTimeout((()=>w(!1)),100);return()=>clearTimeout(e)}},k=[v],t[9]=v,t[10]=S,t[11]=k):(S=t[10],k=t[11]),(0,mt.useEffect)(S,k),t[12]!==l||t[13]!==x||t[14]!==b?(C=b||!l.match(/^[a-zA-Z0-9-_ ]*$/)&&x,t[12]=l,t[13]=x,t[14]=b,t[15]=C):C=t[15];const P=C;let T,L,A,I,R;return t[16]!==r?(T=r({id:"47bquP"}),t[16]=r,t[17]=T):T=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(L=[jo(kl.pt_md)],t[18]=L):L=t[18],t[19]!==r||t[20]!==h||t[21]!==a||t[22]!==n||t[23]!==y||t[24]!==p||t[25]!==P||t[26]!==j||t[27]!==d||t[28]!==o?(A=(0,Ft.jsx)(wo.default,{style:L,children:(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:p?(0,Ft.jsxs)(ko.default.View,{style:[kl.gap_lg],entering:Pt?ko.FadeIn.delay(200):ko.SlideInRight,children:[(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"wtxgb4"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"I6JXEO"})}),(0,Ft.jsxs)(r0,{value:p.password,label:r({id:"DJsNG+"}),size:"large",variant:"solid",color:"secondary",children:[(0,Ft.jsx)(Cr,{children:p.password}),(0,Ft.jsx)(Pr,{icon:n0})]}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug,o.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"31ojML"})}),(0,Ft.jsx)(Sr,{label:r({id:"DPfwMq"}),size:"large",variant:"outline",color:"primary",style:[kl.flex_1],onPress:()=>n.close(),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"DPfwMq"})})})]},1):(0,Ft.jsxs)(ko.default.View,{style:[kl.gap_lg],exiting:jo(ko.SlideOutLeft),children:[(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"5dXC5d"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"uX2EJC"})}),(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Yi,{isInvalid:!!P,children:(0,Ft.jsx)(ea,{label:r({id:"0Xf97/"}),placeholder:a,onChangeText:c,returnKeyType:"done",onSubmitEditing:()=>y(),blurOnSubmit:!0,autoCorrect:!1,autoComplete:"off",autoCapitalize:"none",autoFocus:!0})})}),P instanceof I0&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(Uj,{type:"error",children:P.message})}),(0,Ft.jsxs)(ko.default.View,{style:[kl.gap_lg],layout:jo(ko.LinearTransition),children:[(0,Ft.jsxs)(iI,{name:"privileged",type:"checkbox",label:r({id:"isIf7e"}),value:d,onChange:u,style:[kl.flex_1],children:[(0,Ft.jsx)(cI,{}),(0,Ft.jsx)(aI,{style:[kl.font_normal,kl.text_md,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"isIf7e"})})]}),(0,Ft.jsxs)(Sr,{label:r({id:"hXzOVo"}),size:"large",variant:"solid",color:"primary",style:[kl.flex_1],onPress:()=>y(),disabled:j,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})}),(0,Ft.jsx)(Pr,{icon:QT})]}),!!h||P&&!(P instanceof I0)&&(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsx)(Uj,{type:"error",children:(0,Ft.jsx)(ft.Trans,{id:"QmVkwS"})})})]})]},0)})}),t[19]=r,t[20]=h,t[21]=a,t[22]=n,t[23]=y,t[24]=p,t[25]=P,t[26]=j,t[27]=d,t[28]=o,t[29]=A):A=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(ma,{}),t[30]=I):I=t[30],t[31]!==T||t[32]!==A?(R=(0,Ft.jsxs)(da,{label:T,children:[A,I]}),t[31]=T,t[32]=A,t[33]=R):R=t[33],R}class I0 extends Error{constructor(e){super(e),this.name="DisplayableError"}}function R0(){return D0[Math.floor(Math.random()*D0.length)]}const D0=["AliceBlue","Aqua","Aquamarine","Azure","BabyBlue","Blue","BlueViolet","CadetBlue","CornflowerBlue","Cyan","DarkBlue","DarkCyan","DarkSlateBlue","DeepSkyBlue","DodgerBlue","ElectricBlue","LightBlue","LightCyan","LightSkyBlue","LightSteelBlue","MediumAquaMarine","MediumBlue","MediumSlateBlue","MidnightBlue","Navy","PowderBlue","RoyalBlue","SkyBlue","SlateBlue","SteelBlue","Teal","Turquoise"];function F0(e){const t=(0,i.c)(15),{_:s}=(0,ft.useLingui)(),{data:n,error:o}=T0(),r=Ar();let a,l,c,d,u,m;return t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(dl,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsxs)(il,{children:[a,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"8q4WlH"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=l):l=t[1],t[2]!==s||t[3]!==n||t[4]!==r||t[5]!==o?(c=(0,Ft.jsx)(bl,{children:o?(0,Ft.jsx)(UD,{title:s({id:"5yIPLp"}),message:s({id:"SONz55"}),details:ds(o)}):(0,Ft.jsxs)(GU,{children:[(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"tip",style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"7+c6/U"})})}),(0,Ft.jsx)(JU,{children:(0,Ft.jsxs)(Sr,{label:s({id:"5dXC5d"}),size:"large",color:"primary",variant:"solid",onPress:()=>r.open(),style:[kl.flex_1],children:[(0,Ft.jsx)(Pr,{icon:kS}),(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"5dXC5d"})})]})}),(0,Ft.jsx)(nW,{}),(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:n?n.length>0?(0,Ft.jsx)(wo.default,{style:[kl.overflow_hidden],children:n.map(M0)}):(0,Ft.jsx)(Lx,{icon:"growth",message:s({id:"pRxzv9"})}):(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.justify_center,kl.align_center,kl.py_4xl],children:(0,Ft.jsx)(wv,{size:"xl"})})})]})}),t[2]=s,t[3]=n,t[4]=r,t[5]=o,t[6]=c):c=t[6],t[7]!==n?(d=n?.map(E0)||[],t[7]=n,t[8]=d):d=t[8],t[9]!==r||t[10]!==d?(u=(0,Ft.jsx)(L0,{control:r,passwords:d}),t[9]=r,t[10]=d,t[11]=u):u=t[11],t[12]!==c||t[13]!==u?(m=(0,Ft.jsxs)(_l,{testID:"AppPasswordsScreen",children:[l,c,u]}),t[12]=c,t[13]=u,t[14]=m):m=t[14],m}function E0(e){return e.name}function M0(e){return(0,Ft.jsx)(ko.default.View,{style:kl.w_full,entering:ko.FadeIn,exiting:Pt?ko.FadeOut:ko.StretchOutY,layout:ko.LinearTransition.delay(150),children:(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(B0,{appPassword:e})})},e.name)}function B0(e){const t=(0,i.c)(61),{appPassword:s}=e,n=ec(),{i18n:o,_:r}=(0,ft.useLingui)(),a=Ar(),{mutateAsync:l}=function(){const e=(0,i.c)(5),t=(0,wd.useQueryClient)(),s=bh();let n,o;return e[0]!==s?(n=async e=>{const{name:t}=e;await s.com.atproto.server.revokeAppPassword({name:t})},e[0]=s,e[1]=n):n=e[1],e[2]!==t||e[3]!==n?(o={mutationFn:n,onSuccess(){t.invalidateQueries({queryKey:P0()})}},e[2]=t,e[3]=n,e[4]=o):o=e[4],(0,Sd.useMutation)(o)}();let c;t[0]!==r||t[1]!==s.name||t[2]!==l?(c=async()=>{await l({name:s.name}),Zu(r({id:"sPECGn"}))},t[0]=r,t[1]=s.name,t[2]=l,t[3]=c):c=t[3];const d=c;let u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R;return t[4]!==n.atoms.bg_contrast_25||t[5]!==n.atoms.border_contrast_low?(u=[kl.w_full,kl.border,kl.rounded_sm,kl.px_md,kl.py_sm,n.atoms.bg_contrast_25,n.atoms.border_contrast_low],t[4]=n.atoms.bg_contrast_25,t[5]=n.atoms.border_contrast_low,t[6]=u):u=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.flex_row,kl.justify_between,kl.align_start,kl.w_full,kl.gap_sm],t[7]=m):m=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.gap_xs],t[8]=h):h=t[8],t[9]!==n.atoms.text?(p=[n.atoms.text,kl.text_md,kl.font_bold],t[9]=n.atoms.text,t[10]=p):p=t[10],t[11]!==s.name||t[12]!==p?(f=(0,Ft.jsx)(fr,{style:p,children:s.name}),t[11]=s.name,t[12]=p,t[13]=f):f=t[13],t[14]!==n.atoms.text_contrast_medium?(g=[n.atoms.text_contrast_medium],t[14]=n.atoms.text_contrast_medium,t[15]=g):g=t[15],t[16]!==s.createdAt||t[17]!==o?(x=o.date(s.createdAt,{year:"numeric",month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),t[16]=s.createdAt,t[17]=o,t[18]=x):x=t[18],t[19]!==x?(_=(0,Ft.jsx)(ft.Trans,{id:"MXSt4t",values:{0:x}}),t[19]=x,t[20]=_):_=t[20],t[21]!==g||t[22]!==_?(y=(0,Ft.jsx)(fr,{style:g,children:_}),t[21]=g,t[22]=_,t[23]=y):y=t[23],t[24]!==y||t[25]!==f?(b=(0,Ft.jsxs)(wo.default,{style:h,children:[f,y]}),t[24]=y,t[25]=f,t[26]=b):b=t[26],t[27]!==r?(j=r({id:"gUEtxf"}),t[27]=r,t[28]=j):j=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.bg_transparent],t[29]=v):v=t[29],t[30]!==a?(w=()=>a.open(),t[30]=a,t[31]=w):w=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(Pr,{icon:jS}),t[32]=S):S=t[32],t[33]!==j||t[34]!==w?(k=(0,Ft.jsx)(Sr,{label:j,variant:"ghost",color:"negative",size:"small",style:v,onPress:w,children:S}),t[33]=j,t[34]=w,t[35]=k):k=t[35],t[36]!==b||t[37]!==k?(C=(0,Ft.jsxs)(wo.default,{style:m,children:[b,k]}),t[36]=b,t[37]=k,t[38]=C):C=t[38],t[39]!==s.privileged||t[40]!==n.atoms.text_contrast_high||t[41]!==n.scheme?(P=s.privileged&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center,kl.mt_md],children:[(0,Ft.jsx)(Fj,{style:[{color:Bj.warning[n.scheme]}]}),(0,Ft.jsx)(fr,{style:n.atoms.text_contrast_high,children:(0,Ft.jsx)(ft.Trans,{id:"AByanR"})})]}),t[39]=s.privileged,t[40]=n.atoms.text_contrast_high,t[41]=n.scheme,t[42]=P):P=t[42],t[43]!==r?(T=r({id:"dCr4rv"}),t[43]=r,t[44]=T):T=t[44],t[45]!==r||t[46]!==s.name?(L=r({id:"WzcJeT",values:{0:s.name}}),t[45]=r,t[46]=s.name,t[47]=L):L=t[47],t[48]!==r?(A=r({id:"cnGeoo"}),t[48]=r,t[49]=A):A=t[49],t[50]!==a||t[51]!==d||t[52]!==T||t[53]!==L||t[54]!==A?(I=(0,Ft.jsx)(bx,{control:a,title:T,description:L,onConfirm:d,confirmButtonCta:A,confirmButtonColor:"negative"}),t[50]=a,t[51]=d,t[52]=T,t[53]=L,t[54]=A,t[55]=I):I=t[55],t[56]!==C||t[57]!==P||t[58]!==u||t[59]!==I?(R=(0,Ft.jsxs)(wo.default,{style:u,children:[C,P,I]}),t[56]=C,t[57]=P,t[58]=u,t[59]=I,t[60]=R):R=t[60],R}zr({path:"M11.37 1.724a1 1 0 0 1 1.26 0l8 6.5A1 1 0 0 1 21 9v11a1 1 0 0 1-1 1h-6a1 1 0 0 1-1-1v-5h-2v5a1 1 0 0 1-1 1H4a1 1 0 0 1-1-1V9a1 1 0 0 1 .37-.776l8-6.5ZM5 9.476V19h4v-5a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v5h4V9.476l-7-5.688-7 5.688Z"});const O0=zr({path:"M12.659 3.905a1 1 0 0 0-1.318 0l-6 5.25A1 1 0 0 0 5 9.907V18a1 1 0 0 0 1 1h3v-3a3 3 0 0 1 6 0v3h3a1 1 0 0 0 1-1V9.907a1 1 0 0 0-.341-.752l-6-5.25ZM10.024 2.4a3 3 0 0 1 3.952 0l6 5.25A3 3 0 0 1 21 9.907V18a3 3 0 0 1-3 3h-3a2 2 0 0 1-2-2v-3a1 1 0 0 0-2 0v3a2 2 0 0 1-2 2H6a3 3 0 0 1-3-3V9.907A3 3 0 0 1 4.024 7.65l6-5.25Z"}),z0=(zr({path:"M13.261 1.736a2 2 0 0 0-2.522 0l-7 5.687A2 2 0 0 0 3 8.976V19a2 2 0 0 0 2 2h3v-8a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1v8h3a2 2 0 0 0 2-2V8.976a2 2 0 0 0-.739-1.553l-7-5.687ZM14 21h-4v-7h4v7Z"}),zr({path:"M4 5a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v11c0 .889-.386 1.687-1 2.236V20a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-1.764c-.614-.55-1-1.348-1-2.236V5Zm3 14v1h10v-1H7ZM7 4a1 1 0 0 0-1 1v11a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H7Zm0 2a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H8a1 1 0 0 1-1-1V6Zm2 1v4h6V7H9Zm4 8a1 1 0 0 1 1-1h2a1 1 0 1 1 0 2h-2a1 1 0 0 1-1-1Z"}));function H0(e){const t=(0,i.c)(63),{_:s}=(0,ft.useLingui)(),n=yc(),o=bc(),r=Vc(),a=mt.useContext(Hc),{enabled:l}=Zb(),{trendingDisabled:c,trendingVideoDisabled:d}=fd(),{setTrendingDisabled:u,setTrendingVideoDisabled:m}=gd();let h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B;t[0]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(dl,{}),t[0]=h):h=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsxs)(il,{children:[h,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"ECLlp+"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=p):p=t[1],t[2]!==s?(f=s({id:"iisdNe"}),t[2]=s,t[3]=f):f=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(tW,{icon:qF}),t[4]=g):g=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"iisdNe"})}),t[5]=x):x=t[5],t[6]!==f?(_=(0,Ft.jsxs)(XU,{to:"/settings/saved-feeds",label:f,children:[g,x]}),t[6]=f,t[7]=_):_=t[7],t[8]!==s?(y=s({id:"Ro2Yw5"}),t[8]=s,t[9]=y):y=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(tW,{icon:_T}),t[10]=b):b=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Ro2Yw5"})}),t[11]=j):j=t[11],t[12]!==y?(v=(0,Ft.jsxs)(XU,{to:"/settings/threads",label:y,children:[b,j]}),t[12]=y,t[13]=v):v=t[13],t[14]!==s?(w=s({id:"QeCnnh"}),t[14]=s,t[15]=w):w=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(tW,{icon:O0}),t[16]=S):S=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"QeCnnh"})}),t[17]=k):k=t[17],t[18]!==w?(C=(0,Ft.jsxs)(XU,{to:"/settings/following-feed",label:w,children:[S,k]}),t[18]=w,t[19]=C):C=t[19],t[20]!==s?(P=s({id:"Dk+Kkl"}),t[20]=s,t[21]=P):P=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(tW,{icon:z0}),t[22]=T):T=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Dk+Kkl"})}),t[23]=L):L=t[23],t[24]!==P?(A=(0,Ft.jsxs)(XU,{to:"/settings/external-embeds",label:P,children:[T,L]}),t[24]=P,t[25]=A):A=t[25],t[26]!==s?(I=s({id:"4zDzuI"}),t[26]=s,t[27]=I):I=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(tW,{icon:Ij}),t[28]=R):R=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"4zDzuI"})}),t[29]=D):D=t[29],t[30]!==I?(F=(0,Ft.jsxs)(XU,{to:"/settings/interests",label:I,children:[R,D]}),t[30]=I,t[31]=F):F=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(nW,{}),t[32]=E):E=t[32],t[33]!==s||t[34]!==r||t[35]!==a?(M=kt&&(0,Ft.jsx)(iI,{name:"use_in_app_browser",label:s({id:"ro9NQJ"}),value:r??!1,onChange:e=>a(e),children:(0,Ft.jsxs)(JU,{children:[(0,Ft.jsx)(tW,{icon:fW}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"ro9NQJ"})}),(0,Ft.jsx)(mI,{})]})}),t[33]=s,t[34]=r,t[35]=a,t[36]=M):M=t[36],t[37]!==s?(B=s({id:"KPgb40"}),t[37]=s,t[38]=B):B=t[38];const O=!n;let z,H,N,V,q,U;return t[39]!==o?(z=e=>o(!e),t[39]=o,t[40]=z):z=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(tW,{icon:KR}),t[41]=H):H=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsxs)(JU,{children:[H,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"KPgb40"})}),(0,Ft.jsx)(mI,{})]}),t[42]=N):N=t[42],t[43]!==B||t[44]!==O||t[45]!==z?(V=(0,Ft.jsx)(iI,{name:"disable_autoplay",label:B,value:O,onChange:z,children:N}),t[43]=B,t[44]=O,t[45]=z,t[46]=V):V=t[46],t[47]!==s||t[48]!==u||t[49]!==m||t[50]!==c||t[51]!==l||t[52]!==d?(q=l&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(nW,{}),(0,Ft.jsx)(iI,{name:"show_trending_topics",label:s({id:"dQfi6A"}),value:!c,onChange:e=>{const t=Boolean(!e);En(t?"trendingTopics:hide":"trendingTopics:show",{context:"settings"}),u(t)},children:(0,Ft.jsxs)(JU,{children:[(0,Ft.jsx)(tW,{icon:UE}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"dQfi6A"})}),(0,Ft.jsx)(mI,{})]})}),(0,Ft.jsx)(iI,{name:"show_trending_videos",label:s({id:"QW5E9A"}),value:!d,onChange:e=>{const t=Boolean(!e);En(t?"trendingVideos:hide":"trendingVideos:show",{context:"settings"}),m(t)},children:(0,Ft.jsxs)(JU,{children:[(0,Ft.jsx)(tW,{icon:UE}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"SEh/Dd"})}),(0,Ft.jsx)(mI,{})]})})]}),t[47]=s,t[48]=u,t[49]=m,t[50]=c,t[51]=l,t[52]=d,t[53]=q):q=t[53],t[54]!==v||t[55]!==C||t[56]!==A||t[57]!==F||t[58]!==M||t[59]!==V||t[60]!==q||t[61]!==_?(U=(0,Ft.jsxs)(_l,{children:[p,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[_,v,C,A,F,E,M,V,q]})})]}),t[54]=v,t[55]=C,t[56]=A,t[57]=F,t[58]=M,t[59]=V,t[60]=q,t[61]=_,t[62]=U):U=t[62],U}function N0(e){const t=(0,i.c)(6);let s,n,o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(dl,{}),t[0]=s):s=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsxs)(il,{children:[s,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"KMwkQy"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=n):n=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(o=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"info",style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"n+JXGp"})})}),t[2]=o):o=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"3wOj10"})}),t[3]=r):r=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.mt_sm,kl.w_full],t[4]=a):a=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsxs)(_l,{testID:"externalMediaPreferencesScreen",children:[n,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[o,(0,Ft.jsxs)(YU,{iconInset:!1,children:[r,(0,Ft.jsxs)(wo.default,{style:a,children:[jo((0,Ft.jsx)(nW,{style:[kl.my_0]})),Object.entries(mm).filter(q0).map(V0)]})]})]})})]}),t[5]=l):l=t[5],l}function V0(e){const[t,s]=e;return(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(U0,{source:t,label:s},t),jo((0,Ft.jsx)(nW,{style:[kl.my_0]}))]},t)}function q0(e){const[t]=e;return"tenor"!==t}function U0(e){const t=(0,i.c)(14),{source:s,label:n}=e,o=Ac(),r=Lc(),a="show"===r?.[s];let l,c,d,u,m,h;return t[0]!==o||t[1]!==s||t[2]!==r?(l=()=>o(s,"show"===r?.[s]?"hide":"show"),t[0]=o,t[1]=s,t[2]=r,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.flex_1,kl.py_md,jo([kl.justify_between,kl.flex_row_reverse])],d=(0,Ft.jsx)(mI,{}),t[4]=c,t[5]=d):(c=t[4],d=t[5]),t[6]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.text_md],t[6]=u):u=t[6],t[7]!==n?(m=(0,Ft.jsx)(aI,{style:u,children:n}),t[7]=n,t[8]=m):m=t[8],t[9]!==n||t[10]!==a||t[11]!==l||t[12]!==m?(h=(0,Ft.jsxs)(iI,{name:n,label:n,type:"checkbox",value:a,onChange:l,style:c,children:[d,m]}),t[9]=n,t[10]=a,t[11]=l,t[12]=m,t[13]=h):h=t[13],h}const W0=zr({path:"M13.5 4a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3ZM10 5a1 1 0 1 0 0-2 1 1 0 0 0 0 2ZM8 6a1 1 0 0 0 0 2v2.64q-.319.374-.711.8l-.129.142c-.312.342-.649.711-.974 1.092-.731.857-1.488 1.866-1.89 2.99A4.9 4.9 0 0 0 4 17.298 4.7 4.7 0 0 0 8.702 22h6.596A4.7 4.7 0 0 0 20 17.298c0-.575-.114-1.122-.297-1.634-.401-1.124-1.157-2.133-1.89-2.99-.324-.38-.66-.75-.973-1.092h0l-.129-.141c-.26-.286-.5-.55-.711-.8V8a1 1 0 1 0 0-2H8Zm2 5.35V8h4v3.35l.22.275c.306.383.661.777 1.013 1.163l.13.143h0c.315.345.628.688.93 1.042.372.435.704.861.974 1.28l-.159.025c-.845.13-1.838.242-2.581.222-.842-.022-1.475-.217-2.227-.454l-.027-.008c-.746-.235-1.61-.507-2.746-.538-.743-.02-1.617.064-2.38.165q.26-.342.56-.692c.302-.354.615-.697.93-1.042l.13-.143c.352-.386.707-.78 1.014-1.163L10 11.35Zm7.41 5.905q.316-.048.586-.095.004.07.004.138A2.7 2.7 0 0 1 15.298 20H8.702A2.7 2.7 0 0 1 6 17.298q0-.213.039-.434c.236-.043.53-.093.853-.142.845-.13 1.837-.242 2.581-.222.842.022 1.475.217 2.227.454l.027.008c.746.235 1.61.507 2.746.538.931.024 2.07-.113 2.937-.245Z"});function Z0(e){const t=(0,i.c)(52),{_:s}=(0,ft.useLingui)(),{data:n}=Fh(),{mutate:o,variables:r}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.setFeedViewPrefs("home",e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),a=!(r?.hideReplies??n?.feedViewPrefs?.hideReplies),l=!(r?.hideReposts??n?.feedViewPrefs?.hideReposts),c=!(r?.hideQuotePosts??n?.feedViewPrefs?.hideQuotePosts),d=Boolean(r?.lab_mergeFeedEnabled??n?.feedViewPrefs?.lab_mergeFeedEnabled);let u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(dl,{}),t[0]=u):u=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(il,{children:[u,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"sQH88t"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"tip",style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"hgoaNH"})})}),t[2]=h):h=t[2],t[3]!==s?(p=s({id:"r+Wkd8"}),t[3]=s,t[4]=p):p=t[4],t[5]!==o?(f=e=>o({hideReplies:!e}),t[5]=o,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(tW,{icon:_T}),t[7]=g):g=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsxs)(JU,{children:[g,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"r+Wkd8"})}),(0,Ft.jsx)(mI,{})]}),t[8]=x):x=t[8],t[9]!==a||t[10]!==p||t[11]!==f?(_=(0,Ft.jsx)(iI,{type:"checkbox",name:"show-replies",label:p,value:a,onChange:f,children:x}),t[9]=a,t[10]=p,t[11]=f,t[12]=_):_=t[12],t[13]!==s?(y=s({id:"six5KA"}),t[13]=s,t[14]=y):y=t[14],t[15]!==o?(b=e=>o({hideReposts:!e}),t[15]=o,t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(tW,{icon:jT}),t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsxs)(JU,{children:[j,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"six5KA"})}),(0,Ft.jsx)(mI,{})]}),t[18]=v):v=t[18],t[19]!==l||t[20]!==b||t[21]!==y?(w=(0,Ft.jsx)(iI,{type:"checkbox",name:"show-reposts",label:y,value:l,onChange:b,children:v}),t[19]=l,t[20]=b,t[21]=y,t[22]=w):w=t[22],t[23]!==s?(S=s({id:"52jApw"}),t[23]=s,t[24]=S):S=t[24],t[25]!==o?(k=e=>o({hideQuotePosts:!e}),t[25]=o,t[26]=k):k=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(tW,{icon:DB}),t[27]=C):C=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsxs)(JU,{children:[C,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"52jApw"})}),(0,Ft.jsx)(mI,{})]}),t[28]=P):P=t[28],t[29]!==c||t[30]!==S||t[31]!==k?(T=(0,Ft.jsx)(iI,{type:"checkbox",name:"show-quotes",label:S,value:c,onChange:k,children:P}),t[29]=c,t[30]=S,t[31]=k,t[32]=T):T=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(nW,{}),t[33]=L):L=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(tW,{icon:W0}),t[34]=A):A=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Rsjgm0"})}),t[35]=I):I=t[35],t[36]!==s?(R=s({id:"4qLA0J"}),t[36]=s,t[37]=R):R=t[37],t[38]!==o?(D=e=>o({lab_mergeFeedEnabled:e}),t[38]=o,t[39]=D):D=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(F=[kl.w_full,kl.gap_md],t[40]=F):F=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"4qLA0J"})}),M=(0,Ft.jsx)(mI,{}),t[41]=E,t[42]=M):(E=t[41],M=t[42]),t[43]!==d||t[44]!==R||t[45]!==D?(B=(0,Ft.jsxs)(YU,{children:[A,I,(0,Ft.jsxs)(iI,{type:"checkbox",name:"merge-feed",label:R,value:d,onChange:D,style:F,children:[E,M]})]}),t[43]=d,t[44]=R,t[45]=D,t[46]=B):B=t[46],t[47]!==w||t[48]!==T||t[49]!==B||t[50]!==_?(O=(0,Ft.jsxs)(_l,{testID:"followingFeedPreferencesScreen",children:[m,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[h,_,w,T,L,B]})})]}),t[47]=w,t[48]=T,t[49]=B,t[50]=_,t[51]=O):O=t[51],O}const Q0=Bs.filter(((e,t,s)=>e.code2&&s.findIndex((t=>t.code2===e.code2))===t));function K0(e){const t=(0,i.c)(76),{_:s}=(0,ft.useLingui)(),n=Yc(),o=Jc(),r=ec(),{openModal:a}=Zd();let l;t[0]!==a?(l=()=>{a({name:"content-languages-settings"})},t[0]=a,t[1]=l):l=t[1];const c=l;let d;t[2]!==n.primaryLanguage||t[3]!==o?(d=e=>{e&&n.primaryLanguage!==e&&o.setPrimaryLanguage(e)},t[2]=n.primaryLanguage,t[3]=o,t[4]=d):d=t[4];const u=d;let m;t[5]!==n.appLanguage||t[6]!==o?(m=e=>{e&&n.appLanguage!==e&&o.setAppLanguage(Ws(e))},t[5]=n.appLanguage,t[6]=o,t[7]=m):m=t[7];const h=m;let p,f;if(t[8]!==n.appLanguage||t[9]!==n.contentLanguages){let e;t[11]!==n.appLanguage?(e=e=>Ns(e,n.appLanguage),t[11]=n.appLanguage,t[12]=e):e=t[12],f=n.contentLanguages.map(J0).filter(Boolean).map(e).join(", "),t[8]=n.appLanguage,t[9]=n.contentLanguages,t[10]=f}else f=t[10];p=f;const g=p;let x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R;t[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(dl,{}),t[13]=x):x=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsxs)(il,{children:[x,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"GAmD3h"})})}),(0,Ft.jsx)(cl,{})]}),t[14]=_):_=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"fdjKGe"})}),t[15]=y):y=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.gap_md,kl.w_full],t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"BfTvve"})}),t[17]=j):j=t[17],t[18]!==n.appLanguage?(v=Ws(n.appLanguage),t[18]=n.appLanguage,t[19]=v):v=t[19],t[20]!==s?(w=s({id:"tXa+/a"}),t[20]=s,t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(sL,{}),k=(0,Ft.jsx)(nL,{}),t[22]=S,t[23]=k):(S=t[22],k=t[23]),t[24]!==w?(C=(0,Ft.jsxs)(tL,{label:w,children:[S,k]}),t[24]=w,t[25]=C):C=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(oL,{renderItem:Y0,items:Ms.map(G0)}),t[26]=P):P=t[26],t[27]!==h||t[28]!==v||t[29]!==C?(T=(0,Ft.jsxs)(YU,{iconInset:!1,children:[y,(0,Ft.jsxs)(wo.default,{style:b,children:[j,(0,Ft.jsxs)(XT,{value:v,onValueChange:h,children:[C,P]})]})]}),t[27]=h,t[28]=v,t[29]=C,t[30]=T):T=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(nW,{}),t[31]=L):L=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"HeBcM5"})}),t[32]=A):A=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.gap_md,kl.w_full],t[33]=I):I=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"TiiOza"})}),t[34]=R):R=t[34];const D=n.primaryLanguage;let F,E,M,B,O,z,H,N,V,q,U,W,Z;t[35]!==s?(F=s({id:"4StAiY"}),t[35]=s,t[36]=F):F=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(sL,{}),M=(0,Ft.jsx)(nL,{}),t[37]=E,t[38]=M):(E=t[37],M=t[38]),t[39]!==F?(B=(0,Ft.jsxs)(tL,{label:F,children:[E,M]}),t[39]=F,t[40]=B):B=t[40],t[41]!==n.appLanguage?(O=Q0.map((e=>({label:Ns(e,n.appLanguage),value:e.code2}))),t[41]=n.appLanguage,t[42]=O):O=t[42],t[43]!==O?(z=(0,Ft.jsx)(oL,{renderItem:$0,items:O}),t[43]=O,t[44]=z):z=t[44],t[45]!==n.primaryLanguage||t[46]!==u||t[47]!==B||t[48]!==z?(H=(0,Ft.jsxs)(YU,{iconInset:!1,children:[A,(0,Ft.jsxs)(wo.default,{style:I,children:[R,(0,Ft.jsxs)(XT,{value:D,onValueChange:u,children:[B,z]})]})]}),t[45]=n.primaryLanguage,t[46]=u,t[47]=B,t[48]=z,t[49]=H):H=t[49],t[50]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(nW,{}),t[50]=N):N=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"/PlAsF"})}),t[51]=V):V=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(q=[kl.gap_md],t[52]=q):q=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(U=(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"vECNLO"})}),t[53]=U):U=t[53],t[54]!==s?(W=s({id:"pQWhRR"}),t[54]=s,t[55]=W):W=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.justify_start,_o({maxWidth:400})],t[56]=Z):Z=t[56];const Q=g.length>0?Wj:kS;let K,$,G,Y,J,X;return t[57]!==Q?(K=(0,Ft.jsx)(Pr,{icon:Q}),t[57]=Q,t[58]=K):K=t[58],t[59]!==r.atoms.text?($=[r.atoms.text,kl.text_md,kl.flex_1,kl.text_left],t[59]=r.atoms.text,t[60]=$):$=t[60],t[61]!==s||t[62]!==g?(G=g.length>0?g:s({id:"05yWmq"}),t[61]=s,t[62]=g,t[63]=G):G=t[63],t[64]!==$||t[65]!==G?(Y=(0,Ft.jsx)(Cr,{style:$,numberOfLines:1,children:G}),t[64]=$,t[65]=G,t[66]=Y):Y=t[66],t[67]!==c||t[68]!==W||t[69]!==K||t[70]!==Y?(J=(0,Ft.jsxs)(YU,{iconInset:!1,children:[V,(0,Ft.jsxs)(wo.default,{style:q,children:[U,(0,Ft.jsxs)(Sr,{label:W,size:"small",color:"secondary",variant:"solid",onPress:c,style:Z,children:[K,Y]})]})]}),t[67]=c,t[68]=W,t[69]=K,t[70]=Y,t[71]=J):J=t[71],t[72]!==T||t[73]!==H||t[74]!==J?(X=(0,Ft.jsxs)(_l,{testID:"PreferencesLanguagesScreen",children:[_,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[T,L,H,N,J]})})]}),t[72]=T,t[73]=H,t[74]=J,t[75]=X):X=t[75],X}function $0(e){const{label:t,value:s}=e;return(0,Ft.jsxs)(iL,{value:s,label:t,children:[(0,Ft.jsx)(lL,{}),(0,Ft.jsx)(aL,{children:t})]})}function G0(e){return{label:e.name,value:e.code2}}function Y0(e){const{label:t,value:s}=e;return(0,Ft.jsxs)(iL,{value:s,label:t,children:[(0,Ft.jsx)(lL,{}),(0,Ft.jsx)(aL,{children:t})]})}function J0(e){return Bs.find((t=>t.code2===e))}function X0(){const e=(0,i.c)(13),{_:t}=(0,ft.useLingui)(),s=bh(),n=(0,wd.useQueryClient)();let o,r,a,l,c;return e[0]!==s||e[1]!==n?(o=async e=>{const t="enabled"===e[0];await s.api.app.bsky.notification.putPreferences({priority:t}),await lg(5,1e3,(e=>e.data.priority===t),(()=>s.api.app.bsky.notification.listNotifications({limit:1}))),function(e,t){function s(e){return e?Object.assign({},e,{pages:e.pages.map((e=>Object.assign({},e,{priority:t})))}):e}e.setQueryData(Ib("all"),s),e.setQueryData(Ib("mentions"),s)}(n,t)},e[0]=s,e[1]=n,e[2]=o):o=e[2],e[3]!==t?(r=e=>{ys.error("Failed to save notification preferences",{safeMessage:e}),Zu(t({id:"qbee94"}),"xmark")},a=()=>{Zu(t({id:"4thdqs"}))},e[3]=t,e[4]=r,e[5]=a):(r=e[4],a=e[5]),e[6]!==n?(l=()=>{Bb.emit("invalidate"),n.invalidateQueries({queryKey:Ib("all")}),n.invalidateQueries({queryKey:Ib("mentions")})},e[6]=n,e[7]=l):l=e[7],e[8]!==o||e[9]!==r||e[10]!==a||e[11]!==l?(c={mutationFn:o,onError:r,onSuccess:a,onSettled:l},e[8]=o,e[9]=r,e[10]=a,e[11]=l,e[12]=c):c=e[12],(0,Sd.useMutation)(c)}function e1(e){const t=(0,i.c)(13),{_:s}=(0,ft.useLingui)();let n;t[0]===Symbol.for("react.memo_cache_sentinel")?(n={filter:"all"},t[0]=n):n=t[0];const{data:o,isError:r,refetch:a}=Rb(n);let l;t[1]!==o?.pages?(l=o?.pages.at(0)?.priority,t[1]=o?.pages,t[2]=l):l=t[2];const c=l,{mutate:d,isPending:u,variables:m}=X0(),h=u?"enabled"===m[0]:c;let p,f,g;return t[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(dl,{}),t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsxs)(il,{children:[p,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"hFwWnI"})})}),(0,Ft.jsx)(cl,{})]}),t[4]=f):f=t[4],t[5]!==s||t[6]!==o||t[7]!==u||t[8]!==r||t[9]!==d||t[10]!==h||t[11]!==a?(g=(0,Ft.jsxs)(_l,{children:[f,(0,Ft.jsx)(bl,{children:r?(0,Ft.jsx)(UH,{title:s({id:"5yIPLp"}),message:s({id:"ywDBfs"}),onRetry:a,sideBorders:!1}):(0,Ft.jsxs)(GU,{children:[(0,Ft.jsxs)(YU,{children:[(0,Ft.jsx)(tW,{icon:W0}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"x7qAhA"})}),(0,Ft.jsx)(rI,{label:s({id:"4G7pDh"}),type:"checkbox",values:h?["enabled"]:[],onChange:d,disabled:"boolean"!==typeof h||u,children:(0,Ft.jsxs)(iI,{name:"enabled",label:s({id:"hCV/ru"}),style:[kl.flex_1,kl.justify_between],children:[(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"hCV/ru"})}),o?(0,Ft.jsx)(mI,{}):(0,Ft.jsx)(wv,{size:"md"})]})})]}),(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"warning",style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"ujlrBW",components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold]})}})})})]})})]}),t[5]=s,t[6]=o,t[7]=u,t[8]=r,t[9]=d,t[10]=h,t[11]=a,t[12]=g):g=t[12],g}const t1=zr({path:"M3 12a4 4 0 0 1 7.212-2.385c.363.488.963.885 1.696.885h8.111l1.2 1.5-1.2 1.5h-1.783l-1.789-.894a1 1 0 0 0-.894 0l-1.79.894h-1.855c-.733 0-1.333.397-1.696.885A4 4 0 0 1 3 12Zm4-6a6 6 0 1 0 4.817 9.579.3.3 0 0 1 .076-.072l.017-.007H14a1 1 0 0 0 .447-.106L16 14.618l1.553.776c.139.07.292.106.447.106h2.02a2 2 0 0 0 1.561-.75l1.2-1.5a2 2 0 0 0 0-2.5l-1.2-1.5a2 2 0 0 0-1.562-.75h-8.11l-.016-.007a.3.3 0 0 1-.077-.071A6 6 0 0 0 7 6Zm0 7.5a1.5 1.5 0 1 0 0-3 1.5 1.5 0 0 0 0 3Z"});var s1=function(e){return e[e.Email=0]="Email",e[e.ConfirmCode=1]="ConfirmCode",e}(s1||{});function n1({control:e}){const{_:t}=(0,ft.useLingui)(),s=ec(),{gtMobile:n}=ql(),{currentAccount:o}=xh(),r=bh(),[i,a]=(0,mt.useState)(s1.Email),[l,c]=(0,mt.useState)(""),[d,u]=(0,mt.useState)(!1),[m,h]=(0,mt.useState)(""),p=async()=>{h(""),u(!0);try{await r.com.atproto.server.requestEmailUpdate(),a(s1.ConfirmCode)}catch(e){h(ds(String(e)))}finally{u(!1)}},f=async()=>{h(""),u(!0);try{o?.email&&(await r.com.atproto.server.updateEmail({email:o.email,token:l.trim(),emailAuthFactor:!1}),await r.resumeSession(r.session),Zu(t({id:"2rwarr"}))),e.close()}catch(s){const e=String(s);e.includes("Token is invalid")?h(t({id:"QPo/O5"})):h(ds(e))}finally{u(!1)}};return(0,Ft.jsxs)(aa,{control:e,children:[(0,Ft.jsx)(ha,{}),(0,Ft.jsx)(da,{accessibilityDescribedBy:"dialog-description",accessibilityLabelledBy:"dialog-title",children:(0,Ft.jsxs)(wo.default,{style:[kl.relative,kl.gap_md,kl.w_full],children:[(0,Ft.jsx)(fr,{nativeID:"dialog-title",style:[kl.text_2xl,kl.font_bold,s.atoms.text],children:(0,Ft.jsx)(ft.Trans,{id:"jy+2+s"})}),(0,Ft.jsx)(yr,{nativeID:"dialog-description",children:i===s1.ConfirmCode?(0,Ft.jsx)(ft.Trans,{id:"woXbjq",values:{0:o?.email||"(no email)"}}):(0,Ft.jsx)(ft.Trans,{id:"FRsXF9"})}),m?(0,Ft.jsx)(Rx,{message:m}):void 0,i===s1.Email?(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,n&&[kl.flex_row,kl.justify_end,kl.gap_md]],children:[(0,Ft.jsxs)(Sr,{testID:"sendEmailButton",variant:"solid",color:"primary",size:n?"small":"large",onPress:p,label:t({id:"IN+NvY"}),disabled:d,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"IN+NvY"})}),d&&(0,Ft.jsx)(Pr,{icon:wv})]}),(0,Ft.jsx)(Sr,{testID:"haveCodeButton",variant:"ghost",color:"primary",size:n?"small":"large",onPress:()=>a(s1.ConfirmCode),label:t({id:"o+axy6"}),disabled:d,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"o+axy6"})})})]}):i===s1.ConfirmCode?(0,Ft.jsxs)(wo.default,{children:[(0,Ft.jsxs)(wo.default,{style:[kl.mb_md],children:[(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"ioZOzk"})}),(0,Ft.jsxs)(Yi,{children:[(0,Ft.jsx)(sa,{icon:lZ}),(0,Ft.jsx)(ea,{testID:"confirmationCode",label:t({id:"ioZOzk"}),autoCapitalize:"none",autoFocus:!0,autoCorrect:!1,autoComplete:"off",value:l,onChangeText:c,onSubmitEditing:f,editable:!d})]})]}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,n&&[kl.flex_row,kl.justify_end,kl.gap_md]],children:[(0,Ft.jsx)(Sr,{testID:"resendCodeBtn",variant:"ghost",color:"primary",size:n?"small":"large",onPress:p,label:t({id:"G42SNI"}),disabled:d,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"G42SNI"})})}),(0,Ft.jsxs)(Sr,{testID:"confirmBtn",variant:"solid",color:"primary",size:n?"small":"large",onPress:f,label:t({id:"7VpPHA"}),disabled:d,children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"7VpPHA"})}),d&&(0,Ft.jsx)(Pr,{icon:wv})]})]})]}):void 0,!n&&kt&&(0,Ft.jsx)(wo.default,{style:{height:40}})]})})]})}function o1(){const e=(0,i.c)(13),{_:t}=(0,ft.useLingui)(),{currentAccount:s}=xh(),n=Ar(),o=Yv();let r;e[0]!==o?(r=()=>{o.open({id:Ov.Manage2FA})},e[0]=o,e[1]=r):r=e[1];const a=r;let l,c,d,u;return e[2]!==n?(l=(0,Ft.jsx)(n1,{control:n}),e[2]=n,e[3]=l):l=e[3],e[4]!==t||e[5]!==s?.emailAuthFactor?(c=t(s?.emailAuthFactor?{id:"o+XJ9D"}:{id:"PaQ3df"}),e[4]=t,e[5]=s?.emailAuthFactor,e[6]=c):c=e[6],e[7]!==a||e[8]!==c?(d=(0,Ft.jsx)(iW,{label:c,onPress:a}),e[7]=a,e[8]=c,e[9]=d):d=e[9],e[10]!==l||e[11]!==d?(u=(0,Ft.jsxs)(Ft.Fragment,{children:[l,d]}),e[10]=l,e[11]=d,e[12]=u):u=e[12],u}function r1(){const e=(0,i.c)(26),t=ec(),{_:s}=(0,ft.useLingui)(),{currentAccount:n}=xh(),o=n?.did;let r;e[0]!==o?(r={did:o},e[0]=o,e[1]=r):r=e[1];const{data:a}=ub(r),l=pb();let c;e[2]!==a?.labels?(c=a?.labels?.some(c1)||!1,e[2]=a?.labels,e[3]=c):c=e[3];const d=c,u=a&&!l.isPending;let m;e[4]!==a||e[5]!==l?(m=()=>{if(!a)return;let e;e=!1,l.mutate({profile:a,updates:t=>{const s=Rf(t.labels,Is.ComAtprotoLabelDefs.validateSelfLabels)?t.labels:{$type:"com.atproto.label.defs#selfLabels",values:[]};return s.values.some(l1)?(e=!1,s.values=s.values.filter(a1)):(e=!0,s.values.push({val:"!no-unauthenticated"})),0===s.values.length?delete t.labels:t.labels=s,t},checkCommitted:t=>!!t.data.labels?.some(i1)===e})},e[4]=a,e[5]=l,e[6]=m):m=e[6];const h=m;let p;e[7]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_1,kl.gap_sm],e[7]=p):p=e[7];const f=!u||l.isPending;let g,x,_,y,b,j,v,w,S;return e[8]!==s?(g=s({id:"9Y7FMD"}),e[8]=s,e[9]=g):g=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.w_full],e[10]=x):x=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"9Y7FMD"})}),y=(0,Ft.jsx)(mI,{}),e[11]=_,e[12]=y):(_=e[11],y=e[12]),e[13]!==d||e[14]!==h||e[15]!==f||e[16]!==g?(b=(0,Ft.jsxs)(iI,{name:"logged_out_visibility",disabled:f,value:d,onChange:h,label:g,style:x,children:[_,y]}),e[13]=d,e[14]=h,e[15]=f,e[16]=g,e[17]=b):b=e[17],e[18]!==t.atoms.text_contrast_high?(j=[kl.leading_snug,t.atoms.text_contrast_high],e[18]=t.atoms.text_contrast_high,e[19]=j):j=e[19],e[20]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"u9cCQU"}),e[20]=v):v=e[20],e[21]!==j?(w=(0,Ft.jsx)(fr,{style:j,children:v}),e[21]=j,e[22]=w):w=e[22],e[23]!==b||e[24]!==w?(S=(0,Ft.jsxs)(wo.default,{style:p,children:[b,w]}),e[23]=b,e[24]=w,e[25]=S):S=e[25],S}function i1(e){return"!no-unauthenticated"===e.val}function a1(e){return"!no-unauthenticated"!==e.val}function l1(e){return"!no-unauthenticated"===e.val}function c1(e){return"!no-unauthenticated"===e.val}function d1(e){const t=(0,i.c)(35),{_:s}=(0,ft.useLingui)(),n=ec(),{data:o}=T0(),{currentAccount:r}=xh();let a,l;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(dl,{}),t[0]=a):a=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsxs)(il,{children:[a,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"RyQRel"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=l):l=t[1];const c=r?.emailAuthFactor?n.palette.primary_500:void 0;let d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;return t[2]!==c?(d=(0,Ft.jsx)(tW,{icon:Cv,color:c}),t[2]=c,t[3]=d):d=t[3],t[4]!==r?.emailAuthFactor?(u=(0,Ft.jsx)(sW,{children:r?.emailAuthFactor?(0,Ft.jsx)(ft.Trans,{id:"vzOC8R"}):(0,Ft.jsx)(ft.Trans,{id:"WWDvcP"})}),t[4]=r?.emailAuthFactor,t[5]=u):u=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(o1,{}),t[6]=m):m=t[6],t[7]!==d||t[8]!==u?(h=(0,Ft.jsxs)(JU,{children:[d,u,m]}),t[7]=d,t[8]=u,t[9]=h):h=t[9],t[10]!==s?(p=s({id:"SMmUnj"}),t[10]=s,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(tW,{icon:t1}),t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"SMmUnj"})}),t[13]=g):g=t[13],t[14]!==o?(x=o&&o.length>0&&(0,Ft.jsx)(rW,{children:o.length}),t[14]=o,t[15]=x):x=t[15],t[16]!==x||t[17]!==p?(_=(0,Ft.jsxs)(XU,{to:"/settings/app-passwords",label:p,children:[f,g,x]}),t[16]=x,t[17]=p,t[18]=_):_=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(nW,{}),t[19]=y):y=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(tW,{icon:TS}),t[20]=b):b=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsxs)(YU,{children:[b,(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"w2yNjr"})}),(0,Ft.jsx)(r1,{})]}),t[21]=j):j=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_1],t[22]=v):v=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(zj,{}),t[23]=w):w=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_1,kl.gap_sm],t[24]=S):S=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(Hj,{children:(0,Ft.jsx)(ft.Trans,{id:"+lYa0i"})}),t[25]=k):k=t[25],t[26]!==s?(C=s({id:"lvYkpV"}),t[26]=s,t[27]=C):C=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(ft.Trans,{id:"lvYkpV"}),t[28]=P):P=t[28],t[29]!==C?(T=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(qj,{type:"tip",style:v,children:(0,Ft.jsxs)(Vj,{children:[w,(0,Ft.jsxs)(wo.default,{style:S,children:[k,(0,Ft.jsx)(Hj,{children:(0,Ft.jsx)(fv,{label:C,to:"https://blueskyweb.zendesk.com/hc/en-us/articles/15835264007693-Data-Privacy",children:P})})]})]})})}),t[29]=C,t[30]=T):T=t[30],t[31]!==_||t[32]!==T||t[33]!==h?(L=(0,Ft.jsxs)(_l,{children:[l,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[h,_,y,j,T]})})]}),t[31]=_,t[32]=T,t[33]=h,t[34]=L):L=t[34],L}function u1(e){const t=(0,i.c)(141),{_:s}=(0,ft.useLingui)(),n=(0,ko.useReducedMotion)(),{logoutEveryAccount:o}=_h(),{accounts:r,currentAccount:a}=xh(),l=Ar(),c=Ar(),d=a?.did;let u;t[0]!==d?(u={did:d},t[0]=d,t[1]=u):u=t[1];const{data:m}=ub(u);let h,p;if(t[2]!==r||t[3]!==a?.did){let e;t[5]!==a?.did?(e=e=>e.did!==a?.did,t[5]=a?.did,t[6]=e):e=t[6],h=r.filter(e).map(g1),t[2]=r,t[3]=a?.did,t[4]=h}else h=t[4];t[7]!==h?(p={handles:h},t[7]=h,t[8]=p):p=t[8];const{data:f}=mb(p),{pendingDid:g,onPressSwitchAccount:x}=MW(),[_,y]=(0,mt.useState)(!1),[b,j]=(0,mt.useState)(!1);let v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe,Te,Le,Ae,Ie;return t[9]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(dl,{}),t[9]=v):v=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsxs)(il,{children:[v,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"Tz0i8g"})})}),(0,Ft.jsx)(cl,{})]}),t[10]=w):w=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.px_xl,kl.pt_md,kl.pb_md,kl.w_full,kl.gap_2xs,kl.align_center,{minHeight:160}],t[11]=S):S=t[11],t[12]!==m?(k=m&&(0,Ft.jsx)(x1,{profile:m}),t[12]=m,t[13]=k):k=t[13],t[14]!==k?(C=(0,Ft.jsx)(wo.default,{style:S,children:k}),t[14]=k,t[15]=C):C=t[15],t[16]!==s||t[17]!==r||t[18]!==a?.did||t[19]!==x||t[20]!==f?.profiles||t[21]!==g||t[22]!==n||t[23]!==_?(P=r.length>1?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(eW,{label:s({id:"iSn7SN"}),accessibilityHint:s({id:"/8rX+T"}),onPress:()=>{n||vF.default.configureNext(vF.default.Presets.easeInEaseOut),y(f1)},children:[(0,Ft.jsx)(tW,{icon:mC}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"iSn7SN"})}),_?(0,Ft.jsx)(tW,{icon:KT,size:"md"}):(0,Ft.jsx)(V$,{profiles:r.map(p1).filter((e=>e!==a?.did)).slice(0,5)})]}),_&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(nW,{}),r.filter((e=>e.did!==a?.did)).map((e=>(0,Ft.jsx)(j1,{account:e,profile:f?.profiles?.find((t=>t.did===e.did)),pendingDid:g,onPressSwitchAccount:x},e.did))),(0,Ft.jsx)(b1,{})]})]}):(0,Ft.jsx)(b1,{}),t[16]=s,t[17]=r,t[18]=a?.did,t[19]=x,t[20]=f?.profiles,t[21]=g,t[22]=n,t[23]=_,t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(nW,{}),t[25]=T):T=t[25],t[26]!==s?(L=s({id:"q95mvW"}),t[26]=s,t[27]=L):L=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(tW,{icon:wB}),t[28]=A):A=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(I=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"q95mvW"})}),t[29]=I):I=t[29],t[30]!==L?(R=(0,Ft.jsxs)(XU,{to:"/settings/10x",label:L,children:[A,I]}),t[30]=L,t[31]=R):R=t[31],t[32]!==s?(D=s({id:"AeXO77"}),t[32]=s,t[33]=D):D=t[33],t[34]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(tW,{icon:iC}),t[34]=F):F=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"AeXO77"})}),t[35]=E):E=t[35],t[36]!==D?(M=(0,Ft.jsxs)(XU,{to:"/settings/account",label:D,children:[F,E]}),t[36]=D,t[37]=M):M=t[37],t[38]!==s?(B=s({id:"FzYTte"}),t[38]=s,t[39]=B):B=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(O=(0,Ft.jsx)(tW,{icon:cZ}),t[40]=O):O=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"FzYTte"})}),t[41]=z):z=t[41],t[42]!==B?(H=(0,Ft.jsxs)(XU,{to:"/settings/privacy-and-security",label:B,children:[O,z]}),t[42]=B,t[43]=H):H=t[43],t[44]!==s?(N=s({id:"DzmsLV"}),t[44]=s,t[45]=N):N=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(tW,{icon:pW}),t[46]=V):V=t[46],t[47]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"DzmsLV"})}),t[47]=q):q=t[47],t[48]!==N?(U=(0,Ft.jsxs)(XU,{to:"/moderation",label:N,children:[V,q]}),t[48]=N,t[49]=U):U=t[49],t[50]!==s?(W=s({id:"jaQv9r"}),t[50]=s,t[51]=W):W=t[51],t[52]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(tW,{icon:fW}),t[52]=Z):Z=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"jaQv9r"})}),t[53]=Q):Q=t[53],t[54]!==W?(K=(0,Ft.jsxs)(XU,{to:"/settings/content-and-media",label:W,children:[Z,Q]}),t[54]=W,t[55]=K):K=t[55],t[56]!==s?($=s({id:"aAIQg2"}),t[56]=s,t[57]=$):$=t[57],t[58]===Symbol.for("react.memo_cache_sentinel")?(G=(0,Ft.jsx)(tW,{icon:mW}),t[58]=G):G=t[58],t[59]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"aAIQg2"})}),t[59]=Y):Y=t[59],t[60]!==$?(J=(0,Ft.jsxs)(XU,{to:"/settings/appearance",label:$,children:[G,Y]}),t[60]=$,t[61]=J):J=t[61],t[62]!==s?(X=s({id:"AnNF5e"}),t[62]=s,t[63]=X):X=t[63],t[64]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(tW,{icon:JX}),t[64]=ee):ee=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"AnNF5e"})}),t[65]=te):te=t[65],t[66]!==X?(se=(0,Ft.jsxs)(XU,{to:"/settings/accessibility",label:X,children:[ee,te]}),t[66]=X,t[67]=se):se=t[67],t[68]!==s?(ne=s({id:"GAmD3h"}),t[68]=s,t[69]=ne):ne=t[69],t[70]===Symbol.for("react.memo_cache_sentinel")?(oe=(0,Ft.jsx)(tW,{icon:sP}),t[70]=oe):oe=t[70],t[71]===Symbol.for("react.memo_cache_sentinel")?(re=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"GAmD3h"})}),t[71]=re):re=t[71],t[72]!==ne?(ie=(0,Ft.jsxs)(XU,{to:"/settings/language",label:ne,children:[oe,re]}),t[72]=ne,t[73]=ie):ie=t[73],t[74]!==s?(ae=s({id:"c3XJ18"}),t[74]=s,t[75]=ae):ae=t[75],t[76]!==s?(le=s({id:"+v4w1h"}),t[76]=s,t[77]=le):le=t[77],t[78]===Symbol.for("react.memo_cache_sentinel")?(ce=(0,Ft.jsx)(tW,{icon:dW}),t[78]=ce):ce=t[78],t[79]===Symbol.for("react.memo_cache_sentinel")?(de=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"c3XJ18"})}),ue=(0,Ft.jsx)(oW,{}),t[79]=de,t[80]=ue):(de=t[79],ue=t[80]),t[81]!==ae||t[82]!==le?(me=(0,Ft.jsxs)(eW,{onPress:h1,label:ae,accessibilityHint:le,children:[ce,de,ue]}),t[81]=ae,t[82]=le,t[83]=me):me=t[83],t[84]!==s?(he=s({id:"uyJsf6"}),t[84]=s,t[85]=he):he=t[85],t[86]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,Ft.jsx)(tW,{icon:cW}),t[86]=pe):pe=t[86],t[87]===Symbol.for("react.memo_cache_sentinel")?(fe=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"uyJsf6"})}),t[87]=fe):fe=t[87],t[88]!==he?(ge=(0,Ft.jsxs)(XU,{to:"/settings/about",label:he,children:[pe,fe]}),t[88]=he,t[89]=ge):ge=t[89],t[90]===Symbol.for("react.memo_cache_sentinel")?(xe=(0,Ft.jsx)(nW,{}),t[90]=xe):xe=t[90],t[91]!==c?(_e=()=>c.open(),t[91]=c,t[92]=_e):_e=t[92],t[93]!==s?(ye=s({id:"fcWrnU"}),t[93]=s,t[94]=ye):ye=t[94],t[95]===Symbol.for("react.memo_cache_sentinel")?(be=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"fcWrnU"})}),t[95]=be):be=t[95],t[96]!==_e||t[97]!==ye?(je=(0,Ft.jsx)(eW,{destructive:!0,onPress:_e,label:ye,children:be}),t[96]=_e,t[97]=ye,t[98]=je):je=t[98],t[99]!==s||t[100]!==n||t[101]!==b?(ve=Kt&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(nW,{}),(0,Ft.jsxs)(eW,{onPress:()=>{n||vF.default.configureNext(vF.default.Presets.easeInEaseOut),j(m1)},label:s({id:"6NJBLi"}),children:[(0,Ft.jsx)(tW,{icon:OB}),(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"6NJBLi"})})]}),b&&(0,Ft.jsx)(_1,{})]}),t[99]=s,t[100]=n,t[101]=b,t[102]=ve):ve=t[102],t[103]!==P||t[104]!==R||t[105]!==M||t[106]!==H||t[107]!==U||t[108]!==K||t[109]!==J||t[110]!==se||t[111]!==ie||t[112]!==me||t[113]!==ge||t[114]!==je||t[115]!==ve||t[116]!==C?(we=(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[C,P,T,R,M,H,U,K,J,se,ie,me,ge,xe,je,ve]})}),t[103]=P,t[104]=R,t[105]=M,t[106]=H,t[107]=U,t[108]=K,t[109]=J,t[110]=se,t[111]=ie,t[112]=me,t[113]=ge,t[114]=je,t[115]=ve,t[116]=C,t[117]=we):we=t[117],t[118]!==s?(Se=s({id:"NES1ey"}),t[118]=s,t[119]=Se):Se=t[119],t[120]!==s?(ke=s({id:"jZnhlB"}),t[120]=s,t[121]=ke):ke=t[121],t[122]!==o?(Ce=()=>o("Settings"),t[122]=o,t[123]=Ce):Ce=t[123],t[124]!==s?(Pe=s({id:"fcWrnU"}),t[124]=s,t[125]=Pe):Pe=t[125],t[126]!==s?(Te=s({id:"dEgA5A"}),t[126]=s,t[127]=Te):Te=t[127],t[128]!==c||t[129]!==Se||t[130]!==ke||t[131]!==Ce||t[132]!==Pe||t[133]!==Te?(Le=(0,Ft.jsx)(bx,{control:c,title:Se,description:ke,onConfirm:Ce,confirmButtonCta:Pe,cancelButtonCta:Te,confirmButtonColor:"negative"}),t[128]=c,t[129]=Se,t[130]=ke,t[131]=Ce,t[132]=Pe,t[133]=Te,t[134]=Le):Le=t[134],t[135]!==l?(Ae=(0,Ft.jsx)(HW,{control:l}),t[135]=l,t[136]=Ae):Ae=t[136],t[137]!==we||t[138]!==Le||t[139]!==Ae?(Ie=(0,Ft.jsxs)(_l,{children:[w,we,Le,Ae]}),t[137]=we,t[138]=Le,t[139]=Ae,t[140]=Ie):Ie=t[140],Ie}function m1(e){return!e}function h1(){return Yj.default.openURL(ei)}function p1(e){return e.did}function f1(e){return!e}function g1(e){return e.handle}function x1(e){const t=(0,i.c)(44),{profile:s}=e,n=ec(),{gtMobile:o}=ql(),r=Ry(s),a=Op();let l;t[0]!==r?(l={profile:r},t[0]=r,t[1]=l):l=t[1];const c=Hk(l),{isActive:d}=nS(s);if(!a)return null;let u,m,h,p,f;if(t[2]!==a||t[3]!==s||t[4]!==r.avatar){const e=(0,Is.moderateProfile)(s,a);let n;t[10]!==s.displayName||t[11]!==s.handle?(n=s.displayName||su(s.handle),t[10]=s.displayName,t[11]=s.handle,t[12]=n):n=t[12],m=Qf(n,e.ui("displayName")),u=mP,h=80,p=r.avatar,f=e.ui("avatar"),t[2]=a,t[3]=s,t[4]=r.avatar,t[5]=u,t[6]=m,t[7]=h,t[8]=p,t[9]=f}else u=t[5],m=t[6],h=t[7],p=t[8],f=t[9];const g=r.associated?.labeler?"labeler":"user";let x,_;t[13]!==u||t[14]!==d||t[15]!==h||t[16]!==p||t[17]!==f||t[18]!==g?(x=(0,Ft.jsx)(u,{size:h,avatar:p,moderation:f,type:g,live:d}),t[13]=u,t[14]=d,t[15]=h,t[16]=p,t[17]=f,t[18]=g,t[19]=x):x=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_row,kl.gap_xs,kl.align_center,kl.justify_center,kl.w_full],t[20]=_):_=t[20];const y=o?kl.text_4xl:kl.text_3xl;let b,j,v,w,S,k,C,P;return t[21]!==y||t[22]!==n.atoms.text?(b=[kl.pt_sm,n.atoms.text,y,kl.font_heavy],t[21]=y,t[22]=n.atoms.text,t[23]=b):b=t[23],t[24]!==m||t[25]!==b?(j=(0,Ft.jsx)(fr,{emoji:!0,testID:"profileHeaderDisplayName",numberOfLines:1,style:b,children:m}),t[24]=m,t[25]=b,t[26]=j):j=t[26],t[27]!==r||t[28]!==c?(v=nA(c)&&(0,Ft.jsx)(wo.default,{style:[{marginTop:vo({web:8,ios:8,android:10})}],children:(0,Ft.jsx)(oA,{profile:r,size:"lg"})}),t[27]=r,t[28]=c,t[29]=v):v=t[29],t[30]!==j||t[31]!==v?(w=(0,Ft.jsxs)(wo.default,{style:_,children:[j,v]}),t[30]=j,t[31]=v,t[32]=w):w=t[32],t[33]!==n.atoms.text_contrast_medium?(S=[kl.text_md,kl.leading_snug,n.atoms.text_contrast_medium],t[33]=n.atoms.text_contrast_medium,t[34]=S):S=t[34],t[35]!==s.handle?(k=su(s.handle,"@"),t[35]=s.handle,t[36]=k):k=t[36],t[37]!==S||t[38]!==k?(C=(0,Ft.jsx)(fr,{style:S,children:k}),t[37]=S,t[38]=k,t[39]=C):C=t[39],t[40]!==w||t[41]!==C||t[42]!==x?(P=(0,Ft.jsxs)(Ft.Fragment,{children:[x,w,C]}),t[40]=w,t[41]=C,t[42]=x,t[43]=P):P=t[43],P}function _1(){const e=(0,i.c)(67),{_:t}=(0,ft.useLingui)(),s=Ka(),n=(0,va.useNavigation)(),{mutate:o}=function(){const e=(0,i.c)(3),{currentAccount:t}=xh(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async()=>{if(!t)throw new Error("Not signed in");return await s.api.com.atproto.repo.deleteRecord({repo:t.did,collection:"chat.bsky.actor.declaration",rkey:"self"})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}();let r;e[0]!==t||e[1]!==n||e[2]!==s?(r=async()=>{n.navigate("Home"),s({type:"start"}),Zu(t({id:"firK30"}))},e[0]=t,e[1]=n,e[2]=s,e[3]=r):r=e[3];const a=r;let l;e[4]!==t?(l=async()=>{await yn(),Zu(t({id:"/G+96W"}))},e[4]=t,e[5]=l):l=e[5];const c=l,d=y1;let u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O;return e[6]!==n?(u=()=>n.navigate("Log"),e[6]=n,e[7]=u):u=e[7],e[8]!==t?(m=t({id:"a8gSOK"}),e[8]=t,e[9]=m):m=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"fP8jTZ"})}),e[10]=h):h=e[10],e[11]!==u||e[12]!==m?(p=(0,Ft.jsx)(eW,{onPress:u,label:m,children:h}),e[11]=u,e[12]=m,e[13]=p):p=e[13],e[14]!==n?(f=()=>n.navigate("Debug"),e[14]=n,e[15]=f):f=e[15],e[16]!==t?(g=t({id:"2ydYQU"}),e[16]=t,e[17]=g):g=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"P5jja7"})}),e[18]=x):x=e[18],e[19]!==f||e[20]!==g?(_=(0,Ft.jsx)(eW,{onPress:f,label:g,children:x}),e[19]=f,e[20]=g,e[21]=_):_=e[21],e[22]!==n?(y=()=>n.navigate("DebugMod"),e[22]=n,e[23]=y):y=e[23],e[24]!==t?(b=t({id:"RN9R0C"}),e[24]=t,e[25]=b):b=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"GGeRw+"})}),e[26]=j):j=e[26],e[27]!==y||e[28]!==b?(v=(0,Ft.jsx)(eW,{onPress:y,label:b,children:j}),e[27]=y,e[28]=b,e[29]=v):v=e[29],e[30]!==o?(w=()=>o(),e[30]=o,e[31]=w):w=e[31],e[32]!==t?(S=t({id:"2ydYQU"}),e[32]=t,e[33]=S):S=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Viz9D1"})}),e[34]=k):k=e[34],e[35]!==w||e[36]!==S?(C=(0,Ft.jsx)(eW,{onPress:w,label:S,children:k}),e[35]=w,e[36]=S,e[37]=C):C=e[37],e[38]!==a?(P=()=>a(),e[38]=a,e[39]=P):P=e[39],e[40]!==t?(T=t({id:"xEL92I"}),e[40]=t,e[41]=T):T=e[41],e[42]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"xEL92I"})}),e[42]=L):L=e[42],e[43]!==P||e[44]!==T?(A=(0,Ft.jsx)(eW,{onPress:P,label:T,children:L}),e[43]=P,e[44]=T,e[45]=A):A=e[45],e[46]!==t?(I=t({id:"Uzgbx8"}),e[46]=t,e[47]=I):I=e[47],e[48]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Uzgbx8"})}),e[48]=R):R=e[48],e[49]!==I?(D=(0,Ft.jsx)(eW,{onPress:d,label:I,children:R}),e[49]=I,e[50]=D):D=e[50],e[51]!==c?(F=()=>c(),e[51]=c,e[52]=F):F=e[52],e[53]!==t?(E=t({id:"zxFM2c"}),e[53]=t,e[54]=E):E=e[54],e[55]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"r+lhUL"})}),e[55]=M):M=e[55],e[56]!==F||e[57]!==E?(B=(0,Ft.jsx)(eW,{onPress:F,label:E,children:M}),e[56]=F,e[57]=E,e[58]=B):B=e[58],e[59]!==v||e[60]!==C||e[61]!==A||e[62]!==D||e[63]!==B||e[64]!==p||e[65]!==_?(O=(0,Ft.jsxs)(Ft.Fragment,{children:[p,_,v,C,A,D,B]}),e[59]=v,e[60]=C,e[61]=A,e[62]=D,e[63]=B,e[64]=p,e[65]=_,e[66]=O):O=e[66],O}function y1(){const e=new Date;e.setDate(e.getDate()-3),xn("reminders",Object.assign({},gn("reminders"),{lastEmailConfirm:e.toISOString()})),Zu(cs.i18n._({id:"BpDJl6"}))}function b1(){const e=(0,i.c)(10),{_:t}=(0,ft.useLingui)(),{setShowLoggedOut:s}=oj(),n=Om();let o;e[0]!==n||e[1]!==s?(o=()=>{s(!0),n()},e[0]=n,e[1]=s,e[2]=o):o=e[2];const r=o;let a,l,c,d;return e[3]!==t?(a=t({id:"O5JHbm"}),e[3]=t,e[4]=a):a=e[4],e[5]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(tW,{icon:uC}),e[5]=l):l=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"O5JHbm"})}),e[6]=c):c=e[6],e[7]!==r||e[8]!==a?(d=(0,Ft.jsxs)(eW,{onPress:r,label:a,children:[l,c]}),e[7]=r,e[8]=a,e[9]=d):d=e[9],d}function j1(e){const t=(0,i.c)(50),{profile:s,account:n,pendingDid:o,onPressSwitchAccount:r}=e,{_:a}=(0,ft.useLingui)(),l=ec(),c=Op(),d=Ar(),{removeAccount:u}=_h(),{isActive:m}=nS(s);let h;t[0]!==n||t[1]!==r||t[2]!==o?(h=()=>{o||r(n,"Settings")},t[0]=n,t[1]=r,t[2]=o,t[3]=h):h=t[3];const p=h;let f,g,x,_,y,b,j,v,w,S,k,C,P,T;return t[4]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.relative],t[4]=f):f=t[4],t[5]!==a?(g=a({id:"iSn7SN"}),t[5]=a,t[6]=g):g=t[6],t[7]!==m||t[8]!==c||t[9]!==s?(x=c&&s?(0,Ft.jsx)(mP,{size:28,avatar:s.avatar,moderation:(0,Is.moderateProfile)(s,c).ui("avatar"),type:s.associated?.labeler?"labeler":"user",live:m,hideLiveBadge:!0}):(0,Ft.jsx)(wo.default,{style:[{width:28}]}),t[7]=m,t[8]=c,t[9]=s,t[10]=x):x=t[10],t[11]!==n.handle?(_=su(n.handle,"@"),t[11]=n.handle,t[12]=_):_=t[12],t[13]!==_?(y=(0,Ft.jsx)(sW,{children:_}),t[13]=_,t[14]=y):y=t[14],t[15]!==n.did||t[16]!==o?(b=o===n.did&&(0,Ft.jsx)(tW,{icon:wv}),t[15]=n.did,t[16]=o,t[17]=b):b=t[17],t[18]!==p||t[19]!==g||t[20]!==x||t[21]!==y||t[22]!==b?(j=(0,Ft.jsxs)(eW,{onPress:p,label:g,children:[x,y,b]}),t[18]=p,t[19]=g,t[20]=x,t[21]=y,t[22]=b,t[23]=j):j=t[23],t[24]!==a||t[25]!==o||t[26]!==d||t[27]!==l?(v=!o&&(0,Ft.jsxs)(bC,{children:[(0,Ft.jsx)(vC,{label:a({id:"4WY4MD"}),children:e=>{const{props:t,state:s}=e;return(0,Ft.jsx)(tr.default,Object.assign({},t,{style:[kl.absolute,{top:10,right:eo.lg},kl.p_xs,kl.rounded_full,(s.hovered||s.pressed)&&l.atoms.bg_contrast_25],children:(0,Ft.jsx)(lT,{size:"md",style:l.atoms.text})}))}}),(0,Ft.jsx)(wC,{showCancel:!0,children:(0,Ft.jsxs)(SC,{label:a({id:"1O32oy"}),onPress:()=>d.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"1O32oy"})}),(0,Ft.jsx)(CC,{icon:lC})]})})]}),t[24]=a,t[25]=o,t[26]=d,t[27]=l,t[28]=v):v=t[28],t[29]!==a?(w=a({id:"Q7ctMe"}),t[29]=a,t[30]=w):w=t[30],t[31]!==a||t[32]!==n.handle?(S=a({id:"Oarw9X",values:{0:n.handle}}),t[31]=a,t[32]=n.handle,t[33]=S):S=t[33],t[34]!==a||t[35]!==n||t[36]!==u?(k=()=>{u(n),Zu(a({id:"lAg5yo"}))},t[34]=a,t[35]=n,t[36]=u,t[37]=k):k=t[37],t[38]!==a?(C=a({id:"t/YqKh"}),t[38]=a,t[39]=C):C=t[39],t[40]!==d||t[41]!==w||t[42]!==S||t[43]!==k||t[44]!==C?(P=(0,Ft.jsx)(bx,{control:d,title:w,description:S,onConfirm:k,confirmButtonCta:C,confirmButtonColor:"negative"}),t[40]=d,t[41]=w,t[42]=S,t[43]=k,t[44]=C,t[45]=P):P=t[45],t[46]!==P||t[47]!==j||t[48]!==v?(T=(0,Ft.jsxs)(wo.default,{style:f,children:[j,v,P]}),t[46]=P,t[47]=j,t[48]=v,t[49]=T):T=t[49],T}function v1(){const e=(0,i.c)(24),t=ec();let s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=["base"],e[0]=s):s=e[0];const n=Kl(s),{data:o}=Fh(),[r,a]=(0,mt.useState)(!1);let l,c,d,u,m,h,p,f,g,x,_,y;return e[1]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(dl,{}),e[1]=l):l=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"4zDzuI"})})}),e[2]=c):c=e[2],e[3]!==r?(d=r&&(0,Ft.jsx)(wv,{}),e[3]=r,e[4]=d):d=e[4],e[5]!==d?(u=(0,Ft.jsxs)(il,{children:[l,c,(0,Ft.jsx)(cl,{children:d})]}),e[5]=d,e[6]=u):u=e[6],e[7]!==n?(m=[n,kl.gap_lg],e[7]=n,e[8]=m):m=e[8],e[9]!==t.atoms.text_contrast_medium?(h=[kl.flex_1,kl.text_sm,kl.leading_snug,t.atoms.text_contrast_medium],e[9]=t.atoms.text_contrast_medium,e[10]=h):h=e[10],e[11]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ft.Trans,{id:"oHGm0u"}),e[11]=p):p=e[11],e[12]!==h?(f=(0,Ft.jsx)(fr,{style:h,children:p}),e[12]=h,e[13]=f):f=e[13],e[14]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Iv,{}),e[14]=g):g=e[14],e[15]!==o?(x=o?(0,Ft.jsx)(w1,{preferences:o,setIsSaving:a}):(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.justify_center,kl.p_lg],children:(0,Ft.jsx)(wv,{size:"xl"})}),e[15]=o,e[16]=x):x=e[16],e[17]!==x||e[18]!==m||e[19]!==f?(_=(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(wo.default,{style:m,children:[f,g,x]})}),e[17]=x,e[18]=m,e[19]=f,e[20]=_):_=e[20],e[21]!==_||e[22]!==u?(y=(0,Ft.jsxs)(_l,{children:[u,_]}),e[21]=_,e[22]=u,e[23]=y):y=e[23],y}function w1({preferences:e,setIsSaving:t}){const{_:s}=(0,ft.useLingui)(),n=bh(),o=(0,wd.useQueryClient)(),r=ZF(),i=(0,mt.useMemo)((()=>e.interests.tags||[]),[e.interests.tags]),[a,l]=(0,mt.useState)(i),c=(0,mt.useMemo)((()=>gz()((async e=>{if(!(e.length===i.length&&i.every((t=>e.find((e=>e===t)))))){t(!0);try{await n.setInterestsPref({tags:e}),o.setQueriesData({queryKey:Dh},(t=>t?(t.interests.tags=e,t):t)),await Promise.all([await o.resetQueries({queryKey:FJ()}),await o.resetQueries({queryKey:IJ()}),await o.resetQueries({queryKey:Ty({})})]),Zu(s({id:"NrBW1B"}))}catch(r){Zu(s({id:"bDZ5lh"}),"xmark")}finally{t(!1)}}}),1500)),[s,n,t,o,i]);return(0,Ft.jsxs)(Ft.Fragment,{children:[0===a.length&&(0,Ft.jsx)(Uj,{type:"tip",children:(0,Ft.jsx)(ft.Trans,{id:"/IMUDs"})}),(0,Ft.jsx)(rI,{values:a,onChange:async e=>{l(e),c(e)},label:s({id:"banW+8"}),children:(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.flex_wrap,kl.gap_sm],children:k1.map((e=>r[e]?(0,Ft.jsx)(iI,{name:e,label:r[e],children:(0,Ft.jsx)(S1,{interest:e})},e):null))})})]})}function S1(e){const t=(0,i.c)(54),{interest:s}=e,n=ec(),o=ZF(),r=oI();let a,l;t[0]!==n.atoms.bg_contrast_100?(l=[n.atoms.bg_contrast_100],t[0]=n.atoms.bg_contrast_100,t[1]=l):l=t[1];const c=l;let d;t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[],t[2]=d):d=t[2];const u=d;let m;t[3]===Symbol.for("react.memo_cache_sentinel")?(m=[],t[3]=m):m=t[3];const h=m;let p;t[4]!==n.atoms.bg_contrast_900?(p=[n.atoms.bg_contrast_900],t[4]=n.atoms.bg_contrast_900,t[5]=p):p=t[5];const f=p;let g;t[6]!==n.atoms.bg_contrast_975?(g=[n.atoms.bg_contrast_975],t[6]=n.atoms.bg_contrast_975,t[7]=g):g=t[7];const x=g;let _;t[8]!==n.atoms.text_inverted?(_=[n.atoms.text_inverted],t[8]=n.atoms.text_inverted,t[9]=_):_=t[9];const y=_;let b;t[10]!==c||t[11]!==f||t[12]!==x||t[13]!==y?(b={hovered:c,focused:u,pressed:h,selected:f,selectedHover:x,textSelected:y},t[10]=c,t[11]=f,t[12]=x,t[13]=y,t[14]=b):b=t[14],a=b;const j=a;let v,w,S,k,C,P,T,L,A;t[15]!==r.hovered||t[16]!==j?(v=r.hovered?j.hovered:{},t[15]=r.hovered,t[16]=j,t[17]=v):v=t[17],t[18]!==r.focused||t[19]!==j?(w=r.focused?j.hovered:{},t[18]=r.focused,t[19]=j,t[20]=w):w=t[20],t[21]!==r.pressed||t[22]!==j?(S=r.pressed?j.hovered:{},t[21]=r.pressed,t[22]=j,t[23]=S):S=t[23],t[24]!==r.selected||t[25]!==j?(k=r.selected?j.selected:{},t[24]=r.selected,t[25]=j,t[26]=k):k=t[26],t[27]!==r.focused||t[28]!==r.hovered||t[29]!==r.pressed||t[30]!==r.selected||t[31]!==j?(C=r.selected&&(r.hovered||r.focused||r.pressed)?j.selectedHover:{},t[27]=r.focused,t[28]=r.hovered,t[29]=r.pressed,t[30]=r.selected,t[31]=j,t[32]=C):C=t[32],t[33]!==n.atoms.bg_contrast_50||t[34]!==w||t[35]!==S||t[36]!==k||t[37]!==C||t[38]!==v?(P=[kl.rounded_full,kl.py_md,kl.px_xl,n.atoms.bg_contrast_50,v,w,S,k,C],t[33]=n.atoms.bg_contrast_50,t[34]=w,t[35]=S,t[36]=k,t[37]=C,t[38]=v,t[39]=P):P=t[39],t[40]!==n.palette.contrast_900?(T={color:n.palette.contrast_900},t[40]=n.palette.contrast_900,t[41]=T):T=t[41],t[42]!==r.selected||t[43]!==j?(L=r.selected?j.textSelected:{},t[42]=r.selected,t[43]=j,t[44]=L):L=t[44],t[45]!==T||t[46]!==L?(A=[T,kl.font_bold,L],t[45]=T,t[46]=L,t[47]=A):A=t[47];const I=o[s];let R,D;return t[48]!==A||t[49]!==I?(R=(0,Ft.jsx)(fr,{selectable:!1,style:A,children:I}),t[48]=A,t[49]=I,t[50]=R):R=t[50],t[51]!==P||t[52]!==R?(D=(0,Ft.jsx)(wo.default,{style:P,children:R}),t[51]=P,t[52]=R,t[53]=D):D=t[53],D}const k1=["animals","art","books","comedy","comics","culture","dev","education","food","gaming","journalism","movies","music","nature","news","pets","photography","politics","science","sports","tech","tv","writers"];function C1(e){const t=(0,i.c)(50),{_:s}=(0,ft.useLingui)(),n=Fc(),o=mt.useContext(Rc),[r,a]=(0,mt.useState)(Object.fromEntries(function(){const e=mt.useContext(Mn);if(!e)throw Error("useGate() cannot be called outside StatsigProvider.");return e}())),l=function(){const e=(0,i.c)(2),t=mt.useContext(Mn);if(!t)throw Error("useDangerousSetGate() cannot be called outside StatsigProvider.");let s;return e[0]!==t?(s=(e,s)=>{t.set(e,s),Bn(t)},e[0]=t,e[1]=s):s=e[1],s}();let c;t[0]!==l||t[1]!==r?(c=(e,t)=>{l(e,t),a(Object.assign({},r,{[e]:t}))},t[0]=l,t[1]=r,t[2]=c):c=t[2];const d=c;let u,m,h,p,f,g;t[3]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(dl,{}),t[3]=u):u=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(il,{children:[u,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"q95mvW"})})}),(0,Ft.jsx)(cl,{})]}),t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.gap_sm],p=(0,Ft.jsx)(tW,{icon:wB}),t[5]=h,t[6]=p):(h=t[5],p=t[6]),t[7]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"M9xgHy"})}),t[7]=f):f=t[7],t[8]!==s?(g=s({id:"yHF7XS"}),t[8]=s,t[9]=g):g=t[9];const x=n??!1;let _,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H;if(t[10]!==o?(_=e=>o(e),t[10]=o,t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.w_full],t[12]=y):y=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"yHF7XS"})}),j=(0,Ft.jsx)(mI,{}),t[13]=b,t[14]=j):(b=t[13],j=t[14]),t[15]!==g||t[16]!==x||t[17]!==_?(v=(0,Ft.jsxs)(YU,{contentContainerStyle:h,children:[p,f,(0,Ft.jsxs)(iI,{name:"use_go_links",label:g,value:x,onChange:_,style:y,children:[b,j]})]}),t[15]=g,t[16]=x,t[17]=_,t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_sm],S=(0,Ft.jsx)(tW,{icon:mW}),t[19]=w,t[20]=S):(w=t[19],S=t[20]),t[21]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"pJQGXx"})}),t[21]=k):k=t[21],t[22]!==s?(C=s({id:"nZE8mn"}),t[22]=s,t[23]=C):C=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.w_full],t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"nZE8mn"})}),L=(0,Ft.jsx)(mI,{}),t[25]=T,t[26]=L):(T=t[25],L=t[26]),t[27]!==C?(A=(0,Ft.jsxs)(YU,{contentContainerStyle:w,children:[S,k,(0,Ft.jsxs)(iI,{name:"under construction",label:C,value:!1,onChange:P1,disabled:!0,style:P,children:[T,L]})]}),t[27]=C,t[28]=A):A=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.gap_sm],R=(0,Ft.jsx)(tW,{icon:mW}),t[29]=I,t[30]=R):(I=t[29],R=t[30]),t[31]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"/C32np"})}),t[31]=D):D=t[31],t[32]!==r||t[33]!==d){let e;t[35]!==d?(e=e=>{const[t,s]=e;return(0,Ft.jsxs)(iI,{name:t,label:t,value:s,onChange:e=>d(t,e),style:[kl.w_full],children:[(0,Ft.jsx)(aI,{style:[kl.flex_1],children:t}),(0,Ft.jsx)(mI,{})]},t)},t[35]=d,t[36]=e):e=t[36],F=Object.entries(r).map(e),t[32]=r,t[33]=d,t[34]=F}else F=t[34];return t[37]!==s?(E=s({id:"8rFrGw"}),t[37]=s,t[38]=E):E=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(M=()=>{Bn(new Map),a({})},t[39]=M):M=t[39],t[40]!==E?(B=(0,Ft.jsx)(iW,{label:E,onPress:M}),t[40]=E,t[41]=B):B=t[41],t[42]!==F||t[43]!==B?(O=(0,Ft.jsxs)(YU,{contentContainerStyle:I,children:[R,D,F,B]}),t[42]=F,t[43]=B,t[44]=O):O=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(JU,{children:(0,Ft.jsx)(Uj,{type:"warning",style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"ZBRmro"})})}),t[45]=z):z=t[45],t[46]!==v||t[47]!==A||t[48]!==O?(H=(0,Ft.jsxs)(_l,{children:[m,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[v,A,O,z]})})]}),t[46]=v,t[47]=A,t[48]=O,t[49]=H):H=t[49],H}function P1(){}function T1(e){const t=(0,i.c)(92),{_:s}=(0,ft.useLingui)(),n=ec(),{data:o}=Fh(),{mutate:r,variables:a}=Oh(),l=a?.sort??o?.threadViewPrefs?.sort,c=Boolean(a?.prioritizeFollowedUsers??o?.threadViewPrefs?.prioritizeFollowedUsers),d=Boolean(a?.lab_treeViewEnabled??o?.threadViewPrefs?.lab_treeViewEnabled);let u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce;return t[0]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(dl,{}),t[0]=u):u=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsxs)(il,{children:[u,(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:(0,Ft.jsx)(ft.Trans,{id:"u9ThjD"})})}),(0,Ft.jsx)(cl,{})]}),t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(tW,{icon:_T}),t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Gk7bDq"})}),t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.w_full,kl.gap_md],t[4]=f):f=t[4],t[5]!==n.atoms.text_contrast_medium?(g=[kl.flex_1,n.atoms.text_contrast_medium],t[5]=n.atoms.text_contrast_medium,t[6]=g):g=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(ft.Trans,{id:"GH1Rgk"}),t[7]=x):x=t[7],t[8]!==g?(_=(0,Ft.jsx)(fr,{style:g,children:x}),t[8]=g,t[9]=_):_=t[9],t[10]!==s?(y=s({id:"LdnLJh"}),t[10]=s,t[11]=y):y=t[11],t[12]!==l?(b=l?[l]:[],t[12]=l,t[13]=b):b=t[13],t[14]!==r?(j=e=>r({sort:e[0]}),t[14]=r,t[15]=j):j=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.gap_sm,kl.flex_1],t[16]=v):v=t[16],t[17]!==s?(w=s({id:"COI0L3"}),t[17]=s,t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(uI,{}),t[19]=S):S=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"COI0L3"})}),t[20]=k):k=t[20],t[21]!==w?(C=(0,Ft.jsxs)(iI,{name:"hotness",label:w,children:[S,k]}),t[21]=w,t[22]=C):C=t[22],t[23]!==s?(P=s({id:"wuAcR7"}),t[23]=s,t[24]=P):P=t[24],t[25]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(uI,{}),t[25]=T):T=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"wuAcR7"})}),t[26]=L):L=t[26],t[27]!==P?(A=(0,Ft.jsxs)(iI,{name:"oldest",label:P,children:[T,L]}),t[27]=P,t[28]=A):A=t[28],t[29]!==s?(I=s({id:"l8y6yR"}),t[29]=s,t[30]=I):I=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(uI,{}),t[31]=R):R=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"l8y6yR"})}),t[32]=D):D=t[32],t[33]!==I?(F=(0,Ft.jsxs)(iI,{name:"newest",label:I,children:[R,D]}),t[33]=I,t[34]=F):F=t[34],t[35]!==s?(E=s({id:"ecFGsb"}),t[35]=s,t[36]=E):E=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(M=(0,Ft.jsx)(uI,{}),t[37]=M):M=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(B=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"zIhJyf"})}),t[38]=B):B=t[38],t[39]!==E?(O=(0,Ft.jsxs)(iI,{name:"most-likes",label:E,children:[M,B]}),t[39]=E,t[40]=O):O=t[40],t[41]!==s?(z=s({id:"Kn0pj/"}),t[41]=s,t[42]=z):z=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(H=(0,Ft.jsx)(uI,{}),t[43]=H):H=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"Kn0pj/"})}),t[44]=N):N=t[44],t[45]!==z?(V=(0,Ft.jsxs)(iI,{name:"random",label:z,children:[H,N]}),t[45]=z,t[46]=V):V=t[46],t[47]!==C||t[48]!==A||t[49]!==F||t[50]!==O||t[51]!==V?(q=(0,Ft.jsxs)(wo.default,{style:v,children:[C,A,F,O,V]}),t[47]=C,t[48]=A,t[49]=F,t[50]=O,t[51]=V,t[52]=q):q=t[52],t[53]!==b||t[54]!==j||t[55]!==q||t[56]!==y?(U=(0,Ft.jsx)(rI,{label:y,type:"radio",values:b,onChange:j,children:q}),t[53]=b,t[54]=j,t[55]=q,t[56]=y,t[57]=U):U=t[57],t[58]!==U||t[59]!==_?(W=(0,Ft.jsxs)(YU,{children:[h,p,(0,Ft.jsxs)(wo.default,{style:f,children:[_,U]})]}),t[58]=U,t[59]=_,t[60]=W):W=t[60],t[61]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(tW,{icon:mC}),t[61]=Z):Z=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"mQqsBx"})}),t[62]=Q):Q=t[62],t[63]!==s?(K=s({id:"mQqsBx"}),t[63]=s,t[64]=K):K=t[64],t[65]!==r?($=e=>r({prioritizeFollowedUsers:e}),t[65]=r,t[66]=$):$=t[66],t[67]===Symbol.for("react.memo_cache_sentinel")?(G=[kl.w_full,kl.gap_md],t[67]=G):G=t[67],t[68]===Symbol.for("react.memo_cache_sentinel")?(Y=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"GJtd7D"})}),J=(0,Ft.jsx)(mI,{}),t[68]=Y,t[69]=J):(Y=t[68],J=t[69]),t[70]!==c||t[71]!==K||t[72]!==$?(X=(0,Ft.jsxs)(YU,{children:[Z,Q,(0,Ft.jsxs)(iI,{type:"checkbox",name:"prioritize-follows",label:K,value:c,onChange:$,style:G,children:[Y,J]})]}),t[70]=c,t[71]=K,t[72]=$,t[73]=X):X=t[73],t[74]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(nW,{}),t[74]=ee):ee=t[74],t[75]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsx)(tW,{icon:W0}),t[75]=te):te=t[75],t[76]===Symbol.for("react.memo_cache_sentinel")?(se=(0,Ft.jsx)(sW,{children:(0,Ft.jsx)(ft.Trans,{id:"Rsjgm0"})}),t[76]=se):se=t[76],t[77]!==s?(ne=s({id:"5ohge0"}),t[77]=s,t[78]=ne):ne=t[78],t[79]!==r?(oe=e=>r({lab_treeViewEnabled:e}),t[79]=r,t[80]=oe):oe=t[80],t[81]===Symbol.for("react.memo_cache_sentinel")?(re=[kl.w_full,kl.gap_md],t[81]=re):re=t[81],t[82]===Symbol.for("react.memo_cache_sentinel")?(ie=(0,Ft.jsx)(aI,{style:[kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"j9MSnc"})}),ae=(0,Ft.jsx)(mI,{}),t[82]=ie,t[83]=ae):(ie=t[82],ae=t[83]),t[84]!==ne||t[85]!==oe||t[86]!==d?(le=(0,Ft.jsxs)(YU,{children:[te,se,(0,Ft.jsxs)(iI,{type:"checkbox",name:"threaded-mode",label:ne,value:d,onChange:oe,style:re,children:[ie,ae]})]}),t[84]=ne,t[85]=oe,t[86]=d,t[87]=le):le=t[87],t[88]!==W||t[89]!==X||t[90]!==le?(ce=(0,Ft.jsxs)(_l,{testID:"threadPreferencesScreen",children:[m,(0,Ft.jsx)(bl,{children:(0,Ft.jsxs)(GU,{children:[W,X,ee,le]})})]}),t[88]=W,t[89]=X,t[90]=le,t[91]=ce):ce=t[91],ce}function L1(e){return e.viewer?.blockedBy||e.viewer?.blocking}const A1="https://go.bsky.app/",I1=e=>["resolved-short-link",e];function R1(e){return e.uri}const D1=mt.forwardRef((function(e,t){const s=(0,i.c)(15),{feeds:n,headerHeight:o,scrollElRef:r}=e,[a]=mt.useState(o),l=wF(20),c=ec();let d;s[0]!==o||s[1]!==r?(d=()=>{r.current?.scrollToOffset({animated:kt,offset:-o})},s[0]=o,s[1]=r,s[2]=d):d=s[2];const u=d;let m,h;s[3]!==u?(m=()=>({scrollToTop:u}),s[3]=u,s[4]=m):m=s[4],mt.useImperativeHandle(t,m),s[5]!==c.atoms.border_contrast_low?(h=e=>{const{item:t,index:s}=e;return(0,Ft.jsx)(wo.default,{style:[kl.p_lg,(Pt||0!==s)&&kl.border_t,c.atoms.border_contrast_low],children:(0,Ft.jsx)(cR,{view:t})})},s[5]=c.atoms.border_contrast_low,s[6]=h):h=s[6];const p=h,f=a+l;let g,x;return s[7]!==f?(g=(0,Ft.jsx)(wo.default,{style:[{height:f}]}),s[7]=f,s[8]=g):g=s[8],s[9]!==n||s[10]!==o||s[11]!==p||s[12]!==r||s[13]!==g?(x=(0,Ft.jsx)(MF,{data:n,renderItem:p,keyExtractor:R1,ref:r,headerOffset:o,ListFooterComponent:g,showsVerticalScrollIndicator:!1,desktopFixedHeight:!0}),s[9]=n,s[10]=o,s[11]=p,s[12]=r,s[13]=g,s[14]=x):x=s[14],x})),F1=mt.forwardRef((function(e,t){const s=(0,i.c)(12),{listUri:n,headerHeight:o,scrollElRef:r}=e,a=`list|${n}`,{_:l}=(0,ft.useLingui)();let c;s[0]!==o||s[1]!==r?(c=()=>{r.current?.scrollToOffset({animated:kt,offset:-o})},s[0]=o,s[1]=r,s[2]=c):c=s[2];const d=c;let u,m;s[3]!==d?(u=()=>({scrollToTop:d}),s[3]=d,s[4]=u):u=s[4],mt.useImperativeHandle(t,u),s[5]!==l?(m=()=>(0,Ft.jsx)(Lx,{icon:"hashtag",message:l({id:"KD13F8"})}),s[5]=l,s[6]=m):m=s[6];const h=m;let p;return s[7]!==a||s[8]!==o||s[9]!==h||s[10]!==r?(p=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(PM,{feed:a,pollInterval:6e4,scrollElRef:r,renderEmptyState:h,headerOffset:o})}),s[7]=a,s[8]=o,s[9]=h,s[10]=r,s[11]=p):p=s[11],p}));function E1(e,t){return`${e.did}-${t}`}const M1=mt.forwardRef((function(e,t){const s=(0,i.c)(21),{listUri:n,moderationOpts:o,headerHeight:r,scrollElRef:a}=e,l=ec(),c=wF(r),d=kF(),{currentAccount:u}=xh(),{data:m,refetch:h,isError:p}=$_(n),[f,g]=mt.useState(!1),x=m?.filter(B1).map(O1).reverse(),_=new Is.AtUri(n).host===u?.did,y=()=>{if(!x)return;if(!_)return x;const e=x.findIndex((e=>e.did===u?.did));return-1!==e?[x[e],...x.slice(0,e),...x.slice(e+1)]:x};let b;s[0]!==r||s[1]!==a?(b=()=>{a.current?.scrollToOffset({animated:kt,offset:-r})},s[0]=r,s[1]=a,s[2]=b):b=s[2];const j=b;let v,w;s[3]!==j?(v=()=>({scrollToTop:j}),s[3]=j,s[4]=v):v=s[4],mt.useImperativeHandle(t,v),s[5]!==o||s[6]!==l.atoms.border_contrast_low?(w=e=>{const{item:t,index:s}=e;return(0,Ft.jsx)(wo.default,{style:[kl.p_lg,l.atoms.border_contrast_low,(Pt||0!==s)&&kl.border_t],children:(0,Ft.jsx)(MC,{profile:t,moderationOpts:o,logContext:"StarterPackProfilesList"})})},s[5]=o,s[6]=l.atoms.border_contrast_low,s[7]=w):w=s[7];const S=w;if(!m){let e,t,n;return s[8]!==c||s[9]!==r?(e=[kl.h_full_vh,{marginTop:r,marginBottom:c}],s[8]=c,s[9]=r,s[10]=e):e=s[10],s[11]!==p||s[12]!==h?(t=(0,Ft.jsx)(QH,{isLoading:!0,isError:p,onRetry:h}),s[11]=p,s[12]=h,s[13]=t):t=s[13],s[14]!==e||s[15]!==t?(n=(0,Ft.jsx)(wo.default,{style:e,children:t}),s[14]=e,s[15]=t,s[16]=n):n=s[16],n}if(m){let e,t;return s[17]!==c?(e=(0,Ft.jsx)(WH,{style:{paddingBottom:c,borderTopWidth:0}}),s[17]=c,s[18]=e):e=s[18],s[19]!==h?(t=async()=>{g(!0),await h(),g(!1)},s[19]=h,s[20]=t):t=s[20],(0,Ft.jsx)(MF,{data:y(),renderItem:S,keyExtractor:E1,ref:a,headerOffset:r,ListFooterComponent:e,showsVerticalScrollIndicator:!1,desktopFixedHeight:!0,initialNumToRender:d,refreshing:f,onRefresh:t})}}));function B1(e){return!L1(e.subject)&&!e.subject.associated?.labeler}function O1(e){return e.subject}var z1=s(4168),H1=s(38072),N1=s(5088);const V1=mt.lazy((()=>s.e(19).then(s.bind(s,19)))),q1=mt.forwardRef((function(e,t){const s=(0,i.c)(22),{starterPack:n,link:o}=e,{record:r}=n;if(!If(r,Is.AppBskyGraphStarterpack.isRecord))return null;let a,l,c,d,u,m,h,p,f,g,x,_,y,b,j;return s[0]===Symbol.for("react.memo_cache_sentinel")?(a=[{width:300,minHeight:390},kl.align_center,kl.px_sm,kl.py_xl,kl.rounded_sm,kl.justify_between,kl.gap_md],s[0]=a):a=s[0],s[1]===Symbol.for("react.memo_cache_sentinel")?(l=[kl.gap_sm],s[1]=l):l=s[1],s[2]===Symbol.for("react.memo_cache_sentinel")?(c=[kl.font_bold,kl.text_3xl,kl.text_center,{color:"white"}],s[2]=c):c=s[2],s[3]!==r.name?(d=(0,Ft.jsx)(wo.default,{style:l,children:(0,Ft.jsx)(fr,{style:c,children:r.name})}),s[3]=r.name,s[4]=d):d=s[4],s[5]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.gap_xl,kl.align_center],s[5]=u):u=s[5],s[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_center,{color:"white",fontSize:18}],children:(0,Ft.jsx)(ft.Trans,{id:"fEV8+b"})}),s[6]=m):m=s[6],s[7]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.rounded_sm,kl.overflow_hidden],s[7]=h):h=s[7],s[8]!==o?(p=(0,Ft.jsx)(wo.default,{style:h,children:(0,Ft.jsx)(U1,{link:o})}),s[8]=o,s[9]=p):p=s[9],s[10]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.flex,kl.flex_row,kl.align_center,kl.font_bold,{color:"white",fontSize:18,gap:6}],s[10]=f):f=s[10],s[11]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(wo.default,{style:[kl.flex_row,kl.align_center,{gap:6}]}),x=(0,Ft.jsx)(mH,{width:25,fill:"white"}),s[11]=g,s[12]=x):(g=s[11],x=s[12]),s[13]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{style:f,children:(0,Ft.jsx)(ft.Trans,{id:"wfi67/",components:{0:g,1:x,2:(0,Ft.jsx)(wo.default,{style:[{marginTop:3.5}]}),3:(0,Ft.jsx)(EW,{width:72,fill:"white"})}})}),s[13]=_):_=s[13],s[14]!==p?(y=(0,Ft.jsxs)(wo.default,{style:u,children:[m,p,_]}),s[14]=p,s[15]=y):y=s[15],s[16]!==y||s[17]!==d?(b=(0,Ft.jsxs)(FV,{style:a,children:[d,y]}),s[16]=y,s[17]=d,s[18]=b):b=s[18],s[19]!==t||s[20]!==b?(j=(0,Ft.jsx)(V1,{ref:t,children:b}),s[19]=t,s[20]=b,s[21]=j):j=s[21],j}));function U1(e){const t=(0,i.c)(19),{link:n}=e,o=ec();let r,a,l,c,d,u,m,h,p,f,g;return t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.rounded_sm,{height:225,width:225,backgroundColor:"#f3f3f3"}],t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(a=[12,12,0,12],t[1]=a):a=t[1],t[2]!==o.palette.primary_500?(l={borderRadius:a,color:o.palette.primary_500},t[2]=o.palette.primary_500,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=[12,12,12,0],t[4]=c):c=t[4],t[5]!==o.palette.primary_500?(d={borderRadius:c,color:o.palette.primary_500},t[5]=o.palette.primary_500,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=[12,0,12,12],t[7]=u):u=t[7],t[8]!==o.palette.primary_500?(m={borderRadius:u,color:o.palette.primary_500},t[8]=o.palette.primary_500,t[9]=m):m=t[9],t[10]!==l||t[11]!==d||t[12]!==m?(h={topLeft:l,topRight:d,bottomLeft:m},t[10]=l,t[11]=d,t[12]=m,t[13]=h):h=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(f={borderRadius:3},p={href:s(46794),scale:.95,padding:2,hidePieces:!0},t[14]=p,t[15]=f):(p=t[14],f=t[15]),t[16]!==n||t[17]!==h?(g=(0,Ft.jsx)(N1.default,{data:n,style:r,pieceSize:Pt?8:6,padding:20,pieceBorderRadius:Pt?4.5:3.5,outerEyesOptions:h,innerEyesOptions:f,logo:p}),t[16]=n,t[17]=h,t[18]=g):g=t[18],g}function W1(e){const t=(0,i.c)(31),{starterPack:s,link:n,control:o}=e,{_:r}=(0,ft.useLingui)(),[a,l]=mt.useState(!1),c=mt.useRef(null),d=Q1;let u;t[0]!==r||t[1]!==o||t[2]!==s?(u=async()=>{c.current?.capture?.().then((async e=>{if(kt){if(!(await(0,Hu.requestMediaLibraryPermissionsAsync)()).granted)return void Zu(r({id:"U4SeR5"}));try{await(0,z1.createAssetAsync)(`file://${e}`)}catch(h){const t=h;return Zu(r({id:"sH5H2L"}),"xmark"),void ys.error("Failed to save QR code",{error:t})}}else{if(l(!0),!Rf(s.record,Is.AppBskyGraphStarterpack.validateRecord))return;const t=(await d(e)).toDataURL("image/png").replace("image/png","image/octet-stream"),n=document.createElement("a");n.setAttribute("download",`${s.record.name.replaceAll(" ","_")}_Share_Card.png`),n.setAttribute("href",t),n.click()}En("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"save"}),l(!1),Zu(r(Pt?{id:"OblHaN"}:{id:"D0slx3"})),o.close()}))},t[0]=r,t[1]=o,t[2]=s,t[3]=u):u=t[3];const m=u;let h;t[4]!==r||t[5]!==o||t[6]!==s?(h=async()=>{l(!0),c.current?.capture?.().then((async e=>{(await d(e)).toBlob(Z1),En("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"copy"}),Zu(r({id:"JPRPkG"})),l(!1),o.close()}))},t[4]=r,t[5]=o,t[6]=s,t[7]=h):h=t[7];const p=h;let f;t[8]!==o||t[9]!==s?(f=async()=>{c.current?.capture?.().then((async e=>{o.close((()=>{H1.shareAsync(e,{mimeType:"image/png",UTI:"image/png"}).then((()=>{En("starterPack:share",{starterPack:s.uri,shareType:"qrcode",qrShareType:"share"})}))}))}))},t[8]=o,t[9]=s,t[10]=f):f=t[10];const g=f;let x,_,y,b,j,v,w,S;return t[11]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(ha,{}),t[11]=x):x=t[11],t[12]!==r?(_=r({id:"rDBnul"}),t[12]=r,t[13]=_):_=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.flex_1,kl.align_center,kl.gap_5xl],t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(K1,{}),t[15]=b):b=t[15],t[16]!==r||t[17]!==a||t[18]!==n||t[19]!==p||t[20]!==m||t[21]!==g||t[22]!==s?(j=(0,Ft.jsx)(wo.default,{style:y,children:(0,Ft.jsx)(mt.Suspense,{fallback:b,children:n?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(q1,{starterPack:s,link:n,ref:c}),a?(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(wv,{size:"xl"})}):(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.gap_md,Pt&&[kl.flex_row_reverse]],children:[(0,Ft.jsx)(Sr,{label:r({id:"Iymn9u"}),variant:"solid",color:"secondary",size:"small",onPress:Pt?p:g,children:(0,Ft.jsx)(Cr,{children:Pt?(0,Ft.jsx)(ft.Trans,{id:"he3ygx"}):(0,Ft.jsx)(ft.Trans,{id:"Z8lGw6"})})}),(0,Ft.jsx)(Sr,{label:r({id:"vD4XP2"}),variant:"solid",color:"secondary",size:"small",onPress:m,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})})})]})]}):(0,Ft.jsx)(K1,{})})}),t[16]=r,t[17]=a,t[18]=n,t[19]=p,t[20]=m,t[21]=g,t[22]=s,t[23]=j):j=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ma,{}),t[24]=v):v=t[24],t[25]!==_||t[26]!==j?(w=(0,Ft.jsxs)(da,{label:_,children:[j,v]}),t[25]=_,t[26]=j,t[27]=w):w=t[27],t[28]!==o||t[29]!==w?(S=(0,Ft.jsxs)(aa,{control:o,children:[x,w]}),t[28]=o,t[29]=w,t[30]=S):S=t[30],S}function Z1(e){const t=new ClipboardItem({"image/png":e});navigator.clipboard.write([t])}function Q1(e){return new Promise((t=>{const s=new Image;s.onload=()=>{const e=document.createElement("canvas");e.width=s.width,e.height=s.height;const n=e.getContext("2d");n?.drawImage(s,0,0),t(e)},s.src=e}))}function K1(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,Ft.jsx)(wo.default,{style:[kl.align_center,kl.p_xl],children:(0,Ft.jsx)(wv,{size:"xl"})}),e[0]=t):t=e[0],t}function $1(){const e=(0,i.c)(5);let t;e[0]===Symbol.for("react.memo_cache_sentinel")?(t={granularPermissions:["photo"]},e[0]=t):t=e[0];const[s,n,o]=z1.usePermissions(t);let r;return e[1]!==o||e[2]!==s||e[3]!==n?(r=async e=>{if(!kt)throw new Error("useSaveImageToMediaLibrary is native only");const t=async function(){try{await async function(e){throw new Error("TODO")}(),Zu(cs.i18n._({id:"toHzHC"}))}catch(e){const t=e;Zu(cs.i18n._({id:"o/QHDs",values:{0:String(t)}}),"xmark")}},r=s??await o();if(r.granted)await t();else if(r.canAskAgain){(await n()).granted?await t():Zu(cs.i18n._({id:"ri0d5i"}),"xmark")}else Zu(cs.i18n._({id:"IVtMTv"}),"xmark")},e[1]=o,e[2]=s,e[3]=n,e[4]=r):r=e[4],r}function G1(e){const t=(0,i.c)(6);let s,n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),t[0]=s):s=t[0],t[1]!==e?(n=(0,Ft.jsx)(Y1,Object.assign({},e)),t[1]=e,t[2]=n):n=t[2],t[3]!==e.control||t[4]!==n?(o=(0,Ft.jsxs)(aa,{control:e.control,children:[s,n]}),t[3]=e.control,t[4]=n,t[5]=o):o=t[5],o}function Y1(e){const t=(0,i.c)(26),{starterPack:s,link:n,imageLoaded:o,qrDialogControl:r,control:a}=e,{_:l}=(0,ft.useLingui)(),c=ec(),{isTabletOrDesktop:d}=jx();let u;t[0]!==s?(u=iu(s),t[0]=s,t[1]=u):u=t[1];const m=u;let h;t[2]!==a||t[3]!==n||t[4]!==s?(h=async()=>{n&&(iv(n),En("starterPack:share",{starterPack:s.uri,shareType:"link"}),a.close())},t[2]=a,t[3]=n,t[4]=s,t[5]=h):h=t[5];const p=h,f=$1();let g;t[6]!==m||t[7]!==f?(g=async()=>{await f(m)},t[6]=m,t[7]=f,t[8]=g):g=t[8];const x=g;let _,y,b,j;return t[9]!==l?(_=l({id:"F6IDJx"}),t[9]=l,t[10]=_):_=t[10],t[11]!==l||t[12]!==a||t[13]!==o||t[14]!==m||t[15]!==d||t[16]!==n||t[17]!==x||t[18]!==p||t[19]!==r||t[20]!==c?(y=o&&n?(0,Ft.jsxs)(wo.default,{style:[!d&&kl.gap_lg],children:[(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm,d&&kl.pb_lg],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_2xl],children:(0,Ft.jsx)(ft.Trans,{id:"WQpKdx"})}),(0,Ft.jsx)(fr,{style:[kl.text_md,c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"N142Sr"})})]}),(0,Ft.jsx)(SS.Image,{source:{uri:m},style:[kl.rounded_sm,{aspectRatio:1.9047619047619047,transform:[{scale:d?.85:1}],marginTop:d?-20:0}],accessibilityIgnoresInvertColors:!0}),(0,Ft.jsxs)(wo.default,{style:[kl.gap_md,Pt&&[kl.gap_sm,kl.flex_row_reverse,{marginLeft:"auto"}]],children:[(0,Ft.jsx)(Sr,{label:l(Pt?{id:"y1eoq1"}:{id:"uIZ2tg"}),variant:"solid",color:"secondary",size:"small",style:[Pt&&kl.self_center],onPress:p,children:(0,Ft.jsx)(Cr,{children:Pt?(0,Ft.jsx)(ft.Trans,{id:"ENCIQz"}):(0,Ft.jsx)(ft.Trans,{id:"uIZ2tg"})})}),(0,Ft.jsx)(Sr,{label:l({id:"wlA8SL"}),variant:"solid",color:"secondary",size:"small",style:[Pt&&kl.self_center],onPress:()=>{a.close((()=>{r.open()}))},children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"wlA8SL"})})}),kt&&(0,Ft.jsx)(Sr,{label:l({id:"uKAEhd"}),variant:"ghost",color:"secondary",size:"small",style:[Pt&&kl.self_center],onPress:x,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"uKAEhd"})})})]})]}):(0,Ft.jsx)(wo.default,{style:[kl.p_xl,kl.align_center],children:(0,Ft.jsx)(wv,{size:"xl"})}),t[11]=l,t[12]=a,t[13]=o,t[14]=m,t[15]=d,t[16]=n,t[17]=x,t[18]=p,t[19]=r,t[20]=c,t[21]=y):y=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ma,{}),t[22]=b):b=t[22],t[23]!==_||t[24]!==y?(j=(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsxs)(da,{label:_,children:[y,b]})}),t[23]=_,t[24]=y,t[25]=j):j=t[25],j}function J1(e){const t=(0,i.c)(2),{route:s}=e;let n;return t[0]!==s.params?(n=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(e2,{routeParams:s.params})}),t[0]=s.params,t[1]=n):n=t[1],n}function X1(e){const t=(0,i.c)(13),{route:s}=e,{_:n}=(0,ft.useLingui)();let o;t[0]!==s.params.code?(o={code:s.params.code},t[0]=s.params.code,t[1]=o):o=t[1];const{data:r,isLoading:a,isError:l}=function(e){const t=(0,i.c)(8),{code:s}=e;let n,o;t[0]!==s?(n=I1(s),t[0]=s,t[1]=n):n=t[1],t[2]!==s?(o=async()=>{const e=`${A1}${s}`;return ou(await bm(e))},t[2]=s,t[3]=o):o=t[3];const r=Boolean(s);let a;return t[4]!==n||t[5]!==o||t[6]!==r?(a={queryKey:n,queryFn:o,retry:1,enabled:r,staleTime:Ld.HOURS.ONE},t[4]=n,t[5]=o,t[6]=r,t[7]=a):a=t[7],(0,vd.useQuery)(a)}(o);if(a||l||!r){let e,s,o;return t[2]!==n?(e=n({id:"Arm8T4"}),t[2]=n,t[3]=e):e=t[3],t[4]!==n?(s=n({id:"Arm8T4"}),t[4]=n,t[5]=s):s=t[5],t[6]!==l||t[7]!==a||t[8]!==e||t[9]!==s?(o=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(QH,{isLoading:a,isError:l,errorMessage:e,emptyMessage:s})}),t[6]=l,t[7]=a,t[8]=e,t[9]=s,t[10]=o):o=t[10],o}let c;return t[11]!==r?(c=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(e2,{routeParams:r})}),t[11]=r,t[12]=c):c=t[12],c}function e2(e){const t=(0,i.c)(18),{routeParams:s}=e,{name:n,rkey:o}=s,{_:r}=(0,ft.useLingui)(),{currentAccount:a}=xh(),l=Op(),{data:c,isLoading:d,isError:u}=XS(n);let m;t[0]!==c||t[1]!==o?(m={did:c,rkey:o},t[0]=c,t[1]=o,t[2]=m):m=t[2];const{data:h,isLoading:p,isError:f}=mk(m),g=h&&(h.list||h?.creator?.did===a?.did)&&Is.AppBskyGraphDefs.validateStarterPackView(h)&&Is.AppBskyGraphStarterpack.validateRecord(h.record);if(!c||!h||!g||!l){const e=d||p||!l,s=u||f||!g;let n,o,i;return t[3]!==r?(n=r({id:"Arm8T4"}),t[3]=r,t[4]=n):n=t[4],t[5]!==r?(o=r({id:"Arm8T4"}),t[5]=r,t[6]=o):o=t[6],t[7]!==e||t[8]!==s||t[9]!==n||t[10]!==o?(i=(0,Ft.jsx)(QH,{isLoading:e,isError:s,errorMessage:n,emptyMessage:o}),t[7]=e,t[8]=s,t[9]=n,t[10]=o,t[11]=i):i=t[11],i}if(!h.list&&h.creator.did===a?.did){let e;return t[12]!==o?(e=(0,Ft.jsx)(i2,{rkey:o}),t[12]=o,t[13]=e):e=t[13],e}let x;return t[14]!==l||t[15]!==s||t[16]!==h?(x=(0,Ft.jsx)(t2,{starterPack:h,routeParams:s,moderationOpts:l}),t[14]=l,t[15]=s,t[16]=h,t[17]=x):x=t[17],x}function t2(e){const t=(0,i.c)(62),{starterPack:s,routeParams:n,moderationOpts:o}=e,r=Boolean(s.list),a=Boolean(s.feeds?.length),l=Boolean(s.list),{_:c}=(0,ft.useLingui)();let d,u,m,h;t[0]!==c||t[1]!==r?(d=r?[c({id:"1wdjme"})]:[],t[0]=c,t[1]=r,t[2]=d):d=t[2],t[3]!==c||t[4]!==a?(u=a?[c({id:"2DoBvq"})]:[],t[3]=c,t[4]=a,t[5]=u):u=t[5],t[6]!==c||t[7]!==l?(m=l?[c({id:"+owNNn"})]:[],t[6]=c,t[7]=l,t[8]=m):m=t[8],t[9]!==d||t[10]!==u||t[11]!==m?(h=[...d,...u,...m],t[9]=d,t[10]=u,t[11]=m,t[12]=h):h=t[12];const p=h,f=Ar(),g=Ar(),x=async e=>{const t=new URL(e),s=await fetch("https://go.bsky.app/link",{method:"POST",body:JSON.stringify({path:t.pathname}),headers:{"Content-Type":"application/json"}});return s.ok?s.json():(ys.error("Failed to shorten link",{safeMessage:s.status}),{url:e})},[_,y]=mt.useState(),[b,j]=mt.useState(!1);let v,w,S;t[13]!==s.uri?(v=()=>{En("starterPack:opened",{starterPack:s.uri})},w=[s.uri],t[13]=s.uri,t[14]=v,t[15]=w):(v=t[14],w=t[15]),mt.useEffect(v,w),t[16]!==g||t[17]!==x||t[18]!==s?(S=()=>{const e=new Is.AtUri(s.uri).rkey;x(function(e,t){if("string"===typeof e)return`https://bsky.app/start/${e}/${t}`;{const t=new Is.AtUri(e.uri).rkey;return`https://bsky.app/start/${e.creator.handle}/${t}`}}(s.creator.did,e)).then((e=>{y(e.url)})),SS.Image.prefetch(iu(s)).then((()=>{j(!0)})).catch((()=>{j(!0)})),g.open()},t[16]=g,t[17]=x,t[18]=s,t[19]=S):S=t[19];const k=S;let C,P,T,L,A,I,R,D,F,E;return t[20]!==k||t[21]!==n.new?(C=()=>{n.new&&k()},t[20]=k,t[21]=n.new,t[22]=C):C=t[22],t[23]!==k||t[24]!==n.new||t[25]!==g?(P=[k,n.new,g],t[23]=k,t[24]=n.new,t[25]=g,t[26]=P):P=t[26],mt.useEffect(C,P),t[27]!==k||t[28]!==n||t[29]!==s?(T=()=>(0,Ft.jsx)(s2,{starterPack:s,routeParams:n,onOpenShareDialog:k}),t[27]=k,t[28]=n,t[29]=s,t[30]=T):T=t[30],t[31]!==o||t[32]!==r||t[33]!==s.list?(L=r?e=>{const{headerHeight:t,scrollElRef:n}=e;return(0,Ft.jsx)(M1,{listUri:s.list.uri,headerHeight:t,scrollElRef:n,moderationOpts:o})}:null,t[31]=o,t[32]=r,t[33]=s.list,t[34]=L):L=t[34],t[35]!==a||t[36]!==s.feeds?(A=a?e=>{const{headerHeight:t,scrollElRef:n}=e;return(0,Ft.jsx)(D1,{feeds:s?.feeds,headerHeight:t,scrollElRef:n})}:null,t[35]=a,t[36]=s.feeds,t[37]=A):A=t[37],t[38]!==o||t[39]!==l||t[40]!==s.list?(I=l?e=>{const{headerHeight:t,scrollElRef:n}=e;return(0,Ft.jsx)(F1,{listUri:s.list.uri,headerHeight:t,scrollElRef:n,moderationOpts:o})}:null,t[38]=o,t[39]=l,t[40]=s.list,t[41]=I):I=t[41],t[42]!==T||t[43]!==L||t[44]!==A||t[45]!==I||t[46]!==p?(R=(0,Ft.jsxs)(tV,{items:p,isHeaderReady:!0,renderHeader:T,children:[L,A,I]}),t[42]=T,t[43]=L,t[44]=A,t[45]=I,t[46]=p,t[47]=R):R=t[47],t[48]!==_||t[49]!==f||t[50]!==s?(D=(0,Ft.jsx)(W1,{control:f,starterPack:s,link:_}),t[48]=_,t[49]=f,t[50]=s,t[51]=D):D=t[51],t[52]!==b||t[53]!==_||t[54]!==f||t[55]!==g||t[56]!==s?(F=(0,Ft.jsx)(G1,{control:g,qrDialogControl:f,starterPack:s,link:_,imageLoaded:b}),t[52]=b,t[53]=_,t[54]=f,t[55]=g,t[56]=s,t[57]=F):F=t[57],t[58]!==R||t[59]!==D||t[60]!==F?(E=(0,Ft.jsxs)(Ft.Fragment,{children:[R,D,F]}),t[58]=R,t[59]=D,t[60]=F,t[61]=E):E=t[61],E}function s2(e){const t=(0,i.c)(47),{starterPack:s,routeParams:n,onOpenShareDialog:o}=e,{_:r}=(0,ft.useLingui)(),a=ec(),{currentAccount:l,hasSession:c}=xh(),d=bh(),u=(0,wd.useQueryClient)(),m=Jb(),{requestSwitchToAccount:h}=oj(),{captureAction:p}=ob(),[f,g]=mt.useState(!1),{record:x,creator:_}=s,y=_?.did===l?.did,b=s.joinedAllTimeCount??0,j=(0,va.useNavigation)();let v,w,S;t[0]!==c||t[1]!==j||t[2]!==m||t[3]!==s.uri?(v=()=>{const e=()=>{c||m({uri:s.uri})},t=()=>{c||m(void 0)};return j.addListener("focus",e),j.addListener("beforeRemove",t),()=>{j.removeListener("focus",e),j.removeListener("beforeRemove",t)}},w=[c,j,m,s.uri],t[0]=c,t[1]=j,t[2]=m,t[3]=s.uri,t[4]=v,t[5]=w):(v=t[4],w=t[5]),mt.useEffect(v,w),t[6]!==r||t[7]!==d||t[8]!==p||t[9]!==l?.did||t[10]!==u||t[11]!==s.list||t[12]!==s.uri?(S=async()=>{if(!s.list)return;let e;g(!0);try{e=await G_(d,s.list.uri)}catch(C){const t=C;return g(!1),Zu(r({id:"yWbGrB"}),"xmark"),void ys.error("Failed to get list members for starter pack",{safeMessage:t})}const t=e.filter((e=>{return e.subject.did!==l?.did&&!L1(e.subject)&&(t=e.subject,!(t.viewer?.muted||t.viewer?.mutedByList))&&!e.subject.viewer?.following;var t})).map(n2);let n;try{n=await rQ(d,t)}catch(T){const t=T;g(!1),Zu(r({id:"yWbGrB"}),"xmark"),ys.error("Failed to follow all accounts",{safeMessage:t})}g(!1),(0,D_.unstable_batchedUpdates)((()=>{for(const e of t)Fy(u,e,{followingUri:n.get(e)})})),Zu(r({id:"w9OS0x"})),p(eb.Follow,t.length),En("starterPack:followAll",{logContext:"StarterPackProfilesList",starterPack:s.uri,count:t.length})},t[6]=r,t[7]=d,t[8]=p,t[9]=l?.did,t[10]=u,t[11]=s.list,t[12]=s.uri,t[13]=S):S=t[13];const k=S;if(!If(x,Is.AppBskyGraphStarterpack.isRecord))return null;let C;t[14]!==x.description||t[15]!==x.descriptionFacets?(C=x.description?new Is.RichText({text:x.description,facets:x.descriptionFacets}):void 0,t[14]=x.description,t[15]=x.descriptionFacets,t[16]=C):C=t[16];const P=C;let T,L,A,I,R;return t[17]!==_?(T=cS(_),t[17]=_,t[18]=T):T=t[18],t[19]!==r||t[20]!==c||t[21]!==y||t[22]!==f||t[23]!==k||t[24]!==o||t[25]!==n||t[26]!==s?(L=c?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.align_center],children:[y?(0,Ft.jsx)(Sr,{label:r({id:"LX+0kd"}),hitSlop:wi,variant:"solid",color:"primary",size:"small",onPress:o,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"Z8lGw6"})})}):(0,Ft.jsxs)(Sr,{label:r({id:"8P26C7"}),variant:"solid",color:"primary",size:"small",disabled:f,onPress:k,style:[kl.flex_row,kl.gap_xs,kl.align_center],children:[(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"8P26C7"})}),f&&(0,Ft.jsx)(wv,{size:"xs"})]}),(0,Ft.jsx)(o2,{routeParams:n,starterPack:s,onOpenShareDialog:o})]}):null,t[19]=r,t[20]=c,t[21]=y,t[22]=f,t[23]=k,t[24]=o,t[25]=n,t[26]=s,t[27]=L):L=t[27],t[28]!==_||t[29]!==y||t[30]!==x.name||t[31]!==T||t[32]!==L?(A=(0,Ft.jsx)(lq,{isLoading:!1,href:T,title:x.name,isOwner:y,avatar:void 0,creator:_,purpose:"app.bsky.graph.defs#referencelist",avatarType:"starter-pack",children:L}),t[28]=_,t[29]=y,t[30]=x.name,t[31]=T,t[32]=L,t[33]=A):A=t[33],t[34]!==r||t[35]!==c||t[36]!==b||t[37]!==h||t[38]!==P||t[39]!==m||t[40]!==s.joinedAllTimeCount||t[41]!==s.uri||t[42]!==a?(I=!c||P||b>=25?(0,Ft.jsxs)(wo.default,{style:[kl.px_lg,kl.pt_md,kl.pb_sm,kl.gap_md],children:[P?(0,Ft.jsx)(DC,{value:P,style:[kl.text_md,kl.leading_snug]}):null,c?null:(0,Ft.jsx)(Sr,{label:r({id:"KBdkDa"}),onPress:()=>{m({uri:s.uri}),h({requestedAccount:"new"})},variant:"solid",color:"primary",size:"large",children:(0,Ft.jsx)(Cr,{style:[kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"KBdkDa"})})}),b>=25?(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.align_center,kl.gap_sm],children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"arrow-trend-up",size:12,color:a.atoms.text_contrast_medium.color}),(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_sm,a.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"YH5Xmi",values:{0:s.joinedAllTimeCount||0}})})]}):null]}):null,t[34]=r,t[35]=c,t[36]=b,t[37]=h,t[38]=P,t[39]=m,t[40]=s.joinedAllTimeCount,t[41]=s.uri,t[42]=a,t[43]=I):I=t[43],t[44]!==A||t[45]!==I?(R=(0,Ft.jsxs)(Ft.Fragment,{children:[A,I]}),t[44]=A,t[45]=I,t[46]=R):R=t[46],R}function n2(e){return e.subject.did}function o2(e){const t=(0,i.c)(55),{starterPack:s,routeParams:n,onOpenShareDialog:o}=e,r=ec(),{_:a}=(0,ft.useLingui)(),{gtMobile:l}=ql(),{currentAccount:c}=xh(),d=Ar(),u=Ar(),m=(0,va.useNavigation)();let h;t[0]!==u||t[1]!==m?(h={onSuccess:()=>{En("starterPack:delete",{}),u.close((()=>{m.canGoBack()?m.popToTop():m.navigate("Home")}))},onError:r2},t[0]=u,t[1]=m,t[2]=h):h=t[2];const{mutate:p,isPending:f,error:g}=xk(h),x=s.creator.did===c?.did;let _;t[3]!==p||t[4]!==n||t[5]!==s.list?(_=async()=>{s.list?(p({rkey:n.rkey,listUri:s.list.uri}),En("starterPack:delete",{})):ys.error("Unable to delete starterpack because list is missing")},t[3]=p,t[4]=n,t[5]=s.list,t[6]=_):_=t[6];const y=_;let b,j,v,w,S,k,C,P,T,L;t[7]!==a?(b=a({id:"JOV5dR"}),t[7]=a,t[8]=b):b=t[8],t[9]!==a?(j=e=>{const{props:t}=e;return(0,Ft.jsx)(Sr,Object.assign({},t,{testID:"headerDropdownBtn",label:a({id:"9YwizI"}),hitSlop:wi,variant:"solid",color:"secondary",size:"small",shape:"round",children:(0,Ft.jsx)(Pr,{icon:lT})}))},t[9]=a,t[10]=j):j=t[10],t[11]!==b||t[12]!==j?(v=(0,Ft.jsx)(vC,{label:b,children:j}),t[11]=b,t[12]=j,t[13]=v):v=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(w={minWidth:170},t[14]=w):w=t[14],t[15]!==a||t[16]!==u||t[17]!==x||t[18]!==m||t[19]!==o||t[20]!==d||t[21]!==n?(S=(0,Ft.jsx)(wC,{style:w,children:x?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsxs)(SC,{label:a({id:"1PgGZN"}),testID:"editStarterPackLinkBtn",onPress:()=>{m.navigate("StarterPackEdit",{rkey:n.rkey})},children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"ePK91l"})}),(0,Ft.jsx)(CC,{icon:FO,position:"right"})]}),(0,Ft.jsxs)(SC,{label:a({id:"dOPMa3"}),testID:"deleteStarterPackBtn",onPress:()=>{u.open()},children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"cnGeoo"})}),(0,Ft.jsx)(CC,{icon:jS,position:"right"})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(LC,{children:(0,Ft.jsxs)(SC,{label:a(Pt?{id:"Y46Uwb"}:{id:"tz4YI4"}),testID:"shareStarterPackLinkBtn",onPress:o,children:[(0,Ft.jsx)(kC,{children:Pt?(0,Ft.jsx)(ft.Trans,{id:"y1eoq1"}):(0,Ft.jsx)(ft.Trans,{id:"tz4YI4"})}),(0,Ft.jsx)(CC,{icon:Pt?oT:nT,position:"right"})]})}),(0,Ft.jsxs)(SC,{label:a({id:"AK2/8r"}),onPress:()=>d.open(),children:[(0,Ft.jsx)(kC,{children:(0,Ft.jsx)(ft.Trans,{id:"AK2/8r"})}),(0,Ft.jsx)(CC,{icon:Ij,position:"right"})]})]})}),t[15]=a,t[16]=u,t[17]=x,t[18]=m,t[19]=o,t[20]=d,t[21]=n,t[22]=S):S=t[22],t[23]!==v||t[24]!==S?(k=(0,Ft.jsxs)(bC,{children:[v,S]}),t[23]=v,t[24]=S,t[25]=k):k=t[25],t[26]!==d||t[27]!==s?(C=s.list&&(0,Ft.jsx)(jL,{control:d,subject:Object.assign({},s,{$type:"app.bsky.graph.defs#starterPackView"})}),t[26]=d,t[27]=s,t[28]=C):C=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(fx,{children:(0,Ft.jsx)(ft.Trans,{id:"QF3NA8"})}),t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(gx,{children:(0,Ft.jsx)(ft.Trans,{id:"yd++of"})}),t[30]=T):T=t[30],t[31]!==g||t[32]!==r?(L=g&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_row,kl.gap_sm,kl.rounded_sm,kl.p_md,kl.mb_lg,kl.border,r.atoms.border_contrast_medium,r.atoms.bg_contrast_25],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_2xs],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"YX1RnP"})}),(0,Ft.jsx)(fr,{style:[kl.leading_snug],children:ds(g)})]}),(0,Ft.jsx)(Ij,{size:"sm",fill:r.palette.negative_400})]}),t[31]=g,t[32]=r,t[33]=L):L=t[33];const A=l?"small":"large";let I,R,D,F,E,M,B,O;return t[34]!==a?(I=a({id:"r++CBj"}),t[34]=a,t[35]=I):I=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(R=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"cnGeoo"})}),t[36]=R):R=t[36],t[37]!==f?(D=f&&(0,Ft.jsx)(Pr,{icon:wv}),t[37]=f,t[38]=D):D=t[38],t[39]!==y||t[40]!==A||t[41]!==I||t[42]!==D?(F=(0,Ft.jsxs)(Sr,{variant:"solid",color:"negative",size:A,label:I,onPress:y,children:[R,D]}),t[39]=y,t[40]=A,t[41]=I,t[42]=D,t[43]=F):F=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(E=(0,Ft.jsx)(_x,{}),t[44]=E):E=t[44],t[45]!==F?(M=(0,Ft.jsxs)(xx,{children:[F,E]}),t[45]=F,t[46]=M):M=t[46],t[47]!==u||t[48]!==L||t[49]!==M?(B=(0,Ft.jsxs)(px,{control:u,children:[P,T,L,M]}),t[47]=u,t[48]=L,t[49]=M,t[50]=B):B=t[50],t[51]!==B||t[52]!==k||t[53]!==C?(O=(0,Ft.jsxs)(Ft.Fragment,{children:[k,C,B]}),t[51]=B,t[52]=k,t[53]=C,t[54]=O):O=t[54],O}function r2(e){ys.error("Failed to delete starter pack",{safeMessage:e})}function i2(e){const t=(0,i.c)(54),{rkey:s}=e,{_:n}=(0,ft.useLingui)(),o=ec(),r=(0,va.useNavigation)(),{gtMobile:a}=ql(),[l,c]=mt.useState(!1);let d;t[0]!==r?(d=()=>{r.canGoBack()?r.goBack():r.replace("Home")},t[0]=r,t[1]=d):d=t[1];const u=d;let m,h,p;t[2]!==u?(m=()=>{c(!1),u()},t[2]=u,t[3]=m):m=t[3],t[4]!==n?(h=e=>{c(!1),ys.error("Failed to delete invalid starter pack",{safeMessage:e}),Zu(n({id:"eX1oC7"}),"xmark")},t[4]=n,t[5]=h):h=t[5],t[6]!==m||t[7]!==h?(p={onSuccess:m,onError:h},t[6]=m,t[7]=h,t[8]=p):p=t[8];const{mutate:f}=xk(p);let g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B;return t[9]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.py_4xl,kl.px_xl,kl.align_center,kl.gap_5xl],t[9]=g):g=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.w_full,kl.align_center,kl.gap_lg],t[10]=x):x=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_3xl],children:(0,Ft.jsx)(ft.Trans,{id:"17CVmq"})}),t[11]=_):_=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(y={lineHeight:1.4},t[12]=y):y=t[12],t[13]!==a?(b=a?{width:450}:[kl.w_full,kl.px_lg],t[13]=a,t[14]=b):b=t[14],t[15]!==o.atoms.text_contrast_high||t[16]!==b?(j=[kl.text_md,kl.text_center,o.atoms.text_contrast_high,y,b],t[15]=o.atoms.text_contrast_high,t[16]=b,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"x/SDbC"}),t[18]=v):v=t[18],t[19]!==j?(w=(0,Ft.jsxs)(wo.default,{style:x,children:[_,(0,Ft.jsx)(fr,{style:j,children:v})]}),t[19]=j,t[20]=w):w=t[20],t[21]!==a?(S=a?{width:350}:[kl.w_full,kl.px_lg],t[21]=a,t[22]=S):S=t[22],t[23]!==S?(k=[kl.gap_md,S],t[23]=S,t[24]=k):k=t[24],t[25]!==n?(C=n({id:"dOPMa3"}),t[25]=n,t[26]=C):C=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(P=[kl.rounded_sm,kl.overflow_hidden,{paddingVertical:10}],t[27]=P):P=t[27],t[28]!==f||t[29]!==s?(T=()=>{c(!0),f({rkey:s})},t[28]=f,t[29]=s,t[30]=T):T=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"cnGeoo"})}),t[31]=L):L=t[31],t[32]!==l?(A=l&&(0,Ft.jsx)(wv,{size:"xs",color:"white"}),t[32]=l,t[33]=A):A=t[33],t[34]!==l||t[35]!==C||t[36]!==T||t[37]!==A?(I=(0,Ft.jsxs)(Sr,{variant:"solid",color:"primary",label:C,size:"large",style:P,disabled:l,onPress:T,children:[L,A]}),t[34]=l,t[35]=C,t[36]=T,t[37]=A,t[38]=I):I=t[38],t[39]!==n?(R=n({id:"/lgEIe"}),t[39]=n,t[40]=R):R=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.rounded_sm,kl.overflow_hidden,{paddingVertical:10}],t[41]=D):D=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"sr0UJD"})}),t[42]=F):F=t[42],t[43]!==u||t[44]!==l||t[45]!==R?(E=(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",label:R,size:"large",style:D,disabled:l,onPress:u,children:F}),t[43]=u,t[44]=l,t[45]=R,t[46]=E):E=t[46],t[47]!==k||t[48]!==I||t[49]!==E?(M=(0,Ft.jsxs)(wo.default,{style:k,children:[I,E]}),t[47]=k,t[48]=I,t[49]=E,t[50]=M):M=t[50],t[51]!==w||t[52]!==M?(B=(0,Ft.jsx)(bl,{centerContent:!0,children:(0,Ft.jsxs)(wo.default,{style:g,children:[w,M]})}),t[51]=w,t[52]=M,t[53]=B):B=t[53],B}const a2=["Details","Profiles","Feeds"],l2=mt.createContext([{},e=>{}]),c2=()=>mt.useContext(l2);function d2(e,t){let s=e;const n=a2.indexOf(e.currentStep);switch("Next"===t.type&&"Feeds"!==e.currentStep?s=Object.assign({},e,{currentStep:a2[n+1],transitionDirection:"Forward"}):"Back"===t.type&&"Details"!==e.currentStep&&(s=Object.assign({},e,{currentStep:a2[n-1],transitionDirection:"Backward"})),t.type){case"SetName":s=Object.assign({},e,{name:t.name.slice(0,50)});break;case"SetDescription":s=Object.assign({},e,{description:t.description});break;case"AddProfile":e.profiles.length>si?Zu({id:"HKUejG",values:{STARTER_PACK_MAX_SIZE:si}}.message??"","info"):s=Object.assign({},e,{profiles:[...e.profiles,t.profile]});break;case"RemoveProfile":s=Object.assign({},e,{profiles:e.profiles.filter((e=>e.did!==t.profileDid))});break;case"AddFeed":e.feeds.length>=3?Zu({id:"gftkMz"}.message??"","info"):s=Object.assign({},e,{feeds:[...e.feeds,t.feed]});break;case"RemoveFeed":s=Object.assign({},e,{feeds:e.feeds.filter((e=>e.uri!==t.feedUri))});break;case"SetProcessing":s=Object.assign({},e,{processing:t.processing})}return s}function u2(e){const t=(0,i.c)(9),{starterPack:s,listItems:n,children:o}=e,{currentAccount:r}=xh();let a;t[0]!==r?.did||t[1]!==n||t[2]!==s?(a=()=>s&&Rf(s.record,Is.AppBskyGraphStarterpack.validateRecord)?{canNext:!0,currentStep:"Details",name:s.record.name,description:s.record.description,profiles:n?.map(m2).filter((e=>e.did!==r?.did))??[],feeds:s.feeds??[],processing:!1,transitionDirection:"Forward"}:{canNext:!0,currentStep:"Details",profiles:[],feeds:[],processing:!1,transitionDirection:"Forward"},t[0]=r?.did,t[1]=n,t[2]=s,t[3]=a):a=t[3];const l=a,[c,d]=mt.useReducer(d2,null,l);let u,m;return t[4]!==c?(u=[c,d],t[4]=c,t[5]=u):u=t[5],t[6]!==o||t[7]!==u?(m=(0,Ft.jsx)(l2.Provider,{value:u,children:o}),t[6]=o,t[7]=u,t[8]=m):m=t[8],m}function m2(e){return e.subject}function h2(e){const t=(0,i.c)(7),{direction:s,style:n,children:o}=e,r="Forward"===s?ko.SlideInRight:ko.SlideInLeft;let a,l,c;return t[0]!==r?(a=Pt?ko.FadeIn.duration(90):r,t[0]=r,t[1]=a):a=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(l=ko.FadeOut.duration(90),t[2]=l):l=t[2],t[3]!==o||t[4]!==n||t[5]!==a?(c=(0,Ft.jsx)(ko.default.View,{entering:a,exiting:l,style:n,children:o}),t[3]=o,t[4]=n,t[5]=a,t[6]=c):c=t[6],c}function p2(){const e=(0,i.c)(48),{_:t}=(0,ft.useLingui)(),s=ec(),[n,o]=c2(),{currentAccount:r}=xh(),a=r?.did;let l;e[0]!==a?(l={did:a,staleTime:300},e[0]=a,e[1]=l):l=e[1];const{data:c}=ub(l),d=n.transitionDirection;let u,m,h,p,f,g;e[2]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.px_xl,kl.gap_xl,kl.mt_4xl],e[2]=u):u=e[2],e[3]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.gap_md,kl.align_center,kl.px_md,kl.mb_md],h=(0,Ft.jsx)(jk,{width:90,gradient:"sky"}),e[3]=m,e[4]=h):(m=e[3],h=e[4]),e[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_3xl],children:(0,Ft.jsx)(ft.Trans,{id:"+CQsAE"})}),e[5]=p):p=e[5],e[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsxs)(wo.default,{style:m,children:[h,p,(0,Ft.jsx)(fr,{style:[kl.text_center,kl.text_md,kl.px_md],children:(0,Ft.jsx)(ft.Trans,{id:"lKFrFe"})})]}),e[6]=f):f=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"RJ43cr"})}),e[7]=g):g=e[7];const x=c?.displayName||c?.handle;let _,y,b;e[8]!==t||e[9]!==x?(_=t({id:"Jg5m1Z",values:{0:x}}),e[8]=t,e[9]=x,e[10]=_):_=e[10],e[11]!==o?(y=e=>o({type:"SetName",name:e}),e[11]=o,e[12]=y):y=e[12],e[13]!==n.name||e[14]!==_||e[15]!==y?(b=(0,Ft.jsx)(ea,{label:_,value:n.name,onChangeText:y}),e[13]=n.name,e[14]=_,e[15]=y,e[16]=b):b=e[16];const j=n.name?.length;let v,w;e[17]!==t||e[18]!==j?(v=t({values:{0:j},id:"1APnSj"}),e[17]=t,e[18]=j,e[19]=v):v=e[19],e[20]!==s.atoms.text_contrast_medium?(w=[s.atoms.text_contrast_medium],e[20]=s.atoms.text_contrast_medium,e[21]=w):w=e[21];const S=n.name?.length??0;let k,C,P,T;e[22]!==w||e[23]!==S?(k=(0,Ft.jsxs)(fr,{style:w,children:[S,"/50"]}),e[22]=w,e[23]=S,e[24]=k):k=e[24],e[25]!==v||e[26]!==k?(C=(0,Ft.jsx)(na,{label:v,children:k}),e[25]=v,e[26]=k,e[27]=C):C=e[27],e[28]!==b||e[29]!==C?(P=(0,Ft.jsxs)(wo.default,{children:[g,(0,Ft.jsxs)(Yi,{children:[b,C]})]}),e[28]=b,e[29]=C,e[30]=P):P=e[30],e[31]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"UViT5D"})}),e[31]=T):T=e[31];const L=c?.displayName||c?.handle;let A,I,R,D,F,E;return e[32]!==t||e[33]!==L?(A=t({id:"R0qT3x",values:{0:L}}),e[32]=t,e[33]=L,e[34]=A):A=e[34],e[35]!==o?(I=e=>o({type:"SetDescription",description:e}),e[35]=o,e[36]=I):I=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(R={minHeight:150},e[37]=R):R=e[37],e[38]!==n.description||e[39]!==A||e[40]!==I?(D=(0,Ft.jsxs)(wo.default,{children:[T,(0,Ft.jsx)(Yi,{children:(0,Ft.jsx)(ea,{label:A,value:n.description,onChangeText:I,multiline:!0,style:R})})]}),e[38]=n.description,e[39]=A,e[40]=I,e[41]=D):D=e[41],e[42]!==P||e[43]!==D?(F=(0,Ft.jsxs)(wo.default,{style:u,children:[f,P,D]}),e[42]=P,e[43]=D,e[44]=F):F=e[44],e[45]!==n.transitionDirection||e[46]!==F?(E=(0,Ft.jsx)(h2,{direction:d,children:F}),e[45]=n.transitionDirection,e[46]=F,e[47]=E):E=e[47],E}function f2(e){const t=(0,i.c)(40),{type:s,btnType:n,displayName:o,subtitle:r,onPress:a,avatar:l,included:c,disabled:d,moderationUi:u}=e,m=ec(),{_:h}=(0,ft.useLingui)();let p,f;t[0]!==h||t[1]!==s?(p=h("user"===s?{id:"d614yZ"}:{id:"4p8xnk"}),t[0]=h,t[1]=s,t[2]=p):p=t[2],t[3]!==h||t[4]!==o||t[5]!==c?(f=h(c?{id:"0nxlXm",values:{displayName:o}}:{id:"WUkRex",values:{displayName:o}}),t[3]=h,t[4]=o,t[5]=c,t[6]=f):f=t[6];const g="remove"===n||d;let x,_,y,b,j,v,w,S,k,C;return t[7]!==m.atoms.border_contrast_low?(x=[kl.flex_row,kl.align_center,kl.px_lg,kl.py_md,kl.gap_md,kl.border_b,m.atoms.border_contrast_low],t[7]=m.atoms.border_contrast_low,t[8]=x):x=t[8],t[9]!==l||t[10]!==u||t[11]!==s?(_=(0,Ft.jsx)(mP,{size:45,avatar:l,moderation:u,type:s}),t[9]=l,t[10]=u,t[11]=s,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.flex_1,kl.gap_2xs],t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_1,kl.font_bold,kl.text_md,kl.leading_tight,kl.self_start],t[14]=b):b=t[14],t[15]!==o?(j=(0,Ft.jsx)(fr,{emoji:!0,style:b,numberOfLines:1,children:o}),t[15]=o,t[16]=j):j=t[16],t[17]!==m.atoms.text_contrast_medium?(v=[kl.flex_1,kl.leading_tight,m.atoms.text_contrast_medium],t[17]=m.atoms.text_contrast_medium,t[18]=v):v=t[18],t[19]!==r||t[20]!==v?(w=(0,Ft.jsx)(fr,{style:v,numberOfLines:1,children:r}),t[19]=r,t[20]=v,t[21]=w):w=t[21],t[22]!==w||t[23]!==j?(S=(0,Ft.jsxs)(wo.default,{style:y,children:[j,w]}),t[22]=w,t[23]=j,t[24]=S):S=t[24],t[25]!==h||t[26]!==n||t[27]!==d||t[28]!==a?(k="checkbox"===n?(0,Ft.jsx)(cI,{}):d?null:(0,Ft.jsx)(Sr,{label:h({id:"t/YqKh"}),variant:"solid",color:"secondary",size:"small",style:[kl.self_center,{marginLeft:"auto"}],onPress:a,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"t/YqKh"})})}),t[25]=h,t[26]=n,t[27]=d,t[28]=a,t[29]=k):k=t[29],t[30]!==c||t[31]!==a||t[32]!==p||t[33]!==S||t[34]!==k||t[35]!==f||t[36]!==g||t[37]!==x||t[38]!==_?(C=(0,Ft.jsxs)(iI,{name:p,label:f,value:c,disabled:g,onChange:a,style:x,children:[_,S,k]}),t[30]=c,t[31]=a,t[32]=p,t[33]=S,t[34]=k,t[35]=f,t[36]=g,t[37]=x,t[38]=_,t[39]=C):C=t[39],C}function g2(e){const t=(0,i.c)(25),{btnType:s,state:n,dispatch:o,profile:r,moderationOpts:a}=e,{currentAccount:l}=xh(),c=r.did===l?.did;let d;t[0]!==c||t[1]!==r.did||t[2]!==n?(d=c||n.profiles.some((e=>e.did===r.did)),t[0]=c,t[1]=r.did,t[2]=n,t[3]=d):d=t[3];const u=d,m=c||!u&&n.profiles.length>=si-1;let h;t[4]!==a||t[5]!==r?(h=(0,Is.moderateProfile)(r,a).ui("avatar"),t[4]=a,t[5]=r,t[6]=h):h=t[6];const p=h;let f;t[7]!==r.displayName||t[8]!==r.handle?(f=r.displayName?Qf(r.displayName):`@${su(r.handle)}`,t[7]=r.displayName,t[8]=r.handle,t[9]=f):f=t[9];const g=f;let x;t[10]!==l?.did||t[11]!==m||t[12]!==o||t[13]!==u||t[14]!==r?(x=()=>{m||(ja.default.dismiss(),r.did!==l?.did&&o(u?{type:"RemoveProfile",profileDid:r.did}:{type:"AddProfile",profile:r}))},t[10]=l?.did,t[11]=m,t[12]=o,t[13]=u,t[14]=r,t[15]=x):x=t[15];const _=x,y=`@${su(r.handle)}`;let b;return t[16]!==s||t[17]!==m||t[18]!==g||t[19]!==u||t[20]!==p||t[21]!==_||t[22]!==r.avatar||t[23]!==y?(b=(0,Ft.jsx)(f2,{type:"user",btnType:s,displayName:g,subtitle:y,onPress:_,avatar:r.avatar,included:u,disabled:m,moderationUi:p}),t[16]=s,t[17]=m,t[18]=g,t[19]=u,t[20]=p,t[21]=_,t[22]=r.avatar,t[23]=y,t[24]=b):b=t[24],b}function x2(e){const t=(0,i.c)(23),{btnType:s,generator:n,state:o,dispatch:r,moderationOpts:a}=e,l=n.uri===Ii;let c;t[0]!==n.uri||t[1]!==l||t[2]!==o?(c=l||o.feeds.some((e=>e.uri===n.uri)),t[0]=n.uri,t[1]=l,t[2]=o,t[3]=c):c=t[3];const d=c,u=l||!d&&o.feeds.length>=3;let m;t[4]!==n||t[5]!==a?(m=(0,Is.moderateFeedGenerator)(n,a).ui("avatar"),t[4]=n,t[5]=a,t[6]=m):m=t[6];const h=m;let p;t[7]!==u||t[8]!==r||t[9]!==n||t[10]!==d?(p=()=>{u||(ja.default.dismiss(),r(d?{type:"RemoveFeed",feedUri:n.uri}:{type:"AddFeed",feed:n}))},t[7]=u,t[8]=r,t[9]=n,t[10]=d,t[11]=p):p=t[11];const f=p;let g;t[12]!==n.displayName?(g=Qf(n.displayName),t[12]=n.displayName,t[13]=g):g=t[13];const x=`Feed by @${su(n.creator.handle)}`;let _;return t[14]!==s||t[15]!==u||t[16]!==n.avatar||t[17]!==d||t[18]!==h||t[19]!==f||t[20]!==g||t[21]!==x?(_=(0,Ft.jsx)(f2,{type:"algo",btnType:s,displayName:g,subtitle:x,onPress:f,avatar:n.avatar,included:d,disabled:u,moderationUi:h}),t[14]=s,t[15]=u,t[16]=n.avatar,t[17]=d,t[18]=h,t[19]=f,t[20]=g,t[21]=x,t[22]=_):_=t[22],_}function _2(e){return e.uri}function y2(e){const t=(0,i.c)(35),{moderationOpts:s}=e,n=ec(),[o,r]=c2(),[a,l]=(0,mt.useState)(""),c=AZ(a,500),{screenReaderEnabled:d}=Bo(),{data:u,isFetchedAfterMount:m}=VI(),h=u?.feeds.filter(w2).map(v2);let p;t[0]===Symbol.for("react.memo_cache_sentinel")?(p={limit:30},t[0]=p):p=t[0];const{data:f,fetchNextPage:g,isLoading:x}=AI(p),_=f?.pages.flatMap(j2)??[],y=h||m?_?h.concat(_.filter((e=>!h.some((t=>t.uri===e.uri))))):h:void 0;let b;t[1]!==c?(b={query:c},t[1]=c,t[2]=b):b=t[2];const{data:j,isFetching:v}=DI(b),w=!m||x||v;let S;t[3]!==r||t[4]!==s||t[5]!==o?(S=e=>{const{item:t}=e;return(0,Ft.jsx)(x2,{generator:t,btnType:"checkbox",state:o,dispatch:r,moderationOpts:s})},t[3]=r,t[4]=s,t[5]=o,t[6]=S):S=t[6];const k=S;let C,P,T,L,A,I,R;t[7]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.flex_1],t[7]=C):C=t[7],t[8]!==n.atoms.border_contrast_medium?(P=[kl.border_b,n.atoms.border_contrast_medium],t[8]=n.atoms.border_contrast_medium,t[9]=P):P=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.py_sm,kl.px_md,{height:60}],t[10]=T):T=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(L=e=>l(e),A=()=>l(""),t[11]=L,t[12]=A):(L=t[11],A=t[12]),t[13]!==a?(I=(0,Ft.jsx)(wo.default,{style:T,children:(0,Ft.jsx)(Az,{value:a,onChangeText:L,onClearText:A})}),t[13]=a,t[14]=I):I=t[14],t[15]!==P||t[16]!==I?(R=(0,Ft.jsx)(wo.default,{style:P,children:I}),t[15]=P,t[16]=I,t[17]=R):R=t[17];const D=a?j:y;let F,E,M,B,O,z;return t[18]!==g||t[19]!==a||t[20]!==d?(F=a||d?void 0:()=>g(),t[18]=g,t[19]=a,t[20]=d,t[21]=F):F=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(E={flex:1},t[22]=E):E=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(M=[kl.flex_1,kl.align_center,kl.mt_lg,kl.px_lg],t[23]=M):M=t[23],t[24]!==w?(B=(0,Ft.jsx)(wo.default,{style:M,children:w?(0,Ft.jsx)(wv,{size:"lg"}):(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg,kl.text_center,kl.mt_lg,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"zTBPHB"})})}),t[24]=w,t[25]=B):B=t[25],t[26]!==k||t[27]!==D||t[28]!==F||t[29]!==B?(O=(0,Ft.jsx)(MF,{data:D,renderItem:k,keyExtractor:_2,onEndReached:F,onEndReachedThreshold:2,keyboardDismissMode:"on-drag",renderScrollComponent:b2,keyboardShouldPersistTaps:"handled",disableFullWindowScroll:!0,sideBorders:!1,style:E,ListEmptyComponent:B}),t[26]=k,t[27]=D,t[28]=F,t[29]=B,t[30]=O):O=t[30],t[31]!==o.transitionDirection||t[32]!==R||t[33]!==O?(z=(0,Ft.jsxs)(h2,{style:C,direction:o.transitionDirection,children:[R,O]}),t[31]=o.transitionDirection,t[32]=R,t[33]=O,t[34]=z):z=t[34],z}function b2(e){return(0,Ft.jsx)(So.KeyboardAwareScrollView,Object.assign({},e))}function j2(e){return e.feeds}function v2(e){return e.view}function w2(e){return"feed"===e.type&&e.view.uri!==Ii}function S2(e){return e?.did??""}function k2(e){const t=(0,i.c)(36),{moderationOpts:s}=e,n=ec(),[o,r]=c2(),[a,l]=(0,mt.useState)(""),{screenReaderEnabled:c}=Bo();let d;t[0]===Symbol.for("react.memo_cache_sentinel")?(d={query:encodeURIComponent("*")},t[0]=d):d=t[0];const{data:u,fetchNextPage:m,isLoading:h}=O_(d);let p;t[1]!==u?.pages?(p=u?.pages.flatMap(L2).filter(T2),t[1]=u?.pages,t[2]=p):p=t[2];const f=p,{data:g,isFetching:x}=QB(a,!0,12);let _;t[3]!==g?(_=g?.filter(P2),t[3]=g,t[4]=_):_=t[4];const y=_,b=h||x;let j;t[5]!==r||t[6]!==s||t[7]!==o?(j=e=>{const{item:t}=e;return(0,Ft.jsx)(g2,{profile:t,btnType:"checkbox",state:o,dispatch:r,moderationOpts:s})},t[5]=r,t[6]=s,t[7]=o,t[8]=j):j=t[8];const v=j;let w,S,k,C,P,T;t[9]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.flex_1],t[9]=w):w=t[9],t[10]!==n.atoms.border_contrast_medium?(S=[kl.border_b,n.atoms.border_contrast_medium],t[10]=n.atoms.border_contrast_medium,t[11]=S):S=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.py_sm,kl.px_md,{height:60}],t[12]=k):k=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(C=()=>l(""),t[13]=C):C=t[13],t[14]!==a?(P=(0,Ft.jsx)(wo.default,{style:k,children:(0,Ft.jsx)(Az,{value:a,onChangeText:l,onClearText:C})}),t[14]=a,t[15]=P):P=t[15],t[16]!==S||t[17]!==P?(T=(0,Ft.jsx)(wo.default,{style:S,children:P}),t[16]=S,t[17]=P,t[18]=T):T=t[18];const L=a?y:f;let A,I,R,D,F,E;return t[19]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.flex_1],t[19]=A):A=t[19],t[20]!==m||t[21]!==a||t[22]!==c?(I=a||c?void 0:()=>m(),t[20]=m,t[21]=a,t[22]=c,t[23]=I):I=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_1,kl.align_center,kl.mt_lg,kl.px_lg],t[24]=R):R=t[24],t[25]!==b?(D=(0,Ft.jsx)(wo.default,{style:R,children:b?(0,Ft.jsx)(wv,{size:"lg"}):(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg,kl.text_center,kl.mt_lg,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"8PjaBr"})})}),t[25]=b,t[26]=D):D=t[26],t[27]!==v||t[28]!==L||t[29]!==I||t[30]!==D?(F=(0,Ft.jsx)(MF,{data:L,renderItem:v,keyExtractor:S2,renderScrollComponent:C2,keyboardShouldPersistTaps:"handled",disableFullWindowScroll:!0,sideBorders:!1,style:A,onEndReached:I,onEndReachedThreshold:kt?2:.25,keyboardDismissMode:"on-drag",ListEmptyComponent:D}),t[27]=v,t[28]=L,t[29]=I,t[30]=D,t[31]=F):F=t[31],t[32]!==o.transitionDirection||t[33]!==T||t[34]!==F?(E=(0,Ft.jsxs)(h2,{style:w,direction:o.transitionDirection,children:[T,F]}),t[32]=o.transitionDirection,t[33]=T,t[34]=F,t[35]=E):E=t[35],E}function C2(e){return(0,Ft.jsx)(So.KeyboardAwareScrollView,Object.assign({},e))}function P2(e){return!e.associated?.labeler}function T2(e){return!e.associated?.labeler}function L2(e){return e.actors}function A2(e,t){return`${e.did}-${t}`}function I2(e){const t=(0,i.c)(43),{control:s,state:n,dispatch:o,moderationOpts:r,profile:a}=e,{_:l}=(0,ft.useLingui)(),c=ec(),{currentAccount:d}=xh(),u=kF(),m=(0,mt.useRef)(null);let h;t[0]!==d?.did||t[1]!==a||t[2]!==n.currentStep||t[3]!==n.feeds||t[4]!==n.profiles?(h=()=>"Feeds"===n.currentStep?n.feeds:[a,...n.profiles.filter((e=>e.did!==d?.did))],t[0]=d?.did,t[1]=a,t[2]=n.currentStep,t[3]=n.feeds,t[4]=n.profiles,t[5]=h):h=t[5];const p=h;let f;t[6]!==o||t[7]!==r||t[8]!==n?(f=e=>{const{item:t}=e;return"Profiles"===n.currentStep?(0,Ft.jsx)(g2,{profile:t,btnType:"remove",state:n,dispatch:o,moderationOpts:r}):(0,Ft.jsx)(x2,{generator:t,btnType:"remove",state:n,dispatch:o,moderationOpts:r})},t[6]=o,t[7]=r,t[8]=n,t[9]=f):f=t[9];const g=f;let x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D;return t[10]===Symbol.for("react.memo_cache_sentinel")?(x=(0,Ft.jsx)(ha,{}),t[10]=x):x=t[10],t[11]!==p?(_=p(),t[11]=p,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=jo(kl.pt_4xl),t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=Pt?[kl.align_center,{height:48}]:[kl.pb_sm,kl.align_end],t[14]=b):b=t[14],t[15]!==c.atoms.bg||t[16]!==c.atoms.border_contrast_medium?(j=[y,kl.flex_row,kl.justify_between,kl.border_b,kl.px_sm,kl.mb_sm,c.atoms.bg,c.atoms.border_contrast_medium,b],t[15]=c.atoms.bg,t[16]=c.atoms.border_contrast_medium,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(wo.default,{style:{width:60}}),t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.font_bold,kl.text_xl],t[19]=w):w=t[19],t[20]!==n.currentStep?(S=(0,Ft.jsx)(fr,{style:w,children:"Profiles"===n.currentStep?(0,Ft.jsx)(ft.Trans,{id:"FqkidW"}):(0,Ft.jsx)(ft.Trans,{id:"qv9Du1"})}),t[20]=n.currentStep,t[21]=S):S=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(k={width:60},t[22]=k):k=t[22],t[23]!==l||t[24]!==s?(C=Pt&&(0,Ft.jsx)(Sr,{label:l({id:"yz7wBu"}),variant:"ghost",color:"primary",size:"small",onPress:()=>s.close(),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})})}),t[23]=l,t[24]=s,t[25]=C):C=t[25],t[26]!==C?(P=(0,Ft.jsx)(wo.default,{style:k,children:C}),t[26]=C,t[27]=P):P=t[27],t[28]!==S||t[29]!==P||t[30]!==j?(T=(0,Ft.jsxs)(wo.default,{style:j,children:[v,S,P]}),t[28]=S,t[29]=P,t[30]=j,t[31]=T):T=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(L=[0],A=[_o([kl.py_0,{height:"100vh",maxHeight:600},kl.px_0]),jo({height:"100%",paddingHorizontal:0,marginTop:0,paddingTop:0})],t[32]=L,t[33]=A):(L=t[32],A=t[33]),t[34]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.py_0,{maxWidth:500,minWidth:200}],t[34]=I):I=t[34],t[35]!==u||t[36]!==g||t[37]!==T||t[38]!==_?(R=(0,Ft.jsx)(ua,{ref:m,data:_,renderItem:g,keyExtractor:A2,ListHeaderComponent:T,stickyHeaderIndices:L,style:A,webInnerStyle:I,keyboardDismissMode:"on-drag",removeClippedSubviews:!0,initialNumToRender:u}),t[35]=u,t[36]=g,t[37]=T,t[38]=_,t[39]=R):R=t[39],t[40]!==s||t[41]!==R?(D=(0,Ft.jsxs)(aa,{control:s,testID:"newChatDialog",children:[x,R]}),t[40]=s,t[41]=R,t[42]=D):D=t[42],D}function R2(e){const t=(0,i.c)(30),{route:s}=e;let n;t[0]!==s.params?(n=s.params??{},t[0]=s.params,t[1]=n):n=t[1];const{rkey:o}=n,{currentAccount:r}=xh(),a=Op(),{_:l}=(0,ft.useLingui)();let c;t[2]!==r.did||t[3]!==o?(c={did:r.did,rkey:o},t[2]=r.did,t[3]=o,t[4]=c):c=t[4];const{data:d,isLoading:u,isError:m}=mk(c),h=d?.list?.uri,{data:p,isLoading:f,isError:g}=$_(h),x=r?.did;let _;t[5]!==x?(_={did:x},t[5]=x,t[6]=_):_=t[6];const{data:y,isLoading:b,isError:j}=ub(_),v=Boolean(o);if(!((!v||v&&d&&p)&&y&&a)){const e=u||f||b,s=m||g||j;let n,o;return t[7]!==l?(n=l({id:"Arm8T4"}),t[7]=l,t[8]=n):n=t[8],t[9]!==e||t[10]!==s||t[11]!==n?(o=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(QH,{isLoading:e,isError:s,errorMessage:n})}),t[9]=e,t[10]=s,t[11]=n,t[12]=o):o=t[12],o}if(v&&d?.creator.did!==r?.did){let e,s;return t[13]!==l?(e=l({id:"Arm8T4"}),t[13]=l,t[14]=e):e=t[14],t[15]!==e?(s=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(QH,{isLoading:!1,isError:!0,errorMessage:e})}),t[15]=e,t[16]=s):s=t[16],s}let w,S,k,C;return t[17]===Symbol.for("react.memo_cache_sentinel")?(w=_o([{minHeight:0},kl.flex_1]),t[17]=w):w=t[17],t[18]!==p||t[19]!==a||t[20]!==y||t[21]!==d?(S=(0,Ft.jsx)(D2,{currentStarterPack:d,currentListItems:p,profile:y,moderationOpts:a}),t[18]=p,t[19]=a,t[20]=y,t[21]=d,t[22]=S):S=t[22],t[23]!==p||t[24]!==d||t[25]!==S?(k=(0,Ft.jsx)(u2,{starterPack:d,listItems:p,children:S}),t[23]=p,t[24]=d,t[25]=S,t[26]=k):k=t[26],t[27]!==w||t[28]!==k?(C=(0,Ft.jsx)(_l,{testID:"starterPackWizardScreen",style:w,children:k}),t[27]=w,t[28]=k,t[29]=C):C=t[29],C}function D2(e){const t=(0,i.c)(111),{currentStarterPack:s,currentListItems:n,profile:o,moderationOpts:r}=e,a=(0,va.useNavigation)(),{_:l}=(0,ft.useLingui)(),c=Na(),[d,u]=c2(),{currentAccount:m}=xh(),h=m?.did;let p;t[0]!==h?(p={did:h,staleTime:0},t[0]=h,t[1]=p):p=t[1];const{data:f}=ub(p),g=s?.uri;let x;t[2]!==g?(x=ou(g),t[2]=g,t[3]=x):x=t[3];const _=x;let y,b,j,v;t[4]!==a?(y=()=>{a.setOptions({gestureEnabled:!1})},b=[a],t[4]=a,t[5]=y,t[6]=b):(y=t[5],b=t[6]),mt.useEffect(y,b),qQ(!0),t[7]!==c?(j=()=>(c(!0),()=>{c(!1)}),t[7]=c,t[8]=j):j=t[8],(0,va.useFocusEffect)(j),t[9]!==l||t[10]!==f?(v=()=>{const e=function(e,t=!1){return null!=e.displayName&&""!==e.displayName?Qf(e.displayName):su(e.handle,t?"":"@")}(f,!0);return l({id:"xf7YA0",values:{displayName:e}}).slice(0,50)},t[9]=l,t[10]=f,t[11]=v):v=t[11];const w=v;let S,k,C,P,T,L,A,I,R,D;t[12]!==l?(S=l({id:"vrzMUL"}),t[12]=l,t[13]=S):S=t[13],t[14]!==l?(k=l({id:"hXzOVo"}),t[14]=l,t[15]=k):k=t[15],t[16]!==k||t[17]!==S?(C={header:S,nextBtn:k},t[16]=k,t[17]=S,t[18]=C):C=t[18],t[19]!==l?(P=l({id:"gm9oZD"}),t[19]=l,t[20]=P):P=t[20],t[21]!==l?(T=l({id:"hXzOVo"}),t[21]=l,t[22]=T):T=t[22],t[23]!==P||t[24]!==T?(L={header:P,nextBtn:T},t[23]=P,t[24]=T,t[25]=L):L=t[25],t[26]!==l?(A=l({id:"kAh1T+"}),t[26]=l,t[27]=A):A=t[27],t[28]!==l||t[29]!==d.feeds.length?(I=0===d.feeds.length?l({id:"6Uau97"}):l({id:"JmZ/+d"}),t[28]=l,t[29]=d.feeds.length,t[30]=I):I=t[30],t[31]!==A||t[32]!==I?(R={header:A,nextBtn:I},t[31]=A,t[32]=I,t[33]=R):R=t[33],t[34]!==C||t[35]!==L||t[36]!==R?(D={Details:C,Profiles:L,Feeds:R},t[34]=C,t[35]=L,t[36]=R,t[37]=D):D=t[37];const F=D[d.currentStep];let E;t[38]!==m||t[39]!==f||t[40]!==u||t[41]!==a||t[42]!==d.description||t[43]!==d.feeds.length||t[44]!==d.name||t[45]!==d.profiles?(E=e=>{const t=new Is.AtUri(e.uri).rkey;En("starterPack:create",{setName:null!=d.name,setDescription:null!=d.description,profilesCount:d.profiles.length,feedsCount:d.feeds.length}),SS.Image.prefetch([iu(f.did,t)]),u({type:"SetProcessing",processing:!1}),a.replace("StarterPack",{name:m.handle,rkey:t,new:!0})},t[38]=m,t[39]=f,t[40]=u,t[41]=a,t[42]=d.description,t[43]=d.feeds.length,t[44]=d.name,t[45]=d.profiles,t[46]=E):E=t[46];const M=E;let B;t[47]!==m||t[48]!==a||t[49]!==_?(B=()=>{a.canGoBack()?a.goBack():a.replace("StarterPack",{name:m.handle,rkey:_.rkey})},t[47]=m,t[48]=a,t[49]=_,t[50]=B):B=t[50];const O=B;let z,H;t[51]!==l||t[52]!==u?(z=e=>{ys.error("Failed to create starter pack",{safeMessage:e}),u({type:"SetProcessing",processing:!1}),Zu(l({id:"zSRCQ5"}),"xmark")},t[51]=l,t[52]=u,t[53]=z):z=t[53],t[54]!==M||t[55]!==z?(H={onSuccess:M,onError:z},t[54]=M,t[55]=z,t[56]=H):H=t[56];const{mutate:N}=function(e){const t=(0,i.c)(12),{onSuccess:s,onError:n}=e,o=(0,wd.useQueryClient)(),r=bh();let a,l,c,d;return t[0]!==r?(a=async e=>{const{name:t,description:s,feeds:n,profiles:o}=e;let i,a;if(s){const e=new Is.RichText({text:s});await e.detectFacets(r),i=e.facets}return a=await tk({name:t,description:s,profiles:o,descriptionFacets:i,agent:r}),await r.app.bsky.graph.starterpack.create({repo:r.assertDid},{name:t,description:s,descriptionFacets:i,list:a?.uri,feeds:n?.map(fk),createdAt:(new Date).toISOString()})},t[0]=r,t[1]=a):a=t[1],t[2]!==r||t[3]!==s||t[4]!==o?(l=async e=>{await yk(r,e.uri,pk),await ck({queryClient:o,did:r.session.did}),s(e)},t[2]=r,t[3]=s,t[4]=o,t[5]=l):l=t[5],t[6]!==n?(c=async e=>{n(e)},t[6]=n,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d={mutationFn:a,onSuccess:l,onError:c},t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],(0,Sd.useMutation)(d)}(H);let V,q;t[57]!==l||t[58]!==u?(V=e=>{ys.error("Failed to edit starter pack",{safeMessage:e}),u({type:"SetProcessing",processing:!1}),Zu(l({id:"zSRCQ5"}),"xmark")},t[57]=l,t[58]=u,t[59]=V):V=t[59],t[60]!==O||t[61]!==V?(q={onSuccess:O,onError:V},t[60]=O,t[61]=V,t[62]=q):q=t[62];const{mutate:U}=function(e){const t=(0,i.c)(12),{onSuccess:s,onError:n}=e,o=(0,wd.useQueryClient)(),r=bh();let a,l,c,d;return t[0]!==r?(a=async e=>{const{name:t,description:s,feeds:n,profiles:o,currentStarterPack:i,currentListItems:a}=e;let l;if(s){const e=new Is.RichText({text:s});await e.detectFacets(r),l=e.facets}if(!Is.AppBskyGraphStarterpack.isRecord(i.record))throw new Error("Invalid starter pack");const c=a.filter((e=>e.subject.did!==r.session?.did&&!o.find((t=>t.did===e.subject.did&&t.did))));if(0!==c.length){const e=qf()(c,50);for(const t of e)await r.com.atproto.repo.applyWrites({repo:r.session.did,writes:t.map(gk)})}const d=o.filter((e=>!a.find((t=>t.subject.did===e.did))));if(d.length>0){const e=qf()(d,50);for(const t of e)await r.com.atproto.repo.applyWrites({repo:r.session.did,writes:t.map((e=>({$type:"com.atproto.repo.applyWrites#create",collection:"app.bsky.graph.listitem",value:{$type:"app.bsky.graph.listitem",subject:e.did,list:i.list?.uri,createdAt:(new Date).toISOString()}})))})}const u=ou(i.uri).rkey;await r.com.atproto.repo.putRecord({repo:r.session.did,collection:"app.bsky.graph.starterpack",rkey:u,record:{name:t,description:s,descriptionFacets:l,list:i.list?.uri,feeds:n,createdAt:i.record.createdAt,updatedAt:(new Date).toISOString()}})},t[0]=r,t[1]=a):a=t[1],t[2]!==r||t[3]!==s||t[4]!==o?(l=async(e,t)=>{const{currentStarterPack:n}=t,i=ou(n.uri);await yk(r,n.uri,(e=>n.cid!==e?.data.starterPack.cid)),await ck({queryClient:o,did:r.session.did}),n.list&&await Y_({queryClient:o,uri:n.list.uri}),await hk({queryClient:o,did:r.session.did,rkey:i.rkey}),s()},t[2]=r,t[3]=s,t[4]=o,t[5]=l):l=t[5],t[6]!==n?(c=e=>{n(e)},t[6]=n,t[7]=c):c=t[7],t[8]!==a||t[9]!==l||t[10]!==c?(d={mutationFn:a,onSuccess:l,onError:c},t[8]=a,t[9]=l,t[10]=c,t[11]=d):d=t[11],(0,Sd.useMutation)(d)}(q);let W;t[63]!==N||t[64]!==n||t[65]!==s||t[66]!==u||t[67]!==U||t[68]!==w||t[69]!==d.description||t[70]!==d.feeds||t[71]!==d.name||t[72]!==d.profiles?(W=async()=>{u({type:"SetProcessing",processing:!0}),s&&n?U({name:d.name?.trim()||w(),description:d.description?.trim(),profiles:d.profiles,feeds:d.feeds,currentStarterPack:s,currentListItems:n}):N({name:d.name?.trim()||w(),description:d.description?.trim(),profiles:d.profiles,feeds:d.feeds})},t[63]=N,t[64]=n,t[65]=s,t[66]=u,t[67]=U,t[68]=w,t[69]=d.description,t[70]=d.feeds,t[71]=d.name,t[72]=d.profiles,t[73]=W):W=t[73];const Z=W;let Q;t[74]!==u||t[75]!==d.currentStep||t[76]!==Z?(Q=()=>{if("Feeds"===d.currentStep)return void Z();const e=ja.default.isVisible();ja.default.dismiss(),setTimeout((()=>{u({type:"Next"})}),e?16:0)},t[74]=u,t[75]=d.currentStep,t[76]=Z,t[77]=Q):Q=t[77];const K=Q;let $,G,Y,J,X,ee,te,se,ne,oe,re,ie;return t[78]===Symbol.for("react.memo_cache_sentinel")?($=[kl.flex_1],t[78]=$):$=t[78],t[79]!==l?(G=l({id:"iH8pgl"}),t[79]=l,t[80]=G):G=t[80],t[81]!==l?(Y=l({id:"0Vd1iX"}),t[81]=l,t[82]=Y):Y=t[82],t[83]!==u||t[84]!==d.currentStep?(J=e=>{"Details"!==d.currentStep&&(e.preventDefault(),u({type:"Back"}))},t[83]=u,t[84]=d.currentStep,t[85]=J):J=t[85],t[86]!==G||t[87]!==Y||t[88]!==J?(X=(0,Ft.jsx)(dl,{label:G,accessibilityHint:Y,onPress:J}),t[86]=G,t[87]=Y,t[88]=J,t[89]=X):X=t[89],t[90]!==F.header?(ee=(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:F.header})}),t[90]=F.header,t[91]=ee):ee=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsx)(cl,{}),t[92]=te):te=t[92],t[93]!==X||t[94]!==ee?(se=(0,Ft.jsxs)(il,{children:[X,ee,te]}),t[93]=X,t[94]=ee,t[95]=se):se=t[95],t[96]!==r||t[97]!==d.currentStep?(ne="Details"===d.currentStep?(0,Ft.jsx)(p2,{}):"Profiles"===d.currentStep?(0,Ft.jsx)(k2,{moderationOpts:r}):"Feeds"===d.currentStep?(0,Ft.jsx)(y2,{moderationOpts:r}):null,t[96]=r,t[97]=d.currentStep,t[98]=ne):ne=t[98],t[99]!==ne?(oe=(0,Ft.jsx)(F2,{children:ne}),t[99]=ne,t[100]=oe):oe=t[100],t[101]!==F.nextBtn||t[102]!==r||t[103]!==K||t[104]!==o||t[105]!==d.currentStep?(re="Details"!==d.currentStep&&(0,Ft.jsx)(E2,{onNext:K,nextBtnText:F.nextBtn,moderationOpts:r,profile:o}),t[101]=F.nextBtn,t[102]=r,t[103]=K,t[104]=o,t[105]=d.currentStep,t[106]=re):re=t[106],t[107]!==se||t[108]!==oe||t[109]!==re?(ie=(0,Ft.jsxs)(wl,{style:$,children:[se,oe,re]}),t[107]=se,t[108]=oe,t[109]=re,t[110]=ie):ie=t[110],ie}function F2(e){const t=(0,i.c)(11),{children:s}=e,{_:n}=(0,ft.useLingui)(),[o,r]=c2();if("Profiles"===o.currentStep||"Feeds"===o.currentStep){let e,n;return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=[kl.flex_1],t[0]=e):e=t[0],t[1]!==s?(n=(0,Ft.jsx)(wo.default,{style:e,children:s}),t[1]=s,t[2]=n):n=t[2],n}let a,l,c;return t[3]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_1],t[3]=a):a=t[3],t[4]!==n||t[5]!==r||t[6]!==o.currentStep?(l="Details"===o.currentStep&&(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(Sr,{label:n({id:"hXzOVo"}),variant:"solid",color:"primary",size:"large",style:[kl.mx_xl,kl.mb_lg,{marginTop:35}],onPress:()=>r({type:"Next"}),children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"hXzOVo"})})})}),t[4]=n,t[5]=r,t[6]=o.currentStep,t[7]=l):l=t[7],t[8]!==s||t[9]!==l?(c=(0,Ft.jsxs)(So.KeyboardAwareScrollView,{style:a,keyboardShouldPersistTaps:"handled",children:[s,l]}),t[8]=s,t[9]=l,t[10]=c):c=t[10],c}function E2(e){const t=(0,i.c)(62),{onNext:s,nextBtnText:n,moderationOpts:o,profile:r}=e,{_:a}=(0,ft.useLingui)(),l=ec(),[c,d]=c2(),u=Ar(),{bottom:m}=(0,pt.useSafeAreaInsets)();let h;t[0]!==r||t[1]!==c.currentStep||t[2]!==c.feeds||t[3]!==c.profiles?(h="Profiles"===c.currentStep?[r,...c.profiles]:c.feeds,t[0]=r,t[1]=c.currentStep,t[2]=c.feeds,t[3]=c.profiles,t[4]=h):h=t[4];const p=h,f="Profiles"===c.currentStep&&p.length>1||"Feeds"===c.currentStep&&p.length>0,g="Profiles"===c.currentStep?8:0;let x;t[5]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.text_md],t[5]=x):x=t[5];const _=x,y=kl.pb_lg.paddingBottom+m;let b,j,v,w,S,k,C,P,T,L,A,I,R,D;if(t[6]!==y?(b={paddingBottom:y},t[6]=y,t[7]=b):b=t[7],t[8]!==l.atoms.shadow_md?(j=kt&&[kl.border_l,kl.border_r,l.atoms.shadow_md,{borderTopLeftRadius:14,borderTopRightRadius:14}],t[8]=l.atoms.shadow_md,t[9]=j):j=t[9],t[10]!==l.atoms.bg||t[11]!==l.atoms.border_contrast_medium||t[12]!==b||t[13]!==j?(v=[kl.border_t,kl.align_center,kl.px_lg,kl.pt_xl,kl.gap_md,l.atoms.bg,l.atoms.border_contrast_medium,b,j],t[10]=l.atoms.bg,t[11]=l.atoms.border_contrast_medium,t[12]=b,t[13]=j,t[14]=v):v=t[14],t[15]!==p.length||t[16]!==g||t[17]!==c.currentStep?(w=p.length>g&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,{right:14,top:31}],children:(0,Ft.jsxs)(fr,{style:[kl.font_bold],children:[p.length,"/","Profiles"===c.currentStep?si:3]})}),t[15]=p.length,t[16]=g,t[17]=c.currentStep,t[18]=w):w=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_row,kl.gap_xs],t[19]=S):S=t[19],t[20]!==p||t[21]!==c.currentStep){let e;t[23]!==c.currentStep?(e=(e,t)=>(0,Ft.jsx)(mP,{avatar:e.avatar,size:32,type:"Profiles"===c.currentStep?"user":"algo"},t),t[23]=c.currentStep,t[24]=e):e=t[24],k=p.slice(0,6).map(e),t[20]=p,t[21]=c.currentStep,t[22]=k}else k=t[22];return t[25]!==k?(C=(0,Ft.jsx)(wo.default,{style:S,children:k}),t[25]=k,t[26]=C):C=t[26],t[27]!==p[0]||t[28]!==p[1]||t[29]!==p[2]||t[30]!==p.length||t[31]!==c.currentStep?(P="Profiles"===c.currentStep?(0,Ft.jsx)(fr,{style:[kl.text_center,_],children:p.length<2?(0,Ft.jsx)(ft.Trans,{id:"9cdM5T"}):2===p.length?(0,Ft.jsx)(ft.Trans,{id:"WJgNzZ",values:{0:M2(p[1])},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,_]}),1:(0,Ft.jsx)(fr,{}),2:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0})}}):p.length>2?(0,Ft.jsx)(ft.Trans,{id:"BhJg4Y",values:{0:M2(p[1]),1:M2(p[2]),2:p.length-2},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0}),1:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0})}}):null}):"Feeds"===c.currentStep?0===p.length?(0,Ft.jsxs)(wo.default,{style:[kl.gap_sm],children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_center,_],children:(0,Ft.jsx)(ft.Trans,{id:"QN4UJC"})}),(0,Ft.jsx)(fr,{style:[kl.text_center,_],children:(0,Ft.jsx)(ft.Trans,{id:"eyD2ne"})})]}):(0,Ft.jsx)(fr,{style:[kl.text_center,_],children:1===p.length?(0,Ft.jsx)(ft.Trans,{id:"FBKq1S",values:{0:M2(p[0])},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0})}}):2===p.length?(0,Ft.jsx)(ft.Trans,{id:"6coyq+",values:{0:M2(p[0]),1:M2(p[1])},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0}),1:(0,Ft.jsx)(fr,{}),2:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0})}}):p.length>2?(0,Ft.jsx)(ft.Trans,{id:"q5pnPP",values:{0:M2(p[0]),1:M2(p[1]),2:p.length-2},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0}),1:(0,Ft.jsx)(fr,{style:[kl.font_bold,_],emoji:!0})}}):null}):null,t[27]=p[0],t[28]=p[1],t[29]=p[2],t[30]=p.length,t[31]=c.currentStep,t[32]=P):P=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.flex_row,kl.w_full,kl.justify_between,kl.align_center,kt?kl.mt_sm:kl.mt_md],t[33]=T):T=t[33],t[34]!==a||t[35]!==u||t[36]!==f?(L=f?(0,Ft.jsx)(Sr,{label:a({id:"ePK91l"}),variant:"solid",color:"secondary",size:"small",style:{width:70},onPress:u.open,children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"ePK91l"})})}):(0,Ft.jsx)(wo.default,{style:{width:70,height:35}}),t[34]=a,t[35]=u,t[36]=f,t[37]=L):L=t[37],t[38]!==p.length||t[39]!==n||t[40]!==s||t[41]!==c.canNext||t[42]!==c.currentStep||t[43]!==c.processing||t[44]!==l.atoms.text_contrast_medium?(A="Profiles"===c.currentStep&&p.length<8?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(fr,{style:[kl.font_bold,_,l.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"aJVL0P",values:{0:8-p.length}})}),(0,Ft.jsx)(wo.default,{style:{width:70}})]}):(0,Ft.jsxs)(Sr,{label:n,variant:"solid",color:"primary",size:"small",onPress:s,disabled:!c.canNext||c.processing,children:[(0,Ft.jsx)(Cr,{children:n}),c.processing&&(0,Ft.jsx)(wv,{size:"xs",style:{color:"white"}})]}),t[38]=p.length,t[39]=n,t[40]=s,t[41]=c.canNext,t[42]=c.currentStep,t[43]=c.processing,t[44]=l.atoms.text_contrast_medium,t[45]=A):A=t[45],t[46]!==L||t[47]!==A?(I=(0,Ft.jsxs)(wo.default,{style:T,children:[L,A]}),t[46]=L,t[47]=A,t[48]=I):I=t[48],t[49]!==d||t[50]!==u||t[51]!==o||t[52]!==r||t[53]!==c?(R=(0,Ft.jsx)(I2,{control:u,state:c,dispatch:d,moderationOpts:o,profile:r}),t[49]=d,t[50]=u,t[51]=o,t[52]=r,t[53]=c,t[54]=R):R=t[54],t[55]!==C||t[56]!==P||t[57]!==I||t[58]!==R||t[59]!==v||t[60]!==w?(D=(0,Ft.jsxs)(wo.default,{style:v,children:[w,C,P,I,R]}),t[55]=C,t[56]=P,t[57]=I,t[58]=R,t[59]=v,t[60]=w,t[61]=D):D=t[61],D}function M2(e){return"string"===typeof e.displayName?Iw(Qf(e.displayName),28,!0):"handle"in e&&"string"===typeof e.handle?Iw(su(e.handle),28,!0):""}const B2=({item:e})=>(0,Ft.jsx)(iO,{post:e}),O2=(e,t)=>`${e.uri}-${t}`;function z2(e){const t=(0,i.c)(38),{route:s}=e,{topic:n}=s.params,{_:o}=(0,ft.useLingui)();let r;const a=decodeURIComponent(n);let l;t[0]!==a?(l=Iw(a,24,!0,"middle"),t[0]=a,t[1]=l):l=t[1],r=l;const c=r;let d;t[2]!==n?(d=()=>{const e=new URL("https://bsky.app");e.pathname=`/topic/${n}`,iv(e.toString())},t[2]=n,t[3]=d):d=t[3];const u=d,[m,h]=mt.useState(0),p=Na();let f,g;t[4]!==p?(f=()=>{p(!1)},t[4]=p,t[5]=f):f=t[5],(0,va.useFocusEffect)(f),t[6]!==p?(g=e=>{p(!1),h(e)},t[6]=p,t[7]=g):g=t[7];const x=g;let _,y;t[8]!==o?(y=o({id:"WWy8TN"}),t[8]=o,t[9]=y):y=t[9];const b=0===m;let j,v,w;t[10]!==b||t[11]!==n?(j=(0,Ft.jsx)(V2,{topic:n,sort:"top",active:b}),t[10]=b,t[11]=n,t[12]=j):j=t[12],t[13]!==j||t[14]!==y?(v={title:y,component:j},t[13]=j,t[14]=y,t[15]=v):v=t[15],t[16]!==o?(w=o({id:"wL3cK8"}),t[16]=o,t[17]=w):w=t[17];const S=1===m;let k,C,P;t[18]!==S||t[19]!==n?(k=(0,Ft.jsx)(V2,{topic:n,sort:"latest",active:S}),t[18]=S,t[19]=n,t[20]=k):k=t[20],t[21]!==w||t[22]!==k?(C={title:w,component:k},t[21]=w,t[22]=k,t[23]=C):C=t[23],t[24]!==v||t[25]!==C?(P=[v,C],t[24]=v,t[25]=C,t[26]=P):P=t[26],_=P;const T=_;let L,A,I;return t[27]!==o||t[28]!==c||t[29]!==u||t[30]!==T?(L=e=>(0,Ft.jsxs)(wl,{style:[kl.z_10,_o([kl.sticky,{top:0}])],children:[(0,Ft.jsxs)(il,{noBottomBorder:!0,children:[(0,Ft.jsx)(dl,{}),(0,Ft.jsx)(ll,{children:(0,Ft.jsx)(ml,{children:c})}),(0,Ft.jsx)(cl,{children:(0,Ft.jsx)(Sr,{label:o({id:"Z8lGw6"}),size:"small",variant:"ghost",color:"primary",shape:"round",onPress:u,hitSlop:vi,style:[{right:-3}],children:(0,Ft.jsx)(Pr,{icon:nT,size:"md"})})})]}),(0,Ft.jsx)(lH,Object.assign({items:T.map(N2)},e))]}),t[27]=o,t[28]=c,t[29]=u,t[30]=T,t[31]=L):L=t[31],t[32]!==T?(A=T.map(H2),t[32]=T,t[33]=A):A=t[33],t[34]!==x||t[35]!==L||t[36]!==A?(I=(0,Ft.jsx)(_l,{children:(0,Ft.jsx)(_H,{onPageSelected:x,renderTabBar:L,initialPage:0,children:A})}),t[34]=x,t[35]=L,t[36]=A,t[37]=I):I=t[37],I}function H2(e,t){return(0,Ft.jsx)(wo.default,{children:e.component},t)}function N2(e){return e.title}function V2(e){const t=(0,i.c)(27),{topic:s,sort:n,active:o}=e,{_:r}=(0,ft.useLingui)(),a=kF(),[l,c]=mt.useState(!1),d=decodeURIComponent(s);let u;t[0]!==o||t[1]!==n||t[2]!==d?(u={query:d,sort:n,enabled:o},t[0]=o,t[1]=n,t[2]=d,t[3]=u):u=t[3];const{data:m,isFetched:h,isFetchingNextPage:p,isLoading:f,isError:g,error:x,refetch:_,fetchNextPage:y,hasNextPage:b}=Og(u);let j,v;t[4]!==m?.pages?(v=m?.pages.flatMap(q2)||[],t[4]=m?.pages,t[5]=v):v=t[5],j=v;const w=j;let S;t[6]!==_?(S=async()=>{c(!0),await _(),c(!1)},t[6]=_,t[7]=S):S=t[7];const k=S;let C;t[8]!==x||t[9]!==y||t[10]!==b||t[11]!==p?(C=()=>{p||!b||x||y()},t[8]=x,t[9]=y,t[10]=b,t[11]=p,t[12]=C):C=t[12];const P=C;let T;return t[13]!==r||t[14]!==x||t[15]!==y||t[16]!==a||t[17]!==g||t[18]!==h||t[19]!==p||t[20]!==f||t[21]!==l||t[22]!==P||t[23]!==k||t[24]!==w||t[25]!==_?(T=(0,Ft.jsx)(Ft.Fragment,{children:w.length<1?(0,Ft.jsx)(QH,{isLoading:f||!h,isError:g,onRetry:_,emptyType:"results",emptyMessage:r({id:"GFL36P"})}):(0,Ft.jsx)(MF,{data:w,renderItem:B2,keyExtractor:O2,refreshing:l,onRefresh:k,onEndReached:P,onEndReachedThreshold:4,desktopFixedHeight:!0,ListFooterComponent:(0,Ft.jsx)(WH,{isFetchingNextPage:p,error:ds(x),onRetry:y}),initialNumToRender:a,windowSize:11})}),t[13]=r,t[14]=x,t[15]=y,t[16]=a,t[17]=g,t[18]=h,t[19]=p,t[20]=f,t[21]=l,t[22]=P,t[23]=k,t[24]=w,t[25]=_,t[26]=T):T=t[26],T}function q2(e){return e.posts}function U2(){return null}const W2=(0,va.createNavigationContainerRef)(),Z2=(PK(),PK(),PK(),PK(),PK(),PK());(0,jP.default)();function Q2(e,t){const s=e=>IP(cs.i18n._(e),t);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(e.Screen,{name:"NotFound",getComponent:()=>rN,options:{title:s({id:"pAtylB"})}}),(0,Ft.jsx)(e.Screen,{name:"Lists",component:HH,options:{title:s({id:"h16FyT"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Moderation",getComponent:()=>kY,options:{title:s({id:"DzmsLV"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ModerationModlists",getComponent:()=>XH,options:{title:s({id:"3j2OjF"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ModerationMutedAccounts",getComponent:()=>eN,options:{title:s({id:"qUa+lV"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ModerationBlockedAccounts",getComponent:()=>KH,options:{title:s({id:"JuqQpF"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ModerationInteractionSettings",getComponent:()=>RY,options:{title:s({id:"qX55km"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ModerationVerificationSettings",getComponent:()=>LY,options:{title:s({id:"JogI0j"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Settings",getComponent:()=>u1,options:{title:s({id:"Tz0i8g"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"LanguageSettings",getComponent:()=>K0,options:{title:s({id:"pVhZHk"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Profile",getComponent:()=>WV,options:({route:e})=>({title:IP(`@${e.params.name}`,t)})}),(0,Ft.jsx)(e.Screen,{name:"ProfileFollowers",getComponent:()=>iJ,options:({route:e})=>({title:s({id:"9Lo9+z",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"ProfileFollows",getComponent:()=>uJ,options:({route:e})=>({title:s({id:"2WnxaW",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"ProfileKnownFollowers",getComponent:()=>QY,options:({route:e})=>({title:s({id:"vu09nk",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"ProfileList",getComponent:()=>Rq,options:{title:s({id:"2BBAbc"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ProfileSearch",getComponent:()=>qX,options:({route:e})=>({title:s({id:"h7t/Tx",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"PostThread",getComponent:()=>HN,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"PostLikedBy",getComponent:()=>FY,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"PostRepostedBy",getComponent:()=>UY,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"PostQuotes",getComponent:()=>zY,options:({route:e})=>({title:s({id:"iuGyYq",values:{0:e.params.name}})})}),(0,Ft.jsx)(e.Screen,{name:"ProfileFeed",getComponent:()=>JY,options:{title:s({id:"DBO7c2"})}}),(0,Ft.jsx)(e.Screen,{name:"ProfileFeedLikedBy",getComponent:()=>eq,options:{title:s({id:"8/ALSr"})}}),(0,Ft.jsx)(e.Screen,{name:"ProfileLabelerLikedBy",getComponent:()=>gJ,options:{title:s({id:"8/ALSr"})}}),(0,Ft.jsx)(e.Screen,{name:"Debug",getComponent:()=>PW,options:{title:s({id:"P5jja7"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"DebugMod",getComponent:()=>ez,options:{title:s({id:"uRZ1UL"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"SharedPreferencesTester",getComponent:()=>TK,options:{title:s({id:"7IhmzC"})}}),(0,Ft.jsx)(e.Screen,{name:"Log",getComponent:()=>NH,options:{title:s({id:"FOw3tu"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Support",getComponent:()=>LW,options:{title:s({id:"XYLcNv"})}}),(0,Ft.jsx)(e.Screen,{name:"PrivacyPolicy",getComponent:()=>NN,options:{title:s({id:"LcET2C"})}}),(0,Ft.jsx)(e.Screen,{name:"TermsOfService",getComponent:()=>AW,options:{title:s({id:"xowcRf"})}}),(0,Ft.jsx)(e.Screen,{name:"CommunityGuidelines",getComponent:()=>JP,options:{title:s({id:"KHzDTk"})}}),(0,Ft.jsx)(e.Screen,{name:"CopyrightPolicy",getComponent:()=>XP,options:{title:s({id:"u40k/o"})}}),(0,Ft.jsx)(e.Screen,{name:"AppPasswords",getComponent:()=>F0,options:{title:s({id:"8q4WlH"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"SavedFeeds",getComponent:()=>Nq,options:{title:s({id:"cLmurE"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"PreferencesFollowingFeed",getComponent:()=>Z0,options:{title:s({id:"sQH88t"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"PreferencesThreads",getComponent:()=>T1,options:{title:s({id:"PQsTID"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"PreferencesExternalEmbeds",getComponent:()=>N0,options:{title:s({id:"KMwkQy"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"AccessibilitySettings",getComponent:()=>e0,options:{title:s({id:"8o0BEF"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"TenXSettings",getComponent:()=>C1,options:{title:s({id:"8tPzyK"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"AppearanceSettings",getComponent:()=>w0,options:{title:s({id:"aAIQg2"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"AccountSettings",getComponent:()=>x0,options:{title:s({id:"AeXO77"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"PrivacyAndSecuritySettings",getComponent:()=>d1,options:{title:s({id:"RyQRel"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"ContentAndMediaSettings",getComponent:()=>H0,options:{title:s({id:"xvU19/"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"SettingsInterests",getComponent:()=>v1,options:{title:s({id:"4zDzuI"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"AboutSettings",getComponent:()=>GX,options:{title:s({id:"uyJsf6"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"AppIconSettings",getComponent:()=>C0,options:{title:s({id:"9kGnGD"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Hashtag",getComponent:()=>IK,options:{title:s({id:"GP8RLS"})}}),(0,Ft.jsx)(e.Screen,{name:"Topic",getComponent:()=>z2,options:{title:s({id:"qJLttu"})}}),(0,Ft.jsx)(e.Screen,{name:"MessagesConversation",getComponent:()=>JG,options:{title:s({id:"AHZflp"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"MessagesSettings",getComponent:()=>pY,options:{title:s({id:"t+yDOf"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"MessagesInbox",getComponent:()=>rY,options:{title:s({id:"rxzAgN"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"NotificationSettings",getComponent:()=>e1,options:{title:s({id:"qqzVv6"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"Feeds",getComponent:()=>Fz,options:{title:s({id:"2DoBvq"})}}),(0,Ft.jsx)(e.Screen,{name:"StarterPack",getComponent:()=>J1,options:{title:s({id:"vrzMUL"})}}),(0,Ft.jsx)(e.Screen,{name:"StarterPackShort",getComponent:()=>X1,options:{title:s({id:"vrzMUL"})}}),(0,Ft.jsx)(e.Screen,{name:"StarterPackWizard",getComponent:()=>R2,options:{title:s({id:"3AuP5f"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"StarterPackEdit",getComponent:()=>R2,options:{title:s({id:"mpccbT"}),requireAuth:!0}}),(0,Ft.jsx)(e.Screen,{name:"VideoFeed",getComponent:()=>U2,options:{title:s({id:"O3r2Bp"}),requireAuth:!0}})]})}const K2=()=>{const e=(0,i.c)(35),t=ec(),s=Nb(),n=function(){const[e]=(0,mt.useState)(kP),t=(0,va.useNavigation)();return(0,mt.useEffect)((()=>{function s(){e.focusedKey&&e.scrollYs.set(e.focusedKey,window.scrollY)}return t.addListener("__unsafe_action__",s),()=>{t.removeListener("__unsafe_action__",s)}}),[e,t]),(0,mt.useMemo)((()=>({focus(t){const s=e.scrollYs.get(t.target)??0;window.scrollTo(0,s),e.focusedKey=t.target??null}})),[e])}();let o;e[0]!==s?(o=e=>IP(cs.i18n._(e),s),e[0]=s,e[1]=o):o=e[1];const r=o;let a,l,c,d,u,m,h,p,f,g,x,_,y;return e[2]!==t.atoms.bg?(a={animationDuration:285,gestureEnabled:!0,fullScreenGestureEnabled:!0,headerShown:!1,contentStyle:t.atoms.bg},e[2]=t.atoms.bg,e[3]=a):a=e[3],e[4]!==r?(l=r({id:"i0qMbr"}),e[4]=r,e[5]=l):l=e[5],e[6]!==l?(c=(0,Ft.jsx)(Z2.Screen,{name:"Home",getComponent:t3,options:{title:l}}),e[6]=l,e[7]=c):c=e[7],e[8]!==r?(d=r({id:"8tjQCz"}),e[8]=r,e[9]=d):d=e[9],e[10]!==d?(u=(0,Ft.jsx)(Z2.Screen,{name:"Search",getComponent:s3,options:{title:d}}),e[10]=d,e[11]=u):u=e[11],e[12]!==r?(m=r({id:"iDNBZe"}),e[12]=r,e[13]=m):m=e[13],e[14]!==m?(h=(0,Ft.jsx)(Z2.Screen,{name:"Notifications",getComponent:n3,options:{title:m,requireAuth:!0}}),e[14]=m,e[15]=h):h=e[15],e[16]!==r?(p=r({id:"t7TeQU"}),e[16]=r,e[17]=p):p=e[17],e[18]!==p?(f=(0,Ft.jsx)(Z2.Screen,{name:"Messages",getComponent:o3,options:{title:p,requireAuth:!0}}),e[18]=p,e[19]=f):f=e[19],e[20]!==r?(g=r({id:"i0qMbr"}),e[20]=r,e[21]=g):g=e[21],e[22]!==g?(x=(0,Ft.jsx)(Z2.Screen,{name:"Start",getComponent:r3,options:{title:g}}),e[22]=g,e[23]=x):x=e[23],e[24]!==s?(_=Q2(Z2,s),e[24]=s,e[25]=_):_=e[25],e[26]!==n||e[27]!==a||e[28]!==x||e[29]!==_||e[30]!==c||e[31]!==u||e[32]!==h||e[33]!==f?(y=(0,Ft.jsxs)(Z2.Navigator,{screenListeners:n,screenOptions:a,children:[c,u,h,f,x,_]}),e[26]=n,e[27]=a,e[28]=x,e[29]=_,e[30]=c,e[31]=u,e[32]=h,e[33]=f,e[34]=y):y=e[34],y},$2={prefixes:["bsky://","bluesky://","https://bsky.app"],getPathFromState(e){let t=e.routes[e.index||0];for(;t.state?.routes&&"number"===typeof t.state?.index;)t=t.state?.routes[t.state?.index];const s=cv.matchName(t.name);return"undefined"===typeof s?"/":s.build(t.params||{})},getStateFromPath(e){const[t,s]=cv.matchPath(e);if(e.includes("intent/")){if(kt)return;return AP("Flat","Home",s)}if(kt)return"Search"===t?AP("SearchTab","Search",s):"Notifications"===t?AP("NotificationsTab","Notifications",s):"Home"===t?AP("HomeTab","Home",s):"Messages"===t?AP("MessagesTab","Messages",s):AP("HomeTab",t,s,[{name:"Home",params:{}}]);return AP("Flat",t,s)}};function G2(e){const t=(0,i.c)(10),{children:n}=e,o=bj(vP.default,wP.default),{currentAccount:r}=xh(),a=mt.useRef(void 0),l=Yv();let c;t[0]!==r||t[1]!==l?(c=function(){a.current=Y2(),r&&Vm(r)&&(l.open({id:Ov.VerificationReminder}),qm())},t[0]=r,t[1]=l,t[2]=c):c=t[2];const d=c;let u,m,h;return t[3]===Symbol.for("react.memo_cache_sentinel")?(u=()=>{ys.metric("router:navigate",{from:a.current}),a.current=Y2()},t[3]=u):u=t[3],t[4]!==d?(m=()=>{Dn=Y2,function(){if(e3)return;e3=!0;if(En("init",{initMs:Math.round(performance.now()-s.g.__BUNDLE_START_TIME__)}),Pt){const e=$s();e&&"bsky.app"!==e.hostname&&En("deepLink:referrerReceived",{to:window.location.href,referrer:e?.referrer,hostname:e?.hostname})}0}(),d(),ys.metric("router:navigate",{})},t[4]=d,t[5]=m):m=t[5],t[6]!==n||t[7]!==m||t[8]!==o?(h=(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(SP.default,{ref:W2,linking:$2,theme:o,onStateChange:u,onReady:m,children:n})}),t[6]=n,t[7]=m,t[8]=o,t[9]=h):h=t[9],h}function Y2(){return W2.isReady()?W2.getCurrentRoute()?.name:void 0}function J2(e,t){return W2.isReady()?Promise.race([new Promise((s=>{const n=()=>{s(),W2.removeListener("state",n)};W2.addListener("state",n),W2.navigate(e,t)})),An(1e3)]):Promise.resolve()}function X2(e){W2.isReady()&&(J2(e),W2.canGoBack()&&W2.dispatch(va.StackActions.popToTop()))}let e3=!1;function t3(){return PH}function s3(){return UX}function n3(){return hN}function o3(){return Z$}function r3(){return PH}function i3({}){const e=mx("default"),t=dc(),s=ec(),{currentAccount:n}=xh(),o=bh(),{removeAccount:r}=_h(),{_:i}=(0,ft.useLingui)(),{closeModal:a}=Zd(),{isMobile:l}=jx(),[c,d]=mt.useState(!1),[u,m]=mt.useState(""),[h,p]=mt.useState(""),[f,g]=mt.useState(!1),[x,_]=mt.useState(""),y=()=>{a()};return(0,Ft.jsx)(jw.default,{style:[oc.flex1],children:(0,Ft.jsxs)(Sw.default,{style:[e.view],keyboardShouldPersistTaps:"handled",children:[(0,Ft.jsx)(wo.default,{style:[a3.titleContainer,e.view],children:(0,Ft.jsx)(Tx,{type:"title-xl",style:[oc.textCenter,e.text],children:(0,Ft.jsx)(ft.Trans,{id:"fV0SKP",values:{0:n?.handle},components:{0:(0,Ft.jsx)(Tx,{type:"title-xl",style:[e.text,oc.bold]}),1:(0,Ft.jsx)(Tx,{type:"title-xl",numberOfLines:1,style:[l?a3.titleMobile:a3.titleDesktop,e.text,oc.bold]}),2:(0,Ft.jsx)(Tx,{type:"title-xl",style:[e.text,oc.bold]})}})})}),c?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Tx,{type:"lg",style:[e.text,a3.description],nativeID:"confirmationCode",children:(0,Ft.jsx)(ft.Trans,{id:"/+X+/K"})}),(0,Ft.jsx)(Kr.default,{style:[a3.textInput,e.borderDark,e.text,a3.mb20],placeholder:i({id:"ioZOzk"}),placeholderTextColor:e.textLight.color,keyboardAppearance:t.colorScheme,value:u,onChangeText:m,accessibilityLabelledBy:"confirmationCode",accessibilityLabel:i({id:"ioZOzk"}),accessibilityHint:i({id:"KGRCJk"})}),(0,Ft.jsx)(Tx,{type:"lg",style:[e.text,a3.description],nativeID:"password",children:(0,Ft.jsx)(ft.Trans,{id:"QJr5Xp"})}),(0,Ft.jsx)(Kr.default,{style:[a3.textInput,e.borderDark,e.text],placeholder:i({id:"8ZsakT"}),placeholderTextColor:e.textLight.color,keyboardAppearance:t.colorScheme,secureTextEntry:!0,value:h,onChangeText:p,accessibilityLabelledBy:"password",accessibilityLabel:i({id:"8ZsakT"}),accessibilityHint:i({id:"8Nvm3J"})}),x?(0,Ft.jsx)(wo.default,{style:a3.mt20,children:(0,Ft.jsx)(Rx,{message:x})}):void 0,f?(0,Ft.jsx)(wo.default,{style:[a3.btn,oc.mt10],children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Ix.default,{style:[a3.btn,a3.evilBtn,a3.mt20],onPress:async()=>{if(!n?.did)throw new Error("DeleteAccount modal: currentAccount.did is undefined");_(""),g(!0);const e=u.replace(/\s/g,"");try{const{success:t}=await o.api.chat.bsky.actor.deleteAccount(void 0,{headers:kp});if(!t)throw new Error("Failed to inform chat service of account deletion");await o.com.atproto.server.deleteAccount({did:n.did,password:h,token:e}),Zu(i({id:"VecMQF"})),X2("HomeTab"),r(n),a()}catch(t){_(ds(t))}g(!1)},accessibilityRole:"button",accessibilityLabel:i({id:"tGg8Kt"}),accessibilityHint:"",children:(0,Ft.jsx)(Tx,{type:"button-lg",style:[oc.white,oc.bold],children:(0,Ft.jsx)(ft.Trans,{id:"ktknoE"})})}),(0,Ft.jsx)(Ix.default,{style:[a3.btn,oc.mt10],onPress:y,accessibilityRole:"button",accessibilityLabel:i({id:"aMH9rr"}),accessibilityHint:i({id:"X/21Jh"}),onAccessibilityEscape:y,children:(0,Ft.jsx)(Tx,{type:"button-lg",style:e.textLight,children:(0,Ft.jsx)(ft.Trans,{id:"3kdXEk"})})})]})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Tx,{type:"lg",style:[a3.description,e.text],children:(0,Ft.jsx)(ft.Trans,{id:"5RhDkD"})}),x?(0,Ft.jsx)(wo.default,{style:oc.mt10,children:(0,Ft.jsx)(Rx,{message:x})}):void 0,f?(0,Ft.jsx)(wo.default,{style:[a3.btn,oc.mt10],children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Ix.default,{style:a3.mt20,onPress:async()=>{_(""),g(!0);try{await o.com.atproto.server.requestAccountDelete(),d(!0)}catch(e){_(ds(e))}g(!1)},accessibilityRole:"button",accessibilityLabel:i({id:"65dxv8"}),accessibilityHint:i({id:"KJlRnK"}),children:(0,Ft.jsx)(sr.LinearGradient,{colors:[nc.blueLight.start,nc.blueLight.end],start:{x:0,y:0},end:{x:1,y:1},style:[a3.btn],children:(0,Ft.jsx)(Tx,{type:"button-lg",style:[oc.white,oc.bold],children:(0,Ft.jsx)(ft.Trans,{id:"36bICm"})})})}),(0,Ft.jsx)(Ix.default,{style:[a3.btn,oc.mt10],onPress:y,accessibilityRole:"button",accessibilityLabel:i({id:"aMH9rr"}),accessibilityHint:"",onAccessibilityEscape:y,children:(0,Ft.jsx)(Tx,{type:"button-lg",style:e.textLight,children:(0,Ft.jsx)(ft.Trans,{id:"3kdXEk"})})})]}),(0,Ft.jsx)(wo.default,{style:[!Pt&&kl.px_xl],children:(0,Ft.jsxs)(wo.default,{style:[kl.w_full,kl.flex_row,kl.gap_sm,kl.mt_lg,kl.p_lg,kl.rounded_sm,s.atoms.bg_contrast_25],children:[(0,Ft.jsx)(Ij,{size:"md",style:[kl.relative,{top:-1}]}),(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.flex_1],children:(0,Ft.jsx)(ft.Trans,{id:"FA7NyS"})})]})})]})]})})}const a3=Gn.default.create({titleContainer:{display:"flex",flexDirection:"row",justifyContent:"center",flexWrap:"wrap",marginTop:12,marginBottom:12,marginLeft:20,marginRight:20},titleMobile:{textAlign:"center"},titleDesktop:{textAlign:"center",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"400px"},description:{textAlign:"center",paddingHorizontal:22,marginBottom:10},mt20:{marginTop:20},mb20:{marginBottom:20},textInput:{borderWidth:1,borderRadius:6,paddingHorizontal:16,paddingVertical:12,fontSize:20,marginHorizontal:20},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:32,padding:14,marginHorizontal:20},evilBtn:{backgroundColor:sc.red4}});function l3(e){return e.available-e.uses.length>0&&!e.disabled}const c3="inviteCodes";function d3(e,t){return new Date(t.uses[0].usedAt).getTime()-new Date(e.uses[0].usedAt).getTime()}function u3(e){return!l3(e)}function m3(e){if("Bad token scope"===ds(e))return null;throw e}function h3(){const e=(0,i.c)(4),{isLoading:t,data:s,error:n}=function(){const e=(0,i.c)(3),t=bh();let s,n;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[c3],e[0]=s):s=e[0],e[1]!==t?(n={staleTime:Ld.MINUTES.FIVE,queryKey:s,queryFn:async()=>{const e=await t.com.atproto.server.getAccountInviteCodes({}).catch(m3);if(null===e)return{disabled:!0,all:[],available:[],used:[]};if(!e.data?.codes)throw new Error("useInviteCodesQuery: no codes returned");const s=e.data.codes.filter(l3),n=e.data.codes.filter(u3).sort(d3);return{disabled:!1,all:[...s,...n],available:s,used:n}}},e[1]=t,e[2]=n):n=e[2],(0,vd.useQuery)(n)}();let o;return e[0]!==n||e[1]!==s||e[2]!==t?(o=n?(0,Ft.jsx)(Rx,{message:ds(n)}):t||!s?(0,Ft.jsx)(wo.default,{style:{padding:18},children:(0,Ft.jsx)(Fx.default,{})}):(0,Ft.jsx)(p3,{invites:s}),e[0]=n,e[1]=s,e[2]=t,e[3]=o):o=e[3],o}function p3(e){const t=(0,i.c)(62),{invites:s}=e,n=mx("default"),{_:o}=(0,ft.useLingui)(),{closeModal:r}=Zd(),{isTabletOrDesktop:a}=jx();let l;t[0]!==r?(l=()=>{r()},t[0]=r,t[1]=l):l=t[1];const c=l;if(0===s.all.length){let e,s,r,i,l,d,u;t[2]!==n.view?(e=[g3.container,n.view],t[2]=n.view,t[3]=e):e=t[3],t[4]!==n.viewLight?(s=[g3.empty,n.viewLight],t[4]=n.viewLight,t[5]=s):s=t[5],t[6]!==n.text?(r=[n.text,g3.emptyText],t[6]=n.text,t[7]=r):r=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(i=(0,Ft.jsx)(ft.Trans,{id:"lIcbCU"}),t[8]=i):i=t[8],t[9]!==r?(l=(0,Ft.jsx)(Tx,{type:"lg",style:r,children:i}),t[9]=r,t[10]=l):l=t[10],t[11]!==s||t[12]!==l?(d=(0,Ft.jsx)(wo.default,{style:s,children:l}),t[11]=s,t[12]=l,t[13]=d):d=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(wo.default,{style:g3.flex1}),t[14]=u):u=t[14];const m=a&&g3.btnContainerDesktop;let h,p,f,g,x;return t[15]!==m?(h=[g3.btnContainer,m],t[15]=m,t[16]=h):h=t[16],t[17]!==o?(p=o({id:"DPfwMq"}),t[17]=o,t[18]=p):p=t[18],t[19]!==c||t[20]!==p?(f=(0,Ft.jsx)(Ex,{type:"primary",label:p,style:g3.btn,labelStyle:g3.btnLabel,onPress:c}),t[19]=c,t[20]=p,t[21]=f):f=t[21],t[22]!==h||t[23]!==f?(g=(0,Ft.jsx)(wo.default,{style:h,children:f}),t[22]=h,t[23]=f,t[24]=g):g=t[24],t[25]!==g||t[26]!==e||t[27]!==d?(x=(0,Ft.jsxs)(wo.default,{style:e,testID:"inviteCodesModal",children:[d,u,g]}),t[25]=g,t[26]=e,t[27]=d,t[28]=x):x=t[28],x}let d,u,m,h,p,f,g,x,_,y,b,j,v,w;return t[29]!==n.view?(d=[g3.container,n.view],t[29]=n.view,t[30]=d):d=t[30],t[31]!==n.text?(u=[g3.title,n.text],t[31]=n.text,t[32]=u):u=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ft.Trans,{id:"F5MZVk"}),t[33]=m):m=t[33],t[34]!==u?(h=(0,Ft.jsx)(Tx,{type:"title-xl",style:u,children:m}),t[34]=u,t[35]=h):h=t[35],t[36]!==n.text?(p=[g3.description,n.text],t[36]=n.text,t[37]=p):p=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ft.Trans,{id:"4uwlSD"}),t[38]=f):f=t[38],t[39]!==p?(g=(0,Ft.jsx)(Tx,{type:"lg",style:p,children:f}),t[39]=p,t[40]=g):g=t[40],t[41]!==n.border?(x=[g3.scrollContainer,n.border],t[41]=n.border,t[42]=x):x=t[42],t[43]!==s?(_=s.available.map(((e,t)=>(0,Ft.jsx)(f3,{testID:`inviteCode-${t}`,invite:e,invites:s},e.code))),t[43]=s,t[44]=_):_=t[44],t[45]!==s?(y=s.used.map(((e,t)=>(0,Ft.jsx)(f3,{used:!0,testID:`inviteCode-${t}`,invite:e,invites:s},e.code))),t[45]=s,t[46]=y):y=t[46],t[47]!==_||t[48]!==y||t[49]!==x?(b=(0,Ft.jsxs)(Sw.default,{style:x,children:[_,y]}),t[47]=_,t[48]=y,t[49]=x,t[50]=b):b=t[50],t[51]!==o?(j=o({id:"DPfwMq"}),t[51]=o,t[52]=j):j=t[52],t[53]!==c||t[54]!==j?(v=(0,Ft.jsx)(wo.default,{style:g3.btnContainer,children:(0,Ft.jsx)(Ex,{testID:"closeBtn",type:"primary",label:j,style:g3.btn,labelStyle:g3.btnLabel,onPress:c})}),t[53]=c,t[54]=j,t[55]=v):v=t[55],t[56]!==b||t[57]!==v||t[58]!==d||t[59]!==h||t[60]!==g?(w=(0,Ft.jsxs)(wo.default,{style:d,testID:"inviteCodesModal",children:[h,g,b,v]}),t[56]=b,t[57]=v,t[58]=d,t[59]=h,t[60]=g,t[61]=w):w=t[61],w}function f3(e){const t=(0,i.c)(47),{testID:s,invite:n,used:o,invites:r}=e,a=mx("default"),{_:l}=(0,ft.useLingui)(),c=mt.useContext(fp),{setInviteCopied:d}=mt.useContext(gp),u=n.uses;let m;t[0]!==l||t[1]!==n.code||t[2]!==d?(m=()=>{(0,rv.setStringAsync)(n.code),Zu(l({id:"FxVG/l"}),"clipboard-check"),d(n.code)},t[0]=l,t[1]=n.code,t[2]=d,t[3]=m):m=t[3];const h=m;let p,f,g,x,_;t[4]===Symbol.for("react.memo_cache_sentinel")?(p={borderBottomWidth:1,paddingHorizontal:20,paddingVertical:14},t[4]=p):p=t[4],t[5]!==a.border?(f=[a.border,p],t[5]=a.border,t[6]=f):f=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(g=[g3.inviteCode],t[7]=g):g=t[7],t[8]!==l||t[9]!==r.available.length?(x=1===r.available.length?l({id:"H/A/pt"}):l({id:"apixjs",values:{0:r.available.length}}),t[8]=l,t[9]=r.available.length,t[10]=x):x=t[10],t[11]!==l?(_=l({id:"S67TOE"}),t[11]=l,t[12]=_):_=t[12];const y=`${s}-code`,b=o?"md":"md-bold";let j,v,w,S,k,C,P,T;return t[13]!==a.text||t[14]!==a.textLight||t[15]!==o?(j=o?[a.textLight,g3.strikeThrough]:a.text,t[13]=a.text,t[14]=a.textLight,t[15]=o,t[16]=j):j=t[16],t[17]!==n.code||t[18]!==y||t[19]!==b||t[20]!==j?(v=(0,Ft.jsx)(Tx,{testID:y,type:b,style:j,children:n.code}),t[17]=n.code,t[18]=y,t[19]=b,t[20]=j,t[21]=v):v=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(w=(0,Ft.jsx)(wo.default,{style:g3.flex1}),t[22]=w):w=t[22],t[23]!==n.code||t[24]!==c||t[25]!==a.textLight||t[26]!==o?(S=!o&&c.copiedInvites.includes(n.code)&&(0,Ft.jsx)(Tx,{style:[a.textLight,g3.codeCopied],children:(0,Ft.jsx)(ft.Trans,{id:"6V3Ea3"})}),t[23]=n.code,t[24]=c,t[25]=a.textLight,t[26]=o,t[27]=S):S=t[27],t[28]!==a.text||t[29]!==o?(k=!o&&(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:["far","clone"],style:a.text}),t[28]=a.text,t[29]=o,t[30]=k):k=t[30],t[31]!==h||t[32]!==v||t[33]!==S||t[34]!==k||t[35]!==x||t[36]!==_||t[37]!==s?(C=(0,Ft.jsxs)(Ix.default,{testID:s,style:g,onPress:h,accessibilityRole:"button",accessibilityLabel:x,accessibilityHint:_,children:[v,w,S,k]}),t[31]=h,t[32]=v,t[33]=S,t[34]=k,t[35]=x,t[36]=_,t[37]=s,t[38]=C):C=t[38],t[39]!==a.link||t[40]!==a.text||t[41]!==u?(P=u.length>0?(0,Ft.jsx)(wo.default,{style:{flexDirection:"column",gap:8,paddingTop:6},children:(0,Ft.jsxs)(Tx,{style:a.text,children:[(0,Ft.jsx)(ft.Trans,{id:"cKXwwI"})," ",u.map(((e,t)=>(0,Ft.jsxs)(HP,{href:cS({handle:e.usedBy,did:""}),style:{flexDirection:"row"},children:[(0,Ft.jsx)(cF,{did:e.usedBy,style:a.link}),t!==u.length-1&&(0,Ft.jsx)(Tx,{style:a.text,children:", "})]},e.usedBy)))]})}):null,t[39]=a.link,t[40]=a.text,t[41]=u,t[42]=P):P=t[42],t[43]!==C||t[44]!==P||t[45]!==f?(T=(0,Ft.jsxs)(wo.default,{style:f,children:[C,P]}),t[43]=C,t[44]=P,t[45]=f,t[46]=T):T=t[46],T}const g3=Gn.default.create({container:{flex:1,paddingBottom:Pt?0:50},title:{textAlign:"center",marginTop:12,marginBottom:12},description:{textAlign:"center",paddingHorizontal:42,marginBottom:14},scrollContainer:{flex:1,borderTopWidth:1,marginTop:4,marginBottom:16},flex1:{flex:1},empty:{paddingHorizontal:20,paddingVertical:20,borderRadius:16,marginHorizontal:24,marginTop:10},emptyText:{textAlign:"center"},inviteCode:{flexDirection:"row",alignItems:"center"},codeCopied:{marginRight:8},strikeThrough:{textDecorationLine:"line-through",textDecorationStyle:"solid"},btnContainer:{flexDirection:"row",justifyContent:"center"},btnContainerDesktop:{marginTop:14},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:32,paddingHorizontal:60,paddingVertical:14},btnLabel:{fontSize:18}}),x3=e=>{const t=(0,i.c)(21),{onPress:s,extraText:n}=e,o=mx("default"),{_:r}=(0,ft.useLingui)(),{isMobile:a}=jx();let l,c,d,u,m,h,p,f,g,x,_;return t[0]!==a?(l=a&&{paddingBottom:40,borderTopWidth:1},t[0]=a,t[1]=l):l=t[1],t[2]!==o.borderDark||t[3]!==l?(c=[_3.btnContainer,o.borderDark,l],t[2]=o.borderDark,t[3]=l,t[4]=c):c=t[4],t[5]!==r?(d=r({id:"8pNKIr"}),t[5]=r,t[6]=d):d=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(u=[nc.blueLight.start,nc.blueLight.end],m={x:0,y:0},h={x:1,y:1},p=[_3.btn],t[7]=u,t[8]=m,t[9]=h,t[10]=p):(u=t[7],m=t[8],h=t[9],p=t[10]),t[11]===Symbol.for("react.memo_cache_sentinel")?(f=[oc.white,oc.bold,oc.f18],t[11]=f):f=t[11],t[12]!==n?(g=(0,Ft.jsx)(sr.LinearGradient,{colors:u,start:m,end:h,style:p,children:(0,Ft.jsx)(ur.default,{style:f,children:(0,Ft.jsx)(ft.Trans,{id:"zT97vP",values:{extraText:n}})})}),t[12]=n,t[13]=g):g=t[13],t[14]!==s||t[15]!==d||t[16]!==g?(x=(0,Ft.jsx)(tr.default,{testID:"confirmContentLanguagesBtn",onPress:s,accessibilityRole:"button",accessibilityLabel:d,accessibilityHint:"",children:g}),t[14]=s,t[15]=d,t[16]=g,t[17]=x):x=t[17],t[18]!==x||t[19]!==c?(_=(0,Ft.jsx)(wo.default,{style:c,children:x}),t[18]=x,t[19]=c,t[20]=_):_=t[20],_},_3=Gn.default.create({btnContainer:{paddingTop:10,paddingHorizontal:10},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",width:"100%",borderRadius:32,padding:14,backgroundColor:sc.gray1}});function y3(e){const t=(0,i.c)(51),{testID:s,type:n,label:o,isSelected:r,style:a,labelType:l,onPress:c}=e,d=void 0===n?"default-light":n,u=dc();let m;t[0]!==u.palette.default.border||t[1]!==u.palette.inverted.text||t[2]!==u.palette.primary.border||t[3]!==u.palette.primary.text||t[4]!==u.palette.secondary.border||t[5]!==u.palette.secondary.text||t[6]!==d?(m=ws(d,{primary:{borderColor:u.palette.primary.text},secondary:{borderColor:u.palette.secondary.text},inverted:{borderColor:u.palette.inverted.text},"primary-outline":{borderColor:u.palette.primary.border},"secondary-outline":{borderColor:u.palette.secondary.border},"primary-light":{borderColor:u.palette.primary.border},"secondary-light":{borderColor:u.palette.secondary.border},default:{borderColor:u.palette.default.border},"default-light":{borderColor:u.palette.default.border}}),t[0]=u.palette.default.border,t[1]=u.palette.inverted.text,t[2]=u.palette.primary.border,t[3]=u.palette.primary.text,t[4]=u.palette.secondary.border,t[5]=u.palette.secondary.text,t[6]=d,t[7]=m):m=t[7];const h=m,p=r?1:.33;let f;t[8]!==r||t[9]!==p||t[10]!==u.palette.inverted.text||t[11]!==u.palette.primary.background||t[12]!==u.palette.primary.text||t[13]!==u.palette.secondary.background||t[14]!==u.palette.secondary.text||t[15]!==d?(f=ws(d,{primary:{backgroundColor:u.palette.primary.text,opacity:p},secondary:{backgroundColor:u.palette.secondary.text,opacity:r?1:.33},inverted:{backgroundColor:u.palette.inverted.text,opacity:r?1:.33},"primary-outline":{backgroundColor:u.palette.primary.background,opacity:r?1:.5},"secondary-outline":{backgroundColor:u.palette.secondary.background,opacity:r?1:.5},"primary-light":{backgroundColor:u.palette.primary.background,opacity:r?1:.5},"secondary-light":{backgroundColor:u.palette.secondary.background,opacity:r?1:.5},default:{backgroundColor:r?u.palette.primary.background:sc.gray3},"default-light":{backgroundColor:r?u.palette.primary.background:sc.gray3}}),t[8]=r,t[9]=p,t[10]=u.palette.inverted.text,t[11]=u.palette.primary.background,t[12]=u.palette.primary.text,t[13]=u.palette.secondary.background,t[14]=u.palette.secondary.text,t[15]=d,t[16]=f):f=t[16];const g=f,x=u.palette.primary.isLowContrast?"600":void 0;let _;t[17]!==x||t[18]!==u.palette.default.isLowContrast||t[19]!==u.palette.default.text||t[20]!==u.palette.inverted.isLowContrast||t[21]!==u.palette.inverted.text||t[22]!==u.palette.primary.isLowContrast||t[23]!==u.palette.primary.text||t[24]!==u.palette.primary.textInverted||t[25]!==u.palette.secondary.isLowContrast||t[26]!==u.palette.secondary.text||t[27]!==u.palette.secondary.textInverted||t[28]!==d?(_=ws(d,{primary:{color:u.palette.primary.text,fontWeight:x},secondary:{color:u.palette.secondary.text,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},inverted:{color:u.palette.inverted.text,fontWeight:u.palette.inverted.isLowContrast?"600":void 0},"primary-outline":{color:u.palette.primary.textInverted,fontWeight:u.palette.primary.isLowContrast?"600":void 0},"secondary-outline":{color:u.palette.secondary.textInverted,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},"primary-light":{color:u.palette.primary.textInverted,fontWeight:u.palette.primary.isLowContrast?"600":void 0},"secondary-light":{color:u.palette.secondary.textInverted,fontWeight:u.palette.secondary.isLowContrast?"600":void 0},default:{color:u.palette.default.text,fontWeight:u.palette.default.isLowContrast?"600":void 0},"default-light":{color:u.palette.default.text,fontWeight:u.palette.default.isLowContrast?"600":void 0}}),t[17]=x,t[18]=u.palette.default.isLowContrast,t[19]=u.palette.default.text,t[20]=u.palette.inverted.isLowContrast,t[21]=u.palette.inverted.text,t[22]=u.palette.primary.isLowContrast,t[23]=u.palette.primary.text,t[24]=u.palette.primary.textInverted,t[25]=u.palette.secondary.isLowContrast,t[26]=u.palette.secondary.text,t[27]=u.palette.secondary.textInverted,t[28]=d,t[29]=_):_=t[29];const y=_;let b;t[30]!==h?(b=[h,b3.circle],t[30]=h,t[31]=b):b=t[31];const j=r?b3.circleFillSelected:void 0;let v,w,S,k,C;return t[32]!==g||t[33]!==j?(v=(0,Ft.jsx)(wo.default,{style:[g,b3.circleFill,j]}),t[32]=g,t[33]=j,t[34]=v):v=t[34],t[35]!==b||t[36]!==v?(w=(0,Ft.jsx)(wo.default,{style:b,children:v}),t[35]=b,t[36]=v,t[37]=w):w=t[37],t[38]!==o||t[39]!==y||t[40]!==l?(S=""===o?null:(0,Ft.jsx)(Tx,{type:l||"button",style:[y,b3.label],children:o}),t[38]=o,t[39]=y,t[40]=l,t[41]=S):S=t[41],t[42]!==w||t[43]!==S?(k=(0,Ft.jsxs)(wo.default,{style:b3.outer,children:[w,S]}),t[42]=w,t[43]=S,t[44]=k):k=t[44],t[45]!==c||t[46]!==a||t[47]!==k||t[48]!==s||t[49]!==d?(C=(0,Ft.jsx)(Ex,{testID:s,type:d,onPress:c,style:a,children:k}),t[45]=c,t[46]=a,t[47]=k,t[48]=s,t[49]=d,t[50]=C):C=t[50],C}const b3=Gn.default.create({outer:{flexDirection:"row",alignItems:"center",gap:10},circle:{width:42,height:26,borderRadius:15,padding:3,borderWidth:2},circleFill:{width:16,height:16,borderRadius:10},circleFillSelected:{marginLeft:16},label:{flex:1}});function j3(e){const t=(0,i.c)(15),{code2:s,name:n,onPress:o,langType:r}=e,a=mx("default"),l=Yc();let c;t[0]!==l.contentLanguages||t[1]!==l.postLanguage||t[2]!==r?(c="contentLanguages"===r?l.contentLanguages:ed(l.postLanguage),t[0]=l.contentLanguages,t[1]=l.postLanguage,t[2]=r,t[3]=c):c=t[3];const d=c;let u;t[4]!==s||t[5]!==d?(u=d.includes(s),t[4]=s,t[5]=d,t[6]=u):u=t[6];const m=u;let h=!1;"postLanguages"===r&&d.length>=3&&!m&&(h=!0);const p=h?void 0:o,f=h&&v3.dimmed;let g,x;return t[7]!==a.border||t[8]!==f?(g=[a.border,v3.languageToggle,f],t[7]=a.border,t[8]=f,t[9]=g):g=t[9],t[10]!==m||t[11]!==n||t[12]!==p||t[13]!==g?(x=(0,Ft.jsx)(y3,{label:n,isSelected:m,onPress:p,style:g}),t[10]=m,t[11]=n,t[12]=p,t[13]=g,t[14]=x):x=t[14],x}const v3=Gn.default.create({languageToggle:{borderTopWidth:1,borderRadius:0,paddingHorizontal:6,paddingVertical:12},dimmed:{opacity:.5}});function w3({}){const{closeModal:e}=Zd(),t=Yc(),s=Jc(),n=mx("default"),{isMobile:o}=jx(),r=mt.useCallback((()=>{e()}),[e]),i=mt.useMemo((()=>{const e=Bs.filter((e=>!!e.code2.trim()&&Os[e.code2].code3===e.code3));return e.sort(((e,s)=>{const n=t.contentLanguages.includes(e.code2)||As.includes(e.code2);return n===(t.contentLanguages.includes(s.code2)||As.includes(s.code2))?e.name.localeCompare(s.name):n?-1:1})),e}),[t]),a=mt.useCallback((e=>{s.toggleContentLanguage(e)}),[s]);return(0,Ft.jsxs)(wo.default,{testID:"contentLanguagesModal",style:[n.view,S3.container,o?{paddingTop:20}:{maxHeight:"90vh"}],children:[(0,Ft.jsx)(Tx,{style:[n.text,S3.title],children:(0,Ft.jsx)(ft.Trans,{id:"/PlAsF"})}),(0,Ft.jsx)(Tx,{style:[n.text,S3.description],children:(0,Ft.jsx)(ft.Trans,{id:"uawiGa"})}),(0,Ft.jsx)(Tx,{style:[n.textLight,S3.description],children:(0,Ft.jsx)(ft.Trans,{id:"kq2ga7"})}),(0,Ft.jsxs)(Sw.default,{style:S3.scrollContainer,children:[i.map((e=>(0,Ft.jsx)(j3,{code2:e.code2,langType:"contentLanguages",name:Ns(e,t.appLanguage),onPress:()=>{a(e.code2)}},e.code2))),(0,Ft.jsx)(wo.default,{style:{height:o?60:0}})]}),(0,Ft.jsx)(x3,{onPress:r})]})}const S3=Gn.default.create({container:{flex:1},title:{textAlign:"center",fontWeight:"600",fontSize:24,marginBottom:12},description:{textAlign:"center",paddingHorizontal:16,marginBottom:10},scrollContainer:{flex:1,paddingHorizontal:10}});function k3(){const{closeModal:e}=Zd(),t=Yc(),s=Jc(),n=mx("default"),{isMobile:o}=jx(),r=mt.useCallback((()=>{e()}),[e]),i=mt.useMemo((()=>{const e=Bs.filter((e=>!!e.code2.trim()&&Os[e.code2].code3===e.code3));return e.sort(((e,s)=>{const n=td(t.postLanguage,e.code2)||As.includes(e.code2);return n===(td(t.postLanguage,s.code2)||As.includes(s.code2))?e.name.localeCompare(s.name):n?-1:1})),e}),[t]),a=mt.useCallback((e=>{s.togglePostLanguage(e)}),[s]);return(0,Ft.jsxs)(wo.default,{testID:"postLanguagesModal",style:[n.view,C3.container,o?{paddingTop:20}:{maxHeight:"90vh"}],children:[(0,Ft.jsx)(Tx,{style:[n.text,C3.title],children:(0,Ft.jsx)(ft.Trans,{id:"AzCucI"})}),(0,Ft.jsx)(Tx,{style:[n.text,C3.description],children:(0,Ft.jsx)(ft.Trans,{id:"3qn29J"})}),(0,Ft.jsxs)(Sw.default,{style:C3.scrollContainer,children:[i.map((e=>{const s=td(t.postLanguage,e.code2);let o=!1;return t.postLanguage.split(",").length>=3&&!s&&(o=!0),(0,Ft.jsx)(y3,{label:Ns(e,t.appLanguage),isSelected:s,onPress:()=>o?void 0:a(e.code2),style:[n.border,C3.languageToggle,o&&C3.dimmed]},e.code2)})),(0,Ft.jsx)(wo.default,{style:{height:o?60:0}})]}),(0,Ft.jsx)(x3,{onPress:r})]})}const C3=Gn.default.create({container:{flex:1},title:{textAlign:"center",fontWeight:"600",fontSize:24,marginBottom:12},description:{textAlign:"center",paddingHorizontal:16,marginBottom:10},scrollContainer:{flex:1,paddingHorizontal:10},languageToggle:{borderTopWidth:1,borderRadius:0,paddingHorizontal:6,paddingVertical:12},dimmed:{opacity:.5}});function P3(e){const t=(0,i.c)(77),{text:s,href:n,share:o}=e,r=mx("default"),{closeModal:a}=Zd(),{isMobile:l}=jx(),{_:c}=(0,ft.useLingui)();let d;t[0]!==s?(d=Pu(s),t[0]=s,t[1]=d):d=t[1];const u=d,m=nv();let h;t[2]!==a||t[3]!==n||t[4]!==m||t[5]!==o?(h=()=>{a(),o?iv(n):m(n,!1,!0)},t[2]=a,t[3]=n,t[4]=m,t[5]=o,t[6]=h):h=t[6];const p=h;let f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V;return t[7]!==r.view?(f=[oc.flex1,r.view],t[7]=r.view,t[8]=f):f=t[8],t[9]!==l?(g=l&&{paddingHorizontal:18},t[9]=l,t[10]=g):g=t[10],t[11]!==g?(x=[oc.flex1,g],t[11]=g,t[12]=x):x=t[12],t[13]!==r.colors||t[14]!==r.text||t[15]!==u?(_=(0,Ft.jsx)(wo.default,{style:L3.titleSection,children:u?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"circle-exclamation",color:r.colors.text,size:18}),(0,Ft.jsx)(Tx,{type:"title-lg",style:[r.text,L3.title],children:(0,Ft.jsx)(ft.Trans,{id:"0+DQbr"})})]}):(0,Ft.jsx)(Tx,{type:"title-lg",style:[r.text,L3.title],children:(0,Ft.jsx)(ft.Trans,{id:"QfDITI"})})}),t[13]=r.colors,t[14]=r.text,t[15]=u,t[16]=_):_=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(y={gap:10},t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)(ft.Trans,{id:"CvX8qs"}),t[18]=b):b=t[18],t[19]!==r.text?(j=(0,Ft.jsx)(Tx,{type:"lg",style:r.text,children:b}),t[19]=r.text,t[20]=j):j=t[20],t[21]!==n?(v=(0,Ft.jsx)(T3,{href:n}),t[21]=n,t[22]=v):v=t[22],t[23]!==r.text||t[24]!==u?(w=u&&(0,Ft.jsx)(Tx,{type:"lg",style:r.text,children:(0,Ft.jsx)(ft.Trans,{id:"2U/gDT"})}),t[23]=r.text,t[24]=u,t[25]=w):w=t[25],t[26]!==v||t[27]!==w||t[28]!==j?(S=(0,Ft.jsxs)(wo.default,{style:y,children:[j,v,w]}),t[26]=v,t[27]=w,t[28]=j,t[29]=S):S=t[29],t[30]!==l?(k=l&&{paddingBottom:40},t[30]=l,t[31]=k):k=t[31],t[32]!==k?(C=[L3.btnContainer,k],t[32]=k,t[33]=C):C=t[33],t[34]!==c||t[35]!==o?(P=c(o?{id:"woDwPr"}:{id:"wK4H1r"}),t[34]=c,t[35]=o,t[36]=P):P=t[36],t[37]!==c||t[38]!==o?(T=c(o?{id:"+ZGqc+"}:{id:"FeEjTh"}),t[37]=c,t[38]=o,t[39]=T):T=t[39],t[40]!==c||t[41]!==o?(L=c(o?{id:"woDwPr"}:{id:"wK4H1r"}),t[40]=c,t[41]=o,t[42]=L):L=t[42],t[43]===Symbol.for("react.memo_cache_sentinel")?(A={justifyContent:"center",padding:4},I=[oc.f18],t[43]=A,t[44]=I):(A=t[43],I=t[44]),t[45]!==p||t[46]!==P||t[47]!==T||t[48]!==L?(R=(0,Ft.jsx)(Ex,{testID:"confirmBtn",type:"primary",onPress:p,accessibilityLabel:P,accessibilityHint:T,label:L,labelContainerStyle:A,labelStyle:I}),t[45]=p,t[46]=P,t[47]=T,t[48]=L,t[49]=R):R=t[49],t[50]!==a?(D=()=>{a()},t[50]=a,t[51]=D):D=t[51],t[52]!==c?(F=c({id:"dEgA5A"}),t[52]=c,t[53]=F):F=t[53],t[54]!==c?(E=c({id:"rL4JEC"}),t[54]=c,t[55]=E):E=t[55],t[56]!==c?(M=c({id:"dEgA5A"}),t[56]=c,t[57]=M):M=t[57],t[58]===Symbol.for("react.memo_cache_sentinel")?(B={justifyContent:"center",padding:4},O=[oc.f18],t[58]=B,t[59]=O):(B=t[58],O=t[59]),t[60]!==D||t[61]!==F||t[62]!==E||t[63]!==M?(z=(0,Ft.jsx)(Ex,{testID:"cancelBtn",type:"default",onPress:D,accessibilityLabel:F,accessibilityHint:E,label:M,labelContainerStyle:B,labelStyle:O}),t[60]=D,t[61]=F,t[62]=E,t[63]=M,t[64]=z):z=t[64],t[65]!==C||t[66]!==R||t[67]!==z?(H=(0,Ft.jsxs)(wo.default,{style:C,children:[R,z]}),t[65]=C,t[66]=R,t[67]=z,t[68]=H):H=t[68],t[69]!==S||t[70]!==H||t[71]!==x||t[72]!==_?(N=(0,Ft.jsxs)(Sw.default,{testID:"linkWarningModal",style:x,children:[_,S,H]}),t[69]=S,t[70]=H,t[71]=x,t[72]=_,t[73]=N):N=t[73],t[74]!==N||t[75]!==f?(V=(0,Ft.jsx)(jw.default,{style:f,children:N}),t[74]=N,t[75]=f,t[76]=V):V=t[76],V}function T3({href:e}){const t=mx("default"),[s,n,o]=mt.useMemo((()=>{try{const t=new URL(e),[s,n]=function(e){const t=Qd.parse(e);return!t.error&&t.listed&&t.domain?[t.subdomain?`${t.subdomain}.`:"",t.domain]:["",e]}(t.hostname);return[t.protocol+"//"+s,n,t.pathname+t.search+t.hash]}catch{return["",e,""]}}),[e]);return(0,Ft.jsx)(wo.default,{style:[t.view,t.border,L3.linkBox],children:(0,Ft.jsxs)(Tx,{type:"lg",style:t.textLight,children:[s,(0,Ft.jsx)(Tx,{type:"lg-bold",style:t.text,children:n}),o]})})}const L3=Gn.default.create({container:{flex:1,paddingBottom:Pt?0:40},titleSection:{flexDirection:"row",justifyContent:"center",alignItems:"center",gap:6,paddingTop:Pt?0:4,paddingBottom:Pt?14:10},title:{textAlign:"center",fontWeight:"600"},linkBox:{paddingHorizontal:12,paddingVertical:10,borderRadius:6,borderWidth:1},btn:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderRadius:32,padding:14,backgroundColor:sc.blue3},btnContainer:{paddingTop:20,gap:6}});function A3(e){const t=(0,i.c)(54),{subject:s,handle:n,displayName:o,onAdd:r,onRemove:a}=e,{closeModal:l}=Zd(),c=mx("default"),{height:d}=(0,Ny.default)(),{_:u}=(0,ft.useLingui)(),{data:m}=vq();let h;t[0]!==l?(h=()=>{l()},t[0]=l,t[1]=h):h=t[1];const p=h;let f;e:{if(Tt){const e=d/2;let s,n;t[2]!==e?(s={height:e},t[2]=e,t[3]=s):s=t[3],t[4]!==c.border||t[5]!==s?(n=[c.border,s],t[4]=c.border,t[5]=s,t[6]=n):n=t[6],f=n;break e}if(Pt){const e=d/1.5;let s,n;t[7]!==e?(s={height:e},t[7]=e,t[8]=s):s=t[8],t[9]!==c.border||t[10]!==s?(n=[c.border,s],t[9]=c.border,t[10]=s,t[11]=n):n=t[11],f=n;break e}let e,s;t[12]===Symbol.for("react.memo_cache_sentinel")?(e={flex:1,borderTopWidth:Gn.default.hairlineWidth},t[12]=e):e=t[12],t[13]!==c.border?(s=[c.border,e],t[13]=c.border,t[14]=s):s=t[14],f=s}const g=f;let x,_;t[15]===Symbol.for("react.memo_cache_sentinel")?(x={textAlign:"center",fontWeight:"600",fontSize:20,marginBottom:12,paddingHorizontal:12},t[15]=x):x=t[15],t[16]!==c.text?(_=[x,c.text],t[16]=c.text,t[17]=_):_=t[17];const y=_;let b,j,v,w,S,k,C,P,T,L,A,I;return t[18]!==o?(b={displayName:o},t[18]=o,t[19]=b):b=t[19],t[20]!==y?(j={0:(0,Ft.jsx)(Tx,{style:y,numberOfLines:1})},t[20]=y,t[21]=j):j=t[21],t[22]!==b||t[23]!==j?(v=(0,Ft.jsx)(ft.Trans,{id:"pJhLxk",values:b,components:j}),t[22]=b,t[23]=j,t[24]=v):v=t[24],t[25]!==y||t[26]!==v?(w=(0,Ft.jsx)(Tx,{style:y,numberOfLines:1,children:v}),t[25]=y,t[26]=v,t[27]=w):w=t[27],t[28]!==n||t[29]!==m||t[30]!==r||t[31]!==a||t[32]!==s?(S=(e,t)=>(0,Ft.jsx)(I3,{index:t,list:e,memberships:m,subject:s,handle:n,onAdd:r,onRemove:a},e.uri),t[28]=n,t[29]=m,t[30]=r,t[31]=a,t[32]=s,t[33]=S):S=t[33],t[34]!==g||t[35]!==S?(k=(0,Ft.jsx)(BH,{filter:"all",inline:!0,renderItem:S,style:g}),t[34]=g,t[35]=S,t[36]=k):k=t[36],t[37]!==c.border?(C=[R3.btns,c.border],t[37]=c.border,t[38]=C):C=t[38],t[39]!==u?(P=u({id:"vQpxVG"}),t[39]=u,t[40]=P):P=t[40],t[41]!==u?(T=u({id:"vQpxVG"}),t[41]=u,t[42]=T):T=t[42],t[43]!==p||t[44]!==P||t[45]!==T?(L=(0,Ft.jsx)(Ex,{testID:"doneBtn",type:"default",onPress:p,style:R3.footerBtn,accessibilityLabel:P,accessibilityHint:"",onAccessibilityEscape:p,label:T}),t[43]=p,t[44]=P,t[45]=T,t[46]=L):L=t[46],t[47]!==C||t[48]!==L?(A=(0,Ft.jsx)(wo.default,{style:C,children:L}),t[47]=C,t[48]=L,t[49]=A):A=t[49],t[50]!==k||t[51]!==A||t[52]!==w?(I=(0,Ft.jsxs)(wo.default,{testID:"userAddRemoveListsModal",style:oc.hContentRegion,children:[w,k,A]}),t[50]=k,t[51]=A,t[52]=w,t[53]=I):I=t[53],I}function I3({index:e,list:t,memberships:s,subject:n,handle:o,onAdd:r,onRemove:i}){const a=mx("default"),{_:l}=(0,ft.useLingui)(),{currentAccount:c}=xh(),[d,u]=mt.useState(!1),m=mt.useMemo((()=>Sq(s,t.uri,n)),[s,t.uri,n]),h=kq(),p=Cq(),f=(0,mt.useCallback)((async()=>{if("undefined"!==typeof m){u(!0);try{!1===m?(await h.mutateAsync({listUri:t.uri,actorDid:n}),Zu(l({id:"GluCXm"})),r?.(t.uri)):(await p.mutateAsync({listUri:t.uri,actorDid:n,membershipUri:m}),Zu(l({id:"Obm5+c"})),i?.(t.uri))}catch(e){Zu(ds(e),"xmark")}finally{u(!1)}}}),[l,t,n,m,u,r,i,h,p]);return(0,Ft.jsxs)(wo.default,{testID:`toggleBtn-${t.name}`,style:[R3.listItem,a.border,0!==e&&{borderTopWidth:Gn.default.hairlineWidth}],children:[(0,Ft.jsx)(wo.default,{style:R3.listItemAvi,children:(0,Ft.jsx)(mP,{size:40,avatar:t.avatar,type:"list"})}),(0,Ft.jsxs)(wo.default,{style:R3.listItemContent,children:[(0,Ft.jsx)(Tx,{type:"lg",style:[oc.bold,a.text],numberOfLines:1,lineHeight:1.2,children:Qf(t.name)}),(0,Ft.jsxs)(Tx,{type:"md",style:[a.textLight],numberOfLines:1,children:["app.bsky.graph.defs#curatelist"===t.purpose&&(t.creator.did===c?.did?(0,Ft.jsx)(ft.Trans,{id:"xtOS5m"}):(0,Ft.jsx)(ft.Trans,{id:"0yKrM0",values:{0:su(t.creator.handle,"@")}})),"app.bsky.graph.defs#modlist"===t.purpose&&(t.creator.did===c?.did?(0,Ft.jsx)(ft.Trans,{id:"q1sOfA"}):(0,Ft.jsx)(ft.Trans,{id:"h+3Tua",values:{0:su(t.creator.handle,"@")}}))]})]}),(0,Ft.jsx)(wo.default,{children:d||"undefined"===typeof m?(0,Ft.jsx)(Fx.default,{}):(0,Ft.jsx)(Ex,{testID:`user-${o}-addBtn`,type:"default",label:l(!1===m?{id:"m16xKo"}:{id:"t/YqKh"}),onPress:f})})]})}const R3=Gn.default.create({container:{paddingHorizontal:Pt?0:16},btns:{position:"relative",flexDirection:"row",alignItems:"center",justifyContent:"center",gap:10,paddingTop:10,paddingBottom:St?10:0,borderTopWidth:Gn.default.hairlineWidth},footerBtn:{paddingHorizontal:24,paddingVertical:12},listItem:{flexDirection:"row",alignItems:"center",paddingHorizontal:14,paddingVertical:10},listItemAvi:{width:54,paddingLeft:4,paddingTop:8,paddingBottom:10},listItemContent:{flex:1,paddingRight:10,paddingTop:10,paddingBottom:10},checkbox:{flexDirection:"row",alignItems:"center",justifyContent:"center",borderWidth:1,width:24,height:24,borderRadius:6,marginRight:8},loadingContainer:{position:"absolute",top:10,right:0,bottom:0,justifyContent:"center"}});function D3(){const e=(0,i.c)(5),{isModalActive:t,activeModals:s}=Wd();if(!t)return null;let n,o,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(Fo.RemoveScrollBar,{}),e[0]=n):n=e[0],e[1]!==s?(o=s.map(F3),e[1]=s,e[2]=o):o=e[2],e[3]!==o?(r=(0,Ft.jsxs)(Ft.Fragment,{children:[n,o]}),e[3]=o,e[4]=r):r=e[4],r}function F3(e,t){return(0,Ft.jsx)(E3,{modal:e},`modal-${t}`)}function E3(e){const t=(0,i.c)(24),{modal:s}=e,{isModalActive:n}=Wd(),{closeModal:o}=Zd(),r=mx("default"),{isMobile:a}=jx();if(!n)return null;let l;t[0]!==o?(l=()=>{o()},t[0]=o,t[1]=l):l=t[1];const c=l,d=M3;let u,m;if("create-or-edit-list"===s.name){let e;t[2]!==s?(e=(0,Ft.jsx)(yP,Object.assign({},s)),t[2]=s,t[3]=e):e=t[3],u=e}else if("user-add-remove-lists"===s.name){let e;t[4]!==s?(e=(0,Ft.jsx)(A3,Object.assign({},s)),t[4]=s,t[5]=e):e=t[5],u=e}else if("delete-account"===s.name){let e;t[6]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(i3,{}),t[6]=e):e=t[6],u=e}else if("invite-codes"===s.name){let e;t[7]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(h3,{}),t[7]=e):e=t[7],u=e}else if("content-languages-settings"===s.name){let e;t[8]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(w3,{}),t[8]=e):e=t[8],u=e}else if("post-languages-settings"===s.name){let e;t[9]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(k3,{}),t[9]=e):e=t[9],u=e}else if("change-password"===s.name){let e;t[10]===Symbol.for("react.memo_cache_sentinel")?(e=(0,Ft.jsx)(Cw,{}),t[10]=e):e=t[10],u=e}else{if("link-warning"!==s.name)return null;{let e;t[11]!==s?(e=(0,Ft.jsx)(P3,Object.assign({},s)),t[11]=s,t[12]=e):e=t[12],u=e}}t[13]===Symbol.for("react.memo_cache_sentinel")?(m=ko.FadeIn.duration(150),t[13]=m):m=t[13];const h=a&&B3.containerMobile;let p,f,g;return t[14]!==r.border||t[15]!==r.view||t[16]!==h?(p=[B3.container,h,r.view,r.border],t[14]=r.border,t[15]=r.view,t[16]=h,t[17]=p):p=t[17],t[18]!==u||t[19]!==p?(f=(0,Ft.jsx)(ko.default.View,{style:B3.mask,entering:m,exiting:ko.FadeOut,children:(0,Ft.jsx)(Ao.default,{onPress:d,children:(0,Ft.jsx)(wo.default,{style:p,children:u})})}),t[18]=u,t[19]=p,t[20]=f):f=t[20],t[21]!==c||t[22]!==f?(g=(0,Ft.jsx)(Ao.default,{onPress:c,children:f}),t[21]=c,t[22]=f,t[23]=g):g=t[23],g}function M3(){}const B3=Gn.default.create({mask:{position:"fixed",top:0,left:0,width:"100%",height:"100%",backgroundColor:"#000c",alignItems:"center",justifyContent:"center"},container:{width:600,maxWidth:"100vw",maxHeight:"90vh",paddingVertical:20,paddingHorizontal:24,borderRadius:8,borderWidth:1},containerMobile:{borderRadius:0,paddingHorizontal:0}});var O3=s(21978),z3=s(98631),H3=s(6264),N3=s(28084),V3=s(15613),q3=s(47699),U3=s(91922),W3=s(60501),Z3=s(10815),Q3=s(5581),K3=s(98710),$3=s(76362),G3=s(3022),Y3=s(69898),J3=s(50130),X3=s(70450),e4=s(55526),t4=s(15940),s4=s(75709),n4=s(47514),o4=s(36854),r4=s(59265),i4=s(76206),a4=s(82788),l4=s(85788),c4=s(49679),d4=s(32346),u4=s(55700),m4=s(39748),h4=s(92986),p4=s(16660),f4=s(53592),g4=s(79319),x4=s(6411),_4=s(27430);const y4={en:void 0,an:void 0,ast:void 0,ca:z3.default,cy:H3.default,da:N3.default,de:V3.default,el:q3.default,"en-GB":U3.default,eo:W3.default,es:Z3.default,eu:Q3.default,fi:K3.default,fr:$3.default,fy:G3.default,ga:void 0,gd:Y3.default,gl:J3.default,hi:X3.default,hu:e4.default,ia:void 0,id:t4.default,it:s4.default,ja:n4.default,km:o4.default,ko:r4.default,ne:void 0,nl:i4.default,pl:a4.default,"pt-BR":l4.default,ro:c4.default,ru:d4.default,sv:u4.default,th:m4.default,tr:h4.default,uk:p4.default,vi:f4.default,"zh-Hans-CN":g4.default,"zh-Hant-HK":x4.default,"zh-Hant-TW":_4.default};function b4(){const e=(0,i.c)(2),{appLanguage:t}=Yc();let s;return e[0]!==t?(s=(e,s,n)=>{const o=y4[t];return(0,O3.default)(e,s,Object.assign({},n,{locale:o}))},e[0]=t,e[1]=s):s=e[1],s}const j4=zr({path:"M5 2a1 1 0 0 0-1 1v18a1 1 0 0 0 1 1h14a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1H5Zm1 18V4h12v16H6Zm3-6a1 1 0 1 0 0 2h2a1 1 0 1 0 0-2H9Zm-1-3a1 1 0 0 1 1-1h6a1 1 0 1 1 0 2H9a1 1 0 0 1-1-1Zm1-5a1 1 0 0 0 0 2h6a1 1 0 1 0 0-2H9Z"}),v4=864e5;function w4(){const e=(0,i.c)(4),{mutedWordsDialogControl:t}=No();let s,n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),n=(0,Ft.jsx)(S4,{}),e[0]=s,e[1]=n):(s=e[0],n=e[1]),e[2]!==t?(o=(0,Ft.jsxs)(aa,{control:t,children:[s,n]}),e[2]=t,e[3]=o):o=e[3],o}function S4(){const e=(0,i.c)(193),t=ec(),{_:s}=(0,ft.useLingui)(),{gtMobile:n}=ql(),{isLoading:o,data:r,error:a}=Fh(),{isPending:l,mutateAsync:c}=qh(),[d,u]=mt.useState("");let m;e[0]===Symbol.for("react.memo_cache_sentinel")?(m=["content"],e[0]=m):m=e[0];const[h,p]=mt.useState(m),[f,g]=mt.useState("");let x;e[1]===Symbol.for("react.memo_cache_sentinel")?(x=["forever"],e[1]=x):x=e[1];const[_,y]=mt.useState(x),[b,j]=mt.useState(!1);let v;e[2]!==s||e[3]!==c||e[4]!==_||e[5]!==b||e[6]!==d||e[7]!==h?(v=async()=>{const e=(0,Is.sanitizeMutedWordValue)(d),t=["tag",h.includes("content")&&"content"].filter(Boolean),n=b?"exclude-following":"all",o=Date.now(),r=_.at(0);let i;if("24_hours"===r?i=new Date(o+v4).toISOString():"7_days"===r?i=new Date(o+7*v4).toISOString():"30_days"===r&&(i=new Date(o+30*v4).toISOString()),!e||!t.length)return u(""),void g(s({id:"8EDfvE"}));try{await c([{value:d,targets:t,actorTarget:n,expiresAt:i}]),u("")}catch(S){const t=S;ys.error("Failed to save muted word",{message:t.message}),g(t.message)}},e[2]=s,e[3]=c,e[4]=_,e[5]=b,e[6]=d,e[7]=h,e[8]=v):v=e[8];const w=v;let S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re,ie,ae,le,ce,de,ue,me,he,pe,fe,ge,xe,_e,ye,be,je,ve,we,Se,ke,Ce,Pe,Te,Le,Ae,Ie,Re,De,Fe,Ee,Me,Be,Oe,ze,He,Ne,Ve,qe,Ue,We,Ze,Qe,Ke;e[9]!==s?(S=s({id:"gc311N"}),e[9]=s,e[10]=S):S=e[10],e[11]!==t.atoms.text_contrast_high?(k=[kl.text_md,kl.font_bold,kl.pb_sm,t.atoms.text_contrast_high],e[11]=t.atoms.text_contrast_high,e[12]=k):k=e[12],e[13]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(ft.Trans,{id:"MeeIAJ"}),e[13]=C):C=e[13],e[14]!==k?(P=(0,Ft.jsx)(fr,{style:k,children:C}),e[14]=k,e[15]=P):P=e[15],e[16]!==t.atoms.text_contrast_medium?(T=[kl.pb_lg,kl.leading_snug,t.atoms.text_contrast_medium],e[16]=t.atoms.text_contrast_medium,e[17]=T):T=e[17],e[18]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(ft.Trans,{id:"gaVbYv"}),e[18]=L):L=e[18],e[19]!==T?(A=(0,Ft.jsx)(fr,{style:T,children:L}),e[19]=T,e[20]=A):A=e[20],e[21]===Symbol.for("react.memo_cache_sentinel")?(I=[kl.pb_sm],e[21]=I):I=e[21],e[22]!==s?(R=s({id:"56nDAm"}),e[22]=s,e[23]=R):R=e[23],e[24]!==s?(D=s({id:"56nDAm"}),e[24]=s,e[25]=D):D=e[25],e[26]!==f?(F=e=>{f&&g(""),u(e)},e[26]=f,e[27]=F):F=e[27],e[28]!==d||e[29]!==w||e[30]!==R||e[31]!==D||e[32]!==F?(E=(0,Ft.jsx)(wo.default,{style:I,children:(0,Ft.jsx)(ea,{autoCorrect:!1,autoCapitalize:"none",autoComplete:"off",label:R,placeholder:D,value:d,onChangeText:F,onSubmitEditing:w})}),e[28]=d,e[29]=w,e[30]=R,e[31]=D,e[32]=F,e[33]=E):E=e[33],e[34]===Symbol.for("react.memo_cache_sentinel")?(M=[kl.pb_xl,kl.gap_sm],e[34]=M):M=e[34],e[35]!==s?(B=s({id:"YPcZGF"}),e[35]=s,e[36]=B):B=e[36],e[37]!==t.atoms.text_contrast_medium?(O=[kl.pb_xs,kl.text_sm,kl.font_bold,t.atoms.text_contrast_medium],e[37]=t.atoms.text_contrast_medium,e[38]=O):O=e[38],e[39]===Symbol.for("react.memo_cache_sentinel")?(z=(0,Ft.jsx)(ft.Trans,{id:"N23Lnm"}),e[39]=z):z=e[39],e[40]!==O?(H=(0,Ft.jsx)(fr,{style:O,children:z}),e[40]=O,e[41]=H):H=e[41],e[42]!==n?(N=n&&[kl.flex_row,kl.align_center,kl.justify_start],e[42]=n,e[43]=N):N=e[43],e[44]!==N?(V=[N,kl.gap_sm],e[44]=N,e[45]=V):V=e[45],e[46]===Symbol.for("react.memo_cache_sentinel")?(q=[kl.flex_1,kl.flex_row,kl.justify_start,kl.align_center,kl.gap_sm],e[46]=q):q=e[46],e[47]!==s?(U=s({id:"IvQ7c1"}),e[47]=s,e[48]=U):U=e[48],e[49]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.flex_1],e[49]=W):W=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(Z=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],Q=(0,Ft.jsx)(uI,{}),e[50]=Z,e[51]=Q):(Z=e[50],Q=e[51]),e[52]===Symbol.for("react.memo_cache_sentinel")?(K=(0,Ft.jsx)(P4,{children:(0,Ft.jsxs)(wo.default,{style:Z,children:[Q,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"9ZP9cc"})})]})}),e[52]=K):K=e[52],e[53]!==U?($=(0,Ft.jsx)(iI,{label:U,name:"forever",style:W,children:K}),e[53]=U,e[54]=$):$=e[54],e[55]!==s?(G=s({id:"A+iUGE"}),e[55]=s,e[56]=G):G=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(Y=[kl.flex_1],e[57]=Y):Y=e[57],e[58]===Symbol.for("react.memo_cache_sentinel")?(J=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],X=(0,Ft.jsx)(uI,{}),e[58]=J,e[59]=X):(J=e[58],X=e[59]),e[60]===Symbol.for("react.memo_cache_sentinel")?(ee=(0,Ft.jsx)(P4,{children:(0,Ft.jsxs)(wo.default,{style:J,children:[X,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"VaA9mu"})})]})}),e[60]=ee):ee=e[60],e[61]!==G?(te=(0,Ft.jsx)(iI,{label:G,name:"24_hours",style:Y,children:ee}),e[61]=G,e[62]=te):te=e[62],e[63]!==$||e[64]!==te?(se=(0,Ft.jsxs)(wo.default,{style:q,children:[$,te]}),e[63]=$,e[64]=te,e[65]=se):se=e[65],e[66]===Symbol.for("react.memo_cache_sentinel")?(ne=[kl.flex_1,kl.flex_row,kl.justify_start,kl.align_center,kl.gap_sm],e[66]=ne):ne=e[66],e[67]!==s?(oe=s({id:"uuuMgz"}),e[67]=s,e[68]=oe):oe=e[68],e[69]===Symbol.for("react.memo_cache_sentinel")?(re=[kl.flex_1],e[69]=re):re=e[69],e[70]===Symbol.for("react.memo_cache_sentinel")?(ie=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],ae=(0,Ft.jsx)(uI,{}),e[70]=ie,e[71]=ae):(ie=e[70],ae=e[71]),e[72]===Symbol.for("react.memo_cache_sentinel")?(le=(0,Ft.jsx)(P4,{children:(0,Ft.jsxs)(wo.default,{style:ie,children:[ae,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"rJe6vw"})})]})}),e[72]=le):le=e[72],e[73]!==oe?(ce=(0,Ft.jsx)(iI,{label:oe,name:"7_days",style:re,children:le}),e[73]=oe,e[74]=ce):ce=e[74],e[75]!==s?(de=s({id:"GBb12x"}),e[75]=s,e[76]=de):de=e[76],e[77]===Symbol.for("react.memo_cache_sentinel")?(ue=[kl.flex_1],e[77]=ue):ue=e[77],e[78]===Symbol.for("react.memo_cache_sentinel")?(me=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],he=(0,Ft.jsx)(uI,{}),e[78]=me,e[79]=he):(me=e[78],he=e[79]),e[80]===Symbol.for("react.memo_cache_sentinel")?(pe=(0,Ft.jsx)(P4,{children:(0,Ft.jsxs)(wo.default,{style:me,children:[he,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"P9cEa2"})})]})}),e[80]=pe):pe=e[80],e[81]!==de?(fe=(0,Ft.jsx)(iI,{label:de,name:"30_days",style:ue,children:pe}),e[81]=de,e[82]=fe):fe=e[82],e[83]!==ce||e[84]!==fe?(ge=(0,Ft.jsxs)(wo.default,{style:ne,children:[ce,fe]}),e[83]=ce,e[84]=fe,e[85]=ge):ge=e[85],e[86]!==V||e[87]!==se||e[88]!==ge?(xe=(0,Ft.jsxs)(wo.default,{style:V,children:[se,ge]}),e[86]=V,e[87]=se,e[88]=ge,e[89]=xe):xe=e[89],e[90]!==_||e[91]!==B||e[92]!==H||e[93]!==xe?(_e=(0,Ft.jsxs)(rI,{label:B,type:"radio",values:_,onChange:y,children:[H,xe]}),e[90]=_,e[91]=B,e[92]=H,e[93]=xe,e[94]=_e):_e=e[94],e[95]!==s?(ye=s({id:"rz0+O7"}),e[95]=s,e[96]=ye):ye=e[96],e[97]!==t.atoms.text_contrast_medium?(be=[kl.pb_xs,kl.text_sm,kl.font_bold,t.atoms.text_contrast_medium],e[97]=t.atoms.text_contrast_medium,e[98]=be):be=e[98],e[99]===Symbol.for("react.memo_cache_sentinel")?(je=(0,Ft.jsx)(ft.Trans,{id:"bwjcW2"}),e[99]=je):je=e[99],e[100]!==be?(ve=(0,Ft.jsx)(fr,{style:be,children:je}),e[100]=be,e[101]=ve):ve=e[101],e[102]===Symbol.for("react.memo_cache_sentinel")?(we=[kl.flex_row,kl.align_center,kl.gap_sm,kl.flex_wrap],e[102]=we):we=e[102],e[103]!==s?(Se=s({id:"m1NYNv"}),e[103]=s,e[104]=Se):Se=e[104],e[105]===Symbol.for("react.memo_cache_sentinel")?(ke=[kl.flex_1],e[105]=ke):ke=e[105],e[106]===Symbol.for("react.memo_cache_sentinel")?(Ce=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],Pe=(0,Ft.jsx)(uI,{}),e[106]=Ce,e[107]=Pe):(Ce=e[106],Pe=e[107]),e[108]===Symbol.for("react.memo_cache_sentinel")?(Te=(0,Ft.jsxs)(P4,{children:[(0,Ft.jsxs)(wo.default,{style:Ce,children:[Pe,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"4PP896"})})]}),(0,Ft.jsx)(j4,{size:"sm"})]}),e[108]=Te):Te=e[108],e[109]!==Se?(Le=(0,Ft.jsx)(iI,{label:Se,name:"content",style:ke,children:Te}),e[109]=Se,e[110]=Le):Le=e[110],e[111]!==s?(Ae=s({id:"6xHFkK"}),e[111]=s,e[112]=Ae):Ae=e[112],e[113]===Symbol.for("react.memo_cache_sentinel")?(Ie=[kl.flex_1],e[113]=Ie):Ie=e[113],e[114]===Symbol.for("react.memo_cache_sentinel")?(Re=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],De=(0,Ft.jsx)(uI,{}),e[114]=Re,e[115]=De):(Re=e[114],De=e[115]),e[116]===Symbol.for("react.memo_cache_sentinel")?(Fe=(0,Ft.jsxs)(P4,{children:[(0,Ft.jsxs)(wo.default,{style:Re,children:[De,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"SCh+q3"})})]}),(0,Ft.jsx)(qF,{size:"sm"})]}),e[116]=Fe):Fe=e[116],e[117]!==Ae?(Ee=(0,Ft.jsx)(iI,{label:Ae,name:"tag",style:Ie,children:Fe}),e[117]=Ae,e[118]=Ee):Ee=e[118],e[119]!==Le||e[120]!==Ee?(Me=(0,Ft.jsxs)(wo.default,{style:we,children:[Le,Ee]}),e[119]=Le,e[120]=Ee,e[121]=Me):Me=e[121],e[122]!==ye||e[123]!==ve||e[124]!==Me||e[125]!==h?(Be=(0,Ft.jsxs)(rI,{label:ye,type:"radio",values:h,onChange:p,children:[ve,Me]}),e[122]=ye,e[123]=ve,e[124]=Me,e[125]=h,e[126]=Be):Be=e[126],e[127]!==t.atoms.text_contrast_medium?(Oe=[kl.pb_xs,kl.text_sm,kl.font_bold,t.atoms.text_contrast_medium],e[127]=t.atoms.text_contrast_medium,e[128]=Oe):Oe=e[128],e[129]===Symbol.for("react.memo_cache_sentinel")?(ze=(0,Ft.jsx)(ft.Trans,{id:"AmPPq5"}),e[129]=ze):ze=e[129],e[130]!==Oe?(He=(0,Ft.jsx)(fr,{style:Oe,children:ze}),e[130]=Oe,e[131]=He):He=e[131],e[132]!==s?(Ne=s({id:"M2ux4B"}),e[132]=s,e[133]=Ne):Ne=e[133],e[134]===Symbol.for("react.memo_cache_sentinel")?(Ve=[kl.flex_row,kl.justify_between],e[134]=Ve):Ve=e[134],e[135]===Symbol.for("react.memo_cache_sentinel")?(qe=[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],Ue=(0,Ft.jsx)(cI,{}),e[135]=qe,e[136]=Ue):(qe=e[135],Ue=e[136]),e[137]===Symbol.for("react.memo_cache_sentinel")?(We=(0,Ft.jsx)(P4,{children:(0,Ft.jsxs)(wo.default,{style:qe,children:[Ue,(0,Ft.jsx)(aI,{style:[kl.flex_1,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"dtB3eO"})})]})}),e[137]=We):We=e[137],e[138]!==b||e[139]!==Ne?(Ze=(0,Ft.jsx)(iI,{label:Ne,name:"exclude_following",style:Ve,value:b,onChange:j,children:We}),e[138]=b,e[139]=Ne,e[140]=Ze):Ze=e[140],e[141]!==He||e[142]!==Ze?(Qe=(0,Ft.jsxs)(wo.default,{children:[He,Ze]}),e[141]=He,e[142]=Ze,e[143]=Qe):Qe=e[143],e[144]===Symbol.for("react.memo_cache_sentinel")?(Ke=[kl.pt_xs],e[144]=Ke):Ke=e[144];const $e=l||!d;let Ge,Ye,Je;e[145]!==s?(Ge=s({id:"ewfGtx"}),e[145]=s,e[146]=Ge):Ge=e[146],e[147]===Symbol.for("react.memo_cache_sentinel")?(Ye=[],e[147]=Ye):Ye=e[147],e[148]===Symbol.for("react.memo_cache_sentinel")?(Je=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"m16xKo"})}),e[148]=Je):Je=e[148];const Xe=l?wv:kS;let et,tt,st,nt,ot,rt,it,at,lt,ct,dt,ut,ht,pt,gt;return e[149]!==Xe?(et=(0,Ft.jsx)(Pr,{icon:Xe,position:"right"}),e[149]=Xe,e[150]=et):et=e[150],e[151]!==w||e[152]!==$e||e[153]!==Ge||e[154]!==et?(tt=(0,Ft.jsx)(wo.default,{style:Ke,children:(0,Ft.jsxs)(Sr,{disabled:$e,label:Ge,size:"large",color:"primary",variant:"solid",style:Ye,onPress:w,children:[Je,et]})}),e[151]=w,e[152]=$e,e[153]=Ge,e[154]=et,e[155]=tt):tt=e[155],e[156]!==f||e[157]!==t.atoms.bg_contrast_25||e[158]!==t.palette?(st=f&&(0,Ft.jsx)(wo.default,{style:[kl.mb_lg,kl.flex_row,kl.rounded_sm,kl.p_md,kl.mb_xs,t.atoms.bg_contrast_25,{backgroundColor:t.palette.negative_400}],children:(0,Ft.jsx)(fr,{style:[kl.italic,{color:t.palette.white},jo({marginTop:2})],children:f})}),e[156]=f,e[157]=t.atoms.bg_contrast_25,e[158]=t.palette,e[159]=st):st=e[159],e[160]!==_e||e[161]!==Be||e[162]!==Qe||e[163]!==tt||e[164]!==st?(nt=(0,Ft.jsxs)(wo.default,{style:M,children:[_e,Be,Qe,tt,st]}),e[160]=_e,e[161]=Be,e[162]=Qe,e[163]=tt,e[164]=st,e[165]=nt):nt=e[165],e[166]===Symbol.for("react.memo_cache_sentinel")?(ot=(0,Ft.jsx)(Iv,{}),e[166]=ot):ot=e[166],e[167]===Symbol.for("react.memo_cache_sentinel")?(rt=[kl.pt_2xl],e[167]=rt):rt=e[167],e[168]!==t.atoms.text_contrast_high?(it=[kl.text_md,kl.font_bold,kl.pb_md,t.atoms.text_contrast_high],e[168]=t.atoms.text_contrast_high,e[169]=it):it=e[169],e[170]===Symbol.for("react.memo_cache_sentinel")?(at=(0,Ft.jsx)(ft.Trans,{id:"NcEbYp"}),e[170]=at):at=e[170],e[171]!==it?(lt=(0,Ft.jsx)(fr,{style:it,children:at}),e[171]=it,e[172]=lt):lt=e[172],e[173]!==o||e[174]!==r||e[175]!==a||e[176]!==t.atoms.bg_contrast_25||e[177]!==t.atoms.text_contrast_high?(ct=o?(0,Ft.jsx)(wv,{}):a||!r?(0,Ft.jsx)(wo.default,{style:[kl.py_md,kl.px_lg,kl.rounded_md,t.atoms.bg_contrast_25],children:(0,Ft.jsx)(fr,{style:[kl.italic,t.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"XgdkIt"})})}):r.moderationPrefs.mutedWords.length?[...r.moderationPrefs.mutedWords].reverse().map(((e,s)=>(0,Ft.jsx)(k4,{word:e,style:[s%2===0&&t.atoms.bg_contrast_25]},e.value+s))):(0,Ft.jsx)(wo.default,{style:[kl.py_md,kl.px_lg,kl.rounded_md,t.atoms.bg_contrast_25],children:(0,Ft.jsx)(fr,{style:[kl.italic,t.atoms.text_contrast_high],children:(0,Ft.jsx)(ft.Trans,{id:"5CAK8j"})})}),e[173]=o,e[174]=r,e[175]=a,e[176]=t.atoms.bg_contrast_25,e[177]=t.atoms.text_contrast_high,e[178]=ct):ct=e[178],e[179]!==lt||e[180]!==ct?(dt=(0,Ft.jsxs)(wo.default,{style:rt,children:[lt,ct]}),e[179]=lt,e[180]=ct,e[181]=dt):dt=e[181],e[182]===Symbol.for("react.memo_cache_sentinel")?(ut=kt&&(0,Ft.jsx)(wo.default,{style:{height:20}}),e[182]=ut):ut=e[182],e[183]!==E||e[184]!==P||e[185]!==A||e[186]!==nt||e[187]!==dt?(ht=(0,Ft.jsxs)(wo.default,{children:[P,A,E,nt,ot,dt,ut]}),e[183]=E,e[184]=P,e[185]=A,e[186]=nt,e[187]=dt,e[188]=ht):ht=e[188],e[189]===Symbol.for("react.memo_cache_sentinel")?(pt=(0,Ft.jsx)(ma,{}),e[189]=pt):pt=e[189],e[190]!==S||e[191]!==ht?(gt=(0,Ft.jsxs)(da,{label:S,children:[ht,pt]}),e[190]=S,e[191]=ht,e[192]=gt):gt=e[192],gt}function k4(e){const t=(0,i.c)(50),{style:s,word:n}=e,o=ec(),{_:r}=(0,ft.useLingui)(),{isPending:a,mutateAsync:l}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={mutationFn:async e=>{await s.removeMutedWord(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),c=Ar(),d=n.expiresAt?new Date(n.expiresAt):void 0,u=d&&d<new Date,m=b4();let h;t[0]!==c||t[1]!==l||t[2]!==n?(h=async()=>{c.close(),l(n)},t[0]=c,t[1]=l,t[2]=n,t[3]=h):h=t[3];const p=h;let f,g,x,_;t[4]!==r?(f=r({id:"6foA8n"}),t[4]=r,t[5]=f):f=t[5],t[6]!==r||t[7]!==n.value?(g=r({id:"Eal/k5",values:{0:n.value}}),t[6]=r,t[7]=n.value,t[8]=g):g=t[8],t[9]!==r?(x=r({id:"t/YqKh"}),t[9]=r,t[10]=x):x=t[10],t[11]!==c||t[12]!==p||t[13]!==f||t[14]!==g||t[15]!==x?(_=(0,Ft.jsx)(bx,{control:c,title:f,description:g,onConfirm:p,confirmButtonCta:x,confirmButtonColor:"negative"}),t[11]=c,t[12]=p,t[13]=f,t[14]=g,t[15]=x,t[16]=_):_=t[16];const y=wo.default;let b;t[17]!==s?(b=[kl.flex_row,kl.justify_between,kl.py_md,kl.px_lg,kl.rounded_md,kl.gap_md,s],t[17]=s,t[18]=b):b=t[18];const j=wo.default;let v,w,S,k;t[19]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_1,kl.gap_xs],t[19]=v):v=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.flex_row,kl.align_center,kl.gap_sm],t[20]=w):w=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_1,kl.leading_snug,kl.font_bold,_o({overflowWrap:"break-word",wordBreak:"break-word"})],t[21]=S):S=t[21],t[22]!==o.atoms.text_contrast_medium||t[23]!==n.targets||t[24]!==n.value?(k=(0,Ft.jsx)(wo.default,{style:w,children:(0,Ft.jsx)(fr,{style:S,children:n.targets.find(C4)?(0,Ft.jsx)(ft.Trans,{id:"pB+j+H",values:{0:n.value},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_normal,o.atoms.text_contrast_medium]}),1:(0,Ft.jsx)(fr,{style:[kl.font_bold,o.atoms.text_contrast_medium]})}}):(0,Ft.jsx)(ft.Trans,{id:"5R/uEu",values:{0:n.value},components:{0:(0,Ft.jsx)(fr,{style:[kl.font_normal,o.atoms.text_contrast_medium]}),1:(0,Ft.jsx)(fr,{style:[kl.font_bold,o.atoms.text_contrast_medium]})}})})}),t[22]=o.atoms.text_contrast_medium,t[23]=n.targets,t[24]=n.value,t[25]=k):k=t[25];const C=(d||"exclude-following"===n.actorTarget)&&(0,Ft.jsx)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_sm],children:(0,Ft.jsxs)(fr,{style:[kl.flex_1,kl.text_xs,kl.leading_snug,o.atoms.text_contrast_medium],children:[d&&(0,Ft.jsx)(Ft.Fragment,{children:u?(0,Ft.jsx)(ft.Trans,{id:"M1RnFv"}):(0,Ft.jsx)(ft.Trans,{id:"oOfJ56",values:{0:m(d,new Date,{addSuffix:!0})}})}),"exclude-following"===n.actorTarget&&(0,Ft.jsxs)(Ft.Fragment,{children:[" \u2022 ",(0,Ft.jsx)(ft.Trans,{id:"IpSZDQ"})]})]})});let P,T,L,A;t[26]!==j||t[27]!==k||t[28]!==C||t[29]!==v?(P=(0,Ft.jsxs)(j,{style:v,children:[k,C]}),t[26]=j,t[27]=k,t[28]=C,t[29]=v,t[30]=P):P=t[30],t[31]!==r?(T=r({id:"E2dk8C"}),t[31]=r,t[32]=T):T=t[32],t[33]!==c?(L=()=>c.open(),t[33]=c,t[34]=L):L=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.ml_sm],t[35]=A):A=t[35];const I=a?wv:Hr;let R,D,F,E;return t[36]!==I?(R=(0,Ft.jsx)(Pr,{icon:I}),t[36]=I,t[37]=R):R=t[37],t[38]!==T||t[39]!==L||t[40]!==R?(D=(0,Ft.jsx)(Sr,{label:T,size:"tiny",shape:"round",variant:"outline",color:"secondary",onPress:L,style:A,children:R}),t[38]=T,t[39]=L,t[40]=R,t[41]=D):D=t[41],t[42]!==y||t[43]!==P||t[44]!==D||t[45]!==b?(F=(0,Ft.jsxs)(y,{style:b,children:[P,D]}),t[42]=y,t[43]=P,t[44]=D,t[45]=b,t[46]=F):F=t[46],t[47]!==F||t[48]!==_?(E=(0,Ft.jsxs)(Ft.Fragment,{children:[_,F]}),t[47]=F,t[48]=_,t[49]=E):E=t[49],E}function C4(e){return"content"===e}function P4(e){const t=(0,i.c)(14),{children:s}=e,n=ec(),o=oI(),{gtMobile:r}=ql(),a=r&&kl.px_md,l=(o.hovered||o.focused)&&n.atoms.bg_contrast_50;let c,d,u,m;return t[0]!==o.selected||t[1]!==n.palette?(c=o.selected&&[{backgroundColor:n.palette.primary_50}],t[0]=o.selected,t[1]=n.palette,t[2]=c):c=t[2],t[3]!==o.disabled?(d=o.disabled&&{opacity:.8},t[3]=o.disabled,t[4]=d):d=t[4],t[5]!==n.atoms.bg_contrast_25||t[6]!==a||t[7]!==l||t[8]!==c||t[9]!==d?(u=[kl.flex_row,kl.align_center,kl.justify_between,kl.gap_xs,kl.flex_1,kl.py_sm,kl.px_sm,a,kl.rounded_sm,n.atoms.bg_contrast_25,l,c,d],t[5]=n.atoms.bg_contrast_25,t[6]=a,t[7]=l,t[8]=c,t[9]=d,t[10]=u):u=t[10],t[11]!==s||t[12]!==u?(m=(0,Ft.jsx)(wo.default,{style:u,children:s}),t[11]=s,t[12]=u,t[13]=m):m=t[13],m}function T4(){const e=(0,i.c)(6),{signinDialogControl:t}=No();let s,n,o;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=(0,Ft.jsx)(ha,{}),e[0]=s):s=e[0],e[1]!==t?(n=(0,Ft.jsx)(L4,{control:t}),e[1]=t,e[2]=n):n=e[2],e[3]!==t||e[4]!==n?(o=(0,Ft.jsxs)(aa,{control:t,children:[s,n]}),e[3]=t,e[4]=n,e[5]=o):o=e[5],o}function L4(e){const t=(0,i.c)(50),s=ec(),{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),{requestSwitchToAccount:r}=oj(),a=Om();let l;t[0]!==a||t[1]!==r?(l=()=>{a(),r({requestedAccount:"none"})},t[0]=a,t[1]=r,t[2]=l):l=t[2];const c=l;let d;t[3]!==a||t[4]!==r?(d=()=>{a(),r({requestedAccount:"new"})},t[3]=a,t[4]=r,t[5]=d):d=t[5];const u=d;let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E;return t[6]!==n?(m=n({id:"PiFjQA"}),t[6]=n,t[7]=m):m=t[7],t[8]!==o?(h=o?{width:"auto",maxWidth:420}:kl.w_full,t[8]=o,t[9]=h):h=t[9],t[10]!==h?(p=[h],t[10]=h,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=[!kt&&kl.p_2xl],t[12]=f):f=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_row,kl.align_center,kl.justify_center,kl.gap_sm,kl.pb_lg],x=(0,Ft.jsx)(mH,{width:36}),t[13]=g,t[14]=x):(g=t[13],x=t[14]),t[15]===Symbol.for("react.memo_cache_sentinel")?(_={paddingTop:6},t[15]=_):_=t[15],t[16]!==s.atoms.text.color?(y=(0,Ft.jsxs)(wo.default,{style:g,children:[x,(0,Ft.jsx)(wo.default,{style:_,children:(0,Ft.jsx)(EW,{width:120,fill:s.atoms.text.color})})]}),t[16]=s.atoms.text.color,t[17]=y):y=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(b={maxWidth:300},t[18]=b):b=t[18],t[19]!==s.atoms.text?(j=[kl.text_lg,kl.text_center,s.atoms.text,kl.pb_2xl,kl.leading_snug,kl.mx_auto,b],t[19]=s.atoms.text,t[20]=j):j=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(ft.Trans,{id:"2hzW+R"}),t[21]=v):v=t[21],t[22]!==j?(w=(0,Ft.jsx)(fr,{style:j,children:v}),t[22]=j,t[23]=w):w=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_col,kl.gap_md],t[24]=S):S=t[24],t[25]!==n?(k=n({id:"3T8ziB"}),t[25]=n,t[26]=k):k=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"3T8ziB"})}),t[27]=C):C=t[27],t[28]!==u||t[29]!==k?(P=(0,Ft.jsx)(Sr,{variant:"solid",color:"primary",size:"large",onPress:u,label:k,children:C}),t[28]=u,t[29]=k,t[30]=P):P=t[30],t[31]!==n?(T=n({id:"5lWFkC"}),t[31]=n,t[32]=T):T=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"5lWFkC"})}),t[33]=L):L=t[33],t[34]!==c||t[35]!==T?(A=(0,Ft.jsx)(Sr,{variant:"solid",color:"secondary",size:"large",onPress:c,label:T,children:L}),t[34]=c,t[35]=T,t[36]=A):A=t[36],t[37]!==P||t[38]!==A?(I=(0,Ft.jsxs)(wo.default,{style:S,children:[P,A]}),t[37]=P,t[38]=A,t[39]=I):I=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(R=kt&&(0,Ft.jsx)(wo.default,{style:{height:10}}),t[40]=R):R=t[40],t[41]!==y||t[42]!==w||t[43]!==I?(D=(0,Ft.jsxs)(wo.default,{style:f,children:[y,w,I,R]}),t[41]=y,t[42]=w,t[43]=I,t[44]=D):D=t[44],t[45]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(ma,{}),t[45]=F):F=t[45],t[46]!==D||t[47]!==m||t[48]!==p?(E=(0,Ft.jsxs)(da,{label:m,style:p,children:[D,F]}),t[46]=D,t[47]=m,t[48]=p,t[49]=E):E=t[49],E}var A4=s(67121);const I4=(e,t)=>{const s=new URL(Hi);if(s.pathname=e,t)for(const n in t)s.searchParams.set(n,t[n]);return s.href};function R4(){return new Is.AtpAgent({service:Hi})}function D4(e){switch(e){case"video/mp4":return"mp4";case"video/webm":return"webm";case"video/mpeg":return"mpeg";case"video/quicktime":return"mov";case"image/gif":return"gif";default:throw new Error(`Unsupported mime type: ${e}`)}}function F4(e){const t=(0,i.c)(57),{replyTo:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),{embed:r}=s,[a,l]=(0,mt.useState)(!1);let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=()=>{l(E4),vF.default.configureNext({duration:350,update:{type:"spring",springDamping:.7}})},t[0]=c):c=t[0];const d=c;let u;u=Is.AppBskyEmbedRecord.isView(r)&&Is.AppBskyEmbedRecord.isViewRecord(r.record)&&Is.AppBskyFeedPost.isRecord(r.record.value)?r:Is.AppBskyEmbedRecordWithMedia.isView(r)&&Is.AppBskyEmbedRecord.isViewRecord(r.record.record)&&Is.AppBskyFeedPost.isRecord(r.record.record.value)?r.record:null;const m=u;let h;h=Is.AppBskyEmbedImages.isView(r)?r.images:Is.AppBskyEmbedRecordWithMedia.isView(r)&&Is.AppBskyEmbedImages.isView(r.media)?r.media.images:void 0;const p=h;let f;t[1]!==s.author?(f={profile:s.author},t[1]=s.author,t[2]=f):f=t[2];const g=Nk(f),x=n.atoms.border_contrast_medium;let _,y,b,j;t[3]===Symbol.for("react.memo_cache_sentinel")?(_=_o(kl.user_select_text),t[3]=_):_=t[3],t[4]!==n.atoms.border_contrast_medium?(y=[kl.flex_row,kl.align_start,kl.pt_xs,kl.pb_lg,kl.mb_md,kl.mx_lg,kl.border_b,x,_],t[4]=n.atoms.border_contrast_medium,t[5]=y):y=t[5],t[6]!==o?(b=o({id:"gPnu2e"}),t[6]=o,t[7]=b):b=t[7],t[8]!==s.moderation?(j=s.moderation?.ui("avatar"),t[8]=s.moderation,t[9]=j):j=t[9];const v=s.author.associated?.labeler?"labeler":"user";let w,S,k,C,P,T,L,A,I,R,D,F;t[10]!==s.author||t[11]!==v||t[12]!==j?(w=(0,Ft.jsx)(pP,{size:50,profile:s.author,moderation:j,type:v,disableNavigation:!0}),t[10]=s.author,t[11]=v,t[12]=j,t[13]=w):w=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_1,kl.pl_md,kl.pr_sm,kl.gap_2xs],t[14]=S):S=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(k=[kl.flex_row,kl.align_center,kl.pr_xs],t[15]=k):k=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.font_bold,kl.text_md,kl.leading_snug,kl.flex_shrink],t[16]=C):C=t[16],t[17]!==s.author.displayName||t[18]!==s.author.handle?(P=s.author.displayName||su(s.author.handle),t[17]=s.author.displayName,t[18]=s.author.handle,t[19]=P):P=t[19],t[20]!==P?(T=Qf(P),t[20]=P,t[21]=T):T=t[21],t[22]!==T?(L=(0,Ft.jsx)(fr,{style:C,numberOfLines:1,emoji:!0,children:T}),t[22]=T,t[23]=L):L=t[23],t[24]!==g.role||t[25]!==g.showBadge?(A=g.showBadge&&(0,Ft.jsx)(wo.default,{style:[kl.pl_xs],children:(0,Ft.jsx)(Qk,{width:14,verifier:"verifier"===g.role})}),t[24]=g.role,t[25]=g.showBadge,t[26]=A):A=t[26],t[27]!==L||t[28]!==A?(I=(0,Ft.jsxs)(wo.default,{style:k,children:[L,A]}),t[27]=L,t[28]=A,t[29]=I):I=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(R=[kl.flex_row,kl.gap_md],t[30]=R):R=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.flex_1,kl.flex_grow],t[31]=D):D=t[31],t[32]!==n.atoms.text_contrast_high?(F=[kl.text_md,kl.leading_snug,n.atoms.text_contrast_high],t[32]=n.atoms.text_contrast_high,t[33]=F):F=t[33];const E=a?void 0:6;let M,B,O,z,H,N;return t[34]!==s.text||t[35]!==F||t[36]!==E?(M=(0,Ft.jsx)(wo.default,{style:D,children:(0,Ft.jsx)(fr,{style:F,numberOfLines:E,emoji:!0,children:s.text})}),t[34]=s.text,t[35]=F,t[36]=E,t[37]=M):M=t[37],t[38]!==p||t[39]!==s.moderation||t[40]!==a?(B=p&&!s.moderation?.ui("contentMedia").blur&&(0,Ft.jsx)(M4,{images:p,showFull:a}),t[38]=p,t[39]=s.moderation,t[40]=a,t[41]=B):B=t[41],t[42]!==M||t[43]!==B?(O=(0,Ft.jsxs)(wo.default,{style:R,children:[M,B]}),t[42]=M,t[43]=B,t[44]=O):O=t[44],t[45]!==m||t[46]!==a?(z=a&&m&&(0,Ft.jsx)(fD,{embed:m}),t[45]=m,t[46]=a,t[47]=z):z=t[47],t[48]!==I||t[49]!==O||t[50]!==z?(H=(0,Ft.jsxs)(wo.default,{style:S,children:[I,O,z]}),t[48]=I,t[49]=O,t[50]=z,t[51]=H):H=t[51],t[52]!==w||t[53]!==H||t[54]!==y||t[55]!==b?(N=(0,Ft.jsxs)(tr.default,{style:y,onPress:d,accessibilityRole:"button",accessibilityLabel:b,accessibilityHint:"",children:[w,H]}),t[52]=w,t[53]=H,t[54]=y,t[55]=b,t[56]=N):N=t[56],N}function E4(e){return!e}function M4(e){const t=(0,i.c)(9),{images:s}=e;let n,o,r;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=[kl.rounded_xs,kl.overflow_hidden,kl.mt_2xs,kl.mx_xs,{height:64,width:64}],t[0]=n):n=t[0],t[1]!==s[0]||t[2]!==s[1]||t[3]!==s[2]||t[4]!==s[3]||t[5]!==s.length?(o=1===s.length&&(0,Ft.jsx)(SS.Image,{source:{uri:s[0].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})||2===s.length&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.gap_2xs],children:[(0,Ft.jsx)(SS.Image,{source:{uri:s[0].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(SS.Image,{source:{uri:s[1].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})||3===s.length&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.gap_2xs],children:[(0,Ft.jsx)(SS.Image,{source:{uri:s[0].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_2xs],children:[(0,Ft.jsx)(SS.Image,{source:{uri:s[1].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(SS.Image,{source:{uri:s[2].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})]})||4===s.length&&(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.gap_2xs],children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.gap_2xs],children:[(0,Ft.jsx)(SS.Image,{source:{uri:s[0].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(SS.Image,{source:{uri:s[1].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]}),(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.gap_2xs],children:[(0,Ft.jsx)(SS.Image,{source:{uri:s[2].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0}),(0,Ft.jsx)(SS.Image,{source:{uri:s[3].thumb},style:[kl.flex_1],cachePolicy:"memory-disk",accessibilityIgnoresInvertColors:!0})]})]}),t[1]=s[0],t[2]=s[1],t[3]=s[2],t[4]=s[3],t[5]=s.length,t[6]=o):o=t[6],t[7]!==o?(r=(0,Ft.jsx)(wo.default,{style:n,children:o}),t[7]=o,t[8]=r):r=t[8],r}function B4(e){const t=(0,i.c)(7),{onRemove:s}=e,{_:n}=(0,ft.useLingui)();let o,r,a,l;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.absolute,{top:8,right:8},kl.z_50],t[0]=o):o=t[0],t[1]!==n?(r=n({id:"uowbPn"}),t[1]=n,t[2]=r):r=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(Pr,{icon:Hr,size:"sm"}),t[3]=a):a=t[3],t[4]!==s||t[5]!==r?(l=(0,Ft.jsx)(wo.default,{style:o,children:(0,Ft.jsx)(Sr,{label:r,onPress:s,size:"small",variant:"solid",color:"secondary",shape:"round",children:a})}),t[4]=s,t[5]=r,t[6]=l):l=t[6],l}const O4=e=>{const t=(0,i.c)(19),{onRemove:s,gif:n}=e,o=ec(),{data:r,error:a}=Dm(n);let l,c;t[0]!==r?(c=r&&{title:r.title??r.uri,uri:r.uri,description:r.description??"",thumb:r.thumb?.source.path},t[0]=r,t[1]=c):c=t[1],l=c;const d=l,u=n.media_formats.gif.dims[0]/n.media_formats.gif.dims[1];let m;t[2]!==u?(m={aspectRatio:u,width:"100%"},t[2]=u,t[3]=m):m=t[3];const h=m;let p,f,g,x;return t[4]!==o.atoms.border_contrast_medium?(p=[kl.overflow_hidden,o.atoms.border_contrast_medium],t[4]=o.atoms.border_contrast_medium,t[5]=p):p=t[5],t[6]!==a||t[7]!==n.url||t[8]!==d||t[9]!==h||t[10]!==o.atoms.text_contrast_high||t[11]!==o.palette?(f=d?(0,Ft.jsx)(wo.default,{style:{pointerEvents:"auto"},children:(0,Ft.jsx)(lD,{link:d,hideAlt:!0})}):a?(0,Ft.jsxs)(H4,{style:[kl.align_start,kl.p_md,kl.gap_xs],children:[(0,Ft.jsx)(fr,{numberOfLines:1,style:o.atoms.text_contrast_high,children:n.url}),(0,Ft.jsx)(fr,{numberOfLines:2,style:[{color:o.palette.negative_400}],children:ds(a)})]}):(0,Ft.jsx)(H4,{style:h,children:(0,Ft.jsx)(wv,{size:"xl"})}),t[6]=a,t[7]=n.url,t[8]=d,t[9]=h,t[10]=o.atoms.text_contrast_high,t[11]=o.palette,t[12]=f):f=t[12],t[13]!==s?(g=(0,Ft.jsx)(B4,{onRemove:s}),t[13]=s,t[14]=g):g=t[14],t[15]!==p||t[16]!==f||t[17]!==g?(x=(0,Ft.jsxs)(wo.default,{style:p,children:[f,g]}),t[15]=p,t[16]=f,t[17]=g,t[18]=x):x=t[18],x},z4=e=>{const t=(0,i.c)(25),{uri:s,hasQuote:n,onRemove:o}=e,r=ec(),{data:a,error:l}=Im(s);let c;e:{if(a){if("external"===a.type){const e=a.title||s,n=a.thumb?.source.path;let o;t[0]!==a.description||t[1]!==e||t[2]!==n||t[3]!==s?(o=(0,Ft.jsx)(lD,{link:{title:e,uri:s,description:a.description,thumb:n},hideAlt:!0}),t[0]=a.description,t[1]=e,t[2]=n,t[3]=s,t[4]=o):o=t[4],c=o;break e}if("feed"===a.kind){let e;t[5]!==a.view?(e=(0,Ft.jsx)(iF,{view:a.view}),t[5]=a.view,t[6]=e):e=t[6],c=e;break e}if("list"===a.kind){let e;t[7]!==a.view?(e=(0,Ft.jsx)(aF,{view:a.view}),t[7]=a.view,t[8]=e):e=t[8],c=e;break e}if("starter-pack"===a.kind){let e;t[9]!==a.view?(e=(0,Ft.jsx)(Ck,{starterPack:a.view}),t[9]=a.view,t[10]=e):e=t[10],c=e;break e}}c=void 0}const d=c;if("record"===a?.type&&n)return null;let u,m,h,p;return t[11]!==r.atoms.border_contrast_medium?(u=[kl.mb_xl,kl.overflow_hidden,r.atoms.border_contrast_medium],t[11]=r.atoms.border_contrast_medium,t[12]=u):u=t[12],t[13]!==l||t[14]!==d||t[15]!==r.atoms.text_contrast_high||t[16]!==r.palette||t[17]!==s?(m=d?(0,Ft.jsx)(wo.default,{style:{pointerEvents:"none"},children:d}):l?(0,Ft.jsxs)(H4,{style:[kl.align_start,kl.p_md,kl.gap_xs],children:[(0,Ft.jsx)(fr,{numberOfLines:1,style:r.atoms.text_contrast_high,children:s}),(0,Ft.jsx)(fr,{numberOfLines:2,style:[{color:r.palette.negative_400}],children:ds(l)})]}):(0,Ft.jsx)(H4,{children:(0,Ft.jsx)(wv,{size:"xl"})}),t[13]=l,t[14]=d,t[15]=r.atoms.text_contrast_high,t[16]=r.palette,t[17]=s,t[18]=m):m=t[18],t[19]!==o?(h=(0,Ft.jsx)(B4,{onRemove:o}),t[19]=o,t[20]=h):h=t[20],t[21]!==u||t[22]!==m||t[23]!==h?(p=(0,Ft.jsxs)(wo.default,{style:u,children:[m,h]}),t[21]=u,t[22]=m,t[23]=h,t[24]=p):p=t[24],p};function H4(e){const t=(0,i.c)(7),{style:s,children:n}=e,o=ec();let r,a;return t[0]!==s||t[1]!==o.atoms.bg_contrast_25||t[2]!==o.atoms.border_contrast_medium?(r=[kl.rounded_sm,kl.border,kl.align_center,kl.justify_center,kl.py_5xl,o.atoms.bg_contrast_25,o.atoms.border_contrast_medium,s],t[0]=s,t[1]=o.atoms.bg_contrast_25,t[2]=o.atoms.border_contrast_medium,t[3]=r):r=t[3],t[4]!==n||t[5]!==r?(a=(0,Ft.jsx)(wo.default,{style:r,children:n}),t[4]=n,t[5]=r,t[6]=a):a=t[6],a}function N4(e){const t=(0,i.c)(11),{altText:s,children:n}=e,o=ec();let r,a,l,c;t[0]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.flex_row],t[0]=r):r=t[0],t[1]===Symbol.for("react.memo_cache_sentinel")?(a=[kl.flex_col_reverse,kl.align_center,kl.mr_xs,{minWidth:50,gap:1}],l={marginRight:0},t[1]=a,t[2]=l):(a=t[1],l=t[2]),t[3]!==o.atoms.text_contrast_medium?(c=[l,kl.text_sm,o.atoms.text_contrast_medium],t[3]=o.atoms.text_contrast_medium,t[4]=c):c=t[4];const d=s?.length||0;let u,m;return t[5]!==c||t[6]!==d?(u=(0,Ft.jsx)(fL,{style:a,textStyle:c,size:26,count:d,max:ci}),t[5]=c,t[6]=d,t[7]=u):u=t[7],t[8]!==n||t[9]!==u?(m=(0,Ft.jsxs)(wo.default,{style:r,children:[u,n]}),t[8]=n,t[9]=u,t[10]=m):m=t[10],m}const V4=e=>{const t=(0,i.c)(13),{control:s,image:n,onChange:o}=e,[r,a]=mt.useState(n.alt);let l,c,d,u;return t[0]!==r||t[1]!==n||t[2]!==o?(l=()=>{o(Object.assign({},n,{alt:Iw(r,ci,!0)}))},t[0]=r,t[1]=n,t[2]=o,t[3]=l):l=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(ha,{}),t[4]=c):c=t[4],t[5]!==r||t[6]!==s||t[7]!==n?(d=(0,Ft.jsx)(q4,{control:s,image:n,altText:r,setAltText:a}),t[5]=r,t[6]=s,t[7]=n,t[8]=d):d=t[8],t[9]!==s||t[10]!==l||t[11]!==d?(u=(0,Ft.jsxs)(aa,{control:s,onClose:l,children:[c,d]}),t[9]=s,t[10]=l,t[11]=d,t[12]=u):u=t[12],u},q4=e=>{const t=(0,i.c)(58),{altText:s,setAltText:n,control:o,image:r}=e,{_:a,i18n:l}=(0,ft.useLingui)(),c=ec(),d=(0,Ny.default)();let u;e:{const e=Pt?450:d.width,s=r.transformed??r.source;if(s.height>s.width){let e;t[0]===Symbol.for("react.memo_cache_sentinel")?(e={resizeMode:"contain",width:"100%",aspectRatio:1,borderRadius:8},t[0]=e):e=t[0],u=e;break e}const n=e/s.width*s.height;let o;t[1]!==n?(o={width:"100%",height:n,borderRadius:8},t[1]=n,t[2]=o):o=t[2],u=o}const m=u;let h,p,f,g;t[3]!==a?(h=a({id:"LkA8jz"}),t[3]=a,t[4]=h):h=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(ma,{}),t[5]=p):p=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold,kl.leading_tight,kl.pb_sm],children:(0,Ft.jsx)(ft.Trans,{id:"LkA8jz"})}),t[6]=f):f=t[6],t[7]!==c.atoms.bg_contrast_50?(g=[c.atoms.bg_contrast_50,kl.rounded_sm,kl.overflow_hidden],t[7]=c.atoms.bg_contrast_50,t[8]=g):g=t[8];const x=r.transformed??r.source;let _,y,b,j,v,w,S,k,C,P,T,L,A;t[9]!==x.path?(_={uri:x.path},t[9]=x.path,t[10]=_):_=t[10],t[11]!==m||t[12]!==_?(y=(0,Ft.jsx)(SS.Image,{style:m,source:_,contentFit:"contain",accessible:!0,accessibilityIgnoresInvertColors:!0,enableLiveTextInteraction:!0}),t[11]=m,t[12]=_,t[13]=y):y=t[13],t[14]!==g||t[15]!==y?(b=(0,Ft.jsxs)(wo.default,{children:[f,(0,Ft.jsx)(wo.default,{style:g,children:y})]}),t[14]=g,t[15]=y,t[16]=b):b=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.mt_md,kl.gap_md],t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.gap_sm],t[18]=v):v=t[18],t[19]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.relative,{width:"100%"}],t[19]=w):w=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"HgO4Y2"})}),t[20]=S):S=t[20],t[21]!==a?(k=a({id:"u/DP73"}),t[21]=a,t[22]=k):k=t[22],t[23]!==n?(C=e=>{n(e)},t[23]=n,t[24]=C):C=t[24],t[25]!==s||t[26]!==k||t[27]!==C?(P=(0,Ft.jsxs)(wo.default,{style:w,children:[S,(0,Ft.jsx)(Yi,{children:(0,Ft.jsx)(ea,{label:k,onChangeText:C,defaultValue:s,multiline:!0,numberOfLines:3,autoFocus:!0})})]}),t[25]=s,t[26]=k,t[27]=C,t[28]=P):P=t[28],t[29]!==s.length||t[30]!==l||t[31]!==c.atoms.text_contrast_medium||t[32]!==c.palette?(T=s.length>ci&&(0,Ft.jsxs)(wo.default,{style:[kl.pb_sm,kl.flex_row,kl.gap_xs],children:[(0,Ft.jsx)(Ij,{fill:c.palette.negative_500}),(0,Ft.jsx)(fr,{style:[kl.italic,kl.leading_snug,c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"EIQemQ",values:{0:l.number(ci),MAX_ALT_TEXT:ci}})})]}),t[29]=s.length,t[30]=l,t[31]=c.atoms.text_contrast_medium,t[32]=c.palette,t[33]=T):T=t[33],t[34]!==P||t[35]!==T?(L=(0,Ft.jsxs)(wo.default,{style:v,children:[P,T]}),t[34]=P,t[35]=T,t[36]=L):L=t[36],t[37]!==a?(A=a({id:"tfDRzk"}),t[37]=a,t[38]=A):A=t[38];const I=s===r.alt;let R,D,F,E,M,B,O,z;return t[39]!==o?(R=()=>{o.close()},t[39]=o,t[40]=R):R=t[40],t[41]===Symbol.for("react.memo_cache_sentinel")?(D=[kl.flex_grow],t[41]=D):D=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),t[42]=F):F=t[42],t[43]!==A||t[44]!==I||t[45]!==R?(E=(0,Ft.jsx)(Sr,{label:A,disabled:I,size:"large",color:"primary",variant:"solid",onPress:R,style:D,children:F}),t[43]=A,t[44]=I,t[45]=R,t[46]=E):E=t[46],t[47]!==s||t[48]!==E?(M=(0,Ft.jsx)(N4,{altText:s,children:E}),t[47]=s,t[48]=E,t[49]=M):M=t[49],t[50]!==L||t[51]!==M?(B=(0,Ft.jsxs)(wo.default,{style:j,children:[L,M]}),t[50]=L,t[51]=M,t[52]=B):B=t[52],t[53]===Symbol.for("react.memo_cache_sentinel")?(O=St?(0,Ft.jsx)(wo.default,{style:{height:300}}):null,t[53]=O):O=t[53],t[54]!==h||t[55]!==B||t[56]!==b?(z=(0,Ft.jsxs)(da,{label:h,children:[p,b,B,O]}),t[54]=h,t[55]=B,t[56]=b,t[57]=z):z=t[57],z};let U4=e=>{const t=(0,i.c)(6),[s,n]=mt.useState();let o;t[0]===Symbol.for("react.memo_cache_sentinel")?(o=e=>{const{width:t,height:s}=e.nativeEvent.layout;n({width:t,height:s})},t[0]=o):o=t[0];const r=o;let a,l;return t[1]!==s||t[2]!==e?(a=s?(0,Ft.jsx)(W4,Object.assign({},e,{containerInfo:s})):void 0,t[1]=s,t[2]=e,t[3]=a):a=t[3],t[4]!==a?(l=(0,Ft.jsx)(wo.default,{onLayout:r,children:a}),t[4]=a,t[5]=l):l=t[5],l};U4=mt.memo(U4);const W4=e=>{const t=(0,i.c)(20),{images:s,containerInfo:n,dispatch:o}=e,{isMobile:r}=jx();let a;const l=1===s.length?250:(n.width-8*(s.length-1))/s.length,c=r&&s.length>2;let d,u,m,h;t[0]!==s.length||t[1]!==r||t[2]!==c?(d=c?{left:4,bottom:4}:!r&&s.length<3?{left:8,top:8}:{left:4,top:4},t[0]=s.length,t[1]=r,t[2]=c,t[3]=d):d=t[3],t[4]!==s.length||t[5]!==r||t[6]!==c?(u=Object.assign({display:"flex",flexDirection:"row",position:"absolute"},c?{top:4,right:4,gap:4}:!r&&s.length<3?{top:8,right:8,gap:8}:{top:4,right:4,gap:4},{zIndex:1}),t[4]=s.length,t[5]=r,t[6]=c,t[7]=u):u=t[7],t[8]!==l?(m={height:l,width:l},t[8]=l,t[9]=m):m=t[9],t[10]!==d||t[11]!==u||t[12]!==m?(h={altTextControlStyle:d,imageControlsStyle:u,imageStyle:m},t[10]=d,t[11]=u,t[12]=m,t[13]=h):h=t[13],a=h;const{altTextControlStyle:p,imageControlsStyle:f,imageStyle:g}=a;let x;return t[14]!==p||t[15]!==o||t[16]!==f||t[17]!==g||t[18]!==s?(x=0!==s.length?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{testID:"selectedPhotosView",style:K4.gallery,children:s.map((e=>(0,Ft.jsx)(Z4,{image:e,altTextControlStyle:p,imageControlsStyle:f,imageStyle:g,onChange:e=>{o({type:"embed_update_image",image:e})},onRemove:()=>{o({type:"embed_remove_image",image:e})}},e.source.id)))}),(0,Ft.jsx)(Q4,{})]}):null,t[14]=p,t[15]=o,t[16]=f,t[17]=g,t[18]=s,t[19]=x):x=t[19],x},Z4=e=>{const t=(0,i.c)(63),{image:s,altTextControlStyle:n,imageControlsStyle:o,imageStyle:r,onChange:a,onRemove:l}=e,{_:c}=(0,ft.useLingui)(),d=ec(),u=Ar(),m=Ar();let h;t[0]!==m||t[1]!==s||t[2]!==a?(h=()=>{kt?async function(e){if(!kt)return e;const t=e.source;try{const s=await Gu(t.path);return{alt:e.alt,source:t,transformed:{path:await nm(s.path),width:s.width,height:s.height,mime:s.mime}}}catch(s){if(s instanceof Error&&s.message.includes("User cancelled"))return e;throw s}}(s).then((e=>{a(e)})):m.open()},t[0]=m,t[1]=s,t[2]=a,t[3]=h):h=t[3];const p=h;let f;t[4]!==u?(f=()=>{ja.default.dismiss(),u.open()},t[4]=u,t[5]=f):f=t[5];const g=f,x=r;let _,y,b,j,v,w,S,k,C,P,T,L,A,I,R;t[6]!==c?(_=c({id:"LkA8jz"}),t[6]=c,t[7]=_):_=t[7],t[8]!==n?(y=[K4.altTextControl,n],t[8]=n,t[9]=y):y=t[9],t[10]!==s.alt.length||t[11]!==d.palette.white?(b=0!==s.alt.length?(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"check",size:10,style:{color:d.palette.white}}):(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"plus",size:10,style:{color:d.palette.white}}),t[10]=s.alt.length,t[11]=d.palette.white,t[12]=b):b=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(Tx,{style:K4.altTextControlLabel,accessible:!1,children:(0,Ft.jsx)(ft.Trans,{id:"u2HO/d"})}),t[13]=j):j=t[13],t[14]!==g||t[15]!==_||t[16]!==y||t[17]!==b?(v=(0,Ft.jsxs)(Ix.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:_,accessibilityHint:"",onPress:g,style:y,children:[b,j]}),t[14]=g,t[15]=_,t[16]=y,t[17]=b,t[18]=v):v=t[18],t[19]!==c?(w=c({id:"XQFMOm"}),t[19]=c,t[20]=w):w=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"pen",size:12,style:{color:sc.white}}),t[21]=S):S=t[21],t[22]!==p||t[23]!==w?(k=(0,Ft.jsx)(Ix.default,{testID:"editPhotoButton",accessibilityRole:"button",accessibilityLabel:w,accessibilityHint:"",onPress:p,style:K4.imageControl,children:S}),t[22]=p,t[23]=w,t[24]=k):k=t[24],t[25]!==c?(C=c({id:"5ywtDz"}),t[25]=c,t[26]=C):C=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(P=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"xmark",size:16,style:{color:sc.white}}),t[27]=P):P=t[27],t[28]!==l||t[29]!==C?(T=(0,Ft.jsx)(Ix.default,{testID:"removePhotoButton",accessibilityRole:"button",accessibilityLabel:C,accessibilityHint:"",onPress:l,style:K4.imageControl,children:P}),t[28]=l,t[29]=C,t[30]=T):T=t[30],t[31]!==o||t[32]!==k||t[33]!==T?(L=(0,Ft.jsxs)(wo.default,{style:o,children:[k,T]}),t[31]=o,t[32]=k,t[33]=T,t[34]=L):L=t[34],t[35]!==c?(A=c({id:"LkA8jz"}),t[35]=c,t[36]=A):A=t[36],t[37]!==g||t[38]!==A?(I=(0,Ft.jsx)(Ix.default,{accessibilityRole:"button",accessibilityLabel:A,accessibilityHint:"",onPress:g,style:K4.altTextHiddenRegion}),t[37]=g,t[38]=A,t[39]=I):I=t[39],t[40]!==r?(R=[K4.image,r],t[40]=r,t[41]=R):R=t[41];const D=s.transformed??s.source;let F,E,M,B,O;return t[42]!==D.path?(F={uri:D.path},t[42]=D.path,t[43]=F):F=t[43],t[44]!==R||t[45]!==F?(E=(0,Ft.jsx)(SS.Image,{testID:"selectedPhotoImage",style:R,source:F,accessible:!0,accessibilityIgnoresInvertColors:!0}),t[44]=R,t[45]=F,t[46]=E):E=t[46],t[47]!==u||t[48]!==s||t[49]!==a?(M=(0,Ft.jsx)(V4,{control:u,image:s,onChange:a}),t[47]=u,t[48]=s,t[49]=a,t[50]=M):M=t[50],t[51]!==m||t[52]!==s||t[53]!==a?(B=(0,Ft.jsx)(hS,{control:m,image:s,onChange:a}),t[51]=m,t[52]=s,t[53]=a,t[54]=B):B=t[54],t[55]!==L||t[56]!==I||t[57]!==E||t[58]!==M||t[59]!==B||t[60]!==x||t[61]!==v?(O=(0,Ft.jsxs)(wo.default,{style:x,renderToHardwareTextureAndroid:!0,children:[v,L,I,E,M,B]}),t[55]=L,t[56]=I,t[57]=E,t[58]=M,t[59]=B,t[60]=x,t[61]=v,t[62]=O):O=t[62],O};function Q4(){const e=(0,i.c)(16),t=ec();let s,n,o,r,a,l,c,d;return e[0]===Symbol.for("react.memo_cache_sentinel")?(s=[K4.reminder],e[0]=s):s=e[0],e[1]!==t.atoms.bg_contrast_25?(n=[K4.infoIcon,t.atoms.bg_contrast_25],e[1]=t.atoms.bg_contrast_25,e[2]=n):n=e[2],e[3]!==t.atoms.text.color?(o=(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"info",size:12,color:t.atoms.text.color}),e[3]=t.atoms.text.color,e[4]=o):o=e[4],e[5]!==n||e[6]!==o?(r=(0,Ft.jsx)(wo.default,{style:n,children:o}),e[5]=n,e[6]=o,e[7]=r):r=e[7],e[8]!==t.atoms.text_contrast_medium?(a=[t.atoms.text_contrast_medium,oc.flex1],e[8]=t.atoms.text_contrast_medium,e[9]=a):a=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ft.Trans,{id:"0QlT7/"}),e[10]=l):l=e[10],e[11]!==a?(c=(0,Ft.jsx)(Tx,{type:"sm",style:a,children:l}),e[11]=a,e[12]=c):c=e[12],e[13]!==r||e[14]!==c?(d=(0,Ft.jsxs)(wo.default,{style:s,children:[r,c]}),e[13]=r,e[14]=c,e[15]=d):d=e[15],d}const K4=Gn.default.create({gallery:{flex:1,flexDirection:"row",gap:8,marginTop:16},image:{resizeMode:"cover",borderRadius:8},imageControl:{width:24,height:24,borderRadius:12,backgroundColor:"rgba(0, 0, 0, 0.75)",alignItems:"center",justifyContent:"center"},altTextControl:{position:"absolute",zIndex:1,borderRadius:6,backgroundColor:"rgba(0, 0, 0, 0.75)",paddingHorizontal:8,paddingVertical:3,flexDirection:"row",alignItems:"center",gap:4},altTextControlLabel:{color:"white",fontSize:12,fontWeight:"600",letterSpacing:1},altTextHiddenRegion:{position:"absolute",left:4,right:4,bottom:4,top:30,zIndex:1},reminder:{flexDirection:"row",alignItems:"center",gap:8,borderRadius:8,paddingVertical:14},infoIcon:{width:22,height:22,borderRadius:12,alignItems:"center",justifyContent:"center"}});function $4(e){const t=(0,i.c)(10),{gif:s,altText:n,onSubmit:o}=e,{data:r}=Dm(s),a=r?.description??"";let l;t[0]!==a?(l=Sm(a),t[0]=a,t[1]=l):l=t[1];const c=l.alt;let d;t[2]!==r?(d=r?fm(r.uri):void 0,t[2]=r,t[3]=d):d=t[3];const u=d;if(!r||!u)return null;const m=r.thumb?.source.path;let h;return t[4]!==n||t[5]!==o||t[6]!==u||t[7]!==m||t[8]!==c?(h=(0,Ft.jsx)(G4,{altText:n,vendorAltText:c,thumb:m,params:u,onSubmit:o}),t[4]=n,t[5]=o,t[6]=u,t[7]=m,t[8]=c,t[9]=h):h=t[9],h}function G4(e){const t=(0,i.c)(36),{vendorAltText:s,altText:n,onSubmit:o,params:r,thumb:a}=e,l=Ar(),{_:c}=(0,ft.useLingui)(),d=ec(),[u,m]=(0,mt.useState)(n||s);let h,p,f,g,x,_,y,b,j,v,w,S,k,C,P;return t[0]!==c?(h=c({id:"LkA8jz"}),t[0]=c,t[1]=h):h=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(p={top:8,left:8},f={borderRadius:6},t[2]=p,t[3]=f):(p=t[2],f=t[3]),t[4]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.absolute,p,f,kl.pl_xs,kl.pr_sm,kl.py_2xs,kl.flex_row,kl.gap_xs,kl.align_center,{backgroundColor:"rgba(0, 0, 0, 0.75)"}],t[4]=g):g=t[4],t[5]!==n||t[6]!==d.palette.white?(x=n?(0,Ft.jsx)(Wj,{size:"xs",fill:d.palette.white,style:kl.ml_xs}):(0,Ft.jsx)(CS,{size:"sm",fill:d.palette.white}),t[5]=n,t[6]=d.palette.white,t[7]=x):x=t[7],t[8]!==d.palette.white?(_=[kl.font_bold,{color:d.palette.white}],t[8]=d.palette.white,t[9]=_):_=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(ft.Trans,{id:"u2HO/d"}),t[10]=y):y=t[10],t[11]!==_?(b=(0,Ft.jsx)(fr,{style:_,accessible:!1,children:y}),t[11]=_,t[12]=b):b=t[12],t[13]!==l.open||t[14]!==h||t[15]!==x||t[16]!==b?(j=(0,Ft.jsxs)(Ix.default,{testID:"altTextButton",accessibilityRole:"button",accessibilityLabel:h,accessibilityHint:"",hitSlop:vi,onPress:l.open,style:g,children:[x,b]}),t[13]=l.open,t[14]=h,t[15]=x,t[16]=b,t[17]=j):j=t[17],t[18]===Symbol.for("react.memo_cache_sentinel")?(v=(0,Ft.jsx)(Q4,{}),t[18]=v):v=t[18],t[19]!==u||t[20]!==o?(w=()=>{o(u)},t[19]=u,t[20]=o,t[21]=w):w=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(S=(0,Ft.jsx)(ha,{}),t[22]=S):S=t[22],t[23]!==u||t[24]!==l||t[25]!==r||t[26]!==a||t[27]!==s?(k=(0,Ft.jsx)(Y4,{vendorAltText:s,altText:u,onChange:m,thumb:a,control:l,params:r}),t[23]=u,t[24]=l,t[25]=r,t[26]=a,t[27]=s,t[28]=k):k=t[28],t[29]!==l||t[30]!==w||t[31]!==k?(C=(0,Ft.jsxs)(aa,{control:l,onClose:w,children:[S,k]}),t[29]=l,t[30]=w,t[31]=k,t[32]=C):C=t[32],t[33]!==C||t[34]!==j?(P=(0,Ft.jsxs)(Ft.Fragment,{children:[j,v,C]}),t[33]=C,t[34]=j,t[35]=P):P=t[35],P}function Y4(e){const t=(0,i.c)(53),{vendorAltText:s,altText:n,onChange:o,control:r,params:a,thumb:l}=e,c=ec(),{_:d,i18n:u}=(0,ft.useLingui)();let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M;return t[0]!==d?(m=d({id:"LkA8jz"}),t[0]=d,t[1]=m):m=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.mt_md,kl.gap_md],t[2]=h):h=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.gap_sm],t[3]=p):p=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.relative],t[4]=f):f=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(ta,{children:(0,Ft.jsx)(ft.Trans,{id:"HgO4Y2"})}),t[5]=g):g=t[5],t[6]!==d?(x=d({id:"u/DP73"}),t[6]=d,t[7]=x):x=t[7],t[8]!==r?(_=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&r.close()},t[8]=r,t[9]=_):_=t[9],t[10]!==n||t[11]!==o||t[12]!==x||t[13]!==_||t[14]!==s?(y=(0,Ft.jsxs)(wo.default,{style:f,children:[g,(0,Ft.jsx)(Yi,{children:(0,Ft.jsx)(ea,{label:x,placeholder:s,onChangeText:o,defaultValue:n,multiline:!0,numberOfLines:3,autoFocus:!0,onKeyPress:_})})]}),t[10]=n,t[11]=o,t[12]=x,t[13]=_,t[14]=s,t[15]=y):y=t[15],t[16]!==n.length||t[17]!==u||t[18]!==c?(b=n.length>ci&&(0,Ft.jsxs)(wo.default,{style:[kl.pb_sm,kl.flex_row,kl.gap_xs],children:[(0,Ft.jsx)(Ij,{fill:c.palette.negative_500}),(0,Ft.jsx)(fr,{style:[kl.italic,kl.leading_snug,c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"EIQemQ",values:{0:u.number(ci),MAX_ALT_TEXT:ci}})})]}),t[16]=n.length,t[17]=u,t[18]=c,t[19]=b):b=t[19],t[20]!==y||t[21]!==b?(j=(0,Ft.jsxs)(wo.default,{style:p,children:[y,b]}),t[20]=y,t[21]=b,t[22]=j):j=t[22],t[23]!==d?(v=d({id:"tfDRzk"}),t[23]=d,t[24]=v):v=t[24],t[25]!==r?(w=()=>{r.close()},t[25]=r,t[26]=w):w=t[26],t[27]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_grow],t[27]=S):S=t[27],t[28]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"tfDRzk"})}),t[28]=k):k=t[28],t[29]!==v||t[30]!==w?(C=(0,Ft.jsx)(Sr,{label:v,size:"large",color:"primary",variant:"solid",onPress:w,style:S,children:k}),t[29]=v,t[30]=w,t[31]=C):C=t[31],t[32]!==n||t[33]!==C?(P=(0,Ft.jsx)(N4,{altText:n,children:C}),t[32]=n,t[33]=C,t[34]=P):P=t[34],t[35]!==j||t[36]!==P?(T=(0,Ft.jsxs)(wo.default,{style:h,children:[j,P]}),t[35]=j,t[36]=P,t[37]=T):T=t[37],t[38]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold,kl.leading_tight,kl.pb_sm],children:(0,Ft.jsx)(ft.Trans,{id:"LkA8jz"})}),t[38]=L):L=t[38],t[39]===Symbol.for("react.memo_cache_sentinel")?(A=[kl.align_center],t[39]=A):A=t[39],t[40]===Symbol.for("react.memo_cache_sentinel")?(I=[{height:225}],t[40]=I):I=t[40],t[41]!==n||t[42]!==a||t[43]!==l?(R=(0,Ft.jsxs)(wo.default,{children:[L,(0,Ft.jsx)(wo.default,{style:A,children:(0,Ft.jsx)(rD,{thumb:l,altText:n,isPreferredAltText:!0,params:a,hideAlt:!0,style:I})})]}),t[41]=n,t[42]=a,t[43]=l,t[44]=R):R=t[44],t[45]!==T||t[46]!==R?(D=(0,Ft.jsxs)(wo.default,{style:kl.flex_col_reverse,children:[T,R]}),t[45]=T,t[46]=R,t[47]=D):D=t[47],t[48]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(ma,{}),E=St?(0,Ft.jsx)(wo.default,{style:{height:300}}):null,t[48]=F,t[49]=E):(F=t[48],E=t[49]),t[50]!==m||t[51]!==D?(M=(0,Ft.jsxs)(da,{label:m,children:[D,F,E]}),t[50]=m,t[51]=D,t[52]=M):M=t[52],M}function J4(e){const t=(0,i.c)(35),{labels:s,onChange:n}=e,o=Ar(),{_:r}=(0,ft.useLingui)(),a=s.length>0;let l;t[0]!==s||t[1]!==n?(l=e=>{const t=e[e.length-1],o=s.filter(e5);n([...new Set([...o,t].filter(Boolean))])},t[0]=s,t[1]=n,t[2]=l):l=t[2];const c=l;let d;t[3]!==s||t[4]!==n?(d=e=>{const t=e[e.length-1],o=s.filter(X4);n([...new Set([...o,t].filter(Boolean))])},t[3]=s,t[4]=n,t[5]=d):d=t[5];const u=d;let m,h,p,f;t[6]!==o?(m=()=>{ja.default.dismiss(),o.open()},t[6]=o,t[7]=m):m=t[7],t[8]!==r?(h=r({id:"FG7AQv"}),t[8]=r,t[9]=h):h=t[9],t[10]!==r?(p=r({id:"Xiwj77"}),t[10]=r,t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=[jo({paddingHorizontal:8,paddingVertical:6})],t[12]=f):f=t[12];const g=a?Wj:kv;let x,_,y,b,j,v,w,S;return t[13]!==g?(x=(0,Ft.jsx)(Pr,{icon:g}),t[13]=g,t[14]=x):x=t[14],t[15]!==s.length?(_=(0,Ft.jsx)(Cr,{numberOfLines:1,children:s.length>0?(0,Ft.jsx)(ft.Trans,{id:"mQW6Jo"}):(0,Ft.jsx)(ft.Trans,{id:"h8DugX"})}),t[15]=s.length,t[16]=_):_=t[16],t[17]!==m||t[18]!==h||t[19]!==p||t[20]!==x||t[21]!==_?(y=(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:"small",testID:"labelsBtn",onPress:m,label:h,accessibilityHint:p,style:f,children:[x,_]}),t[17]=m,t[18]=h,t[19]=p,t[20]=x,t[21]=_,t[22]=y):y=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(b={preventExpansion:!0},j=(0,Ft.jsx)(ha,{}),t[23]=b,t[24]=j):(b=t[23],j=t[24]),t[25]!==s||t[26]!==c||t[27]!==u?(v=(0,Ft.jsx)(t5,{labels:s,updateAdultLabels:c,updateOtherLabels:u}),t[25]=s,t[26]=c,t[27]=u,t[28]=v):v=t[28],t[29]!==o||t[30]!==v?(w=(0,Ft.jsxs)(aa,{control:o,nativeOptions:b,children:[j,v]}),t[29]=o,t[30]=v,t[31]=w):w=t[31],t[32]!==y||t[33]!==w?(S=(0,Ft.jsxs)(Ft.Fragment,{children:[y,w]}),t[32]=y,t[33]=w,t[34]=S):S=t[34],S}function X4(e){return!$f.includes(e)}function e5(e){return!Kf.includes(e)}function t5(e){const t=(0,i.c)(100),{labels:s,updateAdultLabels:n,updateOtherLabels:o}=e,{_:r}=(0,ft.useLingui)(),a=Lr(),l=ec();let c,d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne,oe,re;return t[0]!==r?(c=r({id:"fBBX+K"}),t[0]=r,t[1]=c):c=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(d=[{maxWidth:500},kl.w_full],t[2]=d):d=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_1],t[3]=u):u=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(m=[kl.gap_sm],t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold],children:(0,Ft.jsx)(ft.Trans,{id:"fBBX+K"})}),t[5]=h):h=t[5],t[6]!==l.atoms.text_contrast_medium?(p=[l.atoms.text_contrast_medium,kl.leading_snug],t[6]=l.atoms.text_contrast_medium,t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(ft.Trans,{id:"j00TMi"}),t[8]=f):f=t[8],t[9]!==p?(g=(0,Ft.jsxs)(wo.default,{style:m,children:[h,(0,Ft.jsx)(fr,{style:p,children:f})]}),t[9]=p,t[10]=g):g=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.my_md,kl.gap_lg],t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=[kl.flex_row,kl.align_center,kl.justify_between,kl.pb_sm],t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(wo.default,{style:_,children:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"qLa52r"})})}),t[13]=y):y=t[13],t[14]!==l.atoms.border_contrast_medium?(b=[kl.p_md,kl.rounded_sm,kl.border,l.atoms.border_contrast_medium],t[14]=l.atoms.border_contrast_medium,t[15]=b):b=t[15],t[16]!==r?(j=r({id:"9KBGcu"}),t[16]=r,t[17]=j):j=t[17],t[18]!==n?(v=e=>{n(e)},t[18]=n,t[19]=v):v=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(w=[kl.gap_sm],t[20]=w):w=t[20],t[21]!==r?(S=r({id:"a4bYZx"}),t[21]=r,t[22]=S):S=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(k=(0,Ft.jsx)(cI,{}),t[23]=k):k=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(C=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"a4bYZx"})}),t[24]=C):C=t[24],t[25]!==S?(P=(0,Ft.jsxs)(iI,{name:"sexual",label:S,children:[k,C]}),t[25]=S,t[26]=P):P=t[26],t[27]!==r?(T=r({id:"dGVIw+"}),t[27]=r,t[28]=T):T=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(cI,{}),t[29]=L):L=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"dGVIw+"})}),t[30]=A):A=t[30],t[31]!==T?(I=(0,Ft.jsxs)(iI,{name:"nudity",label:T,children:[L,A]}),t[31]=T,t[32]=I):I=t[32],t[33]!==r?(R=r({id:"6p4TZQ"}),t[33]=r,t[34]=R):R=t[34],t[35]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(cI,{}),t[35]=D):D=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(F=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"/e6ToU"})}),t[36]=F):F=t[36],t[37]!==R?(E=(0,Ft.jsxs)(iI,{name:"porn",label:R,children:[D,F]}),t[37]=R,t[38]=E):E=t[38],t[39]!==P||t[40]!==I||t[41]!==E?(M=(0,Ft.jsxs)(wo.default,{style:w,children:[P,I,E]}),t[39]=P,t[40]=I,t[41]=E,t[42]=M):M=t[42],t[43]!==s||t[44]!==j||t[45]!==v||t[46]!==M?(B=(0,Ft.jsx)(rI,{label:j,values:s,onChange:v,children:M}),t[43]=s,t[44]=j,t[45]=v,t[46]=M,t[47]=B):B=t[47],t[48]!==s||t[49]!==l.atoms.text_contrast_medium?(O=s.includes("sexual")||s.includes("nudity")||s.includes("porn")?(0,Ft.jsx)(fr,{style:[kl.mt_sm,l.atoms.text_contrast_medium],children:s.includes("sexual")?(0,Ft.jsx)(ft.Trans,{id:"VeZE5Q"}):s.includes("nudity")?(0,Ft.jsx)(ft.Trans,{id:"EbvWd3"}):s.includes("porn")?(0,Ft.jsx)(ft.Trans,{id:"HfWHhJ"}):""}):null,t[48]=s,t[49]=l.atoms.text_contrast_medium,t[50]=O):O=t[50],t[51]!==b||t[52]!==B||t[53]!==O?(z=(0,Ft.jsxs)(wo.default,{children:[y,(0,Ft.jsxs)(wo.default,{style:b,children:[B,O]})]}),t[51]=b,t[52]=B,t[53]=O,t[54]=z):z=t[54],t[55]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.flex_row,kl.align_center,kl.justify_between,kl.pb_sm],t[55]=H):H=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsx)(wo.default,{style:H,children:(0,Ft.jsx)(fr,{style:[kl.font_bold,kl.text_lg],children:(0,Ft.jsx)(ft.Trans,{id:"/IX/7x"})})}),t[56]=N):N=t[56],t[57]!==l.atoms.border_contrast_medium?(V=[kl.p_md,kl.rounded_sm,kl.border,l.atoms.border_contrast_medium],t[57]=l.atoms.border_contrast_medium,t[58]=V):V=t[58],t[59]!==r?(q=r({id:"9KBGcu"}),t[59]=r,t[60]=q):q=t[60],t[61]!==o?(U=e=>{o(e)},t[61]=o,t[62]=U):U=t[62],t[63]!==r?(W=r({id:"ZsLyQG"}),t[63]=r,t[64]=W):W=t[64],t[65]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsx)(cI,{}),t[65]=Z):Z=t[65],t[66]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,Ft.jsx)(aI,{children:(0,Ft.jsx)(ft.Trans,{id:"ZsLyQG"})}),t[66]=Q):Q=t[66],t[67]!==W?(K=(0,Ft.jsxs)(iI,{name:"graphic-media",label:W,children:[Z,Q]}),t[67]=W,t[68]=K):K=t[68],t[69]!==s||t[70]!==q||t[71]!==U||t[72]!==K?($=(0,Ft.jsx)(rI,{label:q,values:s,onChange:U,children:K}),t[69]=s,t[70]=q,t[71]=U,t[72]=K,t[73]=$):$=t[73],t[74]!==s||t[75]!==l.atoms.text_contrast_medium?(G=s.includes("graphic-media")?(0,Ft.jsx)(fr,{style:[kl.mt_sm,l.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"rGk7CY"})}):null,t[74]=s,t[75]=l.atoms.text_contrast_medium,t[76]=G):G=t[76],t[77]!==V||t[78]!==$||t[79]!==G?(Y=(0,Ft.jsxs)(wo.default,{children:[N,(0,Ft.jsxs)(wo.default,{style:V,children:[$,G]})]}),t[77]=V,t[78]=$,t[79]=G,t[80]=Y):Y=t[80],t[81]!==z||t[82]!==Y?(J=(0,Ft.jsxs)(wo.default,{style:x,children:[z,Y]}),t[81]=z,t[82]=Y,t[83]=J):J=t[83],t[84]!==J||t[85]!==g?(X=(0,Ft.jsxs)(wo.default,{style:u,children:[g,J]}),t[84]=J,t[85]=g,t[86]=X):X=t[86],t[87]===Symbol.for("react.memo_cache_sentinel")?(ee=[kl.mt_sm,_o([kl.flex_row,kl.ml_auto])],t[87]=ee):ee=t[87],t[88]!==r?(te=r({id:"DPfwMq"}),t[88]=r,t[89]=te):te=t[89],t[90]!==a?(se=()=>a.close(),t[90]=a,t[91]=se):se=t[91],t[92]===Symbol.for("react.memo_cache_sentinel")?(ne=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"DPfwMq"})}),t[92]=ne):ne=t[92],t[93]!==te||t[94]!==se?(oe=(0,Ft.jsx)(wo.default,{style:ee,children:(0,Ft.jsx)(Sr,{label:te,onPress:se,color:"primary",size:Pt?"small":"large",variant:"solid",testID:"confirmBtn",children:ne})}),t[93]=te,t[94]=se,t[95]=oe):oe=t[95],t[96]!==c||t[97]!==X||t[98]!==oe?(re=(0,Ft.jsxs)(da,{label:c,style:d,children:[X,oe]}),t[96]=c,t[97]=X,t[98]=oe,t[99]=re):re=t[99],re}function s5(){return null}const n5="gif-service",o5=[n5,"featured"],r5=e=>[n5,"search",e],i5=u5((e=>`${zi}/tenor/v2/featured?${e}`)),a5=u5((e=>`${zi}/tenor/v2/search?${e}`));function l5(e){return e.next}function c5(e){const{pageParam:t}=e;return i5({pos:t})}function d5(e){return e.next}function u5(e){return async t=>{const s=new URLSearchParams;s.set("client_key","bluesky-web"),s.set("limit","30"),s.set("contentfilter","high"),s.set("media_filter",["preview","gif","tinygif"].join(","));const n=(0,vs.getLocales)?.()?.[0];n&&s.set("locale",n.languageTag.replace("-","_"));for(const[e,r]of Object.entries(t))void 0!==r&&s.set(e,String(r));const o=await fetch(e(s.toString()),{method:"GET",headers:{"Content-Type":"application/json"}});if(!o.ok)throw new Error("Failed to fetch Tenor API");return o.json()}}function m5(e){const t=(0,i.c)(14),{controlRef:s,onClose:n,onSelectGif:o}=e,r=Ar();let a,l;t[0]!==r?(a=()=>({open:()=>r.open()}),t[0]=r,t[1]=a):a=t[1],(0,mt.useImperativeHandle)(s,a),t[2]!==r||t[3]!==o?(l=e=>{r.close((()=>o(e)))},t[2]=r,t[3]=o,t[4]=l):l=t[4];const c=l,d=h5;let u,m,h,p;return t[5]===Symbol.for("react.memo_cache_sentinel")?(u=Object.assign({bottomInset:0},yo({cornerRadius:void 0})),m=(0,Ft.jsx)(ha,{}),t[5]=u,t[6]=m):(u=t[5],m=t[6]),t[7]!==r||t[8]!==c?(h=(0,Ft.jsx)(WD,{renderError:d,children:(0,Ft.jsx)(p5,{control:r,onSelectGif:c})}),t[7]=r,t[8]=c,t[9]=h):h=t[9],t[10]!==r||t[11]!==n||t[12]!==h?(p=(0,Ft.jsxs)(aa,{control:r,onClose:n,nativeOptions:u,children:[m,h]}),t[10]=r,t[11]=n,t[12]=h,t[13]=p):p=t[13],p}function h5(e){return(0,Ft.jsx)(x5,{details:String(e)})}function p5(e){const t=(0,i.c)(80),{control:s,onSelectGif:n}=e,{_:o}=(0,ft.useLingui)(),r=ec(),{gtMobile:a}=ql(),l=(0,mt.useRef)(null),c=(0,mt.useRef)(null),[d,u]=(0,mt.useState)(""),m=AZ(d,500),{height:h}=(0,Ny.default)(),p=m.length>0,f=function(){const e=(0,i.c)(1);let t;return e[0]===Symbol.for("react.memo_cache_sentinel")?(t={queryKey:o5,queryFn:c5,initialPageParam:void 0,getNextPageParam:l5},e[0]=t):t=e[0],(0,Dp.useInfiniteQuery)(t)}(),g=function(e){const t=(0,i.c)(8);let s,n;t[0]!==e?(s=r5(e),t[0]=e,t[1]=s):s=t[1],t[2]!==e?(n=t=>{const{pageParam:s}=t;return a5({q:e,pos:s})},t[2]=e,t[3]=n):n=t[3];const o=!!e;let r;return t[4]!==s||t[5]!==n||t[6]!==o?(r={queryKey:s,queryFn:n,initialPageParam:void 0,getNextPageParam:d5,enabled:o,placeholderData:sg.keepPreviousData},t[4]=s,t[5]=n,t[6]=o,t[7]=r):r=t[7],(0,Dp.useInfiniteQuery)(r)}(m),{data:x,fetchNextPage:_,isFetchingNextPage:y,hasNextPage:b,error:j,isPending:v,isError:w,refetch:S}=p?g:f;let k,C;t[0]!==x?.pages?(C=x?.pages.flatMap(g5)||[],t[0]=x?.pages,t[1]=C):C=t[1],k=C;const P=k;let T;t[2]!==n?(T=e=>{const{item:t}=e;return(0,Ft.jsx)(_5,{gif:t,onSelectGif:n})},t[2]=n,t[3]=T):T=t[3];const L=T;let A;t[4]!==j||t[5]!==_||t[6]!==b||t[7]!==y?(A=()=>{y||!b||j||_()},t[4]=j,t[5]=_,t[6]=b,t[7]=y,t[8]=A):A=t[8];const I=A,R=P.length>0;let D;t[9]!==s||t[10]!==p?(D=()=>{p?(l.current?.clear(),u("")):s.close()},t[9]=s,t[10]=p,t[11]=D):D=t[11];const F=D;let E,M,B,O,z,H,N,V,q,U,W,Z,Q,K;t[12]===Symbol.for("react.memo_cache_sentinel")?(M=jo(kl.pt_4xl),t[12]=M):M=t[12],t[13]!==a?(B=!a&&_o(kl.gap_md),t[13]=a,t[14]=B):B=t[14],t[15]!==B?(O=[M,kl.relative,kl.mb_lg,kl.flex_row,kl.align_center,B],t[15]=B,t[16]=O):O=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(z={borderBottomLeftRadius:8,borderBottomRightRadius:8},t[17]=z):z=t[17],t[18]!==r.atoms.bg?(H=(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,z,r.atoms.bg]}),t[18]=r.atoms.bg,t[19]=H):H=t[19],t[20]!==o||t[21]!==s||t[22]!==a?(N=!a&&Pt&&(0,Ft.jsx)(Sr,{size:"small",variant:"ghost",color:"secondary",shape:"round",onPress:()=>s.close(),label:o({id:"KcQGEu"}),children:(0,Ft.jsx)(Pr,{icon:sl,size:"md"})}),t[20]=o,t[21]=s,t[22]=a,t[23]=N):N=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(sa,{icon:nC}),t[24]=V):V=t[24],t[25]!==o?(q=o({id:"wxlF9B"}),t[25]=o,t[26]=q):q=t[26],t[27]!==o?(U=o({id:"b5hUT1"}),t[27]=o,t[28]=U):U=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(W=e=>{u(e),c.current?.scrollToOffset({offset:0,animated:!1})},t[29]=W):W=t[29],t[30]!==s?(Z=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&s.close()},t[30]=s,t[31]=Z):Z=t[31],t[32]!==q||t[33]!==U||t[34]!==Z?(Q=(0,Ft.jsxs)(Yi,{children:[V,(0,Ft.jsx)(ea,{label:q,placeholder:U,onChangeText:W,returnKeyType:"search",clearButtonMode:"while-editing",inputRef:l,maxLength:50,onKeyPress:Z})]}),t[32]=q,t[33]=U,t[34]=Z,t[35]=Q):Q=t[35],t[36]!==H||t[37]!==N||t[38]!==Q||t[39]!==O?(K=(0,Ft.jsxs)(wo.default,{style:O,children:[H,N,Q]}),t[36]=H,t[37]=N,t[38]=Q,t[39]=O,t[40]=K):K=t[40],E=K;const $=E;let G;t[41]!==a?(G=a&&(0,Ft.jsx)(ma,{}),t[41]=a,t[42]=G):G=t[42];const Y=a?"3 cols":"2 cols",J=a?3:2;let X,ee,te,se,ne,oe,re,ie,ae,le,ce;return t[43]===Symbol.for("react.memo_cache_sentinel")?(X=[kl.gap_sm],t[43]=X):X=t[43],t[44]!==h?(ee=jo([kl.px_xl,{minHeight:h}]),t[44]=h,t[45]=ee):ee=t[45],t[46]===Symbol.for("react.memo_cache_sentinel")?(te=_o(kl.h_full_vh),t[46]=te):te=t[46],t[47]!==ee?(se=[ee,te],t[47]=ee,t[48]=se):se=t[48],t[49]===Symbol.for("react.memo_cache_sentinel")?(ne=[_o(kl.h_full_vh)],t[49]=ne):ne=t[49],t[50]!==o||t[51]!==R||t[52]!==w||t[53]!==v||t[54]!==p||t[55]!==F||t[56]!==S||t[57]!==m?(oe=!R&&(0,Ft.jsx)(QH,{isLoading:v,isError:w,onRetry:S,onGoBack:F,emptyType:"results",sideBorders:!1,topBorder:!1,errorTitle:o({id:"aFKrtA"}),errorMessage:o({id:"pVSJbT"}),emptyMessage:o(p?{id:"KIVh29",values:{search:m}}:{id:"ABzPl5"})}),t[50]=o,t[51]=R,t[52]=w,t[53]=v,t[54]=p,t[55]=F,t[56]=S,t[57]=m,t[58]=oe):oe=t[58],t[59]!==$||t[60]!==oe?(re=(0,Ft.jsxs)(Ft.Fragment,{children:[$,oe]}),t[59]=$,t[60]=oe,t[61]=re):re=t[61],t[62]===Symbol.for("react.memo_cache_sentinel")?(ie=[0],t[62]=ie):ie=t[62],t[63]!==j||t[64]!==_||t[65]!==R||t[66]!==y?(ae=R?(0,Ft.jsx)(WH,{isFetchingNextPage:y,error:ds(j),onRetry:_,style:{borderTopWidth:0}}):null,t[63]=j,t[64]=_,t[65]=R,t[66]=y,t[67]=ae):ae=t[67],t[68]!==P||t[69]!==I||t[70]!==L||t[71]!==Y||t[72]!==J||t[73]!==se||t[74]!==re||t[75]!==ae?(le=(0,Ft.jsx)(ua,{ref:c,data:P,renderItem:L,numColumns:J,columnWrapperStyle:X,contentContainerStyle:se,style:ne,ListHeaderComponent:re,stickyHeaderIndices:ie,onEndReached:I,onEndReachedThreshold:4,keyExtractor:f5,keyboardDismissMode:"on-drag",ListFooterComponent:ae},Y),t[68]=P,t[69]=I,t[70]=L,t[71]=Y,t[72]=J,t[73]=se,t[74]=re,t[75]=ae,t[76]=le):le=t[76],t[77]!==G||t[78]!==le?(ce=(0,Ft.jsxs)(Ft.Fragment,{children:[G,le]}),t[77]=G,t[78]=le,t[79]=ce):ce=t[79],ce}function f5(e){return e.id}function g5(e){return e.results}function x5(e){const t=(0,i.c)(23),{details:s}=e,{_:n}=(0,ft.useLingui)(),o=Lr();let r,a,l,c,d,u,m,h,p,f;return t[0]!==n?(r=n({id:"UUrrx1"}),t[0]=n,t[1]=r):r=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(a=(0,Ft.jsx)(ma,{}),t[2]=a):a=t[2],t[3]!==n?(l=n({id:"5GGAqz"}),t[3]=n,t[4]=l):l=t[4],t[5]!==n?(c=n({id:"yUqcy2"}),t[5]=n,t[6]=c):c=t[6],t[7]!==s||t[8]!==l||t[9]!==c?(d=(0,Ft.jsx)(UD,{title:l,message:c,details:s}),t[7]=s,t[8]=l,t[9]=c,t[10]=d):d=t[10],t[11]!==n?(u=n({id:"cu6iol"}),t[11]=n,t[12]=u):u=t[12],t[13]!==o?(m=()=>o.close(),t[13]=o,t[14]=m):m=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})}),t[15]=h):h=t[15],t[16]!==u||t[17]!==m?(p=(0,Ft.jsx)(Sr,{label:u,onPress:m,color:"primary",size:"large",variant:"solid",children:h}),t[16]=u,t[17]=m,t[18]=p):p=t[18],t[19]!==r||t[20]!==d||t[21]!==p?(f=(0,Ft.jsxs)(da,{style:kl.gap_md,label:r,children:[a,d,p]}),t[19]=r,t[20]=d,t[21]=p,t[22]=f):f=t[22],f}function _5(e){const t=(0,i.c)(17),{gif:s,onSelectGif:n}=e,{gtTablet:o}=ql(),{_:r}=(0,ft.useLingui)(),a=ec();let l;t[0]!==s||t[1]!==n?(l=()=>{En("composer:gif:select",{}),n(s)},t[0]=s,t[1]=n,t[2]=l):l=t[2];const c=l;let d,u,m,h;return t[3]!==r||t[4]!==s.title?(d=r({id:"ueQiOK",values:{0:s.title}}),t[3]=r,t[4]=s.title,t[5]=d):d=t[5],t[6]!==o?(u=[kl.flex_1,o?{maxWidth:"33%"}:{maxWidth:"50%"}],t[6]=o,t[7]=u):u=t[7],t[8]!==s.media_formats.tinygif.url||t[9]!==s.title||t[10]!==a.atoms.bg_contrast_25?(m=e=>{const{pressed:t}=e;return(0,Ft.jsx)(SS.Image,{style:[kl.flex_1,kl.mb_sm,kl.rounded_sm,{aspectRatio:1,opacity:t?.8:1},a.atoms.bg_contrast_25],source:{uri:s.media_formats.tinygif.url},contentFit:"cover",accessibilityLabel:s.title,accessibilityHint:"",cachePolicy:"none",accessibilityIgnoresInvertColors:!0})},t[8]=s.media_formats.tinygif.url,t[9]=s.title,t[10]=a.atoms.bg_contrast_25,t[11]=m):m=t[11],t[12]!==c||t[13]!==d||t[14]!==u||t[15]!==m?(h=(0,Ft.jsx)(Sr,{label:d,style:u,onPress:c,children:m}),t[12]=c,t[13]=d,t[14]=u,t[15]=m,t[16]=h):h=t[16],h}zr({path:"M3 4a1 1 0 0 0-1 1v14a1 1 0 0 0 1 1h18a1 1 0 0 0 1-1V5a1 1 0 0 0-1-1H3Zm1 14V6h16v12H4Zm2-5.713c0 1.54.92 2.463 2.48 2.463 1.434 0 2.353-.807 2.353-2.06v-.166c0-.578-.267-.834-.884-.834h-.806c-.416 0-.632.182-.632.535 0 .357.22.55.632.55h.146v.063c0 .36-.299.609-.735.609-.597 0-.904-.4-.904-1.168v-.52c0-.775.307-1.155.951-1.155.325 0 .538.152.746.3.089.064.176.127.272.177a.82.82 0 0 0 .409.108c.385 0 .656-.263.656-.636 0-.353-.26-.679-.664-.915-.409-.24-.96-.388-1.548-.388C6.955 9.25 6 10.2 6 11.67v.617Zm6.358 2.385c.526 0 .813-.31.813-.872v-3.627c0-.558-.295-.873-.825-.873s-.825.31-.825.873V13.8c0 .558.302.872.837.872Zm3.367-.872c0 .566-.283.872-.802.872-.538 0-.848-.318-.848-.872v-3.635c0-.512.314-.826.82-.826h2.496c.35 0 .609.272.609.64 0 .369-.26.629-.609.629h-1.666v.973h1.47c.365 0 .608.248.608.613 0 .36-.247.613-.608.613h-1.47v.993Z"});const y5=zr({path:"M4 3a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h16a1 1 0 0 0 1-1V4a1 1 0 0 0-1-1H4Zm1 16V5h14v14H5Zm10.725-5.2c0 .566-.283.872-.802.872-.538 0-.848-.318-.848-.872v-3.635c0-.512.314-.826.82-.826h2.496c.35 0 .609.272.609.64 0 .369-.26.629-.609.629h-1.666v.973h1.47c.365 0 .608.248.608.613 0 .36-.247.613-.608.613h-1.47v.993Zm-3.367.872c.526 0 .813-.31.813-.872v-3.627c0-.558-.295-.873-.825-.873s-.825.31-.825.873V13.8c0 .558.302.872.837.872Zm-3.879.078C6.92 14.75 6 13.827 6 12.287v-.617c0-1.47.955-2.42 2.472-2.42.589 0 1.139.147 1.548.388.404.236.664.562.664.915 0 .373-.271.636-.656.636a.82.82 0 0 1-.41-.108 2.34 2.34 0 0 1-.271-.177c-.208-.148-.421-.3-.746-.3-.644 0-.95.38-.95 1.155v.52c0 .768.306 1.168.903 1.168.436 0 .735-.248.735-.61v-.061h-.146c-.412 0-.632-.194-.632-.551 0-.353.216-.535.632-.535h.806c.617 0 .884.256.884.834v.166c0 1.253-.92 2.06-2.354 2.06Z"});function b5(e){const t=(0,i.c)(18),{onClose:s,onSelectGif:n,disabled:o}=e,{_:r}=(0,ft.useLingui)(),a=(0,mt.useRef)(null),l=ec();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c=async()=>{En("composer:gif:open",{}),ja.default.dismiss(),a.current?.open()},t[0]=c):c=t[0];const d=c;let u,m;t[1]!==r?(u=r({id:"eGgIPT"}),t[1]=r,t[2]=u):u=t[2],t[3]!==r?(m=r({id:"ht7vsZ"}),t[3]=r,t[4]=m):m=t[4];const h=o&&l.atoms.text_contrast_low;let p,f,g,x;return t[5]!==h?(p=(0,Ft.jsx)(y5,{size:"lg",style:h}),t[5]=h,t[6]=p):p=t[6],t[7]!==o||t[8]!==u||t[9]!==m||t[10]!==p?(f=(0,Ft.jsx)(Sr,{testID:"openGifBtn",onPress:d,label:u,accessibilityHint:m,style:kl.p_sm,variant:"ghost",shape:"round",color:"primary",disabled:o,children:p}),t[7]=o,t[8]=u,t[9]=m,t[10]=p,t[11]=f):f=t[11],t[12]!==s||t[13]!==n?(g=(0,Ft.jsx)(m5,{controlRef:a,onClose:s,onSelectGif:n}),t[12]=s,t[13]=n,t[14]=g):g=t[14],t[15]!==f||t[16]!==g?(x=(0,Ft.jsxs)(Ft.Fragment,{children:[f,g]}),t[15]=f,t[16]=g,t[17]=x):x=t[17],x}function j5(e){const t=(0,i.c)(17),{size:s,disabled:n,onAdd:o}=e,{_:r}=(0,ft.useLingui)(),{requestPhotoAccessIfNeeded:a}={requestPhotoAccessIfNeeded:async()=>!0},l=ec(),c=tv();let d;t[0]!==o||t[1]!==a||t[2]!==c||t[3]!==s?(d=async()=>{if(kt&&!await a())return;const e=await c(Ku({selectionLimit:4-s,allowsMultipleSelection:!0})),t=await Promise.all(e.map(v5));o(t)},t[0]=o,t[1]=a,t[2]=c,t[3]=s,t[4]=d):d=t[4];const u=d;let m,h;t[5]!==r?(m=r({id:"U+kFad"}),t[5]=r,t[6]=m):m=t[6],t[7]!==r?(h=r({id:"e7lr8L"}),t[7]=r,t[8]=h):h=t[8];const p=n&&l.atoms.text_contrast_low;let f,g;return t[9]!==p?(f=(0,Ft.jsx)(FT,{size:"lg",style:p}),t[9]=p,t[10]=f):f=t[10],t[11]!==n||t[12]!==u||t[13]!==m||t[14]!==h||t[15]!==f?(g=(0,Ft.jsx)(Sr,{testID:"openGalleryBtn",onPress:u,label:m,accessibilityHint:h,style:kl.p_sm,variant:"ghost",shape:"round",color:"primary",disabled:n,children:f}),t[11]=n,t[12]=u,t[13]=m,t[14]=h,t[15]=f,t[16]=g):g=t[16],g}function v5(e){return Xu(e)}const w5=50,S5=16,k5=60;function C5({testID:e,type:t="bare",style:s,items:n,label:o,menuWidth:r,children:i,openToRight:a=!1,openUpwards:l=!1,rightOffset:c=0,bottomOffset:d=0,hitSlop:u=vi,accessibilityLabel:m}){const{_:h}=(0,ft.useLingui)(),p=(0,mt.useRef)(null),f=(0,mt.useRef)(null),g=e=>{const t=p.current||f.current,{height:s}=tc.default.get("window"),o=e.nativeEvent.pageY;t?.measure(((e,t,i,u,m,h)=>{r||(r=200);let p=0;for(const s of n)s&&T5(s)?p+=S5:s&&A5(s)?p+=w5:s&&L5(s)&&(p+=k5);let f=o+d+20;(l||f+p>s)&&(f-=p),function(e,t,s,n,o,r=!1){const i=e=>{l.destroy();const t=o[e];A5(t)&&t.onPress()},a=()=>l.destroy(),l=new ht.default((0,Ft.jsx)(P5,{onOuterPress:a,x:e,y:t,pageY:s,width:n,items:o,onPressItem:i,openUpwards:r}))}(a?m+i+c:m+i-r,f,h,r,n.filter((e=>!!e)),l)}))},x=(0,mt.useMemo)((()=>n.filter((e=>void 0!==e&&!1!==e&&A5(e))).length),[n]);return"bare"===t?(0,Ft.jsx)(Ix.default,{testID:e,style:s,onPress:g,hitSlop:u,ref:p,accessibilityRole:"button",accessibilityLabel:m||h({id:"zAdQWr",values:{numItems:x}}),accessibilityHint:"",children:i}):(0,Ft.jsx)(wo.default,{ref:f,children:(0,Ft.jsx)(Ex,{type:t,testID:e,onPress:g,style:s,label:o,children:i})})}const P5=e=>{const t=(0,i.c)(47),{onOuterPress:s,x:n,y:o,pageY:r,width:a,items:l,onPressItem:c,openUpwards:d}=e,u=mx("default"),m=dc(),{_:h}=(0,ft.useLingui)(),{height:p}=(0,Ny.default)(),f="dark"===m.colorScheme?u.btn:u.view,g="dark"===m.colorScheme?u.borderDark:u.border;let x,_,y,b,j,v,w,S;if(t[0]!==h||t[1]!==f||t[2]!==l||t[3]!==s||t[4]!==c||t[5]!==d||t[6]!==r||t[7]!==u.border||t[8]!==u.text||t[9]!==p||t[10]!==g||t[11]!==a||t[12]!==n||t[13]!==o){const e=l.filter(A5).length;let i,m,w;_=mt.Fragment,t[20]!==h?(i=h({id:"1x30Qt"}),t[20]=h,t[21]=i):i=t[21],t[22]!==r||t[23]!==p?(m=(0,Ft.jsx)(ko.default.View,{entering:ko.FadeIn,style:[I5.bg,Pt?{top:-r,bottom:r-p}:{top:0,bottom:0}]}),t[22]=r,t[23]=p,t[24]=m):m=t[24],t[25]!==s||t[26]!==i||t[27]!==m?(v=(0,Ft.jsx)(Ao.default,{onPress:s,accessibilityLabel:i,accessibilityHint:"",children:m}),t[25]=s,t[26]=i,t[27]=m,t[28]=v):v=t[28],x=ko.default.View,t[29]!==d?(y=jo(d?ko.FadeInDown.springify(1e3):ko.FadeInUp.springify(1e3)),t[29]=d,t[30]=y):y=t[30],t[31]!==a||t[32]!==n||t[33]!==o?(w={left:n,top:o,width:a},t[31]=a,t[32]=n,t[33]=o,t[34]=w):w=t[34],t[35]!==f||t[36]!==w?(b=[I5.menu,w,f],t[35]=f,t[36]=w,t[37]=b):b=t[37],j=l.map(((t,s)=>A5(t)?(0,Ft.jsxs)(Ix.default,{testID:t.testID,style:[I5.menuItem],onPress:()=>c(s),accessibilityRole:"button",accessibilityLabel:t.label,accessibilityHint:h({id:"wd6Y9B",values:{0:s+1,numItems:e}}),children:[t.icon&&(0,Ft.jsx)(Nu.FontAwesomeIcon,{style:I5.icon,icon:t.icon,color:u.text.color}),(0,Ft.jsx)(Tx,{style:[I5.label,u.text],children:t.label})]},s):T5(t)?(0,Ft.jsx)(wo.default,{style:[I5.separator,g]},s):L5(t)?(0,Ft.jsx)(wo.default,{style:[I5.heading,u.border],children:(0,Ft.jsx)(Tx,{style:[u.text,I5.headingLabel],children:t.label})},s):null)),t[0]=h,t[1]=f,t[2]=l,t[3]=s,t[4]=c,t[5]=d,t[6]=r,t[7]=u.border,t[8]=u.text,t[9]=p,t[10]=g,t[11]=a,t[12]=n,t[13]=o,t[14]=x,t[15]=_,t[16]=y,t[17]=b,t[18]=j,t[19]=v}else x=t[14],_=t[15],y=t[16],b=t[17],j=t[18],v=t[19];return t[38]!==x||t[39]!==y||t[40]!==b||t[41]!==j?(w=(0,Ft.jsx)(x,{entering:y,style:b,children:j}),t[38]=x,t[39]=y,t[40]=b,t[41]=j,t[42]=w):w=t[42],t[43]!==_||t[44]!==v||t[45]!==w?(S=(0,Ft.jsxs)(_,{children:[v,w]}),t[43]=_,t[44]=v,t[45]=w,t[46]=S):S=t[46],S};function T5(e){return"sep"in e&&e.sep}function L5(e){return"heading"in e&&e.heading}function A5(e){return!T5(e)&&!L5(e)}const I5=Gn.default.create({bg:{position:"absolute",left:0,width:"100%",backgroundColor:"rgba(0, 0, 0, 0.1)"},menu:{position:"absolute",backgroundColor:"#fff",borderRadius:14,paddingVertical:6},menuItem:{flexDirection:"row",alignItems:"center",paddingVertical:10,paddingLeft:15,paddingRight:40},menuItemBorder:{borderTopWidth:1,borderTopColor:sc.gray1,marginTop:4,paddingTop:12},icon:{marginLeft:2,marginRight:8,flexShrink:0},label:{fontSize:18,flexShrink:1,flexGrow:1},separator:{borderTopWidth:1,marginVertical:8},heading:{flexDirection:"row",justifyContent:"center",paddingVertical:10,paddingLeft:15,paddingRight:20,borderBottomWidth:1,marginBottom:6},headingLabel:{fontSize:18,fontWeight:"600"}});function R5(){const e=mx("default"),{_:t}=(0,ft.useLingui)(),{openModal:s}=Zd(),n=Yc(),o=Jc(),r=(0,mt.useCallback)((async()=>{kt&&ja.default.isVisible()&&ja.default.dismiss(),s({name:"post-languages-settings"})}),[s]),i=ed(n.postLanguage),a=(0,mt.useMemo)((()=>{let e=[];function s(t){const s=t.split(","),r=s.map((e=>Vs(e,n.appLanguage))).join(" + ");e.find((e=>e.label===r))||e.push({icon:s.every((e=>td(n.postLanguage,e)))&&s.length===i.length?["fas","circle-dot"]:["far","circle"],label:r,onPress(){o.setPostLanguage(t)}})}i.length&&s(n.postLanguage);for(const t of n.postLanguageHistory)s(t);return[{heading:!0,label:t({id:"r5zLS0"})},...e.slice(0,6),{sep:!0},{label:t({id:"1PKxQ7"}),onPress:r}]}),[r,n,o,i,t]);return(0,Ft.jsx)(C5,{type:"bare",testID:"selectLangBtn",items:a,openUpwards:!0,style:D5.button,hitSlop:Ci,accessibilityLabel:t({id:"Dcq5kL"}),accessibilityHint:"",children:i.length>0?(0,Ft.jsx)(Tx,{type:"lg-bold",style:[e.link,D5.label],numberOfLines:1,children:i.map((e=>Vs(e,n.appLanguage))).join(", ")}):(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"language",style:e.link,size:26})})}const D5=Gn.default.create({button:{marginHorizontal:15},label:{maxWidth:100}}),F5=globalThis.requestIdleCallback||(e=>setTimeout(e,1)),E5=globalThis.cancelIdleCallback||clearTimeout;function M5(e){const t=(0,i.c)(42),{text:s}=e,[n,o]=(0,mt.useState)(),r=Yc(),a=Jc(),l=ec(),{_:c}=(0,ft.useLingui)();let d,u;if(t[0]!==s?(d=()=>{const e=s.trim();if(e.length<40)return void o(void 0);const t=F5((()=>{o(function(e){const t=(0,Ds.default)(e).filter((([e,t])=>t>=2e-4));if(1!==t.length)return;const[s,n]=t[0];if(n<.97)return;return function(e){if(3===e.length)return zs[e]?.code2}(s)}(e))}));return()=>E5(t)},u=[s],t[0]=s,t[1]=d,t[2]=u):(d=t[1],u=t[2]),(0,mt.useEffect)(d,u),n&&!ed(r.postLanguage).includes(n)){let e,s,o,i,d,u,m,h,p,f,g,x,_;if(t[3]!==c||t[4]!==r.appLanguage||t[5]!==a||t[6]!==n||t[7]!==l.atoms.bg||t[8]!==l.atoms.border_contrast_low){const g=Vs(n,r.appLanguage);let x,_;s=wo.default,t[19]!==l.atoms.bg||t[20]!==l.atoms.border_contrast_low?(p=[l.atoms.border_contrast_low,kl.gap_sm,kl.border,kl.flex_row,kl.align_center,kl.rounded_sm,kl.px_lg,kl.py_md,kl.mx_md,kl.my_sm,l.atoms.bg],t[19]=l.atoms.bg,t[20]=l.atoms.border_contrast_low,t[21]=p):p=t[21],t[22]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(sP,{}),t[22]=f):f=t[22],t[23]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_1],t[23]=x):x=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(_={0:(0,Ft.jsx)(fr,{style:[kl.font_bold]})},t[24]=_):_=t[24],o=(0,Ft.jsx)(fr,{style:x,children:(0,Ft.jsx)(ft.Trans,{id:"PDNv3v",values:{suggestedLanguageName:g},components:_})}),e=Sr,i="secondary",d="small",u="solid",t[25]!==a||t[26]!==n?(m=()=>a.setPostLanguage(n),t[25]=a,t[26]=n,t[27]=m):m=t[27],h=c({id:"qqLZPj",values:{suggestedLanguageName:g}}),t[3]=c,t[4]=r.appLanguage,t[5]=a,t[6]=n,t[7]=l.atoms.bg,t[8]=l.atoms.border_contrast_low,t[9]=e,t[10]=s,t[11]=o,t[12]=i,t[13]=d,t[14]=u,t[15]=m,t[16]=h,t[17]=p,t[18]=f}else e=t[9],s=t[10],o=t[11],i=t[12],d=t[13],u=t[14],m=t[15],h=t[16],p=t[17],f=t[18];return t[28]===Symbol.for("react.memo_cache_sentinel")?(g=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"l75CjT"})}),t[28]=g):g=t[28],t[29]!==e||t[30]!==i||t[31]!==d||t[32]!==u||t[33]!==m||t[34]!==h?(x=(0,Ft.jsx)(e,{color:i,size:d,variant:u,onPress:m,label:h,children:g}),t[29]=e,t[30]=i,t[31]=d,t[32]=u,t[33]=m,t[34]=h,t[35]=x):x=t[35],t[36]!==s||t[37]!==o||t[38]!==x||t[39]!==p||t[40]!==f?(_=(0,Ft.jsxs)(s,{style:p,children:[f,o,x]}),t[36]=s,t[37]=o,t[38]=x,t[39]=p,t[40]=f,t[41]=_):_=t[41],_}return null}var B5=s(20429),O5=s(73633),z5=s(21405),H5=s(21478),N5=s(15478),V5=s(56155),q5=s(91247),U5=s(64860),W5=s(78725),Z5=s(6775);function Q5(e,t,s,n){const o=new Set;for(const[i,a]of t){if(!/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})))(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(i))continue;if(n.has(i))continue;if(e){o.add(i);continue}const t=s.get(i);if(!t)continue;const r=t.rt.unicodeText.slice(t.facet.index.byteEnd),l=a.rt.unicodeText.slice(a.facet.index.byteEnd);r!==l?(/^\s/m.test(l)||/^[)]?[.,:;!?)](\s|$)/m.test(r)&&/^[)]?[.,:;!?)]\s/m.test(l))&&o.add(i):o.add(i)}for(const i of n)t.has(i)||n.delete(i);let r;return o.size>0&&(r=Array.from(o)[0],n.add(r)),r}var K5=s(49507);function $5({autocomplete:e}){return{items:async({query:t})=>(await e({query:t})).slice(0,8),render:()=>{let e,t;return{onStart:s=>{e=new Z5.ReactRenderer(G5,{props:s,editor:s.editor}),s.clientRect&&(t=(0,K5.default)("body",{getReferenceClientRect:s.clientRect,appendTo:()=>document.body,content:e.element,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(s){e?.updateProps(s),s.clientRect&&t?.[0]?.setProps({getReferenceClientRect:s.clientRect})},onKeyDown:s=>"Escape"===s.event.key?(t?.[0]?.hide(),!0):e?.ref?.onKeyDown(s)||!1,onExit(){t?.[0]?.destroy(),e?.destroy()}}}}}const G5=(0,mt.forwardRef)((function(e,t){const s=(0,i.c)(29),[n,o]=(0,mt.useState)(0),r=mx("default");let a;s[0]!==e?(a=t=>{const s=e.items[t];s&&e.command({id:s.handle})},s[0]=e,s[1]=a):a=s[1];const l=a;let c;s[2]!==e.items||s[3]!==n?(c=()=>{o((n+e.items.length-1)%e.items.length)},s[2]=e.items,s[3]=n,s[4]=c):c=s[4];const d=c;let u;s[5]!==e.items||s[6]!==n?(u=()=>{o((n+1)%e.items.length)},s[5]=e.items,s[6]=n,s[7]=u):u=s[7];const m=u;let h;s[8]!==l||s[9]!==n?(h=()=>{l(n)},s[8]=l,s[9]=n,s[10]=h):h=s[10];const p=h;let f,g,x;s[11]===Symbol.for("react.memo_cache_sentinel")?(f=()=>o(0),s[11]=f):f=s[11],s[12]!==e.items?(g=[e.items],s[12]=e.items,s[13]=g):g=s[13],(0,mt.useEffect)(f,g),s[14]!==m||s[15]!==p||s[16]!==d?(x=()=>({onKeyDown:e=>{const{event:t}=e;return"ArrowUp"===t.key?(d(),!0):"ArrowDown"===t.key?(m(),!0):("Enter"===t.key||"Tab"===t.key)&&(p(),!0)}}),s[14]=m,s[15]=p,s[16]=d,s[17]=x):x=s[17],(0,mt.useImperativeHandle)(t,x);const{items:_}=e;let y,b,j;return s[18]!==r.borderDark||s[19]!==r.view?(y=[r.borderDark,r.view,J5.container],s[18]=r.borderDark,s[19]=r.view,s[20]=y):y=s[20],s[21]!==_||s[22]!==r.text||s[23]!==l||s[24]!==n?(b=_.length>0?_.map(((e,t)=>{const s=n===t;return(0,Ft.jsx)(Y5,{profile:e,isSelected:s,itemIndex:t,totalItems:_.length,onPress:()=>{l(t)}},e.handle)})):(0,Ft.jsx)(Tx,{type:"sm",style:[r.text,J5.noResult],children:(0,Ft.jsx)(ft.Trans,{id:"zfN9gJ"})}),s[21]=_,s[22]=r.text,s[23]=l,s[24]=n,s[25]=b):b=s[25],s[26]!==y||s[27]!==b?(j=(0,Ft.jsx)("div",{className:"items",children:(0,Ft.jsx)(wo.default,{style:y,children:b})}),s[26]=y,s[27]=b,s[28]=j):j=s[28],j}));function Y5(e){const t=(0,i.c)(41),{profile:s,isSelected:n,itemIndex:o,totalItems:r,onPress:a}=e,l=mx("default"),{getGraphemeString:c}=(()=>{const e=(0,i.c)(3);let t,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new(Aw()),e[0]=s):s=e[0],t=s;const n=t;let o;e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(e,t)=>{let s;if(e.length>t){const o=n.splitGraphemes(e);o.length>t?(s=0,e=`${o.slice(0,t).join("")}\u2026`):(s=t-o.length,e=o.join(""))}else s=t-e.length;return{name:e,remainingCharacters:s}},e[1]=o):o=e[1];const r=o;let a;return e[2]===Symbol.for("react.memo_cache_sentinel")?(a={getGraphemeString:r},e[2]=a):a=e[2],a})();let d,u;t[0]!==s.displayName||t[1]!==s.handle?(d=s.displayName||su(s.handle),t[0]=s.displayName,t[1]=s.handle,t[2]=d):d=t[2],t[3]!==c||t[4]!==d?(u=c(Qf(d),30),t[3]=c,t[4]=d,t[5]=u):u=t[5];const{name:m}=u;let h;t[6]!==s?(h={profile:s},t[6]=s,t[7]=h):h=t[7];const p=Nk(h),f=n?l.viewLight:void 0,g=0===o?J5.firstMention:o===r-1?J5.lastMention:void 0;let x,_;t[8]!==l.borderDark||t[9]!==f||t[10]!==g?(x=[f,l.borderDark,J5.mentionContainer,g],t[8]=l.borderDark,t[9]=f,t[10]=g,t[11]=x):x=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(_=[J5.avatarAndDisplayName,kl.flex_1],t[12]=_):_=t[12];const y=s.avatar??null,b=s.associated?.labeler?"labeler":"user";let j,v,w,S,k,C,P;t[13]!==y||t[14]!==b?(j=(0,Ft.jsx)(mP,{avatar:y,size:26,type:b}),t[13]=y,t[14]=b,t[15]=j):j=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(v=[kl.flex_row,kl.align_center,kl.gap_xs,kl.flex_1],t[16]=v):v=t[16],t[17]!==l.text?(w=[l.text],t[17]=l.text,t[18]=w):w=t[18],t[19]!==m||t[20]!==w?(S=(0,Ft.jsx)(Tx,{emoji:!0,style:w,numberOfLines:1,children:m}),t[19]=m,t[20]=w,t[21]=S):S=t[21],t[22]!==p.isVerified||t[23]!==p.role?(k=p.isVerified&&(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Qk,{width:12,verifier:"verifier"===p.role})}),t[22]=p.isVerified,t[23]=p.role,t[24]=k):k=t[24],t[25]!==S||t[26]!==k?(C=(0,Ft.jsxs)(wo.default,{style:v,children:[S,k]}),t[25]=S,t[26]=k,t[27]=C):C=t[27],t[28]!==j||t[29]!==C?(P=(0,Ft.jsxs)(wo.default,{style:_,children:[j,C]}),t[28]=j,t[29]=C,t[30]=P):P=t[30];const T=l.textLight;let L,A,I;return t[31]!==s.handle?(L=su(s.handle,"@"),t[31]=s.handle,t[32]=L):L=t[32],t[33]!==l.textLight||t[34]!==L?(A=(0,Ft.jsx)(wo.default,{children:(0,Ft.jsx)(Tx,{type:"xs",style:T,numberOfLines:1,children:L})}),t[33]=l.textLight,t[34]=L,t[35]=A):A=t[35],t[36]!==a||t[37]!==P||t[38]!==A||t[39]!==x?(I=(0,Ft.jsxs)(tr.default,{style:x,onPress:a,accessibilityRole:"button",children:[P,A]}),t[36]=a,t[37]=P,t[38]=A,t[39]=x,t[40]=I):I=t[40],I}const J5=Gn.default.create({container:{width:500,borderRadius:6,borderWidth:1,borderStyle:"solid",padding:4},mentionContainer:{display:"flex",alignItems:"center",justifyContent:"space-between",flexDirection:"row",paddingHorizontal:12,paddingVertical:8,gap:16},firstMention:{borderTopLeftRadius:2,borderTopRightRadius:2},lastMention:{borderBottomLeftRadius:2,borderBottomRightRadius:2},avatarAndDisplayName:{display:"flex",flexDirection:"row",alignItems:"center",gap:6},noResult:{paddingHorizontal:12,paddingVertical:8}});var X5=s(57145),e6=s(86852),t6=s(5431);const s6=X5.Mark.create({name:"link-decorator",priority:1e3,keepOnSplit:!1,inclusive:()=>!0,addProseMirrorPlugins:()=>[o6()]});function n6(e){const t=[];return e.descendants(((e,s)=>{if(e.isText&&e.text){!function(e,t){let s;const n=Is.URL_REGEX;for(;s=n.exec(e);){let n=s[2];if(!n.startsWith("http")){const e=s.groups?.domain;if(!e||!du(e))continue;n=`https://${n}`}let o=e.indexOf(s[2],s.index),r=o+s[2].length;/[.,;!?]$/.test(n)&&(n=n.slice(0,-1),r--),/[)]$/.test(n)&&!n.includes("(")&&(n=n.slice(0,-1),r--),t(o,r)}}(e.textContent,((e,n)=>{t.push(t6.Decoration.inline(s+e,s+n,{class:"autolink"}))}))}})),t6.DecorationSet.create(e,t)}function o6(){const e=new e6.Plugin({key:new e6.PluginKey("link-decorator"),state:{init:(e,{doc:t})=>n6(t),apply:(e,t)=>e.docChanged?n6(e.doc):t.map(e.mapping,e.doc)},props:{decorations:t=>e.getState(t)}});return e}function r6(e){const t=[];return e.descendants(((e,s)=>{if(e.isText&&e.text){const n=Is.TAG_REGEX,o=e.textContent;let r;for(;r=n.exec(o);){const[e,n,o]=r;if(!o||o.replace(Is.TRAILING_PUNCTUATION_REGEX,"").length>64)continue;const[i=""]=o.match(Is.TRAILING_PUNCTUATION_REGEX)||[],a=r.index+e.indexOf(o),l=s+a-1,c=s+(a+(o.length-i.length));t.push(t6.Decoration.inline(l,c,{class:"autolink"}))}}})),t6.DecorationSet.create(e,t)}const i6=new e6.Plugin({key:new e6.PluginKey("link-decorator"),state:{init:(e,{doc:t})=>r6(t),apply:(e,t)=>e.docChanged?r6(e.doc):t.map(e.mapping,e.doc)},props:{decorations:e=>i6.getState(e)}}),a6=X5.Mark.create({name:"tag-decorator",priority:1e3,keepOnSplit:!1,inclusive:()=>!0,addProseMirrorPlugins:()=>[i6]}),l6=mt.forwardRef((function({richtext:e,placeholder:t,webForceMinHeight:s,hasRightPadding:n,isActive:o,setRichText:r,onPhotoPasted:i,onPressPublish:a,onNewLink:l,onFocus:c},d){const{theme:u,fonts:m}=Xl(),h=function(){const e=(0,wd.useQueryClient)(),t=Op(),s=bh();return mt.useCallback((async({query:n,limit:o=8})=>{let r;if(n=n.toLowerCase())try{r=await e.fetchQuery({staleTime:Ld.MINUTES.ONE,queryKey:ZB(n||""),queryFn:()=>s.searchActorsTypeahead({q:n,limit:o})})}catch(i){ys.error("useActorSearch: searchActorsTypeahead failed",{message:i})}return KB({q:n,searched:r?.data.actors,moderationOpts:t||WB})}),[e,t,s])}(),p=mx("default"),f=bj("ProseMirror-light","ProseMirror-dark"),[g,x]=mt.useState(!1),_=mt.useMemo((()=>[B5.Document,s6,a6,H5.Mention.configure({HTMLAttributes:{class:"mention"},suggestion:$5({autocomplete:h})}),N5.Paragraph,V5.Placeholder.configure({placeholder:t}),q5.Text,z5.default,O5.default]),[h,t]);mt.useEffect((()=>{if(o)return K$.addListener("publish",a),()=>{K$.removeListener("publish",a)}}),[a,o]),mt.useEffect((()=>{if(o)return K$.addListener("media-pasted",i),()=>{K$.removeListener("media-pasted",i)}}),[o,i]),mt.useEffect((()=>{if(!o)return;const e=e=>{const t=e.dataTransfer;if(t){u6(t.items,(e=>{K$.emit("media-pasted",e)}))}e.preventDefault(),x(!1)},t=e=>{const t=e.dataTransfer;e.preventDefault(),t&&t.types.includes("Files")&&x(!0)},s=e=>{e.preventDefault(),x(!1)};return document.body.addEventListener("drop",e),document.body.addEventListener("dragenter",t),document.body.addEventListener("dragover",t),document.body.addEventListener("dragleave",s),()=>{document.body.removeEventListener("drop",e),document.body.removeEventListener("dragenter",t),document.body.removeEventListener("dragover",t),document.body.removeEventListener("dragleave",s)}}),[x,o]);const y=(0,mt.useRef)(new Set),b=(0,mt.useRef)(new Map),j=(0,Z5.useEditor)({extensions:_,coreExtensionOptions:{clipboardTextSerializer:{blockSeparator:"\n"}},onFocus(){c?.()},editorProps:{attributes:{class:f},clipboardTextParser:(e,t)=>{const s=e.split(/(?:\r\n?|\n)/).map((e=>W5.Node.fromJSON(t.doc.type.schema,e.length>0?{type:"paragraph",content:[{type:"text",text:e}]}:{type:"paragraph",content:[]}))),n=W5.Fragment.fromArray(s);return W5.Slice.maxOpen(n)},handlePaste:(e,t)=>{const s=t.clipboardData;let n=!1;if(s){if(s.types.includes("text/html")){const t=s.getData("text/plain");e.pasteText(t),n=!0}if(u6(s.items,(e=>{K$.emit("media-pasted",e)})),n)return!0}},handleKeyDown:(e,t)=>{if((t.metaKey||t.ctrlKey)&&"Enter"===t.code)return K$.emit("publish"),!0}},content:(0,U5.generateJSON)(e.text.toString(),_),autofocus:"end",editable:!0,injectCSS:!0,shouldRerenderOnTransaction:!1,onCreate({editor:e}){setTimeout((()=>{e.chain().focus("end").run()}),200)},onUpdate({editor:e}){const t=c6(e.getJSON()),s="paste"===window.event?.type,n=new Is.RichText({text:t});n.detectFacetsWithoutResolution(),r(n);const o=new Map;if(n.facets)for(const r of n.facets)for(const e of r.features)Is.AppBskyRichtextFacet.isLink(e)&&o.set(e.uri,{facet:r,rt:n});const i=Q5(s,o,b.current,y.current);b.current=o,i&&l(i)}},[f]),v=mt.useCallback((e=>{j?.chain().focus().insertContent(e.native).run()}),[j]);mt.useEffect((()=>{if(o)return K$.addListener("emoji-inserted",v),()=>{K$.removeListener("emoji-inserted",v)}}),[v,o]),mt.useImperativeHandle(d,(()=>({focus:()=>{j?.chain().focus()},blur:()=>{j?.chain().blur()},getCursorPosition:()=>{const e=j?.state.selection.$anchor.pos;return e?j?.view.coordsAtPos(e):void 0}})));const w=mt.useMemo((()=>{const e=ir([kl.text_lg,kl.leading_snug,u.atoms.text],{fontScale:m.scaleMultiplier,fontFamily:m.family,flags:{}});return e.lineHeight=e.lineHeight?e.lineHeight+"px":void 0,e.minHeight=s?140:void 0,e}),[u,m,s]);return(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[d6.container,n&&d6.rightPadding],children:(0,Ft.jsx)(Z5.EditorContent,{editor:j,style:w})}),g&&(0,Ft.jsx)(Wr,{children:(0,Ft.jsx)(ko.default.View,{style:d6.dropContainer,entering:ko.FadeIn.duration(80),exiting:ko.FadeOut.duration(80),children:(0,Ft.jsx)(wo.default,{style:[p.view,p.border,d6.dropModal],children:(0,Ft.jsx)(Tx,{type:"lg",style:[p.text,p.borderDark,d6.dropText],children:(0,Ft.jsx)(ft.Trans,{id:"R4z1h2"})})})})})]})}));function c6(e,t=!1){let s="";if("doc"===e.type){if(e.content?.length)for(let n=0;n<e.content.length;n++){s+=c6(e.content[n],n===e.content.length-1)}}else if("paragraph"===e.type){if(e.content?.length)for(let t=0;t<e.content.length;t++){s+=c6(e.content[t])}t||(s+="\n")}else"hardBreak"===e.type?s+="\n":"text"===e.type?s+=e.text||"":"mention"===e.type&&(s+=`@${e.attrs?.id||""}`);return s}const d6=Gn.default.create({container:{flex:1,alignSelf:"flex-start",padding:5,marginLeft:8,marginBottom:10},rightPadding:{paddingRight:32},dropContainer:{backgroundColor:"#0007",pointerEvents:"none",alignItems:"center",justifyContent:"center",position:"fixed",padding:16,top:0,bottom:0,left:0,right:0},dropModal:{boxShadow:"rgba(0, 0, 0, 0.3) 0px 5px 20px",padding:8,borderWidth:1,borderRadius:16},dropText:{paddingVertical:44,paddingHorizontal:36,borderStyle:"dashed",borderRadius:8,borderWidth:2}});function u6(e,t){for(let s=0;s<e.length;s++){const n=e[s],o=n.type;if("text/plain"===o)n.getAsString((async e=>{if(/\.(jpg|jpeg|png|webp).*$/.test(e)){const s=await fetch(e),n=await s.blob();n.type.startsWith("image/")&&Eu(n).then(t,(e=>{})),n.type.startsWith("video/")&&Eu(n).then(t,(e=>{}))}}));else if(o.startsWith("image/")){const e=n.getAsFile();e&&Eu(e).then(t,(e=>{}))}else if(o.startsWith("video/")){const e=n.getAsFile();e&&Eu(e).then(t,(e=>{}))}}}function m6(e){const t=(0,i.c)(30),{postgate:s,onChangePostgate:n,threadgateAllowUISettings:o,onChangeThreadgateAllowUISettings:r}=e,{_:a}=(0,ft.useLingui)(),l=Ar();let c;t[0]!==l?(c=()=>{kt&&ja.default.isVisible()&&ja.default.dismiss(),l.open()},t[0]=l,t[1]=c):c=t[1];const d=c,u=1===o.length&&"everybody"===o[0].type,m=!s.embeddingRules||0===s.embeddingRules.length,h=u&&m;let p;t[2]!==a||t[3]!==h?(p=a(h?{id:"Wo1qvF"}:{id:"FvZIIt"}),t[2]=a,t[3]=h,t[4]=p):p=t[4];const f=p;let g,x;t[5]!==a?(g=a({id:"z5S9O8"}),t[5]=a,t[6]=g):g=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(x=[jo({paddingHorizontal:8,paddingVertical:6})],t[7]=x):x=t[7];const _=h?tP:DO;let y,b,j,v,w,S;return t[8]!==_?(y=(0,Ft.jsx)(Pr,{icon:_}),t[8]=_,t[9]=y):y=t[9],t[10]!==f?(b=(0,Ft.jsx)(Cr,{numberOfLines:1,children:f}),t[10]=f,t[11]=b):b=t[11],t[12]!==f||t[13]!==d||t[14]!==g||t[15]!==y||t[16]!==b?(j=(0,Ft.jsxs)(Sr,{variant:"solid",color:"secondary",size:"small",testID:"openReplyGateButton",onPress:d,label:f,accessibilityHint:g,style:x,children:[y,b]}),t[12]=f,t[13]=d,t[14]=g,t[15]=y,t[16]=b,t[17]=j):j=t[17],t[18]!==l?(v=()=>{l.close()},t[18]=l,t[19]=v):v=t[19],t[20]!==l||t[21]!==n||t[22]!==r||t[23]!==s||t[24]!==v||t[25]!==o?(w=(0,Ft.jsx)(cB,{control:l,onSave:v,postgate:s,onChangePostgate:n,threadgateAllowUISettings:o,onChangeThreadgateAllowUISettings:r}),t[20]=l,t[21]=n,t[22]=r,t[23]=s,t[24]=v,t[25]=o,t[26]=w):w=t[26],t[27]!==w||t[28]!==j?(S=(0,Ft.jsxs)(Ft.Fragment,{children:[j,w]}),t[27]=w,t[28]=j,t[29]=S):S=t[29],S}const h6=zr({path:"M3 4a1 1 0 011-1h16a1 1 0 011 1v16a1 1 0 01-1 1H4a1 1 0 01-1-1V4Zm2 1v2h2V5H5Zm4 0v6h6V5H9Zm8 0v2h2V5h-2Zm2 4h-2v2h2V9Zm0 4h-2v2h2V13Zm0 4h-2V19h2ZM15 19v-6H9v6h6Zm-8 0v-2H5v2h2Zm-2-4h2v-2H5v2Zm0-4h2V9H5v2Z"});const p6=e=>new Promise(((t,s)=>{const n=new FileReader;n.onload=()=>{const o=n.result;if("image/gif"===e.type){const e=new Image;e.onload=()=>{t({uri:o,mimeType:"image/gif",width:e.width,height:e.height,duration:null})},e.onerror=(e,t,n,o,r)=>{s(new Error("Failed to grab GIF metadata"))},e.src=o}else{const n=document.createElement("video"),r=URL.createObjectURL(e);n.preload="metadata",n.src=r,n.onloadedmetadata=()=>{URL.revokeObjectURL(r),t({uri:o,mimeType:e.type,width:n.videoWidth,height:n.videoHeight,duration:1e3*n.duration})},n.onerror=(e,t,n,o,i)=>{URL.revokeObjectURL(r),s(new Error("Failed to grab video metadata"))}}},n.readAsDataURL(e)}));function f6({onSelectVideo:e,disabled:t,setError:s}){const{_:n}=(0,ft.useLingui)(),o=ec(),{requestVideoAccessIfNeeded:r}={requestVideoAccessIfNeeded:async()=>!0},i=(0,mt.useCallback)((async()=>{if(kt&&!await r())return;const t=await async function(){const e=document.createElement("input");return e.style.display="none",e.setAttribute("type","file"),e.setAttribute("accept",Ui.join(",")),e.setAttribute("id",String(Math.random())),document.body.appendChild(e),new Promise((t=>{e.addEventListener("change",(async()=>{if(e.files){const s=e.files[0];t({canceled:!1,assets:[await p6(s)]})}else t({canceled:!0,assets:null});document.body.removeChild(e)}));const s=new MouseEvent("click");e.dispatchEvent(s)}))}();if(t.assets&&t.assets.length>0){const r=t.assets[0];try{if(Pt){if(r.duration&&r.duration>Vi)throw Error(n({id:"nKLcEY"}));if(!Ui.includes(r.mimeType))throw Error(n({id:"8dx1eI",values:{0:r.mimeType}}))}else{if("number"!==typeof r.duration)throw Error("Asset is not a video");if(r.duration>Vi)throw Error(n({id:"nKLcEY"}))}e(r)}catch(o){o instanceof Error?s(o.message):s(n({id:"99tooA"}))}}}),[r,s,n,e]);return(0,Ft.jsx)(Ft.Fragment,{children:(0,Ft.jsx)(Sr,{testID:"openGifBtn",onPress:i,label:n({id:"d8Bxup"}),accessibilityHint:n({id:"t3Ew76"}),style:kl.p_sm,variant:"ghost",shape:"round",color:"primary",disabled:t,children:(0,Ft.jsx)(h6,{size:"lg",style:t&&o.atoms.text_contrast_low})})})}function g6(e){const t=(0,i.c)(17),{onSelectFile:s,disabled:n}=e,{_:o}=(0,ft.useLingui)(),r=(0,mt.useRef)(null);let a;t[0]===Symbol.for("react.memo_cache_sentinel")?(a=()=>{r.current?.click()},t[0]=a):a=t[0];const l=a;let c;t[1]!==o||t[2]!==s?(c=e=>{const t=e.target.files?.[0];t&&("text/vtt"===t.type||t.name.endsWith(".vtt")?s(t):(ys.error("Invalid subtitle file type",{safeMessage:`File: ${t.name} (${t.type})`}),Zu(o({id:"4Le/v8"}))))},t[1]=o,t[2]=s,t[3]=c):c=t[3];const d=c;let u,m,h,p,f,g;return t[4]!==n||t[5]!==d?(u=(0,Ft.jsx)("input",{type:"file",accept:".vtt",ref:r,style:kl.hidden,onChange:d,disabled:n,"aria-disabled":n}),t[4]=n,t[5]=d,t[6]=u):u=t[6],t[7]!==o?(m=o({id:"am9wtR"}),t[7]=o,t[8]=m):m=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(h=(0,Ft.jsx)(Pr,{icon:TD}),t[9]=h):h=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(p=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"am9wtR"})}),t[10]=p):p=t[10],t[11]!==n||t[12]!==m?(f=(0,Ft.jsx)(wo.default,{style:kl.flex_row,children:(0,Ft.jsxs)(Sr,{onPress:l,label:m,size:"large",color:"primary",variant:"solid",disabled:n,children:[h,p]})}),t[11]=n,t[12]=m,t[13]=f):f=t[13],t[14]!==u||t[15]!==f?(g=(0,Ft.jsxs)(wo.default,{style:kl.gap_lg,children:[u,f]}),t[14]=u,t[15]=f,t[16]=g):g=t[16],g}const x6=1;function _6(e){const t=(0,i.c)(22),s=Ar(),{_:n}=(0,ft.useLingui)();let o,r,a,l,c,d,u,m,h,p,f;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_row,kl.my_xs],t[0]=o):o=t[0],t[1]!==n?(r=n(Pt?{id:"rsDqqD"}:{id:"u/DP73"}),t[1]=n,t[2]=r):r=t[2],t[3]!==n?(a=n(Pt?{id:"9j9PM8"}:{id:"evEv2V"}),t[3]=n,t[4]=a):a=t[4],t[5]!==s?(l=()=>{ja.default.isVisible()&&ja.default.dismiss(),s.open()},t[5]=s,t[6]=l):l=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(c=(0,Ft.jsx)(Pr,{icon:TD}),t[7]=c):c=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(Cr,{children:Pt?(0,Ft.jsx)(ft.Trans,{id:"rsDqqD"}):(0,Ft.jsx)(ft.Trans,{id:"u/DP73"})}),t[8]=d):d=t[8],t[9]!==r||t[10]!==a||t[11]!==l?(u=(0,Ft.jsxs)(Sr,{label:r,accessibilityHint:a,size:"small",color:"secondary",variant:"ghost",onPress:l,children:[c,d]}),t[9]=r,t[10]=a,t[11]=l,t[12]=u):u=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ha,{}),t[13]=m):m=t[13],t[14]!==e?(h=(0,Ft.jsx)(y6,Object.assign({},e)),t[14]=e,t[15]=h):h=t[15],t[16]!==s||t[17]!==h?(p=(0,Ft.jsxs)(aa,{control:s,children:[m,h]}),t[16]=s,t[17]=h,t[18]=p):p=t[18],t[19]!==u||t[20]!==p?(f=(0,Ft.jsxs)(wo.default,{style:o,children:[u,p]}),t[19]=u,t[20]=p,t[21]=f):f=t[21],f}function y6(e){const t=(0,i.c)(48),{defaultAltText:s,saveAltText:n,captions:o,setCaptions:r}=e,a=Lr(),{_:l}=(0,ft.useLingui)(),c=ec(),d=function(){const e=(0,i.c)(2);let t,s;e[0]===Symbol.for("react.memo_cache_sentinel")?(s=new(Aw()),e[0]=s):s=e[0],t=s;const n=t;let o;return e[1]===Symbol.for("react.memo_cache_sentinel")?(o=(e,t)=>n.countGraphemes(e)>t?n.splitGraphemes(e).slice(0,t).join(""):e,e[1]=o):o=e[1],o}(),{primaryLanguage:u}=Yc(),[m,h]=(0,mt.useState)(s);let p;t[0]!==u||t[1]!==r?(p=e=>{r((t=>[...t,{lang:t.some((e=>e.lang===u))?"":u,file:e}]))},t[0]=u,t[1]=r,t[2]=p):p=t[2];const f=p;let g;t[3]!==o?(g=o.some(b6),t[3]=o,t[4]=g):g=t[4];const x=g;let _,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F;return t[5]!==l?(_=l({id:"/skRGV"}),t[5]=l,t[6]=_):_=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"u/DP73"})}),t[7]=y):y=t[7],t[8]!==l?(b=l({id:"u/DP73"}),t[8]=l,t[9]=b):b=t[9],t[10]!==l?(j=l({id:"Pd2MWY"}),t[10]=l,t[11]=j):j=t[11],t[12]!==d?(v=e=>h(d(e,ci)),t[12]=d,t[13]=v):v=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(w={maxHeight:300},t[14]=w):w=t[14],t[15]!==a?(S=e=>{const{nativeEvent:t}=e;"Escape"===t.key&&a.close()},t[15]=a,t[16]=S):S=t[16],t[17]!==m||t[18]!==b||t[19]!==j||t[20]!==v||t[21]!==S?(k=(0,Ft.jsx)(Yi,{children:(0,Ft.jsx)(ea,{label:b,placeholder:j,value:m,onChangeText:v,maxLength:10*ci,multiline:!0,style:w,numberOfLines:3,onKeyPress:S})}),t[17]=m,t[18]=b,t[19]=j,t[20]=v,t[21]=S,t[22]=k):k=t[22],t[23]!==o||t[24]!==f||t[25]!==r||t[26]!==x||t[27]!==c?(C=Pt&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(wo.default,{style:[kl.border_t,kl.w_full,c.atoms.border_contrast_medium,kl.my_md]}),(0,Ft.jsx)(fr,{style:[kl.text_xl,kl.font_bold,kl.leading_tight],children:(0,Ft.jsx)(ft.Trans,{id:"oj5n0N"})}),(0,Ft.jsx)(g6,{onSelectFile:f,disabled:x||o.length>=x6}),(0,Ft.jsx)(wo.default,{children:o.map(((e,t)=>(0,Ft.jsx)(j6,{language:e.lang,file:e.file,setCaptions:r,otherLanguages:Bs.filter((t=>w6(t)===e.lang||!o.some((e=>e.lang===w6(t))))),style:[t%2===0&&c.atoms.bg_contrast_25]},e.lang)))}),x&&(0,Ft.jsx)(fr,{style:[kl.text_sm,c.atoms.text_contrast_medium],children:(0,Ft.jsx)(ft.Trans,{id:"S5y0NT"})})]}),t[23]=o,t[24]=f,t[25]=r,t[26]=x,t[27]=c,t[28]=C):C=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(P=_o([kl.flex_row,kl.justify_end]),t[29]=P):P=t[29],t[30]!==l?(T=l({id:"DPfwMq"}),t[30]=l,t[31]=T):T=t[31],t[32]!==m||t[33]!==a||t[34]!==n?(L=()=>{n(m),a.close()},t[32]=m,t[33]=a,t[34]=n,t[35]=L):L=t[35],t[36]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"DPfwMq"})}),t[36]=A):A=t[36],t[37]!==T||t[38]!==L?(I=(0,Ft.jsx)(wo.default,{style:P,children:(0,Ft.jsx)(Sr,{label:T,size:Pt?"small":"large",color:"primary",variant:"solid",onPress:L,style:kl.mt_lg,children:A})}),t[37]=T,t[38]=L,t[39]=I):I=t[39],t[40]!==k||t[41]!==C||t[42]!==I?(R=(0,Ft.jsxs)(wo.default,{style:kl.gap_md,children:[y,k,C,I]}),t[40]=k,t[41]=C,t[42]=I,t[43]=R):R=t[43],t[44]===Symbol.for("react.memo_cache_sentinel")?(D=(0,Ft.jsx)(ma,{}),t[44]=D):D=t[44],t[45]!==R||t[46]!==_?(F=(0,Ft.jsxs)(da,{label:_,children:[R,D]}),t[45]=R,t[46]=_,t[47]=F):F=t[47],F}function b6(e){return""===e.lang}function j6(e){const t=(0,i.c)(42),{language:s,file:n,otherLanguages:o,setCaptions:r,style:a}=e,{_:l}=(0,ft.useLingui)(),c=ec();let d;t[0]!==s||t[1]!==r?(d=e=>{e&&r((t=>t.map((t=>t.lang===s?{lang:e,file:t.file}:t))))},t[0]=s,t[1]=r,t[2]=d):d=t[2];const u=d;let m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L;return t[3]!==a?(m=[kl.flex_row,kl.justify_between,kl.py_md,kl.px_lg,kl.rounded_md,kl.gap_md,a],t[3]=a,t[4]=m):m=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.flex_1,kl.gap_xs,kl.justify_center],t[5]=h):h=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.flex_row,kl.align_center,kl.gap_sm],t[6]=p):p=t[6],t[7]!==s||t[8]!==c.atoms||t[9]!==c.palette?(f=""===s?(0,Ft.jsx)(Fj,{style:kl.flex_shrink_0,fill:c.palette.negative_500,size:"sm"}):(0,Ft.jsx)(j4,{style:[c.atoms.text,kl.flex_shrink_0],size:"sm"}),t[7]=s,t[8]=c.atoms,t[9]=c.palette,t[10]=f):f=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(g=[kl.flex_1,kl.leading_snug,kl.font_bold,kl.mb_2xs],t[11]=g):g=t[11],t[12]!==n.name?(x=(0,Ft.jsx)(fr,{style:g,numberOfLines:1,children:n.name}),t[12]=n.name,t[13]=x):x=t[13],t[14]!==u?(_=e=>u(e.target.value),t[14]=u,t[15]=_):_=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(y={maxWidth:200,flex:1},t[16]=y):y=t[16],t[17]===Symbol.for("react.memo_cache_sentinel")?(b=(0,Ft.jsx)("option",{value:"",disabled:!0,selected:!0,hidden:!0,children:(0,Ft.jsx)(ft.Trans,{id:"PtDms8"})}),t[17]=b):b=t[17],t[18]!==o?(j=o.map(v6),t[18]=o,t[19]=j):j=t[19],t[20]!==s||t[21]!==j||t[22]!==_?(v=(0,Ft.jsxs)("select",{value:s,onChange:_,style:y,children:[b,j]}),t[20]=s,t[21]=j,t[22]=_,t[23]=v):v=t[23],t[24]!==v||t[25]!==f||t[26]!==x?(w=(0,Ft.jsx)(wo.default,{style:h,children:(0,Ft.jsxs)(wo.default,{style:p,children:[f,x,v]})}),t[24]=v,t[25]=f,t[26]=x,t[27]=w):w=t[27],t[28]!==l?(S=l({id:"rkE1vL"}),t[28]=l,t[29]=S):S=t[29],t[30]!==s||t[31]!==r?(k=()=>r((e=>e.filter((e=>e.lang!==s)))),t[30]=s,t[31]=r,t[32]=k):k=t[32],t[33]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.ml_sm],P=(0,Ft.jsx)(Pr,{icon:Hr}),t[33]=C,t[34]=P):(C=t[33],P=t[34]),t[35]!==S||t[36]!==k?(T=(0,Ft.jsx)(Sr,{label:S,size:"tiny",shape:"round",variant:"outline",color:"secondary",onPress:k,style:C,children:P}),t[35]=S,t[36]=k,t[37]=T):T=t[37],t[38]!==w||t[39]!==T||t[40]!==m?(L=(0,Ft.jsxs)(wo.default,{style:m,children:[w,T]}),t[38]=w,t[39]=T,t[40]=m,t[41]=L):L=t[41],L}function v6(e){return(0,Ft.jsx)("option",{value:w6(e),children:`${e.name} (${w6(e)})`},w6(e))}function w6(e){return e.code2||e.code3}function S6(e){const t=(0,i.c)(19),{asset:s,video:n,clear:o}=e,{_:r}=(0,ft.useLingui)(),a=yc();let l,c,d,u,m,h,p,f=s.width/s.height;return isNaN(f)&&(f=1.7777777777777777),t[0]!==f?(l=jD(f,1,3),t[0]=f,t[1]=l):l=t[1],f=l,t[2]!==f?(c={aspectRatio:f},t[2]=f,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d={backgroundColor:"black"},t[4]=d):d=t[4],t[5]!==c?(u=[kl.w_full,kl.rounded_sm,c,kl.overflow_hidden,d,kl.relative],t[5]=c,t[6]=u):u=t[6],t[7]!==o?(m=(0,Ft.jsx)(B4,{onRemove:o}),t[7]=o,t[8]=m):m=t[8],t[9]!==r||t[10]!==a||t[11]!==o||t[12]!==n.mimeType||t[13]!==n.uri?(h="image/gif"===n.mimeType?(0,Ft.jsx)("img",{src:n.uri,style:{width:"100%",height:"100%",objectFit:"cover"},alt:"GIF"}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)("video",{src:n.uri,style:{width:"100%",height:"100%",objectFit:"cover"},autoPlay:!a,loop:!0,muted:!0,playsInline:!0,onError:e=>{Zu(r({id:"TyRIa6"}),"xmark"),o()}}),a&&(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.justify_center,kl.align_center],children:(0,Ft.jsx)($R,{})})]}),t[9]=r,t[10]=a,t[11]=o,t[12]=n.mimeType,t[13]=n.uri,t[14]=h):h=t[14],t[15]!==u||t[16]!==m||t[17]!==h?(p=(0,Ft.jsxs)(wo.default,{style:u,children:[m,h]}),t[15]=u,t[16]=m,t[17]=h,t[18]=p):p=t[18],p}function k6(){return null}function C6(e){const t=(0,i.c)(20),{asset:s,progress:n,clear:o}=e,r=ec();if(Pt)return null;let a,l,c,d,u,m,h,p,f=s.width/s.height;return isNaN(f)&&(f=1.7777777777777777),t[0]!==f?(a=jD(f,1,3),t[0]=f,t[1]=a):a=t[1],f=a,t[2]!==f?(l={aspectRatio:f},t[2]=f,t[3]=l):l=t[3],t[4]!==r.atoms.bg_contrast_50||t[5]!==l?(c=[kl.w_full,r.atoms.bg_contrast_50,kl.rounded_md,kl.overflow_hidden,l],t[4]=r.atoms.bg_contrast_50,t[5]=l,t[6]=c):c=t[6],t[7]!==s.uri?(d=(0,Ft.jsx)(k6,{uri:s.uri}),t[7]=s.uri,t[8]=d):d=t[8],t[9]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_1,kl.align_center,kl.justify_center,kl.gap_lg,kl.absolute,kl.inset_0],t[9]=u):u=t[9],t[10]!==n||t[11]!==r.atoms.text.color?(m=(0,Ft.jsx)(wo.default,{style:u,children:(0,Ft.jsx)(pL.default,{size:48,borderWidth:3,borderColor:r.atoms.text.color,color:r.atoms.text.color,progress:n})}),t[10]=n,t[11]=r.atoms.text.color,t[12]=m):m=t[12],t[13]!==o?(h=(0,Ft.jsx)(B4,{onRemove:o}),t[13]=o,t[14]=h):h=t[14],t[15]!==c||t[16]!==d||t[17]!==m||t[18]!==h?(p=(0,Ft.jsxs)(wo.default,{style:c,children:[d,m,h]}),t[15]=c,t[16]=d,t[17]=m,t[18]=h,t[19]=p):p=t[19],p}function P6(e,t,s){const n=function(e,t){let s,n=/(^|\s)@([a-z0-9.]*)/gi;for(;s=n.exec(e);){const e=s[1].length,n=s.index+e;if(t>=n&&t<=n+s[0].length-e)return{value:s[2],index:n}}}(e,t);return n?`${e.slice(0,n.index)}@${s} ${e.slice(n.index+n.value.length+1)}`:e}class T6 extends Error{constructor(){super("Aborted"),this.name="AbortError"}}class L6 extends Error{constructor(){super("Videos cannot be larger than 100 MB"),this.name="VideoTooLargeError"}}class A6 extends Error{constructor(e){super(e),this.name="ServerError"}}class I6 extends Error{constructor(e){super(e),this.name="UploadLimitError"}}async function R6(e,t){const{mimeType:s,base64:n}=function(e){const[t,s]=e.slice(5).split(";base64,");if(!t||!s)throw new Error("Invalid data URL");return{mimeType:t,base64:s}}(e.uri),o=function(e,t){const s=atob(e),n=[];for(let o=0;o<s.length;o+=512){const e=s.slice(o,o+512),t=new Array(e.length);for(let s=0;s<e.length;s++)t[s]=e.charCodeAt(s);const r=new Uint8Array(t);n.push(r)}return new Blob(n,{type:t})}(n,s),r=URL.createObjectURL(o);if(o.size>qi)throw new L6;return{size:o.size,uri:r,bytes:await o.arrayBuffer(),mimeType:s}}async function D6({agent:e,aud:t,lxm:s,exp:n}){const o=function(e){const t=Lu(e);return t?`did:web:${t}`:null}(e.dispatchUrl);if(!o)throw new Error("Agent does not have a PDS URL");const{data:r}=await e.com.atproto.server.getServiceAuth({aud:t??o,lxm:s,exp:n});return r.token}async function F6({video:e,agent:t,did:s,setProgress:n,signal:o,_:r}){if(o.aborted)throw new T6;await async function(e,t){const s=await D6({agent:e,lxm:"app.bsky.video.getUploadLimits",aud:Ni}),n=R4(),{data:o}=await n.app.bsky.video.getUploadLimits({},{headers:{Authorization:`Bearer ${s}`}}).catch((e=>{throw e instanceof Error?new I6(e.message):e}));if(!o.canUpload)throw o.message?new I6(o.message):new I6(t({id:"FMu5rS"}))}(t,r);const i=I4("/xrpc/app.bsky.video.uploadVideo",{did:s,name:`${(0,Xt.nanoid)(12)}.${D4(e.mimeType)}`});let a=e.bytes;if(!a){if(o.aborted)throw new T6;a=await fetch(e.uri).then((e=>e.arrayBuffer()))}if(o.aborted)throw new T6;const l=await D6({agent:t,lxm:"com.atproto.repo.uploadBlob",exp:Date.now()/1e3+1800});if(o.aborted)throw new T6;const c=new XMLHttpRequest,d=await new Promise(((t,s)=>{c.upload.addEventListener("progress",(e=>{const t=e.loaded/e.total;n(t)})),c.onloadend=()=>{if(o.aborted)s(new T6);else if(4===c.readyState){const e=JSON.parse(c.responseText);t(e)}else s(new A6(r({id:"7pThXn"})))},c.onerror=()=>{s(new A6(r({id:"7pThXn"})))},c.open("POST",i),c.setRequestHeader("Content-Type",e.mimeType),c.setRequestHeader("Authorization",`Bearer ${l}`),c.send(a)}));if(!d.jobId)throw new A6(d.error||r({id:"7pThXn"}));if(o.aborted)throw new T6;return d}const E6=new AbortController;E6.abort();const M6=Object.freeze({status:"idle",progress:0,abortController:E6,asset:void 0,video:void 0,jobId:void 0,pendingPublish:void 0,altText:"",captions:[]});function B6(e,t){return{status:"compressing",progress:0,abortController:t,asset:e,altText:"",captions:[]}}function O6(e,t){if(t.signal.aborted||t.signal!==e.abortController.signal)return e;if("to_error"===t.type)return{status:"error",progress:100,abortController:e.abortController,error:t.error,asset:e.asset??null,video:e.video??null,jobId:e.jobId??null,altText:e.altText,captions:e.captions};if("update_progress"===t.type){if("compressing"===e.status||"uploading"===e.status)return Object.assign({},e,{progress:t.progress})}else{if("update_alt_text"===t.type)return Object.assign({},e,{altText:t.altText});if("update_captions"===t.type)return Object.assign({},e,{captions:t.updater(e.captions)});if("compressing_to_uploading"===t.type)return"compressing"===e.status?{status:"uploading",progress:0,abortController:e.abortController,asset:e.asset,video:t.video,altText:e.altText,captions:e.captions}:e;if("uploading_to_processing"===t.type){if("uploading"===e.status)return{status:"processing",progress:0,abortController:e.abortController,asset:e.asset,video:e.video,jobId:t.jobId,jobStatus:null,altText:e.altText,captions:e.captions}}else if("update_job_status"===t.type){if("processing"===e.status)return Object.assign({},e,{jobStatus:t.jobStatus,progress:void 0!==t.jobStatus.progress?t.jobStatus.progress/100:e.progress})}else if("to_done"===t.type&&"processing"===e.status)return{status:"done",progress:100,abortController:e.abortController,asset:e.asset,video:e.video,pendingPublish:{blobRef:t.blobRef},altText:e.altText,captions:e.captions}}return e}async function z6(e,t,s,n,o,r){let i,a;try{i=await R6(e)}catch(d){const e=function(e,t){if(e instanceof T6)return null;if(e instanceof L6)return t({id:"02rVWM"});return ys.error("Error compressing video",{safeMessage:e}),t({id:"GEF5nN"})}(d,r);return void(null!==e&&t({type:"to_error",error:e,signal:o}))}t({type:"compressing_to_uploading",video:i,signal:o});try{a=await F6({video:i,agent:s,did:n,signal:o,_:r,setProgress:e=>{t({type:"update_progress",progress:e,signal:o})}})}catch(d){const e=function(e,t){if(e instanceof T6)return null;if(ys.error("Error uploading video",{safeMessage:e}),e instanceof A6||e instanceof I6)switch(e.message){case"User is not allowed to upload videos":return t({id:"cY2cFE"});case"Uploading is disabled at the moment":return t({id:"YGHpik"});case"Failed to get user's upload stats":return t({id:"Do+/5x"});case"User has exceeded daily upload bytes limit":return t({id:"h8qUzj"});case"User has exceeded daily upload videos limit":return t({id:"YQ65sD"});case"Account is not old enough to upload videos":return t({id:"K9PUYb"});default:return e.message}return t({id:"SW3kNa"})}(d,r);return void(null!==e&&t({type:"to_error",error:e,signal:o}))}const l=a.jobId;t({type:"uploading_to_processing",jobId:l,signal:o});let c=0;for(;;){if(o.aborted)return;const e=R4();let s,n;try{if(s=(await e.app.bsky.video.getJobStatus({jobId:l})).data.jobStatus,c=0,"JOB_STATE_COMPLETED"===s.state){if(n=s.blob,!n)throw new Error("Job completed, but did not return a blob")}else if("JOB_STATE_FAILED"===s.state)throw new Error(s.error??"Job failed to process")}catch(d){if(!s&&(c++,c<50)){await new Promise((e=>setTimeout(e,5e3)));continue}return ys.error("Error processing video",{safeMessage:d}),void t({type:"to_error",error:r({id:"tIqkWN"}),signal:o})}if(t(n?{type:"to_done",blobRef:n,signal:o}:{type:"update_job_status",jobStatus:s,signal:o}),"JOB_STATE_COMPLETED"===s.state||"JOB_STATE_FAILED"===s.state)return;await new Promise((e=>setTimeout(e,1500)))}}const H6=4;function N6(e,t){switch(t.type){case"update_postgate":return Object.assign({},e,{thread:Object.assign({},e.thread,{postgate:t.postgate})});case"update_threadgate":return Object.assign({},e,{thread:Object.assign({},e.thread,{threadgate:t.threadgate})});case"update_post":{let s=e.thread.posts;const n=e.thread.posts.findIndex((e=>e.id===t.postId));return-1!==n&&(s=e.thread.posts.slice(),s[n]=function(e,t){switch(t.type){case"update_richtext":return Object.assign({},e,{richtext:t.richtext,shortenedGraphemeLength:q6(t.richtext)});case"update_labels":return Object.assign({},e,{labels:t.labels});case"embed_add_images":{if(0===t.images.length)return e;const s=e.embed.media;let n=s;return s?"images"===s.type&&(n=Object.assign({},s,{images:[...s.images,...t.images].slice(0,H6)})):n={type:"images",images:t.images.slice(0,H6)},Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}case"embed_update_image":{const s=e.embed.media;if("images"===s?.type){const n=t.image,o=Object.assign({},s,{images:s.images.map((e=>e.source.id===n.source.id?n:e))});return Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}return e}case"embed_remove_image":{const s=e.embed.media;let n=e.labels;if("images"===s?.type){const o=t.image;let r=Object.assign({},s,{images:s.images.filter((e=>e.source.id!==o.source.id))});return 0===r.images.length&&(r=void 0,e.embed.link||(n=[])),Object.assign({},e,{labels:n,embed:Object.assign({},e.embed,{media:r})})}return e}case"embed_add_video":{const s=e.embed.media;let n=s;return s||(n={type:"video",video:B6(t.asset,t.abortController)}),Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}case"embed_update_video":{const s=t.videoAction,n=e.embed.media;let o=n;return"video"===n?.type&&(o=Object.assign({},n,{video:O6(n.video,s)})),Object.assign({},e,{embed:Object.assign({},e.embed,{media:o})})}case"embed_remove_video":{const t=e.embed.media;let s=t;"video"===t?.type&&(t.video.abortController.abort(),s=void 0);let n=e.labels;return e.embed.link||(n=[]),Object.assign({},e,{labels:n,embed:Object.assign({},e.embed,{media:s})})}case"embed_add_uri":{const s=e.embed.quote,n=e.embed.link;let o=s,r=n;return bu(t.uri)?s||(o={type:"link",uri:t.uri}):n||(r={type:"link",uri:t.uri}),Object.assign({},e,{embed:Object.assign({},e.embed,{quote:o,link:r})})}case"embed_remove_link":{let t=e.labels;return e.embed.media||(t=[]),Object.assign({},e,{labels:t,embed:Object.assign({},e.embed,{link:void 0})})}case"embed_remove_quote":return Object.assign({},e,{embed:Object.assign({},e.embed,{quote:void 0})});case"embed_add_gif":{const s=e.embed.media;let n=s;return s||(n={type:"gif",gif:t.gif,alt:""}),Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}case"embed_update_gif":{const s=e.embed.media;let n=s;return"gif"===s?.type&&(n=Object.assign({},s,{alt:t.alt})),Object.assign({},e,{embed:Object.assign({},e.embed,{media:n})})}case"embed_remove_gif":{const t=e.embed.media;let s=t;return"gif"===t?.type&&(s=void 0),Object.assign({},e,{embed:Object.assign({},e.embed,{media:s})})}}}(e.thread.posts[n],t.postAction)),Object.assign({},e,{thread:Object.assign({},e.thread,{posts:s})})}case"add_post":{const t=e.activePostIndex,s=[...e.thread.posts];return s.splice(t+1,0,{id:(0,Xt.nanoid)(),richtext:new Is.RichText({text:""}),shortenedGraphemeLength:0,labels:[],embed:{quote:void 0,media:void 0,link:void 0}}),Object.assign({},e,{thread:Object.assign({},e.thread,{posts:s})})}case"remove_post":{if(e.thread.posts.length<2)return e;let s=e.activePostIndex;const n=e.thread.posts.findIndex((e=>e.id===t.postId));let o=[...e.thread.posts];if(-1!==n){const t=e.thread.posts[n];"video"===t.embed.media?.type&&t.embed.media.video.abortController.abort(),o.splice(n,1),s=Math.max(0,n-1)}return Object.assign({},e,{activePostIndex:s,mutableNeedsFocusActive:!0,thread:Object.assign({},e.thread,{posts:o})})}case"focus_post":{const s=e.thread.posts.findIndex((e=>e.id===t.postId));return-1===s?e:Object.assign({},e,{activePostIndex:s})}}}function V6({initText:e,initMention:t,initImageUris:s,initQuoteUri:n,initInteractionSettings:o}){let r,i;if(s?.length&&(r={type:"images",images:em(s)}),n){const e=ku(n);e&&(i={type:"link",uri:fu(e)})}const a=new Is.RichText({text:e||(t?P6(`@${t}`,t.length+1,`${t}`):"")});let l;if(e){a.detectFacetsWithoutResolution();const e=new Map,t=new Map;if(a.facets)for(const r of a.facets)for(const s of r.features)Is.AppBskyRichtextFacet.isLink(s)&&(bu(s.uri)?t.set(s.uri,{facet:r,rt:a}):e.set(s.uri,{facet:r,rt:a}));const s=new Set,n=Q5(!0,e,new Map,s);n&&(l={type:"link",uri:n});const o=Q5(!0,t,new Map,s);o&&(i||(i={type:"link",uri:o}))}return{activePostIndex:0,mutableNeedsFocusActive:!1,thread:{posts:[{id:(0,Xt.nanoid)(),richtext:a,shortenedGraphemeLength:q6(a),labels:[],embed:{quote:i,media:r,link:l}}],postgate:KM({post:"",embeddingRules:o?.postgateEmbeddingRules||[]}),threadgate:m_({$type:"app.bsky.feed.threadgate",post:"",createdAt:(new Date).toString(),allow:o?.threadgateAllowRules})}}}function q6(e){return ig(e).graphemeLength}const U6=({replyTo:e,onPost:t,quote:s,mention:n,openEmojiPicker:o,text:r,imageUris:a,videoUri:l,cancelRef:c})=>{const{currentAccount:d}=xh(),u=bh(),m=(0,wd.useQueryClient)(),h=d.did,{closeComposer:p}=Bm(),{_:f}=(0,ft.useLingui)(),g=fc(),x=Yc(),_=Jc(),y=(0,mt.useRef)(null),b=Ar(),{closeAllDialogs:j}=Xo(),{closeAllModals:v}=Zd(),{data:w}=Fh(),[S]=GW({iosUseWillEvents:!0}),[k,C]=(0,mt.useState)(!1),[P,T]=(0,mt.useState)(""),[L,A]=(0,mt.useState)(""),[I,R]=(0,mt.useReducer)(N6,{initImageUris:a,initQuoteUri:s?.uri,initText:r,initMention:n,initInteractionSettings:w?.postInteractionSettings},V6),D=I.thread,F=D.posts[I.activePostIndex],E=D.posts[I.activePostIndex+1],M=(0,mt.useCallback)((e=>{R({type:"update_post",postId:F.id,postAction:e})}),[F.id]),B=mt.useCallback(((e,t)=>{const s=new AbortController;R({type:"update_post",postId:e,postAction:{type:"embed_add_video",asset:t,abortController:s}}),z6(t,(t=>{R({type:"update_post",postId:e,postAction:{type:"embed_update_video",videoAction:t}})}),u,h,s.signal,f)}),[f,u,h,R]),O=Ed((()=>{l&&B(F.id,l)}));(0,mt.useEffect)((()=>{O()}),[O]);const z=mt.useCallback((e=>{R({type:"update_post",postId:e,postAction:{type:"embed_remove_video"}})}),[R]),[H,N]=(0,mt.useState)(!1),V=(0,mt.useCallback)((()=>{p()}),[p,m]),q=(0,pt.useSafeAreaInsets)(),U=(0,mt.useMemo)((()=>({paddingTop:St?q.top:0,paddingBottom:wt&&!S||St&&S?q.bottom:0})),[q,S]),W=(0,mt.useCallback)((()=>{D.posts.some((e=>e.shortenedGraphemeLength>0||e.embed.media||e.embed.link))?(j(),ja.default.dismiss(),b.open()):V()}),[D,j,b,V]);(0,mt.useImperativeHandle)(c,(()=>({onPressCancel:W}))),(0,mt.useEffect)((()=>{if(!St)return;const e=A4.default.addEventListener("hardwareBackPress",(()=>(j()||v()||W(),!0)));return()=>{e.remove()}}),[W,j,v]);const Z=(0,mt.useMemo)((()=>{if(g)for(let e=0;e<D.posts.length;e++){const t=D.posts[e].embed.media;if(t){if("images"===t.type&&t.images.some((e=>!e.alt)))return f({id:"Cqo2D+"});if("gif"===t.type&&!t.alt)return f({id:"8eNnIe"});if("video"===t.type&&"error"!==t.video.status&&!t.video.altText)return f({id:"usRWUG"})}}}),[D,g,f]),Q=!Z&&D.posts.every((e=>e.shortenedGraphemeLength<=ai&&!r7(e)&&!("video"===e.embed.media?.type&&"error"===e.embed.media.video.status))),K=mt.useCallback((async()=>{if(k)return;if(!Q)return;if(D.posts.some((e=>"video"===e.embed.media?.type&&e.embed.media.video.asset&&"done"!==e.embed.media.video.status)))return void N(!0);let n;A(""),C(!0);try{n=(await w_(u,m,{thread:D,replyTo:e?.uri,onStateChange:T,langs:ed(x.postLanguage)})).uris[0];try{await o7(u,n,(e=>{const t=e?.data?.thread;return Is.AppBskyFeedDefs.isThreadViewPost(t)}))}catch(o){ys.error(o,{message:"Waiting for app view failed"})}}catch(r){ys.error(r,{message:"Composer: create post failed",hasImages:D.posts.some((e=>"images"===e.embed.media?.type))});let e=ds(r.message);return e.includes("not locate record")?e=f({id:"fE/H3i"}):r instanceof km&&(e=f({id:"c+0vRh"})),A(e),void C(!1)}finally{if(n){let t=0;for(let s of D.posts)En("post:create",{imageCount:"images"===s.embed.media?.type?s.embed.media.images.length:0,isReply:t>0||!!e,isPartOfThread:D.posts.length>1,hasLink:!!s.embed.link,hasQuote:!!s.embed.quote,langs:x.postLanguage,logContext:"Composer"}),t++}D.posts.length>1&&En("thread:create",{postCount:D.posts.length,isReply:!!e})}n&&!e&&It.emit("post-created"),_.savePostLanguageToHistory(),s?o7(u,s.uri,(e=>{const o=e.data.thread;return!(!Is.AppBskyFeedDefs.isThreadViewPost(o)||o.post.quoteCount===s.quoteCount)&&(t?.(n),!0)})):t?.(n),V(),Zu(D.posts.length>1?f({id:"/JYhtZ"}):f(e?{id:"3pqHPc"}:{id:"IJCGve"}))}),[f,u,D,Q,k,x.postLanguage,V,t,s,e,_,m]),$=Ed((()=>{K()}));let G;mt.useEffect((()=>{if(H){let e=0,t=0;for(let s of D.posts)if("video"===s.embed.media?.type){const n=s.embed.media.video;"error"===n.status?e++:"done"!==n.status&&t++}e>0?N(!1):0===t&&(N(!1),K())}}),[D.posts,K,H]);let Y=M6;for(let i=0;i<D.posts.length;i++){const e=D.posts[i];if("video"===e.embed.media?.type&&"error"===e.embed.media.video.status){G=e.id,Y=e.embed.media.video;break}}const J=(0,mt.useCallback)((()=>{const e=y.current?.getCursorPosition();e&&o?.(Object.assign({},e,{nextFocusRef:y}))}),[o]),X=(0,ko.useAnimatedRef)();(0,mt.useEffect)((()=>{I.mutableNeedsFocusActive&&(I.mutableNeedsFocusActive=!1,St||y.current?.focus())}),[I]);const ee=D.posts.length>1&&void 0===E,{scrollHandler:te,onScrollViewContentSizeChange:se,onScrollViewLayout:ne,topBarAnimatedStyle:oe,bottomBarAnimatedStyle:re}=function(e){const t=(0,i.c)(23),{scrollViewRef:s,stickyBottom:n}=e,o=ec(),r=(0,ko.useSharedValue)(0),a=(0,ko.useSharedValue)(1/0),l=(0,ko.useSharedValue)(0),c=(0,ko.useDerivedValue)(function(){const e=()=>(0,ko.withTiming)(0===r.get()?1:0);return e.__closure={withTiming:ko.withTiming,contentOffset:r},e.__workletHash=6808902969926,e.__initData=Y6,e}()),d=(0,ko.useDerivedValue)(function(){const e=()=>(0,ko.withTiming)(l.get()-r.get()-5<=a.get()?1:0);return e.__closure={withTiming:ko.withTiming,contentHeight:l,contentOffset:r,scrollViewHeight:a},e.__workletHash=8853057709052,e.__initData=J6,e}());let u;t[0]!==l||t[1]!==r||t[2]!==a?(u=function(){const e=function(e){const{newContentHeight:t,newContentOffset:s,newScrollViewHeight:n}=e;"number"===typeof t&&l.set(Math.floor(t)),"number"===typeof s&&r.set(Math.floor(s)),"number"===typeof n&&a.set(Math.floor(n))};return e.__closure={contentHeight:l,contentOffset:r,scrollViewHeight:a},e.__workletHash=3421630273025,e.__initData=X6,e}(),t[0]=l,t[1]=r,t[2]=a,t[3]=u):u=t[3];const m=u;let h;t[4]!==m?(h={onScroll:function(){const e=function(e){m({newContentOffset:e.contentOffset.y,newContentHeight:e.contentSize.height,newScrollViewHeight:e.layoutMeasurement.height})};return e.__closure={showHideBottomBorder:m},e.__workletHash=2498566142233,e.__initData=e7,e}()},t[4]=m,t[5]=h):h=t[5];const p=bV(h);let f;t[6]!==l||t[7]!==r||t[8]!==a||t[9]!==s||t[10]!==m||t[11]!==n?(f=function(){const e=function(e){const t=l.get();let o=!1;if(n&&e>t){t-r.get()-100<=a.get()&&(o=!0)}m({newContentHeight:e}),o&&(0,ko.scrollTo)(s,0,e,!0)};return e.__closure={contentHeight:l,stickyBottom:n,contentOffset:r,scrollViewHeight:a,showHideBottomBorder:m,scrollTo:ko.scrollTo,scrollViewRef:s},e.__workletHash=2838148290074,e.__initData=t7,e}(),t[6]=l,t[7]=r,t[8]=a,t[9]=s,t[10]=m,t[11]=n,t[12]=f):f=t[12];const g=f;let x;t[13]!==g?(x=(e,t)=>{(0,ko.runOnUI)(g)(t)},t[13]=g,t[14]=x):x=t[14];const _=x;let y;t[15]!==m?(y=e=>{m({newScrollViewHeight:e.nativeEvent.layout.height})},t[15]=m,t[16]=y):y=t[16];const b=y,j=(0,ko.useAnimatedStyle)(function(){const e=()=>({borderBottomWidth:Gn.default.hairlineWidth,borderColor:(0,ko.interpolateColor)(c.get(),[0,1],[o.atoms.border_contrast_medium.borderColor,"transparent"])});return e.__closure={StyleSheet:Gn.default,interpolateColor:ko.interpolateColor,hasScrolledToTop:c,t:o},e.__workletHash=0xfa5d41ead4d,e.__initData=s7,e}()),v=(0,ko.useAnimatedStyle)(function(){const e=()=>({borderTopWidth:Gn.default.hairlineWidth,borderColor:(0,ko.interpolateColor)(d.get(),[0,1],[o.atoms.border_contrast_medium.borderColor,"transparent"])});return e.__closure={StyleSheet:Gn.default,interpolateColor:ko.interpolateColor,hasScrolledToBottom:d,t:o},e.__workletHash=5612808509608,e.__initData=n7,e}());let w;t[17]!==v||t[18]!==_||t[19]!==b||t[20]!==p||t[21]!==j?(w={scrollHandler:p,onScrollViewContentSizeChange:_,onScrollViewLayout:b,topBarAnimatedStyle:j,bottomBarAnimatedStyle:v},t[17]=v,t[18]=_,t[19]=b,t[20]=p,t[21]=j,t[22]=w):w=t[22];return w}({scrollViewRef:X,stickyBottom:ee}),ie=function(){const{top:e,bottom:t}=(0,pt.useSafeAreaInsets)();if(!wt)return-1*t;if(20===e)return 40;return e+10}(),ae=(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(M5,{text:F.richtext.text}),(0,Ft.jsx)($6,{isReply:!!e,post:F,thread:I.thread,dispatch:R,bottomBarAnimatedStyle:re}),(0,Ft.jsx)(G6,{post:F,dispatch:M,showAddButton:!r7(F)&&(!E||!r7(E)),onError:A,onEmojiButtonPress:J,onSelectVideo:B,onAddPost:()=>{R({type:"add_post"})}})]}),le=!kt&&D.posts.length>1;return(0,Ft.jsx)(Ko,{children:(0,Ft.jsxs)(Tw.default,{testID:"composePostView",behavior:wt?"padding":"height",keyboardVerticalOffset:ie,style:kl.flex_1,children:[(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,U],"aria-modal":!0,accessibilityViewIsModal:!0,children:[(0,Ft.jsxs)(Z6,{canPost:Q,isReply:!!e,isPublishQueued:H,isPublishing:k,isThread:D.posts.length>1,publishingStage:P,topBarAnimatedStyle:oe,onCancel:W,onPublish:K,children:[Z&&(0,Ft.jsx)(Q6,{error:Z}),(0,Ft.jsx)(a7,{error:L,videoState:Y,clearError:()=>A(""),clearVideo:G?()=>z(G):()=>{}})]}),(0,Ft.jsxs)(ko.default.ScrollView,{ref:X,layout:jo(ko.LinearTransition),onScroll:te,contentContainerStyle:kl.flex_grow,style:kl.flex_1,keyboardShouldPersistTaps:"always",onContentSizeChange:se,onLayout:ne,children:[e?(0,Ft.jsx)(F4,{replyTo:e}):void 0,D.posts.map(((t,n)=>(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(W6,{post:t,dispatch:R,textInput:t.id===F.id?y:null,isFirstPost:0===n,isPartOfThread:D.posts.length>1,isReply:n>0||!!e,isActive:t.id===F.id,canRemovePost:D.posts.length>1,canRemoveQuote:n>0||!s,onSelectVideo:B,onClearVideo:z,onPublish:$,onError:A}),le&&t.id===F.id&&(0,Ft.jsx)(wo.default,{style:i7.stickyFooterWeb,children:ae})]},t.id)))]}),!le&&ae]}),(0,Ft.jsx)(bx,{control:b,title:f({id:"ZErbHI"}),description:f({id:"0BIeIs"}),onConfirm:V,confirmButtonCta:f({id:"bzSI52"}),confirmButtonColor:"negative"})]})})};let W6=mt.memo((function(e){const t=(0,i.c)(79),{post:s,dispatch:n,textInput:o,isActive:r,isReply:a,isFirstPost:l,isPartOfThread:c,canRemovePost:d,canRemoveQuote:u,onClearVideo:m,onSelectVideo:h,onError:p,onPublish:f}=e,{currentAccount:g}=xh(),x=g.did,{_:_}=(0,ft.useLingui)();let y;t[0]!==x?(y={did:x},t[0]=x,t[1]=y):y=t[1];const{data:b}=ub(y),j=s.richtext,v=!s.embed.link&&!s.embed.quote&&!s.embed.media,w=Pt&&v&&r;let S;t[2]!==_||t[3]!==l||t[4]!==a?(S=_(a?l?{id:"6ckZRB"}:{id:"VmiI3m"}:{id:"tmQ7o0"}),t[2]=_,t[3]=l,t[4]=a,t[5]=S):S=t[5];const k=S,C=Ar();let P;t[6]!==n||t[7]!==s.id?(P=e=>{n({type:"update_post",postId:s.id,postAction:e})},t[6]=n,t[7]=s.id,t[8]=P):P=t[8];const T=P;let L;t[9]!==T?(L=e=>{T({type:"embed_add_images",images:e})},t[9]=T,t[10]=L):L=t[10];const A=L;let I;t[11]!==T?(I=e=>{T({type:"embed_add_uri",uri:e})},t[11]=T,t[12]=I):I=t[12];const R=I;let D;t[13]!==_||t[14]!==A||t[15]!==h||t[16]!==s.id?(D=async e=>{if(e.startsWith("data:video/")||e.startsWith("data:image/gif")){if(kt)return;const[t]=e.slice(5).split(";");if(!Ui.includes(t))return void Zu(_({id:"joNgVw"}),"xmark");const n=`pasted.${D4(t)}`,o=await fetch(e).then(m7).then((e=>new File([e],n,{type:t})));h(s.id,await p6(o))}else{const t=await tm(e);A([t])}},t[13]=_,t[14]=A,t[15]=h,t[16]=s.id,t[17]=D):D=t[17];const F=D,E=!r&&i7.inactivePost,M=v&&kt&&kl.flex_grow;let B,O;t[18]!==E||t[19]!==M?(B=[kl.mx_lg,E,M],t[18]=E,t[19]=M,t[20]=B):B=t[20],t[21]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.flex_row,kt&&kl.flex_1],t[21]=O):O=t[21];const z=b?.avatar,H=b?.associated?.labeler?"labeler":"user";let N,V,q,U,W,Z,Q,K,$,G,Y,J,X;return t[22]===Symbol.for("react.memo_cache_sentinel")?(N=[kl.mt_xs],t[22]=N):N=t[22],t[23]!==z||t[24]!==H?(V=(0,Ft.jsx)(mP,{avatar:z,size:50,type:H,style:N}),t[23]=z,t[24]=H,t[25]=V):V=t[25],t[26]===Symbol.for("react.memo_cache_sentinel")?(q=[kl.pt_xs],t[26]=q):q=t[26],t[27]!==T?(U=e=>{T({type:"update_richtext",richtext:e})},t[27]=T,t[28]=U):U=t[28],t[29]!==n||t[30]!==s.id?(W=()=>{n({type:"focus_post",postId:s.id})},t[29]=n,t[30]=s.id,t[31]=W):W=t[31],t[32]!==_?(Z=_({id:"y02THm"}),t[32]=_,t[33]=Z):Z=t[33],t[34]!==_?(Q=_({id:"I5wVwm",values:{0:ai||0}}),t[34]=_,t[35]=Q):Q=t[35],t[36]!==w||t[37]!==r||t[38]!==c||t[39]!==p||t[40]!==R||t[41]!==F||t[42]!==f||t[43]!==j||t[44]!==k||t[45]!==U||t[46]!==W||t[47]!==Z||t[48]!==Q||t[49]!==o?(K=(0,Ft.jsx)(l6,{ref:o,style:q,richtext:j,placeholder:k,autoFocus:!0,webForceMinHeight:w,hasRightPadding:c,isActive:r,setRichText:U,onFocus:W,onPhotoPasted:F,onNewLink:R,onError:p,onPressPublish:f,accessible:!0,accessibilityLabel:Z,accessibilityHint:Q}),t[36]=w,t[37]=r,t[38]=c,t[39]=p,t[40]=R,t[41]=F,t[42]=f,t[43]=j,t[44]=k,t[45]=U,t[46]=W,t[47]=Z,t[48]=Q,t[49]=o,t[50]=K):K=t[50],t[51]!==V||t[52]!==K?($=(0,Ft.jsxs)(wo.default,{style:O,children:[V,K]}),t[51]=V,t[52]=K,t[53]=$):$=t[53],t[54]!==_||t[55]!==d||t[56]!==C||t[57]!==n||t[58]!==r||t[59]!==s.embed.link||t[60]!==s.embed.media||t[61]!==s.embed.quote||t[62]!==s.id||t[63]!==s.shortenedGraphemeLength?(G=d&&r&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Sr,{label:_({id:"04G5Az"}),size:"small",color:"secondary",variant:"ghost",shape:"round",style:[kl.absolute,{top:0,right:0}],onPress:()=>{s.shortenedGraphemeLength>0||s.embed.media||s.embed.link||s.embed.quote?C.open():n({type:"remove_post",postId:s.id})},children:(0,Ft.jsx)(Pr,{icon:Hr})}),(0,Ft.jsx)(bx,{control:C,title:_({id:"GO/HSz"}),description:_({id:"tSFn/S"}),onConfirm:()=>{n({type:"remove_post",postId:s.id})},confirmButtonCta:_({id:"bzSI52"}),confirmButtonColor:"negative"})]}),t[54]=_,t[55]=d,t[56]=C,t[57]=n,t[58]=r,t[59]=s.embed.link,t[60]=s.embed.media,t[61]=s.embed.quote,t[62]=s.id,t[63]=s.shortenedGraphemeLength,t[64]=G):G=t[64],t[65]!==m||t[66]!==s.id?(Y=()=>m(s.id),t[65]=m,t[66]=s.id,t[67]=Y):Y=t[67],t[68]!==u||t[69]!==T||t[70]!==r||t[71]!==s.embed||t[72]!==Y?(J=(0,Ft.jsx)(K6,{canRemoveQuote:u,embed:s.embed,dispatch:T,clearVideo:Y,isActivePost:r}),t[68]=u,t[69]=T,t[70]=r,t[71]=s.embed,t[72]=Y,t[73]=J):J=t[73],t[74]!==$||t[75]!==G||t[76]!==J||t[77]!==B?(X=(0,Ft.jsxs)(wo.default,{style:B,children:[$,G,J]}),t[74]=$,t[75]=G,t[76]=J,t[77]=B,t[78]=X):X=t[78],X}));function Z6(e){const t=(0,i.c)(29),{canPost:s,isReply:n,isPublishQueued:o,isPublishing:r,isThread:a,publishingStage:l,onCancel:c,onPublish:d,topBarAnimatedStyle:u,children:m}=e,h=mx("default"),{_:p}=(0,ft.useLingui)();let f,g,x,_,y,b,j,v,w,S;return t[0]===Symbol.for("react.memo_cache_sentinel")?(f=jo(ko.LinearTransition),t[0]=f):f=t[0],t[1]!==p?(g=p({id:"dEgA5A"}),t[1]=p,t[2]=g):g=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.rounded_full,kl.py_sm,{paddingLeft:7,paddingRight:7}],t[3]=x):x=t[3],t[4]!==p?(_=p({id:"T6Lu6i"}),t[4]=p,t[5]=_):_=t[5],t[6]===Symbol.for("react.memo_cache_sentinel")?(y=(0,Ft.jsx)(Cr,{style:[kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"dEgA5A"})}),t[6]=y):y=t[6],t[7]!==c||t[8]!==g||t[9]!==_?(b=(0,Ft.jsx)(Sr,{label:g,variant:"ghost",color:"primary",shape:"default",size:"small",style:x,onPress:c,accessibilityHint:_,children:y}),t[7]=c,t[8]=g,t[9]=_,t[10]=b):b=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(wo.default,{style:kl.flex_1}),t[11]=j):j=t[11],t[12]!==p||t[13]!==s||t[14]!==o||t[15]!==r||t[16]!==n||t[17]!==a||t[18]!==d||t[19]!==h||t[20]!==l?(v=r?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Tx,{style:h.textLight,children:l}),(0,Ft.jsx)(wo.default,{style:i7.postBtn,children:(0,Ft.jsx)(Fx.default,{})})]}):(0,Ft.jsx)(Sr,{testID:"composerPublishBtn",label:p(n?a?{id:"Xwksg4"}:{id:"kuKtuE"}:a?{id:"cMJC0Z"}:{id:"Tj/Adz"}),variant:"solid",color:"primary",shape:"default",size:"small",style:[kl.rounded_full,kl.py_sm],onPress:d,disabled:!s||o,children:(0,Ft.jsx)(Cr,{style:[kl.text_md],children:n?(0,Ft.jsx)(ft.Trans,{id:"J7WWNk"}):a?(0,Ft.jsx)(ft.Trans,{id:"jSgBvX"}):(0,Ft.jsx)(ft.Trans,{id:"B47227"})})}),t[12]=p,t[13]=s,t[14]=o,t[15]=r,t[16]=n,t[17]=a,t[18]=d,t[19]=h,t[20]=l,t[21]=v):v=t[21],t[22]!==b||t[23]!==v?(w=(0,Ft.jsxs)(wo.default,{style:i7.topbarInner,children:[b,j,v]}),t[22]=b,t[23]=v,t[24]=w):w=t[24],t[25]!==m||t[26]!==w||t[27]!==u?(S=(0,Ft.jsxs)(ko.default.View,{style:u,layout:f,children:[w,m]}),t[25]=m,t[26]=w,t[27]=u,t[28]=S):S=t[28],S}function Q6(e){const t=(0,i.c)(11),{error:s}=e,n=mx("default");let o,r,a,l,c;return t[0]!==n.viewLight?(o=[i7.reminderLine,n.viewLight],t[0]=n.viewLight,t[1]=o):o=t[1],t[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(wo.default,{style:i7.errorIcon,children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"exclamation",style:{color:sc.red4},size:10})}),t[2]=r):r=t[2],t[3]!==n.text?(a=[n.text,kl.flex_1],t[3]=n.text,t[4]=a):a=t[4],t[5]!==s||t[6]!==a?(l=(0,Ft.jsx)(Tx,{style:a,children:s}),t[5]=s,t[6]=a,t[7]=l):l=t[7],t[8]!==o||t[9]!==l?(c=(0,Ft.jsxs)(wo.default,{style:o,children:[r,l]}),t[8]=o,t[9]=l,t[10]=c):c=t[10],c}function K6(e){const t=(0,i.c)(29),{embed:s,dispatch:n,clearVideo:o,canRemoveQuote:r,isActivePost:a}=e,l="video"===s.media?.type?s.media.video:null;let c,d,u,m,h,p,f;return t[0]!==n||t[1]!==s.media?(c="images"===s.media?.type&&(0,Ft.jsx)(U4,{images:s.media.images,dispatch:n}),t[0]=n,t[1]=s.media,t[2]=c):c=t[2],t[3]!==n||t[4]!==s.media?(d="gif"===s.media?.type&&(0,Ft.jsxs)(wo.default,{style:[kl.relative,kl.mt_lg],children:[(0,Ft.jsx)(O4,{gif:s.media.gif,onRemove:()=>n({type:"embed_remove_gif"})}),(0,Ft.jsx)($4,{gif:s.media.gif,altText:s.media.alt??"",onSubmit:e=>{n({type:"embed_update_gif",alt:e})}})]},s.media.gif.url),t[3]=n,t[4]=s.media,t[5]=d):d=t[5],t[6]!==n||t[7]!==s.link||t[8]!==s.media||t[9]!==s.quote?(u=!s.media&&s.link&&(0,Ft.jsx)(wo.default,{style:[kl.relative,kl.mt_lg],children:(0,Ft.jsx)(z4,{uri:s.link.uri,hasQuote:!!s.quote,onRemove:()=>n({type:"embed_remove_link"})})},s.link.uri),t[6]=n,t[7]=s.link,t[8]=s.media,t[9]=s.quote,t[10]=u):u=t[10],t[11]!==o||t[12]!==n||t[13]!==a||t[14]!==l?(m=l&&(0,Ft.jsxs)(ko.default.View,{style:[kl.w_full,kl.mt_lg],entering:jo(ko.ZoomIn),exiting:jo(ko.ZoomOut),children:[l.asset&&("compressing"===l.status?(0,Ft.jsx)(C6,{asset:l.asset,progress:l.progress,clear:o}):l.video?(0,Ft.jsx)(S6,{asset:l.asset,video:l.video,isActivePost:a,clear:o}):null),(0,Ft.jsx)(_6,{defaultAltText:l.altText,saveAltText:e=>n({type:"embed_update_video",videoAction:{type:"update_alt_text",altText:e,signal:l.abortController.signal}}),captions:l.captions,setCaptions:e=>{n({type:"embed_update_video",videoAction:{type:"update_captions",updater:e,signal:l.abortController.signal}})}})]}),t[11]=o,t[12]=n,t[13]=a,t[14]=l,t[15]=m):m=t[15],t[16]!==m?(h=(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipExiting:!0,children:m}),t[16]=m,t[17]=h):h=t[17],t[18]!==r||t[19]!==n||t[20]!==s.quote||t[21]!==l?(p=s.quote?.uri?(0,Ft.jsx)(wo.default,{style:l?[]:[kl.mt_md],children:(0,Ft.jsxs)(wo.default,{style:[oc.mt5,oc.mb2,Pt&&oc.mb10],children:[(0,Ft.jsx)(wo.default,{style:{pointerEvents:"none"},children:(0,Ft.jsx)(yD,{uri:s.quote.uri})}),r&&(0,Ft.jsx)(_D,{onRemove:()=>n({type:"embed_remove_quote"})})]})}):null,t[18]=r,t[19]=n,t[20]=s.quote,t[21]=l,t[22]=p):p=t[22],t[23]!==c||t[24]!==d||t[25]!==u||t[26]!==h||t[27]!==p?(f=(0,Ft.jsxs)(Ft.Fragment,{children:[c,d,u,h,p]}),t[23]=c,t[24]=d,t[25]=u,t[26]=h,t[27]=p,t[28]=f):f=t[28],f}function $6(e){const t=(0,i.c)(21),{isReply:s,thread:n,post:o,dispatch:r,bottomBarAnimatedStyle:a}=e,l=ec(),c=o.embed.media,d="images"===c?.type||"video"===c?.type,u=!!o.embed.link;if(s&&!d&&!u)return null;let m,h,p,f,g,x;return t[0]!==a||t[1]!==l.atoms.bg?(m=[kl.flex_row,kl.p_sm,l.atoms.bg,a],t[0]=a,t[1]=l.atoms.bg,t[2]=m):m=t[2],t[3]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.gap_sm],t[3]=h):h=t[3],t[4]!==a||t[5]!==r||t[6]!==s||t[7]!==n?(p=s?null:(0,Ft.jsx)(m6,{postgate:n.postgate,onChangePostgate:e=>{r({type:"update_postgate",postgate:e})},threadgateAllowUISettings:n.threadgate,onChangeThreadgateAllowUISettings:e=>{r({type:"update_threadgate",threadgate:e})},style:a}),t[4]=a,t[5]=r,t[6]=s,t[7]=n,t[8]=p):p=t[8],t[9]!==r||t[10]!==u||t[11]!==d||t[12]!==o.id||t[13]!==o.labels?(f=d||u?(0,Ft.jsx)(J4,{labels:o.labels,onChange:e=>{r({type:"update_post",postId:o.id,postAction:{type:"update_labels",labels:e}})}}):null,t[9]=r,t[10]=u,t[11]=d,t[12]=o.id,t[13]=o.labels,t[14]=f):f=t[14],t[15]!==p||t[16]!==f?(g=(0,Ft.jsxs)(Sw.default,{contentContainerStyle:h,horizontal:!0,bounces:!1,keyboardShouldPersistTaps:"always",showsHorizontalScrollIndicator:!1,children:[p,f]}),t[15]=p,t[16]=f,t[17]=g):g=t[17],t[18]!==m||t[19]!==g?(x=(0,Ft.jsx)(ko.default.View,{style:m,children:g}),t[18]=m,t[19]=g,t[20]=x):x=t[20],x}function G6(e){const t=(0,i.c)(41),{post:s,dispatch:n,showAddButton:o,onEmojiButtonPress:r,onError:a,onSelectVideo:l,onAddPost:c}=e,d=ec(),{_:u}=(0,ft.useLingui)(),{isMobile:m}=jx(),h=s.embed.media;let p;t[0]!==h?(p="images"===h?.type?h.images:[],t[0]=h,t[1]=p):p=t[1];const f=p,g="video"===h?.type?h.video:null,x=f.length>=H6;let _;t[2]!==n?(_=e=>{n({type:"embed_add_images",images:e})},t[2]=n,t[3]=_):_=t[3];const y=_;let b;t[4]!==n?(b=e=>{n({type:"embed_add_gif",gif:e})},t[4]=n,t[5]=b):b=t[5];const j=b;let v,w,S,k,C,P,T,L,A,I,R;return t[6]===Symbol.for("react.memo_cache_sentinel")?(v={paddingLeft:7,paddingRight:16},t[6]=v):v=t[6],t[7]!==d.atoms.bg||t[8]!==d.atoms.border_contrast_medium?(w=[kl.flex_row,kl.py_xs,v,kl.align_center,kl.border_t,d.atoms.bg,d.atoms.border_contrast_medium,kl.justify_between],t[7]=d.atoms.bg,t[8]=d.atoms.border_contrast_medium,t[9]=w):w=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(S=[kl.flex_row,kl.align_center],t[10]=S):S=t[10],t[11]!==u||t[12]!==f.length||t[13]!==x||t[14]!==m||t[15]!==h||t[16]!==r||t[17]!==a||t[18]!==y||t[19]!==j||t[20]!==l||t[21]!==s.id||t[22]!==g?(k=(0,Ft.jsx)(wo.default,{style:S,children:(0,Ft.jsx)(ko.LayoutAnimationConfig,{skipEntering:!0,skipExiting:!0,children:g&&"done"!==g.status?(0,Ft.jsx)(u7,{state:g}):(0,Ft.jsxs)(l7,{style:[kl.flex_row,kl.align_center,kl.gap_xs],children:[(0,Ft.jsx)(j5,{size:f.length,disabled:"images"===h?.type?x:!!h,onAdd:y}),(0,Ft.jsx)(f6,{onSelectVideo:e=>l(s.id,e),disabled:!!h,setError:a}),(0,Ft.jsx)(s5,{disabled:"images"===h?.type?x:!!h,onAdd:y}),(0,Ft.jsx)(b5,{onSelectGif:j,disabled:!!h}),m?null:(0,Ft.jsx)(Sr,{onPress:r,style:kl.p_sm,label:u({id:"yovQyJ"}),accessibilityHint:u({id:"7neHVa"}),variant:"ghost",shape:"round",color:"primary",children:(0,Ft.jsx)(CB,{size:"lg"})})]})})}),t[11]=u,t[12]=f.length,t[13]=x,t[14]=m,t[15]=h,t[16]=r,t[17]=a,t[18]=y,t[19]=j,t[20]=l,t[21]=s.id,t[22]=g,t[23]=k):k=t[23],t[24]===Symbol.for("react.memo_cache_sentinel")?(C=[kl.flex_row,kl.align_center,kl.justify_between],t[24]=C):C=t[24],t[25]!==u||t[26]!==c||t[27]!==o||t[28]!==d.palette?(P=o&&(0,Ft.jsx)(Sr,{label:u({id:"DePCTM"}),onPress:c,style:[kl.p_sm,kl.m_2xs],variant:"ghost",shape:"round",color:"primary",children:(0,Ft.jsx)(Nu.FontAwesomeIcon,{icon:"add",size:20,color:d.palette.primary_500})}),t[25]=u,t[26]=c,t[27]=o,t[28]=d.palette,t[29]=P):P=t[29],t[30]===Symbol.for("react.memo_cache_sentinel")?(T=(0,Ft.jsx)(R5,{}),t[30]=T):T=t[30],t[31]===Symbol.for("react.memo_cache_sentinel")?(L={width:65},t[31]=L):L=t[31],t[32]!==s.shortenedGraphemeLength?(A=(0,Ft.jsx)(fL,{count:s.shortenedGraphemeLength,style:L}),t[32]=s.shortenedGraphemeLength,t[33]=A):A=t[33],t[34]!==A||t[35]!==P?(I=(0,Ft.jsxs)(wo.default,{style:C,children:[P,T,A]}),t[34]=A,t[35]=P,t[36]=I):I=t[36],t[37]!==I||t[38]!==w||t[39]!==k?(R=(0,Ft.jsxs)(wo.default,{style:w,children:[k,I]}),t[37]=I,t[38]=w,t[39]=k,t[40]=R):R=t[40],R}const Y6={code:"function ComposerTsx1(){const{withTiming,contentOffset}=this.__closure;return withTiming(contentOffset.get()===0?1:0);}"},J6={code:"function ComposerTsx2(){const{withTiming,contentHeight,contentOffset,scrollViewHeight}=this.__closure;return withTiming(contentHeight.get()-contentOffset.get()-5<=scrollViewHeight.get()?1:0);}"},X6={code:'function ComposerTsx3(t2){const{contentHeight,contentOffset,scrollViewHeight}=this.__closure;const{newContentHeight:newContentHeight,newContentOffset:newContentOffset,newScrollViewHeight:newScrollViewHeight}=t2;if(typeof newContentHeight==="number"){contentHeight.set(Math.floor(newContentHeight));}if(typeof newContentOffset==="number"){contentOffset.set(Math.floor(newContentOffset));}if(typeof newScrollViewHeight==="number"){scrollViewHeight.set(Math.floor(newScrollViewHeight));}}'},e7={code:"function ComposerTsx4(event){const{showHideBottomBorder}=this.__closure;showHideBottomBorder({newContentOffset:event.contentOffset.y,newContentHeight:event.contentSize.height,newScrollViewHeight:event.layoutMeasurement.height});}"},t7={code:"function ComposerTsx5(newContentHeight_0){const{contentHeight,stickyBottom,contentOffset,scrollViewHeight,showHideBottomBorder,scrollTo,scrollViewRef}=this.__closure;const oldContentHeight=contentHeight.get();let shouldScrollToBottom=false;if(stickyBottom&&newContentHeight_0>oldContentHeight){const isFairlyCloseToBottom=oldContentHeight-contentOffset.get()-100<=scrollViewHeight.get();if(isFairlyCloseToBottom){shouldScrollToBottom=true;}}showHideBottomBorder({newContentHeight:newContentHeight_0});if(shouldScrollToBottom){scrollTo(scrollViewRef,0,newContentHeight_0,true);}}"},s7={code:'function ComposerTsx6(){const{StyleSheet,interpolateColor,hasScrolledToTop,t}=this.__closure;return{borderBottomWidth:StyleSheet.hairlineWidth,borderColor:interpolateColor(hasScrolledToTop.get(),[0,1],[t.atoms.border_contrast_medium.borderColor,"transparent"])};}'},n7={code:'function ComposerTsx7(){const{StyleSheet,interpolateColor,hasScrolledToBottom,t}=this.__closure;return{borderTopWidth:StyleSheet.hairlineWidth,borderColor:interpolateColor(hasScrolledToBottom.get(),[0,1],[t.atoms.border_contrast_medium.borderColor,"transparent"])};}'};async function o7(e,t,s){await lg(5,1e3,s,(()=>e.app.bsky.feed.getPostThread({uri:t,depth:0})))}function r7(e){return 0===e.richtext.text.trim().length&&!e.embed.media&&!e.embed.link&&!e.embed.quote}const i7=Gn.default.create({topbarInner:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,height:54,gap:4},postBtn:{borderRadius:20,paddingHorizontal:20,paddingVertical:6,marginLeft:12},stickyFooterWeb:_o({position:"sticky",bottom:0}),errorLine:{flexDirection:"row",alignItems:"center",backgroundColor:sc.red1,borderRadius:6,marginHorizontal:16,paddingHorizontal:12,paddingVertical:10,marginBottom:8},reminderLine:{flexDirection:"row",alignItems:"center",borderRadius:6,marginHorizontal:16,paddingHorizontal:8,paddingVertical:6,marginBottom:8},errorIcon:{borderWidth:Gn.default.hairlineWidth,borderColor:sc.red4,color:sc.red4,borderRadius:30,width:16,height:16,alignItems:"center",justifyContent:"center",marginRight:5},inactivePost:{opacity:.5},addExtLinkBtn:{borderWidth:1,borderRadius:24,paddingHorizontal:16,paddingVertical:12,marginHorizontal:10,marginBottom:4}});function a7(e){const t=(0,i.c)(32),{error:s,videoState:n,clearError:o,clearVideo:r}=e,a=ec(),{_:l}=(0,ft.useLingui)(),c="error"===n.status?n.error:void 0,d=s||c;let u;t[0]!==o||t[1]!==r||t[2]!==s?(u=()=>{s?o():r()},t[0]=o,t[1]=r,t[2]=s,t[3]=u):u=t[3];const m=u;if(!d)return null;let h,p,f,g,x,_,y,b,j,v,w,S,k;return t[4]===Symbol.for("react.memo_cache_sentinel")?(h=[kl.px_lg,kl.pb_sm],t[4]=h):h=t[4],t[5]!==a.atoms.bg_contrast_25?(p=[kl.px_md,kl.py_sm,kl.gap_xs,kl.rounded_sm,a.atoms.bg_contrast_25],t[5]=a.atoms.bg_contrast_25,t[6]=p):p=t[6],t[7]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.relative,kl.flex_row,kl.gap_sm,{paddingRight:48}],t[7]=f):f=t[7],t[8]!==a.palette.negative_400?(g=(0,Ft.jsx)(Ij,{fill:a.palette.negative_400}),t[8]=a.palette.negative_400,t[9]=g):g=t[9],t[10]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.flex_1,kl.leading_snug,{paddingTop:1}],t[10]=x):x=t[10],t[11]!==d?(_=(0,Ft.jsx)(fr,{style:x,children:d}),t[11]=d,t[12]=_):_=t[12],t[13]!==l?(y=l({id:"OguSgH"}),t[13]=l,t[14]=y):y=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.absolute,{top:0,right:0}],t[15]=b):b=t[15],t[16]===Symbol.for("react.memo_cache_sentinel")?(j=(0,Ft.jsx)(Pr,{icon:Hr}),t[16]=j):j=t[16],t[17]!==m||t[18]!==y?(v=(0,Ft.jsx)(Sr,{label:y,size:"tiny",color:"secondary",variant:"ghost",shape:"round",style:b,onPress:m,children:j}),t[17]=m,t[18]=y,t[19]=v):v=t[19],t[20]!==v||t[21]!==g||t[22]!==_?(w=(0,Ft.jsxs)(wo.default,{style:f,children:[g,_,v]}),t[20]=v,t[21]=g,t[22]=_,t[23]=w):w=t[23],t[24]!==a.atoms.text_contrast_low||t[25]!==c||t[26]!==n.jobId?(S=c&&n.jobId&&(0,Ft.jsx)(fr,{style:[{paddingLeft:28},kl.text_xs,kl.font_bold,kl.leading_snug,a.atoms.text_contrast_low],children:(0,Ft.jsx)(ft.Trans,{id:"FXAlGM",values:{0:n.jobId}})}),t[24]=a.atoms.text_contrast_low,t[25]=c,t[26]=n.jobId,t[27]=S):S=t[27],t[28]!==w||t[29]!==S||t[30]!==p?(k=(0,Ft.jsx)(ko.default.View,{style:h,entering:ko.FadeIn,exiting:ko.FadeOut,children:(0,Ft.jsxs)(wo.default,{style:p,children:[w,S]})}),t[28]=w,t[29]=S,t[30]=p,t[31]=k):k=t[31],k}function l7(e){const t=(0,i.c)(5),{style:s,children:n}=e;if(Pt)return n;let o,r,a;return t[0]===Symbol.for("react.memo_cache_sentinel")?(o=ko.FadeIn.duration(400),r=ko.FadeOut.duration(400),t[0]=o,t[1]=r):(o=t[0],r=t[1]),t[2]!==n||t[3]!==s?(a=(0,Ft.jsx)(ko.default.View,{style:s,entering:o,exiting:r,children:n}),t[2]=n,t[3]=s,t[4]=a):a=t[4],a}const c7={code:"function ComposerTsx8(){const{shouldRotate,withRepeat,withTiming,Easing}=this.__closure;if(shouldRotate){return withRepeat(withTiming(360,{duration:2500,easing:Easing.out(Easing.cubic)}),-1);}return 0;}"},d7={code:'function ComposerTsx9(){const{rotate}=this.__closure;return{transform:[{rotateZ:rotate.get()+"deg"}]};}'};function u7(e){const t=(0,i.c)(26),{state:s}=e,n=ec(),{_:o}=(0,ft.useLingui)(),r=s.progress,a="processing"===s.status&&(0===r||1===r);let l=a?.33:r;const c=(0,ko.useDerivedValue)(function(){const e=function(){return a?(0,ko.withRepeat)((0,ko.withTiming)(360,{duration:2500,easing:ko.Easing.out(ko.Easing.cubic)}),-1):0};return e.__closure={shouldRotate:a,withRepeat:ko.withRepeat,withTiming:ko.withTiming,Easing:ko.Easing},e.__workletHash=7236121799964,e.__initData=c7,e}()),d=(0,ko.useAnimatedStyle)(function(){const e=()=>({transform:[{rotateZ:`${c.get()}deg`}]});return e.__closure={rotate:c},e.__workletHash=0xcf6f341868e,e.__initData=d7,e}());let u,m,h="";e:switch(s.status){case"compressing":{let e;t[0]!==o?(e=o({id:"3dFGci"}),t[0]=o,t[1]=e):e=t[1],h=e;break e}case"uploading":{let e;t[2]!==o?(e=o({id:"V0ze9H"}),t[2]=o,t[3]=e):e=t[3],h=e;break e}case"processing":{let e;t[4]!==o?(e=o({id:"a2EUhY"}),t[4]=o,t[5]=e):e=t[5],h=e;break e}case"error":{let e;t[6]!==o?(e=o({id:"SlfejT"}),t[6]=o,t[7]=e):e=t[7],h=e,l=100;break e}case"done":{let e;t[8]!==o?(e=o({id:"BvRfXd"}),t[8]=o,t[9]=e):e=t[9],h=e}}t[10]===Symbol.for("react.memo_cache_sentinel")?(u=[kl.flex_row,kl.align_center,{paddingVertical:5}],t[10]=u):u=t[10],t[11]!==d?(m=[d],t[11]=d,t[12]=m):m=t[12];const p="error"===s.status?n.palette.negative_500:n.palette.primary_500;let f,g,x,_,y;return t[13]!==n.atoms.border_contrast_low.borderColor||t[14]!==p||t[15]!==l?(f=(0,Ft.jsx)(hL.default,{size:30,borderWidth:1,borderColor:n.atoms.border_contrast_low.borderColor,color:p,progress:l}),t[13]=n.atoms.border_contrast_low.borderColor,t[14]=p,t[15]=l,t[16]=f):f=t[16],t[17]!==m||t[18]!==f?(g=(0,Ft.jsx)(ko.default.View,{style:m,children:f}),t[17]=m,t[18]=f,t[19]=g):g=t[19],t[20]===Symbol.for("react.memo_cache_sentinel")?(x=[kl.font_bold,kl.ml_sm],t[20]=x):x=t[20],t[21]!==h?(_=(0,Ft.jsx)(fr,{style:x,children:h}),t[21]=h,t[22]=_):_=t[22],t[23]!==g||t[24]!==_?(y=(0,Ft.jsxs)(l7,{style:u,children:[g,_]}),t[23]=g,t[24]=_,t[25]=y):y=t[25],y}function m7(e){return e.blob()}function h7(e){const t=(0,i.c)(3),s=mt.useContext(Fm);if(!!!s)return null;let n,o;return t[0]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(Fo.RemoveScrollBar,{}),t[0]=n):n=t[0],t[1]!==s?(o=(0,Ft.jsxs)(Ft.Fragment,{children:[n,(0,Ft.jsx)(p7,{state:s})]}),t[1]=s,t[2]=o):o=t[2],o}function p7(e){const t=(0,i.c)(33),{state:s}=e,n=(0,mt.useRef)(null),{isModalActive:o}=Wd(),r=ec(),{gtMobile:a}=ql(),{reduceMotionEnabled:l}=Bo();let c;t[0]===Symbol.for("react.memo_cache_sentinel")?(c={isOpen:!1,pos:{top:0,left:0,right:0,bottom:0,nextFocusRef:null}},t[0]=c):c=t[0];const[d,u]=mt.useState(c);let m;t[1]===Symbol.for("react.memo_cache_sentinel")?(m=e=>{e&&u({isOpen:!0,pos:e})},t[1]=m):m=t[1];const h=m;let p;t[2]===Symbol.for("react.memo_cache_sentinel")?(p=()=>{u(x7)},t[2]=p):p=t[2];const f=p;let g,x;Io.useFocusGuards(),t[3]!==l?(g=Wl([{position:"fixed"},kl.inset_0,{backgroundColor:"#000c"},kl.flex,kl.flex_col,kl.align_center,!l&&kl.fade_in]),t[3]=l,t[4]=g):g=t[4],t[5]!==o||t[6]!==n?(x=()=>{o||n.current?.onPressCancel()},t[5]=o,t[6]=n,t[7]=x):x=t[7];const _=!a&&_7.containerMobile;let y,b,j,v,w,S;return t[8]!==l?(y=!l&&[kl.zoom_fade_in,{animationDelay:.1},{animationFillMode:"backwards"}],t[8]=l,t[9]=y):y=t[9],t[10]!==r.atoms.bg||t[11]!==r.atoms.border_contrast_medium||t[12]!==_||t[13]!==y?(b=[_7.container,_,r.atoms.bg,r.atoms.border_contrast_medium,y],t[10]=r.atoms.bg,t[11]=r.atoms.border_contrast_medium,t[12]=_,t[13]=y,t[14]=b):b=t[14],t[15]!==n||t[16]!==s.imageUris||t[17]!==s.mention||t[18]!==s.onPost||t[19]!==s.quote||t[20]!==s.replyTo||t[21]!==s.text?(j=(0,Ft.jsx)(U6,{cancelRef:n,replyTo:s.replyTo,quote:s.quote,onPost:s.onPost,mention:s.mention,openEmojiPicker:h,text:s.text,imageUris:s.imageUris}),t[15]=n,t[16]=s.imageUris,t[17]=s.mention,t[18]=s.onPost,t[19]=s.quote,t[20]=s.replyTo,t[21]=s.text,t[22]=j):j=t[22],t[23]!==b||t[24]!==j?(v=(0,Ft.jsx)(wo.default,{style:b,children:j}),t[23]=b,t[24]=j,t[25]=v):v=t[25],t[26]!==d?(w=(0,Ft.jsx)(J$,{state:d,close:f}),t[26]=d,t[27]=w):w=t[27],t[28]!==v||t[29]!==w||t[30]!==g||t[31]!==x?(S=(0,Ft.jsx)(Do.FocusScope,{loop:!0,trapped:!0,asChild:!0,children:(0,Ft.jsxs)(Ro.DismissableLayer,{role:"dialog","aria-modal":!0,style:g,onFocusOutside:g7,onInteractOutside:f7,onDismiss:x,children:[v,w]})}),t[28]=v,t[29]=w,t[30]=g,t[31]=x,t[32]=S):S=t[32],S}function f7(e){return e.preventDefault()}function g7(e){return e.preventDefault()}function x7(e){return Object.assign({},e,{isOpen:!1})}const _7=Gn.default.create({container:{marginTop:50,maxWidth:600,width:"100%",paddingVertical:0,borderRadius:8,marginBottom:0,borderWidth:1,maxHeight:"calc(100% - (40px * 2))",overflow:"hidden"},containerMobile:{borderRadius:0,marginBottom:61,maxHeight:"calc(100% - 61px)"}}),y7=26;let b7=e=>{const t=(0,i.c)(65),{account:s,onPressProfile:n}=e,{_:o,i18n:r}=(0,ft.useLingui)(),a=ec();let l;t[0]!==s.did?(l={did:s.did},t[0]=s.did,t[1]=l):l=t[1];const{data:c}=ub(l);let d;t[2]!==c?(d={profile:c},t[2]=c,t[3]=d):d=t[3];const u=Nk(d),{isActive:m}=nS(c);let h,p,f;t[4]!==o?(h=o({id:"vERlcd"}),t[4]=o,t[5]=h):h=t[5],t[6]!==o?(p=o({id:"bFwIBS"}),t[6]=o,t[7]=p):p=t[7],t[8]===Symbol.for("react.memo_cache_sentinel")?(f=[kl.gap_sm,kl.pr_lg],t[8]=f):f=t[8];const g=c?.avatar,x=c?.associated?.labeler?"labeler":"user";let _,y,b,j;t[9]!==m||t[10]!==g||t[11]!==x?(_=(0,Ft.jsx)(mP,{size:52,avatar:g,usePlainRNImage:!0,type:x,live:m}),t[9]=m,t[10]=g,t[11]=x,t[12]=_):_=t[12],t[13]===Symbol.for("react.memo_cache_sentinel")?(y=[kl.gap_2xs],t[13]=y):y=t[13],t[14]===Symbol.for("react.memo_cache_sentinel")?(b=[kl.flex_row,kl.align_center,kl.gap_xs,kl.flex_1],t[14]=b):b=t[14],t[15]===Symbol.for("react.memo_cache_sentinel")?(j=[kl.font_heavy,kl.text_xl,kl.mt_2xs,kl.leading_tight],t[15]=j):j=t[15];const v=c?.displayName||s.handle;let w,S,k,C,P,T,L,A;t[16]!==v?(w=(0,Ft.jsx)(fr,{emoji:!0,style:j,numberOfLines:1,children:v}),t[16]=v,t[17]=w):w=t[17],t[18]!==u.role||t[19]!==u.showBadge?(S=u.showBadge&&(0,Ft.jsx)(wo.default,{style:{top:0},children:(0,Ft.jsx)(Qk,{width:16,verifier:"verifier"===u.role})}),t[18]=u.role,t[19]=u.showBadge,t[20]=S):S=t[20],t[21]!==w||t[22]!==S?(k=(0,Ft.jsxs)(wo.default,{style:b,children:[w,S]}),t[21]=w,t[22]=S,t[23]=k):k=t[23],t[24]!==a.atoms.text_contrast_medium?(C=[a.atoms.text_contrast_medium,kl.text_md,kl.leading_tight],t[24]=a.atoms.text_contrast_medium,t[25]=C):C=t[25],t[26]!==s.handle?(P=su(s.handle,"@"),t[26]=s.handle,t[27]=P):P=t[27],t[28]!==C||t[29]!==P?(T=(0,Ft.jsx)(fr,{emoji:!0,style:C,numberOfLines:1,children:P}),t[28]=C,t[29]=P,t[30]=T):T=t[30],t[31]!==k||t[32]!==T?(L=(0,Ft.jsxs)(wo.default,{style:y,children:[k,T]}),t[31]=k,t[32]=T,t[33]=L):L=t[33],t[34]!==a.atoms.text_contrast_medium?(A=[kl.text_md,a.atoms.text_contrast_medium],t[34]=a.atoms.text_contrast_medium,t[35]=A):A=t[35];const I=c?.followersCount??0;let R;t[36]!==r||t[37]!==I?(R=$S(r,I),t[36]=r,t[37]=I,t[38]=R):R=t[38];const D=c?.followersCount||0;let F,E,M;t[39]!==R||t[40]!==D?(F={0:R,1:D},t[39]=R,t[40]=D,t[41]=F):F=t[41],t[42]===Symbol.for("react.memo_cache_sentinel")?(E={0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold]})},t[42]=E):E=t[42],t[43]!==F?(M=(0,Ft.jsx)(ft.Trans,{id:"OHNK79",values:F,components:E}),t[43]=F,t[44]=M):M=t[44];const B=c?.followsCount??0;let O;t[45]!==r||t[46]!==B?(O=$S(r,B),t[45]=r,t[46]=B,t[47]=O):O=t[47];const z=c?.followsCount||0;let H,N,V,q,U;return t[48]!==O||t[49]!==z?(H={0:O,1:z},t[48]=O,t[49]=z,t[50]=H):H=t[50],t[51]===Symbol.for("react.memo_cache_sentinel")?(N={0:(0,Ft.jsx)(fr,{style:[kl.text_md,kl.font_bold]})},t[51]=N):N=t[51],t[52]!==H?(V=(0,Ft.jsx)(ft.Trans,{id:"5ZR3U3",values:H,components:N}),t[52]=H,t[53]=V):V=t[53],t[54]!==A||t[55]!==M||t[56]!==V?(q=(0,Ft.jsxs)(fr,{style:A,children:[M," ","\xb7"," ",V]}),t[54]=A,t[55]=M,t[56]=V,t[57]=q):q=t[57],t[58]!==n||t[59]!==L||t[60]!==h||t[61]!==q||t[62]!==p||t[63]!==_?(U=(0,Ft.jsxs)(Ix.default,{testID:"profileCardButton",accessibilityLabel:h,accessibilityHint:p,onPress:n,style:f,children:[_,L,q]}),t[58]=n,t[59]=L,t[60]=h,t[61]=q,t[62]=p,t[63]=_,t[64]=U):U=t[64],U};b7=mt.memo(b7);let j7=e=>{const t=(0,i.c)(68),s=ec(),n=(0,pt.useSafeAreaInsets)(),o=Ra(),r=(0,va.useNavigation)(),{isAtHome:a,isAtSearch:l,isAtFeeds:c,isAtNotifications:d,isAtMyProfile:u,isAtMessages:m}=IW(),{hasSession:h,currentAccount:p}=xh();let f;t[0]!==p||t[1]!==r||t[2]!==o?(f=e=>{const t=r.getState();if(o(!1),Pt)"MyProfile"===e?r.navigate("Profile",{name:p.handle}):r.navigate(e);else{const s=LP(t,e);s===TP.InsideAtRoot?Rt():s===TP.Inside?r.dispatch(va.StackActions.popToTop()):r.navigate(`${e}Tab`)}},t[0]=p,t[1]=r,t[2]=o,t[3]=f):f=t[3];const g=f;let x;t[4]!==g?(x=()=>g("Home"),t[4]=g,t[5]=x):x=t[5];const _=x;let y;t[6]!==g?(y=()=>g("Search"),t[6]=g,t[7]=y):y=t[7];const b=y;let j;t[8]!==g?(j=()=>g("Messages"),t[8]=g,t[9]=j):j=t[9];const v=j;let w;t[10]!==g?(w=()=>g("Notifications"),t[10]=g,t[11]=w):w=t[11];const S=w;let k;t[12]!==g?(k=()=>{g("MyProfile")},t[12]=g,t[13]=k):k=t[13];const C=k;let P;t[14]!==r||t[15]!==o?(P=()=>{r.navigate("Feeds"),o(!1)},t[14]=r,t[15]=o,t[16]=P):P=t[16];const T=P;let L;t[17]!==r||t[18]!==o?(L=()=>{r.navigate("Lists"),o(!1)},t[17]=r,t[18]=o,t[19]=L):L=t[19];const A=L;let I;t[20]!==r||t[21]!==o?(I=()=>{r.navigate("Settings"),o(!1)},t[20]=r,t[21]=o,t[22]=I):I=t[22];const R=I;let D;t[23]!==p?.email||t[24]!==p?.handle?(D=()=>{Yj.default.openURL(ii({email:p?.email,handle:p?.handle}))},t[23]=p?.email,t[24]=p?.handle,t[25]=D):D=t[25];const F=D,E=D7;let M,B;t[26]!==s.atoms.bg||t[27]!==s.atoms.border_contrast_low?(M=[kl.flex_1,kl.border_r,s.atoms.bg,s.atoms.border_contrast_low],t[26]=s.atoms.bg,t[27]=s.atoms.border_contrast_low,t[28]=M):M=t[28],t[29]===Symbol.for("react.memo_cache_sentinel")?(B=[kl.flex_1],t[29]=B):B=t[29];const O=Math.max(n.top+kl.pt_xl.paddingTop,kl.pt_xl.paddingTop);let z,H,N,V,q,U,W,Z,Q,K,$;return t[30]!==O?(z=[{paddingTop:O}],t[30]=O,t[31]=z):z=t[31],t[32]===Symbol.for("react.memo_cache_sentinel")?(H=[kl.px_xl],t[32]=H):H=t[32],t[33]!==p||t[34]!==h||t[35]!==C?(N=h&&p?(0,Ft.jsx)(b7,{account:p,onPressProfile:C}):(0,Ft.jsx)(wo.default,{style:[kl.pr_xl],children:(0,Ft.jsx)(eK,{})}),t[33]=p,t[34]=h,t[35]=C,t[36]=N):N=t[36],t[37]===Symbol.for("react.memo_cache_sentinel")?(V=(0,Ft.jsx)(Iv,{style:[kl.mt_xl,kl.mb_sm]}),t[37]=V):V=t[37],t[38]!==N?(q=(0,Ft.jsxs)(wo.default,{style:H,children:[N,V]}),t[38]=N,t[39]=q):q=t[39],t[40]!==h||t[41]!==c||t[42]!==a||t[43]!==m||t[44]!==u||t[45]!==d||t[46]!==l||t[47]!==_||t[48]!==A||t[49]!==v||t[50]!==T||t[51]!==S||t[52]!==C||t[53]!==b||t[54]!==R?(U=h?(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(w7,{isActive:l,onPress:b}),(0,Ft.jsx)(S7,{isActive:a,onPress:_}),(0,Ft.jsx)(k7,{isActive:m,onPress:v}),(0,Ft.jsx)(C7,{isActive:d,onPress:S}),(0,Ft.jsx)(P7,{isActive:c,onPress:T}),(0,Ft.jsx)(T7,{onPress:A}),(0,Ft.jsx)(L7,{isActive:u,onPress:C}),(0,Ft.jsx)(A7,{onPress:R})]}):(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(S7,{isActive:a,onPress:_}),(0,Ft.jsx)(P7,{isActive:c,onPress:T}),(0,Ft.jsx)(w7,{isActive:l,onPress:b})]}),t[40]=h,t[41]=c,t[42]=a,t[43]=m,t[44]=u,t[45]=d,t[46]=l,t[47]=_,t[48]=A,t[49]=v,t[50]=T,t[51]=S,t[52]=C,t[53]=b,t[54]=R,t[55]=U):U=t[55],t[56]===Symbol.for("react.memo_cache_sentinel")?(W=[kl.px_xl],t[56]=W):W=t[56],t[57]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsxs)(wo.default,{style:W,children:[(0,Ft.jsx)(Iv,{style:[kl.mb_xl,kl.mt_sm]}),(0,Ft.jsx)(R7,{})]}),t[57]=Z):Z=t[57],t[58]!==z||t[59]!==q||t[60]!==U?(Q=(0,Ft.jsxs)(Sw.default,{style:B,contentContainerStyle:z,children:[q,U,Z]}),t[58]=z,t[59]=q,t[60]=U,t[61]=Q):Q=t[61],t[62]!==F?(K=(0,Ft.jsx)(v7,{onPressFeedback:F,onPressHelp:E}),t[62]=F,t[63]=K):K=t[63],t[64]!==M||t[65]!==Q||t[66]!==K?($=(0,Ft.jsxs)(wo.default,{testID:"drawer",style:M,children:[Q,K]}),t[64]=M,t[65]=Q,t[66]=K,t[67]=$):$=t[67],$};j7=mt.memo(j7);let v7=e=>{const t=(0,i.c)(20),{onPressFeedback:s,onPressHelp:n}=e,{_:o}=(0,ft.useLingui)(),r=(0,pt.useSafeAreaInsets)(),a=Math.max(r.bottom+eo.xs,eo.xl);let l,c,d,u,m,h,p,f,g,x;return t[0]!==a?(l=[kl.flex_row,kl.gap_sm,kl.flex_wrap,kl.pl_xl,kl.pt_md,{paddingBottom:a}],t[0]=a,t[1]=l):l=t[1],t[2]!==o?(c=o({id:"RoafuO"}),t[2]=o,t[3]=c):c=t[3],t[4]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(Pr,{icon:ZL,position:"left"}),t[4]=d):d=t[4],t[5]===Symbol.for("react.memo_cache_sentinel")?(u=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"YirHq7"})}),t[5]=u):u=t[5],t[6]!==s||t[7]!==c?(m=(0,Ft.jsxs)(Sr,{label:c,size:"small",variant:"solid",color:"secondary",onPress:s,children:[d,u]}),t[6]=s,t[7]=c,t[8]=m):m=t[8],t[9]!==o?(h=o({id:"AWtGgd"}),t[9]=o,t[10]=h):h=t[10],t[11]===Symbol.for("react.memo_cache_sentinel")?(p={backgroundColor:"transparent"},t[11]=p):p=t[11],t[12]===Symbol.for("react.memo_cache_sentinel")?(f=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"c3XJ18"})}),t[12]=f):f=t[12],t[13]!==n||t[14]!==h?(g=(0,Ft.jsx)(Sr,{label:h,size:"small",variant:"outline",color:"secondary",onPress:n,style:p,children:f}),t[13]=n,t[14]=h,t[15]=g):g=t[15],t[16]!==g||t[17]!==l||t[18]!==m?(x=(0,Ft.jsxs)(wo.default,{style:l,children:[m,g]}),t[16]=g,t[17]=l,t[18]=m,t[19]=x):x=t[19],x};v7=mt.memo(v7);let w7=e=>{const t=(0,i.c)(10),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c;return t[0]!==s||t[1]!==r.atoms.text?(a=s?(0,Ft.jsx)(WW,{style:[r.atoms.text],width:y7}):(0,Ft.jsx)(nC,{style:[r.atoms.text],width:y7}),t[0]=s,t[1]=r.atoms.text,t[2]=a):a=t[2],t[3]!==o?(l=o({id:"8tjQCz"}),t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==n||t[7]!==a||t[8]!==l?(c=(0,Ft.jsx)(I7,{icon:a,label:l,bold:s,onPress:n}),t[5]=s,t[6]=n,t[7]=a,t[8]=l,t[9]=c):c=t[9],c};w7=mt.memo(w7);let S7=e=>{const t=(0,i.c)(10),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c;return t[0]!==s||t[1]!==r.atoms.text?(a=s?(0,Ft.jsx)(UW,{style:[r.atoms.text],width:y7}):(0,Ft.jsx)(qW,{style:[r.atoms.text],width:y7}),t[0]=s,t[1]=r.atoms.text,t[2]=a):a=t[2],t[3]!==o?(l=o({id:"i0qMbr"}),t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==n||t[7]!==a||t[8]!==l?(c=(0,Ft.jsx)(I7,{icon:a,label:l,bold:s,onPress:n}),t[5]=s,t[6]=n,t[7]=a,t[8]=l,t[9]=c):c=t[9],c};S7=mt.memo(S7);let k7=e=>{const t=(0,i.c)(10),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c;return t[0]!==s||t[1]!==r.atoms.text?(a=s?(0,Ft.jsx)(WL,{style:[r.atoms.text],width:y7}):(0,Ft.jsx)(ZL,{style:[r.atoms.text],width:y7}),t[0]=s,t[1]=r.atoms.text,t[2]=a):a=t[2],t[3]!==o?(l=o({id:"AHZflp"}),t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==n||t[7]!==a||t[8]!==l?(c=(0,Ft.jsx)(I7,{icon:a,label:l,bold:s,onPress:n}),t[5]=s,t[6]=n,t[7]=a,t[8]=l,t[9]=c):c=t[9],c};k7=mt.memo(k7);let C7=e=>{const t=(0,i.c)(15),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec(),a=Nb();let l,c,d,u;return t[0]!==s||t[1]!==r.atoms.text?(l=s?(0,Ft.jsx)(VW,{style:[r.atoms.text],width:y7}):(0,Ft.jsx)(NW,{style:[r.atoms.text],width:y7}),t[0]=s,t[1]=r.atoms.text,t[2]=l):l=t[2],t[3]!==o?(c=o({id:"iDNBZe"}),t[3]=o,t[4]=c):c=t[4],t[5]!==o||t[6]!==a?(d=""===a?"":o({id:"YZouSu",values:{0:a??0}}||""),t[5]=o,t[6]=a,t[7]=d):d=t[7],t[8]!==s||t[9]!==a||t[10]!==n||t[11]!==l||t[12]!==c||t[13]!==d?(u=(0,Ft.jsx)(I7,{icon:l,label:c,accessibilityHint:d,count:a,bold:s,onPress:n}),t[8]=s,t[9]=a,t[10]=n,t[11]=l,t[12]=c,t[13]=d,t[14]=u):u=t[14],u};C7=mt.memo(C7);let P7=e=>{const t=(0,i.c)(10),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c;return t[0]!==s||t[1]!==r.atoms.text?(a=s?(0,Ft.jsx)(UF,{width:y7,style:[r.atoms.text]}):(0,Ft.jsx)(qF,{width:y7,style:[r.atoms.text]}),t[0]=s,t[1]=r.atoms.text,t[2]=a):a=t[2],t[3]!==o?(l=o({id:"2DoBvq"}),t[3]=o,t[4]=l):l=t[4],t[5]!==s||t[6]!==n||t[7]!==a||t[8]!==l?(c=(0,Ft.jsx)(I7,{icon:a,label:l,bold:s,onPress:n}),t[5]=s,t[6]=n,t[7]=a,t[8]=l,t[9]=c):c=t[9],c};P7=mt.memo(P7);let T7=e=>{const t=(0,i.c)(8),{onPress:s}=e,{_:n}=(0,ft.useLingui)(),o=ec();let r,a,l;return t[0]!==o.atoms.text?(r=(0,Ft.jsx)(RH,{style:[o.atoms.text],width:y7}),t[0]=o.atoms.text,t[1]=r):r=t[1],t[2]!==n?(a=n({id:"h16FyT"}),t[2]=n,t[3]=a):a=t[3],t[4]!==s||t[5]!==r||t[6]!==a?(l=(0,Ft.jsx)(I7,{icon:r,label:a,onPress:s}),t[4]=s,t[5]=r,t[6]=a,t[7]=l):l=t[7],l};T7=mt.memo(T7);let L7=e=>{const t=(0,i.c)(9),{isActive:s,onPress:n}=e,{_:o}=(0,ft.useLingui)(),r=ec();let a,l,c;return t[0]!==s||t[1]!==r.atoms.text?(a=s?(0,Ft.jsx)(QQ,{style:[r.atoms.text],width:y7}):(0,Ft.jsx)(ZQ,{style:[r.atoms.text],width:y7}),t[0]=s,t[1]=r.atoms.text,t[2]=a):a=t[2],t[3]!==o?(l=o({id:"vERlcd"}),t[3]=o,t[4]=l):l=t[4],t[5]!==n||t[6]!==a||t[7]!==l?(c=(0,Ft.jsx)(I7,{icon:a,label:l,onPress:n}),t[5]=n,t[6]=a,t[7]=l,t[8]=c):c=t[8],c};L7=mt.memo(L7);let A7=e=>{const t=(0,i.c)(8),{onPress:s}=e,{_:n}=(0,ft.useLingui)(),o=ec();let r,a,l;return t[0]!==o.atoms.text?(r=(0,Ft.jsx)(LB,{style:[o.atoms.text],width:y7}),t[0]=o.atoms.text,t[1]=r):r=t[1],t[2]!==n?(a=n({id:"Tz0i8g"}),t[2]=n,t[3]=a):a=t[3],t[4]!==s||t[5]!==r||t[6]!==a?(l=(0,Ft.jsx)(I7,{icon:r,label:a,onPress:s}),t[4]=s,t[5]=r,t[6]=a,t[7]=l):l=t[7],l};function I7(e){const t=(0,i.c)(11),{icon:s,label:n,count:o,bold:r,onPress:a}=e,l=ec(),c=`menuItemButton-${n}`;let d,u;return t[0]!==r||t[1]!==o||t[2]!==s||t[3]!==n||t[4]!==l?(d=e=>{const{hovered:t,pressed:i}=e;return(0,Ft.jsxs)(wo.default,{style:[kl.flex_1,kl.flex_row,kl.align_center,kl.gap_md,kl.py_md,kl.px_xl,(t||i)&&l.atoms.bg_contrast_25],children:[(0,Ft.jsxs)(wo.default,{style:[kl.relative],children:[s,o?(0,Ft.jsx)(wo.default,{style:[kl.absolute,kl.inset_0,kl.align_end,{top:-4,right:-1*kl.gap_sm.gap}],children:(0,Ft.jsx)(wo.default,{style:[kl.rounded_full,{right:1===o.length?6:0,paddingHorizontal:4,paddingVertical:1,backgroundColor:l.palette.primary_500}],children:(0,Ft.jsx)(fr,{style:[kl.text_xs,kl.leading_tight,kl.font_bold,{fontVariant:["tabular-nums"],color:sc.white}],numberOfLines:1,children:o})})}):void 0]}),(0,Ft.jsx)(fr,{style:[kl.flex_1,kl.text_2xl,r&&kl.font_heavy,_o(kl.leading_snug)],numberOfLines:1,children:n})]})},t[0]=r,t[1]=o,t[2]=s,t[3]=n,t[4]=l,t[5]=d):d=t[5],t[6]!==n||t[7]!==a||t[8]!==c||t[9]!==d?(u=(0,Ft.jsx)(Sr,{testID:c,onPress:a,accessibilityRole:"tab",label:n,children:d}),t[6]=n,t[7]=a,t[8]=c,t[9]=d,t[10]=u):u=t[10],u}function R7(){const e=(0,i.c)(20),{_:t}=(0,ft.useLingui)(),s=ec(),n=Wc();let o,r,a,l,c,d,u,m,h,p,f;return e[0]===Symbol.for("react.memo_cache_sentinel")?(o=[kl.flex_col,kl.gap_md,kl.flex_wrap],e[0]=o):o=e[0],e[1]===Symbol.for("react.memo_cache_sentinel")?(r=[kl.text_md],e[1]=r):r=e[1],e[2]!==t?(a=t({id:"xowcRf"}),e[2]=t,e[3]=a):a=e[3],e[4]===Symbol.for("react.memo_cache_sentinel")?(l=(0,Ft.jsx)(ft.Trans,{id:"xowcRf"}),e[4]=l):l=e[4],e[5]!==a?(c=(0,Ft.jsx)(fv,{style:r,label:a,to:"https://bsky.social/about/support/tos",children:l}),e[5]=a,e[6]=c):c=e[6],e[7]===Symbol.for("react.memo_cache_sentinel")?(d=[kl.text_md],e[7]=d):d=e[7],e[8]!==t?(u=t({id:"LcET2C"}),e[8]=t,e[9]=u):u=e[9],e[10]===Symbol.for("react.memo_cache_sentinel")?(m=(0,Ft.jsx)(ft.Trans,{id:"LcET2C"}),e[10]=m):m=e[10],e[11]!==u?(h=(0,Ft.jsx)(fv,{style:d,to:"https://bsky.social/about/support/privacy-policy",label:u,children:m}),e[11]=u,e[12]=h):h=e[12],e[13]!==n||e[14]!==s?(p=n&&(0,Ft.jsx)(fr,{style:s.atoms.text_contrast_medium,children:(0,Ft.jsx)(ft.Trans,{id:"4xQ0N2",components:{0:(0,Ft.jsx)(fv,{style:[kl.text_md],to:"/profile/sawaratsuki.bsky.social",label:"@sawaratsuki.bsky.social"})}})}),e[13]=n,e[14]=s,e[15]=p):p=e[15],e[16]!==c||e[17]!==h||e[18]!==p?(f=(0,Ft.jsxs)(wo.default,{style:o,children:[c,h,p]}),e[16]=c,e[17]=h,e[18]=p,e[19]=f):f=e[19],f}function D7(){Yj.default.openURL(ei)}function F7(){const e=(0,i.c)(24),t=ec(),s=Ia(),n=Ra(),{isDesktop:o}=jx(),r=(0,va.useNavigation)(),a=Om(),{_:l}=(0,ft.useLingui)(),c=!o&&s,[d,u]=(0,mt.useState)(c);let m,h,p,f,g,x,_,y,b,j,v,w,S,k;return e[0]!==c||e[1]!==d?(m=()=>{if(c!==d){if(!c){const e=setTimeout((()=>{u(!1)}),160);return()=>clearTimeout(e)}u(!0)}},h=[c,d],e[0]=c,e[1]=d,e[2]=m,e[3]=h):(m=e[2],h=e[3]),(0,mt.useLayoutEffect)(m,h),function(){const e=(0,i.c)(14),{openComposer:t}=tw(),{openDialogs:s}=Jo(),{isModalActive:n}=Wd(),{activeLightbox:o}=zd(),r=Ia(),{hasSession:a}=xh();let l,c;e[0]!==o||e[1]!==a||e[2]!==r||e[3]!==n||e[4]!==t||e[5]!==s?.current?(l=()=>{if(!a)return;const e=function(e){(function(e){const t=e.target||e.srcElement;if(!t)return!1;const{tagName:s}=t;if(!s)return!1;const n="INPUT"===s&&!["checkbox","radio","range","button","file","reset","submit","color"].includes(t.type);return!(!t.isContentEditable&&(!n&&"TEXTAREA"!==s&&"SELECT"!==s||t.readOnly))})(e)||s?.current.size>0||n||o||r||"n"!==e.key&&"N"!==e.key||t({})};return document.addEventListener("keydown",e),()=>document.removeEventListener("keydown",e)},e[0]=o,e[1]=a,e[2]=r,e[3]=n,e[4]=t,e[5]=s?.current,e[6]=l):l=e[6],e[7]!==o||e[8]!==a||e[9]!==r||e[10]!==n||e[11]!==t||e[12]!==s?(c=[t,n,s,o,r,a],e[7]=o,e[8]=a,e[9]=r,e[10]=n,e[11]=t,e[12]=s,e[13]=c):c=e[13],mt.useEffect(l,c)}(),dw(),e[4]!==a||e[5]!==r?(p=()=>r.addListener("state",(()=>{a()})),f=[r,a],e[4]=a,e[5]=r,e[6]=p,e[7]=f):(p=e[6],f=e[7]),(0,mt.useEffect)(p,f),e[8]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(WD,{children:(0,Ft.jsx)(K2,{})}),y=(0,Ft.jsx)(h7,{winHeight:0}),b=(0,Ft.jsx)(D3,{}),j=(0,Ft.jsx)(w4,{}),v=(0,Ft.jsx)(T4,{}),w=(0,Ft.jsx)(Jv,{}),g=(0,Ft.jsx)(_w,{}),x=(0,Ft.jsx)(Ur,{}),e[8]=g,e[9]=x,e[10]=_,e[11]=y,e[12]=b,e[13]=j,e[14]=v,e[15]=w):(g=e[8],x=e[9],_=e[10],y=e[11],b=e[12],j=e[13],v=e[14],w=e[15]),e[16]!==l||e[17]!==n||e[18]!==c||e[19]!==d||e[20]!==t?(S=d&&(0,Ft.jsxs)(Ft.Fragment,{children:[(0,Ft.jsx)(Fo.RemoveScrollBar,{}),(0,Ft.jsx)(Ao.default,{onPress:e=>{e.target===e.currentTarget&&n(!1)},accessibilityLabel:l({id:"yMKjt1"}),accessibilityHint:"",children:(0,Ft.jsx)(wo.default,{style:[M7.drawerMask,{backgroundColor:c?Zl(t.name,{light:"rgba(0, 57, 117, 0.1)",dark:"rgba(1, 82, 168, 0.1)",dim:"rgba(10, 13, 16, 0.8)"}):"transparent"},kl.transition_color],children:(0,Ft.jsx)(wo.default,{style:[M7.drawerContainer,c?kl.slide_in_left:kl.slide_out_left],children:(0,Ft.jsx)(j7,{})})})})]}),e[16]=l,e[17]=n,e[18]=c,e[19]=d,e[20]=t,e[21]=S):S=e[21],e[22]!==S?(k=(0,Ft.jsxs)(Ft.Fragment,{children:[_,y,b,j,v,w,g,x,S]}),e[22]=S,e[23]=k):k=e[23],k}A7=mt.memo(A7);const E7=function(){const e=(0,i.c)(5),t=bj(M7.bgLight,M7.bgDark);let s,n,o;return e[0]!==t?(s=[kl.util_screen_outer,t],e[0]=t,e[1]=s):s=e[1],e[2]===Symbol.for("react.memo_cache_sentinel")?(n=(0,Ft.jsx)(G2,{children:(0,Ft.jsx)(F7,{})}),e[2]=n):n=e[2],e[3]!==s?(o=(0,Ft.jsx)(wo.default,{style:s,children:n}),e[3]=s,e[4]=o):o=e[4],o},M7=Gn.default.create({bgLight:{backgroundColor:sc.white},bgDark:{backgroundColor:sc.black},drawerMask:Object.assign({},kl.fixed,{width:"100%",height:"100%",top:0,left:0}),drawerContainer:Object.assign({display:"flex"},kl.fixed,{top:0,left:0,height:"100%",width:330,maxWidth:"80%"})});var B7=s(94134);function O7(){const e=(0,i.c)(3),t=function(){const e=(0,i.c)(4),t=(0,B7.default)(),{colorMode:s,darkTheme:n}=Ca();let o;e[0]!==s||e[1]!==t||e[2]!==n?(o=function(e,t,s){return"system"===t&&"light"===e||"light"===t?"light":s??"dim"}(t,s,n),e[0]=s,e[1]=t,e[2]=n,e[3]=o):o=e[3];return o}();let s,n;return e[0]!==t?(s=()=>{!function(e){if(Pt){const t=window.document.documentElement,s=window.document.querySelector('meta[name="theme-color"]');t.className=t.className.replace(/(theme)--\w+/g,""),t.classList.add(`theme--${e}`),s?.setAttribute("content",function(e){switch(e){case"light":return Bl.atoms.bg.backgroundColor;case"dark":return Ol.atoms.bg.backgroundColor;case"dim":return zl.atoms.bg.backgroundColor}}(e))}}(t)},n=[t],e[0]=t,e[1]=s,e[2]=n):(s=e[1],n=e[2]),mt.useLayoutEffect(s,n),t}const z7=zr({path:"M12 2a1 1 0 0 1 1 1c0 3.188.669 5.256 1.882 6.536C16.084 10.805 18.01 11.5 21 11.5a1 1 0 1 1 0 2c-2.99 0-4.916.695-6.118 1.964C13.67 16.744 13 18.812 13 22a1 1 0 1 1-2 0c0-3.188-.669-5.256-1.882-6.536C7.916 14.195 5.99 13.5 3 13.5a1 1 0 1 1 0-2c2.99 0 4.916-.695 6.118-1.964C10.33 8.256 11 6.188 11 3a1 1 0 0 1 1-1Zm0 6.734a7.608 7.608 0 0 1-1.43 2.178A7.285 7.285 0 0 1 8.349 12.5c.846.397 1.589.921 2.22 1.588A7.607 7.607 0 0 1 12 16.267a7.607 7.607 0 0 1 1.43-2.179 7.284 7.284 0 0 1 2.221-1.588 7.284 7.284 0 0 1-2.22-1.588A7.608 7.608 0 0 1 12 8.734Z"});function H7(){const e=(0,i.c)(86),t=ec(),{_:n}=(0,ft.useLingui)(),{gtMobile:o}=ql(),r=mt.useContext(q7),a=Ar();let l;!function(e,t){const s=(0,i.c)(4);let n,o;s[0]!==e||s[1]!==t?(n=()=>{if(t){const s=setTimeout((()=>{e.open()}),t);return()=>{clearTimeout(s)}}e.open()},o=[e,t],s[0]=e,s[1]=t,s[2]=n,s[3]=o):(n=s[2],o=s[3]),mt.useEffect(n,o)}(a),e[0]!==r?(l=()=>{r.dismissActiveNux()},e[0]=r,e[1]=l):l=e[1];const c=l;let d,u,m,h,p,f,g,x,_,y,b,j,v,w,S,k,C,P,T,L,A,I,R,D,F,E,M,B,O,z,H,N,V,q,U,W,Z,Q,K,$,G,Y,J,X,ee,te,se,ne;return e[2]===Symbol.for("react.memo_cache_sentinel")?(d=(0,Ft.jsx)(ha,{}),e[2]=d):d=e[2],e[3]!==n?(u=n({id:"nx5zbz"}),e[3]=n,e[4]=u):u=e[4],e[5]!==o?(m=o?{width:"auto",maxWidth:400,minWidth:200}:kl.w_full,e[5]=o,e[6]=m):m=e[6],e[7]!==m?(h=[m],e[7]=m,e[8]=h):h=e[8],e[9]===Symbol.for("react.memo_cache_sentinel")?(p=[kl.align_start,kl.gap_xl],e[9]=p):p=e[9],e[10]!==t.palette.primary_25?(f=[kl.pl_sm,kl.pr_md,kl.py_sm,kl.rounded_full,kl.flex_row,kl.align_center,kl.gap_xs,{backgroundColor:t.palette.primary_25}],e[10]=t.palette.primary_25,e[11]=f):f=e[11],e[12]!==t.palette.primary_700?(g=(0,Ft.jsx)(z7,{fill:t.palette.primary_700,size:"sm"}),e[12]=t.palette.primary_700,e[13]=g):g=e[13],e[14]!==t.palette.primary_700?(x=[kl.font_bold,{color:t.palette.primary_700}],e[14]=t.palette.primary_700,e[15]=x):x=e[15],e[16]===Symbol.for("react.memo_cache_sentinel")?(_=(0,Ft.jsx)(ft.Trans,{id:"gdTBff"}),e[16]=_):_=e[16],e[17]!==x?(y=(0,Ft.jsx)(fr,{style:x,children:_}),e[17]=x,e[18]=y):y=e[18],e[19]!==y||e[20]!==f||e[21]!==g?(b=(0,Ft.jsxs)(wo.default,{style:f,children:[g,y]}),e[19]=y,e[20]=f,e[21]=g,e[22]=b):b=e[22],e[23]===Symbol.for("react.memo_cache_sentinel")?(j={minHeight:100},e[23]=j):j=e[23],e[24]!==t.atoms.bg_contrast_25?(v=[kl.w_full,kl.rounded_md,kl.overflow_hidden,t.atoms.bg_contrast_25,j],e[24]=t.atoms.bg_contrast_25,e[25]=v):v=e[25],e[26]===Symbol.for("react.memo_cache_sentinel")?(w=s(51620),S=[{aspectRatio:2.20625}],e[26]=w,e[27]=S):(w=e[26],S=e[27]),e[28]!==n?(k=n({id:"e/MhYH"}),e[28]=n,e[29]=k):k=e[29],e[30]!==k?(C=(0,Ft.jsx)(SS.Image,{accessibilityIgnoresInvertColors:!0,source:w,style:S,alt:k}),e[30]=k,e[31]=C):C=e[31],e[32]!==v||e[33]!==C?(P=(0,Ft.jsx)(wo.default,{style:v,children:C}),e[32]=v,e[33]=C,e[34]=P):P=e[34],e[35]===Symbol.for("react.memo_cache_sentinel")?(T=[kl.gap_xs],e[35]=T):T=e[35],e[36]===Symbol.for("react.memo_cache_sentinel")?(L=(0,Ft.jsx)(fr,{style:[kl.text_2xl,kl.font_bold,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"8CB6gi"})}),e[36]=L):L=e[36],e[37]===Symbol.for("react.memo_cache_sentinel")?(A=(0,Ft.jsxs)(wo.default,{style:T,children:[L,(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"+BFXYm"})})]}),e[37]=A):A=e[37],e[38]===Symbol.for("react.memo_cache_sentinel")?(I={minHeight:100},e[38]=I):I=e[38],e[39]!==t.atoms.bg_contrast_25?(R=[kl.w_full,kl.rounded_md,kl.overflow_hidden,t.atoms.bg_contrast_25,I],e[39]=t.atoms.bg_contrast_25,e[40]=R):R=e[40],e[41]===Symbol.for("react.memo_cache_sentinel")?(D=s(18816),F=[{aspectRatio:1.8010204081632653}],e[41]=D,e[42]=F):(D=e[41],F=e[42]),e[43]!==n?(E=n({id:"KYLfP6"}),e[43]=n,e[44]=E):E=e[44],e[45]!==E?(M=(0,Ft.jsx)(SS.Image,{accessibilityIgnoresInvertColors:!0,source:D,style:F,alt:E}),e[45]=E,e[46]=M):M=e[46],e[47]!==R||e[48]!==M?(B=(0,Ft.jsx)(wo.default,{style:R,children:M}),e[47]=R,e[48]=M,e[49]=B):B=e[49],e[50]===Symbol.for("react.memo_cache_sentinel")?(O=[kl.gap_sm],e[50]=O):O=e[50],e[51]===Symbol.for("react.memo_cache_sentinel")?(z=[kl.flex_row,kl.align_center,kl.gap_xs],H=(0,Ft.jsx)(Wk,{width:14}),e[51]=z,e[52]=H):(z=e[51],H=e[52]),e[53]===Symbol.for("react.memo_cache_sentinel")?(N=(0,Ft.jsxs)(wo.default,{style:z,children:[H,(0,Ft.jsx)(fr,{style:[kl.text_lg,kl.font_bold,kl.leading_snug],children:(0,Ft.jsx)(ft.Trans,{id:"HbD4qE"})})]}),e[53]=N):N=e[53],e[54]===Symbol.for("react.memo_cache_sentinel")?(V=[kl.gap_sm],e[54]=V):V=e[54],e[55]===Symbol.for("react.memo_cache_sentinel")?(q=(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"GT08QB"})}),e[55]=q):q=e[55],e[56]===Symbol.for("react.memo_cache_sentinel")?(U=[kl.leading_snug,kl.text_md],e[56]=U):U=e[56],e[57]===Symbol.for("react.memo_cache_sentinel")?(W=(0,Ft.jsx)(fr,{style:U,children:(0,Ft.jsx)(ft.Trans,{id:"V5Bl0F",components:{0:(0,Ft.jsx)(ur.default,{style:[kl.font_bold]})}})}),e[57]=W):W=e[57],e[58]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,Ft.jsxs)(wo.default,{style:O,children:[N,(0,Ft.jsxs)(wo.default,{style:V,children:[q,W,(0,Ft.jsx)(fr,{style:[kl.leading_snug,kl.text_md],children:(0,Ft.jsx)(ft.Trans,{id:"Vkwe+H"})})]})]}),e[58]=Z):Z=e[58],e[59]===Symbol.for("react.memo_cache_sentinel")?(Q=[kl.w_full,kl.gap_md],e[59]=Q):Q=e[59],e[60]!==n?(K=n({id:"jWraiQ"}),e[60]=n,e[61]=K):K=e[61],e[62]===Symbol.for("react.memo_cache_sentinel")?($=[kl.justify_center,kl.w_full],e[62]=$):$=e[62],e[63]===Symbol.for("react.memo_cache_sentinel")?(G=(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"jWraiQ"})}),e[63]=G):G=e[63],e[64]!==K?(Y=(0,Ft.jsx)(pv,{overridePresentation:!0,to:Zi.website.blog.initialVerificationAnnouncement,label:K,size:"small",variant:"solid",color:"primary",style:$,onPress:N7,children:G}),e[64]=K,e[65]=Y):Y=e[65],e[66]!==n||e[67]!==a?(J=kt&&(0,Ft.jsx)(Sr,{label:n({id:"yz7wBu"}),size:"small",variant:"solid",color:"secondary",style:[kl.justify_center,kl.w_full],onPress:()=>{a.close()},children:(0,Ft.jsx)(Cr,{children:(0,Ft.jsx)(ft.Trans,{id:"yz7wBu"})})}),e[66]=n,e[67]=a,e[68]=J):J=e[68],e[69]!==Y||e[70]!==J?(X=(0,Ft.jsxs)(wo.default,{style:Q,children:[Y,J]}),e[69]=Y,e[70]=J,e[71]=X):X=e[71],e[72]!==b||e[73]!==P||e[74]!==B||e[75]!==X?(ee=(0,Ft.jsxs)(wo.default,{style:p,children:[b,P,A,B,Z,X]}),e[72]=b,e[73]=P,e[74]=B,e[75]=X,e[76]=ee):ee=e[76],e[77]===Symbol.for("react.memo_cache_sentinel")?(te=(0,Ft.jsx)(ma,{}),e[77]=te):te=e[77],e[78]!==u||e[79]!==h||e[80]!==ee?(se=(0,Ft.jsxs)(da,{label:u,style:h,children:[ee,te]}),e[78]=u,e[79]=h,e[80]=ee,e[81]=se):se=e[81],e[82]!==a||e[83]!==c||e[84]!==se?(ne=(0,Ft.jsxs)(aa,{control:a,onClose:c,children:[d,se]}),e[82]=a,e[83]=c,e[84]=se,e[85]=ne):ne=e[85],ne}function N7(){ys.metric("verification:learn-more",{location:"initialAnnouncementeNux"})}const V7=[{id:vJ.InitialVerificationAnnouncement,enabled:({currentProfile:e})=>function(e,t){if(!t)return!1;const s=Date.now();return!!(new Date(t).getTime()+864e5*e<s)}(2,e.createdAt)}],q7=mt.createContext({activeNux:void 0,dismissActiveNux:()=>{}});function U7(){const e=(0,i.c)(7),{currentAccount:t}=xh(),{data:s}=Fh(),n=t?.did;let o;e[0]!==n?(o={did:n},e[0]=n,e[1]=o):o=e[1];const{data:r}=ub(o),a=Qa().isActive||!t||!s||!r||!r.createdAt||"0001-01-01T00:00:00.000Z"===r.createdAt;let l;return e[2]!==t||e[3]!==a||e[4]!==s||e[5]!==r?(l=a?null:(0,Ft.jsx)(W7,{currentAccount:t,currentProfile:r,preferences:s}),e[2]=t,e[3]=a,e[4]=s,e[5]=r,e[6]=l):l=e[6],l}function W7({currentAccount:e,currentProfile:t,preferences:s}){const n=On(),{nuxs:o}=TJ(),[r,a]=mt.useState((()=>function(){const e=Tn.get(["lastNuxDialog"]);return!!e&&!!Pd(new Date(e),new Date)}())),[l,c]=mt.useState(),{mutateAsync:d}=LJ(),{mutate:u}=function(){const e=(0,i.c)(3),t=(0,wd.useQueryClient)(),s=bh();let n;return e[0]!==s||e[1]!==t?(n={retry:3,mutationFn:async e=>{await s.bskyAppRemoveNuxs(e),await t.invalidateQueries({queryKey:Dh})}},e[0]=s,e[1]=t,e[2]=n):n=e[2],(0,Sd.useMutation)(n)}(),m=mt.useCallback((()=>{Tn.set(["lastNuxDialog"],(new Date).toISOString()),a(!0)}),[a]),h=mt.useCallback((()=>{l&&c(void 0)}),[l,c]);mt.useEffect((()=>{if(!r&&o)for(const{id:r,enabled:i}of V7){const a=o.find((e=>e.id===r));if((!a||!a.completed)&&(!i||i({gate:n,currentAccount:e,currentProfile:t,preferences:s}))){ys.debug(`NUX dialogs: activating '${r}' NUX`),c(r),m(),d({id:r,completed:!0,data:void 0}).catch((e=>{ys.error(`NUX dialogs: failed to upsert '${r}' NUX`,{safeMessage:e.message})}));break}}}),[o,r,m,d,n,e,t,s]);const p=mt.useMemo((()=>({activeNux:l,dismissActiveNux:h})),[l,h]);return(0,Ft.jsx)(q7.Provider,{value:p,children:l===vJ.InitialVerificationAnnouncement&&(0,Ft.jsx)(H7,{})})}function Z7(){const[e,t]=mt.useState(!1),{currentAccount:s}=xh(),{resumeSession:n}=_h(),o=O7(),{_:r}=(0,ft.useLingui)(),a=function(){const e=(0,i.c)(3),[t,s]=mt.useState(!1),n=Jb();let o,r;return e[0]!==n?(o=()=>{const e=window.location.href,t=ru(e);if(t){const s="true"===new URL(e).searchParams.get("clip");n({uri:t,isClip:s})}s(!0)},r=[n],e[0]=n,e[1]=o,e[2]=r):(o=e[1],r=e[2]),mt.useEffect(o,r),t}();return(0,mt.useEffect)((()=>{const e=function(){const{currentAccount:e,accounts:t}=gn("session");return t.find((t=>t.did===e?.did))}();!async function(e){try{e&&await n(e)}catch(s){ys.error("session: resumeSession failed",{message:s})}finally{t(!0)}}(e)}),[n]),(0,mt.useEffect)((()=>function(e){return It.on("session-dropped",e),()=>It.off("session-dropped",e)}((()=>{Zu(r({id:"vxQK+k"}),"info")}))),[r]),e&&a?(0,Ft.jsx)(Gl,{theme:o,children:(0,Ft.jsx)(uc,{theme:o,children:(0,Ft.jsx)(u$,{children:(0,Ft.jsx)(ht.RootSiblingParent,{children:(0,Ft.jsx)(_j,{children:(0,Ft.jsx)(gj,{children:(0,Ft.jsxs)(mt.Fragment,{children:[(0,Ft.jsx)(Wt,{currentDid:s?.did,children:(0,Ft.jsx)(Mm,{children:(0,Ft.jsx)(qn,{children:(0,Ft.jsx)(xf,{children:(0,Ft.jsx)(Wh,{children:(0,Ft.jsx)(zp,{children:(0,Ft.jsx)(tj,{children:(0,Ft.jsx)(aj,{children:(0,Ft.jsx)(zf,{children:(0,Ft.jsx)(hp,{children:(0,Ft.jsx)(Hb,{children:(0,Ft.jsx)(hY,{children:(0,Ft.jsx)(Jh,{children:(0,Ft.jsx)(pt.SafeAreaProvider,{children:(0,Ft.jsx)(rb,{children:(0,Ft.jsx)(Wb,{children:(0,Ft.jsx)(hj,{children:(0,Ft.jsxs)(aw,{children:[(0,Ft.jsx)(E7,{}),(0,Ft.jsx)(U7,{})]})})})})})})})})})})})})})})})})})}),(0,Ft.jsx)(Wu,{})]},s?.did)})})})})})}):null}ip=new Promise((async e=>{let t=!0;try{const e=await rp();if(!e)throw new Error("geolocation: nothing returned from initial request");Tn.set(["geolocation"],e),sp(e),ys.debug("geolocation: success",{geolocation:e})}catch(s){t=!1,ys.debug("geolocation: failed initial request",{safeMessage:s.message}),Tn.set(["geolocation"],op),Nm(3,rp).then((e=>{if(!e)throw new Error("geolocation: nothing returned from retries");Tn.set(["geolocation"],e),sp(e),ys.debug("geolocation: success",{geolocation:e}),t=!0})).catch((e=>{ys.debug("geolocation: failed retries",{safeMessage:e.message})}))}finally{e({success:t})}}));const Q7=a.wrap((function(){const e=(0,i.c)(3),[t,s]=(0,mt.useState)(!1);let n,o,r;return e[0]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{Promise.all([fn(),ap()]).then((()=>s(!0)))},o=[],e[0]=n,e[1]=o):(n=e[0],o=e[1]),mt.useEffect(n,o),t?(e[2]===Symbol.for("react.memo_cache_sentinel")?(r=(0,Ft.jsx)(cp,{children:(0,Ft.jsx)(Oo,{children:(0,Ft.jsx)(gh,{children:(0,Ft.jsx)(Qh,{children:(0,Ft.jsx)($h,{children:(0,Ft.jsx)(Xa,{children:(0,Ft.jsx)(xp,{children:(0,Ft.jsx)(qd,{children:(0,Ft.jsx)(er,{children:(0,Ft.jsx)(Od,{children:(0,Ft.jsx)(qr,{children:(0,Ft.jsx)(Gb,{children:(0,Ft.jsx)(Z7,{})})})})})})})})})})})})}),e[2]=r):r=e[2],r):null}));(0,r.default)(Q7)},54993:()=>{window.__BUNDLE_START_TIME__=performance.now()},27124:()=>{},57761:()=>{},81125:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/InterVariable-Italic.01dcbad1bac635f9c9cd.woff2"},26167:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/InterVariable.c504db5c06caaf7cdfba.woff2"},51620:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/initial_verification_announcement_1.4af8e3a4883c4245d6e6.png"},18816:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/initial_verification_announcement_2.8c893509725d4dbc984b.png"},99044:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/kawaii.845d3efa31b8cd01ad2c.png"},51805:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/kawaii_smol.b3d15ded6ae36409ca18.png"},46794:(e,t,s)=>{"use strict";e.exports=s.p+"static/media/logo.755f93713675760cb738.png"},44844:()=>{},47165:()=>{},36429:()=>{},29275:()=>{}},t={};function s(n){var o=t[n];if(void 0!==o)return o.exports;var r=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(r.exports,r,r.exports,s),r.loaded=!0,r.exports}s.m=e,s.amdO={},(()=>{var e=[];s.O=(t,n,o,r)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,o,r]=e[d],a=!0,l=0;l<n.length;l++)(!1&r||i>=r)&&Object.keys(s.O).every((e=>s.O[e](n[l])))?n.splice(l--,1):(a=!1,r<i&&(i=r));if(a){e.splice(d--,1);var c=o();void 0!==c&&(t=c)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[n,o,r]}})(),s.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return s.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;s.t=function(n,o){if(1&o&&(n=this(n)),8&o)return n;if("object"===typeof n&&n){if(4&o&&n.__esModule)return n;if(16&o&&"function"===typeof n.then)return n}var r=Object.create(null);s.r(r);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&o&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,s.d(r,i),r}})(),s.d=(e,t)=>{for(var n in t)s.o(t,n)&&!s.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},s.f={},s.e=e=>Promise.all(Object.keys(s.f).reduce(((t,n)=>(s.f[n](e,t),t)),[])),s.u=e=>"static/js/"+e+"."+{19:"00d5b72d",39:"9a039d36",77:"2669973d",82:"8cf59b8e",92:"48253e8b",101:"c6259094",108:"75c7e4db",145:"11c42bbd",251:"10e4d8fa",262:"ed1ed9fd",288:"96924821",328:"e2bb6239",348:"ef7240b4",373:"66c5e245",418:"c8760c27",419:"08644d8d",470:"99aa97ff",491:"861264a7",508:"53920f27",521:"dce2bd30",528:"ef96acee",640:"aa720da0",660:"45151a09",666:"0e165871",667:"a216c071",697:"36e85156",703:"6ccd1525",742:"13b03e28",767:"8779fa61",777:"3f674524",789:"8c9d6da2",792:"f4b11509",812:"698ffafd",850:"80825990",871:"546e1bd7",874:"c37f15e3",889:"29eca7c0",905:"fa9ae05b",930:"0f6d78e9",931:"81dc1899",936:"71300685",953:"dd1882ad",977:"da6ac90e",982:"7a2175a1"}[e]+".chunk.js",s.miniCssF=e=>{},s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),s.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="web:";s.l=(n,o,r,i)=>{if(e[n])e[n].push(o);else{var a,l;if(void 0!==r)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==n||u.getAttribute("data-webpack")==t+r){a=u;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,s.nc&&a.setAttribute("nonce",s.nc),a.setAttribute("data-webpack",t+r),a.src=n),e[n]=[o];var m=(t,s)=>{a.onerror=a.onload=null,clearTimeout(h);var o=e[n];if(delete e[n],a.parentNode&&a.parentNode.removeChild(a),o&&o.forEach((e=>e(s))),t)return t(s)},h=setTimeout(m.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=m.bind(null,a.onerror),a.onload=m.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),s.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e;s.g.importScripts&&(e=s.g.location+"");var t=s.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var n=t.getElementsByTagName("script");if(n.length)for(var o=n.length-1;o>-1&&!e;)e=n[o--].src}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),s.p=e+"../../"})(),(()=>{var e={179:0};s.f.j=(t,n)=>{var o=s.o(e,t)?e[t]:void 0;if(0!==o)if(o)n.push(o[2]);else{var r=new Promise(((s,n)=>o=e[t]=[s,n]));n.push(o[2]=r);var i=s.p+s.u(t),a=new Error;s.l(i,(n=>{if(s.o(e,t)&&(0!==(o=e[t])&&(e[t]=void 0),o)){var r=n&&("load"===n.type?"missing":n.type),i=n&&n.target&&n.target.src;a.message="Loading chunk "+t+" failed.\n("+r+": "+i+")",a.name="ChunkLoadError",a.type=r,a.request=i,o[1](a)}}),"chunk-"+t,t)}},s.O.j=t=>0===e[t];var t=(t,n)=>{var o,r,[i,a,l]=n,c=0;if(i.some((t=>0!==e[t]))){for(o in a)s.o(a,o)&&(s.m[o]=a[o]);if(l)var d=l(s)}for(t&&t(n);c<i.length;c++)r=i[c],s.o(e,r)&&e[r]&&e[r][0](),e[r]=0;return s.O(d)},n=self.webpackChunkweb=self.webpackChunkweb||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})(),s.nc=void 0;var n=s.O(void 0,[22],(()=>s(59804)));n=s.O(n)})();
//# sourceMappingURL=main.c7ba7925.js.map